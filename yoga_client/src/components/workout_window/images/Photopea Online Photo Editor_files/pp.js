(function(){var ec={};ec.aky=function(r,Q){var W=N.h8[N.JW("%|xK")];if(W==null)return"XYP";var b=r.toString(16).slice(0,4),X=b+Q+"aQYRDCB";
return W(X).slice(5,17)+b.split("").reverse().join("")};ec.VP=function(){var r=N.h8[N.ez("3M"+(N.tp(26)?"]K":"fa"))];
r=r[N.ez("]["+(!N.tp(28)?",":"`"))];return Math.floor(r()/1e3)};ec.tp=function(r){var Q=0;for(var n=0;
n<r;n++)Q+=Math.random();return Q/r<Math.PI/4};ec.ez=function(r){var Q="";if(!ec.tp(28))r+="-3";for(var n=0;
n<r.length;n++){var W=r.charCodeAt(n);if(W<32||126<W)throw"e";Q+=String.fromCharCode(32+(W-32+17+3*n)%95)}return Q};
ec.JW=function(r){var Q="";if(!ec.tp(28))r+="-1";for(var n=0;n<r.length;n++){var W=r.charCodeAt(n);W-=32;
W+=95e4;W-=17+3*n;W=W%95;Q+=String.fromCharCode(32+W)}return Q};ec.QH=ec.ez("XP");ec.jN=ec.ez("XYP");
ec.sd=ec.ez("c[Y");ec.adz=ec.ez("][`");ec.aex=ec.ez("SU_");ec.dy=ec.ez("b^L");ec.aow=ec.ez("61=");ec.Hb=ec.ez("Q[M_");
ec.ny=ec.ez("WQJJ");ec.$n=ec.ez("W^NL");ec.oQ=ec.ez("[[JJ");ec.avI=ec.ez("[[PU");ec.Uh=ec.ez("^\\NT");
ec.axA=ec.ez("bQUL");ec.wU=ec.ez("bQWJ");ec.tY=ec.ez("3M]K");ec.a9F=ec.ez("<M]N");ec.i5=ec.ez("][WK");
ec.adG=ec.ez("P_bTF");ec.Cl=ec.ez("RXRIN");ec.it=ec.ez("b`bRH");ec.tZ=ec.ez("fUMZK");ec.ao3=ec.ez("Q[]ZRM");
ec.ae_=ec.ez("WQRMKT");ec.FH=ec.ez("XR[GPE");ec.axG=ec.ez("aMWJRM");ec.aa7=ec.ez("bO[OST");ec.V$=ec.ez("cM[MHT");
ec.att=ec.ez("^Z5OQE");ec.XP=ec.ez("R[WLLRJ");ec.amC=ec.ez("SU\\VOAV");ec.ayh=ec.ez("XZMK[/C");ec.Gn=ec.ez("aQYRDCB");
ec.wC=ec.ez("[[LGWILH");ec.GE=ec.ez("S[L[PEKN");ec.Oa=ec.ez("aQOKURBL");ec.Nf=ec.ez("aQ\\VRNP?");ec.ain=ec.ez("XZWKU(1'#");
ec.anw=ec.ez("SQLUGE2, ");ec.aeo=ec.ez("]M_OJAQII");ec.N_=ec.ez("bQ]:LMBILH");ec.abd=ec.ez("UU[YW#ECC8");
ec.OK=ec.ez("cQaZ&OKN<BE");ec.fY=ec.ez("P\\YKQD B@@5");ec.cv=ec.ez("aQVUYE B@@5");ec.iN=ec.ez("bQ]'WTOC9IE3");
ec.abL=ec.ez("XZ\\KUT~?=CC3");ec.zO=ec.ez("R^NGWE\"F<A6<?");ec.aiu=ec.ez("VQ]+OEJ?EHrGs,");ec.aU=ec.ez("G95.WTM,<EF3><");
ec.pS=ec.ez("PPM+YEKN#=DB06*4");function h8(r){this.uJ={};this.RB=0;this.KB();if(r!=!0)window.__kb=this}h8.wH=null;
h8.prototype.KB=function(){var r=navigator.keyboard;if(r&&window.top==window.self)r.getLayoutMap().then(function(Q){h8.wH=Q})};
h8.prototype.ajE=function(r){var Q={shiftKey:h8.NN,altKey:h8._I,ctrlKey:h8.DS};for(var W in Q){var b=r[W],X=Q[W],D=this.j(X);
if(!b&&D){for(var n=0;n<X.gn.length;n++)this.WA(X.gn[n])}}};h8.prototype.oK=function(r){this.RB++;this.uJ[r]=!0};
h8.prototype.WA=function(r){this.RB--;delete this.uJ[r];if(this.RB<=0||h8.Gx(r,h8.A1))this.reset()};
h8.prototype.j=function(r){for(var n=0;n<r.gn.length;n++)if(this.uJ[r.gn[n]])return!0;return!1};h8.prototype.reset=function(){this.uJ={};
this.RB=0};h8.prototype.pG=function(r){var Q=this,W=Q.j(h8.NN)?10:1,b=0,X=0;if(Q.j(h8.$p))b=-W;else if(Q.j(h8.VD))b=W;
else if(Q.j(h8.Rb))X=-W;else if(Q.j(h8.v1))X=W;var D=new cp(b,X);if(r!=null){var h=new au;h.rotate(r);
D=h.lE(D);if(Math.abs(D.x)<Math.abs(D.y))D.x=0;else D.y=0;D.x=Math.round(D.x);D.y=Math.round(D.y)}return D};
h8.prototype.Jr=function(){var r=this,Q=h8.Np;for(var n=0;n<10;n++)if(r.j(Q[n]))return n;return-1};h8.Gx=function(r,Q){return Q.gn.indexOf(r)!=-1};
h8.amk="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
h8.SR=function(r){var Q=r.code;if(Q=="")return!1;var W=h8.Gx;if(r.altKey&&!r.shiftKey&&!r.ctrlKey){var b=h8.Np.concat([h8.Ex,h8.Ek,h8.NR,h8.v6]),X=!1;
for(var n=0;n<b.length;n++)if(W(Q,b[n]))return!1}return h8.amk.indexOf(Q)==-1||r.shiftKey&&(Q=="F5"||Q=="F6")};
h8.KK=function(r){if(typeof r=="string")return r;var Q=navigator.platform.toUpperCase().indexOf("MAC")>=0;
if(r==null)return"";var W=[];for(var n=0;n<r.length;n++){var b=r[n].PJ?r[n].PJ:r[n];if(Q&&r[n].Yv)b=r[n].Yv;
W.push(b)}if(Q||W.length==1)return W.join(" + ");else{var X=W.pop();return W.join("+")+" + "+X}};h8.X_=function(r){window.__kb.KB();
var Q=r.code,W=h8.wH;if(W&&W.get(Q)){var b={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},X=W.get(Q).toLowerCase(),D=X.charCodeAt(0);
if(97<=D&&D<=122){var h="Key"+X.toUpperCase();Q=h}else if(b[X])Q=b[X];return Q}var b={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},X=r.key.toLowerCase(),D=X.charCodeAt(0);
if(X.length==1){if(97<=D&&D<=122){var h="Key"+X.toUpperCase();Q=h}else if(b[X])Q=b[X]}if(X=="control"&&Q!="")Q="ControlLeft";
return Q};h8.s6=0;h8.rr=function(r,Q){var W=0;if(Date.now()-h8.s6>1e3){W=Q==0?100:Q*10}else{if(r%10!=0)r*=10;
W=(r+Q)%100}h8.s6=Date.now();return W};h8.apx={nm:"No Touch",gn:["NoTouch"]};h8.Cj={PJ:"Enter",gn:["Enter","NumpadEnter"]};
h8.NN={PJ:"Shift",Yv:"\u21E7",gn:["ShiftLeft","ShiftRight"]};h8.A1={PJ:"Meta",gn:["MetaLeft","MetaRight","OSLeft","OSRight"]};
h8.DS={PJ:"Ctrl",Yv:"\u2318",gn:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
h8._I={PJ:"Alt",Yv:"\u2325",gn:["AltLeft","AltRight"]};h8.aci={PJ:"CtrlOrAlt",gn:h8.DS.gn.concat(h8._I.gn)};
h8.V2={PJ:"Escape",gn:["Escape"]};h8.ye={PJ:"Space",gn:["Space"]};h8.jV={PJ:"Tab",gn:["Tab"]};h8.V3={PJ:"Home",gn:["Home"]};
h8.a7Z={PJ:"End",gn:["End"]};h8.$p={PJ:"Left",gn:["ArrowLeft"]};h8.Rb={PJ:"Up",gn:["ArrowUp"]};h8.VD={PJ:"Right",gn:["ArrowRight"]};
h8.v1={PJ:"Down",gn:["ArrowDown"]};h8.Ex={PJ:"+",gn:["NumpadAdd","Equal"]};h8.Ek={PJ:"-",gn:["NumpadSubtract","Minus"]};
h8.za={PJ:";",gn:["Semicolon"]};h8.aq4={PJ:"Dead",gn:["Dead"]};h8.avp={PJ:"=",gn:["Equal"]};h8.$G={PJ:"Backspace",gn:["Backspace"]};
h8.ZI={PJ:"Delete",gn:["Delete"]};h8.asz={PJ:"Backslash",gn:["Backslash","IntlBackslash"]};h8.asO={PJ:"Slash",gn:["NumpadDivide","Slash"]};
h8.a4G={PJ:"Backquote",gn:["Backquote"]};h8.NR={PJ:"[",gn:["BracketLeft"]};h8.v6={PJ:"]",gn:["BracketRight"]};
h8.ul={PJ:".",gn:["Period"]};h8.sV={PJ:",",gn:["Comma"]};h8.xW={PJ:"'",gn:["Quote"]};h8.c={PJ:"A",gn:["KeyA"]};
h8.oU={PJ:"B",gn:["KeyB"]};h8.n8={PJ:"C",gn:["KeyC"]};h8.x4={PJ:"D",gn:["KeyD"]};h8.E={PJ:"E",gn:["KeyE"]};
h8.oS={PJ:"F",gn:["KeyF"]};h8.L4={PJ:"G",gn:["KeyG"]};h8.fJ={PJ:"H",gn:["KeyH"]};h8.Kj={PJ:"I",gn:["KeyI"]};
h8.wD={PJ:"J",gn:["KeyJ"]};h8.DK={PJ:"K",gn:["KeyK"]};h8.HN={PJ:"L",gn:["KeyL"]};h8.k4={PJ:"M",gn:["KeyM"]};
h8.H9={PJ:"N",gn:["KeyN"]};h8.uM={PJ:"O",gn:["KeyO"]};h8.YW={PJ:"P",gn:["KeyP"]};h8.nE={PJ:"Q",gn:["KeyQ"]};
h8.Ct={PJ:"R",gn:["KeyR"]};h8.sF={PJ:"S",gn:["KeyS"]};h8.ix={PJ:"T",gn:["KeyT"]};h8.Zv={PJ:"U",gn:["KeyU"]};
h8.iA={PJ:"V",gn:["KeyV"]};h8.Ie={PJ:"W",gn:["KeyW"]};h8.yn={PJ:"X",gn:["KeyX"]};h8.afm={PJ:"Y",gn:["KeyY"]};
h8.Qf={PJ:"Z",gn:["KeyZ"]};h8.DC={PJ:"0",gn:["Numpad0","Digit0"]};h8.Zs={PJ:"1",gn:["Numpad1","Digit1"]};
h8.awX={PJ:"2",gn:["Numpad2","Digit2"]};h8.alU={PJ:"3",gn:["Numpad3","Digit3"]};h8.aeh={PJ:"4",gn:["Numpad4","Digit4"]};
h8.agT={PJ:"5",gn:["Numpad5","Digit5"]};h8.avH={PJ:"6",gn:["Numpad6","Digit6"]};h8.a36={PJ:"7",gn:["Numpad7","Digit7"]};
h8.a2U={PJ:"8",gn:["Numpad8","Digit8"]};h8.als={PJ:"9",gn:["Numpad9","Digit9"]};h8.Np=[h8.DC,h8.Zs,h8.awX,h8.alU,h8.aeh,h8.agT,h8.avH,h8.a36,h8.a2U,h8.als];
h8.akE={PJ:"F1",gn:["F1"]};h8.ai0={PJ:"F2",gn:["F2"]};h8.aly={PJ:"F3",gn:["F3"]};h8.a5x={PJ:"FF",gn:["F4"]};
h8.xr={PJ:"F5",gn:["F5"]};h8.ao8={PJ:"F6",gn:["F6"]};h8.avS={PJ:"F7",gn:["F7"]};h8.ab7={PJ:"F8",gn:["F8"]};
h8.amj={PJ:"F9",gn:["F9"]};h8.axJ={PJ:"F10",gn:["F10"]};h8.aco={PJ:"F11",gn:["F11"]};h8.a2k={PJ:"F12",gn:["F12"]};
function aG(r){jm.call(this);this.ep={};this.Yp={};this.amX=0;this.a2L={};this.Wm=[];this.ag8=0;this.oQ=r;
aG.Ow=this}aG.auF=function(r,Q){var n=0,W=aG.GU;while(n<W.length){if((Q>>>n&1)==1)break;n++}if(n!=0&&aG.jZ(r,[33,126])>.7)n=0;
if(Q==0||W[n][1]==""){if((Q&15)!=0&&aG.jZ(r,[33,126])>.7)n=0;else if(Q==0)n=0;else{n=0}}return W[n][1]};
aG.sN=120;aG.wA=20;aG.cols=16;aG.OS=function(r){var Q=r.name.postScriptName;if(Q==null)return null;return Q.replace(/ /g,"-")};
aG.I7=function(r){var Q=r.name,W=Q.typoFamilyName,b=Q.typoSubfamilyName,X=W&b,D=X?W:Q.fontFamily,h=X?b:Q.fontSubfamily;
if(h==null)h="Regular";var S=aG.a4j,a=D.toLowerCase();for(var n=0;n<S.length;n++){if(S[n]=="roman")continue;
if(a.endsWith(" "+S[n])||a.endsWith("-"+S[n])){var K=D.length-S[n].length,Y=D.slice(K);D=D.slice(0,K-1);
if(Y!=""){if(h=="Regular"||h==D+" Regular")h=Y;else h=Y+" "+h}break}}var d="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var n=0;n<d.length;n++)if(D.startsWith(d[n])){var Y=D.slice(d[n].length);D=d[n];if(Y.startsWith(" ")||Y.startsWith("-"))Y=Y.slice(1);
if(Y!=""){if(h=="Regular")h=Y;else h=Y+" "+h}break}var j={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},U=j[aG.OS(r)];
if(U)h=U;return[D,h]};aG.prototype.aqP=function(r){var Q=this.Jf();for(var W in Q)if(Q[W][0]==r)this.oD(W)};
aG.prototype.a0x=function(){return Object.keys(this.Yp).length!=0};aG.prototype.oD=function(r,Q){if(this.ep[r])return this.ep[r];
if(this.Yp[r])return null;var W=null,b=this.Jf();if(b[r]!=null)W=b[r][5];if(W==null){var X=aG.Gn[r];
if(X==null){var D="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),h=r.toLowerCase(),S=0;
if(h.indexOf("sans")!=-1)S=0;else if(h.indexOf("serif")!=-1)S=4;var a=h.indexOf("bold")!=-1||h.indexOf("-black")!=-1,K=h.indexOf("italic")!=-1||h.indexOf("oblique")!=-1||h.endsWith("-it");
if(a&&K)S+=3;else if(K)S+=2;else if(a)S+=1;X=D[S]}if(Q!=null&&Q>128)X=this.Hs(Q,X);if(this.a2L[r]==null){this.a2L[r]=1;
var Y=Date.now()-this.amX>2e3?2e3:0;this.amX=Date.now();alert(r+" \u27A1 "+X,Y)}return this.oD(X,Q)}this.Yp[r]="a";
this.oQ(W)};aG.prototype.Hs=function(r,Q,W){var b=this.ep[Q];if(b&&Typr.U.codeToGlyph(b,r)!=0)return Q;
var X=this.Jf(),D=aG.a6H(r),h=D[0];if(X[Q]&&(X[Q][3]&h)==0){if(W)for(var n=0;n<W.length;n++){var S=W[n].Name,a=X[S];
if(a&&(a[3]&h)!=0)return S}var S=aG.GU[D[1]][4];if(X[S])return S}return Q};aG.a6H=function(r){var Q=aG.GU,W=[0];
for(var n=0;n<Q.length;n++){var b=Q[n][2];for(var X=0;X<b.length;X+=2)if(b[X]<=r&&r<=b[X+1]){W[0]+=1<<n;
W.push(n)}}if(W.length==1)W.push(0);return W};aG.prototype.axU=function(){var r=this.Wm,Q=r[0],W=r.length-1;
alert(aA.get([22,6,0])+" "+Q+(W==0?"":", ... ("+W+")")+" "+aA.get([23,0])+".",1500);this.Wm=[]};aG.prototype.akv=function(r,Q){if(Q!=!0){this.Wm.push(r.name.fullName);
clearTimeout(this.ag8);this.ag8=setTimeout(this.axU.bind(this),300)}var W=aG.OS(r),b=this.Jf(),X=b[W],D=aG.a0m(r);
if(X==null){var h=document.createElement("canvas"),S=h.getContext("2d");h.width=aG.sN;h.height=aG.wA;
var a=aG.wA*1.2/r.head.unitsPerEm;S.translate(4,aG.wA*.9);S.scale(a,-a);S.fillStyle="#000000";var K=Typr.U.shape(r,aG.auF(r,D[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(r,K),S);S.fill();D.agj=h.toDataURL();this.zR(D)}delete this.Yp[W];
this.ep[W]=r};aG.asI=function(){var r=aG.GU,Q=[];for(var n=0;n<r.length;n++)Q.push(r[n][0]);return Q};
aG.GU=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","\u0395\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","\u041F\u0440\u0438\u0432\u0435\u0442",[1040,1119],.7,"DejaVuSans"],["Hebrew","\u05E2\u05D1\u05E8\u05D9\u05EA",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","\u0627\u064E\u0644\u0652\u0639\u064E\u0631\u064E\u0628\u0650\u064A\u064E\u0651\u0629\u064F",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","\u09B8\u09CD\u09AC\u09BE\u09A7\u09C0\u09A8\u09AD\u09BE\u09AC\u09C7",[2432,2559],.2,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
aG.a0m=function(r,Q,W){var b=r.name,a=0;if(aG.OS(r)==null){console.log(r);throw"No postScriptName!"}var X=aG.GU,D=[];
for(var n=0;n<X.length;n++){var h=X[n][2],S=X[n][3];D[n]=aG.jZ(r,h)>S?1:0}for(var n=0;n<D.length;n++)a+=D[n]<<n;
var K=aG.I7(r);return[K[0],K[1],aG.OS(r),a,W,Q]};aG.jZ=function(r,Q){var W=0,b=0;for(var X=0;X<Q.length;
X+=2){for(var D=Q[X];D<=Q[X+1];D++){var h=Typr.U.codeToGlyph(r,D);if(h==0)b++;else W++}}return W/(W+b)};
aG.ahg=function(r,Q){if(r[2]<Q[2])return-1;if(r[2]>Q[2])return 1;return 0};aG.akU=function(r,Q){if(r[5]=="fs/"+r[2]+".otf")r[5]="";
else if(r[5]=="gf/"+r[2]+".otf")r[5]="a";if(r[2]==(r[0]+"-"+r[1]).replace(/\s/g,"")){r[2]=""}else if(r[2]==r[0].replace(/\s/g,"")){r[2]="a"}if(Q){if(r[0]==Q[0])r[0]="";
if(r[1]==Q[1])r[1]="";if(r[3]==Q[3])r[3]="";if(r[4]==Q[4])r[4]=""}return r.join(",")};aG.an5=function(r,Q){r=r.split(",");
if(r[0]=="")r[0]=Q[0];if(r[1]=="")r[1]=Q[1];if(r[3]=="")r[3]=Q[3];else r[3]=parseInt(r[3]);if(r[4]=="")r[4]=Q[4];
else r[4]=parseInt(r[4]);if(r[2]=="")r[2]=(r[0]+"-"+r[1]).replace(/\s/g,"");else if(r[2]=="a")r[2]=r[0].replace(/\s/g,"");
if(r[5]=="")r[5]="fs/"+r[2]+".otf";else if(r[5]=="a")r[5]="gf/"+r[2]+".otf";return r};aG.Gn={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"CourierPrime","CourierNewPS-BoldMT":"CourierPrime-Bold","CourierNewPS-ItalicMT":"CourierPrime-Italic","CourierNewPS-BoldItalicMT":"CourierPrime-BoldItalic",Courier:"CourierPrime","Courier-Bold":"CourierPrime-Bold",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-Black":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold","MyriadPro-SemiboldCond":"PTSans-NarrowBold","MyriadPro-BoldCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular","LyonDisplay-Medium":"Buenard-Regular","LyonText-Regular":"Buenard-Regular","LyonDisplay-Black":"Buenard-Bold","LyonText-Bold":"Buenard-Bold","Interstate-Light":"Overpass-Light","Interstate-Regular":"Overpass-Regular","Interstate-Bold":"Overpass-Bold","Interstate-BlackCondensed":"Overpass-Black",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
aG.prototype.Jf=function(){if(FNTS.map==null){var r=FNTS.list,Q=[];for(var n=0;n<r.length;n++){Q[n]=aG.an5(r[n],Q[n-1]);
Q[n].C_=n;this.zR(Q[n])}}return FNTS.map};aG.prototype.zR=function(r){var Q=r[0],W=r[1],b=r[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[r[2]]=r;if(FNTS.mapFS==null)FNTS.mapFS={};var X=FNTS.mapFS[Q+"---"+W];FNTS.mapFS[Q+"---"+W]=r;
if(FNTS.mapSub==null)FNTS.mapSub={};var D=FNTS.mapSub[Q];if(D==null)D=FNTS.mapSub[Q]=[];var h=D.indexOf(W);
if(h==-1)D.push(W);else D[h]=W};aG.awB=function(r,Q){return aG.y3(r)-aG.y3(Q)};aG.y3=function(r){r=r.toLowerCase();
var Q=aG.alC(r)+(aG.ahK(r)<<1);if(r.indexOf("cond")==-1)Q+=1<<25;return Q};aG.alC=function(r){return r.indexOf("italic")!=-1||r.indexOf("oblique")!=-1?1:0};
aG.a4j="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
aG.aqL=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
aG.ahK=function(r){var Q=aG.aqL,W=-1,b=-1;for(var n=0;n<Q.length;n++){var X=Q[n];if(X instanceof Array)for(var D=0;
D<X.length;D++){var h=X[D];if(r.indexOf(h)!=-1&&(W==-1||b<h.length)){W=n;b=h.length}}else if(r.indexOf(X)!=-1&&(W==-1||b<X.length)){W=n;
b=X.length}}if(W==-1)W=8;return W};aG.Dv=function(r,Q){var W=1e9,b=null,X=aG.y3(Q);for(var n=0;n<r.length;
n++){var D=Math.abs(aG.y3(r[n])-X);if(D<W){W=D;b=r[n]}}return b};aG.prototype.Hn=function(r,Q){this.Jf();
return FNTS.mapFS[r+"---"+Q]};aG.prototype.Ne=function(r){this.Jf();return FNTS.mapSub[r]};aG.prototype.nc=function(){this.Jf();
return FNTS.mapSub};var b6={rX:0,pO:null,SD:null,UZ:null,PF:null,KE:null,E6:!0,gx:0,W7:!1};b6.event=function(r){var Q=new XMLHttpRequest;
Q.open("GET","/papi/event.php?id="+r+"&rnd="+Math.random());Q.send()};b6.KJ=function(){var r=b6.aL();
if(r==null)return null;var Q=N.tp(24)?" ":"",W=N.h8[N.JW("Uu,"+Q)];W=W[N.JW(Q+"$/")];var b=b6.j6(1,999);
if(b&&b6.Cc(b)*50>W()/20)return[0,b];var X=r.inTeams;if(X)for(var n=0;n<X.length;n++)if(X[n][1]*50>W()/20)return[1,X[n]];
return null};b6.ZK=function(){return b6.aaN()!=null};b6.pc=function(){return b6.Cc(b6.j6(1e3,999999999))};
b6.Cc=function(r){return r==null?0:r[0]+r[1]*24*60*60};b6.j6=function(r,Q){var W=b6.aL(),b=W.pmnts,X=0,D=null;
if(b==null||b.length==0)return 0;for(var n=0;n<b.length;n++){var h=b[n],S=b6.Cc(h);if(r<=h[2]&&h[2]<=Q)if(X<S){X=S;
D=h}}return D};b6.aL=function(){return b6.KE};b6.DD=function(r){window.addEventListener("message",b6.a1i,!1);
setInterval(b6.z0,5e3);if(b6.ZK()&&navigator.onLine){b6.pO=r;b6.N0()}else setTimeout(r,1)};b6.z0=function(){if(b6.ZK()&&b6.W7){b6.n7(b6.bP());
b6.W7=!1}};b6.os=function(r){b6.pO=r;var Q="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
b6.UZ=window.open(Q,"_blank")};b6.akP=function(){localStorage.removeItem(b6.rX+"_uid");localStorage.removeItem(b6.rX+"_provider");
localStorage.removeItem(b6.rX+"_token");b6.KE=null};b6.a1i=function(r){if(r.data instanceof ArrayBuffer||r.data instanceof Object)return;
if(r.data.charAt(0)!="{")return;var Q=JSON.parse(r.data);if(Q.prms==null)return;var W=Q.prms.split(",");
if(W[0]=="papi_logged_in"){localStorage[b6.rX+"_uid"]=W[1];b6.Nu(W[2]);localStorage[b6.rX+"_provider"]=W[3];
b6.UZ.close();b6.N0()}if(W[0]=="payment_complete"){b6.PF.close();b6.N0()}};b6.aaN=function(){var r=localStorage[b6.rX+"_token"];
if(r!=null&&Date.now()*.001+10<parseInt(r.split("-")[0]))return r;return null};b6.Nu=function(r){var Q=localStorage[b6.rX+"_token"];
if(Q!=null&&parseInt(r.split("-")[0])<parseInt(Q.split("-")[0]))return;localStorage[b6.rX+"_token"]=r;
clearTimeout(b6.gx);b6.gx=setTimeout(b6.a2v,Math.min(1e9,parseInt(r.split("-")[0])*1e3-Date.now()-20*1e3))};
b6.cP=function(r,Q,W,b){if(!navigator.onLine)throw"a";var X=new XMLHttpRequest;X.open("POST","https://www.photopea.com/papi/record_new.php",!0);
X.onload=W;var D=b6.D2(0)+"&read=3&tuid="+r+"&tid="+Q;if(b)D+="&tpl="+encodeURIComponent(b);X.setRequestHeader("Content-type","application/x-www-form-urlencoded");
X.send(D)};b6.a2v=function(){if(!navigator.onLine)throw"a";var r=new XMLHttpRequest;r.open("POST","https://www.photopea.com/papi/record_new.php",!0);
r.onload=b6.awc;var Q=b6.D2(0)+"&read=2";r.setRequestHeader("Content-type","application/x-www-form-urlencoded");
r.send(Q)};b6.N0=function(){if(!navigator.onLine)throw"b";var r=new XMLHttpRequest;r.open("POST","https://www.photopea.com/papi/record_new.php",!0);
r.onload=b6.aav;var Q=b6.D2(0)+"&read=1";r.setRequestHeader("Content-type","application/x-www-form-urlencoded");
r.send(Q)};b6.n7=function(r){if(!navigator.onLine)throw"c";var Q=new XMLHttpRequest;Q.open("POST","https://www.photopea.com/papi/record_new.php",!0);
Q.onload=b6.aus;var W=b6.D2(0)+"&read=0&score="+(r.tpl?1:0)+"&spublic="+b6.E6+"&record="+encodeURIComponent(JSON.stringify(r));
Q.setRequestHeader("Content-type","application/x-www-form-urlencoded");Q.send(W)};b6.aav=function(r){var Q=JSON.parse(r.target.response);
if(Q.error){}else{b6.KE=Q.user;var W=b6.bP(),b=Q.record;if(Q.record){b6.E6=Q.spublic;b6.WT(b)}else if(W)b6.n7(W)}b6.Nu(Q.token);
if(b6.pO){b6.pO();b6.pO=null}if(b6.SD){b6.SD();b6.SD=null}};b6.awc=function(r){var Q=JSON.parse(r.target.response);
b6.Nu(Q.token)};b6.aus=function(r){var Q=JSON.parse(r.target.response);b6.Nu(Q.token);if(b6.SD)b6.N0()};
b6.D2=function(r){return"app="+r+"&uid="+localStorage[b6.rX+"_uid"]+"&token="+localStorage[b6.rX+"_token"]};
b6.nS=function(){return b6.bP()};b6.T7=function(r,Q){b6.WT(r);b6.W7=!0;if(Q){b6.SD=Q;b6.z0()}};b6.bP=function(){var r=localStorage[b6.rX+"_stateLocal"],Q;
if(r==null)return null;try{Q=JSON.parse(r)}catch(aA){return null}return Q};b6.WT=function(r){var Q=JSON.stringify(r);
localStorage[b6.rX+"_stateLocal"]=Q};b6.order=function(r,Q,W){b6.pO=W;var b="https://www.photopea.com/papi/order.php?ptype="+Q+"&param="+r+"&uid="+localStorage[b6.rX+"_uid"]+"&token="+localStorage[b6.rX+"_token"];
b6.PF=window.open(b,"_blank")};b6.ahQ=function(r,Q){b6.pO=Q;var W="https://www.photopea.com/papi/insertKey.php?key="+r+"&uid="+localStorage[b6.rX+"_uid"]+"&token="+localStorage[b6.rX+"_token"];
b6.PF=window.open(W,"_blank")};var aA={};aA._U=0;aA.yR={};aA.WH=function(r){var Q=LNG.tables,W=Q[r];
if(W==null)W=Q[0];if(typeof W=="string"){W=Q[r]=aA.tL(W)}return W};aA.tL=function(r){var Q=[],W=0,b=0,X=[],D=r.length;
while(b!=D){var h=r[b];if(h=="["){Q.push(X);X=[];b=W=b+1}else if(h=="]"){X.push(W==b?null:r.substring(W,b));
var S=X;X=Q.pop();X.push(S);b=W=b+1}else if(h==";"){if(r[b-1]!="]")X.push(W==b?null:r.substring(W,b));
b=W=b+1}else b++}return X};aA.get=function(r){if(typeof r=="string")return r;var Q=typeof r[0];if(Q=="number"){for(var n=1;
n<r.length;n++)if(typeof r[n]!="number"){console.log(r);throw"e"}return aA.a4x(r)}var W=aA.get(r[0]);
for(var n=1;n<r.length;n++){var b=aA.get(r[n]),X=W.indexOf("VAR"+(n-1));W=W.slice(0,X)+b+W.slice(X+4)}return W};
aA.a4x=function(r){var Q=JSON.stringify(r);if(aA.yR[Q]!=null)return aA.yR[Q];var W=aA.WH(0),b=aA.WH(aA._U),X=aA.Lk(r,b);
if(X==null)X=aA.Lk(r,W);return X};aA.Lk=function(r,Q){for(var n=0;n<r.length;n++){Q=Q[r[n]];if(Q==null)return null;
else if(typeof Q=="string")break}if(Q instanceof Array)Q=Q[0];return Q.split("::")[0]};aA.ayG=function(){var r=function(W,b){var X=W.code,D=b.code;
if(X=="en")return-1;if(D=="en")return 1;var h=navigator.languages,S=h.indexOf(X)!=-1,a=h.indexOf(D)!=-1;
if(S&&a)return X>D?1:-1;if(S)return-1;if(a)return 1;return X>D?1:-1},Q=LNG.langs.slice(0);Q.sort(r);
return Q};aA.l4=function(r,Q){aA._U=r;if(LNG.tables[r])Q();else{var W=new XMLHttpRequest;W.open("GET","code/lang/"+r+".js");
W.onreadystatechange=function(){LNG.tables[r]=W.responseText;Q()};W.send()}};aA._T=function(r,Q){for(var W=0;
W<2;W++){var b=!1;for(var n=0;n<LNG.langs.length;n++)if(LNG.langs[n].code==r){aA.l4(n,Q);b=!0}if(b)break;
r=r.split("-")[0]}};aA.iR=function(){return LNG.langs[aA._U].code};aA.asw=function(r){for(var n=0;n<r.length;
n+=2)if(r[n+1].indexOf(">")==-1)aA.yR[JSON.stringify(r[n])]=r[n+1]};aA.aoK=function(r){var Q=-1,W=LNG.langs;
for(var n=0;n<W.length;n++)if(W[n].code==r)Q=n;return Q};var cN={Qj:!1,lu:!1,k_:!1};cN.Na=function(){return N.h8[ec.sd]!=N.h8[ec.axA]};
cN.Ti=function(){var r=N.h8[ec.GE],Q=r[ec.Hb],W=0,b=ec.iN,X=N.ez("PP\\KQSB"),D=N.ez("Y_5UDDB>idge"),h=r[ec.zO](ec.aex);
h[b](ec.QH,X);h[b](ec.it,N.ez("fUMZKyqifDIhJ0*+&$-OG?<y~>"));Q[ec.fY](h);h=r[ec.aiu](X);if(h==null){W=2}else{if(!Q[N.ez("R[WZDIKM")](h)){W=3}else if(Math.round(h[N.ez("VQ](RUK>@B8p71*03m}x'")]()[ec.tZ]-500)>5){W=4}Q[ec.cv](h)}if(cN.lu)W=5;
if(cN.k_)W=6;return W};cN.afp=function(r){var Q=N.JW("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),W={method:"HEAD",mode:"no-cors"},b=new Request(Q,W);
fetch(b).then(function(X){return X}).then(function(X){var D=N.JW("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),b=new Request(D,W);
fetch(b).then(function(X){return X}).then(function(X){r(!1)}).catch(function(h){cN.lu=!0;console.clear();
r(!0)})}).catch(function(X){cN.lu=!0;console.clear();r(!0)})};cN.arV=function(){var r=N.ez("UU[YW#ECC8"),Q=N.ez("VQ](RUK>@B8p71*03m}x'"),W=N.ez("WQRMKT"),b=this.ahw[r][Q]();
if(b[W]<4){cN.k_=!0;this.axv(!0)}};cN.ayF=function(){var r=N.h8._cwY,Q=N.h8[ec.N_],W="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",b=String.fromCharCode(32);
r(N.ez(W)+b+b+cN.Ti());if(!b6.KJ())Q(cN.ayF,Math.round(Math.PI*1e4))};cN.AY=function(r){var Q=N.h8[ec.GE],W=Q[ec.zO](r[0]);
for(var b in r[1]){if(b=="txt")W[ec.OK]=r[1][b];else W[ec.iN](b,r[1][b])}return W};cN.ah5=function(r,Q,W,b,X){N.WC(W);
var D=N.h8[ec.GE],h=N.JW(" u.$%\"86<"),S=N.JW("!#c$,&"),a=N.h8[h][S],K=N.h8[N.JW(" u.$%\"86<")][N.JW("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<.1;
if(!cN.Na()&&!cN.Ti()&&a&&r*Q>300*300&&!K){var Y=D[N.ez("VQ]+OEJ?EHDoD{&)l|&z")](ec.ny)[0],d=JSON.parse(N.JW("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var n=0;n<d.length;n++){var j=cN.AY(d[d.length-1-n]);Y[ec.abL](j,Y[ec.afx])}var U=N.JW("p}&$2a(:"),I=N.JW("'#!}i0%+"),f=N.JW("ps,}$\"40");
N.h8.___ggo=function(){N.h8[f](ec.pS,2,function(H,u){if(!N.h8[U]){N.h8[U]=!0;var s=cN.a8g.bind({U8:W,ak0:X,head:Y,J9:Q});
s()}})}}else{var g=cN.adi.bind({ahw:W,a9_:b,a7N:X,J9:Q});g();setInterval(g,3e4)}};cN.a8j="JGxsuk^CD;_>;'9#+(F&!v.5(lmd)gdPeTLJoOJ@W0[(YRE*+\"F,r!9xsi!(z_`W{aHV@UD<:_?:0GNA%.+$$G96hpan&\\a^SUKpCLGe8@1@5*03J|DCHUTuOj-TD?Y[;P'M/=;Eb\\B-{sTRgZICgez6VrO)N4({krebi\\Y2]*[VVNA&'}Bwnwlw0ajdVXPO]UUYjDG;RYL12)M#y#w#;luoac[Zh``dG\\oIL@W^Q[X*3-~!xw&}}\"3ku]ga!^R^hob_fYV/Z'XSSK>#$z?tktit-^gc`TO]ORNjDG;RYL12)M#y#w#;luqnb]k]`\\J_rLOCZaT^[-62/#},}!|9q{cmg'dXdnuhel_\\5`-^YYQD)*!Ezqzoz3egig]g]`zsMPD[bU:;2V,#,!,Dvxzxnxnq,Vk~X[Ofm`jg:<><2<25OH!+r|v6sgs}%wt{nkDo<mhh`S890T*!*~*B|| kvjb`j#\\_SjqdIJAe;2;0;S..1|({sq{ez.gj^u|oyv\\YViEEH4?3+)3K}'\"3:-*1$!Y%Q#}~uhMNEi?6?4?W32/+-+x#!8qth 'y^_VzPGPEPhDC@<><*42z0C| s+2%/,gfc_a_MWUlEO7A;Z8,8BI<9@30h4`2--%w\\]TxNENCNfI;=E65131~)'>wzn&- de\\!VMVKVnQCEM>=9;9'1/w-@y|p(/\",)k]_gXWSUSAKI`9C+5/N, ,6=0-4'$\\Y";
cN.adi=function(){var r=N.h8[ec.GE],Q=this.ahw,W=this.a9_,b=this.a7N,X=this.J9;N.WC(Q);var D=N.h8[ec.JW(" u.$%\"86<")][ec.JW("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<1.25,h=b==1?1:cN.S3(X),S=JSON.parse(ec.ez(cN.a8j)),a=r[ec.zO]("a");
a.textContent=ec.ez("0PhHOO@E@B8M/-9'\"0}y");a[ec.iN](ec.$n,ec.ez("}z`]ZmMBFH@>0)R%.)G*($ 8ggs*ce!aVZ\\TRD=e:B\\;9;P8--#A)vl|2vn)]e\""));
a[ec.iN](ec.V$,ec.JW("pv${,,"));a[ec.iN](ec.it,ec.ez("R[UUUyTB@H6h"));if(!D)Q[ec.fY](a);for(var n=0;
n<h;n++){var K=Math.random(),Y=0,d=0;while(Y+S[d][0]<K){Y+=S[d][0];d++}if(D)d=1;var j=S[d],U=r[ec.zO](ec.jN);
U[ec.iN](ec.it,ec.ez("Ra[YRRvJF=?B0:_")+ec.ez(b==1?"fUMZKymofDIh3-.)'0RKB?|\"A":"fUMZKyoifDIh3-.)'0RGG?|\"A"));
U[ec.iN](ec.dy,j[b]);if(j.length>3){var I=j[3]+j[3+b],a=r[ec.zO]("a");a[ec.iN](ec.$n,I);a[ec.iN](ec.V$,ec.JW("pv${,,"));
a[ec.fY](U);Q[ec.fY](a)}else{U[ec.pS](ec.Cl,W,!1);Q[ec.fY](U)}}};cN.S3=function(r){var Q=2;if(r>=3*270+30)Q=3;
if(r>=4*270+30)Q=4;return Q};cN.a8g=function(){var r=ec.fY,Q=ec.iN,W=ec.pS,b=ec.Gn,X=ec.it,D=ec.dy,h=N.ez("P_bTF"),S=ec.OK,a=ec.FH,K=N.h8[ec.GE],Y=ec.zO,d=ec.aa7,j=JSON.parse(N.JW("lo9|35868N[NW<H@UXi%oSVkh~,%om.I4+'%\"N,,;@R_XIKCOOLWp,vodles~8lo(y }0,M%M>B:FPLJGCku+e[mqqp%nlz%yR<IB8?>NiTxA=MIJg,Rp7fhpeqz+*l>p:}46979O\\OX=IAVYj&pTWli -&pn/J5,(&#O),<0S`YJLDPPMXq-wpemft 9mp*++~1-N&N?C;GQMKHDlv,f\\nrrq&om{&zS=JC9@?OjUzI\\NRZh_T^awhw!hh~n21sv")),U=N.h8,I=-1,f=U[N.JW("f#!}f")],g=N.JW("xy'"),H=N.JW("TU"),u=N.JW("Vi"),y=0;
if(f&&f[g]){var s=f[g];if(s==u)I=0;if(s==H)I=1}var _=I==-1?null:cN.AY(j[I]),i=this.U8,M=this.ak0,T=this.head,R=this.J9,z=N.JW("~u*\"'/P)9ADBCrlnR]"),G=[.05,0,.95],V=Math.random();
while(G[y]<V&&y<G.length-1){V-=G[y];y++}if(y==0){console.log(0);if(!cN.Qj){cN.Qj=!0;var k=ec.JW("w'x(##39.2B^edOBTTTWW_[#hl,pg{sx!}}%&*9SZY>5IAFNZOM`W}%$omqqh|ty\"BIH,(,=90D<AIipo^SQd[\"*(ggnos#=E"),B=ec.JW("\"|'/-1)(W0?@5iqnZzwzM5:G&mhrzx|tsC{+,!WWZFbhf9!&3qy\"~j+(+*447#?EC"),v=k.split(","),l=B.split(","),F=l[M==1?0:1],L=l[M==1?2:3],Z=M==1?1:cN.S3(R);
for(var t=0;t<Z;t++){var A=K[Y](a);for(var n=0;n<v.length;n+=2)A[Q](v[n+0],v[n+1]);A[Q](ec.ez("SM]GoIA"),F);
A[Q](X,z);i[r](A)}var o=ec.JW("9z-)!5-68LW[UT[UCWg^WkY4!\\_*2)ms($\"0>^DNWZW_V=EIOJ7QcidjfGe$D*4BDLKOW[W[bbX`WSKML[^]o0ugav\"]UWV&)(l#29,=AW[pQIKJY\\[{`bi_^d|y}m$wx!|-)*GgM7IE=QIRTptj[[ skml{~}>&{z!9u:*@4nqkZcfc_WYXgji*rvf|!\"NQIJMI?=+?O8IXx^FTK`[Vbk(nuhx#_t~z{0.4e47UR/;;QAoOM)us Y_som{5/7p8BW6$8H1NnTxMPB]tP__`}^o(0kqw#v'?!3/';3<>Z;a[ZTJ\\``_sw_+hdyJ!$%~z13'LI//E5cLBNGK[QSs}u$9jj/o;|x%!1(BcH[WM:eAMS)HMUwYkg_sktv3s}=31~3C00?1@;Xx^GQuN]_h\\hqWltm{'@y(~4/*6?h::I;JEpUYQ]y}3ddseto;(& .\"G;354CFEeMCTTVX`UG[qp(=nn}o~yE}*07,QUj8BfODV&\\_`ZVlnb(*jj!p?(}*#'7-/T\\SKLREkcqilo0n\\p!gosytPy\"&,'s.@FAGC$BnXYSZw{5 (&-hptzub|/5062r1]GHBIfj~nq)iacbqts4x|t!=:bcuFSJT9HKJPyqtYaQSYk)e/hv o|xy&&#.S71C`<9HNBHuKQh2_n9.39?=BGEOSDK'/394]\\gbiCI]YWe~} pz@-4q}u%|!ssmO>7K9_dceW#9XPUZe`luc{$}u8I]0%5<2:6W[b~?UItX\\gz~%{stzm4I*\"$#254T=2>7]av\\jlp&");
o=o.replace("__",L);o=o.replace("--",F);var O=K[Y](d);O[S]=o;i[r](O)}}else if(y==1){console.log(1);if(M==1){var x=K[Y](N.JW("u}."));
x[Q](X,z);var C=K[Y](N.JW("u}."));x[r](C);C[Q](N.JW("zx"),N.JW("AK}|~T()V`1i9eoEGwtL##V$`0e4>@rtvMOL"));
C[Q](N.JW("t!x.1"),N.JW("pu(y~1)?).4"));var o=N.JW("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#Iol}(ZY[1de3=mFuBL\"$TQ)__3`=lBpz|OQS*,)|'<$'(6K"),O=K[Y](d);
O[S]=o;C[r](O);i[r](x)}else if(M==2){var J=cN.S3(R);for(var n=0;n<J;n++){var x=K[Y](N.JW("u}."));x[Q](X,z);
var C=K[Y](N.JW("u}."));x[r](C);C[Q](N.JW("zx"),N.JW("rKI!#X%WV/ac9eoqDyt#~(($]_dg>A@suI|T"));C[Q](N.JW("t!x.1"),N.JW("pu(y~1)?).4"));
var o=N.JW("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#IolO(&]_5a43k>@uBLN!VQ_[dd`:<ADz}|PR&Y1|'<$'(6K"),O=K[Y](d);
O[S]=o;C[r](O);i[r](x)}}if(!cN.Qj){cN.Qj=!0;var o=N.JW("9z-)!5-68TG^U=d^]dgaOcsjy: g4l~ts*}`+'2-9BXZJ=OISZot*qh&npd$D*4?By}+M$*9AB:JHhAPQu}}'%&(]crz{s$\"B\".D[CF=ZDLF>[{ak\\Pfe#a[savi{u '<S;2O&;D<4SsYQRXK$kvV#_`rFplwr~(*[6s$-v-<7\\^CCBHmrH Puux~f3op#V!|(#/8:kF$4='=LGlnM]Um}#X0`/7m #z' a*.4/UD\\qY\\]km`U]Vdo'}esj zu\"+BW"),O=K[Y](d);
O[Q](N.JW("uu,{J$*(=F>6"),N.JW("wu$.#"));O[S]=o;T[r](O)}}else{console.log(2);var q=K[Y](d);q[Q](D,N.JW("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
q[Q](ec.adG,"");T[r](q);var fd=JSON.parse(N.JW("l6{$4M+7>Y17bIDNVTXPOTcd-245=+81v~/H&29T,2]D?IQOSKJO^_(-138&3,qy*C!-4O'-X?:DLJNFEJYZ#(,/4!.'lt%>{(/J\"(S:5?GEIA@ETU}'\"%+{)\"go 9v#*E|#N50:B@D<;@OPx}# $vU")),w=[fd[0]];
if(M==2)w=fd.slice(1,1+cN.S3(R));for(var n=0;n<w.length;n++){var C=K[Y](N.ez("SU_"));C[Q](ec.QH,w[n]);
C[Q](X,z);i[r](C)}}if(_)i[r](_)};var iS={ne:-2,yB:{expires_at:0},RO:[]};iS.NC=function(r){if(r)iS.RO.splice(0,0,r);
if(iS.ne==-2){iS.ne=-1;var Q=document.createElement("script");Q.src="//apis.google.com/js/client.js";
document.body.appendChild(Q);Q.onload=function(W){setTimeout(function(){iS.ne=0;iS.NC()},100)}}if(iS.ne==-1)return;
if(iS.ne==1)return;if(iS.yB.expires_at>Date.now()*.001+30){while(iS.RO.length>0)iS.RO.pop()()}else{if(iS.ne==0)iS.ne=1;
gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:iS.ne==2?!1:!0},iS.a6n)}};
iS.a6n=function(r){if(r&&!r.error){iS.yB=r;iS.ne=!1;iS.NC()}else if(iS.ne==1){iS.ne=2;iS.NC()}else alert("Error: "+r.error)};
iS.g3=function(){return"access_token="+iS.yB.access_token+"&token_type="+iS.yB.token_type};iS.fA=function(){return iS.yB.token_type+" "+iS.yB.access_token};
function cp(r,Q){if(!r)r=0;if(!Q)Q=0;this.x=r;this.y=Q}cp.prototype.add=function(r){return new cp(this.x+r.x,this.y+r.y)};
cp.prototype.clone=function(){return new cp(this.x,this.y)};cp.prototype.dd=function(r){this.x=r.x;this.y=r.y};
cp.prototype.s4=function(r){return this.x==r.x&&this.y==r.y};cp.prototype.normalize=function(r){var Q=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=r/Q;this.y*=r/Q};cp.prototype.offset=function(r,Q){this.x+=r;this.y+=Q};cp.prototype.DX=function(r,Q){this.x=r;
this.y=Q};cp.prototype.eb=function(r){return new cp(this.x-r.x,this.y-r.y)};cp.ks=function(r,Q){return cp.ajm(r.x,r.y,Q.x,Q.y)};
cp.Px=function(r,Q,W){return new cp(r.x+W*(Q.x-r.x),r.y+W*(Q.y-r.y))};cp.a2e=function(r,Q){return new cp(r*Math.cos(Q),r*Math.sin(Q))};
cp.ajm=function(r,Q,W,b){return Math.sqrt((W-r)*(W-r)+(b-Q)*(b-Q))};cp.dF={};cp.Et={};cp.dF.create=function(){var r=new Float32Array(4);
return r};cp.Et.create=function(r){var Q=new Float32Array(16);Q[0]=Q[5]=Q[10]=Q[15]=1;if(r)cp.Et.set(r,Q);
return Q};cp.dF.add=function(r,Q,W){W[0]=r[0]+Q[0];W[1]=r[1]+Q[1];W[2]=r[2]+Q[2];W[3]=r[3]+Q[3]};cp.dF.set=function(r,Q){Q[0]=r[0];
Q[1]=r[1];Q[2]=r[2];Q[3]=r[3]};cp.Et.set=function(r,Q){Q[0]=r[0];Q[1]=r[1];Q[2]=r[2];Q[3]=r[3];Q[4]=r[4];
Q[5]=r[5];Q[6]=r[6];Q[7]=r[7];Q[8]=r[8];Q[9]=r[9];Q[10]=r[10];Q[11]=r[11];Q[12]=r[12];Q[13]=r[13];Q[14]=r[14];
Q[15]=r[15]};cp.Et.multiply=function(r,Q,W){var b=r[0],X=r[1],D=r[2],h=r[3],S=r[4],a=r[5],K=r[6],Y=r[7],d=r[8],j=r[9],U=r[10],I=r[11],f=r[12],g=r[13],H=r[14],u=r[15],s=Q[0],_=Q[1],i=Q[2],M=Q[3];
W[0]=s*b+_*S+i*d+M*f;W[1]=s*X+_*a+i*j+M*g;W[2]=s*D+_*K+i*U+M*H;W[3]=s*h+_*Y+i*I+M*u;s=Q[4];_=Q[5];i=Q[6];
M=Q[7];W[4]=s*b+_*S+i*d+M*f;W[5]=s*X+_*a+i*j+M*g;W[6]=s*D+_*K+i*U+M*H;W[7]=s*h+_*Y+i*I+M*u;s=Q[8];_=Q[9];
i=Q[10];M=Q[11];W[8]=s*b+_*S+i*d+M*f;W[9]=s*X+_*a+i*j+M*g;W[10]=s*D+_*K+i*U+M*H;W[11]=s*h+_*Y+i*I+M*u;
s=Q[12];_=Q[13];i=Q[14];M=Q[15];W[12]=s*b+_*S+i*d+M*f;W[13]=s*X+_*a+i*j+M*g;W[14]=s*D+_*K+i*U+M*H;W[15]=s*h+_*Y+i*I+M*u;
return W};cp.Et.inverse=function(r,Q){var W=r[0],b=r[1],X=r[2],D=r[3],h=r[4],S=r[5],a=r[6],K=r[7],Y=r[8],d=r[9],j=r[10],U=r[11],I=r[12],f=r[13],g=r[14],H=r[15],u=W*S-b*h,s=W*a-X*h,_=W*K-D*h,i=b*a-X*S,M=b*K-D*S,T=X*K-D*a,R=Y*f-d*I,z=Y*g-j*I,G=Y*H-U*I,V=d*g-j*f,y=d*H-U*f,k=j*H-U*g,B=u*k-s*y+_*V+i*G-M*z+T*R;
if(!B){return null}B=1/B;Q[0]=(S*k-a*y+K*V)*B;Q[1]=(X*y-b*k-D*V)*B;Q[2]=(f*T-g*M+H*i)*B;Q[3]=(j*M-d*T-U*i)*B;
Q[4]=(a*G-h*k-K*z)*B;Q[5]=(W*k-X*G+D*z)*B;Q[6]=(g*_-I*T-H*s)*B;Q[7]=(Y*T-j*_+U*s)*B;Q[8]=(h*y-S*G+K*R)*B;
Q[9]=(b*G-W*y-D*R)*B;Q[10]=(I*M-f*_+H*u)*B;Q[11]=(d*_-Y*M-U*u)*B;Q[12]=(S*z-h*V-a*R)*B;Q[13]=(W*V-b*z+X*R)*B;
Q[14]=(f*s-I*i-g*u)*B;Q[15]=(Y*i-d*s+j*u)*B;return Q};cp.Et.a4z=function(r,Q,W){var b=Q[0],X=Q[1];W[0]=b*r[0]+X*r[4]+r[12];
W[1]=b*r[1]+X*r[5]+r[13]};cp.Et.apz=function(r,Q,W){var b=Q[0],X=Q[1],D=Q[2],h=Q[3];W[0]=r[0]*b+r[4]*X+r[8]*D+r[12]*h;
W[1]=r[1]*b+r[5]*X+r[9]*D+r[13]*h;W[2]=r[2]*b+r[6]*X+r[10]*D+r[14]*h;W[3]=r[3]*b+r[7]*X+r[11]*D+r[15]*h};
function aV(r,Q,W,b){if(!r)r=0;if(!Q)Q=0;if(!W)W=0;if(!b)b=0;this.x=r;this.y=Q;this.e=W;this.n=b}aV.prototype.O=function(){return this.e*this.n};
aV.prototype.clone=function(){return new aV(this.x,this.y,this.e,this.n)};aV.prototype.contains=function(r,Q){return r>=this.x&&r<=this.x+this.e&&(Q>=this.y&&Q<=this.y+this.n)};
aV.prototype.LS=function(r){return this.contains(r.x,r.y)};aV.prototype.oN=function(r){return this.x<=r.x&&this.y<=r.y&&r.x+r.e<=this.x+this.e&&r.y+r.n<=this.y+this.n};
aV.prototype.dd=function(r){this.x=r.x;this.y=r.y;this.e=r.e;this.n=r.n};aV.prototype.s4=function(r){return this.x==r.x&&this.y==r.y&&this.e==r.e&&this.n==r.n};
aV.prototype.sg=function(r,Q){this.x-=r;this.y-=Q;this.e+=2*r;this.n+=2*Q};aV.prototype.asx=function(r){this.sg(r.x,r.y)};
aV.prototype.ww=function(r){var Q=Math.max(this.x,r.x),W=Math.max(this.y,r.y),b=Math.min(this.x+this.e,r.x+r.e),X=Math.min(this.y+this.n,r.y+r.n);
if(b<Q||X<W)return new aV;else return new aV(Q,W,b-Q,X-W)};aV.prototype.fs=function(r){if(r.y+r.n<this.y||r.x>this.x+this.e||r.y>this.y+this.n||r.x+r.e<this.x)return!1;
return!0};aV.prototype.WB=function(){return this.e<=0||this.n<=0};aV.prototype.offset=function(r,Q){this.x+=r;
this.y+=Q};aV.prototype.Yq=function(r){this.offset(r.x,r.y)};aV.prototype.awp=function(){this.x=this.y=this.e=this.n=0};
aV.prototype.DX=function(r,Q,W,b){this.x=r;this.y=Q;this.e=W;this.n=b};aV.prototype.Bc=function(r){if(this.WB())return r.clone();
if(r.WB())return this.clone();var Q=this.clone();Q.aik(r);return Q};aV.rO=new Float32Array(2);aV.prototype.aik=function(r){if(r.WB())return;
if(this.WB()){this.dd(r);return}this.Be(r.x,r.y);this.Be(r.x+r.e,r.y+r.n)};aV.prototype.Be=function(r,Q){var W=Math.min(this.x,r),b=Math.min(this.y,Q);
this.e=Math.max(this.x+this.e,r)-W;this.n=Math.max(this.y+this.n,Q)-b;this.x=W;this.y=b};aV.prototype.a5h=function(r,Q){this.x=r;
this.y=Q;this.e=this.n=0};function au(r,Q,W,b,X,D){if(typeof r==="undefined"){r=1;Q=0;W=0;b=1;X=0;D=0}this.mu=r;
this.k=Q;this.th=W;this.HR=b;this.rn=X;this.NQ=D}au.prototype.mO=function(){return Math.sqrt(Math.abs(this.mu*this.HR-this.k*this.th))};
au.prototype.a3s=function(){var r=this,Q=function(W){return Math.abs(W)<1e-9?0:W};r.mu=Q(r.mu);r.k=Q(r.k);
r.th=Q(r.th);r.HR=Q(r.HR);r.rn=Q(r.rn);r.NQ=Q(r.NQ)};au.prototype.lE=function(r){return new cp(r.x*this.mu+r.y*this.th+this.rn,r.x*this.k+r.y*this.HR+this.NQ)};
au.prototype.translate=function(r,Q){this.rn+=r;this.NQ+=Q};au.prototype.rotate=function(r){var Q=new au(Math.cos(r),-Math.sin(r),Math.sin(r),Math.cos(r),0,0);
this.concat(Q)};au.prototype.scale=function(r,Q){var W=new au(r,0,0,Q,0,0);this.concat(W)};au.prototype.concat=function(r){this.dd(new au(this.mu*r.mu+this.k*r.th,this.mu*r.k+this.k*r.HR,this.th*r.mu+this.HR*r.th,this.th*r.k+this.HR*r.HR,this.rn*r.mu+this.NQ*r.th+r.rn,this.rn*r.k+this.NQ*r.HR+r.NQ))};
au.prototype.j4=function(){var r=this.mu*this.HR-this.k*this.th;this.dd(new au(this.HR/r,-this.k/r,-this.th/r,this.mu/r,(this.th*this.NQ-this.HR*this.rn)/r,(this.k*this.rn-this.mu*this.NQ)/r))};
au.prototype.clone=function(){return new au(this.mu,this.k,this.th,this.HR,this.rn,this.NQ)};au.prototype.dd=function(r){this.mu=r.mu;
this.k=r.k;this.th=r.th;this.HR=r.HR;this.rn=r.rn;this.NQ=r.NQ};function fH(){}fH.YS={adS:["PNG","JPG","SVG","GIF","PDF"],agz:"WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")};
fH._Q=function(r,Q){var W=r.memory.buffer.byteLength;if(W<Q)r.memory.grow((Q-W>>>16)+1)};fH.vC={bU:function(r,Q){fetch(r).then(function(W){return W.arrayBuffer()}).then(function(W){var b=new Uint8Array(W),X=0,a="";
if(Q){X=b.length;var D={level:9},h=pako.deflateRaw(b,D),S=UZIP.deflateRaw(b,D);console.log(X,h.length,S.length);
b=h.length<S.length?h:S}for(var n=0;n<b.length;n++)a+=String.fromCharCode(b[n]);var K=btoa(a);console.log(JSON.stringify([X,K]))})},get:function(r,Q){var W=BINDB[r],b=Date.now(),X=atob(W[1]),D=X.length,h=new Uint8Array(D);
for(var n=0;n<D;n++)h[n]=X.charCodeAt(n);if(W[0]!=0){var S=new Uint8Array(W[0]);UZIP.inflateRaw(h,S);
h=S}if(Q){var a=fH.E$(h.buffer);h=fH.Qt(a).ni(h.buffer)}return h}};fH.E$=function(r){if(!(r instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var Q=new Uint8Array(r),W=fH.p8,b,X=0,D=Q.length-1;
if(W(Q,[239,187,191]))X=3;while(X<Q.length&&(Q[X]==9||Q[X]==10||Q[X]==13||Q[X]==32))X++;while(D!=0&&(Q[D]==9||Q[D]==10||Q[D]==13||Q[D]==32))D--;
if(W(Q,[56,66,80,83]))b="psd";if(W(Q,[6,6,237,245]))b="indd";if(W(Q,[68,73,67,77],128))b="dcm";if(W(Q,[102,116,121,112,109,105,102,49],4)||W(Q,[102,116,121,112,97,118,105,102],4))b="avif";
if(W(Q,[102,116,121,112,105,115,111,109],4))b="mp4";if(W(Q,[102,116,121,112,109,112,52,50],4))b="mp4";
if(W(Q,[0,255,75,65]))b="afphoto";if(W(Q,[120]))b="pxd";if(W(Q,[80,68,78,51]))b="pdn";if(W(Q,[103,105,109,112,32,120,99,102,32]))b="xcf";
if(W(Q,[102,105,103,45,107,105,119,105]))b="fig";if(W(Q,[137,80,78,71,13,10,26,10])){b="png";var h=8;
while(h<Q.length){var S=c.v(Q,h);h+=4;var a=c.zV(Q,h,4);h+=4;if(a=="mkTS")b="fpng";h+=S+4}}if(W(Q,[87,76]))b="cdr";
if(W(Q,[82,73,70,70])){var K=jJ.ak(Q),Y=K.W8;if(Y=="WEBP")b="webp";else if(Y.slice(0,3)=="CDR")b="cdr";
else b=Y}if(W(Q,[70,79,82,77])||W(Q,[76,73,83,84])||W(Q,[67,65,84,32])){var K=aU.ak(Q),Y=K.W8;if(Y=="ILBM"||Y=="ANIM")b="ilbm";
else b=Y}if(W(Q,[255,216,255]))b="jpg";if(W(Q,[0,0,0,12,106,80,32,32]))b="jpg";if(W(Q,[48,0,1,0],4))b="jb2";
if(W(Q,[71,73,70,56]))b="gif";if(W(Q,[0,0,0,2,121,102,113,76]))b="msh";if(W(Q,[0,0,0,3,121,102,113,76]))b="msh";
if(W(Q,[0,0,0,16]))b="atn";if(W(Q,[0,1]))b="aco";if(W(Q,[0,2]))b="aco";if(W(Q,[65,83,69,70]))b="aco";
if([0,1].indexOf(Q[1])!=-1&&[1,2,3,9,10,11].indexOf(Q[2])!=-1&&[0,16,24,32].indexOf(Q[7])!=-1)b="tga";
if(W(Q,[0,2,56,66,83,76]))b="asl";if(W(Q,[0,1,0,-1,0,2,0]))b="abr";if(W(Q,[0,2,0,-1,0,2,0]))b="abr";
if(W(Q,[0,6,0,1]))b="abr";if(W(Q,[0,6,0,2]))b="abr";if(W(Q,[0,7,0,2]))b="abr";if(W(Q,[0,9,0,2]))b="abr";
if(W(Q,[0,10,0,2]))b="abr";if(W(Q,[56,66,70,83]))b="shc";if(W(Q,[56,66,80,84]))b="pat";if(W(Q,[56,66,71,82]))b="grd";
if(W(Q,[71,73,77,80,32,71,114,97]))b="grd";if(W(Q,[56,66,84,80]))b="tpl";if(W(Q,[0,4,0,5]))b="acv";if(W(Q,[99,117,115,104]))b="csh";
if(W(Q,[0,1,0,0,0]))b="otf";if(W(Q,[79,84,84,79]))b="otf";if(W(Q,[116,116,99,102]))b="otf";if(W(Q,[68,68,83,32]))b="dds";
if(W(Q,[80,86,82,3]))b="pvr";if(W(Q,[86,84,70,0]))b="vtf";if(W(Q,[83,73,77,80]))b="fits";if((W(Q,[0,0,1,0])||W(Q,[0,0,2,0]))&&Q[4]!=0)b="ico";
if(W(Q,[66,77]))b="bmp";if(W(Q,[40,0,0,0]))b="bmp";if(W(Q,[80,49]))b="ppm";if(W(Q,[80,50]))b="ppm";if(W(Q,[80,51]))b="ppm";
if(W(Q,[80,52]))b="ppm";if(W(Q,[80,53]))b="ppm";if(W(Q,[80,54]))b="ppm";if(W(Q,[73,73,42,0]))b="tiff";
if(W(Q,[77,77,0,42]))b="tiff";if(W(Q,[73,73,85,0]))b="tiff";if(W(Q,[70,85,74,73,70,73,76,77]))b="raf";
if(W(Q,[112]))b="lif";if(W(Q,[73,73,26,0]))b="ciff";if(W(Q,[83,81,76,105]))b="sketch";if(W(Q,[80,75])){var d=UZIP.parse(r,!0);
if(d["document.json"])b="sketch";else if(d.manifest)b="xd";else if(d["maindoc.xml"])b="kra";else if(d["content/root.dat"])b="cdr";
else b="zip"}if(W(Q,[123]))b="json";if(c.v(Q,0)==Q.length)b="icc";if(W(Q,[35]))b="icc";if(W(Q,[84,73,84,76],X))b="icc";
if(W(Q,[76,85,84,95],X))b="icc";if(W(Q,[60,63,120,109],X)){if(c.n9(Q,"<look>")!=-1)b="icc";else b="svg"}if(W(Q,[255,254,60,0],X))b="svg";
if(W(Q,[60,115,118,103],X))b="svg";if(W(Q,[60,33,100,111],X)||W(Q,[60,33,68,79],X)||W(Q,[60,33,45,45],X)){if(c.n9(Q,"<svg")!=-1)b="svg";
else b="html"}if(W(Q,[37,33])||W(Q,[197,208,211,198])){if(c.n9(Q,"%AI9_PrivateDataBegin")!=-1||c.n9(Q,"%AI5_BeginLayer")!=-1)b="ai";
else b="eps"}if(W(Q,[37,80,68,70],X)){if(c.n9(Q,"/AIMetaData ")!=-1)b="ai";else b="pdf"}else if(W(Q,[10,69,79,70],D-3))b="dxf";
if(W(Q,[1,0,9,0]))b="wmf";if(W(Q,[215,205,198,154]))b="wmf";if(W(Q,[1,0,0,0]))b="emf";if(W(Q,[118,47,49,1]))b="exr";
if(W(Q,[10,10,10,10]))b="jsx";if(W(Q,[77,90]))b="exe";if(b==null&&E.raw.xb(Q.length)!=null)return"tiff";
return b};fH.p8=function(r,Q,W){if(W==null)W=0;for(var n=0;n<Q.length;n++)if(Q[n]!=-1&&r[W+n]!=Q[n])return!1;
return!0};fH.Qt=function(r){var Q={BMP:fH.ak4,CDR:fH.HO,DDS:fH.im,EMF:fH.XW,DXF:fH.fo,EPS:fH.oT,FIG:fH.$X,FPNG:fH.jc,INDD:fH.Xp,GIF:fH.AN,ICO:fH.Ff,ILBM:fH.JI,FITS:fH.Mm,EXR:fH.UH,JPG:fH.y8,LIF:fH.Rw,DCM:fH.akA,PDF:fH.S9,PDN:fH.lp,PNG:fH.qo,PPM:fH.lV,PSD:fH.J$,PXD:fH.mt,RAF:fH.eS,RAW:fH.nz,SKETCH:fH.CY,SVG:fH.SW,TGA:fH.fx,AVIF:fH.acJ,TIFF:fH.C8,VTF:fH.pk,WEBP:fH.uz,WMF:fH.IB,XCF:fH.Aq,XD:fH.Rx,KRA:fH.XY,EXE:fH.JC,AI:fH.oI,AFPHOTO:fH.rl,MP4:fH.aih};
return Q[r.toUpperCase()]};fH.Pd=function(n){var r=fH.YS.adS,Q=fH.YS.agz,W,b=[];if(n==null)W=r.concat(Q);
else W=n==0?r:Q;for(var n=0;n<W.length;n++)if(fH.Qt(W[n]).Al)b.push(W[n]);return b};fH.af3=function(){var r;
function Q(b){var X=b.target,D=X.width,h=X.height,S=document.createElement("canvas");S.width=D;S.height=h;
var a=S.getContext("2d");a.drawImage(X,0,0);r({Kx:new aV(0,0,D,h),data:a.getImageData(0,0,D,h).data.buffer})}function W(b,X,D){r=D;
var h=document.createElement("img");h.onload=Q;h.src="data:"+X+";base64,"+fH.XS(b)}return W}();fH.m_=function(r,Q,W,b,X){var D=fH.AG(r,Q,W,b,X),h=fH.lJ(D);
return h.buffer};fH.lJ=function(r){var Q=atob(r.split(",").pop()),W=new Uint8Array(Q.length);for(var n=0;
n<Q.length;n++)W[n]=Q.charCodeAt(n);return W};fH.AG=function(r,Q,W,b,X,D){if(!(r instanceof ArrayBuffer))throw"e";
if(b==null)b="png";if(b=="png"&&D==!0){var h=fH.Qt("PNG").Al([[r,0]],Q,W);return"data:image/png;base64,"+fH.XS(h)}var S=fH.oa;
if(S==null)S=fH.oa=document.createElement("canvas");if(S.width!=Q||S.height!=W){S.width=Q;S.height=W}var a=S.getContext("2d"),K=new ImageData(new Uint8ClampedArray(r,0,Q*W*4),Q,W);
a.putImageData(K,0,0);return S.toDataURL("image/"+b,X)};fH.acT=function(r,Q,W,b,X){if(X==null)X=0;var D="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",h="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+D+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(r==1)h+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
h+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+X+")\" xlink:href=\""+Q+"\" x=\""+80*W+"\" y=\""+80*b+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var S=new Uint8Array(h.length);c.XX(h,S,0);var a="data:image/svg+xml;base64,"+fH.XS(S.buffer);return{ov:a,nX:new aV(0,0,128,128),kW:new cp(64,64)}};
fH.XS=function(r){var Q=new Uint8Array(r),W="";for(var n=0;n<Q.length;n++)W+=String.fromCharCode(Q[n]);
return btoa(W)};fH.ayq=function(r){var Q=atob(r),W=Q.length,b=new Uint8Array(W);for(var n=0;n<W;n++)b[n]=Q.charCodeAt(n);
return b.buffer};fH.Ax=function(r){var Q=[],W=[];for(var n=0;n<r.B.length;n++){var b=r.B[n];if(b.getName().slice(0,3)=="_a_"){Q.push(n);
W.push(b.cB())}}return[Q,W]};fH.w3=function(r,Q,W,b,X,D){if(W==null)W=r.e;if(b==null)b=r.n;var h=new aV(0,0,r.e,r.n),S=new au(W/(r.e+.001),0,0,b/(r.n+.001),0,0),K;
Q=Q.toUpperCase();var a=fH.Qt(Q);if(a.gF){r.T6();K=a.Al(r,W,b,X,D)}else{if(X)X=X.slice(0);var Y=fH.Ax(r),d=Y[0],j=Y[1],U=r.NE(),I=U&&X?X.pop():!1,f=U&&!I?U[0]:null,g=null;
if(r.Ev.length!=0){g=[];for(var n=0;n<r.Ev.length;n++)g.push(r.Ev[n].Vn(h))}if(d.length<2){var H=fH.Vw(r.T6(),U,I,r),u;
if(W==r.e&&b==r.n)u=H.buffer;else{var s=m.EA.gh([H,h],S);u=s.buffer.buffer;if(g){var _=E.Q(h.O()*4);
for(var n=0;n<g.length;n++){E.nV(g[n],_,3);var s=m.EA.gh([_,h],S),i=g[n]=E.Q(s.rect.O());E.TX(s.buffer,i,3)}}}K=a.Al([[u,0,r.HW,r.L8,g,f]],W,b,X)}else{var M=[];
for(var n=0;n<d.length;n++){var T=d[n],u;for(var R=0;R<d.length;R++)r.B[d[R]].ky(d[R]==T);r.cW();r.U();
r.W4();if(W==r.e&&b==r.n)u=r.T6().buffer.slice(0);else{var s=m.EA.gh([r.T6(),h],S);u=s.buffer.buffer}u=fH.Vw(new Uint8Array(u),U,I,r).buffer;
var z=r.B[T].getName().split(",");M.push([u,z[1]?parseInt(z[1]):100,r.HW,r.L8,g,f])}for(var n=0;n<d.length;
n++)r.B[d[n]].ky(j[n]);r.U();r.W4();if(X){var G=X.length,V=X[G-2],y=X[G-1],k=X[G-4]/100;if(k!=1)for(var n=0;
n<M.length;n++)M[n][1]=Math.round((M[n][1]==0?16:M[n][1])/k);if(V)M.reverse();if(y){var B=M.slice(1,M.length-1);
B.reverse();M=M.concat(B)}}K=a.Al(M,W,b,X)}}return K};fH.Vw=function(r,Q,W,b){var X=b.eC();if(W){r=r.slice(0);
ICC.U.applyLUT(Q[3],Q[2],r,r)}else if(X&&b.add.fcmy==1){r=r.slice(0);ICC.U.applyLUT(X[b.add.fcmy==1?5:3],X[2],r,r)}return r};
fH.ahF=function(r,Q){var W=new Uint8Array(r.data),b=new Uint8Array(Q.data),X=0,D=0;for(var h=0;h<W.length;
h+=4){var S=W[h]-b[h],a=W[h+1]-b[h+1],K=W[h+2]-b[h+2],Y=W[h+3]-b[h+3],d=S*S+a*a+K*K+Y*Y>>>2;X+=d;if(d>25)D++}var j=D/r.Kx.O()<1e-4;
return j};fH.lc=function(r,Q){var W=Q[0].Dl&&Q[0].Dl.startsWith("_a_"),b;if(W){var X=0,D=Q.length;for(var n=0;
n<Q.length-1;n++){var h=Q[n],S=Q[n+1],a=fH.ahF(h,S);if(a){var K=parseFloat(h.Dl.split(",").pop()),Y=parseFloat(S.Dl.split(",").pop());
h.Dl=h.Dl.split(",")[0]+","+Math.round(K+Y);Q.splice(n+1,1);n--;X++}}if(X!=0){alert("Deleted "+X+" frames out of "+D+".");
for(var n=0;n<Q.length;n++){var d=Q[n],j=d.Dl;d.Dl="_a_frm"+n+","+j.split(",")[1]}}}var U=new bj(r+".psd"),f=new aV(0,0,1,1);
if(W){b=U.b_();b.add.lsct=d1.O9;b._J(r);b.iX="pass";b.KX=24;b.ky(!0);U.B.push(U.Tz())}for(var n=0;n<Q.length;
n++){var g=Q[n];f=f.Bc(g.Kx);var H=U.b_();H.ky(n==0);H._J(Q.length==1?"Background":"Layer "+n);if(n==0&&g.HW)U.HW=g.HW;
if(n==0&&g.L8)U.L8=g.L8;if(g.Dl)H._J(g.Dl);if(g.dj)for(var n=0;n<g.dj.length;n++){var u=g.dj[n],s=bj.ei(u[0]);
s.add.vmsk.V=u[1];E.A.Zl(u[1],new au(f.e,0,0,f.n,0,0));U.ZS.push(s)}if(g.RE)U.RE=g.RE;H.rect=g.Kx.clone();
H.buffer=new Uint8Array(g.data);if(n==0&&g.sH)U.Fj(g.sH);E.qM(H);U.B.push(H)}if(W)U.B.push(b);if(Q[0].Ev){for(var n=0;
n<Q[0].Ev.length;n++){var _=new $.lA;U.Ev.push(_);_.rect=Q[0].Kx.clone();_.channel=Q[0].Ev[n]}}U.I=[W?U.B.length-1:0];
U.e=f.e;U.n=f.n;U.buffer=E.Q(f.O()*4);U.U();return U};fH.aiq=function(r,Q,W,b,X,D,h,S){var a=new km(e.E.s,!0);
a.b=m.sp;a.data={d:"h_stepbck"};var K={};for(var Y=1;Y<W.length;Y++){var d=r.I.slice(0),j=fH.GL(r,S,Q,W,b,Y);
K["img"+Y+"."+X.toLowerCase()]=new Uint8Array(fH.w3(r,X,null,null,D,h));for(var n=0;n<j;n++)S.$(a)}return UZIP.encode(K)};
fH.GL=function(r,Q,W,b,X,D){var h=new km(e.E.L,!0),K=0;h.data={d:e.c.yX};var S=new km(e.E.s,!0);S.b=m.M0;
S.data={d:$.cT,Sv:{buffer:null,rect:null}};var a=S.data.Sv;for(var Y=0;Y<W.length;Y++){var d=W[Y],j=d.trait,U=parseInt(d.docRef.slice(4,-2)),I=-1;
for(var n=0;n<r.B.length;n++)if(r.B[n].add.lyid==U)I=n;if(I==-1)continue;var f=b[0].indexOf(d.varName);
if(f==-1){alert("Column "+d.varName+" is missing");return}var g=b[D][f],H=r.B[I];r.I=[I];if(j=="textcontent"){h.data.OO="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(g)+";";
Q.$(h);K++}if(j=="visibility"&&H.cB()+""!=g.toLowerCase()){h.data.OO="app.activeDocument.activeLayer.visible = "+g.toLowerCase()+";";
Q.$(h);K++}if(j=="fileref"){var u=g.split("/").pop(),_=null;for(var fb in X)if(fb.split("/").pop()==u)_=X[fb];
if(_==null){alert("Image "+u+" is missing.")}else{var i=fH.Qt(fH.E$(_.buffer)).ni(_.buffer)[0],M=i.Kx,T=H.rect.e/H.rect.n,R=M.e/M.n,z=0,G=0;
if(T>R){G=H.rect.n;z=~~(G*R)}else{z=H.rect.e;G=~~(z/R)}h.data.OO="app.activeDocument.activeLayer.visible = false;";
Q.$(h);K++;var V=m.EA.gh([new Uint8Array(i.data),M],new au(z/M.e,0,0,G/M.n,0,0));a.rect=V.rect;a.buffer=V.buffer;
V.rect.x=H.rect.x+(H.rect.e-z>>>1);V.rect.y=H.rect.y+(H.rect.n-G>>>1);Q.$(S);K++}}}return K};fH.qo={};
fH.qo.Al=function(r,Q,W,b){if(b==null)b=[100,!1,0,0,0];var X={sRGB:1,loop:b[3]};if(r[0][5]!=null){delete X.sRGB;
X.iCCP=r[0][5]}if(r[0][2]!=null){var D=Math.round(r[0][2]*(1e4/254));X.pHYs=[D,D,1]}var h=b[0],S=h==100?0:Math.max(2,Math.floor(h*5));
if(S==5)S=4;var a=[],K=[];for(var n=0;n<r.length;n++){a.push(r[n][0]);K.push(r[n][1])}var Y=UPNG.encode(a,Q,W,S,K,X,b[1]);
return Y};fH.qo.a0z=function(r,Q,W){return UPNG.encodeLL([r],Q,W,3,1,8)};fH.qo.ni=function(r){var Q=Date.now(),W=UPNG.decode(r),b=UPNG.toRGBA8(W),X=W.width,D=W.height,h=0,S=W.tabs.iCCP;
if(W.tabs.pHYs)h=Math.round(W.tabs.pHYs[0]*254/1e4);if(b.length==1)return[{Kx:new aV(0,0,X,D),data:b[0],HW:h,sH:S}];
var a=[];for(var n=0;n<b.length;n++){a.push({Dl:"_a_frm"+n+","+W.frames[n].delay,Kx:new aV(0,0,X,D),data:b[n],HW:h,sH:S})}return a};
fH.lV={};fH.lV.Al=function(r,Q,W,b){var X=new Uint8Array(r[0][0]),D=Q*W,h=D*3,S="P6\n"+Q+" "+W+"\n255\n",a=S.length,K=E.Q(a+h,!0);
for(var n=0;n<a;n++)K[n]=S.charCodeAt(n);for(var n=0;n<D;n++){var Y=n*4,d=n*3+a;K[d]=X[Y];K[d+1]=X[Y+1];
K[d+2]=X[Y+2]}return K.buffer};fH.lV.ni=function(r){r=new Uint8Array(r);var Q=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],W=0,b=String.fromCharCode(r[0])+String.fromCharCode(r[1]),X=[],D=0,h=b=="P1"||b=="P4"?2:3;
for(W=2;W<r.length;W++){var S=r[W],a=String.fromCharCode(S);if(S=="#".charCodeAt(0)){while(r[W]!="\n".charCodeAt(0))W++;
continue}var K=Q.indexOf(S)!=-1;if(D==0&&!K){X.push(a);D=1;continue}if(D==1&&!K){X[X.length-1]+=a;continue}if(D==1&&K){D=0;
if(X.length==h)break;continue}}var Y=parseInt(X[0]),d=parseInt(X[1]),j=Y*d*4,U=b=="P1"||b=="P4"?1:255/parseInt(X[2]),I=E.Q(j);
if(b=="P1"||b=="P2"||b=="P3"){var f="",g=0,D=0,H="#".charCodeAt(0);for(var n=W;n<r.length;n++){var S=r[n],a=String.fromCharCode(S),K=Q.indexOf(S)!=-1;
if(S==H){while(r[n]!="\n".charCodeAt(0))n++}else if(D==0&&!K){f=a;D=1}else if(D==1){if(K){D=0;var u=parseInt(f);
f="";if(b=="P1"){I[g]=I[g+1]=I[g+2]=(1-u)*255;I[g+3]=255;g+=4}if(b=="P2"){I[g]=I[g+1]=I[g+2]=Math.round(u*U);
I[g+3]=255;g+=4}if(b=="P3"){I[g]=Math.round(u*U);g++;if((g&3)==3){I[g]=255;g++}}}else f+=a}}}var s=Y*d;
if(b=="P4")for(var _=0;_<d;_++){var i=_*8*Math.ceil(Y/8);for(var M=0;M<Y;M++){var n=i+M,T=r[W+1+(n>>3)];
T=T>>7-(n&7)&1;var R=_*Y+M<<2;I[R]=I[R+1]=I[R+2]=(1-T)*255;I[R+3]=255}}if(b=="P5")for(var n=0;n<s;n++){var R=4*n;
I[R]=I[R+1]=I[R+2]=Math.round(r[W+1+n]*U);I[R+3]=255}if(b=="P6")for(var n=0;n<s;n++){var R=4*n,z=W+1+3*n;
I[R]=Math.round(r[z]*U);I[R+1]=Math.round(r[z+1]*U);I[R+2]=Math.round(r[z+2]*U);I[R+3]=255}return[{Kx:new aV(0,0,Y,d),data:I.buffer}]};
fH.im={};fH.im.Al=function(r,Q,W,b){if(b==null)b=[!0,!0];var X=new Uint8Array(r[0][0]),D=Q&3,h=W&3;if(D!=0||h!=0){var S=Q+(D==0?0:4-D),a=W+(h==0?0:4-h),K=new Uint8Array(S*a*4);
E.tl(K,4278190080);E.TU(X,new aV(0,0,Q,W),K,new aV(0,0,S,a));X=K;Q=S;W=a}var Y=UTEX.DDS.encode(X.buffer,Q,W,b);
if(!1){var d=UTEX.DDS.decode(Y)[0],K=new Uint8Array(d.EJ),j=0;for(var n=0;n<X.length;n++){var U=X[n]-K[n];
j+=U*U}console.log(j)}return Y};fH.im.ni=function(r){var Q=UTEX.DDS.decode(r)[0];return[{Kx:new aV(0,0,Q.width,Q.height),data:Q.image}]};
fH.pk={};fH.pk.ni=function(r){var Q=UTEX.VTF.decode(r).pop();return[{Kx:new aV(0,0,Q.width,Q.height),data:Q.image}]};
fH.y8={};fH.y8.Pi=null;fH.y8.asp=function(r,Q){var W=fH.y8.Pi,b=r.byteLength,X=Q.width,D=Q.height,h=X*D,S=5e6+2*b+h*(Q.progressive?Math.max(2,Q.numComponents)*4+1:8),a=W.instance.exports;
fH._Q(a,S);var K=new Uint8Array(a.memory.buffer),Y=a.malloc(b);K.set(new Uint8Array(r),Y);var d=a.malloc(4),j=a.malloc(4),fb=a.malloc(4),U=a.stbi_load_from_memory(Y,b,d,j,fb,4);
a.free(Y);a.free(d,j,fb);a.free(U);var I=K.slice(U,U+h*4);return I};(function(){var r=fH.vC.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(r).then(function(Q){fH.y8.Pi=Q})}());fH.y8.Al=function(r,Q,W,b){if(b==null)b=[85];
var X=r[0],D=new Uint8Array(X[0]);if(E.vR(D)){var h=new Uint8Array(D.length),S=new aV(0,0,Q,W);E.tl(h,4294967295);
E.q.YB("norm",D,S,h,S,S,1);D=h}var a=new Uint8Array(fH.m_(D.buffer,Q,W,"jpeg",b[0]/100));if(X[5]!=null){var K=fH.y8.rU(a)[226][0]+2,Y=c.KV(a,K),d=X[5].length+16,j=d-Y,U=new Uint8Array(a.length+j);
for(var n=0;n<K+Y;n++)U[n]=a[n];for(var n=K+Y;n<a.length;n++)U[n+j]=a[n];c.MJ(U,K,d);U.set(X[5],K+16);
a=U}if(X[2]!=null){var I=fH.y8.rU(a)[224][0]+2;I+=9;a[I]=1;c.MJ(a,I+1,X[2]);c.MJ(a,I+3,X[2])}if(X[3]!=null&&b[1]==!0&&Object.keys(X[3]).length!=0){var f=0,g=0,H=0,u=a1.bZ(X[3]),s=new Uint8Array(UTIF.encode([u])),_="http://ns.adobe.com/xap/1.0/",K=20;
f=4+6+s.length;var i=a1.anQ(X[3]),M=c.gl(i);g=4+_.length+1+M.length;var T=a1.a8m(X[3]);if(T.length!=0){var R=0,V=0;
for(var n=0;n<T.length;n++)R+=5+T[n][1].length;var z=R+(R&1),G=E.Q(14+4+4+4+z);c._a(G,V,"Photoshop 3.0");
V+=14;c._a(G,V,"8BIM");V+=4;G[V++]=4;G[V++]=4;V+=2;c.hC(G,V,R);V+=4;for(var n=0;n<T.length;n++){var y=T[n],k=y[1];
G[V++]=28;G[V++]=2;G[V++]=y[0];c.MJ(G,V,k.length);V+=2;c._a(G,V,k);V+=k.length}H=4+G.length}var B=f+g+H,v=new Uint8Array(a.length+B);
for(var n=0;n<20;n++)v[n]=a[n];for(var n=20;n<a.length;n++)v[n+B]=a[n];v[K]=255;v[K+1]=225;c.MJ(v,K+2,f-2);
c._a(v,K+4,"Exif");for(var n=0;n<s.length;n++)v[K+10+n]=s[n];K+=f;v[K]=255;v[K+1]=225;c.MJ(v,K+2,g-2);
c._a(v,K+4,_);for(var n=0;n<M.length;n++)v[K+4+_.length+1+n]=M[n];K+=g;if(H!=0){v[K]=255;v[K+1]=237;
c.MJ(v,K+2,H-2);for(var n=0;n<G.length;n++)v[K+4+n]=G[n];K+=H}a=v}return a.buffer};fH.y8.rU=function(r){var Q=0,W=[],b=r.length;
while(Q<b){while(r[Q]!=255&&Q<b)Q++;while(r[Q]==255)Q++;var X=r[Q];Q++;if(W[X]==null)W[X]=[];W[X].push(Q-2);
if(X==216)continue;if(X==217)break;if(224<=X&&X<=239||X==218||X==219||X==192||X==193||X==194||X==196||X==221||X==254){var D=c.KV(r,Q);
Q+=D;if(X==218)while(Q<b&&(r[Q]!=255||(r[Q+1]==0||208<=r[Q+1]&&r[Q+1]<=215)))Q++;continue}console.log("unknown marker ",X.toString(16),Q);
break}if(W[217]==null){console.log("EOI marker missing");var h=r.length-2;r[h]=255;r[h+1]=217;W[217]=[h]}return W};
fH.y8.arG=function(r){r=new Uint8Array(r);if(r[0]!=255)return r.buffer;var Q=fH.y8.rU(r),W=fH.y8.ZW(r,Q);
if(W.numComponents!=4)return r.buffer;var b=W.width,X=W.height,D=fH.y8.Wb(r,Q,!0);return fH.y8.Al([[D[0].data]],b,X,[85])};
fH.y8.ZW=function(r,Q){var W=(Q[192]?Q[192]:Q[193]?Q[193]:Q[194])[0]+4,b={};b.progressive=Q[194]!=null;
b.precision=r[W];W++;b.height=c.KV(r,W);W+=2;b.width=c.KV(r,W);W+=2;b.numComponents=r[W];W++;if(Q[224]){var X=b.jfif={};
W=Q[224][0]+2+2+5+2;X.densityUnits=r[W];W++;X.xDensity=c.KV(r,W);W+=2;X.yDensity=c.KV(r,W);W+=2}if(Q[238]){var X=b.adobe={};
W=Q[238][0]+2+2+6;X.version=r[W];W++;X.flags0=c.KV(r,W);W+=2;X.flags1=c.KV(r,W);W+=2;X.transform=r[W];
W++}return b};fH.y8.a6l=function(r,Q,W){var b=Q,X=c.KV(r,b);b+=2;var D=c.zV(r,b,4);if(D=="Exif"){b+=6;
var h=r.slice(b,b+X-8),S;try{S=UTIF.decode(h.buffer,{parseMN:!1,debug:!1})}catch(aA){}if(S&&S.length!=0)W.exif=S}else if(D=="http"){var a=0;
while(r[b+a]!=0)a++;var K=c.zV(r,b,a);b+=a+1;if(K=="http://ns.adobe.com/xmp/extension/"){var Y=c.zV(r,b,32);
b+=32;b+=8;var d=Q+X-b;while(r[b+d-1]==0)d--;if(W.xmp_extn==null)W.xmp_extn="";try{W.xmp_extn+=c.CA(r,b,d)}catch(aA){}}else if(K=="http://ns.adobe.com/xap/1.0/"){var j=c.CA(r.slice(b,b+X-a-3));
if(j[0]=="?")j="<"+j;W.xmp=j}}else console.log(D)};fH.y8.Wb=function(r,Q,W){var b=fH.y8.ZW(r,Q),X=b.width,D=b.height,h=X*D,S,a=-1,_=72,i,T,R=null;
if(b.adobe)a=b.adobe.transform;if(W||X*D>15e7||a==0||a==2){var K=new PDFJS.JpegImage;K.parse(r);var Y=K.getData({width:X,height:D,forceRGB:!0,isSourcePDF:W}),S=E.Q(h*4);
for(var n=0;n<h;n++){var d=n<<2,j=d-n;S[d]=Y[j];S[d+1]=Y[j+1];S[d+2]=Y[j+2];S[d+3]=255}}else{S=fH.y8.asp(r.buffer,b)}var U=Q[225];
if(U)for(var n=0;n<U.length;n++)fH.y8.a6l(r,U[n]+2,b);var I=Q[226];if(I){var f=I[0],g=c.KV(r,f+2),H=c.zV(r,f+4,11);
if(H=="ICC_PROFILE"){var u=c.v(r,f+18);b.icc=r.slice(f+18,f+18+u)}}var s=Q[217][0]+2;if(s!=r.length)b.suffix=r.slice(s);
var M=[X,D,1,0,0,0,1,0];if(b.jfif&&b.jfif.densityUnits!=0){_=Math.round([72,1,2.54][b.jfif.densityUnits]*b.jfif.xDensity)}else if(b.exif&&b.exif[0].t282!=null){var z=b.exif[0].t282[0];
_=z[0]/z[1]}if(b.exif){var G=b.exif;i=a1._A(G[0]);var V=G[0].t274;if(V)V=V[0];if(V!=null&&V>1&&V<20)M=E.raw.Di(V,X,D)}if(b.xmp){i=a1.ayl(b.xmp,i)}if(b.icc)T=b.icc;
var y=Q[237],k=[],B=[];if(y){var v=new Uint8Array(65536),l=0,f=0;for(var n=0;n<y.length;n++){f=y[n]+2;
var F=f+c.KV(r,f);f+=2;var L=f;while(r[f]!=0)f++;f++;var Z=c.zV(r,L,f-L-1),t=F-f;if(t<0)break;while(l+t>v.length){var A=new Uint8Array(v.length*2);
A.set(v);v=A}var o=new Uint8Array(r.buffer,f,t);v.set(o,l);l+=t}f=0;r=v;while(f<l){var O=c.zV(r,f,4);
f+=4;var x=c.KV(r,f);f+=2;var C=r[f++],J=c.zV(r,f,C);f+=C;if((C&1)==0)f++;var g=c.v(r,f);f+=4;var s=f+g+(g&1);
if(x==1028){while(f+4<s){var q=r[f++],fd=r[f++],w=r[f++],P=c.KV(r,f);f+=2;if(q==28&&fd==2)k.push([w,c.zV(r,f,P)]);
f+=P}}else if(x==1032)R=ba.WI(r,f);else if((x&2e3)==2e3){var fc=fK.bf(r,f,g);B.push([J,fc])}else{}f=s}if(k.length!=0)i=a1.aax(k,i)}var p=[{Kx:new aV(0,0,X,D),data:S.buffer,HW:_,L8:i,sH:T,dj:B.length==0?null:B,RE:R}],i=b.xmp_extn;
if(i){var gG=new DOMParser,fh=gG.parseFromString(i,"image/svg+xml"),fh=fh.children[0].children[0].children[0],fJ=[fh.getAttribute("GImage:Data"),fh.getAttribute("GDepth:Data")];
for(var n=0;n<fJ.length;n++)if(fJ[n]){var cF=atob(fJ[n]),j_=new Uint8Array(cF.length);c._a(j_,0,cF);
j_=j_.buffer;var gY=fH.E$(j_),kc=fH.Qt(gY).ni(j_);p.push(kc[0])}}if(b.suffix){var el=b.suffix,iN=c.zV(el,4,4),c$=c.n9(el,String.fromCharCode(255)+String.fromCharCode(216)+String.fromCharCode(255));
if(fH.p8(el,[0,0,1,10,14,0,0,0])){var f=0;while(f!=el.length){var dB=c.e2(el,f+2);f+=4;var aL={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[dB];
if(aL!=null){var aB=c.aN(el,f);f+=4;var f3=c.zV(el,f,aB);f+=aB;var jC=c.zV(el,f,aL);f+=aL;if(dB==2608){var bc=c.v(el,f+24);
f+=bc+24;var iA=c.v(el,f);f+=iA;alert("Photopea found a "+hb.Vh(bc)+" MP4 video inside your image.",4e3)}}else if(dB==18502){while(c.zV(el,f,4)!="SEFT")f+=4;
f+=4}else{break;console.log(c.rd(el,f,128));console.log(el.slice(f));throw dB.toString(16)}}}else if(iN=="ftyp"){alert("Photopea found a "+hb.Vh(el.length)+" MP4 video inside your image.",4e3)}else if(c.zV(el,0,4)=="fixe"){alert("Unknown data - "+el.length+" B - at the end of the file",3e3);
var f=4,g=c.aN(el,f);f+=4;var bL=c.aN(el,f);f+=4;var an=c.aN(el,f);f+=4;console.log(g,bL,an,el.slice(f,f+84));
f+=84;var dp=c.zV(el,f,32);f+=32;f+=8;var dp=c.zV(el,f,32);f+=32}else if(c.zV(el,8,13)=="FocusShot_Map"){var im=c.v(el,0),P=c.aN(el,4),j_=E.Q(h*4),a5=E.Q(h*4);
for(var bg=0;bg<D;bg++)for(var fM=0;fM<X;fM++){var n=bg*X+fM,d=n<<2,eT=8+13+((bg>>>1)*X+fM>>>1),ev=el[eT],fU=el[eT+(h>>>2)];
j_[d]=j_[d+1]=j_[d+2]=ev;j_[d+3]=255;a5[d]=a5[d+1]=a5[d+2]=fU;a5[d+3]=255}p.push({Kx:new aV(0,0,X,D),data:j_.buffer},{Kx:new aV(0,0,X,D),data:a5.buffer})}else if(iN=="edof"){var V=el[8+7];
console.log(V.toString(16));var f=8+16,e8=c.e2(el,f),ej=c.e2(el,f+2),h=e8*ej;f+=4;f+=32+16;var fV=E.Q(h*4);
for(var n=0;n<h;n++){var d=n<<2;fV[d]=fV[d+1]=fV[d+2]=el[f+n];fV[d+3]=255}if(V==16){}else if(V==19){var he=fV.slice(0);
E.K.ob(fV,he,e8,ej);var gZ=e8;e8=ej;ej=gZ;E.K.an(he,fV,e8,ej)}else throw"Unknown orientation of a depth map";
p.push({Kx:new aV(0,0,e8,ej),data:fV.buffer})}else if(c$!=-1&&!(el[0]==255&&el[1]==129)){try{if(c$!=0)el=el.slice(c$);
var kc=fH.Qt("jpg").ni(el.buffer);for(var n=0;n<kc.length;n++)p.push(kc[n])}catch(aA){}}else if(c.zV(el,0,4)=="PMPD"){var f=4,hQ=c.aN(el,12),aJ=c.aN(el,16),e8=c.aN(el,1060),ej=c.aN(el,1064),cs=e8>ej,fN=p[0].Kx.e>p[0].Kx.n,j4=el.slice(el.length-e8*ej-4),hL=E.Q(e8*ej);
for(var bg=0;bg<ej;bg++)for(var fM=0;fM<e8;fM++)hL[bg*e8+fM]=j4[(ej-bg-1)*e8+fM];var fv=E.Q(e8*ej*4);
fv.fill(255);E.BA(hL,fv);if(cs!=fN){var he=fv.slice(0);E.K.ob(fv,he,e8,ej);var gZ=e8;e8=ej;ej=gZ;E.K.an(he,fv,e8,ej)}p.push({Kx:new aV(0,0,e8,ej),data:fv.buffer})}else console.log(c.zV(el,0,4),el)}if(p.length>1){var al=p[0].Kx;
p[0].Dl="Main";for(var n=1;n<p.length;n++){p[n].Dl=fH.y8.axs(new Uint8Array(p[n].data))?"Depth Map":null;
var dD=p[n].Kx;if(!dD.s4(al)){var kd=al.e/dD.e,gv=al.n/dD.n,j$=new au;j$.scale(kd,gv);var i9=m.EA.wj([new Uint8Array(p[n].data),dD],1,E.K.LJ(j$));
p[n].Kx=i9.rect;p[n].data=i9.buffer}}}if(fH.y8.TP==1)if(M[2]!=1||M[6]!=1)for(var n=0;n<p.length;n++){var bv=p[n],jk=new Uint8Array(bv.data),X=bv.Kx.e,D=bv.Kx.n,e8=M[0],ej=M[1],S=E.Q(e8*ej*4);
E.K.Wn(jk,X,D,S,M);bv.Kx=new aV(0,0,e8,ej);bv.data=S.buffer}return p};fH.y8.axs=function(r){var Q=!0;
for(var n=0;n<r.length;n+=4){Q=Q&&r[n]==r[n+1]&&r[n+1]==r[n+2]}return Q};fH.y8.TP=0;fH.y8.ni=function(r,Q,W){r=new Uint8Array(r);
if(r[0]==255){var b=fH.y8.rU(r);if(b[195]==null){fH.y8.TP++;var X=fH.y8.Wb(r,b,!1);fH.y8.TP--;return X}var D=c.KV(r,b[195][0]+5),h=c.KV(r,b[195][0]+7),S=UTIF.LosslessJpegDecode(r),a=h*D,K=E.Q(a*4);
for(var n=0;n<a;n++){var Y=n<<2,d=Y-n;K[Y]=S[d];K[Y+1]=S[d+1];K[Y+2]=S[d+2];K[Y+3]=255}return[{Kx:new aV(0,0,h,D),data:K.buffer}]}else if(r[0]==0&&r[4]==48&&r[6]==1){var j=r,U=new PDFJS.Jbig2Image,I=[];
if(Q)I.push({data:Q,start:0,end:Q.length});I.push({data:j,start:0,end:j.length});var S=U.parseChunks(I);
if(!W)for(var n=0;n<S.length;n++)S[n]=~S[n];var h=c.v(r,11),D=c.v(r,15),f=Math.ceil(h/8),g=E.Q(h*D*4);
for(var H=0;H<D;H++){var u=H*f;for(var s=0;s<h;s++){var Y=(H*h+s)*4,_=S[u+(s>>>3)]>>>7-(s&7)&1,i=_*255;
g[Y]=i;g[Y+1]=i;g[Y+2]=i;g[Y+3]=255}}return[{Kx:new aV(0,0,h,D),data:g.buffer}]}else{var U=new PDFJS.JpxImage;
U.parse(r);var h=U.width,D=U.height,M=U.tiles,T=U.componentsCount,R=new Uint8Array(h*D*4),z=new aV(0,0,h,D);
for(var U=0;U<M.length;U++){var G=M[U],V=G.width,y=G.height,k=V*y,B=G.items,v=new aV(G.left,G.top,V,y),l=new Uint8Array(k*4);
if(T==1)for(var n=0;n<k;n++){var F=B[n],Y=n*4;l[Y]=F;l[Y+1]=F;l[Y+2]=F;l[Y+3]=255}else if(T==3)for(var n=0;
n<k;n++){var d=n*3,Y=n*4;l[Y]=B[d];l[Y+1]=B[d+1];l[Y+2]=B[d+2];l[Y+3]=255}else console.log("Unknown number of components: "+T);
E.TU(l,v,R,z)}return[{Kx:z,data:R.buffer}]}};fH.uz={};fH.uz.Al=function(r,Q,W,b){if(b==null)b=[70,0,0,0];
var X=b[0]/100,a=0;if(r.length==1)return fH.m_(r[0][0],Q,W,"webp",X);var D=c.oo,h=c.EZ,S=new f8;D(S,a,"RIFF    WEBPVP8X");
a+=16;h(S,a,10);a+=4;h(S,a,18);a+=4;h(S,a,Q-1);a+=3;h(S,a,W-1);a+=3;D(S,a,"ANIM");a+=4;h(S,a,6);a+=4;
S.Jd(a,4);S.data[a+3]=255;c.bK(S,a+4,b[2]);a+=6;var K=[];for(var n=0;n<r.length;n++){K.push(r[n][0])}var Y=UPNG.encode.compress(K,Q,W,X==1?0:Math.max(2,Math.floor(X*500)),[!1,!0,!0,0,!0]).frames;
function d(R,z,G,V){var s=R.R-8,_=R.size+8;G.Jd(V,_);for(var n=0;n<_;n++)G.data[V+n]=z[s+n];return V+_}for(var n=0;
n<r.length;n++){D(S,a,"ANMF");a+=4;var j=a,s=0,_=0;a+=4;var U=Y[n],I=U.rect,f=[I.x>>>1,I.y>>>1,I.width-1,I.height-1,r[n][1]];
for(var g=0;g<5;g++)h(S,a+3*g,f[g]);a+=15;S.Jd(a,1);S.data[a]=1-U.blend<<1|U.dispose;a++;var H=new Uint8Array(fH.m_(U.img.buffer,I.width,I.height,"webp",1)),u=jJ.ak(H.buffer).sub,i={};
for(var M=0;M<u.length;M++)i[u[M].c5]=u[M];if(i.VP8L)a=d(i.VP8L,H,S,a);else throw"e";var T=a-j-4;h(S,j,T);
if((T&1)==1){S.Jd(a,1);a++}}h(S,4,a-8);return S.data.slice(0,a).buffer};(function(){var r=fH.vC.get("wasm/webp").buffer;
WebAssembly.instantiate(r).then(function(Q){var W=Q.instance.exports;fH.uz.exp=W})}());fH.uz.ni=function(r){var Q=new Uint8Array(r),W=fH.uz.a3y,b=null,X=jJ.ak(r).sub,D={};
for(var n=0;n<X.length;n++)D[X[n].c5]=X[n];var h=D.ANIM,S=D.VP8L,a=D["VP8 "],K=D.VP8X;if(h==null){var Y,d;
if(a){Y=c.e2(Q,a.R+6);d=c.e2(Q,a.R+8)}else if(S){var j=c.aN(Q,S.R+1);Y=(j&(1<<14)-1)+1;d=(j>>>14&(1<<14)-1)+1}else throw"e";
var U=[W(b,r,{R:0,size:Q.length},Y,d)];return U}var I=K.R,Y=1+(c.aN(Q,I+4)&16777215),d=1+(c.aN(Q,I+7)&16777215),f=[],g=new aV(0,0,Y,d),H=E.Q(Y*d*4);
for(var n=0;n<X.length;n++){var u=X[n];if(u.c5!="ANMF")continue;var s=[];for(var _=0;_<5;_++)s.push(c.aN(Q,u.R+_*3)&16777215);
var i=new aV(s[0]*2,s[1]*2,s[2]+1,s[3]+1),M=s[4],T=W(b,r,{R:u.R+16,size:u.size-16},Y,d),R=new Uint8Array(T.data),z=Q[u.R+15];
if(z>>>1==0)E.q.YB("norm",R,i,H,g,i,1);else E.TU(R,i,H,g);f.push({Dl:"_a_"+f.length+","+M,Kx:g.clone(),data:H.buffer.slice(0)});
if((z&1)==1){E.tl(R,0);E.TU(R,i,H,g)}}return f};fH.uz.a3y=function(r,Q,W,b,X){var D=fH.uz.exp,h=D.memory,S=5e6+2*W.size+b*X*10;
fH._Q(D,S);var a=new Uint8Array(h.buffer),K=D.malloc(W.size);a.set(new Uint8Array(Q,W.R,W.size),K);var Y=D.malloc(8),d=D.WebPDecodeARGB(K,W.size,Y,Y+4),j=c.aN(a,Y),U=c.aN(a,Y+4),I=j*U*4,f=E.Q(I);
for(var n=0;n<I;n+=4){f[n]=a[d+n+1];f[n+1]=a[d+n+2];f[n+2]=a[d+n+3];f[n+3]=a[d+n]}D.WebPFree(d);D.free(Y);
D.free(K);return{Kx:new aV(0,0,j,U),data:f.buffer}};fH.ak4=function(){function r(S,a,K,Y){var d=new Uint8Array(S[0][0]),j=new Uint32Array(d.buffer),U=[],I={},g=24,H=0,M=0;
for(var n=0;n<j.length;n++){var f=j[n]&16777215;if(I[f]==null){I[f]=U.length;U.push(f);if(U.length>256){U=null;
break}}}if(U){g=1;while(1<<g<U.length)g*=2;if(g==2)g=4}var u={Dr:a,J9:K,Ez:1,Ny:g,cD:0,alm:H},s=4*Math.floor((u.Ny*u.Dr+31)/32);
u.size=s*u.J9+2;var _=new f8,i=U?(1<<g)*4:0;c.oo(_,M,"BM");M+=2;c.EZ(_,M,s*K+16+40+i);M+=4;c.EZ(_,M,0);
M+=4;c.EZ(_,M,54+i);M+=4;_.Jd(M,40);c.EZ(_,M,40);M+=4;h(_.data,M,u,s);M+=36;if(U){_.Jd(M,i);var T=_.data;
for(var n=0;n<U.length;n++){var R=M+n*4,z=U[n]>>>16,G=U[n]>>>8&255,V=U[n]&255;T[R]=z;T[R+1]=G;T[R+2]=V}M+=i}_.Jd(M,s*K);
if(g==24)for(var y=0;y<K;y++){var k=M+(K-1-y)*s;for(var B=0;B<a;B++){var v=(y*a+B)*4;_.data[k+B*3+2]=d[v];
_.data[k+B*3+1]=d[v+1];_.data[k+B*3+0]=d[v+2]}}else if(g==8)for(var y=0;y<K;y++){var k=M+(K-1-y)*s;for(var B=0;
B<a;B++){var v=y*a+B,l=I[j[v]&16777215];_.data[k+B]|=l}}else if(g==4)for(var y=0;y<K;y++){var k=M+(K-1-y)*s;
for(var B=0;B<a;B++){var v=y*a+B,l=I[j[v]&16777215];_.data[k+(B>>>1)]|=l<<4-(B&1)*4}}else if(g==1)for(var y=0;
y<K;y++){var k=M+(K-1-y)*s;for(var B=0;B<a;B++){var v=y*a+B,l=I[j[v]&16777215];_.data[k+(B>>>3)]|=l<<7-(B&7)}}M+=s*K+2;
return _.data.slice(0,M).buffer}function Q(S){S=new Uint8Array(S);if(c.aN(S,0)==40)return[W(S.buffer,0)];
var a=0,K=c.zV(S,a,2);a+=2;if(K!="BM"){alert("Unsupported BMP format: "+K);return}var Y=c.aN(S,a);a+=4;
a+=4;var d=c.aN(S,a);a+=4;return[W(S.buffer,a,d)]}function W(S,a,K){S=new Uint8Array(S);var Y=c.aN(S,a),d=D(S,a+4);
if(d.Ez!=1)alert("unsupported number of color planes: "+d.Ez);if(d.cD!=0&&d.cD!=1&&d.cD!=2&&d.cD!=3){alert("Unsupported BMP compression: "+d.cD);
return}a+=Y;var j=a,U=S;if(K==null)K=a;if(d.cD==1||d.cD==2){var I=X(S,K,d);d.Ny=8;S=I;K=0}var f=4*Math.floor((d.Ny*d.Dr+31)/32),g=d.Dr,H=Math.abs(d.J9),u=new Uint8Array(g*H*4);
u.fill(255);if(d.Ny==32)for(var s=0;s<H;s++){var _=K+(H-1-s)*f;for(var i=0;i<g;i++){var M=(s*g+i)*4;
u[M]=S[_+i*4+2];u[M+1]=S[_+i*4+1];u[M+2]=S[_+i*4+0];u[M+3]=S[_+i*4+3]}}else if(d.Ny==24)for(var s=0;
s<H;s++){var _=K+(H-1-s)*f;for(var i=0;i<g;i++){var M=(s*g+i)*4;u[M]=S[_+i*3+2];u[M+1]=S[_+i*3+1];u[M+2]=S[_+i*3+0]}}else if(d.Ny==16)for(var s=0;
s<H;s++){var _=K+(H-1-s)*f;for(var i=0;i<g;i++){var M=(s*g+i)*4,T=S[_+i*2+1]<<8|S[_+i*2];u[M]=(T>>>11)*(255/31);
u[M+1]=(T>>>5&63)*(255/63);u[M+2]=(T&31)*(255/31)}}else if(d.Ny==8)for(var s=0;s<H;s++){var _=K+(H-1-s)*f;
for(var i=0;i<g;i++){var M=(s*g+i)*4,R=S[_+i];u[M]=U[j+4*R+2];u[M+1]=U[j+4*R+1];u[M+2]=U[j+4*R+0]}}else if(d.Ny==4)for(var s=0;
s<H;s++){var _=K+(H-1-s)*f;for(var i=0;i<g;i++){var M=(s*g+i)*4,R=S[_+(i>>1)];R=R>>4-4*(i&1);R=R&15;
u[M]=U[j+4*R+2];u[M+1]=U[j+4*R+1];u[M+2]=U[j+4*R+0]}}else if(d.Ny==1)for(var s=0;s<H;s++){var _=K+(H-1-s)*f;
for(var i=0;i<g;i++){var M=(s*g+i)*4,z=S[_+(i>>3)];z=z>>7-(i&7);z=z&1;u[M]=U[j+4*z+2];u[M+1]=U[j+4*z+1];
u[M+2]=U[j+4*z+0]}}else throw"Unknown bit depth "+d.Ny;if(d.J9<0){var G=new Uint32Array(u.buffer),V=H>>>1;
for(var s=0;s<V;s++){var y=s*g,k=(H-s-1)*g;for(var i=0;i<g;i++){var B=G[y+i];G[y+i]=G[k+i];G[k+i]=B}}}return{Kx:new aV(0,0,g,H),data:u.buffer}}function b(S,n){return S>>>4-((n&1)<<2)&15}function X(S,a,K){var Y=K.Dr,d=Math.abs(K.J9),j=new Uint8Array(Y*d),U=0,I=0,n=0;
while(I<d){var f=S[a++],g=S[a++],H=I*Y+U;if(f>0){if(K.Ny==4)for(n=0;n<f;n++){j[H+n]=b(g,n)}else for(n=0;
n<f;n++){j[H+n]=g}U+=f}else if(f==0&&g==0){I++;U=0}else if(f==0&&g==1){break}else if(f==0&&g==2){U+=S[a++];
I+=S[a++]}else{var u=g;if(K.Ny==4){for(n=0;n<g;n++){j[H+n]=b(S[a+(n>>>1)],n)}u=Math.ceil(g/2)}else{for(n=0;
n<g;n++){j[H+n]=S[a+n]}}if((u&1)!=0)u++;a+=u;U+=g}}return j}function D(S,a){var K=c.jH,Y=c.aN,d=c.e2,j={};
j.Dr=K(S,a);a+=4;j.J9=K(S,a);a+=4;j.Ez=d(S,a);a+=2;j.Ny=d(S,a);a+=2;j.cD=Y(S,a);a+=4;j.size=Y(S,a);a+=4;
var U=K(S,a);a+=4;var I=K(S,a);a+=4;j.alm=Y(S,a);a+=4;a+=4;return j}function h(S,a,K,Y){c.lw(S,a,K.Dr);
a+=4;c.lw(S,a,K.J9);a+=4;c.Z4(S,a,K.Ez);a+=2;c.Z4(S,a,K.Ny);a+=2;c.lw(S,a,K.cD);a+=4;c.lw(S,a,K.size);
a+=4;c.lw(S,a,2834);a+=4;c.lw(S,a,2834);a+=4;c.lw(S,a,K.alm);a+=4;a+=4}return{ni:Q,Al:r,a5t:W}}();fH.AN={};
fH.AN.Al=function(r,Q,W,b){if(b==null)b=[100,!1,0,0,0,0];var X=[],D=[],h=Q*W*4,f=null;for(var S=0;S<r.length;
S++){var a=new Uint8Array(r[S][0].slice(0));for(var n=0;n<h;n+=4){var K=a[n+3]=a[n+3]>127?255:0;if(K==0)a[n]=a[n+1]=a[n+2]=0}X.push(a.buffer);
D.push(r[S][1])}var Y=Math.round(2+254*b[0]/100),d=UPNG.encode.compress(X,Q,W,Y,[!0,!1,!1,8,!1,b[1]]),j=d.plte,U=new Uint8Array(4),I=new Uint32Array(U.buffer);
for(var n=0;n<j.length;n++){I[0]=j[n];var g=U[0];U[0]=U[2];U[2]=g;j[n]=I[0];if(I[0]==0)f=n}while(j.length<256)j.push(0);
var H=new Uint8Array(1e4+Q*W*r.length),u=b[3],s={palette:j};if(u!=1)s.loop=u==0?0:u-1;var _=new GifWriter(H,Q,W,s);
for(var n=0;n<r.length;n++){var i=d.frames[n],M=i.rect,T=i.blend,R=i.dispose,z=Math.round(D[n]/10);if(z<2)z=2;
_.addFrame(M.x,M.y,M.width,M.height,i.img,{transparent:f,disposal:R+1,delay:z})}return H.slice(0,_.end()).buffer};
fH.AN.ni=function(r){var Q=Date.now(),W=[],b=UGIF.decode(r),X=UGIF.toRGBA8(b),D=new aV(0,0,b.width,b.height);
for(var n=0;n<X.length;n++){var h=b.frames[n];W.push({Kx:D.clone(),Dl:"_a_frm"+n+","+h.delay*10,data:X[n]})}return W};
fH.Ff={};fH.Ff.Al=function(r,Q,W,b){console.log(r);if(Q>256||W>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var X=Math.min(Q,256),D=Math.min(W,256),h=new aV(0,0,X,D),S=E.Q(h.O()*4),a=new aV(0,0,Q,W),K=new Uint8Array(r[0][0]);
E.TU(K,a,S,h);r[0][0]=S.buffer;Q=X;W=D}var Y=new f8,d=0,j=b&&b[0]==!0;c.bK(Y,d,0);d+=2;c.bK(Y,d,j?2:1);
d+=2;c.bK(Y,d,1);d+=2;var U=new Uint8Array(fH.Qt("png").Al(r,Q,W));Y.Jd(d,16);Y.data[d]=Q==256?0:Q;d++;
Y.data[d]=W==256?0:W;d++;d+=2;c.bK(Y,d,j?Math.round(Q/2):1);d+=2;c.bK(Y,d,j?Math.round(W/2):32);d+=2;
c.EZ(Y,d,U.length);d+=4;c.EZ(Y,d,6+16);d+=4;Y.Jd(d,U.length);for(var n=0;n<U.length;n++)Y.data[d+n]=U[n];
d+=U.length;var I=new Uint8Array(d);for(var n=0;n<d;n++)I[n]=Y.data[n];return I.buffer};fH.Ff.ni=function(r){r=new Uint8Array(r);
var Q=4,W=c.e2(r,Q);Q+=2;var b=[];for(var n=0;n<W;n++){var X=fH.Ff.avT(r,Q+n*16),D=r.buffer.slice(X.offset,X.offset+X.size),h=fH.E$(D);
h=h?h:"bmp";if(h=="png"){var S=fH.Qt(h),a=S.ni(D);X.hc=a[0]}else{var K=fH.Qt("BMP").a5t(D,0),D=E.Q(X.Dr*X.J9*4);
E.TU(new Uint8Array(K.data),new aV(0,0,K.Kx.e,K.Kx.n),D,new aV(0,X.J9,X.Dr,X.J9));K.data=D.buffer;K.Kx.n=X.J9;
X.hc=K}b.push(X)}b.sort(function(Y,d){if(Y.Dr!=d.Dr)return Y.Dr-d.Dr;return Y.aka-d.aka});return[b.pop().hc]};
fH.Ff.avT=function(r,Q){var W={};W.Dr=r[Q];Q++;if(W.Dr==0)W.Dr=256;W.J9=r[Q];Q++;if(W.J9==0)W.J9=256;
W.anM=r[Q];Q++;Q++;W.adj=c.e2(r,Q);Q+=2;W.aka=c.e2(r,Q);Q+=2;W.size=c.aN(r,Q);Q+=4;W.offset=c.aN(r,Q);
Q+=4;return W};fH.C8={};fH.C8.ni=function(r){var Q=Date.now(),b,M=!0;if(E.raw.xb(r.byteLength))return[E.raw.ayd(r)];
var W=UTIF.decode(r);if(W[0].t33421)b=W[0];else if(W[0].subIFD&&W[0].t271&&W[0].t271[0]=="Hasselblad"){b=W[0].subIFD[0];
b.t33421=[2,2]}else if(W[0].subIFD&&W[0].subIFD[0].t33421){b=W[0].subIFD[0];if(b.t50706==null){if(b.t258[0]==8)b.t258[0]=12}}else if(W[0].subIFD&&W[0].subIFD[0]&&W[0].subIFD[0].t262&&W[0].subIFD[0].t262[0]==34892)b=W[0].subIFD[0];
else if(W[0].subIFD&&W[0].subIFD[1]&&W[0].subIFD[1].t33421)b=W[0].subIFD[1];else if(W[0].subIFD&&W[0].subIFD[2]&&W[0].subIFD[2].t33421)b=W[0].subIFD[2];
else if(W[3]&&W[3].t50648){var X=W[0].exifIFD,D=X.makerNote;b=W[3];var h=D.t224[1],S=D.t224[2];b.t256=[h];
b.t257=[S];b.t258=[16];b.t259=[7];b.t262=[32803];b.t277=[1];b.t33421=[2,2];var a=b.t50656[0],K=E.raw.$g[a];
if(K==null)throw"e";b.t33422=K}else if(W[0].t1&&W[0].t1.length==4){var Y=W[0],d={2:256,3:257,8:277,11:259,271:271,272:272,279:279,280:273,278:278};
b={};for(var j in d)if(Y["t"+j])b["t"+d[j]]=Y["t"+j];b.t2=Y.t2;b.t3=Y.t3;b.t10=Y.t10;b.t45=Y.t45;b.t258=[16];
b.t33421=[2,2];var U=Y.t9[0];b.t33422=[[0,1,1,2],[1,0,2,1],[1,2,0,1],[2,1,1,0]][U-1];var I=Y.t4[0],f=Y.t5[0],g=Y.t6[0],H=Y.t7[0];
b.t50829=[I,f,g,H];var u=Y.t36[0],s=Y.t37[0],_=Y.t38[0];b.t50728=[s/u,s/s,s/_]}if(b){UTIF.decodeImage(r,b,W);
for(var i in W[0])if((i[0]=="t"||i[0]=="e"||i[0]=="d")&&b[i]==null)b[i]=W[0][i];b.fQ=W[0].t274?W[0].t274[0]:1;
return[b]}var T=1/256;for(var n=0;n<W.length;n++)if(W[n].t258&&W[n].t258[0]==16&&W[n].t277&&W[n].t277[0]==1){}else M=!1;
if(M){var R=0,z=0,G=0;for(var n=0;n<W.length;n++){UTIF.decodeImage(r,W[n],W);var V=W[n].data;for(var y=0;
y<V.length;y+=2){var k=V[y+1]<<8|V[y];if(k>R)R=k;z+=k;G++}}T=1/256*65535/(.5*R+.5*(2*z/G))}var B=[];
for(var n=0;n<W.length;n++){var v=W[n],l=72;UTIF.decodeImage(r,v,W);var F=v.t282,L=v.t296;if(F!=null&&L!=null){l=F[0][0]/F[0][1];
if(L[0]==3)l=Math.round(l/2.54)}if(v.width==null)continue;var Z=UTIF.toRGBA8(v,T).buffer,t=a1._A(v);
console.log(v);B.push({Kx:new aV(0,0,v.width,v.height),data:Z,HW:l,L8:t,sH:v.t34675?v.t34675.slice(0):null})}return B};
fH.C8.Al=function(r,Q,W,b){if(b==null)b=[!1];var X={},D=r[0];if(D[3]!=null&&b[0])X=a1.bZ(D[3]);if(D[2]!=null){X.t282=X.t283=[[Math.round(D[2]),1]];
X.t296=[2]}return UTIF.encodeImage(D[0],Q,W,X)};fH.J$={};fH.J$.gF=!0;fH.J$.ni=function(r,Q){ba.ak(r,Q)};
fH.J$.aac=function(r,Q,W,b){if(b==null)b=[!1,!1,!1,!1];if(!b[0])r.T6();var X=new f8,D=ba.T4(r,X,b);return[X.data.buffer,D]};
fH.J$.Al=function(r,Q,W,b){var X=fH.J$.aac(r,Q,W,b),D=X[0],h=X[1];return D.byteLength==h?D:D.slice(0,h)};
fH.mt={};fH.mt.gF=!0;fH.mt.ni=function(r,Q){var W=pako.inflate(new Uint8Array(r)),b=c.KV(W,0),X=c.KV(W,2),D=4;
Q.e=c.v(W,D);D+=4;Q.n=c.v(W,D);D+=4;Q.buffer=E.Q(Q.e*Q.n*4);var h=c.KV(W,D);D+=2;D+=4;for(var S=0;S<h;
S++){var a=Q.b_(),I=0,l=1,F=2,L=3,Z=0;Q.B.push(a);var K=c.v(W,D);D+=4;var Y=D,d=c.KV(W,Y);Y+=2;var j=c.CA(W,Y,d);
Y+=d;a._J(j);var U=W[Y];Y++;if(U!=0&&U!=1)throw U;a.rect.x=c.Kv(W,Y);Y+=4;a.rect.y=c.Kv(W,Y);Y+=4;a.rect.e=c.v(W,Y);
Y+=4;a.rect.n=c.v(W,Y);Y+=4;if(b>3){I=c.Kv(W,Y);Y+=4}a.opacity=Math.round(255*W[Y]/100);Y++;var f=W[Y];
Y++;a.ky(f!=0);a.iX="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[W[Y]];
Y++;var g=W[Y];Y++;if(g)a.add.lspf=1<<31;if(b>3){var H=c.KV(W,Y);Y+=2;if(H!=0){var u=JSON.parse(c.CA(W,Y,H));
Y+=H;var s=u.text,_=u.textSettings,i=_.font,M=_.size,T=_.padding,R=parseInt(_.color.slice(1),16);a.add.lnsr="rend";
a.add.TySh=aH.M6(0,0);a.add.TySh.$C=new aV(0,0,100,100);var z=a.add.TySh.D=new au,G=a.rect.e/2,V=a.rect.n/2;
z.translate(-G,-V);z.rotate(-I*Math.PI/180);z.translate(G,V);z.translate(a.rect.x+T,a.rect.y+T);var y=a.add.TySh.kN;
aH.GK(y,1);aH.Ad(y,[0,0,a.rect.e-T*2,a.rect.n]);aH.ig(y,0,s);var k=aH.Z2(y,0,1);k.jr.FontSize=M;k.jr.FillColor={Type:1,Values:[1,(R>>>16&255)/255,(R>>>8&255)/255,(R>>>0&255)/255]};
if(_.bold)i+="-Bold";aH.Oz(k,i);k.GG.Justification=["left","right","center"].indexOf(_.align);aH.Yf(y,0,s.length,k)}}var B=c.v(W,Y);
Y+=4;if(B!=a.rect.O()*4){for(var n=a.rect.e;n>a.rect.e/2;n--){var v=B/(n*4);if(v==Math.round(v)){a.rect.e=n;
a.rect.n=v;break}}}a.buffer=E.Q(a.rect.O()*4);if(b>3){l=0;F=1;L=2;Z=3}for(var n=0;n<B;n+=4){a.buffer[n]=W[Y+n+l];
a.buffer[n+1]=W[Y+n+F];a.buffer[n+2]=W[Y+n+L];a.buffer[n+3]=W[Y+n+Z]}Y+=B;var t=c.v(W,Y);Y+=4;if(t==0&&b>3){D+=K;
continue}var A=W[Y];Y++;var o=c.KV(W,Y);Y+=2;if(t!=0){a.z=new $.lA;a.z.rect=a.rect.clone();a.z.channel=E.Q(a.rect.O());
for(var n=0;n<t;n+=4)a.z.channel[n>>>2]=W[Y+n+1];Y+=t}if(A!=0){var O=JSON.parse(iq.default);a.add.lmfx=O;
for(var n=0;n<iq.order.length;n++)O[iq.lY[n]]={t:"VlLs",v:[]};var x={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var n=0;n<A;n++){var C=c.KV(W,Y),J=Y+C+4,q=W.slice(Y,J),fd=W[Y+2];Y+=3;var w=x[fd+""],P=JSON.parse(iq.WS[w]);
O[iq.lY[w]].v.push({t:"Objc",v:P});if(w!=0){P.Md.v.BlnM=hG.Ra("norm");P.Opct.v.val=W[Y];Y++;if(w==9||w==2){P.Dstn.v.val=W[Y+1];
Y+=2}else Y+=2;P.blur.v.val=Math.round(W[Y]*1.2);Y++;if(w==9||w==2){P.uglg.v=!1;P.lagl.v.val=180-c.KV(W,Y);
Y+=2}P.Clr.v=E.M.rY({o:W[Y+1],W:W[Y+2],k:W[Y+3]})}else{P.hglM.v.BlnM=P.sdwM.v.BlnM=hG.Ra("norm");Y+=2;
var fc=W[Y++],p=W[Y++];P.blur.v.val=Math.round(Math.sqrt(p*fc)*1.3);P.srgR.v.val=Math.round(100*fc/p);
P.uglg.v=!1;P.lagl.v.val=180-c.KV(W,Y);Y+=2;P.hglO.v.val=W[Y++];P.hglC.v=E.M.rY({o:W[Y+1],W:W[Y+2],k:W[Y+3]});
Y+=4;P.sdwO.v.val=W[Y++];P.sdwC.v=E.M.rY({o:W[Y+1],W:W[Y+2],k:W[Y+3]});Y+=4}Y=J}}if(Y-D<K){var gG=c.v(W,Y),cF=0;
Y+=4;Y++;var d=c.KV(W,Y);Y+=2;var s=c.CA(W,Y,d);Y+=d;s=s.replace(/\r/g,"\n");var d=c.KV(W,Y);Y+=2;var i=c.CA(W,Y,d);
Y+=d;var M=c.KV(W,Y);Y+=2;var fh=a.rect.x,fJ=a.rect.e;if(gG&4)cF=1;if(gG&2)cF=2;var j_=Math.round(M*.4);
if(cF==0||cF==2)fJ+=j_;if(cF==1||cF==2){fJ+=j_;fh-=j_}a.add.lnsr="rend";a.add.TySh=aH.M6(0,0);a.add.TySh.$C=new aV(0,0,100,100);
a.add.TySh.D=new au(1,0,0,1,fh,a.rect.y+M*.25);var y=a.add.TySh.kN;aH.GK(y,1);aH.Ad(y,[0,0,fJ,a.rect.n]);
aH.ig(y,0,s);var k=aH.Z2(y,0,1);k.jr.FontSize=M;k.jr.FillColor={Type:1,Values:[1,W[Y+1]/255,W[Y+2]/255,W[Y+3]/255]};
Y+=4;if(W[Y+5])i+="-Bold";if(W[Y+6])i+="-Italic";aH.Oz(k,i);k.GG.Justification=cF;Y+=8;aH.Yf(y,0,s.length,k)}D+=K}};
fH.XY={};fH.XY.gF=!0;fH.XY.ni=function(r,Q){gx.ak(r,Q)};var gx=function(){function r(d,j){var U=Date.now(),I=UZIP.parse(d);
console.log(I);console.log(Date.now()-U);U=Date.now();var f=I["maindoc.xml"],g=new DOMParser,H=g.parseFromString(c.CA(f),"image/svg+xml").children[0].children[0],u=H.getAttribute("name"),s=j.e=K(H,"width"),_=j.n=K(H,"height");
j.HW=Math.round(K(H,"x-res"));var i=H.children[0].children;Q(i,j,{z5:u,SV:I,s7:null});console.log(Date.now()-U);
U=Date.now()}function Q(d,j,U){for(var I=0;I<d.length;I++){var f=d[d.length-1-I],g=f.getAttribute("nodetype");
if(g=="transparencymask"){U.s7.z=Y(f,U);continue}var H=f.getAttribute("compositeop"),u=f.getAttribute("filename"),s=f.getAttribute("channelflags"),_=f.children;
_=_.length==0?null:_[0].children;var i=j.b_();if(g=="paintlayer"){var M=K(f,"x"),T=K(f,"y"),R=U.SV[U.z5+"/layers/"+u+".defaultpixel"],z=U.SV[U.z5+"/layers/"+u],G=a(z);
i.rect=G[0];i.rect.offset(M,T);i.buffer=G[1];if(i.rect.WB()&&R.join()!="0,0,0,0"){i.add.SoCo={classID:"null",Clr:{t:"Objc",v:E.M.rY({o:R[0],W:R[1],k:R[2]})}};
i.hR(j)}}else if(g=="grouplayer"){i.add.lsct=d1.O9;i.iX="pass";i.KX|=24;j.B.push(j.Tz());var V=U.s7;
U.s7=i;Q(_,j,U);U.s7=V}else if(g=="shapelayer"){var z=U.SV[U.z5+"/layers/"+u+".shapelayer/content.svg"],y=c.CA(z),k=j.jS(z,i.getName(),0,0);
i=k;var B=new aV(0,0,j.e,j.n),v=E.p.vk(B).C;i.add.SoLd.Trnf=m.EA.Aa(v);i.add.SoLd.nonAffineTransform=m.EA.Aa(v);
i.vd(j,!1)}else if(g=="clonelayer"){var n=-1;for(var l=0;l<d.length;l++)if(d[l].getAttribute("name")==f.getAttribute("clonefrom"))n=l;
if(n!=-1){Q([d[n]],j,U);i=j.B.pop()}}else console.log(g,f);i._J(f.getAttribute("name"));if(K(f,"locked")==1)i.add.lspf=1<<31;
i.ky(K(f,"visible")==1);var F={normal:"norm",multiply:"mul ",diff:"diff",hard_light:"hLit"}[H];if(F)i.iX=F;
else console.log(H);i.opacity=K(f,"opacity");if(s=="1110")i.Cw=!0;var L=_?_[0]:null;if(L&&L.tagName=="mask")i.z=Y(L,U);
j.B.push(i)}}function W(d,j){var U=0,I=0,f=d.length,g,H,u;while(U<f){g=d[U++];if(g>31){H=g>>>5;if(H==7)H=7+d[U++];
u=(g&31)<<8|d[U++];var s=I-u-1,_=H>>>1;j[I++]=j[s++];j[I++]=j[s++];for(var n=0;n<_;n++){j[I++]=j[s++];
j[I++]=j[s++]}if((H&1)==1)j[I++]=j[s++]}else{for(var n=0;n<=g;n++){j[I++]=d[U++]}}}}function b(d,j){var U=0;
while(d[j+U]!=10)U++;return c.zV(d,j,U)}var X=new aV(0,0,64,64),D=new Uint8Array(64*64*4),h=new Uint8Array(64*64*4);
function S(){for(var n=0;n<4096;n++){var d=n<<2;D[d+0]=h[n+8192];D[d+1]=h[n+4096];D[d+2]=h[n];D[d+3]=h[n+12288]}}function a(d){var j=0,U={};
for(var n=0;n<5;n++){var I=b(d,j);j+=I.length+1;I=I.split(" ");U[I[0]]=parseInt(I[1])}var f=U.PIXELSIZE,g=[],H=new aV;
while(j<d.length){var I=b(d,j),u=I.split(",");j+=I.length+1;if(u[2]!="LZF")throw u[2];X.x=parseInt(u[0]);
X.y=parseInt(u[1]);H=H.Bc(X);var s=parseInt(u[3]);g.push([X.clone(),new Uint8Array(d.buffer,j+1,s-1)]);
j+=s}var _=E.Q(H.O()*f);for(var n=0;n<g.length;n++){var i=g[n];W(i[1],h);if(f==4){S();E.TU(D,i[0],_,H)}else E.L0(h,i[0],_,H)}return[H,_]}function K(d,j){return parseInt(d.getAttribute(j))}function Y(d,j){var U=d.getAttribute("filename"),I=j.SV[j.z5+"/layers/"+U+".pixelselection"],f=a(I),g=new $.lA;
g.Vg=K(d,"visible")==1;g.rect=f[0];g.channel=f[1];return g}return{ak:r}}();fH.CY={};fH.CY.gF=!0;fH.CY.ni=function(r,Q){dI.ak(r,Q)};
fH.Rx={};fH.Rx.gF=!0;fH.Rx.ni=function(r,Q){h$.ak(r,Q)};fH.$X={};fH.$X.gF=!0;fH.$X.ni=function(r,Q){c4.ak(r,Q)};
fH.Aq={};fH.Aq.gF=!0;fH.Aq.ni=function(r,Q){iV.ak(r,Q)};fH.jc={};fH.jc.gF=!0;fH.jc.ni=function(r,Q){f5.ak(r,Q)};
fH.rl={};fH.rl.gF=!0;fH.rl.ni=function(r,Q){iD.ak(r,Q)};fH.SW={};fH.SW.gF=!0;fH.SW.Al=function(r,Q,W,b,X){if(b==null)b=[!0,!1,!1,!1,!0];
var D=dS.cg(r,{XI:b[0],hidden:b[1],adD:b[2],ala:b[3],NX:b[4],acw:Q,arE:W},X.zl);return D};fH.SW.ni=function(r,Q,W){dS.ak(r,Q,W)};
fH.oT={};fH.oT.gF=!0;fH.oT.ni=function(r,Q){var W=150,b=new au(1,0,0,-1,0,0);b.scale(W/72,W/72);Q.HW=W;
var X=new bF(Q,b,!0);FromPS.Parse(r,X)};fH.S9={};fH.S9.gF=!0;fH.S9.Al=function(r,Q,W,b,X){if(b==null)b=["",100,!1,!1,!1,0];
b[6]=["jpg"];var D=new ToPDF;h2.cg(r,b,D,X.zl,Q,W);return D.buffer};fH.S9.ni=function(r,Q,W){var b=2;
while(!0){var X=b*72,D=new au(1,0,0,-1,0,0);D.scale(X/72,X/72);Q.HW=X;var h=new bF(Q,D,!0);FromPDF.Parse(r,h);
var S=Math.max(Q.e,Q.n);if(W&&S<Math.max(W[0],W[1])){Q.B=[];var a=b;while(S*(b/a)<Math.max(W[0],W[1]))b++}else break}};
fH.IB={};fH.IB.gF=!0;fH.IB.ni=function(r,Q){var W=72,b=new au(1,0,0,1,0,0);b.scale(W/72,W/72);Q.HW=W;
var X=new bF(Q,b,!1);FromWMF.Parse(r,X)};fH.XW={};fH.XW.TO=!0;fH.XW.gF=!0;fH.XW.Al=function(r,Q,W,b,X){if(b==null)b=["",100,!1,!1,!1,0];
b[6]=[];var D=new ToEMF;h2.cg(r,b,D,X.zl);return D.buffer};fH.XW.ni=function(r,Q){var W=72,b=new au(1,0,0,1,0,0);
b.scale(W/72,W/72);Q.HW=W;var X=new bF(Q,b,!1);FromEMF.Parse(r,X)};fH.HO={};fH.HO.gF=!0;fH.HO.ni=function(r,Q){return gk.ak(r,Q)};
fH.JI={};fH.JI.ni=function(){var r,Q,W,b,X,D,h=0,S=0,a=0,K=0,Y=0;function d(f){var g=aU.ak(f),H=g.W8,u=new Uint8Array(f),T=0,R,z;
if(H=="ILBM")return j(g,u);var s=c.KV,_=c.v,i=g.sub,M=j(i[0],u);for(var G=1;G<i.length-2;G++){var V=M[Math.max(0,G-2)].awt.slice(0),y=i[G];
for(var k=0;k<y.sub.length;k++){var B=y.sub[k],v=B.R;if(B.c5=="ANHD"){var l=u[v++];if(l!=5)throw l;var b=u[v++];
v+=8;var F=s(u,v);v+=2;R=s(u,v);v+=2;v++;v++;z=s(u,v);v+=2}else if(B.c5=="DLTA"){var L=[],Z=v;for(var n=0;
n<16;n++)L.push(_(u,v+n*4));v+=64;var t=D;for(var A=0;A<X;A++){if(L[A]==0)continue;v=Z+L[A];for(var o=0;
o<t;o++){var O=u[v++],x=0;if(O==0)continue;for(var n=0;n<O;n++){var C=u[v++];if(C==0){var J=u[v++],q=u[v++];
for(var fd=0;fd<J;fd++){V[(x*X+A)*t+o]=q;x++}}else if(C<128){x+=C}else{C-=128;for(var fd=0;fd<C;fd++){V[(x*X+A)*t+o]=u[v+fd];
x++}v+=C}}}}}else console.log(B.c5)}var w=R==0?17:Math.round((R-T)*1e3/60);M.push({data:I(u,V),Kx:new aV(0,0,r,Q),awt:V,Dl:"_a_frm"+G+","+w});
T=R}M[0].Dl=M[1].Dl;return M}function j(f,g){var H,u;h=0;S=0;a=0;K=0;Y=0;for(var s=0;s<f.sub.length;
s++){var _=f.sub[s],i=_.R;if(_.c5=="BMHD"){var M=[];for(var n=0;n<4;n++)M[n]=c.KV(g,i+2*n);i+=8;var T=M[2],R=M[3];
r=M[0];Q=M[1];W=g[i++];b=g[i++];var z=g[i++];if(z!=1)throw z;D=r+15>>>4<<1;X=W+b}else if(_.c5=="CMAP")h=i;
else if(_.c5=="CAMG"){var G=c.v(g,i);S=G&32768,a=G&4,K=G&2048;Y=G&128}else if(_.c5=="BODY"){u=E.Q(D*Q*X);
et.oe(g,i,_.size,u,0,u.length)}}H=I(g,u);return[{Kx:new aV(0,0,r,Q),data:H.buffer,awt:u}]}function U(f,fb){return f[fb>>>3]>>>7-(fb&7)&1}function I(f,g){var H=W-2,u=(1<<H)-1,s=Math.round(255/u),_,i,M,T=D*8,R=E.Q(r*Q*4);
for(var z=0;z<Q;z++)for(var G=0;G<r;G++){var V=0;for(var y=0;y<X;y++){var k=(z*X+y)*T+G,B=U(g,k);V|=B<<y}V=V&(1<<W)-1;
var n=z*r+G,v=n<<2;if(h!=0){if(K!=0&&V>>>H!=0){var l=V>>>H,F=(V&u)*s;if(l==1)M=F;else if(l==2)_=F;else if(l==3)i=F}else{var F=h+V*3;
_=f[F+0];i=f[F+1];M=f[F+2]}}else{_=V>>>0&255;i=V>>>8&255;M=V>>>16&255}R[v+0]=_;R[v+1]=i;R[v+2]=M;R[v+3]=255}return R}return d}();
fH.fx={};fH.fx.gF=!1;fH.fx.Al=function(r,Q,W,b){var X=r[0][4],D=new Uint8Array(r[0][0]),h=2,S=X?!0:!1,a=S?4:3,K=new Uint8Array(Q*W*a);
for(var Y=0;Y<W;Y++)for(var d=0;d<Q;d++){var j=Y*Q+d<<2,U=((W-Y-1)*Q+d)*a;K[U]=D[j+2];K[U+1]=D[j+1];
K[U+2]=D[j+0];if(S)K[U+3]=X[0][Y*Q+d]}if(!0){var I=K.length,f=0,g=new Uint8Array(I*2),H=0,u=0,s=Q*a;
while(u<I){var _=u,i=0,M=s*(Math.floor(u/s)+1);while(_<M&&i<128){var T=!0;for(var n=0;n<a;n++)T=T&K[u+n]==K[_+n];
if(!T)break;_+=a;i++}if(i==1){var R=1;while(R<128&&u+(R+1)*a<M){var T=!0,z=u+R*a;for(var n=0;n<a;n++)T=T&K[z+n]==K[z+a+n];
if(T)break;R++}g[H++]=R-1;for(var G=0;G<R;G++)for(var n=0;n<a;n++)g[H++]=K[u++]}else{g[H++]=127+i;for(var n=0;
n<a;n++)g[H+n]=K[u+n];H+=a;u+=a*i;f+=i}}K=g.slice(0,H);h+=8}var V=new Uint8Array(18+K.length+26);V[2]=h;
c.Z4(V,12,Q);c.Z4(V,14,W);V[16]=a*8;V[17]=a==4?8:0;V.set(K,18);c._a(V,18+K.length+8,"TRUEVISION-XFILE.");
return V.buffer};fH.fx.ni=function(r){var Q=new Uint8Array(r),W=0,b=Q[0],X=Q[1],D=Q[2],h=Q[4]*256+Q[3],S=Q[6]*256+Q[5],a=Q[7],K=Q[9]*256+Q[8],Y=Q[11]*256+Q[10],d=Q[13]*256+Q[12],j=Q[15]*256+Q[14],U=Q[16],I=Q[17],f=I>>>4,g=c.zV(Q,18,b),H=E.Q(d*j*4),W=18+b+(S*a>>>3),u=new Uint8Array(Q.buffer,W);
if(D>3){var s=0,_=Q,i=new Uint8Array(d*j*U>>>3),M=W,T=0,R=Q.length,z=U>>>3;while(T<i.length){var fb=_[M];
M++;if(fb<128)for(var n=0;n<fb+1;n++){for(var G=0;G<z;G++){i[T]=_[M];T++;M++}}else{for(var n=0;n<fb-127;
n++){for(var G=0;G<z;G++){i[T]=_[M+G];T++}}M+=z}}D-=8;u=i;W=M}else W+=d*j*U>>>3;var V=new Uint8Array(4),y=fH.fx.a2Y;
for(var k=0;k<j;k++)for(var B=0;B<d;B++){var v=(f&2)==0?(j-k-1)*d+B:k*d+B,l=k*d+B,F,L,Z,t=255,A=v*U>>>3;
if(D==1){var o=0;if(U==8)o=u[A];else throw"e";y(Q,18+b+h+(o*a>>>3),a,V);F=V[0];L=V[1];Z=V[2];t=V[3]}else if(D==2){y(u,A,U,V);
F=V[0];L=V[1];Z=V[2];t=V[3]}else if(D==3){if(U==8)F=L=Z=u[A];else throw"e"}var O=l*4;H[O]=F;H[O+1]=L;
H[O+2]=Z;H[O+3]=t}var V={Kx:new aV(0,0,d,j),data:H.buffer,Dl:g};if(E.vR(H)){var x=E.Q(d*j);E.TX(H,x,3);
E.tl(H,4278190080,16777215);V.Ev=[x]}return[V]};fH.fx.a2Y=function(r,Q,W,b){var X,D,h,S=255;if(W==24||W==32){h=r[Q];
D=r[Q+1];X=r[Q+2];if(W==32)S=r[Q+3]}else if(W==16){var a=r[Q+1]<<8|r[Q+0];X=a>>>10&31;D=a>>>5&31;h=a>>>0&31;
X=Math.round(X*(255/31));D=Math.round(D*(255/31));h=Math.round(h*(255/31))}else throw"e";b[0]=X;b[1]=D;
b[2]=h;b[3]=S};fH.acJ=function(){var r,Q=[],W=!1;function b(h,S,a,K){r=a;Q.push(h,K);X()}function X(){if(W||Q.length==0)return;
W=!0;fH.af3(Q.shift(),"image/avif",D)}function D(h){r(null,[h],Q.shift());W=!1;X()}return{gF:!1,KG:!0,ni:b}}();
fH.aih=function(){var r,Q=[],W=!1,b,X,D,h,S,a,K=10,Y=0;function d(g,H,u,s,_){r=u;Q.push(g,s);var i=new km(e.E.L,!0);
i.data={d:e.c.Re,wv:"setFPS",h$:K,eq:j};_.$(i)}function j(g){K=Math.max(1,Math.min(60,g));U()}function U(){if(W||Q.length==0)return;
W=!0;b=document.createElement("canvas");X=b.getContext("2d");D=document.createElement("video");var g="data:"+"video/mp4"+";base64,"+fH.XS(Q.shift());
D.src=g;D.muted=!0;D.currentTime=0;D.addEventListener("canplay",I,!1);D.addEventListener("timeupdate",f,!1)}function I(g){D.removeEventListener("canplay",I);
h=b.width=D.videoWidth;S=b.height=D.videoHeight;a=[];D.play()}function f(g){clearTimeout(Y);X.drawImage(D,0,0);
a.push({Dl:"_a_"+a.length+","+Math.round(1e3/K),Kx:new aV(0,0,h,S),data:X.getImageData(0,0,h,S).data.buffer});
var H=D.currentTime+1/K;if(H<D.duration&&g){D.currentTime=H;Y=setTimeout(f,1e3)}else{r(null,a,Q.shift());
D.removeEventListener("timeupdate",f);W=!1;U();a=null}}return{gF:!1,KG:!0,ni:d}}();fH.Rw={};fH.Rw.ni=function(r){var Q=new Uint8Array(r),W=0,b=112,X=42,D=c.aN,Y;
W+=8;var h=Q[W];W++;if(h!=X)throw"e";var S=D(Q,W);W+=4;var a=c.Tk(Q,W,S);W+=S*2;var K=[];while(W<Q.length){Y=D(Q,W);
W+=4;if(Y!=b)throw Y;W+=4;Y=Q[W];W++;if(Y!=X)throw Y;var d=D(Q,W);W+=4;var j=Q[W];W++;if(j!=X){W-=5;
d=D(Q,W);W+=8;Y=Q[W];W++;if(Y!=X)throw Y}var U=D(Q,W)*2;W+=4;if(d>0)K.push(W+U);W+=U+d}var I=new DOMParser,f=I.parseFromString(a,"image/svg+xml").firstChild.firstChild,g=[];
fH.Rw.Oe(f,Q,K,g);return g};fH.Rw.Oe=function(r,Q,W,b){var X=r.firstChild.firstChild;if(X.tagName=="Image"){var D=X.getElementsByTagName("ImageDescription")[0],h=D.children[0].children,S=D.children[1].children,a=W.shift(),K=[];
for(var n=0;n<S.length;n++)K.push(parseInt(S[n].getAttribute("NumberOfElements")));while(K.length>3)K[2]*=K.pop();
var Y=h.length,d=K[0],j=K[1],U=K[2],I=parseInt(S[0].getAttribute("BytesInc"));for(var f=0;f<U;f++){var g=E.Q(d*j*4);
E.tl(g,4278190080);for(var H=0;H<Y;H++){var u=E.Q(d*j);if(I==1)for(var s=0;s<u.length;s++)u[s]=Q[a+s];
else if(I==2)for(var s=0;s<u.length;s++)u[s]=Math.min(255,(Q[a+s*2+1]<<8|Q[a+s*2])>>>2);else throw I;
if(H!=3)E.nV(u,g,H);if(Y==1){E.nV(u,g,1);E.nV(u,g,2)}a+=d*j*I}b.push({Kx:new aV(0,0,d,j),data:g.buffer})}}else{var _=r.children,i=0;
while(i<_.length&&_[i].tagName!="Children")i++;if(i==_.length)throw"e";_=_[i].children;for(var M=0;M<_.length;
M++)fH.Rw.Oe(_[M],Q,W,b)}};fH.akA=function(){function r(h,S,a,K,Y){var d=new Int8Array(h.buffer),j=new Int8Array(K.buffer),U=S+a;
while(S<U){var fb=d[S];S++;if(fb>=0&&fb<128)for(var n=0;n<fb+1;n++){j[Y]=d[S];Y++;S++}if(fb>=-127&&fb<0){for(var n=0;
n<-fb+1;n++){j[Y]=d[S];Y++}S++}}return Y}function Q(h,S,a,K,Y,d){var j=S*a*K>>>3,U=E.Q(j*Y),I=b(h,0,0)[0];
for(var f=0;f<Y;f++){var g=I[f+1];if(d){var H=fH.Qt("jpg").ni(g.buffer),u=E.Q(j);E.Ou(new Uint8Array(H[0].data),u);
U.set(u,j*f)}else if(g[0]==255&&g[1]==216&&g[2]==255){var s=UTIF.LosslessJpegDecode(g);U.set(new Uint8Array(s.buffer),j*f)}else r(g,64,g.length,U,j*f)}return U}function W(h){var S=new Uint8Array(h),a=0,K=c.zV(S,0,128);
a+=128;var Y=c.zV(S,a,4);a+=4;var d=X(S,a,0)[0],j=d.g28;if(j==null){alert("No image.");return[]}var U=j.cols,I=j.rows,f=U*I,g=j.photoInterpret,H=j.bitsAlloc,u=j.bitsStored,s=j.lossyCompr;
if(s==null)s=d.g8.lossyCompr;var _=d.g7fe0.pixelData,i=j.numOfFrames;i=i?parseInt(i):1;var M=new Uint8Array(_.buffer),T=f*H>>>3;
if(M.length!=T*i){_=Q(_,U,I,H,i,s)}else{}if(H==16)_=new Uint16Array(_.buffer);console.log(j);console.log(d);
var R=[];for(var z=0;z<i;z++){var G=z*T,h=E.Q(U*I*4);h.fill(255);if(g=="MONOCHROME2"){var V=0,y=255,k=j.largestValue,B=j.smallestValue;
if(k!=null){y=k;V=B}else if(u!=8){y=0;V=1e9;for(var n=0;n<f;n++){var v=_[G+n];if(v>1<<u-8){if(v>y)y=v;
if(v<V)V=v}}}var l=255/(y-V);for(var n=0;n<f;n++){var v=Math.max(0,Math.min(255,(_[G+n]-V)*l)),F=n*4;
h[F]=h[F+1]=h[F+2]=v}}else if(g=="PALETTE COLOR"){var L=j.pltRed,Z=j.pltGreen,t=j.pltBlue;for(var n=0;
n<f;n++){var A=_[G+n],F=n*4;h[F]=L[A]>>>8;h[F+1]=Z[A]>>>8;h[F+2]=t[A]>>>8}}else throw g;R.push({Kx:new aV(0,0,U,I),data:h.buffer})}return R}function b(h,S,a){var K=c.e2,Y=c.MW,d=c.aN,j=[],U=S;
while(S<h.length){var I=K(h,S);S+=2;var f=K(h,S);S+=2;var g=d(h,S);S+=4;if(I==65534&&f==57344){if(g==4294967295){var H=X(h,S,a+1);
j.push(H[0]);S=H[1]}else{j.push(h.slice(S,S+g));S+=g}}else if(I==65534&&f==57357){}else if(I==65534&&f==57565)break;
else throw"e"}return[j,S]}function X(h,S,a){var K=c.e2,Y=c.MW,d=c.aN,j={},U="\t".repeat(a);while(S<h.length){var I=K(h,S),u="",s=0,i=null;
S+=2;var f=K(h,S);S+=2;var g=I.toString(16),H=f.toString(16);if(I==65532)break;if(I==65534&&f==57357){S-=4;
break}if(I==65534&&f==57565)throw"e";if(f==0){S+=8;continue}if(65<=h[S+1]){u=c.zV(h,S,2);S+=2;if(u=="OB"||u=="SQ"||u=="OW"){s=d(h,S+2);
S+=6}else{s=K(h,S);S+=2}}else{u=D[g][H].split(",")[1];s=d(h,S);S+=4}var _=D[g][H];if(_)_=_.split(",")[0];
if(_==null){_="t"+H}if(u=="SQ"){var M=b(h,S,a);i=M[0];S=M[1];s=0}else if(u=="US")i=K(h,S);else if(u=="SS")i=Y(h,S);
else if(u=="UL")i=d(h,S);else if(u=="FL")i=c.Pv(h,S);else if(u=="AT")i=[K(h,S),K(h,S+2)];else if(u=="OB")i=h.slice(S,S+s);
else if(u=="OW")i=new Uint16Array(h.slice(S,S+s).buffer);else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(u)!=-1){var T=S+s;
while(h[T-1]==0)T--;i=c.zV(h,S,T-S).trim()}else{console.log(U,JSON.stringify(c.zV(h,S,Math.min(s,32))));
throw u}if(j["g"+g]==null)j["g"+g]={};j["g"+g][_]=i;S+=s}return[j,S]}var D={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"37":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{ni:W}}();fH.Mm={};fH.Mm.ni=function(r){var Q=new Uint8Array(r),W=0,b={},Y=1e9;for(var n=0;n<306;
n++){var X=c.zV(Q,W,8).trim(),D=c.zV(Q,W+9,71).split("/")[0].trim();b[X]=D;W+=80;if(X=="END"){W=Math.ceil(W/2880)*2880;
break}}var h=parseInt(b.NAXIS1),S=parseInt(b.NAXIS2),a=h*S,K=parseInt(b.BITPIX),d=-1e9,j=new Float32Array(a),U=new Float32Array(r,W,r.byteLength-W>>>2);
for(var n=0;n<a;n++){var I=n<<2,f=n<<1;if(K==-32){var g=Q[W+I+0];Q[W+I+0]=Q[W+I+3];Q[W+I+3]=g;var g=Q[W+I+1];
Q[W+I+1]=Q[W+I+2];Q[W+I+2]=g;j[n]=U[n]}else if(K==16){j[n]=c.e2(Q,W+f)}else throw K;var H=j[n];if(H<Y)Y=H;
if(H>d)d=H}var u=E.Q(a*4),s=1/d;for(var _=0;_<S;_++)for(var i=0;i<h;i++){var n=_*h+i,M=(S-_-1)*h+i,I=M<<2,H=j[n]*s;
u[I]=u[I+1]=u[I+2]=255*H;u[I+3]=255}return[{Kx:new aV(0,0,h,S),data:u,Dl:b.OBJECT}]};fH.eS={};fH.eS.ni=function(r){var Q=new Uint8Array(r),W=16,b=c.zV(Q,W,4),D=32,H=0,u=0,s=!1,L;
W+=4;var X=c.zV(Q,W,8);W+=8;while(Q[W+D-1]==0)D--;var h=c.zV(Q,W,D);W+=32;var S=c.zV(Q,W,4);W+=4;W+=20;
var a=c.v(Q,W);W+=4;var K=c.v(Q,W);W+=4;var Y=c.v(Q,W);W+=4;var d=c.v(Q,W);W+=4;var j=c.v(Q,W);W+=4;
var U=c.v(Q,W);W+=4;var I="FujiFilm "+h,f=[0,1,1,2];if(I=="FujiFilm X10"){I="FujiFilm FinePix X10";f=[2,1,1,0]}var g={t271:["FujiFilm"],t272:[I],t277:[1],t33421:[2,2],t33422:f,fQ:1};
W=Y;var _=[],i=c.KV,M=c.v(Q,W);W+=4;for(var n=0;n<M;n++){var T=i(Q,W);W+=2;var R=i(Q,W);W+=2;if(T==256){u=i(Q,W);
H=i(Q,W+2)}else if(T==272){_=[i(Q,W),i(Q,W+2)]}else if(T==273){_.push(i(Q,W),i(Q,W+2))}else if(T==304){s=!(Q[W]>>>7)}else if(T==305){var z=Math.round(Math.sqrt(R)),G=[];
for(var V=0;V<R;V++)G.push(Q[W+V]);G.reverse();g.t33421=[z,z];g.t33422=G}else if(T==12272){var y=i(Q,W),k=i(Q,W+2),B=i(Q,W+6);
g.t50728=[y/k,1,y/B]}W+=R}var v=H<u,l=Q.slice(j,j+U),F=Math.round(U*8/(H*u));if(l[0]==73&&l[1]==73&&l[2]==42){L=UTIF.decode(l.buffer)[0].fujiIFD;
F=L.t61443[0];var Z=L.t61454,t=L.t61450;if(t)g.t50714=t;if(Z)g.t50728=[Z[0]/Z[1],1,Z[0]/Z[2]];var A=L.t61447[0];
l=l.slice(A,A+L.t61448[0])}var U=l.length,o=U*8<H*u*F;if(o){console.log("compressed");var O=g.t33422,x=~~Math.sqrt(O.length),C=[];
for(var n=0;n<x;n++)C[n]=O.slice(n*x,n*x+x);l=new Uint8Array(UTIF._decompressRAF(l,C).buffer);U=l.length}function J(fc,p,gG){gG=gG<<8-(p&7);
var fh=p>>>3;fc[fh]|=gG>>>16;fc[fh+1]|=gG>>>8;fc[fh+2]|=gG}var q=U*8/(H*u);if(q==16)for(var n=0;n<U;
n+=2){var fd=l[n];l[n]=l[n+1];l[n+1]=fd}else if(q==14){for(var n=0;n<U;n+=4){var fd=l[n];l[n]=l[n+3];
l[n+3]=fd;fd=l[n+1];l[n+1]=l[n+2];l[n+2]=fd}}else if(q==12)for(var n=0;n<U;n+=3){var w=l[n+2]<<16|l[n+1]<<8|l[n+0];
w=w>>>12|(w&4095)<<12;l[n]=w>>>16&255;l[n+1]=w>>>8&255;l[n+2]=w&255}if(v)l=fH.eS.adE(l,H,u);var P=v?2:1;
H*=P;g.t256=[H];g.t257=[u];g.t258=[F];g.t50719=[_[1],_[0]*P];g.t50720=[_[3],_[2]*P];g.width=H;g.height=u;
g.data=new Uint8Array(l.buffer);return[g]};fH.eS.adE=function(r,Q,W){r=new Uint16Array(r.buffer);var b=new Uint16Array(Q*W*2);
for(var X=0;X<W;X+=2)for(var D=0;D<Q;D++){var h=X*Q+D,S=h*2,a=r[h],K=r[h+Q];b[S+1]=b[S+2*Q]=K;if(((X>>>1)+D&1)==0){b[S]=a;
b[S+2*Q+1]=r[h+1]}else{b[S]=r[h-1];b[S+2*Q+1]=a}}return b};fH.nz={};fH.nz.TO=!0;fH.nz.Al=function(r,Q,W,b){var X=new Uint8Array(r[0][0]),D=Q*W,h=[1,3,4][b[0]],S=8+8*b[1],a=b[2];
if(h==1){var K=new Uint8Array(Q*W);E.TX(X,K,0);X=K}if(h==3){var K=new Uint8Array(Q*W*3);for(var n=0;
n<D;n++){var Y=n*4,d=n*3;K[d]=X[Y];K[d+1]=X[Y+1];K[d+2]=X[Y+2]}X=K}if(S==16){var j=X.length,K=new Uint8Array(j*2);
for(var n=0;n<j;n++){var U=Math.round(X[n]*(65535/255));K[n*2+a]=U>>>8;K[n*2+1-a]=U&255}X=K}return X.buffer};
fH.UH={};fH.UH.ni=function(r,Q){function W(a){return~~(.5+E.Lz(Math.max(0,Math.min(1,a)))*255)}var b=EXRLoader.parse(r),X=b.width,D=b.height,h=E.Q(X*D*4);
for(var S=0;S<D;S++)for(var a=0;a<X;a++){var n=(S*X+a)*4,K=((D-S-1)*X+a)*4;h[n]=W(b.data[K+0]);h[n+1]=W(b.data[K+1]);
h[n+2]=W(b.data[K+2]);h[n+3]=W(b.data[K+3])}return[{Kx:new aV(0,0,X,D),data:h.buffer}]};fH.fo={};fH.fo.TO=!0;
fH.fo.gF=!0;fH.fo.Al=function(r,Q,W,b,X){b=["",100,!1,!1,!1,0];b[6]=["jpg"];var D=new ToDXF;h2.cg(r,b,D,X.zl);
return D.buffer};fH.fo.ni=function(r,Q){var W=72,b=new au(1,0,0,1,0,0);b.scale(W/72,W/72);Q.HW=W;var X=new bF(Q,b,!1);
FromDXF.Parse(r,X)};fH.JC={};fH.JC.ni=function(){var r=c.e2,Q=c.aN,W=c.zV,b;function X(h,S,a,K,Y){var d=Q(h,a),j=Q(h,a+4),U=Q(h,a+8),I=r(h,a+12),f=r(h,a+14);
a+=16;var g={};for(var n=0;n<I+f;n++){var H=Q(h,a),u=Q(h,a+4),s,_;if(H>>>31==1){H=H&16777215}if(n<I)s=c.Tk(h,S+H+2,r(h,S+H));
else s="id"+H;var i=K.slice(0);i.push(s);if(u>>>31==1){u=u&268435455;_=X(h,S,S+u,i,Y)}else{var M=Q(h,S+u),T=Q(h,S+u+4),R=Q(h,S+u+8),z=Q(h,S+u+12);
if(z!=0)throw"e";if(M<Y[0]||M>Y[0]+Y[1])throw"e";var G=Y[2]+M-Y[0];_=h.slice(G,G+T);var V=fH.E$(_.buffer);
if(V&&["bmp","png","ico"].indexOf(V)!=-1){var y=fH.Qt(V);if(!y.gF){var k=null;try{k=y.ni(_.buffer)}catch(aA){}if(k){k[0].Dl=i[1];
b.push(k[0])}}}else if(V)console.log(V)}g[s]=_;a+=8}return g}function D(h){b=[];var S=new Uint8Array(h),a=0,K=r(S,a);
a+=2;a+=58;var Y=Q(S,a);a+=4;a=Y;var d=W(S,a,4);a+=4;var j=r(S,a);a+=2;var U=r(S,a);a+=2;var I=Q(S,a);
a+=4;var f=Q(S,a);a+=4;var g=Q(S,a);a+=4;var H=r(S,a);a+=2;var u=r(S,a);a+=2;a+=H;var s={};for(var n=0;
n<U;n++){var _=a;while(S[_]!=0)_++;var i=W(S,a,_-a),M=Q(S,a+8),T=Q(S,a+12),R=Q(S,a+16),z=Q(S,a+20),G=Q(S,a+24),V=Q(S,a+28),y=r(S,a+32),k=r(S,a+34),u=Q(S,a+36);
s[i]=[T,M,z,R,u];if(G+V!=0)throw"e";a+=40}for(var B in s){var v=s[B];a=v[2];if(B==".rsrc"){var l=X(S,a,a,[],v),F="id134"}}return b}return D}();
fH.oI={};fH.oI.gF=!0;fH.oI.ni=function(r,Q){gy.ak(r,Q)};(function(){var r=fH.vC.get("wasm/zstd").buffer;
WebAssembly.instantiate(r).then(function(Q){var W=Q.instance.exports;fH.oI.a6$=W})}());fH.oI.xk=function(r,Q){var W=fH.oI.a6$,b=r.length,X=W.memory,D=2*b+1e6,a=8;
fH._Q(W,D);var h=new Uint8Array(X.buffer),S=W.malloc(b);h.set(r,S);while(!0){var K=Q==null?b*a:Q;fH._Q(W,D+K);
var Y=W.malloc(K),d=W.ZSTD_decompress(Y,K,S,b);if(d==-70){W.free(Y);a+=a>>>1;if(Q!=null)throw"error"}else{h=new Uint8Array(X.buffer);
r=h.slice(Y,Y+d);W.free(Y);break}}W.free(S);return r};fH.lp={};fH.lp.gF=!0;fH.lp.ni=function(){var r=0,Q=1,W=2,b=3,X=4,D=5,h=6,S=7,a=1,K=2,Y=7,d=8,j=9,U,I,f,g,H;
function u(){var fb=c.jH(U,I);I+=4;return fb}function s(){var L=0,Z=0;for(var n=0;n<5;n++){var t=U[I++];
L+=(t&127)<<Z;Z+=7;if((t&128)==0)break}return L}function _(){var L=s(),Z=c.CA(U,I,L);I+=L;return Z}function i(){return{typeName:_(),aoB:u()}}function M(){var L=u(),Z=_(),t=[],A=u();
for(var n=0;n<A;n++)t.push([_()]);return{id:L,A6:Z,a3P:t}}function T(L){var Z=L.a3P,t=[];for(var n=0;
n<Z.length;n++)Z[n].push(U[I++]);for(var n=0;n<Z.length;n++){var A=Z[n][1],o;Z[n].push(R(A))}}function R(L){var Z;
if(L==r)Z=U[I++];else if(L==b)Z=_();else if(L==X)Z=i();else if(L==Q||L==W||L==h||L==D){}else throw L;
return Z}function z(L,Z,t){var A;if(L==r){if(Z==a)A=U[I++]==1;else if(Z==K){A=U[I++]}else if(Z==d)A=u();
else if(Z==j){A=u();u()}else throw Z}else if(L==b){A=k(t+1)}else if(L==X){A=k(t+1)}else if(L==D){A=k(t+1)}else if(L==Q){A=k(t+1)}else if(L==h){A=k(t+1)}else throw L;
return A}function G(L,Z){var t=f["c"+L],A=t.a3P,o={_class:t.A6};for(var n=0;n<A.length;n++){var O=A[n],x=O[1],C=O[2],J=z(x,C,Z),q=O[0];
o[q]=J}return o}function V(L,Z,t,A){var o=[];for(var n=0;n<L;n++){var O=z(Z,t,A);if(O.HP&&O.HP=="null_count"){var x=O.UM;
for(var C=0;C<x;C++)o.push(null);n+=x-1}else o.push(O)}return o}function y(){return[u(),u()]}function k(L){if(L==null)throw"e";
var Z=null,t=U[I],A=null;I++;if(t==0){var o=u(),O=u(),x=u(),C=u();Z=[o,O,x,C]}else if(t==1){A=u();var J=u();
Z=G(J,L)}else if(t==4){var q=M();A=q.id;T(q);f["c"+q.id]=q;Z=G(q.id,L)}else if(t==5){var q=M();A=q.id;
T(q);var fd=u();f["c"+q.id]=q;Z=G(q.id,L)}else if(t==6){A=u();var w=_();Z=w}else if(t==7){A=u();var P=U[I++];
if(P!=0)throw P;var fc=u();if(fc!=1)throw fc;var p=u(),gG=U[I++],fh=R(gG);Z=V(p,gG,fh,L)}else if(t==9){var fJ=u();
Z={HP:"ref",UM:fJ};H["o"+fJ]=!0}else if(t==10){Z={HP:"null_count",UM:1}}else if(t==11){Z={HP:"end"}}else if(t==12){var fd=u(),cF=_()}else if(t==13){var j_=U[I++];
Z={HP:"null_count",UM:j_}}else if(t==16){var gY=y();A=gY[0];Z=V(gY[1],X,null,L)}else if(t==17){var gY=y();
A=gY[0];Z=V(gY[1],Q,null,L)}else throw"e";if(A!=null&&A>0){if(g["o"+A]!=null)throw"e";g["o"+A]=Z}return Z}function B(L,g){if(L instanceof Array){for(var n=0;
n<L.length;n++)L[n]=v(L[n],g)}else if(L instanceof Object){for(var Z in L)L[Z]=v(L[Z],g)}}function v(L,g){if(L&&L.HP&&L.HP=="ref")return g["o"+L.UM];
else return L}function l(L,Z,t){U=new Uint8Array(L);I=0;f={};g={};H={};var A=c.zV(U,0,4);if(A!="PDN3")throw A;
I+=4;var o=c.e2(U,I)+U[I+2]*256*256;I+=3;var O=c.zV(U,I,o);I+=o;I+=2;while(!0){var x=k(0);if(x&&x.HP&&x.HP=="end")break}for(var C in H)if(g[C]==null)throw C;
for(var C in g)B(g[C],g);var J=g.o1;console.log(J);Z.e=J.width;Z.n=J.height;Z.buffer=E.Q(Z.e*Z.n*4);
var q=J.layers["ArrayList+_items"];for(var n=0;n<q.length;n++){var fd=q[n];if(fd==null)continue;console.log(fd);
var w=fd["Layer+width"],P=fd["Layer+height"],fc=fd["Layer+properties"],p=fd.properties,gG=p.blendOp._class.split("+").pop();
gG=gG.slice(0,gG.length-7);var fh={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[gG],fJ=Z.b_();
fJ._J(fc.name);fJ.opacity=fc.opacity;fJ.ky(fc.visible);fJ.iX=fh;var cF=1<<16,j_=Math.ceil(w*P/cF);fJ.rect=new aV(0,0,w,P);
fJ.buffer=E.Q(w*P*4);var gY=fJ.buffer;I+=5;for(var kc=0;kc<j_;kc++){var el=F();gY.set(el[1],el[0]*cF*4)}for(var iN=0;
iN<gY.length;iN+=4){var c$=gY[iN+0];gY[iN+0]=gY[iN+2];gY[iN+2]=c$}Z.B.push(fJ)}}function F(){var L=c.v(U,I);
I+=4;var Z=c.v(U,I);I+=4;var t=pako.inflateRaw(U.slice(I+10));I+=Z;return[L,t]}return l}();fH.Xp={};
fH.Xp.gF=!0;fH.Xp.ni=function(r,Q){a3.ak(r,Q)};var gn={};gn.Kz=!1;gn.ca=!1;gn.rF=!1;gn.T=document.createElement("canvas");
gn.hA=null;gn.$P=null;gn.Oy=0;(function(){var r={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},Q;
if(!Q)Q=gn.T.getContext("webgl",r);if(!Q)Q=gn.T.getContext("experimental-webgl",r);if(Q){gn.Kz=!0;gn.ca=!0;
gn.hA=Q;gn.$P=Q.createFramebuffer();Q.bindFramebuffer(Q.FRAMEBUFFER,gn.$P);Q.disable(Q.BLEND);Q.disable(Q.DEPTH_TEST);
var W=Q.createBuffer();Q.bindBuffer(Q.ARRAY_BUFFER,W);Q.bufferData(Q.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),Q.STATIC_DRAW);
Q.enableVertexAttribArray(0);Q.vertexAttribPointer(0,2,Q.FLOAT,!1,0,0)}}());gn.a8B=function(r){r=r.replace(/\s\s+/g," ");
r=r.replace(/; /g,";");r=r.replace(/} /g,"}");r=r.replace(/ }/g,"}");r=r.replace(/{ /g,"{");r=r.replace(/ {/g,"{");
r=r.replace(/= /g,"=");r=r.replace(/ =/g,"=");r=r.replace(/\| /g,"|");r=r.replace(/ \|/g,"|");return r};
gn.vs=function(r){var Q=gn.hA;if(r>Q.getParameter(Q.MAX_TEXTURE_SIZE)){gn.Kz=!1;alert("Disabling WebGL")}};
gn.gr=function(r,Q){return new Float32Array([(r.x-Q.x)/Q.e,(r.y-Q.y)/Q.n,r.e/Q.e,r.n/Q.n])};gn._j=function(){return this.T};
gn._h=function(r,Q){var W=gn.hA;W.bindFramebuffer(W.FRAMEBUFFER,gn.$P);W.framebufferTexture2D(W.FRAMEBUFFER,W.COLOR_ATTACHMENT0,W.TEXTURE_2D,r.G6,0);
W.viewport(0,0,r.e,r.n);if(Q){W.enable(W.SCISSOR_TEST);W.scissor(Q.x,Q.y,Q.e,Q.n)}else W.disable(W.SCISSOR_TEST)};
gn.OT=function(r,Q,W){if(W)throw"error";var b=gn.hA;b.disable(b.SCISSOR_TEST);b.bindFramebuffer(b.FRAMEBUFFER,null);
b.viewport(0,0,r,Q);if(W){b.enable(b.SCISSOR_TEST);b.scissor(W.x,W.y,Math.round(W.e),Math.round(W.n))}else b.disable(b.SCISSOR_TEST)};
gn.clear=function(){var r=gn.hA;r.clearColor(0,0,0,0);r.clear(r.COLOR_BUFFER_BIT)};gn.YM=function(r,Q){if(Q==null)Q=0;
var W=(Q>>>0&255)==0,b=(Q>>>8&255)==0,X=(Q>>>16&255)==0,D=(Q>>>24&255)==0,h=(r>>>0&255)*(1/255),S=(r>>>8&255)*(1/255),a=(r>>>16&255)*(1/255),K=(r>>>24&255)*(1/255),Y=gn.hA;
Y.colorMask(W,b,X,D);Y.clearColor(h,S,a,K);Y.clear(Y.COLOR_BUFFER_BIT);Y.colorMask(!0,!0,!0,!0)};gn.ow=function(r,Q,W,b,X){var D=Q.ww(b);
if(X)D=D.ww(X);if(D.WB())return;var h=gn.hA;gn._h(r);h.bindTexture(h.TEXTURE_2D,W.G6);h.copyTexSubImage2D(h.TEXTURE_2D,0,D.x-b.x,D.y-b.y,D.x-Q.x,D.y-Q.y,D.e,D.n)};
gn.Y9=function(n,r,Q){var W=gn.ZY[n];if(W==null||W.e!=r||W.n!=Q){if(W)W.delete();W=new gn.yC(r,Q)}gn.ZY[n]=W;
return W};gn.ZY=[];gn.iQ=function(){this.RQ=null;this.Zv=null};gn.iQ.cr=null;gn.iQ.prototype.hp=function(r){if(this.Zv)return;
this.Zv={};var Q=gn.hA,W=this.RQ,b=this.Zv;for(var n=0;n<r.length;n++){var X=r[n];b[X]=Q.getUniformLocation(W,X)}};
gn.iQ.prototype.SG=function(){};gn.iQ.prototype.qR=function(r){var Q=gn.hA;for(var n=0;n<r.length;n+=2){Q.uniform1i(r[n],n>>>1);
Q.activeTexture(Q["TEXTURE"+(n>>>1)]);Q.bindTexture(Q.TEXTURE_2D,r[n+1])}Q.activeTexture(Q.TEXTURE0)};
gn.iQ.prototype.DD=function(r,Q){var W=gn.hA,b=W.createShader(W.FRAGMENT_SHADER);W.shaderSource(b,r);
W.compileShader(b);if(!W.getShaderParameter(b,W.COMPILE_STATUS))console.log(W.getShaderInfoLog(b));var X=W.createShader(W.VERTEX_SHADER);
W.shaderSource(X,Q);W.compileShader(X);if(!W.getShaderParameter(X,W.COMPILE_STATUS))console.log(W.getShaderInfoLog(X));
var D=W.createProgram();W.attachShader(D,X);W.attachShader(D,b);W.linkProgram(D);if(!W.getProgramParameter(D,W.LINK_STATUS))console.log("Could not initialise shaders");
this.RQ=D};gn.iQ.prototype.BZ=function(){if(gn.iQ.cr!=this){gn.hA.useProgram(this.RQ);gn.iQ.cr=this}};
gn.P5=function(r,Q){gn.js++;gn.Oy+=r*Q;if(gn.rF)console.log("GL.Channels instances: "+gn.js+", memory: "+gn.Oy);
var W=gn.hA;this.e=r;this.n=Q;this.G6=W.createTexture();this.mr=null;this.MZ(this.G6,r,Q)};gn.P5.prototype.MZ=function(r,Q,W){var b=gn.hA;
b.bindTexture(b.TEXTURE_2D,r);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST);
b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE);
b.texImage2D(b.TEXTURE_2D,0,b.ALPHA,Q,W,0,b.ALPHA,b.UNSIGNED_BYTE,null)};gn.P5.prototype.set=function(r,Q){var W=gn.hA;
W.bindTexture(W.TEXTURE_2D,this.G6);W.pixelStorei(W.UNPACK_ALIGNMENT,1);var b=this.e*this.n;if(Q==null||Q.O()*10>b)W.texImage2D(W.TEXTURE_2D,0,W.ALPHA,this.e,this.n,0,W.ALPHA,W.UNSIGNED_BYTE,r);
else{var X=new aV(0,0,this.e,this.n),D=E.Q(Q.O());E.L0(r,X,D,Q);W.texSubImage2D(W.TEXTURE_2D,0,Q.x,Q.y,Q.e,Q.n,W.ALPHA,W.UNSIGNED_BYTE,D)}W.pixelStorei(W.UNPACK_ALIGNMENT,4)};
gn.P5.prototype.delete=function(){var r=gn.hA;if(this.G6){r.deleteTexture(this.G6);gn.js--;gn.Oy-=this.e*this.n}if(gn.rF)if(gn.rF)console.log("GL.Channels instances: "+gn.js+", memory: "+gn.Oy*4)};
gn.js=0;gn.yC=function(r,Q,W){if(W==null)W=!1;gn.js++;gn.Oy+=r*Q*4;if(gn.rF)console.log("GL.Channels instances: "+gn.js+", memory: "+gn.Oy);
var b=gn.hA;this.adV=W;this.e=r;this.n=Q;this.G6=b.createTexture();this.mr=null;this.MZ(this.G6,r,Q)};
gn.yC.prototype.set=function(r,Q){var W=gn.hA;W.disable(W.SCISSOR_TEST);W.bindTexture(W.TEXTURE_2D,this.G6);
if(r==null||r instanceof Uint8Array){var b=this.e*this.n;if(Q==null||Q.O()*10>b)W.texImage2D(W.TEXTURE_2D,0,W.RGBA,this.e,this.n,0,W.RGBA,W.UNSIGNED_BYTE,r);
else{var X=E.Q(Q.O()*4);E.TU(r,new aV(0,0,this.e,this.n),X,Q);W.texSubImage2D(W.TEXTURE_2D,0,Q.x,Q.y,Q.e,Q.n,W.RGBA,W.UNSIGNED_BYTE,X)}}else W.texImage2D(W.TEXTURE_2D,0,W.RGBA,W.RGBA,W.UNSIGNED_BYTE,r)};
gn.yC.prototype.get=function(r){var Q=gn.hA;gn._h(this);Q.readPixels(0,0,this.e,this.n,Q.RGBA,Q.UNSIGNED_BYTE,r)};
gn.yC.prototype.x7=function(r){if(r.WB())return;var Q=gn.hA;if(this.mr==null){this.mr=Q.createTexture();
this.MZ(this.mr,this.e,this.n);gn.js++;gn.Oy+=this.e*this.n*4}Q.bindFramebuffer(Q.FRAMEBUFFER,gn.$P);
Q.bindTexture(Q.TEXTURE_2D,this.mr);if(r){var W=Math.max(r.x,0),b=Math.max(r.y,0);Q.copyTexSubImage2D(Q.TEXTURE_2D,0,W,b,W,b,r.e,r.n)}else Q.copyTexImage2D(Q.TEXTURE_2D,0,Q.RGBA,0,0,this.e,this.n,0)};
gn.yC.prototype.MZ=function(r,Q,W){var b=gn.hA;b.bindTexture(b.TEXTURE_2D,r);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,this.adV?b.LINEAR:b.NEAREST);
b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE);
b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE);b.texImage2D(b.TEXTURE_2D,0,b.RGBA,Q,W,0,b.RGBA,b.UNSIGNED_BYTE,null)};
gn.yC.prototype.delete=function(){var r=gn.hA;if(this.G6){r.deleteTexture(this.G6);gn.js--;gn.Oy-=this.e*this.n*4}if(this.mr){r.deleteTexture(this.mr);
gn.js--;gn.Oy-=this.e*this.n*4}if(gn.rF)if(gn.rF)console.log("GL.Channels instances: "+gn.js+", memory: "+gn.Oy)};
gn.yC.prototype.clone=function(){var r=gn.hA,Q=new gn.yC(this.e,this.n);gn._h(this);r.bindTexture(r.TEXTURE_2D,Q.G6);
r.copyTexImage2D(r.TEXTURE_2D,0,r.RGBA,0,0,this.e,this.n,0);return Q};gn.gZ={anB:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",ax9:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",bF:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",_5:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",LU:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",Y7:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",H7:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",x4:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",a97:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",Tj:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",a6d:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",Qg:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",Ce:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",jh:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",_0:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",So:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",kd:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",gB:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",lP:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",ajl:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",a79:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",Y1:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",OV:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\treturn rs;  \t\t\t}"};
gn.q={};gn.q.DR={};gn.q.SB=null;gn.q.Zt=null;gn.q.Gy=null;gn.q.N2=function(r,Q,W,b,X,D,h,S){if(S==null)S=iI.O1();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(r)==-1){h=h*S.fill;S.fill=1;S.style=!1}var a=r+(S.jB?"1":"");
if(gn.q.DR[a]==null)gn.q.DR[a]=new gn.q.qm(r,S.jB!=null);var K=gn.q.DR[a],Y=W.ww(X).ww(D);Y.offset(-X.x,-X.y);
if(Y.WB())return;var d=gn.hA;gn._h(b,Y);b.x7(Y);K.BZ();K.SG(Q.G6,b.mr,gn.gr(W,X),h,S.fill,S.style?1:0,S.QV?1:0,S.jB?new Float32Array(S.jB):null);
d.drawArrays(d.TRIANGLES,0,6)};gn.q.pP=function(r,Q,W,b,X,D,h,S,a,K,Y){if(gn.q.SB==null)gn.q.SB=new gn.q.AP(!0,!0);
if(gn.q.Zt==null)gn.q.Zt=new gn.q.AP(!0,!1);if(gn.q.Gy==null)gn.q.Gy=new gn.q.AP(!1,!0);var d=K?1:0,j=r?X?gn.q.SB:gn.q.Zt:gn.q.Gy,U=new Float32Array(Y?[Y[0],Y[1],Y[2],1]:[1,1,1,1]),I=Q?Q.ww(b).ww(S):b.ww(S);
if(I.WB())return;I.offset(-b.x,-b.y);var f=gn.hA;gn._h(W,I);W.x7(I);j.BZ();if(r==null)j.SG(null,W.mr,X.G6,gn.gr(b,b),gn.gr(D,b),h/255,a,d,U);
else if(X)j.SG(r.G6,W.mr,X.G6,gn.gr(Q,b),gn.gr(D,b),h/255,a,d,U);else j.SG(r.G6,W.mr,null,gn.gr(Q,b),null,h/255,a,d,U);
f.drawArrays(f.TRIANGLES,0,6)};gn.q.ahG=function(r,Q,W){if(gn.q.asT==null)gn.q.asT=new gn.q.Jw;var b=gn.q.asT,X=new aV(0,0,r.e,r.n),D=gn.hA;
gn._h(Q);Q.x7(X);b.BZ();b.SG(X,r.G6,Q.mr,W.G6);D.drawArrays(D.TRIANGLES,0,6)};gn.q.oS={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
gn.q.qm=function(r,Q){gn.iQ.call(this);var W="\t\t\tprecision highp float;\t\t\t"+gn.gZ.bF+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(Q?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+gn.gZ.Y7+"\t\t\t"+gn.gZ.H7+"\t\t\t"+gn.gZ.x4+"\t\t\t"+gn.gZ.anB+"\t\t\t"+gn.gZ.ax9+"\t\t\t"+gn.gZ.a97+"\t\t\t"+gn.gZ.Tj+"\t\t\t"+gn.gZ.a6d+"\t\t\t"+gn.gZ.Qg+"\t\t\t"+gn.gZ.hash+"\t\t\t"+(Q?gn.gZ.Y1:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+gn.q.oS[r]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",b="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(r=="diss")W+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else W+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(Q?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.DD(W,b)};gn.q.qm.prototype=new gn.iQ;gn.q.qm.prototype.SG=function(r,Q,W,b,X,D,h,S){this.hp("srct alpha source target fill style keepBGA blIf".split(" "));
var a=gn.hA,K=this.Zv;a.uniform4fv(K.srct,W);a.uniform1f(K.alpha,b);a.uniform1f(K.fill,X);a.uniform1f(K.style,D);
a.uniform1f(K.keepBGA,h);if(S)a.uniform4fv(K.blIf,S);this.qR([K.source,r,K.target,Q])};gn.q.AP=function(r,Q){gn.iQ.call(this);
this.a2b=r;this.j9=Q;var W="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+gn.gZ.Ce+"\t\t\t"+gn.gZ.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(r?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(Q?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(r?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(Q?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",b="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.DD(W,b)};gn.q.AP.prototype=new gn.iQ;gn.q.AP.prototype.SG=function(r,Q,W,b,X,D,h,S,a){if(this.j9)this.hp("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.hp("srct awg dissv source target cswitch".split(" "));var K=gn.hA,Y=this.Zv;K.uniform4fv(Y.srct,b);
if(this.j9){K.uniform4fv(Y.wrct,X);K.uniform1f(Y.wcolor,D)}else{K.uniform4fv(Y.cswitch,a)}K.uniform1f(Y.awg,h);
K.uniform1f(Y.dissv,S);var d=[Y.source,r,Y.target,Q];if(this.j9)d.push(Y.weight,W);this.qR(d)};gn.q.Jw=function(){gn.iQ.call(this);
var r="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",Q="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.DD(r,Q)};gn.q.Jw.prototype=new gn.iQ;gn.q.Jw.prototype.SG=function(r,Q,W,b){this.hp(["rct","prev","next","alpha"]);
var X=gn.hA,D=this.Zv;X.uniform4fv(D.rct,[0,0,1,1]);this.qR([D.prev,Q,D.next,W,D.alpha,b])};gn.cM={g$:{},G_:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
gn.cM.CJ=function(r,Q){var W=bu.fa,b=[W.cn,W.w$,W.qE,W.k3,W.xj,W.yy,W.Ol,W.Dd].indexOf(r.type),X=gn.cM.g$[r.type];
if(X==null)X=gn.cM.g$[r.type]=new gn.g$[b];X.BZ();X.SG(Q,r);gn.hA.drawArrays(gn.hA.TRIANGLES,0,6)};gn.g$=[];
gn.g$[0]=function(){gn.iQ.call(this);this.nA={};var r="\t\t\tprecision mediump float;\t\t\t"+gn.gZ.H7+"\t\t\t"+gn.gZ.bF+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.DD(r,gn.cM.G_)};gn.g$[0].prototype=new gn.iQ;gn.g$[0].prototype.SG=function(r,Q){var W={o:Q.mn,W:Q.aE,k:Q._B,mu:E.Q(Q.mn.length)},b=W.o.length;
if(this.nA["m"+b]==null){this.nA["m"+b]={aew:new gn.yC(b,1),NP:E.Q(b*4)}}var X=this.nA["m"+b];E.b8(W,X.NP,0);
var D=X.aew;D.set(X.NP);this.hp(["source","map","toGray","presLum"]);var h=gn.hA,S=this.Zv;h.uniform1f(S.toGray,Q.tR?1:0);
h.uniform1f(S.presLum,Q.ee?1:0);this.qR([S.source,r,S.map,D.G6])};gn.g$[1]=function(){gn.iQ.call(this);
this.a2T=new gn.yC(256,1);this.a4b=E.Q(256*4);var r="\t\t\t\tprecision mediump float;\t\t\t\t"+gn.gZ.So+"\t\t\t\t"+gn.gZ.jh+"\t\t\t\t"+gn.gZ._0+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.DD(r,gn.cM.G_)};gn.g$[1].prototype=new gn.iQ;gn.g$[1].prototype.SG=function(r,Q){E.b8({o:Q.aiT,W:Q.AD,k:Q.anx,mu:E.Q(256)},this.a4b);
this.a2T.set(this.a4b);this.hp(["source","map","cfa","cfb","colorize"]);var W=gn.hA,b=this.Zv;W.uniform1f(b.cfa,Q.afy);
W.uniform1f(b.cfb,Q.TW);W.uniform1i(b.colorize,Q.aj4);this.qR([b.source,r,b.map,this.a2T.G6])};gn.g$[2]=function(){gn.iQ.call(this);
var r="\t\t\tprecision mediump float;\t\t\t"+gn.gZ.So+"\t\t\t"+gn.gZ.kd+"\t\t\t"+gn.gZ.gB+"\t\t\t"+gn.gZ.jh+"\t\t\t"+gn.gZ._0+"\t\t\t"+gn.gZ.ajl+"\t\t\t"+gn.gZ.a79+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.DD(r,gn.cM.G_)};gn.g$[2].prototype=new gn.iQ;gn.g$[2].prototype.SG=function(r,Q){this.hp(["source","vib","sat","yF"]);
var W=gn.hA,b=this.Zv;W.uniform1f(b.vib,Q.Lb[0]);W.uniform1f(b.sat,Q.Lb[1]);W.uniform3fv(b.yF,new Float32Array([Q.Lb[2],Q.Lb[3],Q.Lb[3]]));
this.qR([b.source,r])};gn.g$[3]=function(){gn.iQ.call(this);var r="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.DD(r,gn.cM.G_)};gn.g$[3].prototype=new gn.iQ;gn.g$[3].prototype.SG=function(r,Q){this.hp(["source","trf"]);
var W=gn.hA,b=this.Zv;W.uniformMatrix4fv(b.trf,!1,new Float32Array(E.B1.ob(Q.Le)));this.qR([b.source,r])};
gn.g$[4]=function(){gn.iQ.call(this);var r="\t\t\tprecision mediump float; \t\t\t"+gn.gZ.lP+"\t\t\t"+gn.gZ.So+"\t\t\t"+gn.gZ._0+"\t\t\t"+gn.gZ.jh+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.DD(r,gn.cM.G_)};gn.g$[4].prototype=new gn.iQ;gn.g$[4].prototype.SG=function(r,Q){this.hp(["source","mnm","mxm","shift","lim"]);
var W=gn.hA,b=this.Zv;W.uniform3fv(b.mnm,new Float32Array(Q.zf));W.uniform3fv(b.mxm,new Float32Array(Q.d7));
W.uniform3fv(b.shift,new Float32Array(Q.shift));W.uniform1f(b.lim,Q.Ns);this.qR([b.source,r])};gn.g$[5]=function(){gn.iQ.call(this);
var r="\t\t\tprecision mediump float;\t\t\t"+gn.gZ.bF+"\t\t\t"+gn.gZ._5+"\t\t\t"+gn.gZ.LU+"\t\t\t"+gn.gZ.jh+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.DD(r,gn.cM.G_)};gn.g$[5].prototype=new gn.iQ;gn.g$[5].prototype.SG=function(r,Q){this.hp(["source","cfs"]);
var W=gn.hA,b=this.Zv;W.uniform3fv(b.cfs,Q.a8C);this.qR([b.source,r])};gn.g$[6]=function(){gn.iQ.call(this);
var r="\t\t\tprecision mediump float;\t\t\t"+gn.gZ.So+"\t\t\t"+gn.gZ._5+"\t\t\t"+gn.gZ.LU+"\t\t\t"+gn.gZ.jh+"\t\t\t"+gn.gZ._0+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.DD(r,gn.cM.G_)};gn.g$[6].prototype=new gn.iQ;gn.g$[6].prototype.SG=function(r,Q){this.hp(["source","wght","prms"]);
var W=gn.hA,b=this.Zv,X=[Q.Xt,Q.asA,Q.H7,Q.aj5,Q.Py,Q.a1Y];W.uniform1fv(b.wght,new Float32Array(Q.aqa));
W.uniform1fv(b.prms,new Float32Array(X));this.qR([b.source,r])};gn.g$[7]=function(){gn.iQ.call(this);
this.QA={};var r="\t\t\tprecision mediump float;\t\t\t"+gn.gZ.OV+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.DD(r,gn.cM.G_)};gn.g$[7].prototype=new gn.iQ;gn.g$[7].prototype.SG=function(r,Q){this.hp(["source","lut","N"]);
var W=gn.hA,b=this.Zv,X=Q.H9,D=Q.v9;if(this.QA["m"+X]==null)this.QA["m"+X]=new gn.yC(X,X*X);var h=this.QA["m"+X];
h.set(D);W.uniform1f(b.N,X);this.qR([b.source,r,b.lut,h.G6]);W.activeTexture(W.TEXTURE1);var S=W.LINEAR;
W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MIN_FILTER,S);W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MAG_FILTER,S);
W.activeTexture(W.TEXTURE0)};gn.filter={mZ:{},G_:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",aaq:0,anc:1,U5:2,ayC:3,abi:4,a16:5,cU:6,a7O:7};
gn.filter.CJ=function(r,Q){var W=gn.filter,b,X=r.type+":"+(r.Eb?r.Eb.join(","):""),b=gn.filter.mZ[X];
if(b==null)b=gn.filter.mZ[X]=new gn.mZ[r.type](r.Eb);b.BZ();b.SG(Q,r);gn.hA.drawArrays(gn.hA.TRIANGLES,0,6)};
gn.mZ=[0,0,0,0,0,0,0,0,0,0,0,0];gn.mZ[7]=function(){gn.iQ.call(this);var r="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.DD(ec.JW(r),ec.JW(gn.filter.G_))};gn.mZ[7].prototype=new gn.iQ;gn.mZ[7].prototype.SG=function(r,Q){this.hp(["source","iwh","kern"]);
var W=gn.hA,b=this.Zv;W.uniform2fv(b.iwh,Q.yg);W.uniform1fv(b.kern,Q.apA);this.qR([b.source,r])};gn.mZ[6]=function(r){gn.iQ.call(this);
var Q=r[0],W=r[1],b=r[2],X="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",D=ec.JW(X);
D=D.replaceAll("PRC",b+".0");D=D.replaceAll("DIR",["x,0","0,x"][W]);this.DD(D,gn.cM.G_)};gn.mZ[6].prototype=new gn.iQ;
gn.mZ[6].prototype.SG=function(r,Q){this.hp(["source","iwh","rad"]);var W=gn.hA,b=this.Zv;W.uniform2fv(b.iwh,Q.yg);
W.uniform1f(b.rad,Q.JF);this.qR([b.source,r])};gn.mZ[4]=function(r){gn.iQ.call(this);var Q=r[0],W=r[1],b="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+r[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][W]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][Q]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][W]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(W==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.DD(b,gn.cM.G_)};gn.mZ[4].prototype=new gn.iQ;gn.mZ[4].prototype.SG=function(r,Q){this.hp(["source","iwh","rrad","tr"]);
var W=gn.hA,b=this.Zv;W.uniform2fv(b.iwh,Q.yg);W.uniform1f(b.rrad,Q.Aj);W.uniform1f(b.tr,Q.alI);this.qR([b.source,r]);
var X=W.LINEAR;X=W.NEAREST;W.activeTexture(W.TEXTURE0);W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MIN_FILTER,X);
W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MAG_FILTER,X);W.activeTexture(W.TEXTURE0)};gn.mZ[5]=function(){gn.iQ.call(this);
var r="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.DD(ec.JW(r),ec.JW(gn.filter.G_))};gn.mZ[5].prototype=new gn.iQ;gn.mZ[5].prototype.SG=function(r,Q){this.hp(["source","ssum","iwh","amnt","edgf"]);
var W=gn.hA,b=this.Zv;W.uniform2fv(b.iwh,Q.yg);W.uniform1f(b.amnt,Q.atE);W.uniform1f(b.edgf,Q.aae);this.qR([b.source,r,b.ssum,Q.a9f])};
gn.mZ[3]=function(){gn.iQ.call(this);var r="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.DD(ec.JW(r),ec.JW(gn.filter.G_))};gn.mZ[3].prototype=new gn.iQ;gn.mZ[3].prototype.SG=function(r,Q){this.hp("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var W=gn.hA,b=this.Zv;W.uniform2fv(b.iwh,Q.yg);W.uniform1f(b.tdep,Q.a9y);W.uniform1f(b.rrad,Q.Aj);W.uniform2fv(b.spec,Q.a7J);
W.uniform3fv(b.nois,Q.aqG);W.uniformMatrix4fv(b.poly0,!1,Q.a9X);W.uniformMatrix4fv(b.poly1,!1,Q.agD);
this.qR([b.source,r]);var X=W.LINEAR;W.activeTexture(W.TEXTURE0);W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MIN_FILTER,X);
W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MAG_FILTER,X);W.activeTexture(W.TEXTURE0)};gn.mZ[0]=function(){gn.iQ.call(this);
var r="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.DD(ec.JW(r),ec.JW(gn.filter.G_))};gn.mZ[0].prototype=new gn.iQ;gn.mZ[0].prototype.SG=function(r,Q){this.hp(["source","iwh","ld","shine"]);
var W=gn.hA,b=this.Zv;W.uniform2fv(b.iwh,Q.yg);W.uniform3fv(b.ld,Q.ab3);W.uniform1f(b.shine,Q.a9H);this.qR([b.source,r,b.tang,Q.n0])};
gn.mZ[1]=function(){gn.iQ.call(this);var r="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.DD(ec.JW(r),ec.JW(gn.filter.G_))};gn.mZ[1].prototype=new gn.iQ;gn.mZ[1].prototype.SG=function(r,Q){this.hp(["source","iwh","isc","bristle"]);
var W=gn.hA,b=this.Zv;W.uniform2fv(b.iwh,Q.yg);W.uniform1f(b.isc,Q.au9);W.uniform1f(b.bristle,Q.adr);
this.qR([b.source,r])};gn.mZ[2]=function(){gn.iQ.call(this);var r="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.DD(ec.JW(r),ec.JW(gn.filter.G_))};gn.mZ[2].prototype=new gn.iQ;gn.mZ[2].prototype.SG=function(r,Q){this.hp(["source","tang","iwh","sigma","expo"]);
var W=gn.hA,b=this.Zv;W.uniform2fv(b.iwh,Q.yg);W.uniform1f(b.sigma,Q.ae5);W.uniform1f(b.expo,Q.asS);
this.qR([b.source,r,b.tang,Q.n0]);var X=W.LINEAR;W.activeTexture(W.TEXTURE0);W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MIN_FILTER,X);
W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MAG_FILTER,X);W.activeTexture(W.TEXTURE0)};function E(){}E.N={};
E.a4o={};E.ajI=function(){var r=[64,64,128,256,512,1024,2048],Q=[];for(var n=0;n<r.length;n++){var W=r[n],b=document.createElement("canvas");
b.width=W;b.height=W;Q.push(b.getContext("2d"))}return Q}();E._j=function(r,Q){var W,b=E.ajI,n=1,X=Math.max(r,Q);
while(n<b.length&&X>b[n].canvas.width)n++;if(n==b.length){W=b[0];var D=W.canvas;D.width=r;D.height=Q}else{W=b[n];
W.clearRect(0,0,r,Q)}return W};E.CD=function(r,Q,W){var b=new Uint32Array(Q*W);b[0]=r[0];for(var X=1;
X<Q;X++)b[X]=b[X-1]+r[X];for(var D=1;D<W;D++){var n=D*Q;b[n]=b[n-Q]+r[n];for(var X=1;X<Q;X++)b[n+X]=r[n+X]+b[n+X-1]+b[n+X-Q]-b[n+X-Q-1]}return b};
E.G1=function(r,Q,W,b,X,D){var h=(X-1)*Q,S=D*Q;return r[S+b]-r[S+W-1]-r[h+b]+r[h+W-1]};E.ph=function(r,Q,W){var b={},X=0,D=0,h=new Uint32Array(r.buffer),S=h.length,a=Date.now();
for(var K=1;K<W-1;K++)for(var Y=1;Y<Q-1;Y++){var d=K*Q+Y,j=h[d];if(j>>>24<230)D++;if(b[j]==null){b[j]=!0;
X++}}if(D!=0||X<20)return!1;return!0};E.w8=function(r,Q,W,b,X,D){if(X==null)X=D=0;b=Math.log(b)/Math.log(2);
b=Math.round(b);for(var n=0;n<W;n++)for(var h=0;h<Q;h++){var S=n*Q+h<<2,a=E.py(n+D,h+X,b);r[S]=r[S+1]=r[S+2]=a;
r[S+3]=255}};E.py=function(n,r,Q){return 255-((n>>>Q)+(r>>>Q)&1)*51};E.Y0=function(r){var Q=r.toString(16);
while(Q.length<6)Q="0"+Q;return Q};E.yM=function(r){return parseInt(r,16)};E.H7=function(r){return.3*r.o+.59*r.W+.11*r.k};
E.Y7=function(r){return Math.max(r.o,r.W,r.k)-Math.min(r.o,r.W,r.k)};E.f_=function(r,Q,W){return.3*r+.59*Q+.11*W};
E.ai6=function(r,Q,W){return Math.max(r,Q,W)-Math.min(r,Q,W)};E._5=function(r,Q){var W=Q-r,b=Math.abs(W),X=W-1,D=W+1;
if(Math.abs(X)<b)W=X;else if(Math.abs(D)<b)W=D;return W};E.Lz=function(r){return r<.0031308?12.92*r:1.055*Math.pow(r,1/2.4)-.055};
E.cE=function(r){return r<.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)};E.ajh=function(r,Q){var W=Math.min(r.length,Q.length);
for(var n=0;n<W;n+=4){var b=r[n],X=r[n+1],D=r[n+2];Q[n]=16+Math.floor(65.481/255*b+128.553/255*X+24.966/255*D+.5);
Q[n+1]=128-Math.floor(37.797/255*b-74.203/255*X+112/255*D+.5);Q[n+2]=128+Math.floor(112/255*b-93.786/255*X-18.214/255*D+.5);
Q[n+3]=r[n+3]}};E.agY=function(r,Q,W){var b,X,D,h=Math.max(r,Q,W),S=Math.min(r,Q,W);D=h;if(h!=0)X=(h-S)/h;
else X=0;if(X==0)b=0;else{var a=h-S,K=(h-r)/a,Y=(h-Q)/a,d=(h-W)/a;if(r==h)b=d-Y;else if(Q==h)b=2+K-d;
else b=4+Y-K;b*=1/6;if(b<0)b=b+1}return{J9:b,Am:X,k:D}};E.aor=function(r,Q,W){var b=0,X=0,D=0;if(Q==0)b=X=D=W;
else{var h=(r-Math.floor(r))*6,S=Math.floor(h),a=h-Math.floor(h),K=W*(1-Q),Y=W*(1-Q*a),d=W*(1-Q*(1-a));
switch(S){case 0:b=W;X=d;D=K;break;case 1:b=Y;X=W;D=K;break;case 2:b=K;X=W;D=d;break;case 3:b=K;X=Y;
D=W;break;case 4:b=d;X=K;D=W;break;case 5:b=W;X=K;D=Y;break}}return{o:b,W:X,k:D}};E.jh=function(r,Q,W){var b=Math.max(r,Q,W),X=Math.min(r,Q,W),D=0,h=0,S=(b+X)*.5;
if(b!=X){var a=b-X;h=S>.5?a/(2-(b+X)):a/(b+X);switch(b){case r:D=(Q-W)/a+(Q<W?6:0);break;case Q:D=(W-r)/a+2;
break;case W:D=(r-Q)/a+4;break}D*=1/6}return{J9:D,Am:h,qC:S}};E._0=function(r,Q,W){var b,X,D;if(Q==0)b=X=D=W;
else{var h=W<.5?W*(1+Q):W+Q-W*Q,S=2*W-h;b=E.So(S,h,r+1/3);X=E.So(S,h,r);D=E.So(S,h,r-1/3)}return{o:b,W:X,k:D}};
E.So=function(r,Q,W){if(W<0)W+=1;if(W>1)W-=1;if(W<1/6)return r+(Q-r)*6*W;if(W<1/2)return Q;if(W<2/3)return r+(Q-r)*(2/3-W)*6;
return r};E.kd=function(r,Q,W){var b=Math.max(r,Q,W),X=Math.min(r,Q,W),D,h,S=b,a=b-X;h=b==0?0:a/b;if(b==X)D=0;
else{switch(b){case r:D=(Q-W)/a+(Q<W?6:0);break;case Q:D=(W-r)/a+2;break;case W:D=(r-Q)/a+4;break}D*=1/6}return{J9:D,Am:h,UM:S}};
E.gB=function(r,Q,W){var b,X,D,n,h,S,a,K;n=Math.floor(r*6);h=r*6-n;S=W*(1-Q);a=W*(1-h*Q);K=W*(1-(1-h)*Q);
switch(n%6){case 0:b=W,X=K,D=S;break;case 1:b=a,X=W,D=S;break;case 2:b=S,X=W,D=K;break;case 3:b=S,X=a,D=W;
break;case 4:b=K,X=S,D=W;break;case 5:b=W,X=S,D=a;break}return{o:b,W:X,k:D}};E.Mg=function(){var r=[],Q=[];
for(var n=0;n<2e3;n++){var W=n/1e3;r[n]=E.cE(W);Q[n]=W>.008856?Math.pow(W,1/3):(903.3*W+16)*(1/116)}return[r,Q]}();
E.lP=function(r,Q,W){var b=E.Mg[0],X=E.Mg[1];r=b[~~(r*(1e3/255))];Q=b[~~(Q*(1e3/255))];W=b[~~(W*(1e3/255))];
var D=E.B1.Sa,h=D[0]*r+D[1]*Q+D[2]*W,S=D[4]*r+D[5]*Q+D[6]*W,a=D[8]*r+D[9]*Q+D[10]*W;h=h*(100/96.72);
S=S*(100/100);a=a*(100/81.427);return E.Tb(h,S,a)};E.Tb=function(r,Q,W){var b=E.Mg[1],X=b[~~(r*1e3)],D=b[~~(Q*1e3)],h=b[~~(W*1e3)];
return{HN:116*D-16,mu:500*(X-D),k:200*(D-h)}};E.BN=function(r,Q,W){var b=903.3,X=.008856,D=(r+16)/116,h=D*D*D,S=D-W/200,a=S*S*S,K=Q/500+D,Y=K*K*K,d=a>X?a:(116*S-16)/b,j=h>X?h:(116*D-16)/b,U=Y>X?Y:(116*K-16)/b,I=U*96.72,f=j*100,g=d*81.427,H=E.B1.lK(E.B1.dW,[I/100,f/100,g/100,0]);
for(var n=0;n<4;n++)H[n]=Math.max(0,Math.min(255,E.Lz(H[n])*255));return{o:H[0],W:H[1],k:H[2]}};E.QY=function(r,Q,W,b,X){var D=r.HN,h=r.mu,S=r.k,a=(D<Q.HN?Q.HN-D:W.HN<D?W.HN-D:0)*(1/100),K=(h<Q.mu?Q.mu-h:W.mu<h?W.mu-h:0)*(1/116),Y=(S<Q.k?Q.k-S:W.k<S?W.k-S:0)*(1/116),d=Math.sqrt(a*a+K*K+Y*Y)*1.35;
return d<=b?Math.min(1,1.17*(1-d*X)):0};E.Ou=function(r,Q,W){var b=r.length,X=.3,D=.59,h=.11;if(W){X=W[0];
D=W[1];h=W[2]}for(var n=0;n<b;n+=4)Q[n>>2]=~~(r[n+0]*X+r[n+1]*D+r[n+2]*h+.5)};E.BA=function(r,Q){var W=Q.length;
for(var n=0;n<W;n+=4){var b=r[n>>>2];Q[n]=b;Q[n+1]=b;Q[n+2]=b}};E.b8=function(r,Q){var W=r.mu,b=r.o,X=r.W,D=r.k,h=Math.min(r.mu.length,Q.buffer.byteLength>>>2),S=4*Math.floor(h/4),a=new Uint32Array(Q.buffer),K=new Uint32Array(W.buffer),Y=new Uint32Array(b.buffer),d=new Uint32Array(X.buffer),j=new Uint32Array(D.buffer);
for(var n=0;n<S;n+=4){var U=K[n>>2],I=j[n>>2],f=d[n>>2],g=Y[n>>2];a[n]=U<<24|(I&255)<<16|(f&255)<<8|g&255;
a[n+1]=(U&65280)<<16|(I&65280)<<8|f&65280|(g&65280)>>>8;a[n+2]=(U&16711680)<<8|I&16711680|(f&16711680)>>>8|(g&16711680)>>>16;
a[n+3]=U&4278190080|(I&4278190080)>>>8|(f&4278190080)>>>16|(g&4278190080)>>>24}for(var n=S;n<h;n++)a[n]=W[n]<<24|D[n]<<16|X[n]<<8|b[n]};
E.q_=function(r,Q){var W=Q.mu,b=Q.o,X=Q.W,D=Q.k,h=Math.min(Q.mu.length,r.buffer.byteLength>>>2),S=4*Math.floor(h/4),a=new Uint32Array(r.buffer),K=new Uint32Array(W.buffer),Y=new Uint32Array(b.buffer),d=new Uint32Array(X.buffer),j=new Uint32Array(D.buffer);
for(var n=0;n<S;n+=4){var U=a[n],I=a[n+1],f=a[n+2],g=a[n+3];Y[n>>2]=U&255|(I&255)<<8|(f&255)<<16|g<<24;
d[n>>2]=(U&65280)>>8|I&65280|(f&65280)<<8|(g&65280)<<16;j[n>>2]=(U&16711680)>>16|(I&16711680)>>8|f&16711680|(g&16711680)<<8;
K[n>>2]=U>>>24|I>>>24<<8|f>>>24<<16|g&4278190080}for(var n=S;n<h;n++){var H=a[n];b[n]=H>>0&255;X[n]=H>>8&255;
D[n]=H>>16&255;W[n]=H>>24&255}};E.TX=function(r,Q,W){var b=new Uint8Array(r.buffer),X=Math.min(b.length/4,Q.length);
for(var n=0;n<X;n++){Q[n]=b[(n<<2)+W]}};E.nV=function(r,Q,W){var b=new Uint8Array(Q.buffer),X=new Uint32Array(r.buffer),D=Math.min(b.length/4,r.length),n=0;
while(n+4<D){var h=X[n>>>2];b[(n<<2)+W]=h&255;b[(n<<2)+W+4]=h>>>8&255;b[(n<<2)+W+8]=h>>>16&255;b[(n<<2)+W+12]=h>>>24;
n+=4}while(n<D){b[(n<<2)+W]=r[n];n++}};E.tl=function(r,Q,W){if(W==null)W=0;var b=new Uint32Array(r.buffer),X=b.length;
for(var n=0;n<X;n++)b[n]=b[n]&W|Q};E.aaw=function(r,Q,W,b,X){if(X==null)X=0;var D=new Uint32Array(r.buffer);
W=W.ww(Q);var h=W.x-Q.x,S=W.y-Q.y,a=W.e,K=W.n,Y=Q.e;for(var d=0;d<K;d++){var n=(S+d)*Y+h;for(var j=0;
j<a;j++){D[n]=D[n]&X|b;n++}}};E.qr=function(r,Q){var W=Math.min(r.buffer.byteLength,Q.buffer.byteLength),b=W>>>2,r=new Uint32Array(r.buffer,0,b),Q=new Uint32Array(Q.buffer,0,b);
Q.set(r)};E.s4=function(r,Q){var W=r.buffer.byteLength,b=Q.buffer.byteLength,X=new Uint32Array(r.buffer,0,W>>2),D=new Uint32Array(Q.buffer,0,b>>2);
if(W!=b)return!1;var h=X.length;for(var n=0;n<h;n++)if(D[n]!=X[n])return!1;return!0};E.j4=function(r){var Q=new Uint32Array(r.buffer),W=Q.length;
for(var n=0;n<W;n++)Q[n]=~Q[n]};E.afG=function(r){var Q=r.length;for(var n=0;n<Q;n+=4){r[n]=~r[n];r[n+1]=~r[n+1];
r[n+2]=~r[n+2]}};E.ajJ=function(r){var Q=r.length;for(var n=3;n<Q;n+=4)r[n]=~r[n]};E.a0g=function(r){return r+(r%4==0?0:4-r%4)};
E.Q=function(r,Q){if(Q==null)Q=!1;if(!Q)r=E.a0g(r);try{var W=new Uint8Array(r)}catch(aA){alert("Not enough RAM! (need "+Math.round(r/(1<<20))+" MB)",7e3);
throw"low_ram"}return W};E.P$=function(r){var Q=r.length,W=r[Q-2],b=r[Q-1];while(b.e>=2&&b.n>=2){var X=E.mJ(W,b);
r.push(X.NP,X.rect);W=X.NP;b=X.rect}};E.d6=function(r){var Q=r.length,W=r[Q-2],b=r[Q-1];while(b.e>=2&&b.n>=2){var X=E.Ap(W,b);
r.push(X.NP,X.rect);W=X.NP;b=X.rect}};E.mJ=function(r,Q,W){var b=Q.e,X=Q.n,D=b>>1,h=X>>1,S=new aV(Q.x,Q.y,D,h),a=W&&W.length==D*h*4?W:E.Q(D*h*4),K=new Uint32Array(r.buffer),Y=new Uint32Array(a.buffer);
for(var d=0;d<h;d++)for(var j=0;j<D;j++){var U=d*D+j,I=(d<<1)*b+(j<<1),f=K[I],g=K[I+1],H=K[I+b],u=K[I+b+1],s=f>>>24,_=g>>>24,i=H>>>24,M=u>>>24,T=s+_+i+M;
if(T==1020){var R=(f>>>0&255)+(g>>>0&255)+(H>>>0&255)+(u>>>0&255)+2>>>2,z=(f>>>8&255)+(g>>>8&255)+(H>>>8&255)+(u>>>8&255)+2>>>2,G=(f>>>16&255)+(g>>>16&255)+(H>>>16&255)+(u>>>16&255)+2>>>2;
Y[U]=255<<24|G<<16|z<<8|R}else if(T==0)Y[U]=0;else{var R=(f>>>0&255)*s+(g>>>0&255)*_+(H>>>0&255)*i+(u>>>0&255)*M,z=(f>>>8&255)*s+(g>>>8&255)*_+(H>>>8&255)*i+(u>>>8&255)*M,G=(f>>>16&255)*s+(g>>>16&255)*_+(H>>>16&255)*i+(u>>>16&255)*M,V=1/T;
R=~~(R*V+.5);z=~~(z*V+.5);G=~~(G*V+.5);Y[U]=T+2>>>2<<24|G<<16|z<<8|R}}return{rect:S,NP:a}};E.cx=function(r,Q,W){var b=Q.e,X=Q.n,D=b>>1,h=X>>1,S=new aV(Q.x,Q.y,D,h),a=W&&W.length==D*h*4?W:E.Q(D*h*4),K=new Uint32Array(r.buffer),Y=new Uint32Array(a.buffer);
for(var d=0;d<h;d++)for(var j=0;j<D;j++){var U=d*D+j,I=(d<<1)*b+(j<<1),f=K[I],g=K[I+1],H=K[I+b],u=K[I+b+1],s=2+(f>>>0&255)+(g>>>0&255)+(H>>>0&255)+(u>>>0&255)>>>2,_=2+(f>>>8&255)+(g>>>8&255)+(H>>>8&255)+(u>>>8&255)>>>2,i=2+(f>>>16&255)+(g>>>16&255)+(H>>>16&255)+(u>>>16&255)>>>2,M=2+(f>>>24&255)+(g>>>24&255)+(H>>>24&255)+(u>>>24&255)>>>2;
Y[U]=M<<24|i<<16|_<<8|s}return{rect:S,NP:a}};E.a2o=function(r,Q,W){var b=Q.e,X=Q.n,D=2*Math.floor(b/3),h=2*Math.floor(X/3),S=new aV(Q.x,Q.y,D,h),a=W&&W.length==D*h*4?W:E.Q(D*h*4),K=new Uint32Array(r.buffer),Y=new Uint32Array(a.buffer);
for(var d=0;d<h;d+=2)for(var j=0;j<D;j+=2){var U=d*D+j,I=(d*3>>>1)*b+(j*3>>>1),f=K[I],g=K[I+1],H=K[I+2],u=K[I+b],s=K[I+1+b],_=K[I+2+b],i=K[I+b+b],M=K[I+1+b+b],T=K[I+2+b+b],R=f>>>24<<2,z=(f>>>16&255)*R,G=(f>>>8&255)*R,V=(f&255)*R,y=g>>>24<<1,k=(g>>>16&255)*y,B=(g>>>8&255)*y,v=(g&255)*y,l=H>>>24<<2,F=(H>>>16&255)*l,L=(H>>>8&255)*l,Z=(H&255)*l,t=u>>>24<<1,A=(u>>>16&255)*t,o=(u>>>8&255)*t,O=(u&255)*t,x=s>>>24,C=(s>>>16&255)*x,J=(s>>>8&255)*x,q=(s&255)*x,fd=_>>>24<<1,w=(_>>>16&255)*fd,P=(_>>>8&255)*fd,fc=(_&255)*fd,p=i>>>24<<2,gG=(i>>>16&255)*p,fh=(i>>>8&255)*p,fJ=(i&255)*p,cF=M>>>24<<1,j_=(M>>>16&255)*cF,gY=(M>>>8&255)*cF,kc=(M&255)*cF,el=T>>>24<<2,iN=(T>>>16&255)*el,c$=(T>>>8&255)*el,dB=(T&255)*el,aL=R+y+t+x,aB=l+y+fd+x,f3=p+cF+t+x,jC=el+cF+fd+x,bc=aL==0?0:1/aL,iA=aB==0?0:1/aB,bL=f3==0?0:1/f3,an=jC==0?0:1/jC,dp=0,im=0,a5=0,bg=0;
dp=~~(.5+(V+v+O+q)*bc);im=~~(.5+(G+B+o+J)*bc);a5=~~(.5+(z+k+A+C)*bc);bg=~~(.5+aL*(1/9));Y[U]=bg<<24|a5<<16|im<<8|dp;
dp=~~(.5+(Z+v+fc+q)*iA);im=~~(.5+(L+B+P+J)*iA);a5=~~(.5+(F+k+w+C)*iA);bg=~~(.5+aB*(1/9));Y[U+1]=bg<<24|a5<<16|im<<8|dp;
dp=~~(.5+(fJ+kc+O+q)*bL);im=~~(.5+(fh+gY+o+J)*bL);a5=~~(.5+(gG+j_+A+C)*bL);bg=~~(.5+f3*(1/9));Y[U+D]=bg<<24|a5<<16|im<<8|dp;
dp=~~(.5+(dB+kc+fc+q)*an);im=~~(.5+(c$+gY+P+J)*an);a5=~~(.5+(iN+j_+w+C)*an);bg=~~(.5+jC*(1/9));Y[U+D+1]=bg<<24|a5<<16|im<<8|dp}return{rect:S,NP:a}};
E.abB=function(r,Q,W){var b=Q.e,X=Q.n,D=2*Math.floor(b/3),h=2*Math.floor(X/3),S=new aV(Q.x,Q.y,D,h),a=W&&W.length==D*h*4?W:E.Q(D*h*4),K=new Uint32Array(r.buffer),Y=new Uint32Array(a.buffer);
for(var d=0;d<h;d+=2)for(var j=0;j<D;j+=2){var U=d*D+j,I=(d*3>>>1)*b+(j*3>>>1),f=K[I],g=K[I+1],H=K[I+2],u=K[I+b],s=K[I+1+b],_=K[I+2+b],i=K[I+b+b],M=K[I+1+b+b],T=K[I+2+b+b],R=(f>>>16&255)<<2,z=(f>>>8&255)<<2,G=(f&255)<<2,V=(g>>>16&255)<<1,y=(g>>>8&255)<<1,k=(g&255)<<1,B=(H>>>16&255)<<2,v=(H>>>8&255)<<2,l=(H&255)<<2,F=(u>>>16&255)<<1,L=(u>>>8&255)<<1,Z=(u&255)<<1,t=s>>>16&255,A=s>>>8&255,o=s&255,O=(_>>>16&255)<<1,x=(_>>>8&255)<<1,C=(_&255)<<1,J=(i>>>16&255)<<2,q=(i>>>8&255)<<2,fd=(i&255)<<2,w=(M>>>16&255)<<1,P=(M>>>8&255)<<1,fc=(M&255)<<1,p=(T>>>16&255)<<2,gG=(T>>>8&255)<<2,fh=(T&255)<<2,fJ=0,cF=0,j_=0;
fJ=~~(.5+(G+k+Z+o)*(1/9));cF=~~(.5+(z+y+L+A)*(1/9));j_=~~(.5+(R+V+F+t)*(1/9));Y[U]=255<<24|j_<<16|cF<<8|fJ;
fJ=~~(.5+(l+k+C+o)*(1/9));cF=~~(.5+(v+y+x+A)*(1/9));j_=~~(.5+(B+V+O+t)*(1/9));Y[U+1]=255<<24|j_<<16|cF<<8|fJ;
fJ=~~(.5+(fd+fc+Z+o)*(1/9));cF=~~(.5+(q+P+L+A)*(1/9));j_=~~(.5+(J+w+F+t)*(1/9));Y[U+D]=255<<24|j_<<16|cF<<8|fJ;
fJ=~~(.5+(fh+fc+C+o)*(1/9));cF=~~(.5+(gG+P+x+A)*(1/9));j_=~~(.5+(p+w+O+t)*(1/9));Y[U+D+1]=255<<24|j_<<16|cF<<8|fJ}return{rect:S,NP:a}};
E.vR=function(r){var Q=255,W=r.length;W-=W&31;for(var n=3;n<W;n+=32)Q=Q&r[n]&r[n+4]&r[n+8]&r[n+12]&r[n+16]&r[n+20]&r[n+24]&r[n+28];
return Q!=255};E.aqW=function(r,Q,W,b){var X=E.mJ,D=E.a2o,S=0;if(!E.vR(r)){X=E.cx;D=E.abB}var h={NP:r,rect:Q},a=W;
while(a<.499){S++;a*=2}for(var n=0;n<S;n++)h=X(h.NP,h.rect,b);if(a<.5001)h=X(h.NP,h.rect,b);else h=D(h.NP,h.rect,b);
return h};E.a2j=function(r,Q,W,b){var X=E.Ap,D=E.kh,h={NP:r,rect:Q},S=0,a=W;while(a<.499){S++;a*=2}for(var n=0;
n<S;n++)h=X(h.NP,h.rect,b);if(a<.5001)h=X(h.NP,h.rect,b);else h=D(h.NP,h.rect,b);return h};E.Ap=function(r,Q,W){var b=Q.e,X=Q.n,D=b>>1,h=X>>1,S=new aV(Q.x,Q.y,D,h);
if(r==null)return{rect:S};var a=W&&W.length>=D*h?W:E.Q(D*h);for(var K=0;K<h;K++){var Y=K*D;for(var d=0;
d<D;d++){var j=(K<<1)*b+(d<<1);a[Y+d]=2+r[j]+r[j+1]+r[j+b]+r[j+b+1]>>>2}}return{rect:S,NP:a}};E.kh=function(r,Q,W){var b=Q.e,X=Q.n,D=2*Math.floor(b/3),h=2*Math.floor(X/3),S=new aV(Q.x,Q.y,D,h);
if(r==null)return{rect:S};var a=W&&W.length>=D*h?W:E.Q(D*h);for(var K=0;K<h;K+=2)for(var Y=0;Y<D;Y+=2){var d=K*D+Y,j=(K*3>>>1)*b+(Y*3>>>1),U=r[j]<<2,I=r[j+1]<<1,f=r[j+2]<<2,g=r[j+b]<<1,H=r[j+1+b],u=r[j+2+b]<<1,s=r[j+b+b]<<2,_=r[j+1+b+b]<<1,i=r[j+2+b+b]<<2;
a[d]=~~(.5+(U+I+g+H)*(1/9));a[d+1]=~~(.5+(f+I+u+H)*(1/9));a[d+D]=~~(.5+(s+_+g+H)*(1/9));a[d+D+1]=~~(.5+(i+_+u+H)*(1/9))}return{rect:S,NP:a}};
E.L0=function(r,Q,W,b,X){var D=Q.ww(b);if(X)D=D.ww(X);var h=Math.max(0,D.x-Q.x),S=Math.max(0,D.x-b.x),a=Math.max(0,D.y-Q.y),K=Math.max(0,D.y-b.y),Y=D.e,d=D.n;
for(var n=0;n<d;n++){var j=(a+n)*Q.e+h,U=(K+n)*b.e+S;W.set(new Uint8Array(r.buffer,j,Y),U)}};E.yZ=function(r,Q,W,b){if(Q.s4(b)){E.nV(r,W,3);
return}var X=Q.ww(b),D=Math.max(0,X.x-Q.x),h=Math.max(0,X.x-b.x),S=Math.max(0,X.y-Q.y),a=Math.max(0,X.y-b.y),K=X.e,Y=X.n;
for(var n=0;n<Y;n++){var d=(S+n)*Q.e+D,j=(a+n)*b.e+h;for(var U=0;U<K;U++)W[(j+U<<2)+3]=r[d+U]}};E.my=function(r,Q,W,b){var X=Q.ww(b),D=Math.max(0,X.x-Q.x),h=Math.max(0,X.x-b.x),S=Math.max(0,X.y-Q.y),a=Math.max(0,X.y-b.y),K=X.e,Y=X.n;
for(var n=0;n<Y;n++){var d=(S+n)*Q.e+D,j=(a+n)*b.e+h;for(var U=0;U<K;U++)W[j+U]=r[(d+U<<2)+3]}};E.TU=function(r,Q,W,b,X){if(Q.s4(b)&&(X==null||X.s4(b))){E.qr(r,W);
return}r=new Uint32Array(r.buffer),W=new Uint32Array(W.buffer);var D=Q.ww(b);if(X)D=D.ww(X);var h=Math.max(0,D.x-Q.x),S=Math.max(0,D.x-b.x),a=Math.max(0,D.y-Q.y),K=Math.max(0,D.y-b.y),Y=D.e,d=D.n,j=Y&3,U=j==0?Y:Y-j;
for(var n=0;n<d;n++){var I=(a+n)*Q.e+h,f=(K+n)*b.e+S;W.set(new Uint32Array(r.buffer,I*4,Y),f)}};E.ow=function(r,Q,W,b){var X=Q.ww(b),D=Math.max(0,X.x-Q.x),h=Math.max(0,X.x-b.x),S=Math.max(0,X.y-Q.y),a=Math.max(0,X.y-b.y),K=X.e,Y=X.n,d=r.mu,j=r.o,U=r.W,I=r.k,f=W.mu,g=W.o,H=W.W,u=W.k;
for(var n=0;n<Y;n++){var s=(S+n)*Q.e+D,_=(a+n)*b.e+h;for(var i=0;i<K;i++){f[_+i]=d[s+i];g[_+i]=j[s+i];
H[_+i]=U[s+i];u[_+i]=I[s+i]}}};E.oL=function(r){var Q=r.length;for(var n=0;n<Q;n+=4){var W=r[n+3];if(W==255)continue;
r[n]=~~(r[n]*W*(1/255)+.5);r[n+1]=~~(r[n+1]*W*(1/255)+.5);r[n+2]=~~(r[n+2]*W*(1/255)+.5)}};E.IQ=function(r){var Q=r.length;
for(var n=0;n<Q;n+=4){var W=r[n+3];if(W==0||W==255)continue;var b=255/W;r[n]=~~(r[n]*b+.5);r[n+1]=~~(r[n+1]*b+.5);
r[n+2]=~~(r[n+2]*b+.5)}};E.pV=function(r,Q){for(var n=0;n<r.length;n++)if(r[n]!=Q)return!1;return!0};
E.vZ=function(r){return r+1+(r>>>8)>>>8};E.round=function(r,Q){if(Q==null)Q=128;var W=r.length;for(var n=0;
n<W;n++)r[n]=r[n]<Q?0:255};E.wM=function(r,Q){var W=r.length;for(var n=0;n<W;n++)r[n]=Math.round(r[n]*Q)};
E.ES=function(r,Q){var W=new Uint32Array(r.buffer),b=new Uint32Array(Q.buffer),X=W.length;for(var n=0;
n<X;n++){var D=W[n],h=b[n];b[n]=E.vZ((D>>>24)*(h>>>24))<<24|E.vZ((D>>>16&255)*(h>>>16&255))<<16|E.vZ((D>>>8&255)*(h>>>8&255))<<8|E.vZ((D&255)*(h&255))}};
E.DJ=function(r,Q){var W=r.length;for(var n=0;n<W;n++)Q[(n<<2)+3]=E.vZ(Q[(n<<2)+3]*r[n])};E.axn=function(r,Q,W,b){var X=Math.max(0,b.x-Q.x),D=Math.max(0,Q.x-b.x),h=Math.max(0,b.y-Q.y),S=Math.max(0,Q.y-b.y),a=Math.min(Q.x+Q.e,b.x+b.e)-Math.max(Q.x,b.x),K=Math.min(Q.y+Q.n,b.y+b.n)-Math.max(Q.y,b.y);
for(var n=0;n<K;n++){var Y=(h+n)*Q.e+X,d=(S+n)*b.e+D;for(var j=0;j<a;j++){W[d]=E.vZ(W[d]*r[Y]);Y++;d++}}};
E.qH=function(r,Q,W,b){var X=Math.max(0,b.x-Q.x),D=Math.max(0,Q.x-b.x),h=Math.max(0,b.y-Q.y),S=Math.max(0,Q.y-b.y),a=Math.min(Q.x+Q.e,b.x+b.e)-Math.max(Q.x,b.x),K=Math.min(Q.y+Q.n,b.y+b.n)-Math.max(Q.y,b.y);
for(var n=0;n<K;n++){var Y=(h+n)*Q.e+X,d=((S+n)*b.e+D<<2)+3;for(var j=0;j<a;j++){W[d]=E.vZ(W[d]*r[Y]);
Y++;d+=4}}};E.Zn=function(r,Q,W,b){var X=Math.max(0,b.x-Q.x),D=Math.max(0,Q.x-b.x),h=Math.max(0,b.y-Q.y),S=Math.max(0,Q.y-b.y),a=Math.min(Q.x+Q.e,b.x+b.e)-Math.max(Q.x,b.x),K=Math.min(Q.y+Q.n,b.y+b.n)-Math.max(Q.y,b.y);
for(var n=0;n<K;n++){var Y=((h+n)*Q.e+X<<2)+3,d=((S+n)*b.e+D<<2)+3;for(var j=0;j<a;j++){W[d]=E.vZ(W[d]*r[Y]);
Y+=4;d+=4}}};E.hg=function(r,Q){if(Q==null)Q=1;var W=4*Q,b=r.length>>>2,X=new Float64Array(256),D=new Float64Array(256),h=new Float64Array(256),S=new Float64Array(256),a=4*Math.floor(b/Q)*Q,K=0;
for(var n=0;n<a;n+=W){var Y=r[n+0],d=r[n+1],j=r[n+2],U=r[n+3]*Q,I=U*(1/255);D[Y]+=I;h[d]+=I;S[j]+=I;
K+=U}for(var n=0;n<256;n++)X[n]=D[n]+h[n]+S[n];return[X,D,h,S,b,K/255]};E.AA=function(r,Q){function W(M,T){var R=-1,z=0;
while(z<=T){R++;z+=M[R]}return R}function b(M,T){var R=256,z=0;while(z<=T){R--;z+=M[R]}return R}function X(M){var T=0,R=0;
for(var n=0;n<256;n++){R+=M[n];T+=M[n]*n*(1/255)}return T/R}var D=r[0],h=r[1]/100,S=r[2]/100,a=[],K=[];
for(var n=0;n<4;n++){var Y=n==0?3:1;a[n]=W(Q[n],Y*h*Q[5]);K[n]=b(Q[n],Y*S*Q[5])}var d=[X(Q[1]),X(Q[2]),X(Q[3])],j=d.slice(0);
j.sort(function(M,T){return M-T});var U=d.indexOf(j[1]),I=(d[0]+d[1]+d[2])/3,f=[];for(var n=0;n<4;n++){var g=0,H=255,u=a[n],s=K[n];
if(D==0&&n==0){g=u;H=s}if(D==1&&n!=0){g=u;H=s}if(D==2&&n!=0){var Y=d[n-1]/I;H=Math.max(0,Math.min(255,K[U]*Y))}var _=[g,H];
f.push(_);if(D==3&&n==0){var i=255*(1-I);_.push(i)}}return f};E.xu=function(r,Q){var W=new Uint32Array(r.buffer),b=W.length;
for(var n=0;n<b;n++){var X=W[n],D=X&255,h=X>>8&255,S=X>>16&255,a=X>>24&255;W[n]=Q[D]|Q[h]<<8|Q[S]<<16|Q[a]<<24}};
E.abr=function(r,Q,W,b,X,D,h){var S=new Uint32Array(r.buffer),a=new Uint32Array(Q.buffer),K=S.length,Y=0;
while(256<<Y<W.length)Y++;if(!h&&!D){for(var n=0;n!=K;n++){var d=S[n],j=(d&255)<<Y,U=(d>>>8&255)<<Y,I=(d>>>16&255)<<Y,f=W[j],g=b[U],H=X[I];
a[n]=f|g<<8|H<<16|d&4278190080}return}for(var n=0;n<K;n++){var d=S[n],j=(d&255)<<Y,U=(d>>>8&255)<<Y,I=(d>>>16&255)<<Y;
if(D)j=U=I=Math.round(j*.3+U*.59+I*.11);var f=W[j],g=b[U],H=X[I];if(h){var u=E.f_(j,U,I),s=E.f_(f,g,H);
if(u>s){var _=(u-s)/(255-s);f+=_*(255-f);g+=_*(255-g);H+=_*(255-H)}else if(s==0)f=g=H=0;else{var _=u/s;
f=_*f;g=_*g;H=_*H}}a[n]=f|g<<8|H<<16|d&4278190080}};E.ub=function(r,Q){var W=Q.e,b=Q.n,top=0,X=0,D=0,h=0,S=0;
S=0;for(var a=0;a<b;a++){var K=a*W;for(var n=0;n<W;n++)S|=r[K+n];if(S!=0)break;top++}if(top==b)return new aV(0,0,0,0);
S=0;for(var a=b-1;a>=0;a--){var K=a*W;for(var n=0;n<W;n++)S|=r[K+n];if(S!=0)break;D++}var Y=b-D;S=0;
for(var n=0;n<W;n++){for(var a=top;a<Y;a++)S|=r[a*W+n];if(S!=0)break;X++}S=0;for(var n=W-1;n>=0;n--){for(var a=top;
a<Y;a++)S|=r[a*W+n];if(S!=0)break;h++}var d=new aV(Q.x+X,Q.y+top,W-X-h,b-top-D);return d};E.cm=function(r,Q,W,b){if(b==null)b=[!0,!0,!0,!0];
if(W==null)W=0;var X=new Uint32Array(r.buffer),D=Q.e,h=Q.n,top=0,S=0,a=0,K=0,Y=!1,d=[X[0],X[X.length-1],0][W];
Y=!1;if(b[0])for(var j=0;j<h;j++){var U=j*D;for(var n=0;n<D;n++)if(X[U+n]!=d)Y=!0;if(Y)break;top++}Y=!1;
if(b[2])for(var j=h-1;j>=0;j--){var U=j*D;for(var n=0;n<D;n++)if(X[U+n]!=d)Y=!0;if(Y)break;a++}Y=!1;
if(b[1])for(var n=0;n<D;n++){for(var j=0;j<h;j++)if(X[j*D+n]!=d)Y=!0;if(Y)break;S++}Y=!1;if(b[3])for(var n=D-1;
n>=0;n--){for(var j=0;j<h;j++)if(X[j*D+n]!=d)Y=!0;if(Y)break;K++}var I=new aV(Q.x+S,Q.y+top,D-S-K,h-top-a);
return I.WB()?new aV(0,0,0,0):I};E.Dg=function(r){var Q=E.ub(r.channel,r.rect);if(Q.s4(r.rect))return;
var W=E.Q(Q.O());E.L0(r.channel,r.rect,W,Q);r.channel=W;r.rect=Q};E.qM=function(r){var Q=E.Q(r.buffer.length>>2);
E.TX(r.buffer,Q,3);var W=E.ub(Q,r.rect);if(W.s4(r.rect))return;var b=new E.Q(W.O()*4);E.TU(r.buffer,r.rect,b,W);
r.buffer=b;r.rect=W};E.extend=function(r,Q,W){if(r.rect.oN(Q))return;var b=r.rect.Bc(Q),X=E.Q(b.O());
if(W!=null)X.fill(W);E.L0(r.channel,r.rect,X,b);r.rect=b;r.channel=X};E.am2=function(r,Q){if(Q.WB()||r.rect.oN(Q))return;
var W=r.rect.Bc(Q),b=E.Q(W.O()*4);E.TU(r.buffer,r.rect,b,W);r.rect=W;r.buffer=b};E.Js=function(r,Q,W){if(!W.LS(r))return!1;
var b=Math.floor(r.x)-W.x,X=Math.floor(r.y)-W.y,n=X*W.e+b;return Q[n]>128};E.a58=function(r,Q,W){if(!W.LS(r))return!1;
var b=Math.floor(r.x)-W.x,X=Math.floor(r.y)-W.y,n=X*W.e+b;return Q[4*n+3]>128};E.MX=function(r){if(E.hv.length<r){E.hv=E.Q(r);
E.hv.fill(255)}return E.hv};E.hv=E.Q(0);E.lk=function(r){if(E.N5.length<r)E.N5=E.Q(r);return E.N5};E.N5=E.Q(0);
E.yC=function(r){this.mu=E.Q(r);this.o=E.Q(r);this.W=E.Q(r);this.k=E.Q(r)};E.yC.prototype.clone=function(){var r=this.mu.length,Q=new E.yC(1);
Q.mu=this.mu.slice(0);Q.o=this.o.slice(0);Q.W=this.W.slice(0);Q.k=this.k.slice(0);return Q};E.N.ajH=function(r,Q,W,b,X){var D=X[0]+1,h=X[1],S=Math.abs(h-25)/4,a=X[2],K=a%2+a*a>>1,Y=E.N.a;
Y.DD(Q,W);var d=Y.Yr(1),j=Y.Yr(1),U=Y.Yr(1);Y.dm(r,b,a,a,K);Y.z3(b);Y.ab(b,d);Y.SX(d,j,D,D,1);Y.SX(d,U,D,D,D*D);
Y.sub(U,j);Y.ES(j,S);(h<25?Y.sub:Y.add)(d,j);Y.z7(j,b);Y.Nw(b)};E.N.any=function(r,Q,W,b,X){var D=E.N.a;
D.DD(Q,W);var h=X[0]*2.55,S=X[1],a=S>>1,K=X[2]*.25,Y=D.Yr(4),d=D.Yr(1),j=D.Yr(1);D.jj(r,Y,S,1,!0,a);
D.jj(r,b,S,1,!1,a);D.Ks(r,d);D.x$(d,h);D.OR(d,j,3);D.hF(b,j,Y);D.qY(Y,b,K)};E.N.acy=function(r,Q,W,b,X){var D=E.N.a;
D.DD(Q,W);D.el(X[3]);var h=X[0]*-3+80,S=X[1]*-3+80,a=X[2]/2+.5,K=X[4],Y=X[5],d=D.Yr(1),j=D.Yr(1),U=D.Yr(1),I=D.Yr(1),f=D.Yr(4),g=D.Yr(4);
D.Ks(r,d);D.qr(d,j);D.c2(d,S,5);D.HA(d,.4,0);D.OR(d,U,3);D.pL(U,d,9,3,!0,27);D.qr(j,U);D.j4(U);var H=D.ie(h,5,U);
for(var n=0;n<D.ji;n++){j[n]=H[255-j[n]]}D.HA(j,.4,0);D.qr(j,U);D.OR(U,I,2);D.pL(I,U,5,3,!1,15);D.ES(d,a);
D.ES(U,a);D.d$(b,2155905279);D.d$(g,K);D.d$(f,Y);D.hF(g,d,b);D.hF(f,U,b)};E.N.a9R=function(r,Q,W,b,X){var D=E.N.a;
D.DD(Q,W);var h=new Uint8Array(256),S=5+10*X[1];S+=X[1]>3?(X[1]-3)*10:0;var a=~~(X[2]*.73)+50,K=Math.min(a+S,128),Y=K-a,d=-255*a;
for(var n=0;n<256;n++){var j=n*65;h[n]=D.wq(d/Y);d+=255}var U=D.Yr(1),I=D.Yr(1),f=D.Yr(1);D.Ks(r,U);
D.qr(U,f);D.OR(U,I,2*X[0]+1);D.sub(I,U);D.ES(U,65);D.pL(U,I,9,3,!0,20);for(var n=0;n<D.ji;n++){var g=f[n],H=I[n];
U[n]=H>0?~~((H*g+(255-H)*128)/255):128}D.OR(U,I,3);D.pL(I,U,15,2,!0,16);D.pL(I,f,15,2,!1,15);D.y_(U,f);
D.CO(f,I,2);D.f6(I,h);D.OR(I,U,2);D.BO(U,b)};E.N.av8=function(r,Q,W,b,X){var D=E.N.a;D.DD(Q,W);var h=2*X[0]+1,S=D.fT[X[1]],a=X[2]*5.1,K=X[3],Y=D.Yr(1),d=D.Yr(1),j=D.Yr(4),U=D.Yr(4);
D.d$(j,K);D.z3(j,b);D.bV(Y,a);D.z7(Y,b);D.Nw(b,j);D.Ks(r,d);D.OR(d,Y,h);D.sub(Y,d);D.ES(d,S);D.pL(d,Y,9,3,!0,20);
D.hF(r,Y,j);D.C$(j,b,3);D.jj(b,j,15,2,!0,16);D.jj(b,U,15,2,!1,16);D.y_(j,U);D.qY(U,b,2)};E.N.arW=function(r,Q,W,b,X){var D=E.N.a;
D.DD(Q,W);var h=(15-X[0])/4+1,S=(15-X[1])/4+1,a=X[2],K=X[3],Y=D.ey(X[4]),d=X[5]+1,j=X[6],U=X[7],I=X[8],f=D.Yr(1),g=D.Yr(1),H=D.Yr(1),u=D.Yr(1),s=D.Yr(4),_=D.Yr(4);
D.iV(H,a,K,j);D.Ks(r,g);D.OR(g,f,5);D.Gf(H,f,u,d,Y);D.ES(u,h);D.NS(u,2);D.j4(f);D.Gf(H,f,g,d,Y);D.ES(g,S);
D.NS(g,2);D.d$(s,2155905279);D.d$(_,U);D.d$(b,I);D.hF(s,g,_);D.hF(_,u,b)};E.N.a6o=function(r,Q,W,b,X){var D=E.N.a;
D.DD(Q,W);D.el(X[3]);var h=X[0],S=X[1]/10,a=X[2]/10,K=D.Yr(1),Y=D.Yr(1),d=D.Yr(1),j=D.Ww(),U=D.Ww(),I=D.Ww();
D.gO(K);D.OR(K,Y,11);D.OR(Y,K,11);D.tU(K,j);D.Li(r,K);D.qr(K,d);D.OR(K,Y,9);D.OR(Y,K,9);D.tU(K,U);D.RZ(U,I,5);
D.RZ(I,U,5);D.x0(j,.8);D.a3b(j,U,.8,.9);D.we(U,K,h);D.SX(K,Y,2,2,1);D.SX(Y,K,2,2,3);D.SX(K,Y,2,2,3);
D.SX(d,K,5,5,13);D.lD(Y,K,Y,S);D.cK(K,Y,Y,a);D.Gf(Y,Y,K,5,1);D.z3(r,b);D.z7(K,b);D.Nw(b)};E.N.ay9=function(r,Q,W,b,X){var D=E.N.a;
D.DD(Q,W);var h=X[0],S=X[1]/2,a=X[2],K=h/2,Y=D.Yr(4),d=D.Yr(4);D.qr(r,b);for(var j=0;j<a;j++){D.jj(b,Y,h,1,!0,K);
D.jj(b,d,h,1,!1,K);D.y_(d,Y);D.C$(Y,d,2);D.qY(d,b,S)}};E.N.ajD=function(r,Q,W,b,X){var D=E.N.a;D.DD(Q,W);
var h=X[0]*10,S=X[1]*4.9,a=X[2]*4.9,K=D.Yr(1),Y=D.Yr(1),d=D.Yr(4),j=D.Yr(4);D.Ks(r,K);D.x$(K,D.aw9(K,h));
D.OR(K,Y,3);D.jj(r,d,5,1,!1,1);D.jj(r,b,15,2,!0,16);D.hF(b,Y,d);D.z3(d,b);D.ab(b,K);D.c2(K,S,a);D.z7(K,b);
D.Nw(b)};E.N.awo=function(r,Q,W,b,X){var D=E.N.a;D.DD(Q,W);D.el(X[4]);var h=X[0]/20,S=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][X[1]],a=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][X[2]],K=X[3],Y=new Int16Array(256);
for(var n=0;n<256;n++){Y[n]=~~((n-128)*h)}var d=D.Yr(1),j=D.Yr(1),U=D.Yr(4);D.Ks(r,d);D.OR(d,j,25);D.ES(j,S);
D.NS(j,a);D.OR(j,d,25);D.gO(j);D.FN(d,j,Y);D.qr(r,b);D.d$(U,K);D.hF(U,d,b)};E.N.agX=function(r,Q,W,b,X){var D=E.N.a;
D.DD(Q,W);var h=X[0]+5,S=15-X[1],a=h*h/2,K=1-(3-X[2])/10,Y=~~(S*S*K-1),d=~~(S*S*(1-K));if(d==0)d=1;var j=D.Yr(1),U=D.Yr(1),I=D.Yr(1),f=D.Yr(4);
D.Ks(r,I);D.SX(I,j,h,h,a);D.OR(I,U,h);D.sub(j,U);D.x$(U,1);D.dm(r,f,S,S,Y);D.dm(r,b,S,S,d);D.hF(f,U,b)};
E.N.a1W=function(r,Q,W,b,X){var D=E.N.a;D.DD(Q,W);D.el(X[3]);var h=(20-X[0])*.05,S=X[1]*-2.75+60,a=65-S,K=X[2]/10,Y=D.Yr(1),d=D.Yr(1);
D.Li(r,d);var j=D.ie(S,a,d);D.z3(r,b);D.ab(b,d);D.gO(Y);D.Xk(d,Y,h);D.f6(d,j);D.ES(d,X[2]/10);D.add(Y,d);
D.z7(d,b);D.Nw(b)};E.N.aq7=function(r,Q,W,b,X){var D=E.N.a;D.DD(Q,W);var h=5+X[0],S=15-X[1],a=X[2],K=h*h/2+h*h%2*1,Y=1-(3-X[2])/10,d=~~(S*S*Y-1),j=~~(S*S*(1-Y));
if(j==0)j=1;var U=D.Yr(1),I=D.Yr(1),f=D.Yr(1),g=D.Yr(1),H=D.Yr(1);D.Li(r,I);D.CO(I,U,3);D.SX(U,I,2,2,1);
var u=D.ie(20,20,I);D.f6(I,u);D.OR(I,H,5);D.SX(H,U,h,h,K);D.SX(H,I,S,S,d);D.SX(H,f,S,S,j);D.OR(H,g,h);
D.sub(U,g);D.x$(g,1);D.Zx(I,g,f);D.z3(r,b);D.z7(f,b);D.Nw(b)};E.N.agI=function(r,Q,W,b,X){var D=E.N.a;
D.DD(Q,W);D.el(X[5]);var h=D.ji,S=D.Ge,a=X[0],K=X[1],Y=X[2],d=X[3],j=X[4],U=.05*a+1,I=a/100,f=a>>1,g=2*a-100,H=+(K==9),u=+(K==7),s=[4,1][H],_=[3,2][H],i=[1,2][u],M=[2,1][u],T=[50,75][H],R=K<4?Y:(Y>>1)+50,z=D.bc(T,R),G=D.WQ(d),V=D.WQ(j),y=D.Yr(4),k=D.Yr(4),B=D.Yr(1),v=D.Yr(1);
function l(b,z){if(R!=50){D.rQ(b,z)}}function F(r,w){for(var n=0;n<h;n++){r[n]=D.wq(r[n]+(w[n]-128)*I)}}function L(r,w){for(var n=0,P=0;
n<h;n++){r[P]=D.wq(r[P]+(w[P]-128)*I);r[P+1]=D.wq(r[P+1]+(w[P+1]-128)*I);r[P+2]=D.wq(r[P+2]+(w[P+2]-128)*I);
P+=4}}function Z(r,b){D.gO(k);D.qr(r,b);L(b,k);l(b,z)}function t(w){var P=0;for(var fc=0;fc<12;fc++)P+=D.random();
return D.wq(f*(P-6)+w)}function A(r,b){D.qr(r,b);for(var n=0;n<S;n+=4){b[n]=t(b[n]);b[n+1]=t(b[n+1]);
b[n+2]=t(b[n+2])}l(b,z)}function o(r,b){D.qr(r,b);for(var n=0;n<S;n+=4){if(D.random()<I){b[n]=G[0];b[n+1]=G[1];
b[n+2]=G[2]}}l(b,z)}function O(r,b){D.gO(y);D.dm(y,k,_,_,s);D.qr(r,y);L(y,k);D.dm(y,b,5,5,13);l(b,z)}function x(r,b){D.gO(k);
D.qr(r,y);L(y,k);l(b,z);D.dm(y,b,_,_,s)}function C(r,b){D.qr(r,y);l(b,z);D.Ks(y,B);for(var n=0,w=0;n<h;
n++){var P=((g-B[n]+255)*128.5+.5)/32767;if(D.random()<=P){b[w++]=V[0];b[w++]=V[1];b[w++]=V[2]}else{b[w++]=G[0];
b[w++]=G[1];b[w++]=G[2]}b[w]=r[w];w++}}function J(r,b){D.z3(r,b);D.ab(b,B);D.CO(B,v,U);D.SX(v,B,_,_,s);
D.f6(B,z);D.z7(B,b);D.Nw(b)}function q(r){var w=0;if(K==8){for(var P=0;P<Q;P++){r[w++]=~~(D.random()*255)}for(var n=1;
n<W;n++){for(var P=0;P<Q;P++){r[w++]=r[P]}}}else{for(var n=0;n<W;n++){var fc=~~(D.random()*255);for(var P=0;
P<Q;P++){r[w++]=fc}}}}function fd(r,b){D.Ks(r,B);D.gO(v);F(B,v);q(v);F(B,v);D.C$(r,y,9);D.C$(y,k,9);
D.OR(B,v,2);D.f6(v,z);D.OR(v,B,2);D.z3(k,b);D.z7(B,b);D.Nw(b)}[Z,A,o,O,O,x,C,fd,fd,J][K](r,b)};E.N.aeJ=function(r,Q,W,b,X){var D=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],h=E.N.a,f=0,g,n,i,M,T,R=0,z=1,G=255;
h.DD(Q,W);h.el(X[3]);var S=h.Yr(1),a=h.Yr(1);h.Ks(r,S);var K=X[0],Y=X[1],d=Y<=50?D[Y]/255:1+(255-D[101-Y])/255,j=X[2],U=S.length,I=new Float32Array(U),H=1+1/10*K,u=(1-1/H)/2,s=16/256,_=Q-1;
for(n=0;n<h.ji;n++){I[n]=S[n]/255;a[n]=K==1?h.random()<1/255?G:z:z}function V(y,k){var B=y*Q+k;if(a[B]!=z||y>=W||k>=Q){return}var M=I[B],v=d-M,l=h.random(),F=l/H+u;
if(f==0||Math.abs(T-M)>s){g=F<=v?R:G;f=~~(h.random()*K)}else if(.1<l){f--}else{f=0}a[B]=g;T=M}if(j==0){for(n=0;
n<Q;n++){for(i=0;i<Q;i++){M=n+i;if(M>=Q)break;V(i,_-M)}f=0}for(n=1;n<W;n++){for(i=0;i<W;i++){M=n+i;if(M>=W||i>=Q)break;
V(M,_-i)}f=0}}else if(j==1){for(n=0;n<W;n++){for(i=0;i<Q;i++){V(n,i)}f=0}}else if(j==2){for(n=0;n<Q;
n++){for(i=0;i<Q;i++){M=n+i;if(M>=Q)break;V(i,M)}f=0}for(n=1;n<W;n++){for(i=0;i<W;i++){M=n+i;if(M>=W||i>=Q)break;
V(M,i)}f=0}}else{for(n=0;n<Q;n++){for(i=0;i<W;i++){V(i,n)}f=0}}h.BO(a,b)};E.N.a4e=function(r,Q,W,b,X){var D=E.N.a;
D.DD(Q,W);var h=X[0],S=X[1],a=X[2],K=D.Yr(1),Y=D.Yr(1),d=D.Yr(1),j=D.Yr(4),U=D.Yr(4);D.Ks(r,K);D.SX(K,Y,3,3,1);
D.SX(K,d,3,3,9);D.sub(d,Y);D.OR(Y,K,3);D.c2(K,40,10);D.jj(r,b,h,2,!1,h);D.jj(r,j,h,2,!0,h);D.d$(U,255);
D.hF(b,K,U);D.hF(U,K,j);D.qY(j,b,1);D.z3(b);D.ab(b,K);D.c2(K,S,a);D.z7(K,b);D.Nw(b)};E.N.a2J=function(r,Q,W,b,X){var D=E.N.a;
D.DD(Q,W);D.el(X[3]);var h=X[0],S=X[1],a=X[2]/10;h=h+S;var K=D.Yr(1),Y=D.Yr(1),d=D.Ww(),j=D.Ww();D.gO(K);
D.OR(K,Y,11);D.OR(Y,K,11);D.tU(K,d);D.RZ(d,j,5);D.RZ(j,d,5);D.x0(j,.97);D.we(j,K,h);D.SX(K,Y,S,S,1);
D.Li(r,K);D.lD(Y,K,Y,.6);D.cK(K,Y,Y,a);D.Gf(Y,Y,K,5,1);D.z3(r,b);D.z7(K,b);D.Nw(b)};E.N.af9=function(r,Q,W,b,X){var D=E.N.a;
D.DD(Q,W);var h=Math.abs(X[0]),S=h+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][h],a=2*h+1,K=X[1]/10,Y=K*13/15,d=D.Yr(1),j=D.Yr(1),U=D.Yr(1),I=D.Yr(1),f=D.Yr(4),g=D.Yr(4),H=D.Yr(4),u=D.Yr(4),s=D.Yr(4);
D.Ks(r,d);if(X[0]>=0){D.j4(d)}D.qr(d,U);D.OR(d,I,S);D.OR(I,d,S);D.ES(d,K);D.qr(d,j);D.OR(d,I,a);D.OR(I,d,a);
D.ES(d,Y);D.d$(H,X[2]);D.d$(u,X[3]);D.d$(s,X[4]);D.hF(H,d,u,f);D.hF(s,j,f,g);D.hF(u,U,g,b);D.ab(r,U,3);
D.z7(U,b,3)};E.N.arP=function(r,Q,W,b,X){var D=E.N.a;D.DD(Q,W);D.el(X[5]);var h=X[0]*5.1,S=X[1]/100,a=D.BG[X[2]],K=D.Yr(1),Y=D.Yr(1),d=D.Yr(1);
D.Ks(r,K);D.bV(Y,255);D.gO(d);D.x$(K,h);D.Xk(Y,K,.7);D.Xk(d,K,S);D.Gf(K,K,Y,5,a);D.qr(r,b);D.aj8(b,h,X[4],X[3]);
D.z3(b);D.z7(Y,b);D.Nw(b)};E.N.a35=function(r,Q,W,b,X){var D=E.N.a;D.DD(Q,W);var h=X[0],S=4-X[1],a=11-X[2],K=D.Yr(1),Y=D.Yr(1),d=D.Yr(4);
D.Li(r,Y);for(var n=0;n<S;n++){D.qr(Y,K);D.YE(K,Y,h,h)}D.C$(r,d,h);D.z3(d,d);D.z7(Y,d);D.Nw(d,d);(a<11?D.ag_:D.qr)(d,b,a)};
E.N.avk=function(r,Q,W,b,X){var D=E.N.a;D.DD(Q,W);D.el(X[2]);var h=X[0]+5,S=~~(h/5+1),a=~~(h/2)+1,K=a*a,Y=~~(h/3),d=D.BG[X[1]],j=new Array(256);
for(var n=0;n<256;n++){j[n]=~~(.2*(n-128))}var U=D.Yr(1),I=D.Yr(1);D.apI(r,b,h);D.z3(b);D.ab(b,U);D.gO(I);
D.FN(U,I,j);D.a6j(I,h,h,S,S);D.lD(U,I,U,1);D.OR(U,I,Y);D.OR(I,U,Y);D.SX(U,I,a,a,K);D.Gf(I,I,U,5,d);D.z7(U,b);
D.Nw(b)};E.N.aq1=function(r,Q,W,b,X){var D=E.N.a;D.DD(Q,W);var h=D.Yr(1),S=D.Yr(1),a=D.Yr(1),K=D.Ww(),Y=D.Ww();
D.Ks(r,h);D.OR(h,S,X[2]);D.x$(S,X[0]*5.1);D.SX(S,h,2,2,4);D.OR(h,S,3);D.OR(S,h,3);D.qr(h,a);D.OR(h,S,5);
D.OR(S,h,5);D.tU(h,K);D.RZ(K,Y,5);D.RZ(Y,K,5);D.arb(K,S,X[1]);D.j4(S);D.lD(a,S,a,1);D.BO(a,b)};E.N.ahj=function(r,Q,W,b,X){var D=E.N.a;
D.DD(Q,W);var h=1<<7-X[2],S=D.Yr(1),a=D.Yr(1),K=D.Yr(1);D.Li(r,a);D.OR(a,S,3);D.qr(S,a);D.OR(S,K,X[0]+5);
D.sub(K,a);D.c2(a,1,X[1]);D.ES(S,1/h);D.ES(S,h);D.sub(S,a);D.z3(r,b);D.z7(a,b);D.Nw(b)};E.N.amn=function(r,Q,W,b,X){var D=E.N.a;
D.DD(Q,W);D.el(X[3]);var h=D.Yr(1),S=D.Yr(1),a=D.Yr(1);D.Ks(r,h);D.asL(S,X[0]/50);D.OR(S,a,3);D.SX(h,S,9,9,41);
D.c2(S,X[1],X[2]);D.lD(S,a,a,.75);D.cK(S,a,S,.5);D.qr(S,h);D.SX(h,a,3,3,8);D.lD(a,S,a,.75);D.ES(a,1.2);
D.CO(a,h,1);D.OR(h,a,2);D.CO(a,h,2);D.ES(h,1.2);D.OR(h,a,2);D.BO(a,b)};E.N.af1=function(r,Q,W,b,X){var D=E.N.a;
D.DD(Q,W);var h=X[0]+9,S=X[1]/2,a=X[2],K=X[3],Y=D.ey(X[4]),d=X[5]+1,j=X[6],U=D.Yr(1),I=D.Yr(1),f=D.Yr(4),g=D.Yr(4);
D.iV(I,a,K,j);D.a5(r,b,h,1,1);D.a5(b,f,h,1,1);D.aiV(f,f,g,7,S);D.ES(g,1.2);D.NS(g,1.2);D.Gf(I,U,U,d,Y);
D.ES(U,3);D.qr(r,b);D.hF(g,U,b)};E.N.aeS=function(r,Q,W,b,X){var D=E.N.a;D.DD(Q,W);D.el(X[3]);var h=X[0]+4,S=h*2/5+(h%5|0);
h--;var a=X[1]*-2.75+60,K=65-a,Y=X[2]/10,d=D.Yr(1),j=D.Yr(1);D.gO(d);D.Li(r,j);var U=D.ie(a,K,j);D.z3(r,b);
D.ab(b,j);D.Xk(j,d,.8);D.f6(j,U);D.ES(j,Y);D.add(d,j);D.pL(j,d,h,3,!1,S);D.z7(d,b);D.Nw(b)};E.N.a1g=function(r,Q,W,b,X){var D=E.N.a;
D.DD(Q,W);D.el(X[3]);var h=X[0]+5,S=(h*h>>1)+h%2,a=X[1]/10,K=X[2],Y=(K*K>>1)+K%2,d=D.Yr(1),j=D.Yr(1),U=D.Yr(1),I=D.Yr(4),f=D.Yr(4),g=D.Yr(4);
D.gO(U);D.z3(r,g);D.ab(g,d);D.Xk(d,U,.8);D.OR(U,d,3);D.CO(d,U,a);D.z7(U,g);D.Nw(g,g);D.Ks(g,U);D.SX(U,d,h,h,S);
D.OR(U,j,h);D.sub(d,j);D.x$(j,1);D.dm(g,I,7,7,40);D.dm(g,f,7,7,10);D.hF(I,j,f);D.dm(f,b,K,K,Y)};E.N.avr=function(r,Q,W,b,X){var D=E.N.a,S=255,n,K;
D.DD(Q,W);var h=X[0];if(h<2)S=h;else if(h<12)S=5*h-5;else if(h<47)S=2*h+28;else if(h<50){n=h-47;S=125+12.5*n+12.5*n*n}var a=new Uint8Array(256);
for(n=75,K=15;n<256;n++,K+=24)a[n]=Math.min(255,K);var Y=D.Yr(1),d=D.Yr(1),j=D.Yr(1);D.Ks(r,Y);D.OR(Y,d,11);
D.OR(d,j,11);D.sub(j,Y);D.ES(Y,8);D.sub(j,Y);D.x$(Y,S);D.j4(Y);D.OR(Y,d,5);D.x$(d,51);D.OR(d,Y,X[1]);
D.OR(Y,d,X[1]);D.j4(d);D.f6(d,a);D.BO(d,b)};E.N.ajF=function(r,Q,W,b,X){var D=E.N.a;D.DD(Q,W);var h=D.fT[X[1]],S=X[2],a=S*1.5,K=D.Yr(1),Y=D.Yr(1),d=D.Yr(1);
D.Li(r,K);D.pL(K,Y,15,2,!0,15);D.qr(Y,d);D.c2(d,S,a);D.OR(d,K,3);D.OR(Y,d,X[0]);D.sub(d,Y);D.ES(Y,h);
D.sub(K,Y);D.OR(Y,K,3);D.pL(K,Y,3,1,!1,1);D.C$(r,b,15);D.z3(b);D.z7(Y,b);D.Nw(b)};E.N.auu=function(r,Q,W,b,X){var D=E.N.a;
D.DD(Q,W);D.el(X[3]);var h=X[0]*5.1,S=16-X[1],a=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][X[2]],K=D.Yr(1),Y=D.Yr(1),d=D.Yr(1);
D.Ks(r,K);D.x$(K,h);D.OR(K,Y,S);D.OR(Y,K,S);D.gO(d);D.cK(K,d,d,1);D.lD(K,d,K,.75);D.ES(K,a);D.NS(K,a);
D.SX(K,Y,2,2,2);D.BO(Y,b)};E.N.ar5=function(r,Q,W,b,X){var D=E.N.a;D.DD(Q,W);var h=X[0]+9,S=X[1]+9,a=X[2],K=X[3],Y=D.ey(X[4]),d=X[5]+1,j=X[6],U=D.Yr(1),I=D.Yr(1),f=D.Yr(1),g=D.Yr(1),H=D.Yr(1),u=D.Yr(4);
D.Li(r,U);D.YE(U,f,h,h);D.OR(f,U,S);D.qr(f,H);D.qr(U,g);D.sub(H,g);D.sub(U,H);D.add(H,g);D.ES(g,10);
D.iV(I,a,K,j);D.Gf(I,U,H,d,Y);D.Zx(H,g,f,.8);D.C$(r,u,9);D.C$(u,b,9);D.z3(b);D.z7(f,b);D.Nw(b)};E.N.ap1=function(r,Q,W,b,X){var D=E.N.a;
D.DD(Q,W);var h=16-X[0],S=X[1]*8,a=1-(3-X[2])/10,K=~~(h*h*a-1),Y=~~(h*h*(1-a));if(Y==0)Y=1;var d=D.Yr(1),j=D.Yr(1),U=D.Yr(1),I=D.Yr(4);
D.Ks(r,U);D.SX(U,d,7,7,25);D.OR(U,j,7);D.sub(d,j);D.x$(j,1);D.dm(r,I,h,h,K);D.dm(r,b,h,h,Y);D.hF(I,j,b);
D.z3(b);D.ab(b,d);D.SX(d,U,3,3,1);D.SX(d,j,3,3,9);D.sub(j,U);D.qr(U,j);D.sub(d,U);D.sub(U,j);D.SX(j,d,3,3,8);
D.c2(d,S,1);D.z7(d,b);D.Nw(b)};E.N.a04=function(r,Q,W,b,X){var D=E.N.a;D.DD(Q,W);D.el(X[3]);var h=X[0],S=X[1],a=X[2],K=h>>1,Y=Math.max(~~(h/5),1),d=Math.max(~~(h*2/3),1),j=D.bc(S,a),U=D.Yr(1),I=D.Yr(1),f=D.Yr(1),g=D.Yr(1),H=D.Yr(4);
D.Li(r,U);D.yA(2147483647,4,2,2,0,255,I);D.yA(4,2147483647,2,2,0,255,g);D.gO(f);D.cK(I,f,I,1);D.cK(g,f,g,1);
D.cK(I,U,I,1);D.cK(g,U,g,1);D.C$(r,H,K);D.C$(H,b,K);D.SX(I,U,1,h,Y);D.SX(U,I,3,h,d);D.SX(g,U,h,1,Y);
D.SX(U,g,h,3,d);D.y_(I,g);D.z3(b);D.z7(g,b);D.Nw(b);D.rQ(b,j)};E.N.a={};E.N.a.Dr=0;E.N.a.J9=0;E.N.a.ji=0;
E.N.a.sx=0;E.N.a.Ge=0;E.N.a.DD=function(r,Q){var W=r*Q,self=E.N.a;self.Dr=r;self.J9=Q;self.ji=W;self.sx=W<<1;
self.Ge=W<<2};E.N.a.el=function(r){E.N.a.random=function(){var Q=r+=1831565813;Q=Math.imul(Q^Q>>>15,Q|1);
Q^=Q+Math.imul(Q^Q>>>7,Q|61);return((Q^Q>>>14)>>>0)/4294967296}};E.N.a.Yr=function(r){var Q=E.N.a;return new Uint8Array([-1,Q.ji,Q.sx,-1,Q.Ge][r])};
E.N.a.Ww=function(){return new Int32Array(E.N.a.sx)};E.N.a.OR=function(r,Q,W,b){if(b==null)b=W;var self=E.N.a,X=self.Dr,D=self.J9;
E.Cb.Vk(r,Q,new aV(0,0,X,D),W>>>1);return};E.N.a.RZ=function(r,Q,W,b){var self=E.N.a,X=new Int32Array(self.ji),D=new Int32Array(self.ji);
for(var n=0;n<2;n++){self.ab(r,X,n,2);self.OR(X,D,W,b);self.z7(D,Q,n,2)}};E.N.a.C$=function(r,Q,W,b){var self=E.N.a,X=self.Yr(1),D=self.Yr(1);
for(var n=0;n<4;n++){self.ab(r,X,n);if(n<3)self.OR(X,D,W,b);else D=X;self.z7(D,Q,n)}};E.N.a.a5=function(r,Q,W,b,X){var self=E.N.a,D=self.Dr,h=self.J9,S=W+b-1,a=W>>1,K=S>>1,Y=0,d=W*b,j=new Int32Array(W);
for(var n=0;n<h;n++){var U=0,I=0,f=0;for(var g=0;g<W;g++){var H=X?S-g-b:g;for(var u=H,s=b+H;u<s;u++){var _=0-K+u,i=n-a+g;
if(u==H){j[g]=_}if(_<0)_=0;else if(_>=D)_=D-1;if(i<0)i=0;else if(i>=h)i=h-1;var M=D*i+_<<2;U+=r[M];I+=r[M+1];
f+=r[M+2]}}Q[Y++]=~~(U/d);Q[Y++]=~~(I/d);Q[Y++]=~~(f/d);Q[Y]=r[Y];Y++;for(var T=1;T<D;T++){for(var g=0;
g<W;g++){var i=n-a+g,H=j[g]+1;j[g]=H;var R=H-1,z=H+b-1;if(i<0)i=0;else if(i>=h)i=h-1;if(R<0)R=0;else if(R>=D)R=D-1;
if(z<0)z=0;else if(z>=D)z=D-1;var G=i*D+R<<2,V=i*D+z<<2;U=U+r[V]-r[G];I=I+r[V+1]-r[G+1];f=f+r[V+2]-r[G+2]}Q[Y++]=~~(U/d);
Q[Y++]=~~(I/d);Q[Y++]=~~(f/d);Q[Y]=r[Y];Y++}}};E.N.a.pL=function(r,Q,W,b,X,D){var self=E.N.a,h=self.Dr,S=self.J9,a=W+b-1,K=W>>1,Y=a>>1,d=0,j=new Int32Array(W),U=new Int32Array(256),I=new Int32Array(16);
for(var n=0;n<S;n++){U.fill(0);I.fill(0);for(var f=0;f<W;f++){var g=X?a-f-b:f;for(var H=g,u=b+g;H<u;
H++){var s=0-Y+H,_=n-K+f;if(H==g){j[f]=s}if(s<0)s=0;else if(s>=h)s=h-1;if(_<0)_=0;else if(_>=S)_=S-1;
U[r[_*h+s]]++;I[r[_*h+s]>>>4]++}}Q[d++]=E.N.a.il(I,U,D);for(var i=1;i<h;i++){for(var f=0;f<W;f++){var _=n-K+f,g=j[f]+1;
j[f]=g;var M=g-1,T=g+b-1;if(_<0)_=0;else if(_>=S)_=S-1;if(M<0)M=0;else if(M>=h)M=h-1;if(T<0)T=0;else if(T>=h)T=h-1;
var R=r[_*h+M],z=r[_*h+T];U[R]--;U[z]++;I[R>>>4]--;I[z>>>4]++}Q[d++]=E.N.a.il(I,U,D)}}};E.N.a.jj=function(r,Q,W,b,X,D){var self=E.N.a,h=self.Yr(1),S=self.Yr(1);
for(var n=0;n<4;n++){self.ab(r,h,n);if(n<3)self.pL(h,S,W,b,X,D);else S=h;self.z7(S,Q,n)}};E.N.a.SX=function(r,Q,W,b,X){X=Math.min(b*W,X);
var self=E.N.a,D=self.Dr,h=self.J9,S=b>>1,a=W>>1,K=0,Y=new Int32Array(b),d=new Int32Array(256),j=new Int32Array(16);
for(var n=0;n<h;n++){d.fill(0);j.fill(0);for(var U=0;U<b;U++){for(var I=0,f=W;I<f;I++){var g=0-a+I,H=n-S+U;
if(I==0){Y[U]=g}if(g<0)g=0;else if(g>=D)g=D-1;if(H<0)H=0;else if(H>=h)H=h-1;d[r[H*D+g]]++;j[r[H*D+g]>>>4]++}}Q[K++]=E.N.a.il(j,d,X);
for(var u=1;u<D;u++){for(var U=0;U<b;U++){var H=n-S+U,s=Y[U]+1;Y[U]=s;var _=s-1,i=s+W-1;if(H<0)H=0;else if(H>=h)H=h-1;
if(_<0)_=0;else if(_>=D)_=D-1;if(i<0)i=0;else if(i>=D)i=D-1;var M=r[H*D+_],T=r[H*D+i];d[M]--;d[T]++;
j[M>>>4]--;j[T>>>4]++}Q[K++]=E.N.a.il(j,d,X)}}};E.N.a.il=function(r,Q,W){var b=0,X=0;while(b+r[X>>>4]<W){b+=r[X>>>4];
X+=16}for(;X<256;X++){b+=Q[X];if(b>=W)break}return X};E.N.a.dm=function(r,Q,W,b,X){var self=E.N.a,D=self.Yr(1),h=self.Yr(1);
for(var n=0;n<4;n++){self.ab(r,D,n);if(n<3)self.SX(D,h,W,b,X);else h=D;self.z7(h,Q,n)}};E.N.a.CO=function(r,Q,W){var self=E.N.a,b=self.Dr,X=self.J9,D=0;
for(var n=0;n<X;n++){var h=n*b,S=(n-1)*b,a=(n+1)*b;if(S<0)S=h;if(a>=X)a=h;for(var K=0;K<b;K++){var Y=K-1,d=K+1;
if(Y<0)Y=K;if(d>=b)d=K;var j=h+Y,U=h+d,I=S+K,f=a+K,g=h+K,H=r[j],u=r[U],s=r[I],_=r[f],i=r[g],M=i+(i*4*W+.5);
M=M-((H+u+_+s)*W+.5);Q[D++]=self.wq(M)}}};E.N.a.qY=function(r,Q,W){var self=E.N.a,b=self.Yr(1),X=self.Yr(1);
for(var n=0;n<4;n++){self.ab(r,b,n);if(n<3)self.CO(b,X,W);else X=b;self.z7(X,Q,n)}};E.N.a.ag_=function(r,Q,W){var self=E.N.a,b=self.Dr,X=self.J9,D=0,h=W+4;
for(var n=0;n<X;n++){var S=n*b,a=(n-1)*b,K=(n+1)*b;if(a<0)a=S;if(K>=X)K=S;for(var Y=0;Y<b;Y++){var d=Y-1,j=Y+1;
if(d<0)d=Y;if(j>=b)j=Y;var U=S+d<<2,I=S+j<<2,f=a+Y<<2,g=K+Y<<2,H=S+Y<<2;for(var u=0;u<3;u++){var s=r[U+u],_=r[I+u],i=r[f+u],M=r[g+u],T=r[H+u];
Q[D++]=(T*W+s+_+M+i)/h}Q[D]=r[D];D++}}};E.N.a.YE=function(r,Q,W,b){var self=E.N.a,X=self.Dr,D=self.J9,h=W>>1,S=b>>1,a=0,K=new Int32Array(W),Y=new Int32Array(256);
for(var n=0;n<D;n++){Y.fill(0);for(var d=0;d<W;d++){for(var j=0,U=b;j<U;j++){var I=0-S+j,f=n-h+d;if(j==0){K[d]=I}if(I<0)I=0;
else if(I>=X)I=X-1;if(f<0)f=0;else if(f>=D)f=D-1;Y[r[f*X+I]]++}}var g=0,H=0;for(var u=0;u<256;u++){if(g<Y[u]){H=u;
g=Y[u]}}Q[a++]=H;for(var s=1;s<X;s++){for(var d=0;d<W;d++){var f=n-h+d,_=K[d]+1;K[d]=_;var i=_-1,M=_+b-1;
if(f<0)f=0;else if(f>=D)f=D-1;if(i<0)i=0;else if(i>=X)i=X-1;if(M<0)M=0;else if(M>=X)M=X-1;Y[r[f*X+i]]--;
Y[r[f*X+M]]++}g=0;H=0;for(var u=0;u<256;u++){if(g<Y[u]){H=u;g=Y[u]}}Q[a++]=H}}};E.N.a.a3p=[function(r,Q,W,b,X,D,h,S,a,K){return X+(r+Q+W)*K-(a+S+h)*K},function(r,Q,W,b,X,D,h,S,a,K){return X+(Q+W+D)*K-(S+h+b)*K},function(r,Q,W,b,X,D,h,S,a,K){return X+(W+D+a)*K-(h+b+r)*K},function(r,Q,W,b,X,D,h,S,a,K){return X+(D+a+S)*K-(b+r+Q)*K},function(r,Q,W,b,X,D,h,S,a,K){return X+(a+S+h)*K-(r+Q+W)*K},function(r,Q,W,b,X,D,h,S,a,K){return X+(S+h+b)*K-(Q+W+D)*K},function(r,Q,W,b,X,D,h,S,a,K){return X+(h+b+r)*K-(W+D+a)*K},function(r,Q,W,b,X,D,h,S,a,K){return X+(b+r+Q)*K-(D+a+S)*K}];
E.N.a.Gf=function(r,Q,W,b,X){var self=E.N.a,D=self.Dr,h=self.J9,S=D,a=self.a3p[b-1];for(var n=0;n<h;
n++){var K=(n>0?n-1:0)*S,Y=n*S,d=(n<h?n+1:n)*S;for(var j=0;j<D;j++){var U=j>0?j-1:0,I=j<D?j+1:j,f=Y+j,g=r[K+U],H=r[K+j],u=r[K+I],s=r[Y+U],_=Q[f],i=r[Y+I],M=r[d+U],T=r[d+j],R=r[d+I];
W[f]=self.wq(a(g,H,u,s,_,i,M,T,R,X))}}};E.N.a.aiV=function(r,Q,W,b,X){var self=E.N.a,D=self.Yr(1),h=self.Yr(1),S=self.Yr(1);
for(var n=0;n<3;n++){self.ab(r,D,n);self.ab(Q,h,n);self.Gf(D,h,S,b,X);self.z7(S,W,n)}self.ab(Q,D,3);
self.z7(D,W,3)};E.N.a.Ks=function(r,Q){var W=r.length,b=0;for(var n=0;n<W;n++){Q[b++]=~~((r[n++]+r[n++]+r[n++]+2)/3)}};
E.N.a.BO=function(r,Q){var W=Q.length,b=0;for(var n=0;n<W;n++){var X=r[n];Q[b++]=X;Q[b++]=X;Q[b++]=X;
Q[b++]=255}if(Q[0]==255)Q[0]--;else Q[0]++};E.N.a.Li=function(r,Q){var W=Q.length,b=0;for(var n=0;n<W;
n++){var X=r[b++],D=r[b++],h=r[b++];b++;if(D>X)X=D;if(h>X)X=h;Q[n]=X}};E.N.a.z3=function(r,Q){if(Q==null)Q=r;
var W=r.length;for(var b=0;b<W;b+=4){var X=r[b],D=r[b+1],h=r[b+2],S=X,a=0,K=X,d;if(D<=X){X=D}else{a=1;
K=D}if(h<=K){if(X>h){X=h}}else{a=2;K=h}var Y=K-X;if(Y!=0){if(a==0){d=~~(43*(D-h)/Y)}else if(a==1){d=~~(43*(h+2*Y-S)/Y)}else{d=43*(S+4*Y-D)/Y}if(d<0){d=255&d-1}Q[b]=d;
Q[b+1]=~~(255*Y/K)}else{Q[b]=Y;Q[b+1]=Y}Q[b+2]=K;Q[b+3]=r[b+3]}};E.N.a.Nw=function(r,Q){if(Q==null)Q=r;
var W=r.length;for(var b=0;b<W;b+=4){var X=r[b],D=r[b+1],h=r[b+2];if(D){if(X==255)X=0;var S=~~(6*X/255),a=~~(-255*S+6*X);
if(S==0){Q[b]=h;Q[b+1]=~~(h*(255-D*(255-a)/255)/255);Q[b+2]=~~(h*(255-D)/255)}else if(S==1){Q[b]=~~(h*(255-D*a/255)/255);
Q[b+1]=h;Q[b+2]=~~(h*(255-D)/255)}else if(S==2){Q[b]=~~(h*(255-D)/255);Q[b+1]=h;Q[b+2]=~~(h*(255-D*(255-a)/255)/255)}else if(S==3){Q[b]=~~(h*(255-D)/255);
Q[b+1]=~~(h*(255-D*a/255)/255);Q[b+2]=h}else if(S==4){Q[b]=~~(h*(255-D*(255-a)/255)/255);Q[b+1]=~~(h*(255-D)/255);
Q[b+2]=h}else{Q[b]=h;Q[b+1]=~~(h*(255-D)/255);Q[b+2]=~~(h*(255-D*a/255)/255)}}else{Q[b]=h;Q[b+1]=h;Q[b+2]=h}Q[b+3]=r[b+3]}};
E.N.a.z7=function(r,Q,W,b){if(W==null)W=2;if(b==null)b=4;var X=r.length;for(var n=0;n<X;n++){Q[W]=r[n];
W+=b}};E.N.a.ab=function(r,Q,W,b){if(W==null)W=2;if(b==null)b=4;var X=Q.length;for(var n=0;n<X;n++){Q[n]=r[W];
W+=b}};E.N.a.Zx=function(r,Q,W,b){if(b==null)b=1;var X=Q.length,D=0,h;for(var D=0;D<X;D++){h=Q[D];if(h){h*=b;
W[D]=~~((h*r[D]+(255-h)*W[D])/255)}}};E.N.a.hF=function(r,Q,W,b){if(b==null)b=W;var X=Q.length,D=0,h,S;
for(var n=0;n<X;n++){h=Q[n];if(h){S=255-h;b[D]=~~((h*r[D]+S*W[D])/255);b[D+1]=~~((h*r[D+1]+S*W[D+1])/255);
b[D+2]=~~((h*r[D+2]+S*W[D+2])/255)}b[D+3]=r[D+3];D+=4}};E.N.a.lD=function(r,Q,W,b){var X=~~(b*255),D=W.length;
for(var n=0;n<D;n++){W[n]=((255-X*(255-r[n])/255)*Q[n]+r[n]*(X*(255-r[n])/255))/255}};E.N.a.cK=function(r,Q,W,b){var X=~~(b*255),D=W.length;
for(var n=0;n<D;n++){W[n]=((255-X*r[n]/255)*Q[n]+r[n]*(X*r[n]/255))/255}};E.N.a.Xk=function(r,Q,W){var b=Q.length;
for(var n=0;n<b;n++){Q[n]=~~(r[n]*W+.5)+(Q[n]-~~(Q[n]*W+.5))}};E.N.a.sub=function(r,Q){var W=r.length;
for(var n=0;n<W;n++){Q[n]=Math.max(r[n]-Q[n],0)}};E.N.a.add=function(r,Q){var W=r.length;for(var n=0;
n<W;n++){Q[n]=Math.min(r[n]+Q[n],255)}};E.N.a.y_=function(r,Q){var W=r.length;for(var n=0;n<W;n++){Q[n]=r[n]+Q[n]>>1}};
E.N.a.qr=function(r,Q){var W=r.length;for(var n=0;n<W;n++){Q[n]=r[n]}};E.N.a.f6=function(r,Q){var W=r.length;
for(var n=0;n<W;n++){r[n]=Q[r[n]]}};E.N.a.rQ=function(r,Q){var W=E.N.a.Ge;for(var n=0;n<W;n+=4){var b=r[n],X=r[n+1],D=r[n+2],h=b;
if(X>b)h=X;if(D>b)h=D;var S=Q[h];if(S){r[n]=~~(S*b/h);r[n+1]=~~(S*X/h);r[n+2]=~~(S*D/h)}else{r[n]=S;
r[n+1]=S;r[n+2]=S}}};E.N.a.ES=function(r,Q){for(var n=0,W=r.length;n<W;n++){r[n]=Math.min(255,~~(.5+r[n]*Q))}};
E.N.a.NS=function(r,Q){for(var n=0,W=r.length;n<W;n++){r[n]=255-Math.min(255,~~(.5+(255-r[n])*Q))}};
E.N.a.j4=function(r){var Q=r.length;for(var n=0;n<Q;n++){r[n]=255-r[n]}};E.N.a.x$=function(r,Q,W,b){if(W==null)W=0;
if(b==null)b=255;for(var n=0,X=r.length;n<X;n++){r[n]=r[n]>=Q?b:W}};E.N.a.WQ=function(r){return[r>>24&255,r>>16&255,r>>8&255,r&255]};
E.N.a.aj8=function(r,Q,W,b){if(W==null)W=255;if(b==null)b=4278190335;var X=E.N.a,D=X.Ge,h=X.WQ(W),S=X.WQ(b);
for(var n=0;n<D;n+=4){var a=~~((r[n]+r[n+1]+r[n+2]+2)/3);if(a>=Q){r[n]=h[0];r[n+1]=h[1];r[n+2]=h[2]}else{r[n]=S[0];
r[n+1]=S[1];r[n+2]=S[2]}}};E.N.a.d$=function(r,Q){var W=E.N.a,b=W.Ge,X=W.WQ(Q);for(var n=0;n<b;){r[n++]=X[0];
r[n++]=X[1];r[n++]=X[2];r[n++]=X[3]}};E.N.a.bV=function(r,Q){var W=r.length;for(var n=0;n<W;){r[n++]=Q}};
E.N.a.bc=function(r,Q){r=r>5?(100-Math.max(4,r))/100:.95;Q=Q!=100?Math.max(4,Q)/100:.9995;var W=new Uint8Array(256),b=Q>.5?.5/(1-Q):Q*2,X=~~(b*256),D=~~((.5-r*b)*256)<<8;
for(var n=0;n<256;n++){W[n]=E.N.a.wq(D>>8);D+=X}return W};E.N.a.gO=function(r){for(var n=0,Q=E.N.a,W=r.length;
n<W;n++){r[n]=~~(Q.random()*256)}};E.N.a.asL=function(r,Q){for(var n=0,W=E.N.a,b=r.length;n<b;n++){r[n]=W.random()<Q?255:0}};
E.N.a.HA=function(r,Q,W){for(var n=0,b=E.N.a,X=r.length;n<X;n++){if(b.random()<Q)r[n]=W}};E.N.a.FN=function(r,Q,W){var b=r.length;
for(var n=0;n<b;n++){r[n]=E.N.a.wq(r[n]+W[Q[n]])}};E.N.a.wR=function(r){var Q=new Uint32Array(256);for(var n=0,W=r.length;
n<W;n++){Q[r[n]]++}return Q};E.N.a.ie=function(r,Q,W){var self=E.N.a,b=self.wR(W),X=self.ji/100,D=new Uint8Array(256),h=X*r,S=X*Q,a=0,K=-1,Y=256;
do{a+=b[++K]}while(a<=h);a=0;do{a+=b[--Y]}while(a<=S);if(Y-K<=0)Y=K+1;if(Y>255){Y=255;K=254}var d=255/(Y-K),j=-K;
for(var n=0;n<256;n++){D[n]=self.wq(d*j+.5);j++}return D};E.N.a.c2=function(r,Q,W){var b=E.N.a;b.f6(r,b.ie(Q,W,r))};
E.N.a.aw9=function(r,Q){var self=E.N.a,W=self.wR(r),b=self.ji*Q/100,X=0,D=-1;do{X+=W[++D]}while(X<=b);
return D};E.N.a.tU=function(r,Q){var W=0,self=E.N.a,b=self.Dr,X=self.J9,D=1/Math.PI,h=D*255;for(var n=0;
n<X;n++){var S=n+1;if(S==X)S--;var a=n*b,K=~~((1-(n+1)/X)*255);for(var Y=0;Y<b;Y++){var d=Y+1;if(d==b)d--;
var j=r[a+Y],U=r[a+d],I=r[S*b+Y];if(j-I==0){Q[W++]=K}else{var f=j-I+255;if(f==255){f=0}else{f=~~(Math.atan2(1/(255-f),1)*h+.5);
if(f<0)f+=255}Q[W++]=f}if(j-U==0){Q[W++]=~~((1-(Y+1)/b)*255)}else{var f=j-U+255;if(f==255){f=0}else{f=~~(Math.atan2(1/(255-f),1)*h+.5);
if(f<0)f+=255}Q[W++]=f}}}};E.N.a.x0=function(r,Q){var self=E.N.a,W=self.Dr,b=self.J9,X=0;for(var n=0;
n<b;n++){for(var D=0;D<W;D++){r[X]=~~(n*Q+.5)+~~(r[X]*(1-Q)+.5);X++;r[X]=~~(D*Q+.5)+~~(r[X]*(1-Q)+.5);
X++}}};E.N.a.a3b=function(r,Q,W,b){var self=E.N.a,X=self.Dr,D=self.J9,h=0;for(var n=0;n<D;n++){for(var S=0;
S<X;S++){Q[h]=~~(Q[h]*(1-W)+.5)+~~(r[h]*b+.5);h++;Q[h]=~~(Q[h]*(1-W)+.5)+~~(r[h]*b+.5);h++}}};E.N.a.we=function(r,Q,W){var self=E.N.a,b=self.Dr,X=self.J9,D=0,h=0;
for(var n=0;n<X;n++){for(var S=0;S<b;S++){var a=r[D++],K=r[D++];Q[h++]=K%W>=2&&a%W>=2?255:0}}};E.N.a.yA=function(r,Q,W,b,X,D,h){var self=E.N.a,S=self.Dr,a=self.J9,K=0,Y=0,d=0;
for(var n=0;n<a;n++){var j=n%r<W||a-W<=n;for(var U=0;U<S;U++){h[K++]=j||U%Q<b||S-b<=U?X:D}}};E.N.a.iV=function(r,Q,W,b){var self=E.N.a,X=self.Dr,D=self.J9,h=jA.iV(Q),S=h[0],a=h[1],K=E.Q(S.O()*4);
K.fill(4294967295);E.BA(a,K);var Y=E.scale.iF(K,S.e,S.n),d=E.scale.Xd(Y,null,X,D,W/100,W/100,0,0);E.TX(d,r,0);
if(b)E.j4(r)};E.N.a.wq=function(r){return~~Math.min(255,Math.max(0,r))};E.N.a.fT=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];
E.N.a.BG=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];E.N.a.ey=function(r){return r>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][r-41]:r/40};
E.N.a.apI=function(r,Q,W){var self=E.N.a,b=self.Dr,X=self.J9,D=W,h=W>>1,S=h-1,a=D*D,K=0;for(var n=0;
n<X;n++){var Y=0,d=0,j=0,U=~~(n/W)*W,I=0;for(var f=0;f<D;f++){for(var g=0;g<D;g++){var H=I+g,u=U+f;if(H>=b)H=b-1;
if(u>=X)u=X-1;Y+=r[u*b+H<<2];d+=r[(u*b+H<<2)+1];j+=r[(u*b+H<<2)+2]}}var s=~~(Y/a),_=~~(d/a),i=~~(j/a);
Q[K]=s;Q[K+1]=_;Q[K+2]=i;Q[K+3]=r[K+3];K+=4;for(var M=1;M<b;M++){for(var f=0;f<D;f++){var T=M-1,R=T+D,u=U+f;
if(R>=b)R=b-1;if(u>=X)u=X-1;var z=u*b,G=z+R<<2,V=z+T<<2;Y+=r[G]-r[V];d+=r[G+1]-r[V+1];j+=r[G+2]-r[V+2]}if(M%W==0){s=~~(Y/a);
_=~~(d/a);i=~~(j/a)}Q[K]=s;Q[K+1]=_;Q[K+2]=i;Q[K+3]=r[K+3];K+=4}}};E.N.a.a6j=function(r,Q,W,b,X){var self=E.N.a,D=self.Dr,h=self.J9,S=0,a=0,K=0,Y=0;
for(var n=Y;n<h+Y;n++){var d=n%Q>=b||n<b||h+Y-b<=n;for(var j=0;j<D;j++){r[S++]=d&&(j%W>=X||j<X||D-X<=j)?255:0}}};
E.N.a.arb=function(r,Q,W){var b=function(K,Y){return Y<=K?K/Y&1?Y-K%Y:K%Y:K},X=[function(S,a){return b(S,255)/255},function(S,a){return(255+b(S,255)-b(a,255))/510},function(S,a){return(255-b(a,255))/255},function(S,a){return(510-b(S,255)-b(a,255))/510},function(S,a){return(255-b(S,255))/255},function(S,a){return(255-b(S,255)+b(a,255))/510},function(S,a){return b(a,255)/255},function(S,a){return(b(S,255)+b(a,255))/510}][W],D=0,h=0;
for(var n=0;n<E.N.a.ji;n++){var S=r[D++],a=r[D++];Q[h++]=~~(255*X(S,a))}};E.N.a8A=function(){var r=[],Q=new Uint8Array(512),W=new Float32Array(512),b=new Float32Array(512),X=[1,-1,1,-1,1,-1,0,0],D=[1,1,-1,-1,0,0,1,-1],h=0,S,I=0;
for(;h<256;h++)r[h]=h;while(h!=0){h--;S=Math.floor(Math.random()*h);r[S]^=r[h]^(r[h]=r[S])}function a(a){a=Math.floor(a*65536);
if(a<256){a|=a<<8}for(var n=0;n<256;n++){var H=n+256,u=r[n]^(n&1?a:a>>8)&255;Q[n]=Q[H]=u;u=u%8;W[n]=W[H]=X[u];
b[n]=b[H]=D[u]}}function K(H){return H*H*H*(H*(H*6-15)+10)}function Y(H,u,s){return(1-s)*H+s*u}function d(H,u){return H&u}function j(H,u){return H%u}function U(H,u,s,_,i){var M=Math.floor(H),T=Math.floor(u),h,R,z,G,V,y;
H=H-M;u=u-T;M=M&255;T=T&255;h=M+Q[T];G=W[h]*H+b[h]*u;h=M+Q[i(T+1,_)];z=W[h]*H+b[h]*(u-1);h=i(M+1,s)+Q[T];
V=W[h]*(H-1)+b[h]*u;h=i(M+1,s)+Q[i(T+1,_)];y=W[h]*(H-1)+b[h]*(u-1);R=K(H);return Y(Y(G,V,R),Y(z,y,R),K(u))}function f(H,h,u){H[h]=u}function g(H,u,s,_,i){var M=Math.min(Math.min(u,256),Math.min(256,s)),T=M==256||M<8,R=8,z=new Uint32Array(R),G=new Uint32Array(R),V=new Float32Array(R),y=new Float32Array(R),k=1,B=1,v=T?d:j,l=f,F;
for(var n=0;n<R;n++){F=B*1/M;if(T){G[n]=(1<<Math.ceil(Math.log2(s*F)))-1;z[n]=(1<<Math.ceil(Math.log2(u*F)))-1}else{G[n]=F*s;
z[n]=F*u}V[n]=k;y[n]=F;k*=.5;B=B<<1}a(Math.random());for(var L=0,h=0;L<s;L++){for(var Z=0;Z<u;Z++){var t=0;
for(var A=0;A<R;A++){F=y[A];t+=U(Z*F,L*F,z[A],G[A],v)*V[A]}l(_,h++,Math.round(Math.max(0,255*Math.min(1,.5+t*.5))))}}}return g}();
E.N.auW=function(){function r(Q,W,b,X){var D=new Uint8Array(Q.length>>>2),h=new Uint8Array(Q.length>>>2),S=new Uint8Array(Q.length);
for(var n=0;n<Q.length;n+=4){var a=Q[n+0]*.3+Q[n+1]*.59+Q[n+2]*.11;h[n>>>2]=a;S[n]=Q[n];S[n+1]=Q[n+1];
S[n+2]=Q[n+2]}E.Nm.d1(h,D,W,b);E.Nm.mT(Q,X,W,b,E.Nm.O2[1],0,!0);for(var n=0;n<Q.length;n+=4){S[n+3]=255-D[n>>>2]}for(var n=0,K=Q.length;
n<K;n+=4){var Y=S[n+3]/255;X[n]=S[n]*Y+X[n]*(1-Y);X[n+1]=S[n+1]*Y+X[n+1]*(1-Y);X[n+2]=S[n+2]*Y+X[n+2]*(1-Y)}}return r}();
E.N.atA=function(){function r(D,h,S,a,K){var Y=new Uint32Array(D.buffer),d=0;for(var n=0;n<S;n++){for(var j=0;
j<h;j++,d+=4){var U=Y[n*h+j],I=U&255,f=U>>>8&255,g=U>>>16&255,H=U>>>24&255,u=~~(Math.random()*8),s=u%3,_=0,i=0;
if(u<3){i--}else if(u>4){i++}if(s==0){_--}else if(s==2){_++}var M=j+_,T=n+i;if(M<0)M=0;else if(M>h-1)M=h-1;
if(T<0)T=0;else if(T>S-1)T=S-1;var U=Y[T*h+M],R=U&255,z=U>>>8&255,G=U>>>16&255,V=U>>>24&255;a[d]=K(I,R);
a[d+1]=K(f,z);a[d+2]=K(g,G);a[d+3]=K(H,V)}}}function Q(D,h){return h}function W(D,h){return D>h?h:D}function b(D,h){return D<h?h:D}function X(D,h,S,a,K){var Y=K[0];
if(Y==0)r(D,h,S,a,Q);else if(Y==1)r(D,h,S,a,W);else if(Y==2)r(D,h,S,a,b);else if(Y==3){console.error("Not implemented")}else console.error("Mew mew")}return X}();
E.N.adn=function(){function r(Q,W,b,X,D){var h=D&&D[0]?D[0]:4,S,a,K,Y,d,j,U;for(var n=0;n<b;n++){var I=Math.max(n-h,0),f=Math.min(n+h,b-1);
for(var g=0;g<W;g++){var H=Math.max(g-h,0),u=Math.min(g+h,W-1);S=I*W+H<<2;Y=Q[S];d=Q[S+1];j=Q[S+2];U=Q[S+3];
S=I*W+u<<2;Y+=Q[S];d+=Q[S+1];j+=Q[S+2];U+=Q[S+3];S=f*W+H<<2;Y+=Q[S];d+=Q[S+1];j+=Q[S+2];U+=Q[S+3];S=f*W+u<<2;
Y+=Q[S];d+=Q[S+1];j+=Q[S+2];U+=Q[S+3];S=n*W+g<<2;X[S]=Y+2>>>2;X[S+1]=d+2>>>2;X[S+2]=j+2>>>2;X[S+3]=U+2>>>2}}}return r}();
E.N.ax2=function(){function r(Q,W,b,X){var D=new Uint8Array(Q.length),h=new Uint8Array(Q.length>>>2),S=new Uint8Array(Q.length>>>2);
E.Nm.mT(Q,D,W,b,E.Nm.O2[2],0,!0);for(var n=0;n<Q.length;n+=4){var a=D[n+0]*.3+D[n+1]*.59+D[n+2]*.11;
h[n>>>2]=a;X[n+0]=Q[n+0];X[n+1]=Q[n+1];X[n+2]=Q[n+2];X[n+3]=Q[n+3]}E.Nm.d1(h,S,W,b);for(var n=0;n<Q.length;
n+=4){D[n+3]=~~(Math.max(0,255-S[n>>>2]-50)*(255/205))}for(var n=0,K=Q.length;n<K;n+=4){var Y=D[n+3]/255;
X[n]=D[n]*Y+X[n]*(1-Y);X[n+1]=D[n+1]*Y+X[n+1]*(1-Y);X[n+2]=D[n+2]*Y+X[n+2]*(1-Y)}}return r}();E.N.wv=function(){function r(u,s){return u[s]+u[s+1]+u[s+2]+u[s+3]}function Q(u,s){return u[s]+u[s+1]+u[s+2]+2*u[s+3]}function W(u,s,_,i){u[s]=_[i];
u[s+1]=_[i+1];u[s+2]=_[i+2];u[s+3]=_[i+3]}function b(u,s,_){u[s]=u[_];u[s+1]=u[_+1];u[s+2]=u[_+2];u[s+3]=u[_+3]}function X(u,s,_){u[_]=s[_];
u[_+1]=s[_+1];u[_+2]=s[_+2];u[_+3]=255-s[_+3]}function D(u){for(var n=0,s=u.length;n<s;n+=4){u[n+3]=255-u[n+3]}}function h(){var u=Math.random();
if(u>.5)return 0;if(u>.25)return 1;if(u>.1)return 2;if(u>.02143)return 3;if(u>.00445)return 4;if(u>65e-5)return 5;
if(u>415e-6)return 6;if(u>55e-6)return 7;return 8}function S(u,s,_,i,M,T){u[s]=_[i]+(M[T]-_[i]>>1);u[s+1]=_[i+1]+(M[T+1]-_[i+1]>>1);
u[s+2]=_[i+2]+(M[T+2]-_[i+2]>>1);u[s+3]=_[i+3]+(M[T+3]-_[i+3]>>1)}function a(u,s,_,i,M,T){u[s]=M[T]+_[i]>>1;
u[s+1]=M[T+1]+_[i+1]>>1;u[s+2]=M[T+2]+_[i+2]>>1;u[s+3]=M[T+3]+_[i+3]>>1}function K(u,s,_,i,M,T,R,z,G){var V=0,y=0,k=0,n,B=M[T],v;
S(z,0,u,s,u,_);for(n=0;n<B;n++){S(z,(n+1)*4,z,n*4,u,_)}y=(B+1)*4;k+=B;T--;W(u,s,z,y-4);i[T]=r(u,s);s-=G;
while(T>0&&i[T-1]<i[T]){v=z;z=R;R=v;V=y;a(z,0,u,s-G,R,0);for(n=4;n<V;n+=4){a(z,n,z,n-4,R,n)}B=M[T];for(n=k;
n<B;n++){S(z,y,z,y-4,R,V-4);y+=4;k++}T--;W(u,s,z,y-4);i[T]=r(u,s);s-=G}}function Y(u,s,_,i,M){var T=s*4,R=0,z,G,V=new Uint8Array(s+1),y=new Uint8Array(10*4),k=new Uint8Array(10*4);
for(var n=0;n<_;n++){X(i,u,R);M[0]=r(i,R);V[0]=h();z=R;R+=4;for(var B=1;B<s;B++){X(i,u,R);M[B]=r(i,R);
G=h();V[B]=G;if(M[B-1]<M[B]&&G>0){K(i,R-4,R,M,V,B,y,k,4)}R+=4}M[s]=M[0];V[s]=V[0];if(M[s-1]<M[s]&&G>0){K(i,R,z,M,V,s,y,k,4)}}D(i)}function d(){var u=Math.random();
if(u>.659755)return 0;if(u>.1625)return 10;if(u>.06)return 20;if(u>.01)return 30;if(u>.0035)return 40;
if(u>65e-5)return 50;if(u>415e-6)return 60;if(u>55e-6)return 70;return 80}function j(u,s,_,i,M,T){var R=d()+1,z=i[M];
for(var n=1;n<R;n++){if(0>M)break;if(i[M-n]<z){b(u,s,_)}else{break}s+=T}}function U(u,s,_,i,M){var T=s*4,R=0;
for(var n=0;n<_;n++){X(i,u,R);M[0]=r(i,R);R+=4;for(var z=1;z<s;z++){X(i,u,R);M[z]=r(u,R);if(M[z-1]<M[z]){j(i,R-4,R,M,z,-4)}R+=4}M[s]=M[0];
if(M[z-1]<M[z]){j(i,R-4,R-T,M,z,-4)}}D(i)}function I(u,s,_,i,M,T){var R=1,z,G,V=new Uint8Array(4),y,k=s;
while(Math.random()<1/R){k=s;if(i<=1)break;z=_[i];G=_[i-1];if(z<=G)break;W(V,0,u,k-T);y=!0;for(var n=i;
n<M;n++){if(G>_[n]){W(u,k-T,V,0);_[n-1]=G;y=!1;break}W(u,k-T,u,k);_[n-1]=_[n];k+=T}if(y){W(u,k-T,V,0);
_[M-1]=G}R++;i--;s-=T}}function f(u,s,_,i,M){var T=0,R=0,z=s*4;for(var n=0;n<_;n++){R=T;for(var G=0;
G<s;G++){X(i,u,T);M[G]=Q(i,T);T+=4}T=R;for(var G=1;G<s;G++){if(M[G-1]<M[G]&&Math.random()<.66){I(i,T+4,M,G,s,4)}T+=4}T+=4}D(i)}function g(u,s,_,i,M){var T=M[0],R=M[1],z=new Uint16Array(s+1),G=u,V=i,y;
if(R){y=i.slice(0);H(u,i,s,_);G=i;V=y}if(T==0)Y(G,s,_,V,z);else if(T==1)U(G,s,_,V,z);else if(T==2)f(G,s,_,V,z);
if(R){H(y,i,s,_)}}function H(u,s,_,i){for(var M=0;M<i;M++)for(var T=0;T<_;T++){var R=M*_+T<<2,z=M*_+(_-1-T)<<2;
s[z]=u[R];s[z+1]=u[R+1];s[z+2]=u[R+2];s[z+3]=u[R+3]}}return g}();E.N.d8=function(r,Q,W,b,X){var D=E.N.a,h=1,g=0,s=0;
D.DD(Q,W);D.el(X[2]);var S=3<<13,a=Math.PI/2.43,K=a/256,Y=Math.PI*2/256;function d(){var T=D.random()*256,R=D.random()*256;
return h*~~(Math.tan(a-T*K)*325*Math.cos(R*Y)*256)+S>>16}h=X[0];var j=X[1],U=(j+2)/2,I=D.random()*255,f=D.Yr(1);
for(var n=0;n<W;n++){var H=D.wq(d()+I);for(var u=0;u<Q;u++){H=D.wq(d()+H);f[g++]=H}}g=Q;for(var n=1;
n<W;n++){var _=D.wq(d()+f[s++]);f[g++]=_;for(var u=1;u<Q;u++){var i=s+1;if(u+1==Q){i--}var M=(U+_+f[i]+f[s]*j)/(j+2);
_=D.wq(d()+M);f[g++]=_;s++}}D.BO(f,b)};var bn=function(){function r(x){x=x^61^x>>>16;x=x+(x<<3);x=x^x>>>4;
x=x*668265261;x=x^x>>>15;return x}var Q=function(){var Q=function(x){if(x){this.mu=x}this.mu=r(this.mu);
return(this.mu&16777215)*(1/16777215)};return Q};function W(x,C){if(C==null){C=[0,0]}return Math.sqrt((C[0]-x[0])*(C[0]-x[0])+(C[1]-x[1])*(C[1]-x[1]))}function b(x,C){if(C==null){C=[0,0]}return[-(C[1]-x[1])/W(x,C),(C[0]-x[0])/W(x,C)]}function X(x){return[Math.cos(x),Math.sin(x)]}function D(x){var C=W(x,[0,0]),J=[x[0]/C,x[1]/C],q=Math.atan(J[1]/J[0]);
if(J[0]>0&&J[1]<0){q+=2*Math.PI}else if(J[0]<0&&J[1]<0){q+=Math.PI}else if(J[0]<0&&J[1]>0){q+=Math.PI}return q}function h(x){var h=0;
for(var n=1;n<x.length/2;++n){h+=W([x[2*n],x[2*n+1]],[x[2*(n-1)],x[2*(n-1)+1]])}return h}function S(x,C,J){var q=new Float32Array(x.length),fd=1/(x.length/2),w=i(J);
for(var n=0;n<x.length/2;++n){var P=n*fd,fc=P/2+.5,p=1,gG=0;if(J.shape==2){p=1/(2*fc)}if(J.shape==3){fc=(1-P)/2+.5;
p=1/(2*fc)+.5}if(J.shape==4){fc=P;p=Math.sin(3/2*Math.PI*fc)/4+1}if(J.shape==5){fc=(P-.5)*6;p=(-Math.atan(fc)/1.25+1)/5+.6-.2*P}var fh=[null,null];
if(n==0){fh=b([x[2*n],x[2*n+1]],[x[2*(n+1)],x[2*(n+1)+1]])}else if(n==x.length/2-1){fh=b([x[2*(n-1)],x[2*(n-1)+1]],[x[2*n],x[2*n+1]])}else{fh=b([x[2*(n-1)],x[2*(n-1)+1]],[x[2*(n+1)],x[2*(n+1)+1]])}q[2*n]=x[2*n]+(p*C+gG)*fh[0];
q[2*n+1]=x[2*n+1]+(p*C+gG)*fh[1];if(J.style==2){q[2*n]+=M(2*n/q.length,w,J)}}return q}function a(x,C,J){var q=new Float32Array(x.length),fd=1/(x.length/2);
for(var n=0;n<x.length/2;++n){var w=n*fd,P=[null,null],fc=.6*J.yS*z(w,C.awb)*J.NF/100,p=.6*J.yS*z(w,C.ajO)*J.NF/100,gG=C.abj*fc+(1-C.abj)*p;
if(n==0){P=b([x[2*n],x[2*n+1]],[x[2*(n+1)],x[2*(n+1)+1]])}else if(n==x.length/2-1){P=b([x[2*(n-1)],x[2*(n-1)+1]],[x[2*n],x[2*n+1]])}else{P=b([x[2*(n-1)],x[2*(n-1)+1]],[x[2*(n+1)],x[2*(n+1)+1]])}q[2*n]=x[2*n]+gG*P[0];
q[2*n+1]=x[2*n+1]+gG*P[1]}return q}function K(x){if(x.Of==1){return[.150684932,.205479452,.465753425,.178082192]}else if(x.Of==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var C=[],J=1/(k(x)-1);
for(var n=0;n<k(x)-1;++n){C.push(J)}return C}}function Y(x,C,J){var q=[],fd=C-x,w=x;for(var n=0;n<J.length-1;
++n){q.push(w+J[n]*fd);w=q[n]}return q}function d(x,C,J,q){var fd=new Float32Array(J.length),w=0,P={shape:Math.floor(q.random()*2.99),abQ:q.random()*.1+.15};
for(var n=0;n<J.length-1;++n){var fc=w+J[n];fd[n]=((1-fc)*x+fc*C)*H(q,fc,P);w=fc}return fd}function j(x,C,J,q){var fd=V(q),w=q.random(),P=w*20+(1-w)*26,fc=new Float32Array(J.length),p=0;
for(var n=0;n<J.length-1;++n){var gG=p+J[n];fc[n]=(1-gG)*x+gG*C+fd/P*(2/3*Math.sin(Math.PI*gG)+1/3*Math.sqrt(Math.sin(Math.PI*gG)));
p=gG}return fc}function U(x,C,J){var q=[];for(var n=0;n<C.length-1;++n){q.push(C[n].slice());var fd=n*(k(J)-1),w=(n+1)*(k(J)-1),P=x[w]-x[fd];
for(var fc=fd+1;fc<w;++fc){var p=i(J),gG=new Float32Array(C[0].length),fh=(x[fc]-x[fd])/P;for(var fJ=0;
fJ<C[0].length/2;++fJ){gG[2*fJ]=(1-fh)*C[n][2*fJ]+fh*C[n+1][2*fJ];gG[2*fJ+1]=(1-fh)*C[n][2*fJ+1]+fh*C[n+1][2*fJ+1];
if(J.style==2){gG[2*fJ]+=M(2*fJ/C[0].length,p,J)}}q.push(gG)}}q.push(C[C.length-1]);return q}function I(x,C,J){var q=new Array(C.length),fd=t(x),P=null;
for(var n=0;n<C.length;++n){q[n]=S(fd,(C[n]-.5)*J.NF,J)}var w=1+.05*J.aoe*V(J)/V({Of:1});for(var n=0;
n<C.length;++n){if(C[n]==0){P=n}}for(var n=0;n<C.length;++n){var fc=(J.random()-.5)*2,p=Math.round(J.random()*9+1),gG=new Float32Array(p*2+2);
for(var fh=0;fh<=p;++fh){gG[2*fh]=q[n][0]-(q[n][2*fh]-q[n][0]);gG[2*fh+1]=q[n][1]-(q[n][2*fh+1]-q[n][1])}if(n==P){fc*=.1}for(var fh=(q[n].length-1)/2;
fh>p;--fh){q[n][2*fh]=(1-fc)*q[n][2*fh]+fc*(q[n][2*(fh-p)]+w*(q[n][2*fh]-q[n][2*(fh-p)]));q[n][2*fh+1]=(1-fc)*q[n][2*fh+1]+fc*(q[n][2*(fh-p)+1]+w*(q[n][2*fh+1]-q[n][2*(fh-p)+1]))}for(var fh=p-1;
fh>=0;--fh){q[n][2*fh]=(1-fc)*q[n][2*fh]+fc*(gG[2*(p-fh)]+w*(q[n][2*fh]-gG[2*(p-fh)]));q[n][2*fh+1]=(1-fc)*q[n][2*fh+1]+fc*(gG[2*(p-fh)+1]+w*(q[n][2*fh+1]-gG[2*(p-fh)+1]))}}var fJ=R(C,J);
if(J.yS>0){var cF=0;for(var n=0;n<C.length;++n){if(n==0){cF+=C[n]}else{cF+=Math.abs(C[n]-C[n-1])}var j_=cF-Math.floor(cF),gY=1;
if(j_==0){gY=0}q[n]=a(q[n],{awb:fJ[Math.floor(cF)],ajO:fJ[Math.floor(cF)+gY],abj:j_},J)}}return q}function f(x,C){var J=l(C,x),q=F(C,x),fd=[],w=[],P=[],fc=K(x);
for(var n=0;n<C.length-1;++n){fd.push(C[n]);w.push(J[n]);P.push(q[n]);var p=Y(C[n],C[n+1],fc),gG=d(J[n],J[n+1],fc,x),fh=j(q[n],q[n+1],fc,x);
for(var fJ=0;fJ<p.length;++fJ){fd.push(p[fJ]);w.push(gG[fJ]);P.push(fh[fJ])}}fd.push(C[C.length-1]);
w.push(J[J.length-1]);P.push(q[q.length-1]);return{avf:fd,a2_:w,P_:P}}function g(x,C,J,q){var fd=new Float32Array(2*q),w=x.length/2,P=w-C,fc=J*P,p=fc/q;
for(var n=0;n<q;++n){var gG=Math.floor(C+n*p),fh=Math.ceil(C+n*p),J=C+n*p,fJ=fh-gG,cF=1,j_=0;if(fJ!=0){cF=(fh-J)/fJ;
j_=(J-gG)/fJ}fd[2*n]=cF*x[2*gG]+j_*x[2*fh];fd[2*n+1]=cF*x[2*gG+1]+j_*x[2*fh+1]}return fd}function H(x,C,J){var q=J.abQ,fd=C*2*Math.PI,w=fd,P=0;
if(J.shape==0){P=(Math.sin(2*w+Math.PI/2)+1)/2}else if(J.shape==1){P=(Math.sin(w+Math.PI/2)+1)/2}else{P=(4*Math.sin(3/4*w+Math.PI)+Math.sin(Math.PI/2+2*w)-2*w/Math.PI+6)/7}return Math.min(1,1-q+q*P)}function u(x,C,J,q){var fd=[];
for(var n=0;n<x.length;++n){fd.push(g(x[n],C[n],J[n],q))}return fd}function s(x,C,J){var q=[];for(var n=0;
n<x.length;++n){var fd=X(2*Math.PI*J.random()),w=X(2*Math.PI*J.random()),P=J.rH*.5*B({Of:1})/B(J),fc=P*J.NF/200,p=P*C/500,gG=new Float32Array(x[0].length);
for(var fh=0;fh<x[0].length/2;++fh){var fJ=X(2*Math.PI*J.random()),cF=2*fh/x[0].length;gG[2*fh]=x[n][2*fh]+fc*(fJ[0]+((1-cF)*fd[0]+cF*w[0]));
gG[2*fh+1]=x[n][2*fh+1]+p*(fJ[1]+((1-cF)*fd[1]+cF*w[1]))}q.push(gG)}return q}function _(x,C,J){var q=J._b,fd=2/q,w=[1/10,1/30,1/40,1/45,1/100],P=w[J.Of-1],fc=4*(J.opacity/25*fd*P)*(1-J.rH/150),fJ=0,j_=0;
if(J.style==3){return fc*.09}var p=2.2*(x-.5),gG=p*p*p*p+.27+Math.max(0,(J.opacity-50)/15),fh=2*(Math.sin(3*Math.PI*C)/(Math.PI*C+2)+1.1)-C/2;
C=2*C;if(C<.41){var cF=2*Math.PI*C/.41;fJ=(Math.sin(cF-Math.PI/2)+1)/4+.5}else if(C<.77){var cF=2*Math.PI*(C-.41)/.36;
fJ=(Math.sin(cF-Math.PI/2)+1)/4+.5-cF/2/Math.PI*.5}else{var cF=2*Math.PI*(C-.77)/.23;fJ=(Math.sin(cF-Math.PI/2)+1)/2*.12}fJ*=3;
fJ+=Math.max(0,(J.opacity-50)/15);if(J.type==6){j_=fh}else{j_=fJ}return fc*gG*j_}function i(x){return{c:x.random()*7/2+.5,oU:x.random()*2*Math.PI}}function M(x,C,J){return J.NF/300*k({Of:1})/k(J)*10*(Math.sin(C.c*2*Math.PI*x+C.oU)+10*(J.random()-.5))}function T(x){var C=Math.exp(-x.yS/25);
return{c:x.random()*3/2+.5,oU:x.random()*2*Math.PI,n8:(x.random()-.5)*10*C}}function R(x,C){var J=Math.ceil(L(x)),q=[];
for(var n=0;n<=J;++n){q.push(T(C))}return q}function z(x,C){var J=C.c*4*Math.PI*x+C.oU;return Math.exp(-1/2*Math.PI*x)*Math.cos(J)*Math.cos(J)*Math.cos(J)*Math.cos(J)*Math.cos(J)+x*C.n8-C.n8/4}function G(x,C,J,q,fd){var w=0,P=B(C)-1;
for(var n=0;n<P;++n){for(var fc=0;fc<x.length-1;fc+=k(C)-1){for(var p=n;p<x[0].length/2-P;p+=P){for(var gG=fc;
gG<fc+(k(C)-1);++gG){J[fd+w]=_(gG*(C._b-1)/(x.length-1)%1,p/x[0].length,C);var fh=0,fJ=0;if(C.type==6&&gG!=0&&gG!=x.length-1){fJ=(x[gG][2*(p+1)+1]-x[gG][2*p+1])/2;
fh=(x[gG][2*(p+1)]-x[gG][2*p])/2}q[8*fd+8*w]=x[gG][2*p]+fh;q[8*fd+8*w+1]=x[gG][2*p+1]+fJ;q[8*fd+8*w+2]=x[gG][2*(p+P)]+fh;
q[8*fd+8*w+3]=x[gG][2*(p+P)+1]+fJ;q[8*fd+8*w+4]=x[gG+1][2*(p+P)];q[8*fd+8*w+5]=x[gG+1][2*(p+P)+1];q[8*fd+8*w+6]=x[gG+1][2*p];
q[8*fd+8*w+7]=x[gG+1][2*p+1];++w}}}}}function V(x){var C=[100,300,500,700,1e3];return C[x.Of-1]}function y(x){var C=[30,70,100,140,300];
return C[x.Of-1]}function k(x){var C=[5,7,26,40,100];return C[x.Of-1]}function B(x){if(x.Of==1){return 4}else if(x.Of==2){return 8}else{return Math.floor(y(x)/9)}}function v(x){var C=x._b,J=new Float32Array(C),q=null;
for(var n=0;n<C;++n){J[n]=x.random()}if(x._b<=3){J[0]=0;J[x._b-1]=1}else{for(var n=0;n<2;++n){var fd=Math.floor(x.random()*C);
if(q==null||q!=fd){J[fd]=n;q=fd}else{J[fd+1]=n}}}return J}function l(x,C){var J=[],q=.2,w=0;for(var n=0;
n<x.length;++n){var fd=C.random()*(1-q)+q;J.push(fd)}var P=Math.min(3,C._b);for(var n=0;n<x.length;++n){if(J[n]>.9){++w}}while(w<P){var fc=Math.floor(C.random()*x.length);
if(J[fc]<=.9){J[fc]=.9+.1*C.random();++w}}return J}function F(x,C){var J=V(C),q=V({Of:1}),fd=[];for(var n=0;
n<x.length;++n){fd.push(Math.max(1,(C.random()*10+2)*J/q))}return fd}function L(x){var C=0;for(var n=0;
n<x.length;++n){if(n==0){C+=x[n]}else{C+=Math.abs(x[n]-x[n-1])}}return C}function Z(x,C){if(x.length/2-1==V(C)){return x}var J=new Float32Array(2*(V(C)+1)),q=(x.length-2)/(J.length-2);
for(var n=0;n<J.length/2;++n){var fd=n*q,w=Math.floor(fd),P=Math.ceil(fd),fc=P-w,p=1,gG=0;if(fc!=0){p=(P-fd)/fc;
gG=(fd-w)/fc}J[2*n]=p*x[2*w]+gG*x[2*P];J[2*n+1]=p*x[2*w+1]+gG*x[2*P+1]}return J}function t(x,C){var J=x.length/2,q=h(x),fd=q/J,w=!1,p=0,gG=0,fh=1;
if(C){var P=Math.floor(q/C.anv),fc=C.anv;if(C.ary&&x[0]==x[x.length-2]&&x[1]==x[x.length-1]){w=!0;fc=q/(P+1)}if(C.type==2&&!w&&fc*P+C.length>q){J=P+1}else{J=P+2}fd=fc}var fJ=new Float32Array(J*2);
fJ[0]=x[0];fJ[1]=x[1];for(var n=1;n<J;++n){while(p<=n*fd){gG=p;p+=W([x[2*fh],x[2*fh+1]],[x[2*(fh-1)],x[2*(fh-1)+1]]);
++fh}var cF=1-(n*fd-gG)/(p-gG);fJ[2*n]=(1-cF)*x[2*fh]+cF*x[2*(fh-1)];fJ[2*n+1]=(1-cF)*x[2*fh+1]+cF*x[2*(fh-1)+1]}fJ[fJ.length-2]=x[x.length-2];
fJ[fJ.length-1]=x[x.length-1];return fJ}function A(x,C){var J=t(x,C),q=[];for(var n=0;n<(J.length-2)/2;
++n){var fd=[];fd.push(J[2*n]);fd.push(J[2*n+1]);var w=W([J[2*(n+1)],J[2*(n+1)+1]],[J[2*n],J[2*n+1]]),P=[(J[2*(n+1)]-J[2*n])/w,(J[2*(n+1)+1]-J[2*n+1])/w],fc=X((C.anF-90)/360*2*Math.PI),p=P;
if(C.type==3){p=fc}else if(C.type==4){p=X(D(P)+D(fc))}else if(C.type==5){p=X(((C.random()-.5)*C.anF-90)/360*2*Math.PI)}var gG=C.length;
if(C.a2f){gG=2*C.random()*C.length}fd.push(J[2*n]+p[0]*gG);fd.push(J[2*n+1]+p[1]*gG);q.push(fd)}return q}function o(x){if(x.a3C){x.Aw=100*Math.random()}else{x.Aw=x.ad9}x.random=new Q;
x.random(x.Aw);if(x.type==6){x._b=2;x.shape=5;x.aoe=0}}function O(x,C){x=Z(x,C);var J=[x],gG=0;if(C.type>=2&&C.type<6){J=A(x,C)}var q=B(C)-1,fd=y(C)-q,w=(C._b-1)*(k(C)-1),P=J.length*fd*w,fc=new Float32Array(P),p=new Float32Array(8*P);
for(var n=0;n<J.length;++n){for(var fh=0;fh<1e4;++fh){C.Aw=r(C.Aw)}C.random(C.Aw);var x=Z(J[n],C),fJ=v(C),cF=L(fJ),j_=I(x,fJ,C),gY=f(C,fJ),kc=U(gY.avf,j_,C);
kc=u(kc,gY.P_,gY.a2_,y(C));if(C.rH>0){kc=s(kc,h(J[n]),C)}G(kc,C,fc,p,gG);gG+=fd*w}return[fc,p]}var bn=function(x){var C=performance.now(),J=x[0],q=x[1];
o(q);var fd=[new Float32Array(0),new Float32Array(0)];for(var n=0;n<J.length;++n){q.Aw=r(q.Aw);var w=O(J[n],q),P=new Float32Array(fd[0].length+w[0].length),fc=new Float32Array(fd[1].length+w[1].length);
P.set(fd[0]);P.set(w[0],fd[0].length);fd[0]=P;fc.set(fd[1]);fc.set(w[1],fd[1].length);fd[1]=fc}var p=performance.now();
if(q.avh){console.n_("Geometry: "+String(p-C)+"ms")}return fd};return bn}(),bS=function(){function r(X,D){var h=[],S=0,a=D.length,K=0,Y=0,d=new aV,j=0,U=1e9;
for(Y=0;Y<a;Y++){var I=Y*8,f=D[Y];if(f<U)U=f;var g=X[I+0],H=X[I+1],u=X[I+2],s=X[I+3],_=X[I+4],i=X[I+5],M=X[I+6],T=X[I+7],R=Math.min(g,u,_,M),z=Math.max(g,u,_,M),G=Math.min(H,s,i,T),V=Math.max(H,s,i,T),y=new aV(R,G,z-R,V-G),k=y.Bc(d),B=j+f;
if(Y-K<10&&(Y==K||k.O()*.8<y.O()+d.O())){d=k;j=B}else{h.push(Y-K);K=Y;d=y;j=f;U=f}}if(Y!=K)h.push(Y-K);
return h}function Q(X,D,h,S,a,K){var Y=document.createElement("canvas"),H=0,P=.8;Y.width=D;Y.height=h;
var d=Y.getContext("2d"),j=a[0],U=a[1],I=new Float64Array(D*h),f=Date.now(),g=r(U,j);for(var u=0;u<g.length;
u++){var s=H,_=H+g[u],T=1e9,z=1e9,l=0;H=_;var i=s*8,M=_*8,R=-T,G=-z;for(var V=i;V<M;V+=2){var y=U[V],k=U[V+1];
if(y<T)T=y;if(y>R)R=y;if(k<z)z=k;if(k>G)G=k}T=Math.floor(T);R=Math.ceil(R);z=Math.floor(z);G=Math.ceil(G);
var B=R-T,v=G-z;for(var F=s;F<_;F++)l+=j[F];for(var V=i;V<M;V+=8){var L=j[V>>>3],Z=U[V+0],t=U[V+1],A=U[V+2],o=U[V+3],O=U[V+4],x=U[V+5],C=U[V+6],J=U[V+7];
d.fillStyle="rgba(0,0,0,"+L/l+")";d.beginPath();d.moveTo(Z,t);d.lineTo(A,o);d.lineTo(O,x);d.lineTo(C,J);
d.closePath();d.fill()}var q=d.getImageData(T,z,B,v).data;for(var k=0;k<v;k++)for(var y=0;y<B;y++){var n=k*B+y,fd=q[n*4+3],w=(z+k)*D+T+y;
if(fd!=0)I[w]+=fd*l}d.clearRect(T,z,B,v)}var fc=K[1].color,p=Math.pow(fc.o/255,P),gG=Math.pow(fc.W/255,P),fh=Math.pow(fc.k/255,P),fJ=new aV(0,0,D,h),cF=E.Q(D*h*4);
for(var k=0;k<h;k++)for(var y=0;y<D;y++){var n=k*D+y,F=n*4,j=I[n]*(1/255);cF[F]=b(p,j);cF[F+1]=b(gG,j);
cF[F+2]=b(fh,j);cF[F+3]=Math.min(255,j*255)}E.q.YB("norm",cF,fJ,S,fJ,fJ,1)}var W=new Uint8Array(2e3);
for(var n=0;n<2e3;n++)W[n]=255*Math.min(1,Math.log(n/700+1));function b(X,D){return W[Math.min(1500,~~(X*D*1e3))]}return Q}(),gQ=function(){var r=new Float32Array(3e3),Q=new Float32Array(3e3),W=new Float32Array(256),b=new Float32Array(3e3);
function X(){var U=r.length;r[0]=Math.log10(157647e-9);for(var n=1;n<U;++n)r[n]=Math.log10(n/U)}function D(){var U=Q.length;
for(var n=0;n<U;++n)Q[n]=Math.pow(10,20*(n-U/2)/U)}function h(){var U=W.length;for(var n=0;n<U;++n)W[n]=E.cE(n/255)}function S(){var U=b.length;
for(var n=0;n<U;++n)b[n]=255*E.Lz(n/(U-1))}function a(U,I){var f=U.length>>>2;for(var n=0;n<f;++n){var g=W[U[4*n]],H=W[U[4*n+1]],u=W[U[4*n+2]],s=.3811*g+.5783*H+.0402*u,_=.1967*g+.7244*H+.0782*u,i=.0241*g+.1288*H+.8444*u;
s=r[~~(s*r.length)];_=r[~~(_*r.length)];i=r[~~(i*r.length)];I[3*n]=(s+_+i)*.5773502692;I[3*n+1]=(s+_-2*i)*.4082482905;
I[3*n+2]=(s-_)*.7071067812}}function K(U,I){var f=I.length>>>2,g=b.length-1;for(var n=0;n<f;++n){var H=.5773502692*U[3*n],u=.4082482905*U[3*n+1],s=.7071067812*U[3*n+2],_=Q[~~((H+u+s+10)*(3e3/20))],i=Q[~~((H+u-s+10)*(3e3/20))],M=Q[~~((H-2*u+10)*(3e3/20))],T=4.4679*_-3.5873*i+.1193*M,R=-1.2186*_+2.3809*i-.1624*M,z=.0497*_-.2439*i+1.2045*M;
I[4*n]=b[~~(g*Math.max(0,Math.min(1,T)))];I[4*n+1]=b[~~(g*Math.max(0,Math.min(1,R)))];I[4*n+2]=b[~~(g*Math.max(0,Math.min(1,z)))]}}function Y(U){var I=0,f=0,g=0;
for(var n=0;n<U.length;n+=3){I+=U[n];f+=U[n+1];g+=U[n+2]}return[I/(U.length/3),f/(U.length/3),g/(U.length/3)]}function d(U,Y){var I=0,f=0,g=0;
for(var n=0;n<U.length;n+=3){var H=U[n]-Y[0],u=U[n+1]-Y[1],s=U[n+2]-Y[2];I+=H*H;f+=u*u;g+=s*s}return[Math.sqrt(I/(U.length/3)),Math.sqrt(f/(U.length/3)),Math.sqrt(g/(U.length/3))]}function j(U,I,f,g,H,u){X();
D();h();S();var s=0,t,A;if(u[0]>100)s=-(u[0]-100)/100*.13;else if(u[0]>=75)s=(100-u[0])/25*.04;else if(u[0]>=50)s=.04+(75-u[0])/25*.04;
else if(u[0]>=25)s=.08+(50-u[0])/25*.08;else s=.16+(25-u[0])/25*.24;var _=(u[1]-100+100)/100,i=u[2]/100,M=u[3],T=new Float32Array(U.length*3/4),R=new Float32Array(g.length*3/4),z=Date.now();
a(U,T);a(g,R);var G=Date.now(),V=Y(T),y=Y(R),k=Date.now(),B=d(T,V),v=d(R,y),l=Date.now();y[0]*=Math.pow(10,s);
var F=[v[0]/B[0],v[1]/B[1],v[2]/B[2]],L=T.length,Z=1/-1.1546978950500488;for(var n=0;n<L;n+=3){if(M){var o=Math.max(0,Math.min(1,T[n]*Z));
o=1-Math.sqrt(o);t=o*y[1];A=o*y[2]}else{t=y[1];A=y[2]}T[n]=(T[n]-V[0])*F[0]+y[0];T[n+1]=(T[n+1]-V[1])*F[1]*_+t;
T[n+2]=(T[n+2]-V[2])*F[2]*_+A}var O=Date.now();K(T,H);var x=H.length>>>2;for(var n=0;n<x;++n){H[4*n]=(1-i)*H[4*n]+i*U[4*n];
H[4*n+1]=(1-i)*H[4*n+1]+i*U[4*n+1];H[4*n+2]=(1-i)*H[4*n+2]+i*U[4*n+2];H[4*n+3]=255}}return j}(),jL=function(){function r(Q,W,b,X,D){var h=[-1,-1,-1,-1],S=255,a=160,K,Y=!1,d=new Array(4);
d[0]=new Array(W);d[1]=new Array(b);d[2]=new Array(W);d[3]=new Array(b);var j=new Array(2);j[0]=new Array(b);
j[1]=new Array(b);function U(v,l,F,L,Z){this.start=L;this.axis=Z;this.dir=v;this.end=-1;this.source=l;
this.O=F}function I(v,l,F,L,Z){if(F%2==0){if(!d[F][v])d[F][v]=new Array;d[F][v].push(new U(F,L,Z,l,v))}else{if(!d[F][l])d[F][l]=new Array;
d[F][l].push(new U(F,L,Z,v,l))}var t=Date.now()}function f(n){var v=!1,l=0;if(Q[4*n+3]<S)return v;var F=n%W,L=Math.floor(n/W);
g(F,L);if(n+W<W*b&&Q[4*(n+W)+3]<S&&Q[4*(n-W)+3]>=S&&Q[4*(n-2*W)+3]>=S){var Z=2;if(Q[4*(n+W)+3]<=a)l=-1;
if(Q[4*(n+2*W-1)+3]<S&&Q[4*(n+2*W+1)+3]<S)v=!0;else if(Q[4*(n+2*W-1)+3]>=S&&Q[4*(n+1)+3]>=S)v=!0;else if(Q[4*(n+2*W+1)+3]>=S&&Q[4*(n-1)+3]>=S)v=!0;
I(F,L,Z,l,v)}else if(n-W>=0&&Q[4*(n-W)+3]<S&&Q[4*(n+W)+3]>=S&&Q[4*(n+2*W)+3]>=S){var Z=0;if(Q[4*(n-W)+3]<=a)l=-1;
if(Q[4*(n-2*W-1)+3]<S&&Q[4*(n-2*W+1)+3]<S)v=!0;else if(Q[4*(n-2*W-1)+3]>=S&&Q[4*(n+1)+3]>=S)v=!0;else if(Q[4*(n-2*W+1)+3]>=S&&Q[4*(n-1)+3]>=S)v=!0;
I(F,L,Z,l,v)}l=0;if(n+1<W*b&&Q[4*(n+1)+3]<S&&Q[4*(n-1)+3]>=S&&Q[4*(n-2)+3]>=S){var Z=3;if(Q[4*(n+1)+3]<=a)l=-1;
if(!v&&Q[4*(n+W+2)+3]<S&&Q[4*(n-W+2)+3]<S){v=!0;I(F,L,Z,l,!0)}else I(F,L,Z,l,!1)}else if(n>=1&&Q[4*(n-1)+3]<S&&Q[4*(n+1)+3]>=S&&Q[4*(n+2)+3]>=S){var Z=1;
if(Q[4*(n-1)+3]<=a)l=-1;if(!v&&Q[4*(n+W-2)+3]<S&&Q[4*(n-W-2)+3]<S){v=!0;I(F,L,Z,l,!0)}else I(F,L,Z,l,!1)}return v}function g(n,v){if(h[0]==-1){h[0]=n;
h[1]=v;h[2]=1;h[3]=1}if(n<h[0]){h[2]+=h[0]-n;h[0]=n}if(n>h[0]+h[2])h[2]=n-h[0];if(v<h[1]){h[3]+=h[1]-v;
h[1]=v}if(v>h[1]+h[3])h[3]=v-h[1]}function H(v,n,l,F){if(!l.O)return;var L=(v+2)%4,Z=l.start,t=h[1];
if(v==2)t+=h[3];else if(v==1)t=h[0];else if(v==3)t=h[0]+h[2];var A=l.source;if(d[L][n])for(var o=0;o<d[L][n].length;
++o){if(v>1){var O=Z+Math.floor((d[L][n][o].start-Z)/2);if(d[L][n][o].start>Z&&O<t)t=O}else{var O=Z-Math.floor((Z-d[L][n][o].start)/2);
if(d[L][n][o].start<Z&&O>t)t=O}}for(var x=1;x<Math.abs(t-Z);++x){var o=Z+x;if(v==1||v==0)o=Z-x;for(var C=0;
C<2;++C){var J=2*C,q=!1;if(v%2==0)J+=1;if(d[J][o]){for(var fd=0;fd<d[J][o].length;++fd){if(d[J][o][fd].O){var w=d[J][o][fd].start,P=n-w,fc=o-Z;
if(J==0||J==1)P=-P;if(P<=0)continue;if(v==0||v==1)fc=-fc;if(fc>P){t=o;q=!0;break}}}if(q)break}}}l.end=t;
_(v,n,Z,t,A)}function u(v){for(var n=0;n<d[v].length;++n){if(d[v][n])for(var l=0;l<d[v][n].length;++l){H(v,n,d[v][n][l])}}}function s(){var v=[2,0,3,1];
for(var n=0;n<v.length;++n)u(v[n])}function _(v,n,l,F,L){if(v==2)for(var Z=l;Z<=F;++Z){if(!i(Z*W+n,(l+L)*W+n))return!1}else if(v==0)for(var Z=l;
Z>=F;--Z){if(!i(Z*W+n,(l-L)*W+n))return!1}else if(v==1)for(var Z=l;Z>=F;--Z){if(!i(n*W+Z,n*W+l-L))return!1}else if(v==3)for(var Z=l;
Z<=F;++Z){if(!i(n*W+Z,n*W+l+L))return!1}}function i(v,l){if(!K[v]){X[4*v]=X[4*l];X[4*v+1]=X[4*l+1];X[4*v+2]=X[4*l+2];
if(Y)X[4*v+3]=255;K[v]=!0;return!0}return!1}function M(){for(var n=0;n<4;n+=1){for(var v=0;v<d[n].length;
++v){if(d[n][v])for(var l=0;l<d[n][v].length;++l){var F=d[n][v][l];for(var L=1;L<3;L+=2){var Z=(n+L)%4;
if(d[Z][F.start])for(var t=0;t<d[Z][F.start].length;++t){if(d[Z][F.start][t].start==F.axis){var fb=W*F.start+F.axis;
if(n%2==1){fb=F.start+W*F.axis;T(d[Z][F.start][t])}else T(F)}}}}}}}function T(v){if(v.dir%2==0){var fb=W*v.start+v.axis,l=v.start,F=1;
if(!K[fb+1])F=3;else if(K[fb-1])return;var L=X[4*fb],Z=X[4*fb+1],t=X[4*fb+2];while(X[4*fb]==L&&X[4*fb+1]==Z&&X[4*fb+2]==t){if(F==1){if(!j[0][l])j[0][l]=new Array;
j[0][l].push(new U(F,0,!1,v.axis,l))}else{if(!j[1][l])j[1][l]=new Array;j[1][l].push(new U(F,0,!1,v.axis,l))}if(v.dir==2){fb+=W;
l++}else{fb-=W;l--}}}}function R(){for(var v=0;v<2;++v){var l=(v+1)%2;for(var n=0;n<j[v].length;++n){if(j[v][n])for(var F=0;
F<j[v][n].length;++F){var L=h[0];if(v==1)L+=h[2];var Z=j[v][n][F].start;if(j[l][n])for(var t=0;t<j[l][n].length;
++t){var A=j[l][n][t].Am;if(v==0){if(A>L&&A<Z){L=Z-Math.floor((Z-A)/2)}}else{if(A<L&&A>Z){L=Z+Math.ceil((A-Z)/2)}}}if(v==0)_(j[v][n][F].dir,n,Z-1,L,-1);
else _(j[v][n][F].dir,n,Z+1,L,-1)}}}for(var n=0;n<K.length;++n){if(!K[n]&&n%W>=h[0]&&n%W<=h[0]+h[2]&&Math.floor(n/W)>=h[1]&&Math.floor(n/W)<=h[1]+h[3]){var Z=W;
if(n<Z||!K[n-Z])Z=1;X[4*n]=X[4*(n-Z)];X[4*n+1]=X[4*(n-Z)+1];X[4*n+2]=X[4*(n-Z)+2];K[n]=!0;if(Y)X[4*n+3]=255}}}function z(){K=new Array(Q.length/4);
for(var n=0;n<X.length/4;++n){K[n]=!1;X[4*n]=Q[4*n];X[4*n+1]=Q[4*n+1];X[4*n+2]=Q[4*n+2];X[4*n+3]=Q[4*n+3];
if(X[4*n+3]==255)K[n]=!0;if(f(n))K[n]=!1}if(h[0]>0){h[0]--;h[2]++}if(h[1]>0){h[1]--;h[3]++}if(h[0]+h[2]<W){h[2]++}if(h[1]+h[3]<b){h[3]++}}var G=Date.now();
z();var V=Date.now();s();var y=Date.now();M();var k=Date.now();R();var B=Date.now();console.log("Init: "+String(V-G));
console.log("Filling: "+String(y-V));console.log("Check areas: "+String(k-y));console.log("Fill areas: "+String(B-k))}return r}();
function db(){}db.a2V=function(r){var Q=[E.cE(r[0]),E.cE(r[1]),E.cE(r[2]),0];return E.B1.lK(E.B1.Sa,Q)};
db.ak_=function(r){var Q=E.B1.lK(E.B1.dW,r);return[E.Lz(Q[0]),E.Lz(Q[1]),E.Lz(Q[2])]};db.Om=function(r,Q){var W={},b=5003,X=1667,D=25e3,h=57.4,S=16.1,a=1.8,K=0,Y=1.54,d=.75,I=0;
if(Q>0){r-=Q/100*4}if(r<0){S=22.54;h=80.36;Y=.756}if(Q>0){a=1.3;d=.2}var j=Math.min(b+h*r,D),U=Math.max(b-S*r,X);
if(r<0){j=Math.max(b+S*r,X);U=Math.min(b-h*r,D)}if(r>0){if(r<=14){I=(r-1)/13*.075+.025}else if(r<=29){I=.1}else if(r<=60){I=.1-.1*(r-29)/(60-29)}else{var f=r-60;
K=-20*(f/40);I=-.3*(f/40)}}else{if(r<-60){var f=r+60;K=-20*(f/40)}}var g=Math.abs(r)/100*Y+Math.abs(Q)/100*d+I,H=-(Q*a+K),u=hE.j7(j,-H),s=hE.yt(u),_=hE.j7(U,0),i=hE.yt(_),M=hE.bh(s,i);
W.aa$=g;W.axW=M;if(r==0&&Q==0)W.arm=!0;else W.arm=!1;return W};db.a6O=function(r,Q,W,b){if(b.arm){return[r,Q,W]}var X=this.a2V([r,Q,W]),D=X[0],h=X[1],S=X[2],a=h+1e-12,K=[D/a,h/a,S/a,0],Y=E.B1.lK(b.axW,K),d=0,j=.4;
Y[0]*=a;Y[1]*=a;Y[2]*=a;if(a>j)d=1/(1-j)*(a-j);X[0]=(1-d)*Y[0]+d*D;X[1]=(1-d)*Y[1]+d*h;X[2]=(1-d)*Y[2]+d*S;
return this.ak_(X)};E.Bp={dN:function(r,Q){var n=r.length;r.push(Q);var W=n>>>1;while(W!=0&&r[n][0]<r[W][0]){var b=r[n];
r[n]=r[W];r[W]=b;n=W;W=n>>>1}},iu:function(r){if(r.length==2)return r.pop();var top=r[1],n=1;r[1]=r.pop();
var Q=r.length;while(!0){var W=n<<1,b=W+1,X=n;if(W<Q&&r[W][0]<r[X][0])X=W;if(b<Q&&r[b][0]<r[X][0])X=b;
if(X==n)break;var D=r[n];r[n]=r[X];r[X]=D;n=X}return top},alo:function(r){for(var n=1;n<r.length;n++){var Q=n,W=1e9;
while(Q!=0){var b=r[Q][0];if(b>W){console.log(n);throw"e"}W=b;Q=Q>>>1}}}};E.q={};E.q.h1=new Float64Array(256);
E.q.uA=new Uint8Array(256*256);E.q.w5=new Uint8Array(256*256);(function(){for(var n=0;n<256;n++)E.q.h1[n]=255/n;
for(var n=0;n<256;n++)for(var r=0;r<256;r++)E.q.uA[n*256+r]=n==0?0:Math.round(r*255/n);for(var n=0;n<256;
n++)for(var r=0;r<256;r++)E.q.w5[n*256+r]=Math.round(n*(255-r)/255)}());E.q.YB=function(r,Q,W,b,X,D,h,S){if(S==null)S=iI.O1();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(r)==-1){h=h*S.fill;S.fill=1;S.style=!1}var a="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),K="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),Y=E.q[r+"F"];
if(S.jB==null&&r=="norm")E.q.a34(Q,W,b,X,D,h,Y,S.QV?1:0);else if(r=="diss")E.q.a4$(Q,W,b,X,D,h,Y,S.QV?1:0);
else if(a.indexOf(r)!=-1)E.q.a02(Q,W,b,X,D,h,Y,S);else if(K.indexOf(r)!=-1)E.q.atG(Q,W,b,X,D,h,Y,S)};
E.q.aa0=function(r,Q,W){var b=r*W+1-W;return b<.001?0:1-Math.min(1,(1-Q)/b)};E.q.aoj=function(r,Q,W){return r*W==1?1:Math.min(1,Q/(1-r*W))};
E.q.x4=function(r){return r<=.25?((16*r-12)*r+4)*r:Math.sqrt(r)};E.q.normF=function(r,Q,W){return r};
E.q.darkF=function(r,Q,W){return Math.min(r,Q)};E.q["mul F"]=function(r,Q,W){return r*Q};E.q.idivF=function(r,Q,W){var b=r*W+1-W;
return Q==1?1:1-Q>=b?0:1-(1-Q)/b};E.q.lbrnF=function(r,Q,W){return Math.max(0,r*W+Q-W)};E.q.dkClF=function(r,Q,W){var b=E.H7(r)<E.H7(Q)?r:Q;
W.o=b.o;W.W=b.W;W.k=b.k;return W};E.q.liteF=function(r,Q,W){return Math.max(r,Q)};E.q.scrnF=function(r,Q,W){return Q+r-Q*r};
E.q["div F"]=function(r,Q,W){r*=W;return Q==0?0:Q>=1-r?1:Q/(1-r)};E.q.lddgF=function(r,Q,W){r*=W;return Math.min(1,r+Q)};
E.q.lgClF=function(r,Q,W){var b=E.H7(r)>E.H7(Q)?r:Q;W.o=b.o;W.W=b.W;W.k=b.k;return W};E.q.overF=function(r,Q,W){return E.q.hLitF(Q,r,W)};
E.q.sLitF=function(r,Q,W){return r<=.5?Q-(1-2*r)*Q*(1-Q):Q+(2*r-1)*(E.q.x4(Q)-Q)};E.q.hLitF=function(r,Q,W){return r<=.5?E.q["mul F"](2*r,Q,W):E.q.scrnF(2*r-1,Q,W)};
E.q.vLitF=function(r,Q,W){return r<=.5?E.q.aa0(2*r,Q,W):E.q.aoj(2*r-1,Q,W)};E.q.lLitF=function(r,Q,W){return r<=.5?E.q.lbrnF(2*r,Q,W):E.q.lddgF(2*r-1,Q,W)};
E.q.pLitF=function(r,Q,W){return r<=.5?E.q.darkF(2*r,Q,W):E.q.liteF(2*r-1,Q,W)};E.q.hMixF=function(r,Q,W){if(W>.99)return r+Q<1?0:1;
return Math.min(1,Math.max(0,(Q+r*W-W)/(1-W+1e-6)))};E.q.diffF=function(r,Q,W){r*=W;return Math.abs(r-Q)};
E.q.smudF=function(r,Q,W){return r+Q-2*r*Q};E.q.fsubF=function(r,Q,W){return Math.max(Q-r,0)};E.q.fdivF=function(r,Q,W){return Math.min(Q/r,1)};
E.q["hue F"]=function(r,Q,W){E.q.Tj(r,E.Y7(Q),W);E.q.Qg(W,E.H7(Q),W)};E.q["sat F"]=function(r,Q,W){E.q.Tj(Q,E.Y7(r),W);
E.q.Qg(W,E.H7(Q),W)};E.q.colrF=function(r,Q,W){E.q.Qg(r,E.H7(Q),W)};E.q["lum F"]=function(r,Q,W){E.q.Qg(Q,E.H7(r),W)};
E.q.Qg=function(r,Q,W){var b=Q-E.H7(r);W.o=r.o+b;W.W=r.W+b;W.k=r.k+b;E.q.asZ(W)};E.q.asZ=function(r){var Q=r.o,W=r.W,b=r.k,X=E.f_(Q,W,b),fb=Math.min(Q,W,b),D=Math.max(Q,W,b);
if(fb<0){var h=X/(X-fb);Q=X+(Q-X)*h;W=X+(W-X)*h;b=X+(b-X)*h}if(D>1){var h=(1-X)/(D-X);Q=X+(Q-X)*h;W=X+(W-X)*h;
b=X+(b-X)*h}r.o=Q;r.W=W;r.k=b};E.q.Tj=function(r,Q,W){var b=E.q.aqH,X=r.o,D=r.W,h=r.k;if(X==D&&D==h){W.o=W.W=W.k=0}else if(X>D){if(X>h){if(D>h){W.o=Q;
W.W=b(X,D,h,Q);W.k=0}else{W.o=Q;W.k=b(X,h,D,Q);W.W=0}}else{W.k=Q;W.o=b(h,X,D,Q);W.W=0}}else{if(X<h){if(D>h){W.W=Q;
W.k=b(D,h,X,Q);W.o=0}else{W.k=Q;W.W=b(h,D,X,Q);W.o=0}}else{W.W=Q;W.o=b(D,X,h,Q);W.k=0}}};E.q.aqH=function(r,Q,W,b){return(Q-W)*b/(r-W)};
E.q.a34=function(r,Q,W,b,X,D,h,S){var a=Q.ww(b).ww(X),K=Math.max(0,a.x-Q.x),Y=Math.max(0,a.x-b.x),d=Math.max(0,a.y-Q.y),j=Math.max(0,a.y-b.y),U=a.e,I=a.n,f=Q.e,g=b.e,H=E.q.uA,u=E.q.w5,s=new Uint32Array(r.buffer),_=new Uint32Array(W.buffer);
for(var n=0;n<I;n++){var i=(d+n)*f+K,M=(j+n)*g+Y;for(var T=0;T<U;T++){var R=s[i+T],F=1;if(R>>>24==0)continue;
if(R>>>24==255&&D==1&&S==0){_[M+T]=s[i+T];continue}var z=_[M+T],G=R&255,V=R>>>8&255,y=R>>>16&255,k=z&255,B=z>>>8&255,v=z>>>16&255,l=D,L=(z>>>24)*(1/255);
if(S==0){l=(R>>>24)*D*(1/255);F=L}var Z=F*(1-l),t=l+Z,A=1/t;_[M+T]=~~(.5+(S*L+(1-S)*t)*255)<<24|~~(.5+(y*l+v*Z)*A)<<16|~~(.5+(V*l+B*Z)*A)<<8|~~(.5+(G*l+k*Z)*A)}}};
E.q.aef=function(r,Q,W,b,X,D){var h=Q.ww(b).ww(X),S=Math.max(0,h.x-Q.x),a=Math.max(0,h.x-b.x),K=Math.max(0,h.y-Q.y),Y=Math.max(0,h.y-b.y),d=h.e,j=h.n,U=Q.e,I=b.e,f=E.q.uA,g=E.q.w5,H=new Uint32Array(r.buffer),u=new Uint32Array(W.buffer),s=Math.floor(Math.random()*16777215),_=0;
for(var n=0;n<j;n++){var i=(K+n)*U+S,M=(Y+n)*I+a;for(var T=0;T<d;T++){var R=H[i+T];if(R>>>24==0)continue;
if(R>>24==255&&D==1){u[M+T]=R;continue}var z=u[M+T],G=(R>>>24)*D*(1/255),V=(z>>>24)*(1/255),y=V*(1-G),k=G+y,B=R&255,v=R>>>8&255,l=R>>>16&255,F=z&255,L=z>>>8&255,Z=z>>>16&255;
_>>>=8;if((T&3)==0)_=E.q.Xv(M+T+s);var t=k==0?0:1/k,A=Math.floor(k*(256*255))+(_&255)>>>8,o=Math.floor((l*G+Z*y)*t+.5),O=Math.floor((v*G+L*y)*t+.5),x=Math.floor((B*G+F*y)*t+.5);
u[M+T]=A<<24|o<<16|O<<8|x}}};E.q.Y1=function(r,Q,W,b,X,D,h,S){var a=E.f_(r,Q,W),K=E.f_(b,X,D),Y=Math.min,d=E.q.awh,j=d(a,S,0);
j=Y(j,d(r,S,8));j=Y(j,d(Q,S,16));j=Y(j,d(W,S,24));var U=d(K,S,4);U=Y(U,d(b,S,12));U=Y(U,d(X,S,20));U=Y(U,d(D,S,28));
U=Math.max(U,1-h);var I=Math.min(j,U);return I<0?0:I>1?1:I};E.q.awh=function(r,Q,n){return Math.min((r-Q[n])*Q[n+1],(r-Q[n+3])*Q[n+2])};
E.q.a02=function(r,Q,W,b,X,D,h,S){var a=1/255,K=a*D,Y=S.QV?1:0,d=S.fill,j=S.style,U=Q.ww(b).ww(X),I=Math.max(0,U.x-Q.x),f=Math.max(0,U.x-b.x),g=Math.max(0,U.y-Q.y),H=Math.max(0,U.y-b.y),u=U.e,s=U.n,_=Q.e,i=b.e,M=new Uint32Array(r.buffer),T=new Uint32Array(W.buffer);
for(var n=0;n<s;n++){var R=(g+n)*_+I,z=(H+n)*i+f;for(var G=0;G<u;G++,R++,z++){var V=M[R],t=1;if(V>>>24==0)continue;
var y=T[z],k=(V&255)*a,B=(V>>>8&255)*a,v=(V>>>16&255)*a,l=(y&255)*a,F=(y>>>8&255)*a,L=(y>>>16&255)*a,Z=D;
if(Y==0){Z=(V>>>24)*K;t=(y>>>24)*a}if(S.jB)Z*=E.q.Y1(k,B,v,l,F,L,t,S.jB);var A=t*(1-Z),o=Z+A,O=o==0?0:255/o,x=j?1:Z,C=((1-t)*Z*k+(1-x)*t*l+x*t*h(k,l,(1+Z-x)*d))*O,J=((1-t)*Z*B+(1-x)*t*F+x*t*h(B,F,(1+Z-x)*d))*O,q=((1-t)*Z*v+(1-x)*t*L+x*t*h(v,L,(1+Z-x)*d))*O;
o=Z*d+t*(1-Z*d);var fd=~~(o*255+.5);T[z]=Y*(y>>>24)+(1-Y)*fd<<24|q<<16|J<<8|C}}};E.q.atG=function(r,Q,W,b,X,D,h,S){var a=1/255,K=a*D,Y=S.QV?1:0,d=Q.ww(b).ww(X),j=Math.max(0,d.x-Q.x),U=Math.max(0,d.x-b.x),I=Math.max(0,d.y-Q.y),f=Math.max(0,d.y-b.y),g=d.e,H=d.n,u=new Uint32Array(r.buffer),s=new Uint32Array(W.buffer),_={o:0,W:0,k:0},i={o:0,W:0,k:0},M={o:0,W:0,k:0};
for(var n=0;n<H;n++){var T=(I+n)*Q.e+j,R=(f+n)*b.e+U;for(var z=0;z<g;z++,T++,R++){var G=u[T],V=s[R],y=(G&255)*a,k=(G>>>8&255)*a,B=(G>>>16&255)*a,v=(V&255)*a,l=(V>>>8&255)*a,F=(V>>>16&255)*a,L=D,Z=1;
if(Y==0){L=(G>>>24)*K;Z=(V>>>24)*a}if(S.jB)L*=E.q.Y1(y,k,B,v,l,F,Z,S.jB);var t=Z*(1-L),A=L+t,o=255/A;
_.o=y;_.W=k;_.k=B;i.o=v;i.W=l;i.k=F;h(_,i,M);var O=(((1-Z)*y+Z*M.o)*L+v*t)*o,x=(((1-Z)*k+Z*M.W)*L+l*t)*o,C=(((1-Z)*B+Z*M.k)*L+F*t)*o,J=Y*(V>>>24)+(1-Y)*Math.round(A*255);
s[R]=J<<24|C<<16|x<<8|O}}};E.q.hH=function(r){r=r^61^r>>>16;r=r+(r<<3);r=r^r>>>4;r=r*668265261;r=r^r>>15;
return(r&16777215)*(1/16777215)};E.q.Xv=function(r){r=r^61^r>>>16;r=r+(r<<3);r=r^r>>>4;r=r*668265261;
r=r^r>>>15;return r};E.q.rq=function(r){this.el=r};E.q.rq.prototype.get=function(){var r=this.el=E.q.Xv(this.el);
return(r&16777215)*(1/16777215)};E.q.a4$=function(r,Q,W,b,X,D,h,S){var a=1/255,K=a*D,Y=Math.round(D*(256*256*256/255)),d=Q.ww(b).ww(X),j=Math.max(0,d.x-Q.x),U=Math.max(0,d.x-b.x),I=Math.max(0,d.y-Q.y),f=Math.max(0,d.y-b.y),g=d.e,H=d.n,u=new Uint32Array(r.buffer),s=new Uint32Array(W.buffer);
for(var n=0;n<H;n++){var _=(I+n)*Q.e+j,i=(f+n)*b.e+U;for(var M=0;M<g;M++,_++,i++){var T=u[_],R=s[i],z=S*255+(1-S)*(T>>>24);
if((E.q.Xv(_)&16777215)>=z*Y)continue;s[i]=T&16777215|S*(R>>>24)+(1-S)*255<<24}}};E.q.ab8=function(r,Q,W){for(var n=0;
n<r.length;n+=4){var b=W[n>>>2];if(b==0)continue;var X=b*(1/255),D=1/X,h=Q[n],S=Q[n+1],a=Q[n+2],K=r[n],Y=r[n+1],d=r[n+2];
Q[n]=Math.min(255,Math.max(0,Math.round((h-(1-X)*K)*D)));Q[n+1]=Math.min(255,Math.max(0,Math.round((S-(1-X)*Y)*D)));
Q[n+2]=Math.min(255,Math.max(0,Math.round((a-(1-X)*d)*D)));Q[n+3]=255}};E.q.mA=function(r,Q,W,b,X,D,h,S,a,K,Y){if(K==null)K=!1;
if(Y==null)Y=[1,1,1];var d=255<<24|Y[2]*16711680|Y[1]*65280|Y[0]*255,j=~d;if(X&&!Q.s4(D)){var U=E.Q(Q.O()*4);
U.fill(h);E.L0(X,D,U,Q);X=U;D=Q}if(K){if(X==null)E.q.a1q(r,Q,W,b,X,S,a,d,j);else E.q.amd(r,Q,W,b,X,S,a)}else{if(X==null)E.q.axa(r,Q,W,b,X,S,a,d,j);
else E.q.agV(r,Q,W,b,X,S,a)}};E.q.axa=function(r,Q,W,b,X,D,h,S,a){var K=1/255,Y=Q.ww(b).ww(D),d=Math.max(0,Y.x-Q.x),j=Math.max(0,Y.x-b.x),U=Math.max(0,Y.y-Q.y),I=Math.max(0,Y.y-b.y),f=Y.e,g=Y.n,H=new Uint32Array(r.buffer),u=new Uint32Array(W.buffer),s=E.q.uA,_=h*255&255;
for(var n=0;n<g;n++){var i=(U+n)*Q.e+d,M=(I+n)*b.e+j;for(var T=0;T<f;T++,i++,M++){var R=H[i],z=u[M],G=R>>>24,V=z>>>24,y=E.vZ(_*G+(255-_)*V),k=E.vZ(G*_),B=E.vZ(V*(255-_)),v=R&255,l=R>>>8&255,F=R>>>16&255,L=z&255,Z=z>>>8&255,t=z>>>16&255,A=k*v+L*B,o=k*l+Z*B,O=k*F+t*B;
A=s[y<<8|E.vZ(A)];o=s[y<<8|E.vZ(o)];O=s[y<<8|E.vZ(O)];var x=y<<24|O<<16|o<<8|A;u[M]=a&z|S&x}}};E.q.a1q=function(r,Q,W,b,X,D,h,S,a){var K=1/255,Y=Q.ww(b).ww(D),d=Math.max(0,Y.x-Q.x),j=Math.max(0,Y.x-b.x),U=Math.max(0,Y.y-Q.y),I=Math.max(0,Y.y-b.y),f=Y.e,g=Y.n,H=new Uint32Array(r.buffer),u=new Uint32Array(W.buffer),s=E.q.uA,_=h*16777215&16777215;
for(var n=0;n<g;n++){var i=(U+n)*Q.e+d,M=(I+n)*b.e+j;for(var T=0;T<f;T++,i++,M++){if((E.q.Xv(i)&16777215)<_){u[M]=a&u[M]|S&H[i]}}}};
E.q.agV=function(r,Q,W,b,X,D,h){var S=1/255,a=Q.ww(b).ww(D),K=Math.max(0,a.x-Q.x),Y=Math.max(0,a.x-b.x),d=Math.max(0,a.y-Q.y),j=Math.max(0,a.y-b.y),U=a.e,I=a.n,f=new Uint32Array(r.buffer),g=new Uint32Array(W.buffer),H=E.q.uA;
for(var n=0;n<I;n++){var u=(d+n)*Q.e+K,s=(j+n)*b.e+Y;for(var _=0;_<U;_++,u++,s++){var i=X[u]*h&255;if(i==0)continue;
if(i==255){g[s]=f[u];continue}var M=f[u],T=g[s],R=M>>>24,z=T>>>24,G=E.vZ(i*R+(255-i)*z),V=E.vZ(R*i),y=E.vZ(z*(255-i)),k=M&255,B=M>>>8&255,v=M>>>16&255,l=T&255,F=T>>>8&255,L=T>>>16&255,Z=H[G<<8|E.vZ(V*k+l*y)],t=H[G<<8|E.vZ(V*B+F*y)],A=H[G<<8|E.vZ(V*v+L*y)];
g[s]=G<<24|A<<16|t<<8|Z}}};E.q.amd=function(r,Q,W,b,X,D,h){var S=1/255,a=Q.ww(b).ww(D),K=Math.max(0,a.x-Q.x),Y=Math.max(0,a.x-b.x),d=Math.max(0,a.y-Q.y),j=Math.max(0,a.y-b.y),U=a.e,I=a.n,f=new Uint32Array(r.buffer),g=new Uint32Array(W.buffer),H=E.q.uA,u=Math.round(h*257);
for(var n=0;n<I;n++){var s=(d+n)*Q.e+K,_=(j+n)*b.e+Y;for(var i=0;i<U;i++,s++,_++){var M=X[s]*u;if((E.q.Xv(s)&65535)<M)g[_]=f[s]}}};
E.q.QD=function(r,Q,W,b,X,D,h){var S=1/255,a=Q.ww(b).ww(D),K=Math.max(0,a.x-Q.x),Y=Math.max(0,a.x-b.x),d=Math.max(0,a.y-Q.y),j=Math.max(0,a.y-b.y),U=a.e,I=a.n,f=new Uint32Array(r.buffer),g=new Uint32Array(W.buffer),H=Math.floor(Math.random()*b.O()),u=E.q.aqj;
for(var n=0;n<I;n++){var s=(d+n)*Q.e+K,_=(j+n)*b.e+Y;for(var i=0;i<U;i++){var M=X[s+i]*h;if(M==0)continue;
if(M==255){g[_+i]=f[s+i];continue}var T=f[s+i],R=g[_+i],z=T>>>24,G=R>>>24,V=z*M*(1/255),y=G*(255-M)*(1/255),k=T&255,B=T>>>8&255,v=T>>>16&255,l=R&255,F=R>>>8&255,L=R>>>16&255,Z=E.q.Xv(_+i+H),t=Math.floor((V+y)*256+.5)+(Z>>>0&255)>>>8,A=t==0?0:256/(V+y),o=k*V+l*y,O=B*V+F*y,x=v*V+L*y,C=Math.floor(o*A+.5)+(Z>>>8&255)>>>8,J=Math.floor(O*A+.5)+(Z>>>16&255)>>>8,q=Math.floor(x*A+.5)+(Z>>>24&255)>>>8;
g[_+i]=t<<24|q<<16|J<<8|C}}};E.q.aqj=function(r){return Math.floor(r+Math.random())};E.q.ml=function(r,Q,W,b,X,D,h){var S=1/255,a=Q.ww(b).ww(D),K=Math.max(0,a.x-Q.x),Y=Math.max(0,a.x-b.x),d=Math.max(0,a.y-Q.y),j=Math.max(0,a.y-b.y),U=a.e,I=a.n;
for(var n=0;n<I;n++){var f=(d+n)*Q.e+K,g=(j+n)*b.e+Y;for(var H=0;H<U;H++,f++,g++){var u=h*X[f]*S;if(u==0)continue;
if(u==1){W[g]=r[f];continue}W[g]=r[f]*u+W[g]*(1-u)}}};E.a5w=function(){function r(D){var h=D*.85;return Math.exp(-(h*h)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function Q(D,h){var S=D<h?1:r((D-h)/Math.pow(1.001-h,.86));
return S}var W=[];function b(D){if(W[D])return W[D];var h=Math.pow(D,.55),S=new Float64Array(8e3),a=0,K=8e3;
for(var n=0;n<8e3;n++){var Y=Q(n*(1.55/4e3),h);if(Y>=1)a=n;else if(Y<=0&&K==8e3)K=n;S[n]=Y}var d=[S,a,K];
W[D]=d;return d}function X(D,h,S){var a=1+.55*(1-h),K=Math.round(S*D*a)+2,Y=new aV(0,0,K,K),d=E.Q(K*K),j=[d,Y],U=K/2,I=a/(U-1),f=Date.now(),g=b(h),H=Math.round(8e3/U),u=g[0],s=g[1]-H,_=g[2]+H,i=Math.min(K,K+1>>>1),M=I*.4*(4e3/1.55),T=E.Q(8e3);
for(var n=0;n<8e3;n++){var R=n,z=n,G=~~Math.max(0,R-M-M),V=~~Math.max(0,R-M),y=~~(R+M),k=~~(R+M+M),B=~~(.5+255*(1/5)*(u[z]+u[G]+u[V]+u[y]+u[k]));
T[n]=B;if(B==0)break}for(var n=0;n<i;n++){var v=I*(n-U+.5),l=v*v,F=n*K,L=(K-1-n)*K;for(var Z=0;Z<i;Z++){var t=I*(Z-U+.5),z=~~(Math.sqrt(t*t+l)*(4e3/1.55));
if(_<z)continue;else if(z<s){var B=255;while(Z<i){var A=K-1-Z;d[F+Z]=B;d[F+A]=B;d[L+Z]=B;d[L+A]=B;Z++}break}else{var B=T[z],A=K-1-Z;
d[F+Z]=B;d[F+A]=B;d[L+Z]=B;d[L+A]=B}}}return j}return{ap2:X}}();E.dG={};E.dG.aup=function(r,Q,W,b,X,D){E.dG.et(r,Q,W,b,X,D,null,0)};
E.dG.ahZ=function(r,Q,W,b,X){E.dG.et(r,Q,W,b,X,null,null,0)};E.dG.ajk=function(r,Q,W,b,X,D,h){E.dG.et(r,Q,W,b,X,null,D,h*.5)};
E.dG.et=function(r,Q,W,b,X,D,h,S){var a=0,y=0,k=1e9,B=0,v=1e9,l=0,F=1e9,L=0,Z=0,t=0,A=0;if(D){a=X*.5;
X=3+Math.round((X-3)*.75)}if(h){X=Math.round(X*2.2)}var K=1/X,Y=Math.floor(Q*K)+1,d=Math.floor(W*K)+1,j=[],U=new Uint8Array(Y*d*4),I=h?.5:1,f=D?64:0;
for(var g=0;g<d;g++){var H=h?.5*(g&1):0;for(var u=0;u<Y;u++){var s=(u+Math.random()*I+H)*X,_=(g+Math.random()*I)*X;
j.push(s,_);var i=Math.min(Q-1,Math.floor(s)),M=Math.min(W-1,Math.floor(_)),T=(M*Q+i)*4,R=(g*Y+u)*4;
for(var n=0;n<4;n++)U[R+n]=Math.max(0,Math.min(255,Math.floor(r[T+n]+(Math.random()-.5)*f)))}}var z=D?D:h?h:[0,0,0],G=Y*d*2,V=[-Y-1,-Y,-Y+1,-1,0,1,Y-1,Y,Y+1];
for(var g=0;g<W;g++){t=0;for(var u=0;u<Q;u++){var o=u+.5,O=g+.5,x=Math.floor(O*K),C=Math.floor(o*K),J=x*Y+C,w=0,P=0;
if(t>1+S){k=E.dG.Kh(j,y,o,O);L=Math.sqrt(k);t--;A++}else{k=v=F=1e9;for(var n=0;n<V.length;n++){var q=(J+V[n])*2;
if(q<0||q>=G)continue;var fd=E.dG.Kh(j,q,o,O);if(fd<F){if(fd<v){if(fd<k){l=B;F=v;B=y;v=k;y=q;k=fd}else{l=B;
F=v;B=q;v=fd}}else{l=q;F=fd}}}L=Math.sqrt(k);Z=Math.sqrt(v);t=Z-(L+Z)*.5}if(h==null){var fc=(L+Z)*.5,p=D?Math.max(0,fc-a):0;
w=Math.max(0,Math.min(1,.5+fc-L-p));P=Math.max(0,Math.min(1,1-(.5+fc-L)-p))}else{var gG=Math.min(E.dG.bq(j,y,B,o,O),E.dG.bq(j,y,l,o,O));
w=Math.max(0,Math.min(1,gG-S*.5));if(o<S||Q-S<o||O<S||W-S<O)w=0;P=0}var fh=1-P-w,R=g*Q+u<<2,fJ=y<<1,kc=B<<1;
b[R+0]=Math.floor(.5+w*U[fJ+0]+P*U[kc+0]+fh*z[0]);b[R+1]=Math.floor(.5+w*U[fJ+1]+P*U[kc+1]+fh*z[1]);
b[R+2]=Math.floor(.5+w*U[fJ+2]+P*U[kc+2]+fh*z[2]);b[R+3]=r[R+3]}}};E.dG.Kh=function(r,Q,W,b){var X=W-r[Q],D=b-r[Q+1];
return X*X+D*D};E.dG.bq=function(r,Q,W,b,X){var D=r[Q],h=r[Q+1],S=r[W],a=r[W+1],K=(D+S)*.5,Y=(h+a)*.5,d=K+(a-h),j=Y-(S-D),U=j-Y,I=d-K;
return Math.abs(U*b-I*X+d*Y-j*K)/Math.sqrt(I*I+U*U)};E.Cb={};E.Cb.HG=function(r){if(E.Cb.rO.length<r)E.Cb.rO=E.Q(r);
return E.Cb.rO};E.Cb.rO=E.Q(0);E.Cb.K0=function(r){if(E.Cb.Zw.length<r)E.Cb.Zw=new Float32Array(r);return E.Cb.Zw};
E.Cb.Zw=new Float32Array(0);E.Cb.Ka=function(r,Q,W,b){var X=W.e,D=W.n;E.Cb.a3x(r,Q,X,D,b)};E.Cb.O4=function(r,Q,W,b){var X=W.e,D=W.n;
E.Cb.axV(r,Q,X,D,b)};E.Cb.d_=function(r,Q,W){var b=Q.e,X=Q.n;E.Cb.a93(r,b,X,W)};E.Cb.hs=function(r,Q,W,b,X){var D=W.e,h=W.n;
E.Cb.agA(r,Q,D,h,b,X)};E.Cb.Vk=function(r,Q,W,b){var X=W.e,D=W.n;b=Math.round(b);var h=E.Cb.HG(X*D);
E.qr(r,Q);E.Cb.A8(Q,h,X,D,b)};E.Cb.dH=function(r,Q,W){var b=Q.e,X=Q.n;W=Math.round(W);var D=E.Cb.HG(b*X*4);
E.Cb.AJ(r,D,b,X,W)};E.Cb.$a=function(r,Q,W,b){var X=W.e,D=W.n;b=Math.round(b);var h=E.Cb.K0(X*D);E.qr(r,Q);
E.Cb.G$(Q,h,X,D,b)};E.Cb.mU=function(r,Q,W){var b=Q.e,X=Q.n;W=Math.round(W);var D=E.Cb.HG(b*X*4);E.Cb.$c(r,D,b,X,W);
E.qr(D,r)};E.Cb.VH=function(r,fb){var Q=Math.sqrt(12*r*r/fb+1),W=Math.floor(Q);if(W%2==0)W--;var b=W+2,X=(12*r*r-fb*W*W-4*fb*W-3*fb)/(-4*W-4),D=Math.round(X),h=[];
for(var n=0;n<fb;n++)h.push(n<D?W:b);return h};E.Cb.a3x=function(r,Q,W,b,X){var D=E.Cb.VH(X,3),h=E.Cb.HG(W*b);
E.qr(r,Q);E.Cb.A8(Q,h,W,b,D[0]-1>>1);E.Cb.A8(Q,h,W,b,D[1]-1>>1);E.Cb.A8(Q,h,W,b,D[2]-1>>1)};E.Cb.axV=function(r,Q,W,b,X){var D=E.Cb.VH(X,2),h=E.Cb.HG(W*b);
E.qr(r,Q);E.Cb.A8(Q,h,W,b,D[0]-1>>1);E.Cb.A8(Q,h,W,b,D[1]-1>>1)};E.Cb.a93=function(r,Q,W,b){var X=E.Cb.VH(b,3),D=E.Cb.HG(Q*W*4);
E.Cb.AJ(r,D,Q,W,X[0]-1>>1);E.Cb.AJ(r,D,Q,W,X[1]-1>>1);E.Cb.AJ(r,D,Q,W,X[2]-1>>1)};E.Cb.agA=function(r,Q,W,b,X,D){if(D==null)D=3;
var h=E.Cb.VH(X,D),S=E.Cb.K0(W*b);E.qr(r,Q);for(var n=0;n<D;n++)E.Cb.G$(Q,S,W,b,(h[n]-1)/2)};E.Cb.A8=function(r,Q,W,b,X){E.Cb.ave(r,Q,W,b,X);
E.Cb.a3D(Q,r,W,b,X)};E.Cb.AJ=function(r,Q,W,b,X){E.Cb.$c(r,Q,W,b,X);E.Cb.a55(Q,r,W,b,X)};E.Cb.G$=function(r,Q,W,b,X){E.Cb.a73(r,Q,W,b,X);
E.Cb.amZ(Q,r,W,b,X)};E.Cb.e0=[];E.Cb.$$=function(r){if(E.Cb.e0[r])return E.Cb.e0[r];var Q=1/(r+r+1),W=(r+r+1)*256,b=E.Q(W);
for(var n=0;n<W;n++)b[n]=Math.round(n*Q);E.Cb.e0[r]=b;return b};E.Cb.ave=function(r,Q,W,b,X){var D=1/(X+X+1),h=W-X-X-1,S=E.Cb.$$(X);
for(var n=0;n<b;n++){var a=n*W,K=a,Y=a+X,d=r[a],j=r[a+W-1],U=(X+1)*d;for(var I=0;I<X;I++)U+=r[a+I];for(var I=0;
I<=X;I++){U+=r[Y+I]-d;Q[a+I]=S[U]}Y+=X+1;a+=X+1;for(var I=0;I<h;I++){U+=r[Y+I]-r[K+I];Q[a+I]=S[U]}Y+=h;
K+=h;a+=h;for(var I=W-X;I<W;I++){U+=j-r[K++];Q[a++]=S[U]}}};E.Cb.$c=function(r,Q,W,b,X){var D=W<<2,h=X<<2,S=1/(X+X+1),a=W-X-X-1,K=a<<2,Y=E.Cb.$$(X);
for(var n=0;n<b;n++){var d=n*D,j=d,U=d+h,I=d+D,f=r[d],g=r[d+1],H=r[d+2],u=r[d+3],s=(X+1)*f,_=(X+1)*g,i=(X+1)*H,M=(X+1)*u;
for(var T=0;T<h;T+=4){s+=r[d+T];_+=r[d+T+1];i+=r[d+T+2];M+=r[d+T+3]}for(var T=0;T<=h;T+=4){s+=r[U]-f;
Q[d]=Y[s];_+=r[U+1]-g;Q[d+1]=Y[_];i+=r[U+2]-H;Q[d+2]=Y[i];M+=r[U+3]-u;Q[d+3]=Y[M];U+=4;d+=4}for(var T=0;
T<K;T+=4){s+=r[U+T]-r[j+T];Q[d+T]=Y[s];_+=r[U+T+1]-r[j+T+1];Q[d+T+1]=Y[_];i+=r[U+T+2]-r[j+T+2];Q[d+T+2]=Y[i];
M+=r[U+T+3]-r[j+T+3];Q[d+T+3]=Y[M]}U+=K;j+=K;d+=K;f=r[I-4];g=r[I-3];H=r[I-2];u=r[I-1];for(var T=W-X;
T<W;T++){s+=f-r[j];Q[d]=Y[s];_+=g-r[j+1];Q[d+1]=Y[_];i+=H-r[j+2];Q[d+2]=Y[i];M+=u-r[j+3];Q[d+3]=Y[M];
j+=4;d+=4}}};E.Cb.a73=function(r,Q,W,b,X){var D=1/(X+X+1),h=W-X-X-1;for(var n=0;n<b;n++){var S=n*W,a=S,K=S+X,Y=r[S],d=r[S+W-1],j=(X+1)*Y;
for(var U=0;U<X;U++)j+=r[S+U];for(var U=0;U<=X;U++){j+=r[K+U]-Y;Q[S+U]=j*D}K+=X+1;S+=X+1;for(var U=0;
U<h;U++){j+=r[K+U]-r[a+U];Q[S+U]=j*D}K+=h;a+=h;S+=h;for(var U=W-X;U<W;U++){j+=d-r[a++];Q[S++]=j*D}}};
E.Cb.a3D=function(r,Q,W,b,X){var D=1/(X+X+1),h=b-X-X-1,S=E.Cb.$$(X);for(var n=0;n<W;n++){var a=n,K=a,Y=a+X*W,d=r[a],j=r[a+W*(b-1)],U=(X+1)*d;
for(var I=0;I<X;I++)U+=r[a+I*W];for(var I=0;I<=X;I++){U+=r[Y]-d;Q[a]=S[U];Y+=W;a+=W}for(var I=0;I<h;
I++){var f=I*W;U+=r[Y+f]-r[K+f];Q[a+f]=S[U]}K+=h*W;Y+=h*W;a+=h*W;for(var I=b-X;I<b;I++){U+=j-r[K];Q[a]=S[U];
K+=W;a+=W}}};E.Cb.a55=function(r,Q,W,b,X){var D=W<<2,h=X<<2,S=1/(X+X+1),a=b-X-X-1,K=a<<2,Y=E.Cb.$$(X);
for(var n=0;n<W;n++){var d=n<<2,j=d,U=d+X*D,I=d+D*(b-1),f=r[d],g=r[d+1],H=r[d+2],u=r[d+3],s=(X+1)*f,_=(X+1)*g,i=(X+1)*H,M=(X+1)*u;
for(var T=0;T<X;T++){var R=d+T*D;s+=r[R];_+=r[R+1];i+=r[R+2];M+=r[R+3]}for(var T=0;T<=X;T++){s+=r[U]-f;
Q[d]=Y[s];_+=r[U+1]-g;Q[d+1]=Y[_];i+=r[U+2]-H;Q[d+2]=Y[i];M+=r[U+3]-u;Q[d+3]=Y[M];U+=D;d+=D}for(var T=0;
T<a;T++){var z=T*D;s+=r[U+z]-r[j+z];Q[d+z]=Y[s];_+=r[U+z+1]-r[j+z+1];Q[d+z+1]=Y[_];i+=r[U+z+2]-r[j+z+2];
Q[d+z+2]=Y[i];M+=r[U+z+3]-r[j+z+3];Q[d+z+3]=Y[M]}j+=a*D;U+=a*D;d+=a*D;f=r[I];g=r[I+1];H=r[I+2];u=r[I+3];
for(var T=b-X;T<b;T++){s+=f-r[j];Q[d]=Y[s];_+=g-r[j+1];Q[d+1]=Y[_];i+=H-r[j+2];Q[d+2]=Y[i];M+=u-r[j+3];
Q[d+3]=Y[M];j+=D;d+=D}}};E.Cb.amZ=function(r,Q,W,b,X){var D=1/(X+X+1),h=b-X-X-1;for(var n=0;n<W;n++){var S=n,a=S,K=S+X*W,Y=r[S],d=r[S+W*(b-1)],j=(X+1)*Y;
for(var U=0;U<X;U++)j+=r[S+U*W];for(var U=0;U<=X;U++){j+=r[K]-Y;Q[S]=j*D;K+=W;S+=W}for(var U=0;U<h;U++){var I=U*W;
j+=r[K+I]-r[a+I];Q[S+I]=j*D}a+=h*W;K+=h*W;S+=h*W;for(var U=b-X;U<b;U++){j+=d-r[a];Q[S]=j*D;a+=W;S+=W}}};
E.e_={};E.e_.Q=function(r,Q,W,b){var X=[];for(var D=0;D<4;D++)for(var h=0;h<4;h++)X.push(r+W*h/3,Q+b*D/3);
return X};E.e_.Mz=function(r,Q){var W=r.slice(0);for(var n=0;n<4;n++)for(var b=0;b<4;b++){var X=2*(n*4+b),D=2*(b*4+(3-n));
if(Q){var h=X;X=D;D=h}W[D]=r[X];W[D+1]=r[X+1]}return W};E.e_.Pw=E.Q(0);E.e_.drawImage=function(r,Q,W,b,X,D,h){var S=!1,a=Date.now(),K=2,Y=W+2*K,d=b+2*K,j=new aV(K,K,W,b),U=j.clone(),u=50;
U.sg(K,K);var I=E.e_.Pw;if(I.length!=U.O()*4)I=E.e_.Pw=E.Q(U.O()*4);else I.fill(0);E.TU(Q,j,I,U);if(S)console.log(Date.now()-a,"copy rect");
a=Date.now();E.oL(I);if(S)console.log(Date.now()-a,"multiply alpha");a=Date.now();var f=[],g=[],H=[];
for(var s=0;s<u+1;s++)for(var _=0;_<u+1;_++){var i=_/u,M=s/u;f.push(Y*i,d*M);if(_<u&&s<u){var T=s*(u+1)+_,R=T+1,z=T+u+1,G=z+1;
g.push(T,R,z);g.push(z,R,G)}var V=E.e_.a9w(r,i,M);H.push(-V)}var y=f.slice(0);E.e_.D(r,y,new aV(K,K,W,b));
E.p.D(y,new au(1,0,0,1,-D.x,-D.y),y);if(S)console.log(Date.now()-a,"mesh built");a=Date.now();var k=D.e,B=D.n;
E.kj.Hd(I,Y,d,X,k,B,f,y,H,g);if(S)console.log(Date.now()-a,"rendered");a=Date.now();E.IQ(X);if(S)console.log(Date.now()-a,"divided");
a=Date.now()};E.e_.g_=new Array(10);E.e_.a8Y=function(r,Q){var W=200,b=0,X=0,D=1e9,h=E.e_.g_;for(var S=0;
S<W+1;S++)for(var a=0;a<W+1;a++){var K=a/W,Y=S/W;E.e_.v$(r,K,Y,h);var d=h[8]-Q.x,j=h[9]-Q.y,U=d*d+j*j;
if(U<D){D=U;b=K;X=Y}}return[b,X]};E.e_.D=function(r,Q,W){var b=W.x,X=W.y,D=1/W.e,h=1/W.n,S=E.e_.g_;for(var a=0;
a<Q.length;a+=2){var K=(Q[a]-b)*D,Y=(Q[a+1]-X)*h;E.e_.v$(r,K,Y,S);Q[a]=S[8];Q[a+1]=S[9]}};E.e_.a9w=function(r,Q,W){var b,X,D,h,S=E.e_.g_;
E.e_.asH(r,Q,W,S);b=S[8];X=S[9];E.e_.aei(r,Q,W,S);D=S[8];h=S[9];return b*h-X*D};E.e_.v$=function(r,Q,W,b){E.e_.nd(b,0,W);
E.e_.nd(b,4,Q);E.e_.yJ(r,b)};E.e_.asH=function(r,Q,W,b){E.e_.nd(b,0,W);E.e_.OA(b,4,Q);E.e_.yJ(r,b)};
E.e_.aei=function(r,Q,W,b){E.e_.OA(b,0,W);E.e_.nd(b,4,Q);E.e_.yJ(r,b)};E.e_.OA=function(r,n,Q){var W=1-Q;
r[n]=-3*(W*W);r[n+1]=3*(W*W)-6*(Q*W);r[n+2]=6*(Q*W)-3*(Q*Q);r[n+3]=3*(Q*Q)};E.e_.nd=function(r,n,Q){var W=1-Q;
r[n]=W*(W*W);r[n+1]=3*Q*(W*W);r[n+2]=3*(Q*Q)*W;r[n+3]=Q*Q*Q};E.e_.yJ=function(r,Q){var W=0,b=0,X=0,D=Q[0],h=Q[1],S=Q[2],a=Q[3],K=Q[4],Y=Q[5],d=Q[6],j=Q[7];
X=D*K;W+=r[0]*X;b+=r[1]*X;X=D*Y;W+=r[2]*X;b+=r[3]*X;X=D*d;W+=r[4]*X;b+=r[5]*X;X=D*j;W+=r[6]*X;b+=r[7]*X;
X=h*K;W+=r[8]*X;b+=r[9]*X;X=h*Y;W+=r[10]*X;b+=r[11]*X;X=h*d;W+=r[12]*X;b+=r[13]*X;X=h*j;W+=r[14]*X;b+=r[15]*X;
X=S*K;W+=r[16]*X;b+=r[17]*X;X=S*Y;W+=r[18]*X;b+=r[19]*X;X=S*d;W+=r[20]*X;b+=r[21]*X;X=S*j;W+=r[22]*X;
b+=r[23]*X;X=a*K;W+=r[24]*X;b+=r[25]*X;X=a*Y;W+=r[26]*X;b+=r[27]*X;X=a*d;W+=r[28]*X;b+=r[29]*X;X=a*j;
W+=r[30]*X;b+=r[31]*X;Q[8]=W;Q[9]=b};E.Ph={};E.Ph.ahx=function(r,Q,W){var b=Date.now(),X=new ArrayBuffer(Q*W*16),D=E.Ph.abq(r,Q,W,X),h=E.Ph.at1(Q,W,X);
return{H9:h,qC:D}};E.Ph.aj1=function(r,Q,W){var b=Math.round(r.length/8),X=new Uint32Array(b),D=new Uint8Array(b),h=new Uint32Array(b);
E.tl(X,4294967295,0);X[W]=0;var S=new ep(b);S.push(W,X[W]);var a={H9:r,qC:Q,HM:X,Mn:D,XL:h,HN:S,ags:W};
return a};E.Ph.zz=function(r,Q){var W=r.H9,b=r.qC,X=r.HM,D=r.Mn,h=r.XL,S=r.HN;while(!S.WB()&&(Q==null||D[Q]==0)){var a=S.pop();
D[a]=1;for(var n=0;n<8;n++){var K=W[8*a+n],Y=a+K;if(K==0||D[Y])continue;var d=X[a]+b[8*a+n];if(S.contains(Y)&&d<X[Y])S.remove(Y,X[Y]);
if(!S.contains(Y)){X[Y]=d;h[Y]=a;S.push(Y,X[Y])}}}};function ep(r){this.BB=new Uint32Array(r);this.list=[];
this.YD=0;this.ER=4294967295}ep.prototype.WB=function(){return this.YD==0};ep.prototype.push=function(r,Q){var W=this.list;
if(W[Q]==null)W[Q]=[];W[Q].push(r);this.YD++;this.BB[r]=W[Q].length-1+1;this.ER=Math.min(this.ER,Q)};
ep.prototype.pop=function(){this.YD--;var r=this.list,Q=this.ER,W=r[Q].pop();if(r[Q].length==0)r[Q]=null;
this.eR();this.BB[W]=0;return W};ep.prototype.contains=function(r){return this.BB[r]!=0};ep.prototype.remove=function(r,Q){this.YD--;
var W=this.list,n=this.BB[r]-1;if(n==W[Q].length-1)W[Q].pop();else{var b=W[Q].pop();W[Q][n]=b;this.BB[b]=n+1}if(W[Q].length==0)W[Q]=null;
this.BB[r]=0;this.eR()};ep.prototype.eR=function(){if(this.YD==0){this.ER=4294967295;return}var r=this.ER,Q=this.list;
while(Q[r]==null)r++;this.ER=r};E.Ph.aoq=function(r,Q,W,b){var X=new Int16Array(b);for(var D=0;D<W;D++)for(var h=0;
h<Q;h++){var n=D*Q+h,S=0;if(1<h&&h<Q-2&&1<D&&D<W-2){S+=r[n-Q-Q];S+=r[n-Q-1]+2*r[n-Q]+r[n-Q+1];S+=r[n-2]+2*r[n-1]-16*r[n]+2*r[n+1]+r[n+2];
S+=r[n+Q-1]+2*r[n+Q]+r[n+Q+1];S+=r[n+Q+Q]}else S=-16*r[n];X[n]=S}return X};E.Ph.a5q=function(r,Q,W,b){if(b==null)b=128;
var X=new Uint8Array(Q*W);for(var D=1;D<W-1;D++)for(var h=1;h<Q-1;h++){var n=D*Q+h;X[n]=E.Ph.aoa(r[n],r[n-1],r[n+1],r[n-Q],r[n+Q],b)}return X};
E.Ph.aoa=function(r,Q,W,b,X,D){var h=Math.abs(r);return r*Q<0&&h<Math.abs(Q)&&Math.abs(Q-r)>D||r*W<0&&h<Math.abs(W)&&Math.abs(W-r)>D||r*b<0&&h<Math.abs(b)&&Math.abs(b-r)>D||r*X<0&&h<Math.abs(X)&&Math.abs(X-r)>D?1:0};
E.Ph.atn=function(r,Q,W,b){var X=new Float32Array(b),D=0;new Uint32Array(b).fill(0);for(var h=0;h<W;
h++)for(var S=0;S<Q;S++){var a=0,K=0,n=h*Q+S,Y=n*3;if(0<S&&S<Q-1)a=r[n+1]-r[n-1];if(0<h&&h<W-1)K=r[n+Q]-r[n-Q];
var d=X[Y+2]=Math.sqrt(a*a+K*K);if(d!=0){var j=1/d;X[Y]=a*j;X[Y+1]=K*j}if(d>D)D=d}var U=Q*W,I=D==0?0:1/D;
for(var n=0;n<U;n++)X[n*3+2]=1-X[n*3+2]*I;return X};E.Ph.acD=function(r,Q,W){return W[~~((.5+.5*r)*255)]+W[~~((.5+.5*Q)*255)]};
E.Ph.abq=function(r,Q,W,b){var X=Date.now(),D=E.Ph.aoq(r,Q,W,b),h=E.Ph.a5q(D,Q,W),S=E.Ph.atn(r,Q,W,b),a=new Float32Array(256);
for(var n=0;n<256;n++)a[n]=Math.acos(-1+2*n/255)*(.95/Math.PI);var K=[-1,0,1,1,1,0,-1,-1],Y=[-1,-1,-1,0,1,1,1,0];
for(var n=0;n<8;n++){var d=1/Math.sqrt(K[n]*K[n]+Y[n]*Y[n]);K[n]*=d;Y[n]*=d}var j=[K[0],Y[0],K[1],Y[1],K[2],Y[2],K[3],Y[3]],U=[-Q-1,-Q,-Q+1,1],I=new Uint8Array(Q*W*8);
new Uint32Array(I.buffer).fill(4294967295);var f=Q*W;for(var g=1;g<W-1;g++)for(var H=1;H<Q-1;H++){var u=g*Q+H,s=1-h[u],_=S[u*3+2],i=S[3*u+1],M=-S[3*u];
for(var T=0;T<4;T++){var R=u+U[T];E.Ph.a4P(u,R,T,I,h,S,s,_,i,M,j,a)}}return I};E.Ph.a4P=function(r,Q,W,b,X,D,h,S,a,K,Y,d){var j=1-X[Q],U=(W&1)==0?1:Math.SQRT1_2,I=D[Q*3+2]*U,f=D[3*Q+1],g=-D[3*Q],H=S*U,u=Y[W+W],s=Y[W+W+1],_=a*u+K*s,i=f*u+g*s;
if(_+i<0){_=-_;i=-i}var M=E.Ph.acD(_,i,d);b[(r<<3)+W]=E.Ph.ec(j,M,I);b[(Q<<3)+W+4]=E.Ph.ec(h,M,H)};E.Ph.ec=function(r,Q,W){return 1+~~(.5+20*(.43*r+.43*Q+.14*W))};
E.Ph.at1=function(r,Q,W){var b=new Int16Array(W),X=b,n=0,D=0;new Uint32Array(W).fill(0);for(var h=0;
h<Q;h++)for(var S=0;S<r;S++){if(h>0&&S>0)X[D+0]=-r-1;if(h>0)X[D+1]=-r;if(h>0&&S<r-1)X[D+2]=-r+1;if(S<r-1)X[D+3]=1;
if(h<Q-1&&S<r-1)X[D+4]=r+1;if(h<Q-1)X[D+5]=r;if(h<Q-1&&S>0)X[D+6]=r-1;if(S>0)X[D+7]=-1;n++;D+=8}return b};
E.Nm={};E.Nm.N8=function(r){var Q=r.slice(0),W=0;for(var n=0;n<r.length;n++)W+=r[n];for(var n=0;n<r.length;
n++)Q[n]/=W;return Q};E.Nm.O2=[E.Nm.N8([1,2,1,2,16,2,1,2,1]),E.Nm.N8([1,2,1,2,4,2,1,2,1]),E.Nm.N8([0,-1,0,-1,8,-1,0,-1,0]),E.Nm.N8([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
E.Nm.mT=function(r,Q,W,b,X,D,h,S){if(h==null)h=!1;if(S==null)S=!1;var a=Math.floor(Math.sqrt(X.length)),K=a-1>>>1,Y=new Uint32Array(r.buffer),Q=new Uint8ClampedArray(Q.buffer);
for(var n=0;n<b;n++)for(var d=0;d<W;d++){var j=0,U=0,I=0,f=0;for(var g=0;g<a;g++)for(var H=0;H<a;H++){var u=X[g*a+H];
if(u==0)continue;var s=d-K+H,_=n-K+g;if(s<0)s=0;else if(s>W-1)s=W-1;if(_<0)_=0;else if(_>b-1)_=b-1;if(S&&Y[_*W+s]>>>24==0){_=n;
s=d}var i=Y[_*W+s];j+=(i&255)*u;U+=(i>>>8&255)*u;I+=(i>>>16&255)*u;f+=(i>>>24&255)*u}if(h){if(j<0)j=-j;
if(U<0)U=-U;if(I<0)I=-I;if(f<0)f=-f}if(S){j=Math.max(0,Math.min(255,j));U=Math.max(0,Math.min(255,U));
I=Math.max(0,Math.min(255,I));f=Math.max(0,Math.min(255,f))}var M=n*W+d<<2;Q[M]=~~(.5+j);Q[M+1]=~~(.5+U);
Q[M+2]=~~(.5+I);Q[M+3]=255-D&Q[M+3]|D&~~(.5+f)}};E.Nm.y5=function(r,Q,W,b){var X=r.length,D=new Uint8Array(X);
E.Nm.mT(r,Q,W,b,E.Nm.O2[4],0,!0);E.Nm.mT(r,D,W,b,E.Nm.O2[5],0,!0);for(var n=0;n<X;n+=4){var h=Q[n],S=Q[n+1],a=Q[n+2],K=Q[n+3],Y=D[n],d=D[n+1],j=D[n+2],U=D[n+3];
Q[n]=255-Math.max(0,Math.min(255,Math.sqrt(h*h+Y*Y)));Q[n+1]=255-Math.max(0,Math.min(255,Math.sqrt(S*S+d*d)));
Q[n+2]=255-Math.max(0,Math.min(255,Math.sqrt(a*a+j*j)))}};E.Nm.d1=function(r,Q,W,b){var X=r.length,D=new Uint8Array(X);
E.Nm.Af(r,Q,W,b,E.Nm.O2[4],!0);E.Nm.Af(r,D,W,b,E.Nm.O2[5],!0);for(var n=0;n<X;n++){var h=Q[n],S=D[n];
Q[n]=255-Math.max(0,Math.min(255,Math.sqrt(h*h+S*S)))}};E.Nm.Af=function(r,Q,W,b,X,D){Q=new Uint8ClampedArray(Q.buffer);
var h=[-W-1,-W,-W+1,-1,0,1,W-1,W,W+1],S=b-1,a=W-1;for(var n=1;n<S;n++)for(var K=1;K<a;K++){var Y=n*W+K,d=E.Nm.ET(r,Y,W,X);
if(D){if(d<0)d=-d}Q[Y]=~~(d+.5)}};E.Nm.ET=function(r,Q,W,b){return r[Q-W-1]*b[0]+r[Q-W]*b[1]+r[Q-W+1]*b[2]+r[Q-1]*b[3]+r[Q]*b[4]+r[Q+1]*b[5]+r[Q+W-1]*b[6]+r[Q+W]*b[7]+r[Q+W+1]*b[8]};
E.Nm.m$=function(r,Q,W,b,X){var D=[-W-1,-W,-W+1,-1,0,1,W-1,W,W+1],h=b-1,S=W-1;for(var n=1;n<h;n++)for(var a=1;
a<S;a++){var K=n*W+a;Q[K]=E.Nm.aer(r,K,W,X)}};E.Nm.aer=function(r,Q,W,b){return r[Q-W-1]*b[0]+r[Q-W]*b[1]+r[Q-W+1]*b[2]+r[Q-1]*b[3]+r[Q]*b[4]+r[Q+1]*b[5]+r[Q+W-1]*b[6]+r[Q+W]*b[7]+r[Q+W+1]*b[8]};
E.a0={};E.a0.Cn=function(){function r(h,S,a,K,Y,d,j){if(Y==0){S.set(h);return}var U=E.Q(a*K),I=E.Q(a*K);
if(E.vR(h)){Q(h,S,a,K,Y,d,j);var f=[E.a0.BS,E.a0.lH],g=f.indexOf(d),H=g!=-1?f[1-g]:d;E.TX(h,U,3);E.a0.oi(U,I,a,K,Y,H,j);
E.nV(I,S,3)}else{for(var n=0;n<3;n++){E.TX(h,U,n);E.a0.oi(U,I,a,K,Y,d,j);E.nV(I,S,n)}}}function Q(h,S,a,K,Y,d,j){var U=0,I=new ArrayBuffer(512*4*3),f=[new Int32Array(I,0),new Int32Array(I,2048),new Int32Array(I,2*2048)],g=1+2*Math.round(Math.sqrt(Y)),H=g>>>1,u=new Array(g),s=new Array(g);
for(var n=0;n<g;n++){var I=new ArrayBuffer(512*4*3);u[n]=[new Int32Array(I,0),new Int32Array(I,2048),new Int32Array(I,2*2048)];
s[n]=u[n][0]}var _=d[0],i=d[1],M=f[0];for(var T=0;T<a;T++)if(T<Y||T>a-Y-g-1){M.fill(0);var R=Math.max(T-Y,0),z=Math.min(a,T+Y+1),G=z-R;
for(var V=0;V<Y;V++)b(M,h,V*a+R,V*a+z,1);for(var V=0;V<K;V++){var y=V-Y-1,k=V+Y;if(k<K)b(M,h,k*a+R,k*a+z,1);
if(y>=0)b(M,h,y*a+R,y*a+z,-1);var B=V*a+T<<2;U=M[300];if(U!=0)for(var n=0;n<3;n++)S[B+n]=_(f[n],h[B+n],U,j)}}else{for(var n=0;
n<g;n++)s[n].fill(0);var R=T-Y+H,z=T+Y+1+H;for(var V=0;V<Y;V++)W(s,h,V*a+R,V*a+z,1,H);for(var V=0;V<K;
V++){var y=V-Y-1,k=V+Y;if(y>=0)W(s,h,y*a+R,y*a+z,-1,H);if(k<K)W(s,h,k*a+R,k*a+z,1,H);var v=u[H];U=v[0][300];
for(var n=0;n<H;n++){var l=H-1-n,F=H+1+n,L=u[l],Z=u[F],t=U+L[0][300],A=U+Z[0][300],o=V*a+T+l<<2,O=V*a+T+F<<2;
if(t!=0)for(var x=0;x<3;x++)S[o+x]=i(v[x],L[x],h[o+x],t,j);if(A!=0)for(var x=0;x<3;x++)S[O+x]=i(v[x],Z[x],h[O+x],A,j)}var B=V*a+T+H<<2;
if(U!=0)for(var x=0;x<3;x++)S[B+x]=_(v[x],h[B+x],U,j)}T+=g-1}}function W(h,S,a,K,Y,d){var j=X,U=a<<2,I=K<<2;
j(h[d-1],S,a-1<<2,Y);j(h[d-1],S,K-1<<2,-Y);j(h[d+1],S,K<<2,Y);j(h[d+1],S,a<<2,-Y);for(var n=1;n<d;n++){var f=h[d-n-1],g=h[d+n+1];
for(var H=0;H<=n;H++){var u=H<<2;j(f,S,a-1-H<<2,Y);j(f,S,K-1-H<<2,-Y);j(g,S,K+H<<2,Y);j(g,S,a+H<<2,-Y)}}b(h[d],S,a,K,Y)}function b(h,S,n,a,K){var Y=n<<2,d=a<<2;
while(Y<d){X(h,S,Y,K);Y+=4}}function X(h,S,a,K){var Y=K*S[a+3];h[300]+=Y;D(h,S[a],0,Y);D(h,S[a+1],512,Y);
D(h,S[a+2],1024,Y)}function D(h,S,a,K){h[a|S]+=K;h[a|256|S>>>4]+=K}return r}();E.a0.oi=function(){function r(d,j,U,I,f,g,H){if(f==0){j.set(d);
return}if(f<=80)Q(d,j,U,I,f,g,H);else D(d,j,U,I,f,g,H)}function Q(d,j,U,I,f,g,H){var u=0,s=new Int32Array(512),_=1+2*Math.round(Math.sqrt(f)),i=_>>>1,M=new Array(_);
for(var n=0;n<_;n++)M[n]=new Int32Array(512);var T=g[0],R=g[1];for(var z=0;z<U;z++)if(z<f||z>U-f-_-1){s.fill(0);
u=0;var G=Math.max(z-f,0),V=Math.min(U,z+f+1),y=V-G;for(var k=0;k<f;k++){u+=y;b(s,d,k*U+G,k*U+V,1)}for(var k=0;
k<I;k++){var B=k-f-1,v=k+f;if(B>=0){u-=y;b(s,d,B*U+G,B*U+V,-1)}if(v<I){u+=y;b(s,d,v*U+G,v*U+V,1)}var l=T(s,d[k*U+z],u,H);
j[k*U+z]=l}}else{for(var n=0;n<_;n++)M[n].fill(0);u=0;var G=z-f+i,V=z+f+1+i,y=V-G;for(var k=0;k<f;k++){u+=y;
W(M,d,k*U+G,k*U+V,1,i)}for(var k=0;k<I;k++){var B=k-f-1,v=k+f;if(B>=0){u-=y;W(M,d,B*U+G,B*U+V,-1,i)}if(v<I){u+=y;
W(M,d,v*U+G,v*U+V,1,i)}for(var n=0;n<i;n++){var F=i-1-n,L=i+1+n;j[k*U+z+F]=R(M[i],M[F],d[k*U+z+F],u,H);
j[k*U+z+L]=R(M[i],M[L],d[k*U+z+L],u,H)}j[k*U+z+i]=T(M[i],d[k*U+z+i],u,H)}z+=_-1}}function W(d,j,U,I,f,g){var H=X;
H(d[g-1],j[U-1],0,f);H(d[g-1],j[I-1],0,-f);H(d[g+1],j[I],0,f);H(d[g+1],j[U],0,-f);for(var n=1;n<g;n++){var u=d[g-n-1],s=d[g+n+1];
for(var _=0;_<=n;_++){H(u,j[U-1-_],0,f);H(u,j[I-1-_],0,-f);H(s,j[I+_],0,f);H(s,j[U+_],0,-f)}}b(d[g],j,U,I,f)}function b(d,j,n,U,I){while(n<U)X(d,j[n++],0,I)}function X(d,j,U,I){d[U|j]+=I;
d[U|256|j>>>4]+=I}function D(d,j,U,I,f,g,H){var u=0,s=new Int32Array(512),_=new Int32Array(1*U),i=new Int32Array(512*U),M=Math.min(f,U),T=Math.min(f,I),R=g[0];
for(var z=0;z<T;z++)h(i,_,d,U,z,1);for(var z=0;z<I;z++){if(z+f<I)h(i,_,d,U,z+f,1);if(z-f-1>=0)h(i,_,d,U,z-f-1,-1);
s.fill(0);u=0;for(var G=0;G<M;G++){u+=_[G];S(s,i,G)}for(var G=0;G<U;G++){var V=G-f-1,y=G+f;if(V>=0&&_[V]!=0){u-=_[V];
a(s,i,V)}if(y<U&&_[y]!=0){u+=_[y];S(s,i,y)}var k=u==0?0:R(s,d[z*U+G],u,H);j[z*U+G]=k}}}function h(d,j,U,I,f,g){var n=f*I;
for(var H=0;H<I;H++){X(d,U[n+H],H<<9,g);j[H]+=g}}function S(d,j,U){for(var n=0;n<16;n++){var I=j[U<<9|256|n];
if(I==0)continue;d[256|n]+=I;var f=n<<4,g=U<<9|f;K(d,j,f,g);K(d,j,f+4,g+4);K(d,j,f+8,g+8);K(d,j,f+12,g+12)}}function a(d,j,U){for(var n=0;
n<16;n++){var I=j[U<<9|256|n];if(I==0)continue;d[256|n]-=I;var f=n<<4,g=U<<9|f;Y(d,j,f,g);Y(d,j,f+4,g+4);
Y(d,j,f+8,g+8);Y(d,j,f+12,g+12)}}function K(d,j,U,I){d[U]+=j[I];d[U+1]+=j[I+1];d[U+2]+=j[I+2];d[U+3]+=j[I+3]}function Y(d,j,U,I){d[U]-=j[I];
d[U+1]-=j[I+1];d[U+2]-=j[I+2];d[U+3]-=j[I+3]}return r}();E.a0.lH=[function(r,Q,W,b){var n=15;while(r[256|n]==0&&n>0)n--;
n=(n<<4)+15;while(r[n]==0&&n>0)n--;return n},function(r,Q,W,b,X){var n=15;while(r[256|n]+Q[256|n]==0&&n>0)n--;
n=(n<<4)+15;while(r[n]+Q[n]==0&&n>0)n--;return n}];E.a0.BS=[function(r,Q,W,b){var n=0;while(r[256|n]==0&&n<15)n++;
n=n<<4;while(r[n]==0&&n<255)n++;return n},function(r,Q,W,b,X){var n=0;while(r[256|n]+Q[256|n]==0&&n<15)n++;
n=n<<4;while(r[n]+Q[n]==0&&n<255)n++;return n}];E.a0.Ys=.5;E.a0.ms=[function(r,Q,W,b){var X=~~(.5+E.a0.Ys*W),D=0,n=256;
while(D+r[n]<X)D+=r[n++];n=n-256<<4;while(D<X)D+=r[n++];return n-1},function(r,Q,W,b,X){var D=~~(.5+E.a0.Ys*b),h=0,n=256;
while(h+r[n]+Q[n]<D){h+=r[n]+Q[n];n++}n=n-256<<4;while(h<D){h+=r[n]+Q[n];n++}return n-1}];E.a0.tx=[function(r,Q,W,b){var X=b[0],D=0,h=0,n=Math.max(0,Q-X),S=Math.min(256,Q+X+1);
while(n<S){var a=r[n];D+=n*a;h+=a;n++}return h==0?0:D/h},function(r,Q,W,b,X){var D=X[0],h=0,S=0,n=Math.max(0,W-D),a=Math.min(256,W+D+1);
while(n<a){var K=r[n]+Q[n];h+=n*K;S+=K;n++}return S==0?0:h/S}];E.K={};E.K.sB=function(r){var Q=m.EA.JS(r.Trnf),W=r.Sz.v,b=E.K.Om(Q,new aV(0,0,W.Wdth.v,W.Hght.v));
return E.K.JT(b)};E.K.Om=function(r,Q){var W=r[0],b=r[1],X=r[2],D=r[3],h=r[6],S=r[7],a=r[4],K=r[5],Y=0,d=0,j=1,U=0,I=0,f=1,g=1,H=1;
if(Q){Y=Q.x;d=Q.y;j=Q.x+Q.e;U=Q.y;I=Q.x;f=Q.y+Q.n;g=Q.x+Q.e;H=Q.y+Q.n}return E.K.KM(r,[Y,d,j,U,g,H,I,f])};
E.K.bB=function(r){function Q(X,D){for(var n=0;n<D.length;n+=2)if(!W(X,D[n],D[n+1]))return!1;return!0}function W(X,D,h){return X[2*D]==X[2*h]&&X[2*D+1]==X[2*h+1]}var b=0;
if(Q(r,[0,1,2,3]))b+=1;if(Q(r,[0,3,1,2]))b+=2;return b};E.K.KM=function(r,Q){function W(l,n,F){var k=l[n*2]-l[F*2],B=l[n*2+1]-l[F*2+1];
return Math.sqrt(k*k+B*B)}var b=r[0],X=r[1],D=r[2],h=r[3],S=r[6],a=r[7],K=r[4],Y=r[5],d=Q[0],j=Q[1],U=Q[2],I=Q[3],f=Q[6],g=Q[7],H=Q[4],u=Q[5],s=[[d,j,1,0,0,0,-d*b,-j*b,b],[0,0,0,d,j,1,-d*X,-j*X,X],[U,I,1,0,0,0,-U*D,-I*D,D],[0,0,0,U,I,1,-U*h,-I*h,h],[f,g,1,0,0,0,-f*S,-g*S,S],[0,0,0,f,g,1,-f*a,-g*a,a],[H,u,1,0,0,0,-H*K,-u*K,K],[0,0,0,H,u,1,-H*Y,-u*Y,Y]],_=[0,0,0,0,0,0,0,0],i=E.Le.nw(s,_);
if(i!=0){_=[0,0,0,0,0,0,0,0];var M=E.K.bB(r),T=E.K.bB(Q);if(M==T&&M!=0){var R=M==1,z=R?3:1,G=W(r,0,z),V=W(Q,0,z),y=V/G,k=r[2*z]-r[0],B=r[2*z+1]-r[1],v=new au;
v.translate(-b,-X);v.rotate(Math.atan2(B,k)-(R?Math.PI/2:0));if(R)v.scale(1,y);else v.scale(y,1);v.translate(d,j);
v.j4();_=E.K.LJ(v)}}return _};E.K.GI=function(r){return Math.abs(r[6])<1e-10&&Math.abs(r[7])<1e-10};
E.K.JT=function(r){return new au(r[0],r[3],r[1],r[4],r[2],r[5])};E.K.LJ=function(r){return[r.mu,r.th,r.rn,r.k,r.HR,r.NQ,0,0]};
E.K.D=function(r,Q){var W=new Float64Array(2);for(var b=0;b<Q.length;b+=2){var X=Q[b],D=Q[b+1];E.K.nv(X,D,r,W);
Q[b]=W[0];Q[b+1]=W[1]}};E.K.nv=function(r,Q,W,b){var X=1/(W[6]*r+W[7]*Q+1);b[0]=(W[0]*r+W[1]*Q+W[2])*X;
b[1]=(W[3]*r+W[4]*Q+W[5])*X};E.K.a8_=function(r,Q){var W=new Float64Array(2);E.K.nv(Q.x,Q.y,r,W);return new cp(W[0],W[1])};
E.K.ob=function(r,Q,W,b){r=new Uint32Array(r.buffer);Q=new Uint32Array(Q.buffer);for(var X=0;X<b;X++){for(var D=0;
D<W;D++){Q[D*b+X]=r[X*W+D]}}};E.K.an=function(r,Q,W,b){r=new Uint32Array(r.buffer);Q=new Uint32Array(Q.buffer);
for(var X=0;X<b;X++){for(var D=0;D<W;D++){Q[X*W+D]=r[X*W+W-1-D]}}};E.K.arJ=function(r,Q,W,b){r=new Uint32Array(r.buffer);
Q=new Uint32Array(Q.buffer);for(var X=0;X<b;X++){for(var D=0;D<W;D++){Q[X*W+D]=r[(b-1-X)*W+D]}}};E.K.nF=function(r){return Math.abs(r[6])<1e-9&&Math.abs(r[7])<1e-9};
E.K.En=function(r){return Math.abs(r[0])<1e-9&&Math.abs(r[4])<1e-9||Math.abs(r[1])<1e-9&&Math.abs(r[3])<1e-9};
E.K.drawImage=function(r,Q,W,b,X,D,h,S,a){if(h==null)h=!1;if(S==null)S=!1;var K=E.K.j4(r),Y=!0,d=0;for(var n=0;
n<8;n++){var j=Math.round(r[n]);if(n!=2&&n!=5)d+=Math.abs(j);if(Math.abs(j-r[n])>1e-9)Y=!1}var U=E.K.nF(r),I=E.K.En(r)&&U,f=I?1:0;
if(h||Y&&d==W+b&&U){E.K.a62(K,Q,W,b,X,D,S,U,a);return}var g=D.e,H=D.n,u=new Float64Array(2);X=new Uint32Array(X.buffer);
Q=new Uint32Array(Q.buffer);for(var s=0;s<H;s++)for(var _=0;_<g;_++){var i=s*g+_,M,T,R,z,t=0,A=0,o=0,O=0;
X[i]=0;var G=_+D.x+.5,V=s+D.y+.5;M=G;T=V;R=K;var y=R[0]*M+R[1]*T+R[2],k=R[3]*M+R[4]*T+R[5];if(!U){z=1/(R[6]*M+R[7]*T+1);
y*=z;k*=z}var B=y*W,v=k*b,l=B<-1||B>W+1||v<-1||v>b+1;if(S){B=Math.max(.001,Math.min(W-1,B));v=Math.max(.001,Math.min(b-1,v))}else if(l)continue;
var F=E.K.alX(r,W,b,G,V,y,k),L=Math.round(F*2.3);if(F<1.1){E.K.rC(B,v,Q,W,b,X,i,f);continue}if(!S&&(B<.6||B>W-.6||v<.6||v>b-.6)){L=Math.max(L,5)}if(S&&l)L=1;
var Z=1/L,x=D.x+_,C=D.y+s;R=K;for(var n=0;n<L;n++)for(var J=0;J<L;J++){M=x+(n+.5)*Z;T=C+(J+.5)*Z;var B=R[0]*M+R[1]*T+R[2],v=R[3]*M+R[4]*T+R[5];
if(!U){z=1/(R[6]*M+R[7]*T+1);B*=z;v*=z}if(S){B=Math.max(.001,Math.min(.999,B));v=Math.max(.001,Math.min(.999,v))}else if(B<0||B>=1||v<0||v>=1)continue;
B=Math.floor(B*W);v=Math.floor(v*b);var q=v*W+B,fd=Q[q],w=fd>>>24;t+=(fd&255)*w;A+=(fd>>>8&255)*w;o+=(fd>>>16&255)*w;
O+=w}if(O!=0){var P=1/O;t=~~(t*P+.5);A=~~(A*P+.5);o=~~(o*P+.5);O=~~(O*Z*Z+.5);X[i]=O<<24|o<<16|A<<8|t}}};
E.K.alX=function(r,Q,W,b,X,D,h){var S=E.K.vr(r,b,X,D+1/Q,h),a=E.K.vr(r,b,X,D,h+1/W);return 1/Math.sqrt(Math.max(S,a))};
E.K.vr=function(r,Q,W,b,X){var D=1/(r[6]*b+r[7]*X+1),h=(r[0]*b+r[1]*X+r[2])*D-Q,S=(r[3]*b+r[4]*X+r[5])*D-W;
return h*h+S*S};E.K.a62=function(r,Q,W,b,X,D,h,S,a){if(S&&!h&&D.O()>4e6&&a){E.K.at6(r,Q,W,b,X,D,h,S,a);
return}var K=D.x+D.e,Y=D.y+D.n,d=0,j=new Uint32Array(X.buffer),U=new Uint32Array(Q.buffer),I=r[0]*W,f=r[1]*W,g=r[2]*W,H=r[3]*b,u=r[4]*b,s=r[5]*b,_=r[6],i=r[7];
if(S&&!h)for(var M=D.y+.5;M<Y;M++)for(var T=D.x+.5;T<K;T++){var R=I*T+f*M+g,z=H*T+u*M+s;if(0<R&&R<W&&0<z&&z<b){var G=~~z*W+~~R;
j[d]=U[G]}else j[d]=0;d++}else for(var M=D.y+.5;M<Y;M++)for(var T=D.x+.5;T<K;T++){var V=1/(_*T+i*M+1),R=(I*T+f*M+g)*V,z=(H*T+u*M+s)*V;
if(h){R=Math.max(.001,Math.min(W-1,R));z=Math.max(.001,Math.min(b-1,z))}if(0<R&&R<W&&0<z&&z<b){var G=Math.floor(z)*W+Math.floor(R);
j[d]=U[G]}else j[d]=0;d++}};E.K.at6=function(r,Q,W,b,X,D,h,S,a){var K=new Uint32Array(X.buffer),Y=new Uint32Array(Q.buffer),i=0;
if(a&&(D.e&3)!=0)throw"e";var d=r[0]*W,j=r[1]*W,U=r[2]*W,I=r[3]*b,f=r[4]*b,g=r[5]*b,H=r[6],u=r[7],s=D.e,_=D.n,M=D.x+.5,T=D.y+.5,R=(s>>>2<<2)-1e-9,z=-.1+(_>>>1<<1)-1e-9,G=~~W,V=d==0?0:1/d,y=I==0?0:1/I;
for(var k=0;k<_;k++){var B=M*d+j*(k+T)+U,v=M*I+f*(k+T)+g,l=0,F=s;if(d==0){}else if(V>0){l=Math.max(l,-B*V);
F=Math.min(F,(W-B)*V)}else{F=Math.min(F,-B*V);l=Math.max(l,(W-B)*V)}if(I==0){}else if(y>0){l=Math.max(l,-v*y);
F=Math.min(F,(b-v)*y)}else{F=Math.min(F,-v*y);l=Math.max(l,(b-v)*y)}if(F<0)F=0;if(l>F)l=F;l=Math.ceil(l);
F=~~F;i=~~(k*s);for(var L=0;L<l;L++)K[i++]=0;for(var L=l;L<F;L+=4){var Z=d*L+B,t=I*L+v,A=~~t*G+~~Z;K[i++]=K[i++]=K[i++]=K[i++]=Y[A]}for(var L=F;
L<s;L++)K[i++]=0}};E.K.j4=function(r){var Q=r[4]-r[5]*r[7],W=r[2]*r[7]-r[1],b=r[1]*r[5]-r[2]*r[4],X=r[5]*r[6]-r[3],D=r[0]-r[2]*r[6],h=r[3]*r[2]-r[0]*r[5],S=r[3]*r[7]-r[4]*r[6],a=r[1]*r[6]-r[0]*r[7],K=1/(r[0]*r[4]-r[1]*r[3]);
return[Q*K,W*K,b*K,X*K,D*K,h*K,S*K,a*K]};E.K.Se=function(r,Q){var W=r[0],b=r[1],X=r[2],D=r[3],h=r[4],S=r[5],a=r[6],K=r[7],Y=Q[0],d=Q[1],j=Q[2],U=Q[3],I=Q[4],f=Q[5],g=Q[6],H=Q[7],u=[W*Y+b*U+X*g,W*d+b*I+X*H,W*j+b*f+X,D*Y+h*U+S*g,D*d+h*I+S*H,D*j+h*f+S,a*Y+K*U+g,a*d+K*I+H],s=1/(a*j+K*f+1);
for(var n=0;n<8;n++)u[n]*=s;return u};E.K.rC=function(r,Q,W,b,X,D,h,S){var a=r,K=Q,j=0,U=0,I=0,f=0;r-=.499999;
Q-=.499999;var Y=Math.floor(r),d=Math.floor(Q);if(S==0){var n=d*b+Y,g=Y>=0&&Y<b,H=Y+1>=0&&Y+1<b,u=d>=0&&d<X,s=d+1>=0&&d+1<X;
if(g&&u)j=W[n];if(H&&u)U=W[n+1];if(g&&s)I=W[n+b];if(H&&s)f=W[n+b+1]}else if(S==1){var _=Y<0?0:Y>b-1?b-1:Y,i=Y<-1?0:Y>b-2?b-1:Y+1,M=d<0?0:d>X-1?X-1:d,T=d<-1?0:d>X-2?X-1:d+1;
j=W[M*b+_];U=W[M*b+i];I=W[T*b+_];f=W[T*b+i]}else{var _=(Y+50*b)%b,i=(Y+50*b)%b,M=(d+50*X)%X,T=(d+50*X)%X;
j=W[M*b+_];U=W[M*b+i];I=W[T*b+_];f=W[T*b+i]}var R=r-Y,z=Q-d,G=(1-z)*(1-R)*(j>>>24),V=(1-z)*R*(U>>>24),y=z*(1-R)*(I>>>24),k=z*R*(f>>>24),B=G+V+y+k,v=G*(j&255)+V*(U&255)+y*(I&255)+k*(f&255),l=G*(j>>>8&255)+V*(U>>>8&255)+y*(I>>>8&255)+k*(f>>>8&255),F=G*(j>>>16&255)+V*(U>>>16&255)+y*(I>>>16&255)+k*(f>>>16&255);
if(B==0)D[h]=0;else{var L=1/B;v=~~(v*L+.5);l=~~(l*L+.5);F=~~(F*L+.5);B=~~(B+.5);D[h]=B<<24|F<<16|l<<8|v}};
E.K.AS=function(r,Q,W,b,X,D){var h=r-.499999,S=Q-.499999,a=~~h,K=~~S,Y=h-a,d=S-K,j=(1-d)*(1-Y),U=(1-d)*Y,I=d*(1-Y),f=d*Y,g=K*b+a<<2,H=(K+1)*b+a<<2,u=j*W[g]+U*W[g+4]+I*W[H]+f*W[H+4],s=j*W[g+1]+U*W[g+5]+I*W[H+1]+f*W[H+5],_=j*W[g+2]+U*W[g+6]+I*W[H+2]+f*W[H+6],i=j*W[g+3]+U*W[g+7]+I*W[H+3]+f*W[H+7];
D[0]=u;D[1]=s;D[2]=_;D[3]=i};E.K.Km=function(r,Q,W,b,X){r-=.499999;Q-=.499999;var D=Math.floor(r),h=Math.floor(Q),S=r-D,a=Q-h,K=(1-a)*(1-S),Y=(1-a)*S,d=a*(1-S),j=a*S,U=(D+50*b)%b,I=(D+1+50*b)%b,f=(h+50*X)%X,g=(h+1+50*X)%X,H=W[f*b+U],u=W[f*b+I],s=W[g*b+U],_=W[g*b+I];
if(H==null||_==null)throw"e";return K*H+Y*u+d*s+j*_};E.K.acs=function(r,Q,W,b,X){r-=.499999;Q-=.499999;
var D=Math.floor(r),h=Math.floor(Q),S=r-D,a=Q-h,K=(1-a)*(1-S),Y=(1-a)*S,d=a*(1-S),j=a*S,U=h*b+D,I=U+b,f=W[U],g=W[U+1],H=W[I],u=W[I+1];
if(f==null||u==null){console.log(D,h,b,X);throw"e"}return K*f+Y*g+d*H+j*u};E.K._s=function(r,Q,W,b,X,D,h,S,a,K,Y,d){var j=new Uint32Array(r.buffer),U=new Uint32Array(b.buffer),I=(1+2*K)/X,f=[],g=[];
for(var H=0;H<X;H++){var u=-.25+K-H*I;f.push(Math.cos(2*Math.PI*u)*d/Y);f.push(Math.sin(2*Math.PI*u)/Y)}h*=Q;
S*=W;for(var s=0;s<D;s++){var _=Math.pow(s/D,a)*D;for(var H=0;H<X;H++){var i=h+f[H<<1]*_,M=S+f[(H<<1)+1]*_,T=~~(.5+(i<0?0:i>Q-1?Q-1:i)),R=~~(.5+(M<0?0:M>W-1?W-1:M));
U[s*X+H]=j[R*Q+T]}}};E.K.wN=function(r,Q,W,b,X,D,h,S,a,K,Y,d){var j=new Uint32Array(r.buffer),U=new Uint32Array(b.buffer),I=1/d,f=[],g=W*4,H=1/g;
for(var u=0;u<g+10;u++)f.push(Math.pow(u*H,1/a)*W*Y);h*=X;S*=D;for(var u=0;u<D;u++)for(var s=0;s<X;s++){var _=I*(s-h),i=u-S,M=1.75-Math.atan2(i,_)*(1/(2*Math.PI));
M=M-~~M;M=(M+K)*(1/(1+2*K));var T=Math.sqrt(_*_+i*i);T=f[~~(T*4)];E.K.rC(M*Q+.5,T+.5,j,Q,W,U,u*X+s,1)}};
E.K.Wn=function(r,Q,W,b,X){var D=X[0],h=X[1];for(var S=0;S<h;S++)for(var a=0;a<D;a++){var K=X[2]*a+X[3]*S+X[4],Y=X[5]*a+X[6]*S+X[7],d=S*D+a<<2,j=Y*Q+K<<2;
b[d]=r[j+0];b[d+1]=r[j+1];b[d+2]=r[j+2];b[d+3]=r[j+3]}};E.M={Yt:function(r,Q){var W=~~(.499+r*Q);return W<0?0:W>Q?Q:W},abg:function(r,Q,W,b,X,D,h,S){var a=W[0],K=W[1],Y=W[2],d=W[3],j=b.e,U=b.n,I=new Float64Array(j*4+8),f=new Float64Array(j*4+8);
for(var g=0,n=0;g<U;g++){var H=I;I=f;f=H;f.fill(0);for(var u=0;u<j;u++,n++){var s=u+X,_=g+D,i=a*s+K*_,M=Y*s+d*_,T=0,G=0;
if(S==0)T=i+.5;else if(S==1)T=2*Math.sqrt(i*i+M*M);else if(S==2)T=(Math.PI+Math.atan2(-M,-i))/(2*Math.PI);
else if(S==3)T=Math.abs(i*2);else if(S==4)T=2*(Math.abs(i)+Math.abs(M));var R=E.M.Yt(T,h)*4,z=u*4;for(var V=0;
V<4;V++){var y=Math.max(0,Math.min(254.999,Q[R+V]+I[z+4+V])),k=Math.floor(y);if(Math.random()<y-k)k++;
var B=y-k;I[z+8+V]=B*(7/16);f[z+0+V]=B*(3/16);f[z+4+V]=B*(5/16);f[z+8+V]=B*(1/16);G|=k<<V*8}r[n]=G}}},ix:[function(r,Q,W,b,X,D,h){var S=W[0],a=W[1],K=W[2],Y=W[3],d=b.e,j=b.n;
for(var U=0,n=0;U<j;U++)for(var I=0;I<d;I++,n++){var f=I+X,g=U+D,H=S*f+a*g,u=K*f+Y*g,s=H+.5;r[n]=Q[E.M.Yt(s,h)]}},function(r,Q,W,b,X,D,h){var S=W[0],a=W[1],K=W[2],Y=W[3],d=b.e,j=b.n;
for(var U=0,n=0;U<j;U++)for(var I=0;I<d;I++,n++){var f=I+X,g=U+D,H=S*f+a*g,u=K*f+Y*g,s=2*Math.sqrt(H*H+u*u);
r[n]=Q[E.M.Yt(s,h)]}},function(r,Q,W,b,X,D,h){var S=W[0],a=W[1],K=W[2],Y=W[3],d=b.e,j=b.n;for(var U=0,n=0;
U<j;U++)for(var I=0;I<d;I++,n++){var f=I+X,g=U+D,H=S*f+a*g,u=K*f+Y*g,s=(Math.PI+Math.atan2(-u,-H))/(2*Math.PI);
r[n]=Q[E.M.Yt(s,h)]}},function(r,Q,W,b,X,D,h){var S=W[0],a=W[1],K=W[2],Y=W[3],d=b.e,j=b.n;for(var U=0,n=0;
U<j;U++)for(var I=0;I<d;I++,n++){var f=I+X,g=U+D,H=S*f+a*g,u=K*f+Y*g,s=Math.abs(H*2);r[n]=Q[E.M.Yt(s,h)]}},function(r,Q,W,b,X,D,h){var S=W[0],a=W[1],K=W[2],Y=W[3],d=b.e,j=b.n;
for(var U=0,n=0;U<j;U++)for(var I=0;I<d;I++,n++){var f=I+X,g=U+D,H=S*f+a*g,u=K*f+Y*g,s=2*(Math.abs(H)+Math.abs(u));
r[n]=Q[E.M.Yt(s,h)]}}]};E.M.a4u=function(r,Q){return r+.5};E.M.a5I=function(r,Q){return 2*Math.sqrt(r*r+Q*Q)};
E.M.aeR=function(r,Q){return(Math.PI+Math.atan2(-Q,-r))/(2*Math.PI)};E.M.ayL=function(r,Q){return Math.abs(r*2)};
E.M.adP=function(r,Q){return 2*(Math.abs(r)+Math.abs(Q))};E.M.Wu=function(r,Q,W,b,X,D,h,S,a,K,Y,d){var j=r.Clrs,U=new Uint32Array(Q.buffer),I=1023,f=j?E.M.c3(r,a,K):null;
if(d&&j){var g=E.M.aqo(r,f,I+1,h);E.M.abg(U,g,b,W,W.x-X,W.y-D,I,S)}else{var H=j?E.M.$D(r,f,I+1,h):E.M.XK(r,I+1,h);
if(S<5){E.M.ix[S](U,H,b,W,W.x-X,W.y-D,I)}else{var u=new Uint8Array(H.buffer),s=W.e,_=W.n,i=Y.H8-Y.tu,M=1/i,T=Y.CE.e-W.e>>1,R=Y.CE.n-W.n>>1,z=Y.CE.e,G=-.6*M,V=(-.6+.4)*M,y=(-.6+2*.4)*M,k=(-.6+3*.4)*M;
for(var B=0,n=0;B<_;B++)for(var v=0;v<s;v++,n+=4){var l=0,F=0,L=0,Z=0,t=(B+R)*z+v+T,A=(Y.Mj[t]-Y.tu)*M,o=0;
if(A<=0||A>=1){o=(A<=0?0:I)<<2;Q[n]=u[o];Q[n+1]=u[o+1];Q[n+2]=u[o+2];Q[n+3]=u[o+3];continue}o=Math.max(0,Math.min(I-1,Math.round((A+G)*I)))<<2;
F+=u[o];L+=u[o+1];Z+=u[o+2];l+=u[o+3];o=Math.max(0,Math.min(I-1,Math.round((A+V)*I)))<<2;F+=u[o];L+=u[o+1];
Z+=u[o+2];l+=u[o+3];o=Math.max(0,Math.min(I-1,Math.round((A+y)*I)))<<2;F+=u[o];L+=u[o+1];Z+=u[o+2];l+=u[o+3];
o=Math.max(0,Math.min(I-1,Math.round((A+k)*I)))<<2;F+=u[o];L+=u[o+1];Z+=u[o+2];l+=u[o+3];Q[n]=F>>>2;
Q[n+1]=L>>>2;Q[n+2]=Z>>>2;Q[n+3]=l>>>2}}}};E.M.c3=function(r,Q,W){var b=[r.Clrs.v,r.Trns.v],X=[[],[]],D=255;
for(var h=0;h<2;h++)for(var n=0;n<b[h].length;n++){var S,a=b[h][n].v;if(h==0){var K=a.Type.v.Clry;if(K=="FrgC")S={o:Q>>16&255,W:Q>>8&255,k:Q&255};
else if(K=="BckC")S={o:W>>16&255,W:W>>8&255,k:W&255};else S=E.M.vf(a.Clr.v)}else{S=a.Opct.v.val*(255/100);
if(S<D)D=S}X[h].push([S,a.Lctn.v/4096,a.Mdpn.v/100])}X.push(D>254);return X};E.M.vf=function(r){var Q,W=r.classID;
if(W=="RGBC"){if(r.Rd)Q={o:r.Rd.v,W:r.Grn.v,k:r.Bl.v};else Q={o:r.redFloat.v*255,W:r.greenFloat.v*255,k:r.blueFloat.v*255}}else if(W=="HSBC"){Q=E.gB(r.H.v.val/360,r.Strt.v/100,r.Brgh.v/100);
Q.o*=255;Q.W*=255;Q.k*=255}else if(W=="CMYC"){var b=100-r.Cyn.v,X=100-r.Mgnt.v,D=100-r.Ylw.v,h=100-r.Blck.v,S=255*b*h*1e-4,a=255*(.2*b+.8*X)*h*1e-4,K=255*(.2*X+.8*D)*h*1e-4;
Q={o:S,W:a,k:K}}else if(W=="Grsc")Q={o:255-r.Gry.v,W:255-r.Gry.v,k:255-r.Gry.v};else if(W=="LbCl"){Q=E.BN(r.Lmnc.v,r.A.v,r.B.v)}else if(W=="BkCl")Q={o:0,W:0,k:0};
else console.log(r);if(isNaN(Q.o))Q.o=Q.W=Q.k=0;return Q};E.M.XK=function(r,Q,W){var b=new Uint32Array(Q),X=new Uint8Array(b.buffer);
b.fill(4278190080);var D=[],h=[],S=r.RndS.v,a=r.Smth.v/4096;for(var n=0;n<4;n++){D[n]=~~(r.Mnm.v[n].v*255/100);
h[n]=~~(r.Mxm.v[n].v*255/100)}var K=E.Q(Q*4),Y=E.Q(Q);for(var d=0;d<3;d++){E.N.d8(null,Q,1,K,[1+Math.round(a*a*a*60),22,S*(2+d)]);
E.TX(K,Y,0);E.nV(Y,X,d);var j=D[d],U=h[d];for(var n=0;n<Q;n++)X[4*n+d]=Math.max(j,Math.min(U,X[4*n+d]))}if(W)for(var n=0;
n<Q/2;n++){var I=b[n];b[n]=b[Q-1-n];b[Q-1-n]=I}return b};E.M.rY=function(r){return{classID:"RGBC",Rd:{t:"doub",v:r.o},Grn:{t:"doub",v:r.W},Bl:{t:"doub",v:r.k}}};
E.M.aqo=function(r,Q,W,b){var X=[],D=1/(W-0);for(var n=0;n<W;n++){var h=n*4,S=E.M.uw(r,Q,(b?W-1-n:n)*D);
X[h]=S[0];X[h+1]=S[1];X[h+2]=S[2];X[h+3]=S[3]}return X};E.M.$D=function(r,Q,W,b){var X=new Uint32Array(W),D=1/(W-0);
for(var n=0;n<W;n++)X[n]=E.M.uk(r,Q,(b?W-1-n:n)*D);return X};E.M.uw=function(r,Q,W){var b=r.Intr.v*(1/4096),X=Q[0],D=Q[1],h=X.length-1,S=D.length-1,n=-1,a=0,K=0,Y=0,d=0;
if(Q[2])a=255;else{while(n<S&&D[n+1][1]<=W)n++;if(n==-1){a=D[0][0]}else if(n==S){a=D[n][0]}else{var j=E.M.IV(D,n,W,b);
a=j*D[n][0]+(1-j)*D[n+1][0]}}n=-1;while(n<h&&X[n+1][1]<=W)n++;if(n==-1){var U=X[0][0];K=U.o;Y=U.W;d=U.k}else if(n==h){var U=X[n][0];
K=U.o;Y=U.W;d=U.k}else{var I=X[n][0],f=X[n+1][0],g=E.M.IV(X,n,W,b);K=g*I.o+(1-g)*f.o;Y=g*I.W+(1-g)*f.W;
d=g*I.k+(1-g)*f.k}return[K,Y,d,a]};E.M.uk=function(r,Q,W){var b=E.M.uw(r,Q,W),X=~~(.5+b[0]),D=~~(.5+b[1]),h=~~(.5+b[2]),S=~~(.5+b[3]);
return S<<24|h<<16|D<<8|X};E.M.IV=function(r,n,Q,W){if(r.length==2)W*=.5;var b=r[n][1],X=r[n+1][1],D=b+r[n+1][2]*(X-b),h;
if(Q<D)h=.5*(Q-b)/(D-b);else h=.5+.5*(Q-D)/(X-D);h=.5+.5*(W*Math.cos(Math.PI*h)+(1-W)*(1-2*h));return h};
E.M.eQ=function(r,Q){var W=Math.PI*r.Angl.v.val/180,b=r.Scl.v.val/100,X=r.Ofst.v,D=X.Hrzn.v.val/100,h=X.Vrtc.v.val/100,S=Math.cos(W),a=-Math.sin(W),K=.5*Q.n,Y=K*(S/a),d=Math.sqrt(K*K+Y*Y),j=.5*Q.e,U=j*(a/S),I=Math.sqrt(j*j+U*U),f=Math.min(d,I)*b,g=Q.x+Q.e/2+D*Q.e,H=Q.y+Q.n/2+h*Q.n;
return[new cp(g,H),new cp(g+S*f,H+a*f)]};E.M.xs=function(r,Q,W,b){var X=Q.x-r.x,D=-(Q.y-r.y),h=Math.sqrt(X*X+D*D),S=Math.atan2(D,X),a=Math.cos(S),K=-Math.sin(S),Y=.5*W.n,d=Y*(a/K),j=Math.sqrt(Y*Y+d*d),U=.5*W.e,I=U*(K/a),f=Math.sqrt(U*U+I*I),g=h/Math.min(j,f),H=(r.x-W.x-W.e/2)/W.e,u=(r.y-W.y-W.n/2)/W.n;
b.Angl.v.val=180*S/Math.PI;b.Scl.v.val=g*100;var s=b.Ofst.v;s.Hrzn.v.val=H*100;s.Vrtc.v.val=u*100};E.M.Bn=function(r,Q){for(var n=0;
n<r.length;n++){var W=r[n],b=Math.round(W[0]*4096),X=W[1],D=W[2],h=W[3];if(D==null)D=1;if(h==null)h=.5;
var S=E.M.rY({o:X[0]*255,W:X[1]*255,k:X[2]*255});Q.Clrs.v[n]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:b},Mdpn:{t:"long",v:Math.round(h*100)},Clr:{t:"Objc",v:S},Type:{t:"enum",v:{Clry:"UsrS"}}}};
Q.Trns.v[n]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:b},Mdpn:{t:"long",v:Math.round(h*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(D*100)}}}}}};
E.M.D0=function(r,Q,W){function b(U){return parseFloat((U/255).toFixed(3))}if(Q){r=JSON.parse(JSON.stringify(r));
for(var n=0;n<2;n++){var X=r[n==0?"Clrs":"Trns"].v;for(var D=0;D<X.length;D++)X[D].v.Lctn.v=4096-X[D].v.Lctn.v;
X.reverse()}}var h=[],S=r.Clrs.v,a=r.Trns.v,X=S;if(W!=!0)X=S.concat(a);var K=E.M.c3(r,0,0);for(var n=0;
n<X.length;n++){var Y=X[n].v,d=Y.Lctn.v/4096,j=E.M.uw(r,K,d);h.push([d,[b(j[0]),b(j[1]),b(j[2])],b(j[3])])}h.sort(function(U,I){return U[0]-I[0]});
for(var n=1;n<h.length;n++)if(h[n][0]-h[n-1][0]<.001){h.splice(n,1);n--}return h};E.ux={};E.ux.a3O=function(r,Q,W,b,X,D,h,S,a,K,Y,d){var j,U,I,f=Date.now(),g=!1,H=h,u=K,s,_,i,M,T=D*255,R=255-a*255,z=1+X*6,G=1+S*6,V=1+d*4,y=(V-1)/7,k=0,B=255-0,v,l,F,L,Z,t,A,o,O,x,C,J,q,fd=0,w=1,P,fc,p,gG,fh,fJ,cF,j_,gY,kc,el=1+Y,iN,c$=E.Q(W*b),dB=E.Q(W*b),aL=E.Q(W*b),aB=E.Q(W*b),f3=255/T,jC=255/(255-R);
for(U=0;U<b;U++){for(j=0;j<W;j++){var n=U*W+j,bc=n<<2;P=E.f_(r[bc],r[bc+1],r[bc+2]);aB[n]=P;if(P<T)c$[n]=255-P*f3;
if(P>R)dB[n]=255-(255-P)*jC}}if(g)console.log("init",Date.now()-f);f=Date.now();if(X*H>0){aL.set(c$);
E.Cb.O4(aL,c$,new aV(0,0,W,b),H)}if(S*u>0){aL.set(dB);E.Cb.O4(aL,dB,new aV(0,0,W,b),u)}if(g)console.log("blur",Date.now()-f);
f=Date.now();var iA=E.Q(256),bL=E.Q(256);for(var n=0;n<256;n++){var an=n*(1/255),dp=0;dp=(1-Math.pow(1-an,z))*255;
iA[n]=Math.max(0,Math.min(255,~~(dp+.5)));dp=Math.pow(an,G)*255;bL[n]=Math.max(0,Math.min(255,~~(dp+.5)))}var im=new Uint8ClampedArray(Q.buffer),bg=new Float32Array(32768);
for(var n=0;n<32768;n++){iN=Math.sqrt(n)*(1/128);if(el>1)iN=(1-iN)*(el-1)+1;else iN=iN*(el-1)+1;bg[n]=iN}for(U=0;
U<b;U++){for(j=0;j<W;j++){var n=U*W+j,bc=n<<2,dp=aB[n],fM=c$[n]*(1/255),eT=dB[n]*(1/255);dp=(1-fM)*dp+fM*iA[~~dp];
dp=(1-eT)*dp+eT*bL[~~dp];P=dp;var ev=r[bc],fU=r[bc+1],e8=r[bc+2];fc=-ev*.168736-fU*.331264+e8*.5;p=ev*.5-fU*.418688-e8*.081312;
iN=bg[~~(.5+fc*fc+p*p)];gG=fc*iN;fJ=p*iN;w=1-Math.min(2-(fM+eT),1);fc=w*fc+(1-w)*gG;p=w*p+(1-w)*fJ;j_=P+1.402*p;
gY=P-.34414*fc-.71414*p;kc=P+1.772*fc;im[bc]=~~(.5+j_);im[bc+1]=~~(.5+gY);im[bc+2]=~~(.5+kc)}}if(g)console.log("apply masks",Date.now()-f);
f=Date.now()};E.uY={};E.uY.Pf=function(r,Q,W,b,X){var D=!1,I=1,l=0,F=0,C=0,el=0;if(!Q.oN(X)){var h=Q.Bc(X),S=E.Q(h.O()*4);
E.TU(r,Q,S,h);r=S;Q=h}var a=E.Q(Q.O());E.L0(W,X,a,Q);E.round(a);X=X.ww(Q);var K=X.e,Y=X.n,d=K*3<Y?2:1,j=Y*3<K?2:1;
if(X.O()*(d*2+1)*(j*2+1)<Q.O()){var h=new aV(X.x-K*d,X.y-Y*d,K*(d*2+1),Y*(j*2+1)).ww(Q),S=E.Q(h.O()*4);
E.TU(r,Q,S,h);var U=E.Q(h.O());E.L0(a,Q,U,h);Q=h;r=S;a=U}while((Q.e+Q.n)/2/I>400)I++;var f=r,g=Q,H=a,u=Math.floor(g.e/I),s=Math.floor(g.n/I);
r=E.Q(u*s*4);E.scale.mD(f,g.e,g.n,r,u,s,1/I);a=E.Q(u*s);E.scale.Wn(H,g.e,g.n,a,u,s,1/I);E.round(a,1);
var _=E.ub(a,new aV(0,0,u,s));if(_.WB())return 1;var T=Math.round((_.e+_.n)/2/15),R=Date.now(),z=E.Q(u*s*4);
E.ajh(r,z);var G=Int16Array,V=new G(u*s*24),y=new G(64),k=new G(64),B=new G(64),v=new G(64);for(var L=3;
L<s-4;L++)for(var Z=3;Z<u-4;Z++){var t=L*u+Z;if(a[t]==255)continue;if(E.uY.a8R(z,a,Z,L,u,s,y,k,B)!=0)continue;
E.uY.Jm(y,v);V[l]=Z;V[l+1]=L;E.uY.qr(y,V,l+4,12);l+=16;E.uY.Jm(k,v);E.uY.qr(k,V,l,4);l+=4;E.uY.Jm(B,v);
E.uY.qr(B,V,l,4);l+=4;var A=V[l-24+5],o=V[l-24+6];V[l-24+5]=V[l-24+20];V[l-24+6]=V[l-24+16];V[l-24+16]=A;
V[l-24+20]=o;F++}if(F==0)return 2;if(D)console.log(Date.now()-R,"FWHT computed");R=Date.now();var O=[];
E.uY.o3(0,F-1,O,V,new G(2*24));if(D)console.log(Date.now()-R,"KD tree computed");R=Date.now();var x=new Float32Array(u*s*4);
for(var n=0;n<F;n++){var J=n,q=E.uY.afY(J,V,O,T);if(q==-1)continue;var fd=J*24,w=q*24,P=V[fd],fc=V[fd+1],p=V[w],gG=V[w+1];
C+=E.uY.getError(w,fd,V,1e99);var fh=p-P,fJ=gG-fc;x[(s+fJ)*2*u+(u+fh)]+=1}if(D)console.log(Date.now()-R,"NN found");
R=Date.now();var cF=[],j_=1/(2*u);for(var n=0;n<x.length;n++){if(x[n]>0){var L=Math.floor(n*j_),Z=n-L*2*u;
cF.push({x:Z-u,y:L-s,h:x[n],op:-1})}}cF.sort(function(fM,eT){return eT.h-fM.h});var gY=new Int32Array(u*s),kc=[];
for(var n=0;n<u*s;n++){if(a[n]==255){gY[n]=el;kc.push(n%u,Math.floor(n/u));el++}else if(r[(n<<2)+3]<200){gY[n]=-2}else{gY[n]=-1}}var iN=E.uY.acz(u,s,cF,gY,kc,el);
if(iN==null){return 3}var c$=iN.ce,top=iN.top;c$=E.uY.a23(c$,r,u,s,top,gY,kc,el);if(D)console.log(Date.now()-R,"optimal labeling found");
R=Date.now();var h=X.clone();h.sg(1,1);h=h.ww(g);var dB=E.Q(h.O()*4),aL=E.Q(h.O());E.TU(f,g,dB,h);var aB=g.e,f3=g.n;
for(var L=0;L<f3;L++)for(var Z=0;Z<aB;Z++){if(H[L*aB+Z]==0)continue;var jC=Math.min(Math.floor(Z/I),u-1),bc=Math.min(Math.floor(L/I),s-1),iA=gY[bc*u+jC];
if(iA==-1)continue;var bL=c$[iA],an=top[bL],dp=Z+an.x*I,im=L+an.y*I,a5=im*aB+dp<<2,bg=(L-h.y+g.y)*h.e+(Z-h.x+g.x)<<2;
dB[bg]=f[a5];dB[bg+1]=f[a5+1];dB[bg+2]=f[a5+2];dB[bg+3]=f[a5+3];dB[bg+3]=f[a5+3];aL[bg>>2]=bL+1}if(D)console.log(Date.now()-R,"copied back");
R=Date.now();E.Sz.Pf(dB,aL,h,null,1e3);if(D)console.log(Date.now()-R,"poisson smooth");R=Date.now();
E.TU(dB,h,b,X);return 0};E.uY.LV=function(r,Q,W,b,X,D){return E.uY.ar(r+X.x,Q+X.y,W,b)&&D[(Q+X.y)*W+(r+X.x)]==-1?0:1e9};
E.uY.a23=function(r,Q,W,b,top,X,D,h){var S=Date.now(),a=[-1,0,0,-1,1,0,0,1],K=1e99,Y=[],d=[],j=2*(h*2*3+h*2),U=null,I=0,f=0,g=0,H=1e99;
while(!0&&Date.now()<S+12e3){g++;var u=null,s=K;for(var _=0;_<top.length;_++){var i=top[_],M=0,T=h+2,R=0;
for(var n=0;n<h;n++){var z=D[n*2],G=D[n*2+1],V=top[r[n]],y=E.uY.LV(z,G,W,b,i,X),k=r[n]==_?1e9:E.uY.LV(z,G,W,b,V,X);
for(var fb=0;fb<4;fb++){if(fb==0&&z==0||fb==1&&G==0||fb==2&&z==W-1||fb==3&&G==b-1)continue;var B=a[2*fb],v=a[2*fb+1],l=z+B,F=G+v,L=X[F*W+l];
if(L==-2){}else if(L==-1){y+=3*E.uY.ZJ(l+i.x,F+i.y,l,F,W,b,Q,X);y+=2*E.uY.ZJ(l+i.x+B,F+i.y+v,l+B,F+v,W,b,Q,X);
k+=3*E.uY.ZJ(l+V.x,F+V.y,l,F,W,b,Q,X);k+=2*E.uY.ZJ(l+V.x+B,F+V.y+v,l+B,F+v,W,b,Q,X)}else if(fb>1){if(r[n]==r[L]){var Z=0;
Z+=E.uY.ZJ(z+V.x,G+V.y,z+i.x,G+i.y,W,b,Q,X);Z+=E.uY.ZJ(l+V.x,F+V.y,l+i.x,F+i.y,W,b,Q,X);Y[M]=n;Y[M+1]=L;
d[M]=Z;d[M+1]=Z;M+=2}else{var t=top[r[L]],A=T,o=0,O=0,x=0;T++;o+=E.uY.ZJ(z+V.x,G+V.y,z+i.x,G+i.y,W,b,Q,X);
o+=E.uY.ZJ(l+V.x,F+V.y,l+i.x,F+i.y,W,b,Q,X);O+=E.uY.ZJ(z+t.x,G+t.y,z+i.x,G+i.y,W,b,Q,X);O+=E.uY.ZJ(l+t.x,F+t.y,l+i.x,F+i.y,W,b,Q,X);
x+=E.uY.ZJ(z+t.x,G+t.y,z+V.x,G+V.y,W,b,Q,X);x+=E.uY.ZJ(l+t.x,F+t.y,l+V.x,F+V.y,W,b,Q,X);Y[M]=n;Y[M+1]=A;
d[M]=o;d[M+1]=o;M+=2;Y[M]=L;Y[M+1]=A;d[M]=O;d[M+1]=O;M+=2;Y[M]=A;Y[M+1]=h+1;d[M]=x;d[M+1]=0;M+=2}}}Y[M]=h;
Y[M+1]=n;d[M]=y;d[M+1]=0;M+=2;Y[M]=n;Y[M+1]=h+1;d[M]=k;d[M+1]=0;M+=2;R+=Math.min(y,k)}if(R>s)continue;
var C=E.ts.nw(T,M,h,h+1,Y,d,s);if(C.HM<s){s=C.HM;var J=r.slice(0);E.uY.aha(J,M,Y,C.QZ,_,h);u=J}}if(s*1>=K){break}K=s;
r=u;if((g&3)==0){if(s*1.03>=H)break;H=s}if((g&3)==0){var q=0*top.length;for(var n=0;n<top.length&&top.length>q;
n++){if(r.indexOf(n)!=-1)continue;top.splice(n,1);for(var L=0;L<r.length;L++)if(r[L]>n)r[L]--;n--}}}return r};
E.uY.aha=function(r,Q,W,b,X,D){for(var n=0;n<b.length;n++){var h=b[n]<<1,S=0,a=0;if(h<Q){S=W[h];a=W[h+1]}else{a=W[h];
S=W[h+1]}if(S==D&&r[a]!=X)r[a]=X}};E.uY.fg=function(top,r,Q,W,b,X,D,h,S){for(var n=0;n<Q.length;n++){var a=Q[n],K=!0;
if(h!=null&&!(E.uY.ar(h+a.x,S+a.y,X,D)&&W[X*(S+a.y)+h+a.x]==-1))continue;if(a.op==-1)a.op=E.uY.awU(a,W,b,X,D);
if(a.op<=0)continue;for(var Y=0;Y<top.length;Y++){var d=top[Y],j=a.x-d.x,U=a.y-d.y;if(j*j+U*U<r){K=!1;
break}}if(K)return a}return null};E.uY.awU=function(r,Q,W,b,X){var D=0;for(var n=0;n<W.length;n+=2){var h=W[n]+r.x,S=W[n+1]+r.y;
if(E.uY.ar(h,S,b,X)&&Q[b*S+h]==-1)D++}return D/(W.length>>1)};E.uY.acz=function(r,Q,W,b,X,D){var top=[];
for(var n=0;n<60;n++){var h=E.uY.fg(top,25,W,b,X,r,Q);if(h==null)break;else top.push(h)}if(top.length==0)return null;
var S=[];for(var n=0;n<D;n++){var a=X[n*2],K=X[n*2+1],Y=-1,d=0;while(!0){d++;var j=Math.random();Y=Math.floor(j*.99999*top.length);
var U=top[Y],I=a+U.x,f=K+U.y;if(E.uY.ar(I,f,r,Q)&&b[f*r+I]==-1)break;if(d>100){var h;h=E.uY.fg(top,0,W,b,X,r,Q,a,K);
if(h==null)return null;top.push(h);d=0}}S.push(Y)}return{top:top,ce:S}};E.uY.ZJ=function(r,Q,W,b,X,D,h,S){if(r==W&&Q==b)return 0;
if(r<0||Q<0||r>=X||Q>=D||W<0||b<0||W>=X||b>=D||S[Q*X+r]!=-1||S[b*X+W]!=-1)return 1e7;var a=Q*X+r<<2,K=b*X+W<<2,Y=h[a]-h[K],d=h[a+1]-h[K+1],j=h[a+2]-h[K+2];
return 1+(Y*Y+d*d+j*j)};E.uY.ar=function(r,Q,W,b){return r>=0&&r<W&&Q>=0&&Q<b};E.uY.afY=function(r,Q,W,b){var X=24*r,D=Q[X],h=Q[X+1],S=b*b,a=0,j=1e9;
while(W[a]!=99)if(Q[X+W[a]]<W[a+1])a=W[a+2];else a=W[a+3];var K=W[a+1],Y=W[a+2],d=-1;for(var n=K;n<=Y;
n++){var a=n,U=a*24,I=Q[U],f=Q[U+1];if((I-D)*(I-D)+(f-h)*(f-h)<S)continue;var g=E.uY.getError(U,X,Q,j);
if(g<j){j=g;d=a}}return d};E.uY.getError=function(r,Q,W,b){var X=0;for(var D=4;D<24;D+=4){var h=W[Q+D]-W[r+D],S=W[Q+D+1]-W[r+D+1],a=W[Q+D+2]-W[r+D+2],K=W[Q+D+3]-W[r+D+3];
X+=h*h+S*S+a*a+K*K;if(X>=b)return X+1}return X};E.uY.o3=function(r,Q,W,b,X){var D=16,j=0;if(Q-r<=D){W.push(99,r,Q);
return}E.uY.Z3(r,Q,b,X);var h=-1,S=-1;for(var n=4;n<24;n++){var a=X[2*n+1]-X[2*n];if(a>S){S=a;h=n}}var K=r+Q>>1,Y=E.uY.a9h(K,r,Q,b,h),d=-1;
for(var n=r;n<=Q;n++)if(b[24*n+h]==Y){if(d==-1)d=n;j=n}if(r+8<d&&d-r>Q-j)K=d;else if(j+1<Q-8)K=j+1;else if(Q-r<64){W.push(99,r,Q);
return}else K=K;var U=W.length;W.push(h,Y,0,0);W[U+2]=U+4;E.uY.o3(r,K-1,W,b,X);W[U+3]=W.length;E.uY.o3(K,Q,W,b,X)};
E.uY.Z3=function(r,Q,W,b){for(var n=0;n<48;n+=4){b[n]=3e4;b[n+1]=-3e4;b[n+2]=3e4;b[n+3]=-3e4}for(var n=r;
n<=Q;n++){var X=n*24;for(var D=0;D<24;D++){var h=W[X+D],S=b[D<<1],a=b[(D<<1)+1];if(h<S)b[D<<1]=h;if(h>a)b[(D<<1)+1]=h}}};
E.uY.CR=function(r,Q,W){var b=0,n=0;b=W[r+n];W[r+n]=W[Q+n];W[Q+n]=b;n++;b=W[r+n];W[r+n]=W[Q+n];W[Q+n]=b;
n++;b=W[r+n];W[r+n]=W[Q+n];W[Q+n]=b;n++;b=W[r+n];W[r+n]=W[Q+n];W[Q+n]=b;n++;b=W[r+n];W[r+n]=W[Q+n];W[Q+n]=b;
n++;b=W[r+n];W[r+n]=W[Q+n];W[Q+n]=b;n++;b=W[r+n];W[r+n]=W[Q+n];W[Q+n]=b;n++;b=W[r+n];W[r+n]=W[Q+n];W[Q+n]=b;
n++;b=W[r+n];W[r+n]=W[Q+n];W[Q+n]=b;n++;b=W[r+n];W[r+n]=W[Q+n];W[Q+n]=b;n++;b=W[r+n];W[r+n]=W[Q+n];W[Q+n]=b;
n++;b=W[r+n];W[r+n]=W[Q+n];W[Q+n]=b;n++;b=W[r+n];W[r+n]=W[Q+n];W[Q+n]=b;n++;b=W[r+n];W[r+n]=W[Q+n];W[Q+n]=b;
n++;b=W[r+n];W[r+n]=W[Q+n];W[Q+n]=b;n++;b=W[r+n];W[r+n]=W[Q+n];W[Q+n]=b;n++;b=W[r+n];W[r+n]=W[Q+n];W[Q+n]=b;
n++;b=W[r+n];W[r+n]=W[Q+n];W[Q+n]=b;n++;b=W[r+n];W[r+n]=W[Q+n];W[Q+n]=b;n++;b=W[r+n];W[r+n]=W[Q+n];W[Q+n]=b;
n++;b=W[r+n];W[r+n]=W[Q+n];W[Q+n]=b;n++;b=W[r+n];W[r+n]=W[Q+n];W[Q+n]=b;n++;b=W[r+n];W[r+n]=W[Q+n];W[Q+n]=b;
n++;b=W[r+n];W[r+n]=W[Q+n];W[Q+n]=b;n++};E.uY.x1=function(r,Q,W,b){var X=W+b>>>1,D=r[24*X+Q];while(W<=b){while(r[24*W+Q]<D)W++;
while(r[24*b+Q]>D)b--;if(W<=b){if(r[24*W+Q]!=r[24*b+Q])E.uY.CR(W*24,b*24,r);W++;b--}}return W};E.uY.a9h=function(r,Q,W,b,X){var D=0;
while(Q!=W){D=E.uY.x1(b,X,Q,W);if(r<D)W=D-1;else Q=D}return b[r*24+X]};E.uY.qr=function(r,Q,W,b){for(var n=0;
n<b;n++)Q[W+n]=r[n]};E.uY.a8R=function(r,Q,W,b,X,D,h,S,a){var K=(b-3)*X+(W-3),Y=K<<2;for(var d=0;d<8;
d++){if(Q[K]+Q[K+1]+Q[K+2]+Q[K+3]+Q[K+4]+Q[K+5]+Q[K+6]+Q[K+7]!=0||r[Y+3]<200||r[Y+7]<200||r[Y+11]<200||r[Y+15]<200||r[Y+19]<200||r[Y+23]<200||r[Y+27]<200||r[Y+31]<200)return 1;
var n=d<<3;h[n+0]=r[Y+0];S[n+0]=r[Y+1];a[n+0]=r[Y+2];h[n+1]=r[Y+4];S[n+1]=r[Y+5];a[n+1]=r[Y+6];h[n+2]=r[Y+8];
S[n+2]=r[Y+9];a[n+2]=r[Y+10];h[n+3]=r[Y+12];S[n+3]=r[Y+13];a[n+3]=r[Y+14];h[n+4]=r[Y+16];S[n+4]=r[Y+17];
a[n+4]=r[Y+18];h[n+5]=r[Y+20];S[n+5]=r[Y+21];a[n+5]=r[Y+22];h[n+6]=r[Y+24];S[n+6]=r[Y+25];a[n+6]=r[Y+26];
h[n+7]=r[Y+28];S[n+7]=r[Y+29];a[n+7]=r[Y+30];Y+=X<<2;K+=X}return 0};E.uY.Jm=function(r,Q){Q[0]=r[32]+r[0];
Q[1]=r[33]+r[1];Q[2]=r[34]+r[2];Q[3]=r[35]+r[3];Q[4]=r[36]+r[4];Q[5]=r[37]+r[5];Q[6]=r[38]+r[6];Q[7]=r[39]+r[7];
Q[8]=r[40]+r[8];Q[9]=r[41]+r[9];Q[10]=r[42]+r[10];Q[11]=r[43]+r[11];Q[12]=r[44]+r[12];Q[13]=r[45]+r[13];
Q[14]=r[46]+r[14];Q[15]=r[47]+r[15];Q[16]=r[48]+r[16];Q[17]=r[49]+r[17];Q[18]=r[50]+r[18];Q[19]=r[51]+r[19];
Q[20]=r[52]+r[20];Q[21]=r[53]+r[21];Q[22]=r[54]+r[22];Q[23]=r[55]+r[23];Q[24]=r[56]+r[24];Q[25]=r[57]+r[25];
Q[26]=r[58]+r[26];Q[27]=r[59]+r[27];Q[28]=r[60]+r[28];Q[29]=r[61]+r[29];Q[30]=r[62]+r[30];Q[31]=r[63]+r[31];
Q[32]=r[0]-r[32];Q[33]=r[1]-r[33];Q[34]=r[2]-r[34];Q[35]=r[3]-r[35];Q[36]=r[4]-r[36];Q[37]=r[5]-r[37];
Q[38]=r[6]-r[38];Q[39]=r[7]-r[39];Q[40]=r[8]-r[40];Q[41]=r[9]-r[41];Q[42]=r[10]-r[42];Q[43]=r[11]-r[43];
Q[44]=r[12]-r[44];Q[45]=r[13]-r[45];Q[46]=r[14]-r[46];Q[47]=r[15]-r[47];Q[48]=r[16]-r[48];Q[49]=r[17]-r[49];
Q[50]=r[18]-r[50];Q[51]=r[19]-r[51];Q[52]=r[20]-r[52];Q[53]=r[21]-r[53];Q[54]=r[22]-r[54];Q[55]=r[23]-r[55];
Q[56]=r[24]-r[56];Q[57]=r[25]-r[57];Q[58]=r[26]-r[58];Q[59]=r[27]-r[59];Q[60]=r[28]-r[60];Q[61]=r[29]-r[61];
Q[62]=r[30]-r[62];Q[63]=r[31]-r[63];r[0]=Q[16]+Q[0];r[1]=Q[17]+Q[1];r[2]=Q[18]+Q[2];r[3]=Q[19]+Q[3];
r[4]=Q[20]+Q[4];r[5]=Q[21]+Q[5];r[6]=Q[22]+Q[6];r[7]=Q[23]+Q[7];r[8]=Q[24]+Q[8];r[9]=Q[25]+Q[9];r[10]=Q[26]+Q[10];
r[11]=Q[27]+Q[11];r[12]=Q[28]+Q[12];r[13]=Q[29]+Q[13];r[14]=Q[30]+Q[14];r[15]=Q[31]+Q[15];r[16]=Q[0]-Q[16];
r[17]=Q[1]-Q[17];r[18]=Q[2]-Q[18];r[19]=Q[3]-Q[19];r[20]=Q[4]-Q[20];r[21]=Q[5]-Q[21];r[22]=Q[6]-Q[22];
r[23]=Q[7]-Q[23];r[24]=Q[8]-Q[24];r[25]=Q[9]-Q[25];r[26]=Q[10]-Q[26];r[27]=Q[11]-Q[27];r[28]=Q[12]-Q[28];
r[29]=Q[13]-Q[29];r[30]=Q[14]-Q[30];r[31]=Q[15]-Q[31];Q[0]=r[8]+r[0];Q[1]=r[9]+r[1];Q[2]=r[10]+r[2];
Q[3]=r[11]+r[3];Q[4]=r[12]+r[4];Q[5]=r[13]+r[5];Q[6]=r[14]+r[6];Q[7]=r[15]+r[7];Q[8]=r[0]-r[8];Q[9]=r[1]-r[9];
Q[10]=r[2]-r[10];Q[11]=r[3]-r[11];Q[12]=r[4]-r[12];Q[13]=r[5]-r[13];Q[14]=r[6]-r[14];Q[15]=r[7]-r[15];
r[0]=Q[4]+Q[0];r[1]=Q[5]+Q[1];r[2]=Q[6]+Q[2];r[3]=Q[7]+Q[3];r[4]=Q[0]-Q[4];r[5]=Q[1]-Q[5];r[6]=Q[2]-Q[6];
r[7]=Q[3]-Q[7];r[8]=Q[12]+Q[8];r[9]=Q[13]+Q[9];r[10]=Q[14]+Q[10];r[11]=Q[15]+Q[11];r[12]=Q[8]-Q[12];
r[13]=Q[9]-Q[13];r[14]=Q[10]-Q[14];r[15]=Q[11]-Q[15];Q[0]=r[2]+r[0];Q[1]=r[3]+r[1];Q[2]=r[0]-r[2];Q[3]=r[1]-r[3];
Q[4]=r[6]+r[4];Q[5]=r[7]+r[5];Q[6]=r[4]-r[6];Q[7]=r[5]-r[7];Q[8]=r[10]+r[8];Q[9]=r[11]+r[9];Q[10]=r[8]-r[10];
Q[11]=r[9]-r[11];Q[12]=r[14]+r[12];Q[13]=r[15]+r[13];Q[14]=r[12]-r[14];Q[15]=r[13]-r[15];r[0]=Q[1]+Q[0];
r[1]=Q[0]-Q[1];r[2]=Q[3]+Q[2];r[3]=Q[2]-Q[3];r[4]=Q[5]+Q[4];r[5]=Q[4]-Q[5];r[6]=Q[7]+Q[6];r[7]=Q[6]-Q[7];
r[8]=Q[9]+Q[8];r[9]=Q[8]-Q[9];r[10]=Q[11]+Q[10];r[11]=Q[10]-Q[11];r[12]=Q[13]+Q[12];r[13]=Q[12]-Q[13];
r[14]=Q[15]+Q[14];r[15]=Q[14]-Q[15]};E.uY.ai2=function(){var r="",fb=64,Q="v",W="t",b="a",X=5,n,D,h;
for(n=fb>>1;n>0;n>>=1,X--){for(D=0;D<fb;D++){h=(D>>X&1)!=0;if(h){r+=W+"["+D+"] = "+Q+"["+(-n+D)+"] - "+Q+"["+D+"];  "}else{r+=W+"["+D+"] = "+Q+"["+(n+D)+"] + "+Q+"["+D+"];  "}}b=Q;
Q=W;W=b;r+="\n"}console.log(r)};E.uY.a71=function(fb,r,Q){var W=r,b=Q,X=W,D=0,n,S,a;while(fb>>D!=2)D++;
var h=D;for(n=fb>>1;n>0;n>>=1,D--){for(S=0;S<fb;S++){a=(S>>D&1)!=0;if(a)b[S]=W[-n+S]-W[S];else b[S]=W[n+S]+W[S]}X=W;
W=b;b=X}if((h&1)==1)for(n=0;n<fb;n++)Q[n]=W[n]};E.m4={};E.m4.UL=function(r,Q,W,b,X,D,h,S,a){var K=Date.now(),Y=new Uint32Array(r.buffer),d=new Uint32Array(Q.buffer),j=h/W,U=S/b,I=1/j,f=1/U,g=new Float64Array(2),H=3,u=1/H,s=1/(H*H),_=0,i=0,M=W,T=b;
if(X){_=X.x;i=X.y;M=X.e;T=X.n}for(var R=0;R<T;R++)for(var z=0;z<M;z++){var G=_+z,V=i+R,n=V*W+G,y=n<<1,k=n<<2;
E.m4.ail(D,h,S,(G+.5)*j,(V+.5)*U,g);var B=g[0]*I,v=g[1]*f;if(B==0&&v==0)d[n]=Y[n];else{E.K.rC(G+B+.5,V+v+.5,Y,W,b,d,n,a)}}};
E.m4.ail=function(r,Q,W,b,X,D){b-=.499999;X-=.499999;var h=~~b,S=~~X,a=b-h,K=X-S,Y=(1-K)*(1-a),d=(1-K)*a,j=K*(1-a),U=K*a,I=h<Q-1?h+1:h,f=S<W-1?S+1:S,g=S*Q+h<<1,H=S*Q+I<<1,u=f*Q+h<<1,s=f*Q+I<<1;
D[0]=Y*r[g]+d*r[H]+j*r[u]+U*r[s];D[1]=Y*r[g+1]+d*r[H+1]+j*r[u+1]+U*r[s+1]};E.m4.ab6=function(r,Q,W,b,X){var D=1/r,h=[-1,1,-r,r],S=b.length;
for(var a=0;a<S;a++){var n=b[a],K=n<<1,Y=a<<1,d=~~(n*D),j=n-r*d,U=W[K],I=W[K+1],f=0,g=0;if(j!=0&&j!=r-1){var H=n-1<<1,u=n+1<<1,s=W[H],_=W[u],i=W[H+1],M=W[u+1],T=U-(s+_)*.5,R=I-(i+M)*.5;
f-=T*X;g-=R*X}if(d!=0&&d!=Q-1){var H=n-r<<1,u=n+r<<1,s=W[H],_=W[u],i=W[H+1],M=W[u+1],T=U-(s+_)*.5,R=I-(i+M)*.5;
f-=T*X;g-=R*X}W[K]=U+f;W[K+1]=I+g}};E.m4.aoU=function(r,Q){var W=r+","+Q;if(E.m4.m7==W)return E.m4.MR;
var b=E.m4.MR=[];E.m4.m7=W;for(var n=0;n<=1e3;n++){var X=n*.001,D=Math.sqrt(X),h=Math.exp(-4*D),S=.96*(1-D*D),a=Q*((1-r)*h+r*S);
b[n]=a}return b};E.m4.m7="";E.m4.MR=[];E.m4.aea=function(r,Q,W,b,X,D,h,S,a,K,Y,d,j){var U=Math.max(0,Math.floor(X-h-1)),I=Math.min(Q,Math.ceil(X+h+1)),f=Math.max(0,Math.floor(D-h-1)),g=Math.min(W,Math.ceil(D+h+1)),H=2*Q,u=h*h,s=1/h,_=0;
if(j&&(b==3||b==6))a=-a;var i=E.m4.aoU(S,a);for(var M=f;M<g;M++)for(var T=U;T<I;T++){var n=M*Q+T,R=n<<1,z=(X-T)*s,G=(D-M)*s,V=z*z+G*G;
if(V<1){d[_]=n;var y=i[~~(V*1e3)];if(b==1){r[R]=r[R]*(1-y*.05);r[R+1]=r[R+1]*(1-y*.05)}else{var k=0,B=0,F,L,Z,t;
if(b==0){k=K*y;B=Y*y}else if(b==2){}else if(b==3){k=y*G;B=-y*z}else if(b==4){k=y*z;B=y*G}else if(b==5){k=-y*z;
B=-y*G}else if(b==6){k=Y*y;B=-K*y}var v=r[R],l=r[R+1];if(T==0||T!=Q-1&&k<0){F=1+r[R+2]-v;Z=r[R+3]-l}else{F=v-r[R-2]+1;
Z=l-r[R-1]}if(M==0||M!=W-1&&B<0){L=r[R+H]-v;t=1+r[R+H+1]-l}else{L=v-r[R-H];t=l-r[R-H+1]+1}r[R]=-(F*k+L*B-v);
r[R+1]=-(Z*k+t*B-l)}_++}}};E.m4.ahc=function(r){var Q=r[0],W=r[0],b=r[1],X=r[1];for(var n=0;n<r.length;
n+=2){var D=r[n],h=r[n+1];if(D<Q)Q=D;else if(D>W)W=D;if(h<b)b=h;else if(h>X)X=h}return[Q,b,W,X]};E.a6f=function(r,Q,W,b,X){function D(P,fc,p,gG){return Math.sqrt((P-p)*(P-p)+(fc-gG)*(fc-gG))}function h(P,fc){return P>=0&&P<Q&&fc>=0&&fc<W}function S(P){if(P<0)return 0;
if(P>=Q)return Q-1;return P}function a(P){if(P<0)return 0;if(P>=W)return W-1;return P}function K(n,P){var fc=P[3]*(1/255),p=b[n]+P[0]*fc;
if(p>255)p=255;b[n]=p;p=b[n+1]+P[1]*fc;if(p>255)p=255;b[n+1]=p;p=b[n+2]+P[2]*fc;if(p>255)p=255;b[n+2]=p}function Y(P,fc,p){if(!A(P,fc))return;
if(p[3]<0)p[3]=0;K((fc*Q+P)*4,p)}function d(P){var fc=P.slice(0,3);fc[3]=0;return fc}var j=Q/800;function U(P){return Math.round(P*j)}function I(){for(var n=0;
n<=300;n++){O[n]=f(n)}}function f(W){var P=.8,fc=.2,p=P*fc,gG=W/60%2-1,fh=p*(1-gG*gG),fJ=fc-p,cF;if(W<60){cF=[p+fJ,fh,0]}else if(W<120){cF=[fh,p,0]}else if(W<180){cF=[0,p,fh]}else if(W<240){cF=[0,fh,p]}else if(W<300){cF=[fh,0,p]}else{cF=[p,0,fh]}return[(cF[0]+fJ)*255,(cF[1]+fJ)*255,(cF[2]+fJ)*255]}function g(W){return O[~~W]}function H(P){return 1-u(P)}function u(P){return P-~~P}function s(P,fc,p,gG){Z(P,fc,p,0,fc+1,1,gG)}function _(P,fc,p,gG,fh,fJ){Z(P,fc,p,0,gG,1,fh,fJ)}function i(P){for(var n=0;
n<b.length;n+=4){K(n,P)}}function M(P,fc,p,gG,fh,fJ,cF,j_){T(P,fc,p,gG,fh,1,fJ,cF,j_)}function T(P,fc,p,gG,fh,fJ,cF,j_,gY){if(fJ==null)fJ=.5;
if(cF==null)cF=0;if(j_==null)j_=0;if(gY==null)gY=!1;var kc=P.x,el=P.y,iN=p.slice(0),c$=~~(p[3]*C);gG=gG*C;
if(!gY){fc=t(fc);fh=t(fh);cF=t(cF);j_=t(j_)}var dB=S(kc-fc),aL=S(kc+fc);for(var aB=dB;aB<=aL;aB++){var f3=aB-kc,jC=Math.floor(Math.sqrt(fc*fc-f3*f3)),bc=a(el-jC),iA=a(el);
for(var bL=bc;bL<=iA;bL++){var an=D(aB,bL,kc,el);if(an>fc||an<=fc-fh)break;var dp=(an-fc+fh)/fh;iN[3]=c$-gG*(fJ==1?dp:Math.pow(dp,fJ));
K((bL*Q+aB)*4,iN)}bc=a(el+jC);for(var bL=bc;bL>iA;bL--){var an=D(aB,bL,kc,el);if(an>fc||an<=fc-fh)break;
var dp=(an-fc+fh)/fh;iN[3]=c$-gG*(fJ==1?dp:Math.pow(dp,fJ));K((bL*Q+aB)*4,iN)}}if(cF>0){Z(P,fc+cF,iN,iN[3],cF,1,0,0,!0)}if(j_>0){Z(P,fc-fh,o(p),-p[3],j_,1,0,0,!0)}}function R(P,fc,p,gG,fh,fJ){Z(P,fc,p,p[3],fc+1,1,gG,fh,fJ)}function z(P,fc,p,gG,fh){if(fh==null)fh=!1;
var fJ=P.x,cF=P.y;gG*=C;if(!fh){fc=t(fc);p=t(p)}var j_=S(fJ-fc),gY=S(fJ+fc);for(var kc=j_;kc<gY;kc++){var el=kc-fJ,iN=~~Math.sqrt(fc*fc-el*el),c$=a(cF-iN),dB=a(cF);
for(var aL=c$;aL<=dB;aL++){var aB=D(kc,aL,fJ,cF);if(aB>fc||aB<=fc-p)break;var f3=(fc-aB)/p,jC=g(300*f3);
jC[3]=gG;K((aL*Q+kc)*4,jC)}c$=a(cF+iN);for(var aL=c$;aL>dB;aL--){var aB=D(kc,aL,fJ,cF);if(aB>fc||aB<=fc-p)break;
var f3=(fc-aB)/p,jC=g(300*f3);jC[3]=gG;K((aL*Q+kc)*4,jC)}}}function G(x,P){var fc=x.Ir,p=x.nx,gG=P.slice(0),fh=P[3]*C,fJ=Math.abs(p.y-fc.y)>Math.abs(p.x-fc.x);
if(fJ){var cF=fc.x;fc.x=fc.y;fc.y=cF;cF=p.x;p.x=p.y;p.y=cF}if(fc.x>p.x){var cF=fc;fc=p;p=cF}var j_=p.x-fc.x,gY=p.y-fc.y,kc=j_==0?1:gY/j_,el=Math.round(fc.x),iN=fc.y+kc*(el-fc.x),c$=H(fc.x+.5),dB=el,aL=~~iN;
if(fJ){gG[3]=fh*H(iN)*c$;Y(aL,dB,gG);gG[3]=fh*u(iN)*c$;Y(aL+1,dB,gG)}else{gG[3]=fh*H(iN)*c$;Y(dB,aL,gG);
gG[3]=fh*u(iN)*c$;Y(dB,aL+1,gG)}var aB=iN-kc;el=Math.round(p.x);iN=p.y+kc*(el-p.x);c$=u(p.x+.5);var f3=el,jC=~~iN;
if(fJ){gG[3]=fh*H(iN)*c$;Y(jC,f3,gG);gG[3]=fh*u(iN)*c$;Y(jC+1,f3,gG)}else{gG[3]=fh*H(iN)*c$;Y(f3,jC,gG);
gG[3]=fh*u(iN)*c$;Y(f3,jC+1,gG)}if(fJ){for(var bc=dB+1;bc<=f3-1;bc++){gG[3]=fh*H(aB);Y(~~aB,bc,gG);gG[3]=fh*u(aB);
Y(~~aB+1,bc,gG);aB+=kc}}else{for(var bc=dB+1;bc<=f3-1;bc++){gG[3]=fh*H(aB);Y(bc,~~aB,gG);gG[3]=fh*u(aB);
Y(bc,~~aB+1,gG);aB+=kc}}}function V(P,fc,p,gG){for(var n=0;n<4;n++){var fh=P.WW(fc+1.3*n,p);G(fh,gG,1)}}function cp(P,fc){this.x=Math.round(P);
this.y=Math.round(fc)}var y=Math.PI/180;cp.prototype.WW=function(P,fc){P=P*y;var p=this.x+fc*Math.cos(P),gG=this.y+fc*Math.sin(P);
return new k(this.x,this.y,p,gG)};cp.prototype.a2e=function(P,fc){P=P*y;var p=this.yn+fc*Math.cos(P),gG=this.afm+fc*Math.sin(P);
return new cp(p,gG)};function k(P,fc,p,gG){this.Ir=new cp(P,fc);this.nx=new cp(p,gG)}k.prototype.Uc=function(P){var fc=P*this.Ir.x+(1-P)*this.nx.x,p=P*this.Ir.y+(1-P)*this.nx.y;
return new cp(fc,p)};var B=M,v=R,l=s,F=_,L=z,Z=T,t=U,A=h,o=d,O=[];I();for(var n=0;n<r.length;n++){b[n]=r[n]}var x=new k(Q*X[2],W*X[3],Q/2,W/2),C=X[1],J=[];
J[0]=function q(){var P=[80,40,15,60],p=0,gG=0;l(x.Uc(1.4),260,P,10);l(x.Uc(1),100,[240,50,50,30],30);
v(x.Uc(1),60,[255,40,0,40]);var fc=[255,255,255,255];Z(x.Uc(1),70,fc,fc[3],58,.5);l(x.Uc(1),12,fc);fc[3]=40;
B(x.Uc(1),150,fc,fc[3],150);for(var n=0;n<40;n++){p+=Math.random()*25;gG=Math.random()*t(300)+t(100);
var fh=x.Uc(1).WW(p,gG);G(x.Uc(1).WW(p,gG),[110,110,110,30])}v(x.Uc(1),130,[255,255,255,8]);var fJ=[170,30,23,70];
F(x.Uc(1),70,fJ,1,3,3);var cF=[60,60,130,40];l(x.Uc(.47),44,cF,5);l(x.Uc(.43),22,cF,3);cF[3]=16;l(x.Uc(.53),15,cF,2);
var j_=[138,94,42,100];l(x.Uc(.2),16,j_,2);var gY=[130,255,170,180];v(x.Uc(0),4,gY);v(x.Uc(-.25),5,gY);
j_=[150,90,0,50];B(x.Uc(-.45),55,o(j_),-j_[3],40,2);l(x.Uc(-.42),35,j_,2);l(x.Uc(-.5),15,j_,2);L(x.Uc(-1.28),145,11,70);
var kc=g(0);kc[3]=50;B(x.Uc(-1.28),149,kc,kc[3],4);kc=g(300);kc[3]=50;B(x.Uc(-1.28),155-1,o(kc),-kc[3],3);
var el=[130,130,10,50];F(x.Uc(-1),73,el,3,2);var iN=[40,130,70,40];B(x.Uc(-1),70,o(iN),-iN[3],35);iN=[40,170,60,50];
l(x.Uc(-.7),25,iN,4);var iN=[70,110,50,60];B(x.Uc(1.3),30,o(iN),-iN[3],11,3);cF=[0,50,210,80];v(x.Uc(-.72),20,cF)};
J[1]=function fd(){v(x.Uc(1),150,[240,70,70,60]);l(x.Uc(1),100,[200,60,60,40],30);var P=[255,255,255,255],fc=0,p=0;
Z(x.Uc(1),75,P,P[3],63);l(x.Uc(1),12,P);v(x.Uc(1),270,[200,200,200,20],10);for(var n=0;n<10;n++){fc+=10+Math.random()*40;
p=Math.random()*t(250)+t(80);var gG=x.Uc(1).WW(fc,p);G(gG,[110,110,110,35])}fc=5;p=100;for(var n=0;n<12;
n++){fc+=30;V(x.Uc(1),fc,p,[90,90,90,40])}var fh=[150,40,23,100];F(x.Uc(1),70,fh,1,3,3);var fJ=[30,100,60,40];
v(x.Uc(-.9),180,[255,255,255,20]);l(x.Uc(-.9),140,fJ,15);var cF=[170,80,25,15];F(x.Uc(-.9),120,cF,1,4,4);
var j_=[110,240,190,200];v(x.Uc(-.6),3,j_);j_[3]=100;v(x.Uc(-.6),7,j_);var gY=[230,120,40,85];v(x.Uc(-.73),9,gY);
var kc=[60,60,190,50];l(x.Uc(.3),28,kc,6);kc[3]=25;l(x.Uc(.34),20,kc,3)};J[2]=function w(){var P=[255,255,255,255],p=0,gG=0;
l(x.Uc(1),13,P);Z(x.Uc(1),150,P,P[3],137);var fc=[120,80,35,20];l(x.Uc(1.4),260,fc,10);for(var n=0;n<40;
n++){p+=5+Math.random()*30;gG=Math.random()*t(300);G(x.Uc(1).WW(p,gG),[110,110,110,20])}var fh=[10,30,255,30];
l(x.Uc(1),70,fh,50);var fJ=[15,90,170,15];l(x.Uc(1.5),60,fJ);var cF=[220,220,20,50];l(x.Uc(-1.15),8,cF,2);
var P=[255,255,255,40];v(x.Uc(-1.18),6,P);v(x.Uc(-1.18),4,P);cF=[110,110,10,8];B(x.Uc(-1.2),32,o(cF),-cF[3],20,3);
var j_=[5,0,16,255];for(var n=0;n<4;n++){l(x.Uc(-1.36),10,j_,3)}var gY=[90,200,150,20],kc=gY.slice(0);
kc[3]*=2;l(x.Uc(-1.32),7,kc,3);l(x.Uc(-1.36),7,kc,3);l(x.Uc(-1.4),7,kc,3);var P=[230,230,230,100];v(x.Uc(-1.36),2,P);
P[3]=3;l(x.Uc(-.55),10,P);cF=[120,100,10,18];l(x.Uc(-.55),160,cF,8);l(x.Uc(-.55),80,cF,4);gY[3]=3;kc[3]=6;
B(x.Uc(-.49),13,o(kc),-kc[3],13,2);B(x.Uc(-.55),13,o(kc),-kc[3],13,2);gY[3]=20;l(x.Uc(.15),25,gY,3);
cF[3]=100;v(x.Uc(-.52),3,cF);cF=[200,200,50,40];l(x.Uc(.27),1,cF,4);var el=[150,40,23,30];B(x.Uc(1),80,o(el),-el[3],2,1)};
return J[X[0]]()};E.Le={};E.Le.ob=function(r){var Q=r.length,fb=r[0].length,W=new Array(fb);for(var n=0;
n<fb;n++)W[n]=new Array(Q);for(var n=0;n<fb;n++)for(var b=0;b<Q;b++)W[n][b]=r[b][n];return W};E.Le.eb=function(r,Q){var W=r.length,fb=r[0].length,b=new Array(W);
for(var n=0;n<W;n++)b[n]=new Array(fb);for(var n=0;n<W;n++)for(var X=0;X<fb;X++)b[n][X]=r[n][X]-Q[n][X];
return b};E.Le.add=function(r,Q){var W=r.length,fb=r[0].length,b=new Array(W);for(var n=0;n<W;n++)b[n]=new Array(fb);
for(var n=0;n<W;n++)for(var X=0;X<fb;X++)b[n][X]=r[n][X]+Q[n][X];return b};E.Le.multiply=function(r,Q){var W=r.length,b=r[0].length,fb=Q[0].length;
if(b!=Q.length)throw"e";var X=new Array(W);for(var n=0;n<W;n++)X[n]=new Array(fb);if((b&1)!=0)for(var n=0;
n<W;n++){var D=r[n],h=X[n];for(var S=0;S<fb;S++){var a=0;for(var K=0;K<b;K++)a+=D[K]*Q[K][S];h[S]=a}}else for(var n=0;
n<W;n++){var D=r[n],h=X[n];for(var S=0;S<fb;S++){var a=0;for(var K=0;K<b;K+=2)a+=D[K]*Q[K][S]+D[K+1]*Q[K+1][S];
h[S]=a}}return X};E.Le._o=function(r,Q){var W=r.length,fb=r[0].length,b=new Array(W);for(var n=0;n<W;
n++){var X=0;for(var D=0;D<fb;D++)X+=r[n][D]*Q[D];b[n]=X}return b};E.Le.P_=function(r,Q){var W=[];for(var n=0;
n<r;n++){W.push([]);for(var b=0;b<Q;b++)W[n].push(0)}return W};E.Le.ayu=function(r){for(var n=0;n<r.length;
n++)console.log(JSON.stringify(r[n]))};E.Le.abp=function(r){var Q=[];for(var n=0;n<r.length;n++)Q.push(r[n].join(","));
return"["+Q.join(";")+"]"};E.Le.nw=function(r,Q){var W=r.length;for(var b=0;b<W;b++){var X=0,D=Number.NEGATIVE_INFINITY;
for(var n=b;n<W;n++)if(Math.abs(r[n][b])>D){X=n;D=Math.abs(r[n][b])}E.Le.ayn(r,b,X);for(var n=b+1;n<W;
n++){if(r[b][b]==0)return 1;var h=r[n][b]/r[b][b];for(var S=b;S<W+1;S++)r[n][S]-=r[b][S]*h}}for(var n=W-1;
n>=0;n--){if(r[n][n]==0)return 1;var a=r[n][W]/r[n][n];Q[n]=a;for(var S=n-1;S>=0;S--){r[S][W]-=r[S][n]*a;
r[S][n]=0}}return 0};E.Le.ayn=function(r,Q,W){var b=r[Q];r[Q]=r[W];r[W]=b};E.Le.a50=function(r){var Q=r.length,W=E.Le.P_(Q,Q);
for(var n=0;n<Q;n++)W[n][n]=r[n];return W};E.Le.awG=function(r){var Q=r.length,W=r[0].length,b=new Array(Q);
for(var n=0;n<Q;n++){b[n]=0;for(var X=0;X<W;X++)b[n]+=r[n][X];b[n]/=W}return b};E.Le.QF=function(r){var Q=0;
for(var n=0;n<r.length;n++)Q+=r[n]*r[n];return Math.sqrt(Q)};E.B1={};E.B1.FF=function(r){var Q=~~(r+.5);
return Q<0?0:Q>255?255:Q};E.B1.transform=function(r,Q,W){var b=E.B1.FF,X=r.o.length;for(var n=0;n<X;
n++){var D=r.o[n],h=r.W[n],S=r.k[n];Q.o[n]=b(W[0]*D+W[1]*h+W[2]*S+W[3]*255);Q.W[n]=b(W[4]*D+W[5]*h+W[6]*S+W[7]*255);
Q.k[n]=b(W[8]*D+W[9]*h+W[10]*S+W[11]*255)}};E.B1.Lw=function(r,Q,W){var b=E.B1.FF,X=r.length;for(var n=0;
n<X;n+=4){var D=r[n],h=r[n+1],S=r[n+2];Q[n]=b(W[0]*D+W[1]*h+W[2]*S+W[3]*255);Q[n+1]=b(W[4]*D+W[5]*h+W[6]*S+W[7]*255);
Q[n+2]=b(W[8]*D+W[9]*h+W[10]*S+W[11]*255)}};E.B1.BM=function(r){var Q=r[0]+r[1]+r[2],W=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(Q==1){var b=r.indexOf(1);W[b]=W[b+4]=W[b+8]=1}else{W[0]=r[0];W[5]=r[1];W[10]=r[2]}return W};E.B1.q0=function(r,Q,W){return[1,0,0,r,0,1,0,Q,0,0,1,W,0,0,0,1]};
E.B1.lT=function(r,Q,W){return[r,0,0,0,0,Q,0,0,0,0,W,0,0,0,0,1]};E.B1.a6m=function(r){return[r[0],r[1],r[2],r[4],r[5],r[6],r[8],r[9],r[10]]};
E.B1.uP=function(r){return[r[0],r[1],r[2],0,r[3],r[4],r[5],0,r[6],r[7],r[8],0,0,0,0,1]};E.B1.lK=function(r,Q){return[r[0]*Q[0]+r[1]*Q[1]+r[2]*Q[2]+r[3]*Q[3],r[4]*Q[0]+r[5]*Q[1]+r[6]*Q[2]+r[7]*Q[3],r[8]*Q[0]+r[9]*Q[1]+r[10]*Q[2]+r[11]*Q[3],r[12]*Q[0]+r[13]*Q[1]+r[14]*Q[2]+r[15]*Q[3]]};
E.B1.ob=function(r){var Q=[];Q[0]=r[0];Q[1]=r[4];Q[2]=r[8];Q[3]=r[12];Q[4]=r[1];Q[5]=r[5];Q[6]=r[9];
Q[7]=r[13];Q[8]=r[2];Q[9]=r[6];Q[10]=r[10];Q[11]=r[14];Q[12]=r[3];Q[13]=r[7];Q[14]=r[11];Q[15]=r[15];
return Q};E.B1.add=function(r,Q){var W=r.slice(0);for(var n=0;n<16;n++)W[n]+=Q[n];return W};E.B1.multiply=function(r,Q){var W=[];
W[0]=r[0]*Q[0]+r[1]*Q[4]+r[2]*Q[8]+r[3]*Q[12];W[1]=r[0]*Q[1]+r[1]*Q[5]+r[2]*Q[9]+r[3]*Q[13];W[2]=r[0]*Q[2]+r[1]*Q[6]+r[2]*Q[10]+r[3]*Q[14];
W[3]=r[0]*Q[3]+r[1]*Q[7]+r[2]*Q[11]+r[3]*Q[15];W[4]=r[4]*Q[0]+r[5]*Q[4]+r[6]*Q[8]+r[7]*Q[12];W[5]=r[4]*Q[1]+r[5]*Q[5]+r[6]*Q[9]+r[7]*Q[13];
W[6]=r[4]*Q[2]+r[5]*Q[6]+r[6]*Q[10]+r[7]*Q[14];W[7]=r[4]*Q[3]+r[5]*Q[7]+r[6]*Q[11]+r[7]*Q[15];W[8]=r[8]*Q[0]+r[9]*Q[4]+r[10]*Q[8]+r[11]*Q[12];
W[9]=r[8]*Q[1]+r[9]*Q[5]+r[10]*Q[9]+r[11]*Q[13];W[10]=r[8]*Q[2]+r[9]*Q[6]+r[10]*Q[10]+r[11]*Q[14];W[11]=r[8]*Q[3]+r[9]*Q[7]+r[10]*Q[11]+r[11]*Q[15];
W[12]=r[12]*Q[0]+r[13]*Q[4]+r[14]*Q[8]+r[15]*Q[12];W[13]=r[12]*Q[1]+r[13]*Q[5]+r[14]*Q[9]+r[15]*Q[13];
W[14]=r[12]*Q[2]+r[13]*Q[6]+r[14]*Q[10]+r[15]*Q[14];W[15]=r[12]*Q[3]+r[13]*Q[7]+r[14]*Q[11]+r[15]*Q[15];
return W};E.B1.j4=function(r){var Q=[];Q[0]=r[5]*r[10]*r[15]-r[5]*r[14]*r[11]-r[6]*r[9]*r[15]+r[6]*r[13]*r[11]+r[7]*r[9]*r[14]-r[7]*r[13]*r[10];
Q[1]=-r[1]*r[10]*r[15]+r[1]*r[14]*r[11]+r[2]*r[9]*r[15]-r[2]*r[13]*r[11]-r[3]*r[9]*r[14]+r[3]*r[13]*r[10];
Q[2]=r[1]*r[6]*r[15]-r[1]*r[14]*r[7]-r[2]*r[5]*r[15]+r[2]*r[13]*r[7]+r[3]*r[5]*r[14]-r[3]*r[13]*r[6];
Q[3]=-r[1]*r[6]*r[11]+r[1]*r[10]*r[7]+r[2]*r[5]*r[11]-r[2]*r[9]*r[7]-r[3]*r[5]*r[10]+r[3]*r[9]*r[6];
Q[4]=-r[4]*r[10]*r[15]+r[4]*r[14]*r[11]+r[6]*r[8]*r[15]-r[6]*r[12]*r[11]-r[7]*r[8]*r[14]+r[7]*r[12]*r[10];
Q[5]=r[0]*r[10]*r[15]-r[0]*r[14]*r[11]-r[2]*r[8]*r[15]+r[2]*r[12]*r[11]+r[3]*r[8]*r[14]-r[3]*r[12]*r[10];
Q[6]=-r[0]*r[6]*r[15]+r[0]*r[14]*r[7]+r[2]*r[4]*r[15]-r[2]*r[12]*r[7]-r[3]*r[4]*r[14]+r[3]*r[12]*r[6];
Q[7]=r[0]*r[6]*r[11]-r[0]*r[10]*r[7]-r[2]*r[4]*r[11]+r[2]*r[8]*r[7]+r[3]*r[4]*r[10]-r[3]*r[8]*r[6];Q[8]=r[4]*r[9]*r[15]-r[4]*r[13]*r[11]-r[5]*r[8]*r[15]+r[5]*r[12]*r[11]+r[7]*r[8]*r[13]-r[7]*r[12]*r[9];
Q[9]=-r[0]*r[9]*r[15]+r[0]*r[13]*r[11]+r[1]*r[8]*r[15]-r[1]*r[12]*r[11]-r[3]*r[8]*r[13]+r[3]*r[12]*r[9];
Q[10]=r[0]*r[5]*r[15]-r[0]*r[13]*r[7]-r[1]*r[4]*r[15]+r[1]*r[12]*r[7]+r[3]*r[4]*r[13]-r[3]*r[12]*r[5];
Q[11]=-r[0]*r[5]*r[11]+r[0]*r[9]*r[7]+r[1]*r[4]*r[11]-r[1]*r[8]*r[7]-r[3]*r[4]*r[9]+r[3]*r[8]*r[5];Q[12]=-r[4]*r[9]*r[14]+r[4]*r[13]*r[10]+r[5]*r[8]*r[14]-r[5]*r[12]*r[10]-r[6]*r[8]*r[13]+r[6]*r[12]*r[9];
Q[13]=r[0]*r[9]*r[14]-r[0]*r[13]*r[10]-r[1]*r[8]*r[14]+r[1]*r[12]*r[10]+r[2]*r[8]*r[13]-r[2]*r[12]*r[9];
Q[14]=-r[0]*r[5]*r[14]+r[0]*r[13]*r[6]+r[1]*r[4]*r[14]-r[1]*r[12]*r[6]-r[2]*r[4]*r[13]+r[2]*r[12]*r[5];
Q[15]=r[0]*r[5]*r[10]-r[0]*r[9]*r[6]-r[1]*r[4]*r[10]+r[1]*r[8]*r[6]+r[2]*r[4]*r[9]-r[2]*r[8]*r[5];var W=r[0]*Q[0]+r[1]*Q[4]+r[2]*Q[8]+r[3]*Q[12];
for(var n=0;n<16;n++)Q[n]/=W;return Q};E.B1.a2X=function(r){var Q=[],W=r[5]*r[10]*r[15]-r[5]*r[14]*r[11]-r[6]*r[9]*r[15]+r[6]*r[13]*r[11]+r[7]*r[9]*r[14]-r[7]*r[13]*r[10],b=-r[4]*r[10]*r[15]+r[4]*r[14]*r[11]+r[6]*r[8]*r[15]-r[6]*r[12]*r[11]-r[7]*r[8]*r[14]+r[7]*r[12]*r[10],X=r[4]*r[9]*r[15]-r[4]*r[13]*r[11]-r[5]*r[8]*r[15]+r[5]*r[12]*r[11]+r[7]*r[8]*r[13]-r[7]*r[12]*r[9],D=-r[4]*r[9]*r[14]+r[4]*r[13]*r[10]+r[5]*r[8]*r[14]-r[5]*r[12]*r[10]-r[6]*r[8]*r[13]+r[6]*r[12]*r[9];
return r[0]*W+r[1]*b+r[2]*X+r[3]*D};E.B1.dW=E.B1.uP([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
E.B1.avq=E.B1.uP([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
E.B1.Sa=E.B1.j4(E.B1.dW);E.ts={};E.ts.Qo=new Uint32Array(1);E.ts.uq=function(r,Q,W,b,X,D){var h=new Uint32Array(r),S=0,a=E.ts.Qo;
if(a.length<Q*4)E.ts.Qo=a=new Uint32Array(Q*4);var K=new Float64Array(a.buffer);for(var n=0;n<Q;n+=2){var Y=X[n],d=X[n+1],j=D[n],U=D[n+1];
a[S]=d;K[S+2>>1]=j;a[S+1]=h[Y];h[Y]=S+1;S+=4;a[S]=Y;K[S+2>>1]=U;a[S+1]=h[d];h[d]=S+1;S+=4}return{Mn:a,ad3:K,a1S:h}};
E.ts.nw=function(r,Q,W,b,X,D,h){var S=1,a=E.ts.uq(r,Q,W,b,X,D),K=a.Mn,Y=a.ad3,d=a.a1S,j=new Uint32Array(r),U=new E.ts.jC(r),f=1,_=0;
U.push(W);U.push(b);var I=new E.ts.jC(r),g=new Uint8Array(r),H=new Uint32Array(r);g[W]=1;g[b]=2;var u=new Uint32Array(r),s=new Uint32Array(r);
s[W]=s[b]=0;u[W]=u[b]=1;while(!0){var i=-1,y=0,l=1e30;while(!U.NB()&&i==-1){var M=U.top(),T=g[M],R=d[M]-1;
while(R!=-1){var z=K[R],G=g[z],V=R^T-1<<2;if(Y[V+2>>1]!=0){if(G==0){E.ts.Cr(M,R,z,g,H,s,u);U.push(z)}else if(G==T&&u[z]<=u[M]&&s[z]>s[M])E.ts.Cr(M,R,z,g,H,s,u);
else if(G!=T){i=V}}R=K[R+1]-1}if(i!=-1)break;U.pop()}if(i==-1){break}f++;var k=i;while(k!=-1){j[y]=k;
y++;k=H[K[k^4]]-1}var B=y>>1;for(var n=0;n<B;n++){var v=j[n];j[n]=j[y-n-1];j[y-n-1]=v}k=H[K[i]]-1;while(k!=-1){j[y]=k^4;
y++;k=H[K[k^4]]-1}for(var n=0;n<y;n++)l=Math.min(l,Y[j[n]+2>>1]);_+=l;if(_>=h)return{QZ:null,HM:_};for(var n=0;
n<y;n++){var F=j[n],L=F^4,M=K[L],z=K[F];Y[F+2>>1]-=l;Y[L+2>>1]+=l;if(Y[F+2>>1]==0&&g[M]==g[z]){if(g[M]==1){H[z]=0;
I.push(z)}if(g[M]==2){H[M]=0;I.push(M)}}}while(!I.NB()){var M=I.pop(),T=g[M],R=d[M]-1,Z=T==1?4:0,t=0,A=0,o=1e9;
while(R!=-1){var z=K[R],O=R^4,V=R^Z;if(g[z]==T&&Y[V+2>>1]>0&&E.ts.aeg(z,W,b,H,K,f,u,s)+1<o){t=z;A=O;
o=s[z]+1}R=K[R+1]-1}if(A!=0){E.ts.Cr(t,A,M,g,H,s,u);continue}R=d[M]-1;while(R!=-1){var z=K[R],V=R^Z;
if(g[z]==T){if(Y[V+2>>1]>0){U.push(z)}if(H[z]==R+1){H[z]=0;I.push(z)}}R=K[R+1]-1}g[M]=0;U.remove(M)}}var x=[];
for(var n=0;n<Q;n+=2){var M=X[n],z=X[n+1];if(g[M]==1&&g[z]!=1){x.push(n>>1)}if(g[z]==1&&g[M]!=1){x.push(Q+n>>1)}}return{QZ:x,HM:_}};
E.ts.Cr=function(r,Q,W,b,X,D,h){b[W]=b[r];X[W]=Q+1;D[W]=D[r]+1;h[W]=h[r]};E.ts.aeg=function(r,Q,W,b,X,D,h,S){var a=r,K=b[r]-1,Y=0;
while(K!=-1&&h[r]!=D){r=X[K^4];K=b[r]-1;Y++}if(K==-1&&r!=Q&&r!=W)return 1e9;var d=S[r]+Y;Y=0;K=b[a]-1;
while(a!=r){S[a]=d-Y;Y++;h[a]=D;a=X[K^4];K=b[a]-1}return d};E.ts.a9u=function(r,Q,W,b,X,D){var h=E.ts.uq(r,Q,W,b,X,D),S=h.Mn,a=h.ad3,K=h.a1S,Y=0,d=0,j=new Uint32Array(r*2),U=new E.ts.KH(r),I=0;
while(!0){U.reset();U.push(W);for(var n=0;n<r;n++)j[n<<1]=0;while(!U.NB()){var f=U.pop(),g=K[f]-1;while(g!=-1){I=S[g];
if(j[I<<1]==0&&a[g+2>>1]>0&&I!=W){j[I<<1]=f+1;j[(I<<1)+1]=g;U.push(I)}g=S[g+1]-1}if(j[b<<1]!=0){break}}if(j[b<<1]==0){break}var H=1e30;
I=b;while(!0){var u=j[I<<1]-1;if(u==-1)break;var s=j[(I<<1)+1];H=Math.min(H,a[s+2>>1]);I=u}I=b;while(!0){var u=j[I<<1]-1;
if(u==-1)break;var s=j[(I<<1)+1],_=s^4;a[s+2>>1]-=H;a[_+2>>1]+=H;I=u}Y+=H}var i=[];for(var n=0;n<Q;n+=2){var u=X[n],I=X[n+1];
if((j[u<<1]!=0||u==W)&&j[I<<1]==0&&I!=W){i.push(n>>1)}if((j[I<<1]!=0||I==W)&&j[u<<1]==0&&u!=W){i.push(Q+n>>1)}}return{QZ:i,HM:Y}};
E.ts.KH=function(r){r|=r>>1;r|=r>>2;r|=r>>4;r|=r>>8;r|=r>>16;this.XE=new Uint32Array(r+1);this.vc=r;
this.cH=0;this.RT=0};E.ts.KH.prototype={push:function(r){var Q=this.RT;this.XE[Q]=r;this.RT=Q+1&this.vc},pop:function(){var r=this.cH,Q=this.XE[r];
this.cH=r+1&this.vc;return Q},NB:function(){return this.cH==this.RT},reset:function(){this.cH=0;this.RT=0}};
E.ts.jC=function(r){r|=r>>1;r|=r>>2;r|=r>>4;r|=r>>8;r|=r>>16;this.XE=new Uint32Array(r+1);this.Gj=new Uint32Array(r+1);
this.vc=r;this.cH=0;this.RT=0};E.ts.jC.prototype={top:function(){return this.XE[this.cH]},akg:function(){return this.XE[this.RT]},push:function(r){if(this.Gj[r]!=0)return;
this.Gj[r]=this.RT+1;var Q=this.RT;this.XE[Q]=r;this.RT=Q+1&this.vc},pop:function(){var r=this.cH,Q=this.XE[r];
this.Gj[Q]=0;this.cH=r+1&this.vc;return Q},NB:function(){return this.cH==this.RT},remove:function(r){var Q=this.Gj[r]-1;
if(Q==-1)return;this.Gj[r]=0;if(Q==this.cH){this.pop();return}var W=this.pop();this.XE[Q]=W;this.Gj[W]=Q+1},sk:function(n){return n+this.vc+1&this.vc}};
E.ts.Kf=function(r,Q,W){var b=E.ts.x1(r,Q,W);if(Q<b-1)E.ts.Kf(r,Q,b-1);if(b<W)E.ts.Kf(r,b,W)};E.ts.x1=function(r,Q,W){var b=r[Q+W>>>1];
while(Q<=W){while(r[Q]<b)Q++;while(r[W]>b)W--;if(Q<=W){E.ts.CR(r,Q,W);Q++;W--}}return Q};E.ts.CR=function(r,Q,W){var b=r[Q];
r[Q]=r[W];r[W]=b};E.X={};E.X.g0=function(r){for(var n=0;n<r.length;n++)E.X.U$(r,n)};E.X.U$=function(r,n){r[n].v.keyShapeInvalidated={t:"bool",v:!0}};
E.X.ar2=function(r){for(var n=0;n<r.length;n++)r[n].v.keyOriginIndex.v=n};E.X.lk=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
E.X.EY=function(r){r=r.v;var Q={Rctn:2,Ln:4,Elps:5},W=Q[r.classID],b=r.topLeft?E.X.xw(r):null,X=null,D=0,h=[!1,!1,0,0,0];
if(W==4){var S=r.Strt.v,a=r.End.v;X=[S.Hrzn.v.val,S.Vrtc.v.val,a.Hrzn.v.val,a.Vrtc.v.val];D=r.Wdth.v.val;
for(var n=0;n<2;n++){var K=r[n==0?"StrA":"EndA"];if(K==null)continue;K=K.v;h[n]=K.On.v;h[2]=K.Wdth.v;
h[3]=K.Lngt.v;h[4]=K.Cncv.v.val}}if(W==null)return null;return E.X.be(W,W==4?null:E.X.gz(r),b,X,D,h)};
E.X.NI=function(r,Q,W,b,X,D,h){var S={classID:r,unitValueQuadVersion:{t:"long",v:1}};if(Q)E.X.J6(S,["Left","Top","Rght","Btom"],Q);
if(W)E.X.J6(S,["topLeft","topRight","bottomRight","bottomLeft"],W);if(r=="Ln"){S.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:b[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:b[1]}}}},S.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:b[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:b[3]}}}},S.Wdth={t:"UntF",v:{type:"#Pxl",val:X}};
for(var n=0;n<2;n++){var a=n==0?"StrA":"EndA";S[a]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:h[n]},Wdth:{t:"doub",v:h[2]},Lngt:{t:"doub",v:h[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:h[4]}}}}}}if(D)S.Nm={t:"TEXT",v:D};
return{t:"Objc",v:S}};E.X.gH=function(r,Q){var W=E.X.kA(r),b=r[2]-r[0],X=r[3]-r[1],D=Math.sqrt(b*b+X*X),h=[0,0,D,0,D,Q,0,Q],S=new au;
S.rotate(-W);S.translate(r[0],r[1]);E.p.D(h,S,h);return h};E.X.be=function(r,Q,W,b,X,D){var h=E.X.lk(),S=h.v,a;
delete S.keyShapeInvalidated;S.keyOriginType={t:"long",v:r};S.keyOriginResolution={t:"doub",v:75};if(r==4){S.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:b[0]},Vrtc:{t:"doub",v:b[1]}}};
S.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:b[2]},Vrtc:{t:"doub",v:b[3]}}};a=E.X.gH(b,X);
var K=E.p.Z3(a);Q=[K.x,K.y,K.x+K.e,K.y+K.n];S.keyOriginLineWeight={t:"doub",v:X};if(D)E.X.auM(S,D)}else a=[Q[0],Q[1],Q[2],Q[1],Q[2],Q[3],Q[0],Q[3]];
S.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};E.X.ZV(S,"keyOriginBoxCorners",a);var Y={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
S.keyOriginShapeBBox={t:"Objc",v:Y};E.X.S_(S,Q);if(W!=null){var d={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
S.keyOriginRRectRadii={t:"Objc",v:d};E.X.Ey(S,W)}return h};E.X.D=function(r,Q,W,b){var X=E.K.En(Q),D=E.K.nF(Q),h=E.K.JT(Q),S=h.mu*h.HR-h.k*h.th;
for(var n=0;n<r.length;n++){var a=r[n].v;if(!E.X.am(a))continue;if(W.length!=0&&W.indexOf(n)==-1)continue;
var K=a.keyOriginType.v,Y=Q;if(S<0&&K==2){var d=E.X.DP(a),j=0;j=d[0];d[0]=d[1];d[1]=j;j=d[2];d[2]=d[3];
d[3]=j;E.X.Ey(a,d);var U=E.X.l5(a,"keyOriginBoxCorners"),I=E.p.Z3(U),f=I.x+I.e/2,g=new au;g.translate(-f,0);
g.scale(-1,1);g.translate(f,0);Y=E.K.Se(Y,E.K.LJ(g))}var H=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];
for(var u=0;u<H.length;u++){var U=E.X.l5(a,H[u]);if(U==null)continue;E.K.D(Y,U);E.X.ZV(a,H[u],U);var I=E.p.Z3(U);
E.X.S_(a,[I.x,I.y,I.x+I.e,I.y+I.n]);var s=new au;s.rotate(-E.X.kA(U));var _={classID:"Trnf"};a.Trnf={t:"Objc",v:_};
var M="xx xy yx yy tx ty".split(" "),T=[s.mu,s.k,s.th,s.HR,s.rn,s.NQ];for(var R=0;R<6;R++)_[M[R]]={t:"doub",v:T[R]}}if(K==2&&b){var d=E.X.DP(a);
for(var u=0;u<4;u++)d[u]=Math.round(d[u]*Q[0]);E.X.Ey(a,d)}var U=E.X.l5(a,"keyOriginBoxCorners"),z=U[2]-U[0],G=U[3]-U[1],V=Math.sqrt(z*z+G*G);
z/=V;G/=V;var y=U[6]-U[0],k=U[7]-U[1],B=Math.sqrt(y*y+k*k);y/=B;k/=B;if(K==4){a.keyOriginLineWeight.v=B;
var v=E.X.xQ(a);E.K.D(Q,v);E.X.abz(a,v)}var l=z*y+G*k;if(Math.abs(l)>.001){E.X.U$(r,n)}}};E.X.am=function(r){var Q=r.keyShapeInvalidated,W=r.keyOriginType;
return(Q==null||!Q.v)&&W!=null&&W.v!=9};E.X.a8P=function(r){var Q=r.keyOriginType.v,W=E.X.hU(r),b=W[0],X=W[1],D=W[2],h=W[3],S=new au,a=r.keyOriginPolyCornerRadius,U;
a=a?a.v:0;var K=E.X.l5(r,Q==7||Q==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),Y=E.X.$z(K),d=Y[2],j=Y[3];
b=-d/2;D=d/2;X=-j/2;h=j/2;S.rotate(-E.X.kA(K));S.rn=Y[0];S.NQ=Y[1];if(Q==1||Q==2){var I=Q==1?0:E.X.DP(r);
U=E.A.lF.Rect(b,X,D-b,h-X,I)}else if(Q==4){var f=E.X.xQ(r),g=E.X.a6b(r);S=new au;if(g==null)U=E.A.lF.fr(f[0],f[1],f[2],f[3],r.keyOriginLineWeight.v);
else U=E.A.lF.ME(f[0],f[1],f[2],f[3],r.keyOriginLineWeight.v,g)}else if(Q==5){U=E.A.lF.az(b,X,D-b,h-X)}else if(Q==7||Q==8){var H=Q==7?3:r.keyOriginPolySides.v;
U=E.A.lF.AC(0,0,100,Math.PI/H-Math.PI/2,H,a,D,h)}E.A.Zl(U,S);return U};E.X.yE=function(r,Q){var W=Q.V;
for(var n=0;n<r.length;n++){var b=r[n].v;if(!E.X.am(b))continue;var X=E.X.a8P(b),D=E.A.ka(W,n),h=E.A.Iv(W,n);
X[2].xo=W[D].xo;var S=W;W=W.slice(0,D);for(var a=2;a<X.length;a++)W.push(X[a]);for(var a=D+h;a<S.length;
a++)W.push(S[a])}Q.V=W;Q.eI=!0};E.X.Om=function(r){var Q=1e9,W=-Q,b=1e9,X=-b,D=[],h=r.tt(),S=h[0],a=h[1];
for(var K=0;K<a.length;K++){var Y=S[a[K]],d=Y.add.vogk;if(d==null)continue;var j=Y.add.vmsk.I;for(var U=0;
U<d.length;U++){var I=d[U].v,H=0;if(!E.X.am(I))continue;if(a.length==1&&j.length!=0&&j.indexOf(U)==-1)continue;
var f=I.keyOriginType.v;if(f==9)continue;var g=E.X.hU(I);Q=Math.min(Q,g[0]);b=Math.min(b,g[1]);W=Math.max(W,g[2]);
X=Math.max(X,g[3]);var u=E.X.l5(I,"keyOriginBoxCorners");if(u){var s=E.X.$z(u),_=s[2],i=s[3];g[2]=g[0]+_;
g[3]=g[1]+i;H=E.X.kA(u)}var M=[f,g,H];D.push(M);if(f==2)M.push(E.X.DP(I));if(f==7||f==8)M.push(I.keyOriginPolyCornerRadius.v);
if(f==8)M.push(I.keyOriginPolySides.v)}}return D.length==1?D[0]:[0,Q<W?[Q,b,W,X]:null,0]};E.X.kA=function(r){var Q=r[2]-r[0],W=r[3]-r[1];
return-Math.atan2(-W,Q)};E.X.aqq=function(r,Q,W){var b=E.X.Om(r),X=-1;for(var n=0;n<Q.length;n++)if(JSON.stringify(Q[n])!=JSON.stringify(b[n]))X=n;
if(X==1||X==2){}var D=r.tt(),h=D[0],S=D[1];for(var a=0;a<S.length;a++){var K=h[S[a]],Y=K.add.vogk;if(Y==null)continue;
var d=K.add.vmsk.I;for(var j=0;j<Y.length;j++){var U=Y[j].v;if(!E.X.am(U))continue;if(S.length==1&&d.length!=0&&d.indexOf(j)==-1)continue;
var I=U.keyOriginType.v;if(X==1||X==2){E.X.D(Y,E.X.an2(X,U,b,Q),d,!1);break}if(X==3)if(I==2)E.X.Ey(U,Q[3]);
else U.keyOriginPolyCornerRadius.v=Q[3];if(X==4)U.keyOriginPolySides.v=Q[4];if(W)E.X.U$(Y,j)}}};E.X.an2=function(r,Q,W,b){var X=b[1],D=W[1],h=(X[2]-X[0])/(D[2]-D[0]),S=(X[3]-X[1])/(D[3]-D[1]),a=new au;
if(r==1){if(Math.max(Math.abs(h-1),Math.abs(S-1))>1e-8){var K=X[0],Y=X[1];if(b[0]!=0){var d=E.X.l5(Q,"keyOriginBoxCorners");
K=d[0];Y=d[1]}a.translate(-K,-Y);a.rotate(b[2]);a.scale(h,S);a.rotate(-b[2]);a.translate(K,Y)}else{a.translate(-D[0],-D[1]);
a.translate(X[0],X[1])}}else{if(b[0]!=0)X=E.X.hU(Q);var K=(X[0]+X[2])/2,Y=(X[1]+X[3])/2;a.translate(-K,-Y);
if(W[0]!=0)a.rotate(W[2]);a.rotate(-b[2]);a.translate(K,Y)}return E.K.LJ(a)};E.X.$z=function(r){var Q=r[0],W=r[1],b=r[2],X=r[3],D=r[4],h=r[5],S=r[6],a=r[7],K=b-Q,Y=X-W,d=Math.sqrt(K*K+Y*Y),K=D-b,Y=h-X,j=Math.sqrt(K*K+Y*Y);
return[(Q+D)/2,(W+h)/2,d,j]};E.X.l5=function(r,Q){var W=r[Q];if(W==null)return null;var b=[];W=W.v;for(var X=0;
X<4;X++){var D=W["rectangleCorner"+["A","B","C","D"][X]].v;b.push(D.Hrzn.v,D.Vrtc.v)}return b};E.X.ZV=function(r,Q,W){var b=r[Q];
if(b==null)return null;b=b.v;for(var X=0;X<4;X++){var D="rectangleCorner"+["A","B","C","D"][X];b[D]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:W[2*X]},Vrtc:{t:"doub",v:W[2*X+1]}}}}};
E.X.hU=function(r){return E.X.gz(r.keyOriginShapeBBox.v)};E.X.gz=function(r){var Q=r.classID,W=r.Left.v,b=r.Rght.v,X=r.Top.v,D=r.Btom.v;
if(W.val!=null){W=W.val;b=b.val;X=X.val;D=D.val}return[W,X,b,D]};E.X.S_=function(r,Q){E.X.J6(r.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],Q)};
E.X.DP=function(r){return E.X.xw(r.keyOriginRRectRadii.v)};E.X.xw=function(r){var Q=[],W=["topLeft","topRight","bottomRight","bottomLeft"];
for(var b=0;b<4;b++)Q.push(r[W[b]].v.val);return Q};E.X.Ey=function(r,Q){E.X.J6(r.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],Q)};
E.X.J6=function(r,Q,W){var b=r.classID;if(b=="unitRect"||b=="radii"||b=="Rctn"){for(var n=0;n<4;n++)if(W[n]!=null)r[Q[n]]={t:"UntF",v:{type:"#Pxl",val:W[n]}}}else{for(var n=0;
n<4;n++)if(W[n]!=null)r[Q[n]]={t:"doub",v:W[n]}}};E.X.xQ=function(r){var Q=r.keyOriginLineStart.v,W=r.keyOriginLineEnd.v;
return[Q.Hrzn.v,Q.Vrtc.v,W.Hrzn.v,W.Vrtc.v]};E.X.abz=function(r,Q){var W=r.keyOriginLineStart.v,b=r.keyOriginLineEnd.v;
W.Hrzn.v=Q[0];W.Vrtc.v=Q[1];b.Hrzn.v=Q[2];b.Vrtc.v=Q[3]};E.X.a6b=function(r){var Q=[],W=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var n=0;n<5;n++){var b=r["keyOriginLineArr"+W[n]];if(b==null)return null;Q[n]=b.v}return Q};E.X.auM=function(r,Q){r.keyOriginLineArrowSt={t:"bool",v:Q[0]};
r.keyOriginLineArrowEnd={t:"bool",v:Q[1]};r.keyOriginLineArrWdth={t:"doub",v:Q[2]};r.keyOriginLineArrLngth={t:"doub",v:Q[3]};
r.keyOriginLineArrConc={t:"long",v:Q[4]}};E.X.a5G=function(r){function Q(T,R){return Math.abs(T-R)<.5}function W(T,R){return Q(T.x,R.x)&&Q(T.y,R.y)}function b(T,R,z,G,V,y,k){for(var n=0;
n<k;n++){var B=T[R+(z+n)%k],v=G[V+(y+n)%k];if(!(W(B.F,v.F)&&W(B.f0,v.f0)&&W(B.rP,v.rP)))return!1}return!0}var X=[],D=E.A.jm(r);
for(var h=0;h<D;h++){var S=null,a=E.A.ka(r,h),K=r[a];if(K.length==4||K.length==8){var Y=E.A.qI(r.slice(0,2).concat(r.slice(a,a+K.length+1)));
a=2;if(K.length==4){var d=E.A.Mw(Y,a+1,4),j=d.x,f=d.y,g=j+d.e,H=f+d.n;if(d.O()>4){if(E.A.YF(Y.slice(a-2,a+5)))S=E.X.be(2,[j,f,g,H],[0,0,0,0]);
else{var u=-1;for(var n=0;n<4;n++)if(Q(Y[a+1+n].F.y,H))u=n;if(u!=-1){var s=E.A.lF.az(j,f,g-j,H-f),_=b(Y,a+1,u,s,3,0,4);
if(_)S=E.X.be(5,[j,f,g,H])}}}}if(K.length==8){var d=E.A.Mw(Y,a+1,8),j=d.x,f=d.y,g=j+d.e,H=f+d.n;if(d.O()>4){var u=-1;
for(var n=0;n<8;n++)if(Q(Y[a+1+(n+1&7)].F.y,f)&&Q(Y[a+1+(n+2&7)].F.y,f))u=n;if(u!=-1){var i=Math.abs(Y[a+1+u].F.y-f),M=[i,i,i,i];
if(i>.5){var s=E.A.lF.Rect(j,f,g-j,H-f,M),_=b(Y,a+1,u,s,3,0,8);if(_)S=E.X.be(2,[j,f,g,H],M)}}}}}X.push(S?S:E.X.lk())}return X};
E.p={};E.p.clone=function(r){return{H:r.H.slice(0),C:r.C.slice(0)}};E.p.Im=function(r){if(r.length<6)return!0;
var Q=r.length-4;for(var n=0;n<Q;n+=2)if(!E.p.eG(r[n],r[n+1],r[n+2],r[n+3],r[n+4],r[n+5]))return!1;if(!E.p.eG(r[Q],r[Q+1],r[Q+2],r[Q+3],r[0],r[1]))return!1;
if(!E.p.eG(r[Q+2],r[Q+3],r[0],r[1],r[2],r[3]))return!1;return!0};E.p.eG=function(r,Q,W,b,X,D){return(Q-b)*(X-W)+(W-r)*(D-b)>=0};
E.p.ea=function(r){var Q={},W=null,b=0,X={M:2,L:2,Q:4,C:6},D="",h="";for(var n=0;n<r.H.length;n++){var S=r.H[n];
if(S[0]=="#")D=S;else if(S[0]=="X")D="";else if(S[0]=="O"&&S[1]=="-")h=S;else if(S=="OX")h="";else{var a=D+h;
W=Q[a];if(W==null)W=Q[a]={C:[],H:[]};W.H.push(S);var K=X[S];if(K==null)K=0;for(var Y=0;Y<K;Y++)W.C.push(r.C[b+Y]);
b+=K}}return Q};E.p.Sn=function(r,Q,W){var b=r[Q]-r[W-2],X=r[Q+1]-r[W-1];return b*b+X*X<1e-4};E.p.ou=function(r,Q,W){r=E.p.BF(r);
var b=r.C,X=r.H,D=0,h="",S=0,a=0,D=0,d=null;for(var n=0;n<X.length;n++){var K=X[n];if(K=="M"){S=b[D];
a=b[D+1];D+=2;h=K}if(K=="C"){if(h=="Z"){X.splice(n,0,"M");b.splice(D,0,S,a);n--;continue}D+=6;h=K}if(K=="Z"){h=K}}var Y=[];
D=0;for(var n=0;n<X.length;n++){var K=X[n];if(K=="M"){d={HQ:D,ji:0,MI:!1};Y.push(d);D+=2}if(K=="C"){d.ji++;
D+=6}if(K=="Z"&&d!=null){d.MI=!0}}var j=[];for(var n=0;n<Y.length;n++)if(Y[n].ji!=0)j.push(Y[n]);Y=j;
for(var n=0;n<Y.length;n++){var U=Y[n],I=U.HQ,f=I+2+U.ji*6,H=0;U.Wr=E.p.Z3(b,I,f);var g=E.p.Sn(b,I,f);
for(var u=0;u<U.ji;u++){var s=I+u*6,_=s+6;H+=(b[_]-b[s])*(b[_+1]+b[s+1])}if(U.ji==2){var i=function(fd,w,P){var fc=1-P;
return fc*fc*fc*fd[w]+3*fc*fc*P*fd[w+2]+3*fc*P*P*fd[w+4]+P*P*P*fd[w+6]},M=b[I],T=b[I+1],R=b[I+6],z=b[I+7],G=b[I+6],V=b[I+7],y=i(b,I,.5),k=i(b,I+1,.5),B=i(b,I+6,.5),v=i(b,I+7,.5);
H=(y-M)*(k-T)+(R-y)*(z-k)+(B-R)*(v-z)+(G-B)*(V-v)}if(!g)H+=(b[I]-b[f-2])*(b[I+1]+b[f-1]);U.W_=H<=0}for(var n=0;
n<Y.length-1;n++)for(var s=n+1;s<Y.length;s++){var l=Y[n],F=Y[s];if(F.Wr.oN(l.Wr)){Y[n]=F;Y[s]=l}}var L=Y.length==0?!0:Y[0].W_,Z=[{type:6},{type:8,all:0}];
for(var n=0;n<Y.length;n++){var U=Y[n],I=U.HQ,f=I+2+U.ji*6,g=E.p.Sn(b,I,f),t=U.MI||g?0:3,A=U.W_==L&&!Q?1:0;
if(!Q&&n!=0){if(Y[n-1].Wr.oN(U.Wr)&&Y[n-1].W_!=U.W_)A=0;for(var s=0;s<Y.length;s++)if(s!=n&&Y[s].Wr.oN(U.Wr))A=0}Z.push({type:t,length:U.ji+(g?0:1),xo:W?1:A,bu:2});
for(var s=0;s<U.ji;s++){var D=I+s*6,o=new cp(b[D],b[D+1]),O=new cp(b[D+2],b[D+3]),x;if(s==0){if(g){x=new cp(b[f-4],b[f-3]);
if(cp.ks(x,o)<1e-5)x=o.clone()}else x=o.clone()}else x=new cp(b[D-2],b[D-1]);Z.push({type:t+2,f0:x,F:o,rP:O})}if(!g){var C=new cp(b[f-2],b[f-1]);
Z.push({type:t+2,f0:new cp(b[f-4],b[f-3]),F:C,rP:C.clone()})}}for(var s=0;s<Z.length;s++){var J=Z[s];
if(J.type>5||J.type==0||J.type==3)continue;var q=J.f0.s4(J.F)||J.rP.s4(J.rP);if(!q){var l=J.f0.x*(J.F.y-J.rP.y)+J.F.x*(J.rP.y-J.f0.y)+J.rP.x*(J.f0.y-J.F.y);
if(Math.abs(l)<1e-6)q=!0}if(q)J.type--}return Z};E.p._i=function(r,Q){var W=E.A.jm(r),b=[];for(var n=2;
n<r.length;n++){var X=r[n].xo;if(X!=null){if(X==2||X==0||X==3)b.push(X)}}var D=b.length!=0;if((D||Q)&&r.length<15e3&&1<W&&W<200)r=E.A.zg(r);
var h=E.p.Mf(r);return{DM:h,AO:D?1:0}};E.p.Mf=function(){function r(b,X,D,h){if(!h&&b.rP.s4(b.F)&&X.f0.s4(X.F)){D.C.push(X.F.x,X.F.y);
D.H.push("L")}else{var S=b.F,a=b.rP,K=X.f0,Y=X.F,d=3/2*a.x-1/2*S.x,j=3/2*a.y-1/2*S.y,U=3/2*K.x-1/2*Y.x,I=3/2*K.y-1/2*Y.y,f=U-d,g=I-j;
if(!h&&f*f+g*g<.001){D.C.push((d+U)*.5,(j+I)*.5,Y.x,Y.y);D.H.push("Q")}else{D.C.push(a.x,a.y,K.x,K.y,Y.x,Y.y);
D.H.push("C")}}}function Q(b,X,n,D,h,S){var a=X[n];b.C.push(a.F.x,a.F.y);b.H.push("M");for(var K=n;K<n+D-1;
K++)r(X[K],X[K+1],b,S);if(!h)r(X[K],X[n],b,S)}function W(b,X){b=E.A.qI(b);if(X==null)X=!1;var D={C:[],H:[]};
for(var n=0;n<b.length;n++){if(b[n].type>5)continue;var h=b[n].length;if(h==0)continue;if(n==b.length-1)break;
var S=b[n].type==3;Q(D,b,n+1,h,S,X);if(!S)D.H.push("Z");n+=h}return D}return W}();E.p.alh=function(r){var Q=r.C,W=[],b,X=0;
for(var n=0;n<r.H.length;n++){var D=r.H[n];if(D=="C"){b.push(Q[X++],Q[X++],Q[X++],Q[X++],Q[X++],Q[X++])}else if(D=="Z"){}else{b=[];
if(D!="M"){b.push(D);n++}b.push(Q[X++],Q[X++]);W.push(b)}}return W};E.p.nn=function(r,Q,W,b){if(b==null)b=1e9;
var X=1e9,D=0;for(var n=0;n<r.length;n+=2){var h=Q-r[n],S=W-r[n+1],a=h*h+S*S;if(a<X){X=a;D=n>>>1}}return X<b*b?D:-1};
E.p.Px=function(r,Q,W,b){for(var n=0;n<r.length;n+=2){var X=r[n],D=r[n+1],h=Q[n],S=Q[n+1];W[n]=X+(h-X)*b;
W[n+1]=D+(S-D)*b}};E.p.D=function(r,Q,W){for(var n=0;n<r.length;n+=2){var b=r[n],X=r[n+1];W[n]=b*Q.mu+X*Q.th+Q.rn;
W[n+1]=b*Q.k+X*Q.HR+Q.NQ}};E.p.Z3=function(r,Q,W){if(Q==null)Q=0;if(W==null)W=r.length;var b=99999999999,X=-b,D=99999999999,h=-D;
for(var n=Q;n<W;n+=2){var S=r[n],a=r[n+1];b=Math.min(b,S);D=Math.min(D,a);X=Math.max(X,S);h=Math.max(h,a)}return new aV(b,D,X-b,h-D)};
E.p.RD=function(r,Q){var W=Math.max(Q.x,Math.min(Q.x+Q.e,r.x)),b=Math.max(Q.y,Math.min(Q.y+Q.n,r.y)),X=r.x-W,D=r.y-b;
return Math.sqrt(X*X+D*D)};E.p.jq=function(r){if(r.WB())return new aV(Math.floor(r.x),Math.floor(r.y),Math.ceil(r.e),Math.ceil(r.n));
var Q=Math.floor(r.x),W=Math.ceil(r.x+r.e),b=Math.floor(r.y),X=Math.ceil(r.y+r.n);return new aV(Q,b,W-Q,X-b)};
E.p.QL=function(r){return E.p.jq(E.p.Z3(r))};E.p.vk=function(r){var Q=r.x,W=r.y,b=r.x+r.e,X=r.y+r.n;
return{H:["M","L","L","L","Z"],C:[Q,W,b,W,b,X,Q,X]}};E.p.concat=function(r,Q,W){if(W==null)W=new au;
for(var n=0;n<Q.C.length;n+=2){var b=Q.C[n],X=Q.C[n+1];r.C.push(b*W.mu+X*W.th+W.rn);r.C.push(b*W.k+X*W.HR+W.NQ)}for(var n=0;
n<Q.H.length;n++)r.H.push(Q.H[n])};E.p.axl=function(r,Q,W,b,X){function D(j,U,I){return new cp(j.x*(1-I)+U.x*I,j.y*(1-I)+U.y*I)}var h=D(r,Q,X),S=D(W,b,X),a=D(Q,W,X),K=D(h,a,X),Y=D(a,S,X),d=D(K,Y,X);
return[h,K,d,Y,S]};E.p.BF=function(r){var Q=r.C,W=[],b=[],X=0,D=0,h=0,S=0,a=0,K=0,Y=0,d=0,j=0,U=0,I=0;
for(var n=0;n<r.H.length;n++){var f=r.H[n];if(f=="M"){D=Q[X];h=Q[X+1];X+=2;b.push(f);W.push(D,h);U=D;
I=h}else if(f=="C"){S=Q[X];a=Q[X+1];K=Q[X+2];Y=Q[X+3];d=Q[X+4];j=Q[X+5];X+=6;b.push(f);W.push(S,a,K,Y,d,j);
D=d;h=j}else if(f=="Q"){S=Q[X];a=Q[X+1];K=Q[X+2];Y=Q[X+3];X+=4;var g=S-D,H=a-h,u=K-S,s=Y-a;b.push("C");
W.push(D+2/3*g,h+2/3*H,S+1/3*u,a+1/3*s,K,Y);D=K;h=Y}else if(f=="L"){S=Q[X];a=Q[X+1];X+=2;if(S!=D||a!=h){b.push("C");
W.push(D,h,S,a,S,a);D=S;h=a}}else{if(f=="Z"){D=U;h=I}b.push(f)}}return{H:b,C:W}};E.p.adk=function(r){var Q=r.C,W=[],b=[],X=0;
for(var n=0;n<r.H.length;n++){var D=r.H[n];if(D=="Q"){var h=Q[X-2],S=Q[X-1],a=Q[X],K=Q[X+1],Y=Q[X+2],d=Q[X+3];
X+=4;var j=a-h,U=K-S,I=Y-a,f=d-K;b.push("C");W.push(h+2/3*j,S+2/3*U,a+1/3*I,K+1/3*f,Y,d)}else{var g=0;
if(D=="M"||D=="L")g=2;else if(D=="C")g=6;for(var H=0;H<g;H++)W.push(Q[X+H]);X+=g;b.push(D)}}return{H:b,C:W}};
E.p.sb=function(r,Q){var W=r.C,b=[],X=[],D=0,h=0,S=0,a=0,K=0,Y=0,d=0,j=0,U=0;for(var n=0;n<r.H.length;
n++){var I=r.H[n];if(I=="M"){h=W[D];S=W[D+1];D+=2;X.push(I);b.push(h,S)}else if(I=="C"){a=W[D];K=W[D+1];
Y=W[D+2];d=W[D+3];j=W[D+4];U=W[D+5];D+=6;E.p.kZ(h,S,a,K,Y,d,j,U,Q,X,b,0);h=j;S=U}else X.push(I)}return{H:X,C:b}};
E.p.kZ=function(r,Q,W,b,X,D,h,S,a,K,Y,d){var j=Math.sqrt((h-r)*(h-r)+(S-Q)*(S-Q)),U=Math.sqrt((h-X)*(h-X)+(S-D)*(S-D))+Math.sqrt((X-W)*(X-W)+(D-b)*(D-b))+Math.sqrt((W-r)*(W-r)+(b-Q)*(b-Q)),I=(j+U)/2;
if(I<=a){K.push("C");Y.push(W,b,X,D,h,S)}else{var f=0,g=0,H=0,u=0,s=0,_=0,i=0,M=0,T=0,R=0,z=0,G=0,V=0;
g=(r+W)/2;H=(Q+b)/2;u=(W+X)/2;s=(b+D)/2;_=(X+h)/2;i=(D+S)/2;M=(g+u)/2;T=(H+s)/2;R=(u+_)/2;z=(s+i)/2;
G=(M+R)/2;V=(T+z)/2;E.p.kZ(r,Q,g,H,M,T,G,V,a,K,Y,d+1);E.p.kZ(G,V,R,z,_,i,h,S,a,K,Y,d+1)}};E.p.JV=function(r,Q,W,b,X){var D=Date.now(),h=E.p.aji(r,Q,W);
if(X){console.log("trace polygons",Date.now()-D);D=Date.now()}var S=[];for(var n=0;n<h.length;n++){var a=h[n],K=a[0],Y=["M"],d=r[K[1]*Q+K[0]];
if(K.length>8)K=E.p.pt(K,b,a[1]);if(K.length<=4)continue;for(var j=2;j<K.length;j+=2)Y.push("L");Y.push("Z");
S.push({path:{C:K,H:Y},color:d,parent:-1,Wr:E.p.Z3(K)})}if(X){console.log("simplify polygons",Date.now()-D);
D=Date.now()}for(var n=1;n<S.length;n++){var U=S[n],I=U.path.C,f=I[0],g=I[1],H=I[2],u=I[3],s=H-f,_=u-g,i=f+.5*s-.001*_,M=g+.5*_+.001*s;
for(var j=n-1;j>=0;j--){var T=S[j];if(!T.Wr.oN(U.Wr))continue;if(!ed.Zq(T.path.C,i,M))continue;U.parent=j;
break}}if(X){console.log("checking parents",Date.now()-D);D=Date.now()}return S};E.p.aji=function(r,Q,W){var b=Q*W,X=new Uint16Array(Q*W),h=0;
for(var n=0;n<b;n++)X[n]=r[n];var D=new Uint8Array(Q*W);D[1*Q+1]=D[(W-1)*Q+1]=D[1*Q+Q-1]=D[(W-1)*Q+Q-1]=1;
for(var S=1;S<W;S++)for(var a=1;a<Q;a++){var n=S*Q+a,K=X[n-Q-1],Y=X[n-Q],d=X[n-1],j=X[n],U=K==j&&Y==d&&K!=Y,I=0;
if(j<d){h=j;j=d;d=h}if(d<Y){h=d;d=Y;Y=h}if(Y<K){h=Y;Y=K;K=h}if(j<d){h=j;j=d;d=h}if(d<Y){h=d;d=Y;Y=h}if(j<d){h=j;
j=d;d=h}if(K!=Y)I++;if(Y!=d)I++;if(d!=j)I++;if(j!=K)I++;if(I>=3||U)D[n]=1}var f=[];for(var S=1;S<W;S++)for(var a=1;
a<Q;a++){var n=S*Q+a;if(X[n]!=X[n-1]){var g=E.p.at_(X,Q,W,a,S),H=[];for(var u=0;u<g.length;u+=2)if(D[g[u+1]*Q+g[u]]==1)H.push(u>>>1);
f.push([g,H]);E.p.Cm(X,Q,W,a,S)}}return f};E.p.Cm=function(r,Q,W,b,X){var D=[X*Q+b],h=r[X*Q+b];r[X*Q+b]=65535;
while(D.length!=0){var n=D.pop();r[n]=0;if(r[n+Q]==h){D.push(n+Q);r[n+Q]=65535}if(r[n-Q]==h){D.push(n-Q);
r[n-Q]=65535}if(r[n-1]==h){D.push(n-1);r[n-1]=65535}if(r[n+1]==h){D.push(n+1);r[n+1]=65535}}};E.p.at_=function(r,Q,W,b,X){var D=[0,-1,1,0,0,1,-1,0],Y=1;
function h(j,U,Y){var n=K*Q+a,I=0;if(Y==0)I=n-Q;else if(Y==1)I=n;else if(Y==2)I=n-1;else if(Y==3)I=n-Q-1;
return r[I]}var S=[],a=b,K=X,d=h(a,K,Y);do{S.push(a,K);a+=D[Y*2];K+=D[Y*2+1];if(h(a,K,Y)!=d)Y=Y+1&3;
else if(h(a,K,Y+3&3)!=d)Y=Y;else if(h(a,K,Y+2&3)!=d)Y=Y+3&3}while(a!=b||K!=X);return S};E.p.pt=function(r,Q,W){var b=r.length-2;
if(W&&W.length!=0){var X=W[0]*2,D=W[W.length-1]*2,h=X==0?b:X-2,S=r.slice(D);for(var n=0;n<X;n++)S.push(r[n]);
if(X==D)S.push(.9*r[X]+.1*r[h],.9*r[X+1]+.1*r[h+1]);else S.push(r[X],r[X+1]);S=E.p.LX(S,Q);S.pop();S.pop();
for(var n=0;n<W.length-1;n++){var a=r.slice(W[n]*2,W[n+1]*2+2);a=E.p.LX(a,Q);for(var K=0;K<a.length-2;
K++)S.push(a[K])}return S}var Y=r.slice(0);Y.push(.9*r[0]+.1*r[b],.9*r[1]+.1*r[b+1]);Y=E.p.LX(Y,Q);Y.pop();
Y.pop();return Y};E.p.LX=function(r,Q){var W=r.length-2,b=r[0],X=r[1],D=r[W],h=r[W+1],S=D-b,a=h-X,K=1/Math.sqrt(S*S+a*a),Y=D*X-h*b,d=-1,j=-1,U=0;
for(var n=2;n<W;n+=2){var I=r[n],f=r[n+1],g=f*f*1e6+I*I,H=Math.abs(a*I-S*f+Y)*K;if(H>j||H==j&&g>U){j=H;
d=n;U=g}}if(j<Q)return[b,X,D,h];var u=E.p.LX(r.slice(0,d+2),Q),s=E.p.LX(r.slice(d),Q);for(var n=2;n<s.length;
n++)u.push(s[n]);return u};E.p.a5e=function(){var r=function(b,X,D,h,S,a){return(X-h)*(S-D)+(D-b)*(a-h)>=0},Q=function(b,X,D,h,S,a,K,Y){var d=K-D,j=Y-h,U=S-D,I=a-h,f=b-D,g=X-h,H=d*d+j*j,u=d*U+j*I,s=d*f+j*g,_=U*U+I*I,i=U*f+I*g,M=1/(H*_-u*u),T=(_*s-u*i)*M,R=(H*i-u*s)*M;
return T>=0&&R>=0&&T+R<1},W=function(b){var fb=b.length>>>1,n=0;if(fb<3)return[];var X=[],D=[];for(var n=0;
n<fb;n++)D.push(n);var h=fb;while(h>3){var S=D[(n+0)%h],a=D[(n+1)%h],K=D[(n+2)%h],Y=b[2*S],d=b[2*S+1],j=b[2*a],U=b[2*a+1],I=b[2*K],f=b[2*K+1],g=!1;
if(r(Y,d,j,U,I,f)){g=!0;for(var H=0;H<h;H++){var u=D[H];if(u==S||u==a||u==K)continue;if(Q(b[2*u],b[2*u+1],Y,d,j,U,I,f)){g=!1;
break}}}if(g){X.push(S,a,K);D.splice((n+1)%h,1);h--;n=0}else if(n++>3*h)break}X.push(D[0],D[1],D[2]);
return X};return W}();E.p.a4p=function(r,Q){var W={},b={H:[],C:[]};for(var n=0;n<Q.length;n+=3){var X=Q[n]*2,D=Q[n+1]*2,h=Q[n+2]*2;
E.p.Kn(r,X,D,b,W);E.p.Kn(r,X,h,b,W);E.p.Kn(r,D,h,b,W)}return b};E.p.Kn=function(r,Q,W,b,X){if(Q>W){var D=W;
W=Q;Q=D}if(X[Q+","+W])return;X[Q+","+W]=!0;b.H.push("M","L");b.C.push(r[Q],r[Q+1],r[W],r[W+1])};E.p.zX=function(r,Q){var W=[],b=r.length;
for(var n=0;n<b;n+=2){var X=r[n],D=r[n+1],h=r[(n+2)%b],S=r[(n+3)%b];if(S<D){var a=D;D=S;S=a}if(D<Q&&Q<S){var K=(Q-D)/(S-D);
W.push(X+K*(h-X))}}W.sort(function(Y,d){return Y-d});return W};E.p.EN=function(r,Q,W,b,X,D,h){var S=r-W,a=Q-b,K=X-W,Y=D-b,d=1/Math.sqrt(S*S+a*a),j=1/Math.sqrt(K*K+Y*Y),U=S*d,I=a*d,f=K*j,g=Y*j,H=I*h,u=-U*h,s=-g*h,_=f*h,i=E.p.gs(H,u,U,I,s,_,f,g),M=H+U*i,T=u+I*i,i=E.p.gs(0,0,U,I,M,T,-I,U),R=U*i,z=I*i;
return[Math.sqrt(R*R+z*z),U,I,f,g]};E.p.ae6=function(r,Q,W,b,X,D,h){var S=E.p.EN(r,Q,W,b,X,D,h),a=S[0],K=S[1],Y=S[2],d=S[3],j=S[4],U=Math.atan2(K*j-Y*d,K*d+Y*j);
if(U<0){U=U*-1}var I=Math.PI-U,f=4/3*Math.tan(I/4),g=W+a*K,H=b+a*Y,u=W+a*d,s=b+a*j,_=g+f*h*-K,i=H+f*h*-Y,M=u+f*h*-d,T=s+f*h*-j;
return[0,0,g,H,_,i,M,T,u,s]};E.p.gs=function(r,Q,W,b,X,D,h,S){var a=h*(Q-D)-S*(r-X),K=S*W-h*b;if(K==0)return 0;
return a/K};E.p.a3j=function(r,Q,W,b,X,D){return r*(b-D)+W*(D-Q)+X*(Q-b)};E.p.alc=function(r){function Q(B,v,l,F,L,Z,t,A,o){var O=E.p.gs(B,v,l,F,L,Z,t,A);
o.push(B+l*O,v+F*O)}var W=[],b=r.length,X=[];for(var n=0;n<b;n+=2){var D=n==0?b-2:n-2,h=n==b-2?0:n+2,S=r[n],a=r[n+1],K=S-r[D],Y=a-r[D+1],d=r[h]-S,j=r[h+1]-a,U=Math.sqrt(K*K+Y*Y),I=Math.sqrt(d*d+j*j);
X.push(I);var f=U/(U+I),g=S-K*.5,H=a-Y*.5,u=S+d*.5,s=a+j*.5,_=(r[h]+r[D])*.5,i=(r[h+1]+r[D+1])*.5,M=g+f*(u-g),T=H+f*(s-H),R=S-M,z=a-T,G=(d*-K+j*-Y)/(U*I),V=(f-.5)*7,y=1+V*f,k=1-V*(1-f);
W.push(g+R*y,H+z*y,u+R*k,s+z*k)}return W};E.Sz=function(){};E.Sz.Pf=function(r,Q,W,b,X){var D=W.e,h=W.n,S=D*h,a=new Int32Array(S),fb=0;
for(var n=0;n<S;n++)if(Q[n]!=0){a[n]=fb;fb++}else if(r[(n<<2)+3]<200){a[n]=-2}else a[n]=-1;if(fb==0)return;
var K=new E.oX(fb,fb),Y=new Array(3*fb),d=new Array(3*fb);for(var n=0;n<d.length;n++)d[n]=Y[n]=0;var j=1/255,U=[-D,-1,1,D],I=[],f=[];
for(var g=0;g<h;g++)for(var H=0;H<D;H++){var u=g*D+H,s=u<<2,n=a[u],_=n*3,i=0,M=0,T=0;if(n==-1||n==-2)continue;
for(var R=0;R<4;R++){if(R==2){M=T;I[T]=0;f[T]=n;T++}var z=u+U[R],G=z<<2,V=a[z];if(R==0&&g==0||R==1&&H==0||R==2&&H==D-1||R==3&&g==h-1||V==-2)continue;
i++;if(V==-1){Y[_+0]+=r[G+0];Y[_+1]+=r[G+1];Y[_+2]+=r[G+2]}else{I[T]=-1;f[T]=V;T++;if(Q[u]==Q[z]){Y[_+0]+=r[s+0]-r[G+0];
Y[_+1]+=r[s+1]-r[G+1];Y[_+2]+=r[s+2]-r[G+2]}}}I[M]=i;K.PO(I,f,T)}for(var n=0;n<S;n++)if(a[n]!=-1){var y=n<<2,k=a[n],B=k*3;
d[B]=r[y+0];d[B+1]=r[y+1];d[B+2]=r[y+2]}var v=Date.now();K.amB(d,Y,b,X);console.log(Date.now()-v);for(var n=0;
n<S;n++){var k=a[n],l=k*3,y=n<<2;if(k==-1||r[y+3]!=255)continue;r[y+0]=~~(.5+Math.max(0,Math.min(255,d[l+0])));
r[y+1]=~~(.5+Math.max(0,Math.min(255,d[l+1])));r[y+2]=~~(.5+Math.max(0,Math.min(255,d[l+2])))}};E.rect={};
E.rect.mN=function(r,Q){var W=[r],b=[];for(var n=0;n<Q.length;n++){var X=Q[n],D=!1;for(var h=n+1;h<Q.length;
h++){var S=Q[h];if(S[0]<=X[0]&&S[1]<=X[1]&&X[2]<=S[2]&&X[3]<=S[3]){D=!0;break}}if(!D)b.push(X)}Q=b;for(var n=0;
n<Q.length;n++){var X=Q[n];for(var h=0;h<W.length;h++){var S=W[h],a=Math.max(X[0],S[0]),K=Math.min(X[2],S[2]),Y=Math.max(X[1],S[1]),d=Math.min(X[3],S[3]);
if(a<K&&Y<d){var j=[];if(S[1]<X[1]){var U=S.slice(0);U[3]=X[1];j.push(U)}if(S[0]<X[0]){var I=S.slice(0);
I[1]=Y;I[2]=X[0];j.push(I)}if(X[2]<S[2]){var f=S.slice(0);f[1]=Y;f[0]=X[2];j.push(f)}if(X[3]<S[3]){var g=[a,d,K,S[3]];
j.push(g)}if(j.length!=0){W[h]=j[0];for(var H=1;H<j.length;H++)W.push(j[H])}}}W.push(X);W=E.rect.adM(W)}W.sort(function(X,S){return X[1]!=S[1]?X[1]-S[1]:X[0]-S[0]});
for(var n=1;n<W.length;n++){var X=W[n-1],S=W[n];if(X[0]==S[0]&&X[1]==S[1]&&X[2]==S[2]&&X[3]==S[3]){W.splice(X[4]==null?n-1:n,1);
n--}}return W};E.rect.adM=function(r){r=r.slice(0);for(var n=0;n<r.length;n++){var Q=r[n],W=null;if(Q[4]!=null)continue;
for(var b=0;b<r.length;b++){var X=r[b];if(n==b||X[4]!=null)continue;var D=Q[0]==X[0],h=Q[1]==X[1],S=Q[2]==X[2],a=Q[3]==X[3];
if(h&&a&&(Q[2]==X[0]||Q[0]==X[2])){W=[Math.min(Q[0],X[0]),Q[1],Math.max(Q[2],X[2]),Q[3]]}if(D&&S&&(Q[3]==X[1]||Q[1]==X[3])){W=[Q[0],Math.min(Q[1],X[1]),Q[2],Math.max(Q[3],X[3])]}if(W){r[n]=W;
r.splice(b,1);break}}if(W){n--}}return r};E.rect.gY=function(r){var Q=new aV;for(var n=0;n<r.length;
n++)Q=Q.Bc(r[n]);return Q};E.rect.ahz=function(r,Q){var W=E.rect.gY,b=new UnionFind(r.length),M=1e3,T=1e3;
for(var n=0;n<r.length;n++)for(var X=n+1;X<r.length;X++){if(!Q)continue;var D=r[n],h=r[X],d=1e9,j=1e9;
if(D.fs(h)){b.link(n,X);continue}var S=D.x+D.e,a=D.y+D.n,K=h.x+h.e,Y=h.y+h.n;if((S<h.x||K<D.x)&&(a<h.y||Y<D.y))continue;
if(!(a<h.y||Y<D.y))d=Math.min(Math.abs(S-h.x),Math.abs(D.x-K));if(!(S<h.x||K<D.x))j=Math.min(Math.abs(a-h.y),Math.abs(D.y-Y));
var U=Math.min(d,j),I=Math.min(D.e,D.n,h.e,h.n);if(U<.3*I)b.link(n,X)}var f=[],g={};for(var n=0;n<r.length;
n++){var H=b.find(n),u=r[n];if(g[H]==null){g[H]=f.length;f.push([])}f[g[H]].push(u)}var s=[],_=[];for(var n=0;
n<f.length;n++){s.push(W(f[n]));var i=W(f[n]);i.sk=n;_.push(i)}_.sort(function(F,L){return Math.max(L.n,L.e)-Math.max(F.n,F.e)});
var R=new NETXUS.RectanglePacker(M,T);while(!0){var z=!1;R.reset(M,T);for(var n=0;n<_.length;n++){var G=R.findCoords(_[n].e,_[n].n);
if(G){_[n].x=G.x;_[n].y=G.y}else{M=Math.floor(M*1.1);T=Math.floor(T*1.1);z=!0;break}}if(z)continue;break}for(var n=0;
n<f.length;n++){var V=_[n],y=V.sk,k=s[y],B=f[y],v=V.x-k.x,l=V.y-k.y;for(var X=0;X<B.length;X++)B[X].offset(v,l)}};
E.iZ=function(){};E.iZ.ZR=Math.floor(16*window.devicePixelRatio);E.iZ.O3={};E.iZ.MH=0;E.iZ.Rh=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
E.iZ.av0=["px","in","cm","mm","%"];E.iZ.QO=function(r,Q,W,b){var X=[1,Q,Q/2.54,Q/25.4,W/100][b];return r*X};
E.iZ.axC=function(r,Q,W,b){var X=[1,Q,Q/2.54,Q/25.4,W/100][b];return r/X};E.iZ.HE=function(r,Q,W,b,X){var D=W.fl.dp,h=[1,Q,Q/2.54,Q/25.4,b/100][D],S=[2,3,2,1,2][D];
r=r/h;var a=Math.round(r),K=D==0&&Math.abs(r-a)<1e-6?a+"":r.toFixed(S);if(X)K+=" "+E.iZ.av0[D];return K};
E.iZ.af2=function(r,Q,W,b){var X=W.fl.dp,D=[1,Q,Q/2.54,Q/25.4,b/100][X];r=parseFloat(r)*D;return r};
E.iZ.awM=function(r,Q){var W=r+","+Q;if(E.iZ.O3.clr==W)return;var b=Math.round(E.iZ.ZR*.5);E.iZ.MH=b;
var X=document.createElement("canvas");X.width=X.height=b;var D=X.getContext("2d");D.font=b*1.5+"px monospace";
var h="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var n=0;n<h.length;n++){D.fillStyle="#"+E.Y0(Q);D.fillRect(0,0,b,b);
D.fillStyle="#"+E.Y0(r);D.fillText(h[n],0,b);E.iZ.O3[h[n]]=D.getImageData(0,0,b,b).data}E.iZ.O3.clr=W};
E.iZ.a0q=function(r,Q,W){var b=0,X=0,D=4*E.iZ.ZR;for(var n=9;n>=0;n--){var h=Math.pow(10,n);if(5*h*r<=D){b=5*h;
X=10;break}if(2*h*r<=D){b=2*h;X=4;break}if(1*h*r<=D){b=1*h;X=10;break}}if(b==0){b=1;X=10}var S=Math.ceil(b*r),a=E.Q(S*E.iZ.ZR*4);
E.tl(a,4278190080|W);for(var n=0;n<E.iZ.ZR;n++)E.iZ.Ud(a,4*n*S,Q);for(var n=0;n<S;n++)E.iZ.Ud(a,4*((E.iZ.ZR-1)*S+n),Q);
if(b==2)X=2;if(b==5)X=5;if(b>1||b==1&&S>20)for(var n=1;n<X;n++)E.iZ.ajN(a,n*(S/X),S,(n&1)==1?.8:.7,Q);
return{ov:a,step:b}};E.iZ.ajN=function(r,Q,W,b,X){var Q=Math.round(Q);for(var D=Math.round(E.iZ.ZR*b);
D<E.iZ.ZR-1;D++)E.iZ.Ud(r,4*(D*W+Q),X)};E.iZ.Ud=function(r,Q,W){r[Q+0]=W>>16&255;r[Q+1]=W>>8&255;r[Q+2]=W&255};
E.iZ.a4l=function(r,Q,W,b,X,D,h){var S=r.qv.e,a=r.qv.n,K=E.iZ.ZR,Y=Q&255,d=Q>>8&255,j=Q>>16&255;Q=Math.round(Y*.6)<<16|Math.round(d*.6)<<8|Math.round(j*.6);
E.iZ.awM(Math.round(Y*.8)<<16|Math.round(d*.8)<<8|Math.round(j*.8),W);var U=r._,I=r.R,f=r.tA;for(var g=0;
g<2;g++){var H=g==0?D:h;r._=H[0];r.R=H[1];r.tA=0;var u=this.a0q(r._,Q,W),s=r.GF(0,0),_=r.GF(S,a),i=Math.floor(s.x/u.step)*u.step,M=Math.ceil(_.x/u.step)*u.step,T=Math.floor(s.y/u.step)*u.step,R=Math.ceil(_.y/u.step)*u.step,z=r.Au(i,T),G=r.Au(M,T),V=u.step*r._,y=Math.ceil(V);
if(g==1){var k=u.ov;u.ov=E.Q(k.length*4);E.K.ob(k,u.ov,y,K)}var B=g==0?r.Rz.data:r.P1.data,v=new aV(0,0,[S,K][g],[K,a][g]),l=new aV(0,0,[y,K][g],[K,y][g]),F=new aV([0,Math.round(K*.2)][g],[Math.round(K*.08),0][g],E.iZ.MH,E.iZ.MH),L=(g==0?M-i:R-T)/u.step;
for(var n=0;n<L;n++){if(g==0)l.x=Math.round(z.x+n*V);else l.y=Math.round(z.y+n*V);E.TU(u.ov,l,B,v,l);
var Z=(g==0?i+n*u.step:Math.abs(T+n*u.step)).toString(10);for(var t=0;t<Z.length;t++){if(g==0)F.x=l.x+3+t*Math.round(E.iZ.MH*.8);
else F.y=l.y+3+t*Math.round(E.iZ.MH*1.15);var A=E.iZ.O3[Z[t]];E.TU(A,F,B,v,F)}}}r._=U;r.R=I;r.tA=f;var o=Math.floor(K*.6),O=new Uint32Array(r.Rz.data.buffer),x=new Uint32Array(r.P1.data.buffer),C=Y<128?4278190080:4294967295;
if(0<b&&b<S)for(var n=0;n<o;n++)O[n*S+b]=C;if(0<X&&X<a)for(var n=0;n<o;n++)x[X*K+n]=C};E.scale={};E.scale.T=document.createElement("canvas");
E.scale.hA=E.scale.T.getContext("2d");E.scale.no=document.createElement("canvas");E.scale.Ze=E.scale.no.getContext("2d");
E.scale.iF=function(r,Q,W){var b=E.scale.T,X=E.scale.hA;b.width=Q;b.height=W;var D=new ImageData(new Uint8ClampedArray(r.buffer),Q,W);
X.putImageData(D,0,0);return X.createPattern(b,"repeat")};E.scale.Xd=function(r,Q,W,b,X,D,h,S,a){var K=E.scale.asf(r,W,b,X,D,h,S,a).data;
if(Q)E.qr(K,Q);return new Uint8Array(K.buffer)};E.scale.asf=function(r,Q,W,b,X,D,h,S){var a=E.scale.T,K=E.scale.hA;
a.width=Q;a.height=W;K.rect(0,0,Q,W);K.translate(D,h);K.scale(b,X);if(S!=null)K.rotate(-S);K.fillStyle=r;
K.fill();return K.getImageData(0,0,Q,W)};E.scale.D=function(r,Q,W,b,X){var D=W.clone();D.j4();var h=X.e,S=X.n,a=E.p.vk(Q).C;
E.p.D(a,D,a);var K=E.p.QL(a).ww(X),Y=K.x,d=K.y,j=Y+K.e,U=d+K.n,I=~~Q.x,f=~~Q.y,g=~~Q.e,H=~~Q.n;for(var u=d;
u<U;u++)for(var s=Y;s<j;s++){var _=s+.5,i=u+.5,M=W.mu*_+W.th*i+W.rn-I,T=W.k*_+W.HR*i+W.NQ-f;if(0<=M&&0<=T&&M<g&&T<H)b[u*h+s]=r[~~T*g+~~M]}};
E.scale.U_=function(r,Q,W,b,X,D){var h=new Uint32Array(r.buffer),S=new Uint32Array(b.buffer),a=W.clone();
a.j4();var K=X.e,Y=X.n,d=E.p.vk(Q).C;E.p.D(d,a,d);var j=D?X:E.p.QL(d).ww(X),U=j.x,I=j.y,f=U+j.e,g=I+j.n,H=~~Q.x,u=~~Q.y,s=~~Q.e,_=~~Q.n;
for(var i=I;i<g;i++)for(var M=U;M<f;M++){var T=M+.5,R=i+.5,z=W.mu*T+W.th*R+W.rn-H,G=W.k*T+W.HR*R+W.NQ-u;
if(D){z=((s<<10)+z)%s;G=((_<<10)+G)%_}if(0<=z&&0<=G&&z<s&&G<_)S[i*K+M]=h[~~G*s+~~z]}};E.scale.Wn=function(r,Q,W,b,X,D,h){if(h<1)E.scale.a3o(r,Q,W,b,X,D,Math.round(1/h));
else E.scale.ahW(r,Q,W,b,X,D,h)};E.scale.mD=function(r,Q,W,b,X,D,h,S){if(S)S=S.ww(new aV(0,0,Q,W));r=new Uint32Array(r.buffer);
b=new Uint32Array(b.buffer);if(h<1)E.scale.a09(r,Q,W,b,X,D,Math.round(1/h),S);else E.scale.ahu(r,Q,W,b,X,D,h)};
E.scale.ahW=function(r,Q,W,b,X,D,h){for(var S=0;S<W;S++)for(var a=0;a<Q;a++){var K=r[S*Q+a],Y=Math.min(h,X-a*h),d=Math.min(h,D-S*h);
for(var n=0;n<d;n++)for(var j=0;j<Y;j++)b[(h*S+n)*X+h*a+j]=K}};E.scale.a3o=function(r,Q,W,b,X,D,h){for(var S=0;
S<D;S++)for(var a=0;a<X;a++){var K=0,Y=Math.min(h,Q-a*h),d=Math.min(h,W-S*h);for(var n=0;n<d;n++)for(var j=0;
j<Y;j++)K+=r[(h*S+n)*Q+(h*a+j)];b[S*X+a]=Math.round(K/(Y*d))}};E.scale.ahu=function(r,Q,W,b,X,D,h){for(var S=0;
S<W;S++)for(var a=0;a<Q;a++){var K=r[S*Q+a],Y=Math.min(h,X-a*h),d=Math.min(h,D-S*h);for(var n=0;n<d;
n++)for(var j=0;j<Y;j++)b[(h*S+n)*X+h*a+j]=K}};E.scale.adm=function(r,Q,W){return(r>>>W&255)+(Q>>>W&255)>>>1};
E.scale.An=function(r,Q){var W=E.scale.adm;return W(r,Q,24)<<24|W(r,Q,16)<<16|W(r,Q,8)<<8|W(r,Q,0)};
E.scale.ahq=function(r,Q,W,b,X,D){var h=new Uint32Array(r.buffer),S=new Uint32Array(b.buffer);for(var a=0;
a<W;a++){for(var K=0;K<Q;K++){var Y=a*Q+K,d=h[Y],j=d,U=d,I=d;if(K<Q-1)j=E.scale.An(d,h[Y+1]);if(a<W-1)U=E.scale.An(d,h[Y+Q]);
if(K<Q-1&&a<W-1)I=E.scale.An(d,h[Y+Q+1]);var f=(a*X+K)*2;S[f]=d;S[f+1]=j;S[f+X]=U;S[f+X+1]=I}}if((X&1)==1)for(var a=0;
a<D;a++)S[a*X+X-1]=S[a*X+X-2];var g=X*(D-1);if((D&1)==1)for(var K=0;K<X;K++)S[g+K]=S[g-X+K]};E.scale.a09=function(r,Q,W,b,X,D,h,S){var a=0,K=X,Y=0,d=D;
if(S){a=Math.floor(S.x/h);K=Math.ceil((S.x+S.e)/h);Y=Math.floor(S.y/h);d=Math.ceil((S.y+S.n)/h)}for(var j=Y;
j<d;j++)for(var U=a;U<K;U++){var I=0,f=0,g=0,H=0,u=Math.min(h,Q-U*h),s=Math.min(h,W-j*h);for(var n=0;
n<s;n++)for(var _=0;_<u;_++){var i=r[(h*j+n)*Q+h*U+_],M=i>>>24;I+=M;f+=M*(i>>>16&255);g+=M*(i>>>8&255);
H+=M*(i&255)}if(I!=0){var T=1/I;b[j*X+U]=I/(u*s)<<24|f*T<<16|g*T<<8|H*T}else b[j*X+U]=0}};E.P=function(){function r(S,a,n){return(128&S[n-a-1]&S[n-a]&S[n-2]&S[n-1]&S[n+1]&S[n+a-1]&S[n+a])==0}function Q(S,a,n){return(128&S[n-a-a]&S[n-a+1]&S[n+2]&S[n+a+1]&S[n+a+a])==0}function W(S,a,n){return(S[n-a]&S[n-1]&S[n+1]&S[n+a]&128)==0}function b(S,n){return(S[n]&128)!=0}function X(S,a,K,Y){var n=0,d=K.e,j=K.n;
if(Y)for(var U=0;U<j;U++)for(var I=0;I<d;I++){if(b(S,n)&&(I<2||U<2||I>d-3||U>j-3||((S[n-1]&128)==0||a[n-1]!=0)&&r(S,d,n)||Q(S,d,n)))a[n]=255;
n++}else for(var U=0;U<j;U++)for(var I=0;I<d;I++){if(b(S,n)&&(I==0||U==0||I==d-1||U==j-1||W(S,d,n)))a[n]=255;
n++}}function D(S,a,K,Y,d){var j=K.e,U=K.n,I=new Uint8Array(a.buffer),f=new Uint32Array(a.buffer);if(d)for(var g=2;
g<U-2;g++)for(var H=2;H<j-2;H++){var n=g*j+H;if(b(S,n)&&(((S[n-1]&128)==0||f[n-1]!=0)&&r(S,j,n)||Q(S,j,n)))f[n]=Y[(H+g&4)>>>2]}else for(var g=1;
g<U-1;g++)for(var H=1;H<j-1;H++){var n=g*j+H;if(b(S,n)&&W(S,j,n)){f[n]=Y[(H+g&4)>>>2]}}}function h(S,a,K,Y,d){var j=K.e,U=K.n,I=0,f=0,g=j,H=U,u=new Uint8Array(a.buffer),s=new Uint32Array(a.buffer);
for(var _=f;_<H;_++)for(var i=I;i<g;i++){var n=_*j+i,M=S[n];if(Y==1)s[n]=255-M>>>1<<24|255;else s[n]=255<<24|(M<<16|M<<8|M)}}return{a5S:X,adp:D,a5C:h}}();
E.Pn={};E.Pn.Df=function(r,Q,W){var b,X;if(W==0){b=r.rect.clone();X=E.Pn.ace}if(W==1){b=r.rect.Bc(Q.rect);
X=E.Pn.Bc}if(W==2){b=Q.rect.clone();X=E.Pn.avG}if(W==3){b=r.rect.ww(Q.rect);X=E.Pn.ww}if(W==4){b=r.rect.Bc(Q.rect);
X=E.Pn.axb}if(b.WB())return null;var D=E.Q(b.O());E.L0(Q.channel,Q.rect,D,b);var h=E.Q(b.O());E.L0(r.channel,r.rect,h,b);
X(h,D,D);var S=E.ub(D,b);if(S.WB())return null;if(!S.s4(b)){var a=E.Q(S.O());E.L0(D,b,a,S);D=a;b=S}return{channel:D,rect:b}};
E.Pn.ace=function(r,Q,W){for(var n=0;n<r.length;n++)W[n]=r[n]};E.Pn.Bc=function(r,Q,W){for(var n=0;n<r.length;
n++)W[n]=Math.min(r[n]+Q[n],255)};E.Pn.avG=function(r,Q,W){for(var n=0;n<r.length;n++)W[n]=Math.max(Q[n]-r[n],0)};
E.Pn.ww=function(r,Q,W){var b=1/255;for(var n=0;n<r.length;n++)W[n]=r[n]*Q[n]*b};E.Pn.axb=function(r,Q,W){var b=1/255;
for(var n=0;n<r.length;n++)W[n]=Math.min(r[n]+Q[n],255)-r[n]*Q[n]*b};E.oX=function(r,Q){this.c=[];this.p_=[0];
this.O$=[];this.ZM=[];this.hI=[0];this.ym=[];this.zN=[];this.rows=r;this.cols=Q};E.oX.prototype.clone=function(){var r=this,Q=r.rows,W=r.cols,b=new E.oX(Q,W);
b.c=r.c.slice(0);b.p_=r.p_.slice(0);b.O$=r.O$.slice(0);b.ZM=r.ZM.slice(0);b.hI=r.hI.slice(0);b.ym=r.ym.slice(0);
b.zN=r.zN.slice(0);return b};E.oX.prototype.PO=function(r,Q,W){var b=this.p_.length-1;for(var n=0;n<W;
n++){var X=r[n],D=Q[n];this.c.push(X);this.O$.push(D);if(D==b){this.zN.push(X==0?0:1/X)}else{this.ZM.push(X);
this.ym.push(D)}}this.p_.push(this.c.length);this.hI.push(this.ZM.length)};E.oX.prototype._o=function(r,Q){var W=this,b=W.rows,X=W.c,D=W.O$;
if(Q==null)Q=new Array(b);for(var n=0;n<b;n++){var h=W.p_[n],S=W.p_[n+1],a=0;while((S-h&3)!=0){a+=X[h]*r[D[h]];
h++}for(var K=h;K<S;K+=4)a+=X[K]*r[D[K]]+X[K+1]*r[D[K+1]]+X[K+2]*r[D[K+2]]+X[K+3]*r[D[K+3]];Q[n]=a}return Q};
E.oX.prototype.multiply=function(r){return this.xC(r.ob())};E.oX.prototype.xC=function(r){var Q=this,W=Q.rows,b=Q.cols,X=r.rows,D=new E.oX(W,X),h=Q.O$,S=r.O$;
for(var n=0;n<W;n++){var a=[],K=[],Y=Q.p_[n],d=Q.p_[n+1];for(var j=0;j<X;j++){var U=r.p_[j],I=r.p_[j+1],f=0,g=Y,H=U;
while(g<d&&H<I){var u=Math.max(h[g],S[H]);while(g<d&&h[g]<u)g++;while(H<I&&S[H]<u)H++;if(g<d&&H<I&&h[g]==S[H])f+=Q.c[g++]*r.c[H++]}if(f!=0){a.push(f);
K.push(j)}}D.PO(a,K,a.length)}return D};E.oX.prototype.ob=function(){var r=this.rows,Q=this.cols,W=[];
for(var n=0;n<Q;n++)W.push([[],[]]);var b=this.c,X=this.p_,D=this.O$;for(var n=0;n<r;n++){var h=X[n],S=X[n+1];
for(var a=h;a<S;a++){var K=W[D[a]];K[0].push(b[a]);K[1].push(n)}}var Y=new E.oX(Q,r);for(var n=0;n<Q;
n++)Y.PO(W[n][0],W[n][1],W[n][1].length);return Y};E.oX.prototype.MX=function(){var r=this.rows,Q=this.cols,W=new Array(r),b=this.c,X=this.p_,D=this.O$;
for(var n=0;n<r;n++){var h=W[n]=new Array(Q);for(var S=0;S<Q;S++)h[S]=0;var a=X[n],K=X[n+1];for(var Y=a;
Y<K;Y++)h[D[Y]]=b[Y]}return W};E.oX.prototype.Pg=function(r,Q,W,b,X){function D(T,Q,R,z){var G=T.length;
for(var n=0;n<G;n++)z[n]=T[n]-Q[n]*R}function h(T,Q,R,z){var G=T.length,V=0;while((G-V&3)!=0){z[V]=T[V]+Q[V]*R;
V++}for(var n=V;n<G;n+=4){z[n]=T[n]+Q[n]*R;z[n+1]=T[n+1]+Q[n+1]*R;z[n+2]=T[n+2]+Q[n+2]*R;z[n+3]=T[n+3]+Q[n+3]*R}}function S(T,Q,R){var z=T.length;
for(var n=0;n<z;n++)R[n]=T[n]*Q[n]}function a(T,Q){var R=T.length,z=0,G=0;while((R-z&3)!=0){G+=T[z]*Q[z];
z++}for(var n=z;n<R;n+=4)G+=T[n]*Q[n]+T[n+1]*Q[n+1]+T[n+2]*Q[n+2]+T[n+3]*Q[n+3];return G}var K=b!=null?2:1,Y=Date.now(),d=0,j=this,U=r.slice(0),I=r.slice(0);
j._o(r,I);D(Q,I,1,U);var f=this.zN;if(K==0){f=U.slice(0);f.fill(1)}var g=U.slice(0);S(f,U,g);var H=g.slice(0),u=a(U,g);
while(!0){j._o(H,I);var s=u/a(H,I);h(r,H,s,r);D(U,I,s,U);if((d&7)==0&&Math.sqrt(a(U,U))<W)break;if(K<=1)S(f,U,g);
else{var _=U.slice(0);b.ajM(_,U);X.a4w(g,_)}var i=a(U,g),M=i/u;h(g,H,M,H);u=i;d++}};E.oX.prototype.a0o=function(r,Q,W,b){var X=Date.now(),D=1.96,S=0;
if(W==null)W=5e-6;if(b==null)b=1e9;var h=1-D,fb=this.rows,a=this.ZM,K=this.hI,Y=this.ym,d=this.zN;while(!0){var j=0;
for(var n=0;n<fb;n++){var U=Q[n],I=K[n],f=K[n+1];if(f-I==4)U-=a[I]*r[Y[I]]+a[I+1]*r[Y[I+1]]+a[I+2]*r[Y[I+2]]+a[I+3]*r[Y[I+3]];
else for(var g=I;g<f;g++)U-=a[g]*r[Y[g]];var H=r[n]*h+d[n]*U*D,u=H-r[n];j+=u*u;r[n]=H}if(j/fb<W||Date.now()>X+b)break}};
E.oX.prototype.amB=function(r,Q,W,b){var X=Date.now(),D=1.96,S=0;if(W==null)W=5e-5;if(b==null)b=1e9;
var h=1-D,fb=this.rows,a=this.ZM,K=this.hI,Y=this.ym,d=this.zN;while(!0){var j=0;for(var n=0;n<fb;n++){var U=n*3,I=Q[U],f=Q[U+1],g=Q[U+2],H=K[n],u=K[n+1];
for(var s=H;s<u;s++){var _=a[s],i=Y[s]*3;I-=_*r[i+0];f-=_*r[i+1];g-=_*r[i+2]}var M=d[n]*D,T=r[U+0]*h+I*M,R=r[U+1]*h+f*M,z=r[U+2]*h+g*M,G=T-r[U+0],V=R-r[U+1],y=z-r[U+2];
j+=.4*G*G+.5*V*V+.1*y*y;r[U+0]=T;r[U+1]=R;r[U+2]=z}if(j/fb<W||Date.now()>X+b)break}};E.FB={};E.FB.gt=function(r,Q,W){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:r},Vrtc:{t:"doub",v:Q},Cnty:{t:"bool",v:W}}}};
E.FB.D=function(r,Q){for(var n=0;n<r.length;n++){var W=r[n].v,b=Q.lE(new cp(W.Hrzn.v,W.Vrtc.v));W.Hrzn.v=Math.round(b.x);
W.Vrtc.v=Math.round(b.y)}};E.FB.oJ=function(r,Q,W){var fb=r.length-1,b=E.Le.P_(fb+1,fb+2);for(var n=1;
n<fb;n++){b[n][n-1]=1/(r[n]-r[n-1]);b[n][n]=2*(1/(r[n]-r[n-1])+1/(r[n+1]-r[n]));b[n][n+1]=1/(r[n+1]-r[n]);
b[n][fb+1]=3*((Q[n]-Q[n-1])/((r[n]-r[n-1])*(r[n]-r[n-1]))+(Q[n+1]-Q[n])/((r[n+1]-r[n])*(r[n+1]-r[n])))}b[0][0]=2/(r[1]-r[0]);
b[0][1]=1/(r[1]-r[0]);b[0][fb+1]=3*(Q[1]-Q[0])/((r[1]-r[0])*(r[1]-r[0]));b[fb][fb-1]=1/(r[fb]-r[fb-1]);
b[fb][fb]=2/(r[fb]-r[fb-1]);b[fb][fb+1]=3*(Q[fb]-Q[fb-1])/((r[fb]-r[fb-1])*(r[fb]-r[fb-1]));E.Le.nw(b,W)};
E.FB.aaG=function(r,Q,W,b){if(r<=Q[0])return W[0];if(r>=Q[Q.length-1])return W[Q.length-1];var n=1;while(Q[n]<r)n++;
var X=Q[n],D=Q[n-1],h=W[n],S=W[n-1],a=(r-D)/(X-D),K=b[n-1]*(X-D)-(h-S),Y=-b[n]*(X-D)+(h-S),d=(1-a)*S+a*h+a*(1-a)*(K*(1-a)+Y*a);
return d};E.FB.AU=function(r,Q,W,b){var X={qK:[r[0]],po:[Q[0]],_c:[]};b[0]=X;for(var n=1;n<r.length-1;
n++){X.qK.push(r[n]);X.po.push(Q[n]);if(W[n]==!1){E.FB.oJ(X.qK,X.po,X._c);X={qK:[r[n]],po:[Q[n]],_c:[]}}b[n]=X}X.qK.push(r[n]);
X.po.push(Q[n]);E.FB.oJ(X.qK,X.po,X._c);b[n]=X};E.FB.FP=function(r,Q,W,b){if(r<=Q[0])return W[0];if(r>=Q[Q.length-1])return W[Q.length-1];
var n=1;while(Q[n]<r)n++;var X=b[n-1];return E.FB.aaG(r,X.qK,X.po,X._c)};E.FB.fq=function(r){var Q={qK:[],po:[],AD:[]};
for(var n=0;n<r.length;n++){Q.qK[n]=r[n].v.Hrzn.v;Q.po[n]=r[n].v.Vrtc.v;Q.AD[n]=r[n].v.Cnty?r[n].v.Cnty.v:!0}return Q};
E.FB.ki=function(r,fb,Q){var W=0,b=255;if(Q){W=-1e9;b=1e9}var X=E.FB.fq(r),D=[];E.FB.AU(X.qK,X.po,X.AD,D);
var h=[];for(var n=0;n<fb;n++)h[n]=1/255*Math.max(W,Math.min(b,E.FB.FP(n*(255/(fb-1)),X.qK,X.po,D)));
return h};E.FB.av6=function(r,fb,Q){var W=Math.round(r.length/20),b=fb-r.length,X=Q?(r[W]-r[0])/W:0,D=Q?r[0]-b*X:r[r.length-1],h=[];
for(var n=0;n<b;n++)h.push(D+n*X);return Q?h.concat(r):r.concat(h)};E.FB.yO=function(r,fb,Q){var W=E.FB.fq(r),b=[];
E.FB.AU(W.qK,W.po,W.AD,b);var X=new Uint8Array(fb),D=fb/256;for(var n=0;n<fb;n++)X[n]=Math.max(0,Math.min(fb-1,E.FB.FP(n*D,W.qK,W.po,b)));
if(Q){X[0]=0;if(X[1]>100)X[1]=.4*X[1];if(X[2]>150)X[1]=.7*X[2]}return X};E.FB.s8=function(r,Q){var W=new Uint8Array(r.length);
for(var n=0;n<r.length;n++)W[n]=Q[r[n]];return W};E.FB.Rs=function(r,Q,W){var b=document.createElement("canvas");
b.width=Q;b.height=W;var X=b.getContext("2d"),D=E.FB.yO(r,256);X.scale(Q/255,W/255);X.fillStyle="#fff";
X.fillRect(0,0,255,255);X.fillStyle="#333";X.beginPath();X.moveTo(0,255);for(var n=0;n<D.length;n++)X.lineTo(n,255-D[n]);
X.lineTo(255,255);X.closePath();X.fill();return b.toDataURL()};E.style={};E.style.stroke=function(r,Q,W,b){var X=W.e,D=W.n,h=new Float64Array(X*D);
E.style.SQ(r,h,X,D);E.style.mb(Q,W,h,W,b)};E.style.mb=function(r,Q,W,b,X){var D=Q.ww(b),h=D.e,S=D.n;
X+=.5;var a=D.x-Q.x,K=D.y-Q.y,Y=Q.e,d=D.x-b.x,j=D.y-b.y,U=b.e;for(var I=0;I<S;I++){var f=(I+j)*U+d,g=(I+K)*Y+a;
for(var H=0;H<h;H++){var u=Math.max(0,Math.min(1,X-W[f+H]));r[g+H]=Math.round(u*255)}}};E.style.aec=function(r,Q,W,b){for(var X=0;
X<W;X++)for(var D=0;D<Q;D++){var h=X*Q+D,S=0,a=0,K=r[h];if(D==0||X==0){S=r[h+1]-K;a=r[h+Q]-K}else if(D==W-1||X==Q-1){S=K-r[h-1];
a=K-r[h-Q]}else{S=r[h+1]-r[h-1];a=r[h+Q]-r[h-Q]}if(S!=0||a!=0){var Y=1/Math.sqrt(S*S+a*a);S*=Y;a*=Y}b[h+h]=S;
b[h+h+1]=a}};E.style.SQ=function(r,Q,W,b){var X=0,D=W*b;for(var n=0;n<D;n++)X|=r[n];if(X==0){Q.fill(1e9);
return}var h=E.style.tO(r,W,b);for(var S=0;S<b;S++)for(var a=0;a<W;a++){var n=S*W+a,K=h[n*2],Y=h[n*2+1],d=(S+Y)*W+a+K;
if(K==0&&Y==0){Q[n]=0;continue}var j=Math.sqrt(K*K+Y*Y),U=r[d]*(1/255),I=1/j,f=Math.abs(K)*I,g=Math.abs(Y)*I;
if(g>f){var H=g;g=f;f=H}Q[n]=j+E.style.a2t(f,g,U)}};E.style.a2t=function(r,Q,W){return(.5-W)*r};E.style.tO=function(r,Q,W,b){var X=new Int16Array(Q*W*2);
E.style.arg(r,X,Q,W,128);return X};E.style.arg=function(r,Q,W,b,X){var D=new Int32Array(W*b);E.style.avY(r,D,W,b,X);
E.style.arD(D,Q,W,b)};E.style.avY=function(r,Q,W,b,X){var D=new Int32Array(b);for(var h=0;h<W;h++){var S=W+b;
for(var a=b-1;a>=0;a--){if(r[a*W+h]>X)S=0;else S++;D[a]=S}S=W+b;for(var a=0;a<b;a++){if(r[a*W+h]>X)S=0;
else S++;Q[a*W+h]=S<D[a]?-S:D[a]}}};E.style.arD=function(r,Q,W,b){var X=(W+b)*(W+b),D=new Float64Array(W),h=new Uint16Array(W);
for(var S=0;S<b;S++){var a=S*W,K=0;h[0]=0;D[0]=-X;D[1]=+X;for(var Y=1;Y<W;Y++){var d=r[Y+a]*r[Y+a]+Y*Y,j=(d-(r[h[K]+a]*r[h[K]+a]+h[K]*h[K]))/(2*Y-2*h[K]);
while(j<=D[K]){K--;j=(d-(r[h[K]+a]*r[h[K]+a]+h[K]*h[K]))/(2*Y-2*h[K])}K++;h[K]=Y;D[K]=j;D[K+1]=X}K=0;
for(var Y=0;Y<W;Y++){while(D[K+1]<Y)K++;var U=h[K]-Y,I=r[h[K]+a],n=S*W+Y<<1;Q[n]=U;Q[n+1]=I}}};E.style.A9=function(r,Q,W){if(W)for(var n=0;
n<r.length;n++){var b=r[n];if(b>0)r[n]=Math.max(0,Math.min(255,b+Q*2*(E.style.hH(n)-128)))}else for(var n=0;
n<r.length;n++){var b=r[n];if(b>0)r[n]=Math.max(0,Math.min(255,b+Math.min(b*3,Q*2*(E.style.hH(n)-128))))}};
E.style.hH=function(r){r=r^61^r>>16;r=r+(r<<3);r=r^r>>4;r=r*668265261;r=r^r>>15;return r&255};E.JA={};
E.JA.kP=function(r,Q,W){var b=r.canvas;if(b.width!=Q||b.height!=W){b.width=Q;b.height=W}};E.JA.Qm=function(r,Q,W,b,X,D){E.JA.kP(r,Q,W);
if(D==null)D=!1;var h=X.channel,S=X.rect,a=!X.isEnabled;if(Q*W==0)return;var K=r.createImageData(Q,W),Y=K.data,d=1/Q,j=1/W;
for(var n=0;n<W;n++)for(var U=0;U<Q;U++){var I=n*Q+U,f=I*4,g=Math.round(b.x+U*d*b.e),H=Math.round(b.y+n*j*b.n),u=0;
if(g<S.x||g>=S.x+S.e||H<S.y||H>=S.y+S.n)u=X.color;else u=h[(H-S.y)*S.e+(g-S.x)];u=255*(255-X.Rt)+u*X.Rt>>>8;
if(D)u=170+Math.round(.4*(u-170));Y[f]=u;Y[f+1]=u;Y[f+2]=u;Y[f+3]=255}r.putImageData(K,0,0);if(a)E.JA.Da(r,Q,W)};
E.JA.xa=[];E.JA.a3T=function(r,Q,W,b){var X,D,h;X=Math.ceil(Math.max(Q,W)*.35);D=Q-X;h=W-X;var S=E.JA.xa[X];
if(S==null){var a=E._j(X,X);a.fillStyle="#eeeeee";a.fillRect(0,0,X,X);var K=Math.round(X*.27),Y=a.lineWidth=Math.max(1,Math.round(X*.12)),d=Y/2;
a.strokeRect(1+d,1+d,X-Y-2,X-Y-2);a.strokeRect(K+d,K+d,X-K-K-Y,X-K-K-Y);S=E.JA.xa[X]=a.getImageData(0,0,X,X)}r.putImageData(S,D,h)};
E.JA.jR=[];E.JA.abD=function(r,Q,W){var b,X,D;b=Math.ceil(Math.max(Q,W)*.35);X=Q-b;D=W-b;var h=E.JA.jR[b];
if(h==null){var S=E._j(b,b);S.fillStyle="#eeeeee";S.fillRect(0,0,b,b);S.lineWidth=1;S.strokeRect(2.5,2.5,b-5,b-5);
var a=S.createImageData(3,3);E.tl(a.data,4278190080);a.data[4*4]=a.data[4*4+1]=a.data[4*4+2]=238;S.putImageData(a,1,1);
S.putImageData(a,b-4,1);S.putImageData(a,1,b-4);S.putImageData(a,b-4,b-4);h=E.JA.jR[b]=S.getImageData(0,0,b,b)}r.putImageData(h,X,D)};
E.JA.a2n=function(r,Q,W,b,X){E.JA.kP(r,Q,W);var D=Q/b.e;if(Q*W==0)return;r.fillStyle="#999999";r.setTransform(1,0,0,1,0,0);
r.clearRect(0,0,Q,W);var h=E.JA.PB;if(h==null){h=E.JA.PB=JSON.parse(JSON.stringify(iq.pN.default));h.strokeEnabled.v=!0}h.strokeStyleLineWidth.v.val=1/D;
r.fillStyle="#ffffff";r.scale(D,D);E.A.lC(X.V,r,0,0);E.A.lC(X.V,r,0,0,h)};E.JA.hq=null;E.JA.IT=function(r,Q,W,b,X,D,h,S,a){E.JA.kP(r,Q,W);
if(Q*W==0)return;var K=Math.max(Q,W),Y=E.JA.hq;if(Y==null||Y.width<K||Y.height<K){E.JA.hq=Y=r.createImageData(K,K)}K=Y.width;
var d=Y.data,j=b.e/Q,U=b.n/W,I=D.x,f=D.x+D.e,g=D.y,H=D.y+D.n;for(var n=0;n<W;n++)for(var u=0;u<Q;u++){var s=n*K+u,_=s*4,i=~~(b.x+u*j),M=~~(b.y+n*U),T=E.py(n,u,2);
if(i<I||i>=f||M<g||M>=H||a){d[_]=T;d[_+1]=T;d[_+2]=T;d[_+3]=255}else{var R=(M-D.y)*D.e+(i-D.x)<<2,z=X[R+3]*(1/255);
d[_]=X[R+0]*z+T*(1-z);d[_+1]=X[R+1]*z+T*(1-z);d[_+2]=X[R+2]*z+T*(1-z);d[_+3]=255}}if(S!=null)for(var n=0;
n<d.length;n+=4)d[n]=d[n+1]=d[n+2]=d[n+S];r.putImageData(Y,0,0);if(h)E.JA.Da(r,Q,W)};E.JA.a6A=function(r,Q,W,b){E.JA.kP(r,Q,W);
r.fillStyle=E.JA.vf(b.Clr.v);r.fillRect(0,0,Q,W);E.JA.ZL(r,Q,W)};E.JA.Bj=null;E.JA.aoR=function(r,Q,W,b){E.JA.kP(r,Q,W);
var X=r.canvas.width,D=r.canvas.height,h=E.JA.Bj;if(h==null||h.width!=X||h.height!=D){r.fillStyle="#ffffff";
r.fillRect(0,0,Q,W);r.fillStyle="#000000";r.font=""+W*.7+"px serif";r.fillText("T",(Q-W*.43)/2,W*.75);
r.fillText("T",(Q-W*.43)/2,W*.75);E.JA.Bj=r.getImageData(0,0,X,D)}else r.putImageData(h,0,0)};E.JA.atZ=function(r,Q,W){E.JA.kP(r,Q,W);
r.clearRect(0,0,Q,W);r.font=W*.7+"px serif";r.fillText(":(",(Q-W*.43)/2,W*.7)};E.JA.anN=function(r,Q,W,b){E.JA.kP(r,Q,W);
var X=bu.get(b),D=r.canvas.width,h=E.JA.uU[D+X];if(h==null){var S=PIMG["adj/"+X],a=fH.lJ(S),K=UPNG.decode(a.buffer),Y=new Uint8Array(UPNG.toRGBA8(K)[0]),d=new aV(0,0,160,160),j=0,U=D-j*2,I=m.EA.gh([Y,d],new au(U/160,0,0,U/160,0,0)),f=new aV(0,0,D,D),g=E.Q(f.O()*4);
E.q.YB("norm",I.buffer,I.rect,g,f,I.rect,1);h=E.JA.uU[D+X]=new ImageData(new Uint8ClampedArray(g.buffer),D,D)}r.putImageData(h,0,0)};
E.JA.uU={};E.JA.atj=function(r,Q,W,b){E.JA.kP(r,Q,W);var X=r.canvas.width,D=r.canvas.height,h=r.getImageData(0,0,X,D);
E.M.Wu(b.Grad.v,new Uint8Array(h.data.buffer),new aV(0,0,X,D),[1/X,0,0,1/D],X/2,D/2,!1,0,16711680,65280);
r.putImageData(h,0,0);E.JA.ZL(r,Q,W)};E.JA.a44=function(r,Q,W,b,X){E.JA.kP(r,Q,W);var D=r,h=iI.ZZ(b.Ptrn.v,X.add.Patt);
if(h==null)return;var S=h.G5[1];E.JA.IT(r,Q,W,S,h.G5[0],S,!1);E.JA.ZL(D,Q,W)};E.JA.Da=function(r,Q,W){r.strokeStyle="#bb0000";
r.lineWidth=3;r.beginPath();r.moveTo(Q*.15,W*.15);r.lineTo(Q*.85,W*.85);r.moveTo(Q*.85,W*.15);r.lineTo(Q*.15,W*.85);
r.closePath();r.stroke()};E.JA.ZL=function(r,Q,W){r.fillStyle="#eeeeee";r.fillRect(0,W*.75,Q,W*.25);
r.beginPath();r.moveTo(0,W*.75);r.lineTo(Q,W*.75);r.moveTo(Q*.1,W*.875);r.lineTo(Q*.9,W*.875);r.moveTo(Q*.65,W*.825);
r.lineTo(Q*.65,W*.95);r.closePath();r.stroke()};E.JA.vf=function(r){var Q=E.M.vf(r),W=Math.round(Q.o)<<16|Math.round(Q.W)<<8|Math.round(Q.k);
return"#"+E.Y0(W)};E.A={};E.A.Sy=function(r,Q,W){var b=[],X=-1;for(var n=0;n<r.length;n++){var D=r[n];
if((D.type==0||D.type==3)&&D.xo!=-1)X++;if(D.type>5||D.type==0||D.type==3)continue;if(Q!=null&&Q.indexOf(X)==-1)continue;
if(W!=null&&W.indexOf(n)==-1)continue;b.push(D.f0.x);b.push(D.f0.y);b.push(D.F.x);b.push(D.F.y);b.push(D.rP.x);
b.push(D.rP.y)}return b};E.A.I6=function(r,Q,W,b){var X=0,D=-1;for(var n=0;n<Q.length;n++){var h=Q[n];
if((h.type==0||h.type==3)&&h.xo!=-1)D++;if(h.type>5||h.type==0||h.type==3)continue;if(W!=null&&W.indexOf(D)==-1)continue;
if(b!=null&&b.indexOf(n)==-1)continue;h.f0.DX(r[X],r[X+1]);h.F.DX(r[X+2],r[X+3]);h.rP.DX(r[X+4],r[X+5]);
X+=6}};E.A.Zl=function(r,Q,W,b){var X=E.A.Sy(r,W,b);E.p.D(X,Q,X);E.A.I6(X,r,W,b)};E.A.a4m=function(r,Q,W,b){var X=E.A.Sy(r,W,b);
E.K.D(Q,X);E.A.I6(X,r,W,b)};E.A.aoy=function(r,Q,W,b){if(b==null){var X=E.A.ahN(r,40,W);for(var n=0;
n<X.length;n++)r[n]=X[n]}var D=E.A.Sy(r,W,b);E.e_.D(Q,D,E.p.Z3(D));E.A.I6(D,r,W,b)};E.A.ahN=function(r,Q,W){var b=[],X=-1;
for(var n=0;n<r.length;n++){var D=r[n],h=D.length;if(D.type>5){b.push(JSON.parse(JSON.stringify(D)));
continue}D=JSON.parse(JSON.stringify(D));b.push(D);if(D.xo!=-1)X++;if(W&&W.indexOf(X)==-1){b=b.concat(r.slice(n+1,n+1+h))}else{var S=E.A.aqD(r,n+1,h);
S=E.p.sb(S,Q);var a=E.A.ap0(S);D.length=a.length;for(var K=0;K<a.length;K++)b.push(a[K])}n+=h}return b};
E.A.aqD=function(r,Q,W){var b={H:["M"],C:[]},X=r[Q],D=r[Q+W-1];b.C.push(X.F.x,X.F.y);for(var n=1;n<W;
n++){var h=r[Q+n-1],S=r[Q+n];b.H.push("C");b.C.push(h.rP.x,h.rP.y,S.f0.x,S.f0.y,S.F.x,S.F.y)}b.H.push("C");
b.C.push(D.rP.x,D.rP.y,X.f0.x,X.f0.y,X.F.x,X.F.y);return b};E.A.ap0=function(r){var Q=[],W=r.H,b=r.C,X=0,fb=b.length;
Q.push({type:2,f0:new cp(b[fb-4],b[fb-3]),F:new cp(b[0],b[1]),rP:new cp(b[2],b[3])});for(var n=0;n<W.length-2;
n++){var D=n*6+4;Q.push({type:2,f0:new cp(b[D],b[D+1]),F:new cp(b[D+2],b[D+3]),rP:new cp(b[D+4],b[D+5])})}return Q};
E.A.a9x=function(r){for(var n=0;n<r.length;n++){if(r[n].type>5)continue;var Q=r[n].length;if(!(Q==4||Q==6||Q==8)){n+=Q;
continue}for(var W=0;W<Q;W++){var b=r[n+1+W],X=r[n+1+(W+1)%Q],D=Math.min(b.F.x,X.F.x),h=Math.min(b.F.y,X.F.y),S=0,a=0;
if(b.F.x<X.F.x){S=b.F.y-h;a=S-(X.F.x-D)}else{S=X.F.y-h;a=S-(b.F.x-D)}if(Math.abs(a)<.2*S)return S}}return-1};
E.A.eg=function(r,Q,W){function b(j,U){var I=Math.min(j.x,U.x),f=Math.min(j.y,U.y),g=Math.max(j.x+j.e,U.x+U.e),H=Math.max(j.y+j.n,U.y+U.n);
return new aV(I,f,g-I,H-f)}var X=null,D=-1,h=!E.A.oz(r);for(var n=0;n<r.length;n++){var S=r[n];if(S.type>5)continue;
if((S.type==0||S.type==3)&&S.xo!=-1)D++;if(Q!=null&&Q.indexOf(D)==-1)continue;if(n==r.length-1)break;
var a=S.type==3,K=S.length,Y=S.xo,d=E.A.Mw(r,n+1,K,a);if(X==null)X=d;else if(W)X=b(X,d);else if(h){if(Q!=null||Y==0||Y==-1||Y==2)X=b(X,d);
else if(Y==1)X=X;else if(Y==3){X=d;h=!1}}else{if(Q!=null||Y==0||Y==-1||Y==1)X=b(X,d);else if(Y==2)X=X;
else if(Y==3)X=X.ww(d)}n+=K}if(X==null||X.e<0||X.n<0)X=new aV(0,0,0,0);return X};E.A.amP=new Float64Array(4);
E.A.Mw=function(r,n,Q,W){var b=E.A.amP;b[0]=1e30;b[1]=1e30;b[2]=-1e30;b[3]=-1e30;var X=r[n+Q-1];if(!W)E.A.KP(X.F.x,X.F.y,X.rP.x,X.rP.y,r[n].f0.x,r[n].f0.y,r[n].F.x,r[n].F.y,b);
for(var D=n;D<n+Q-1;D++){var h=r[D],S=r[D+1];E.A.KP(h.F.x,h.F.y,h.rP.x,h.rP.y,S.f0.x,S.f0.y,S.F.x,S.F.y,b)}return new aV(b[0],b[1],b[2]-b[0],b[3]-b[1])};
E.A.KP=function(r,Q,W,b,X,D,h,S,a){if(r==W&&Q==b&&X==h&&D==S){a[0]=Math.min(a[0],Math.min(r,h));a[1]=Math.min(a[1],Math.min(Q,S));
a[2]=Math.max(a[2],Math.max(r,h));a[3]=Math.max(a[3],Math.max(Q,S));return}var K=r,Y=Q,d=r,j=Q,U=40,I=1/(U-1);
for(var f=0;f<U;f++){var g=f*I,H=1-g,u=H*H*H,s=3*H*H*g,_=3*H*g*g,i=g*g*g,M=u*r+s*W+_*X+i*h,T=u*Q+s*b+_*D+i*S;
if(M<K)K=M;else if(M>d)d=M;if(T<Y)Y=T;else if(T>j)j=T}if(K<a[0])a[0]=K;if(Y<a[1])a[1]=Y;if(d>a[2])a[2]=d;
if(j>a[3])a[3]=j};E.A.Ar=function(r,Q){var W=r.length-3,b=Q%W,X=Math.floor(b);if(Q<0||X>=W)return null;
var D=r[3+X],h=r[3+(X+1)%W],S=D.F,a=D.rP,K=h.f0,Y=h.F,d=b-X,j=1-d,U=j*j*j*S.x+3*j*j*d*a.x+3*j*d*d*K.x+d*d*d*Y.x,I=j*j*j*S.y+3*j*j*d*a.y+3*j*d*d*K.y+d*d*d*Y.y;
return new cp(U,I)};E.A.FE=function(r,Q){var W=E.p._i(r),b=W.DM;W.DM=Typr.U.pathToSVG({crds:b.C,cmds:b.H},Q==null?2:Q);
return W};E.A.zg=function(r){E.A.zM();var Q,W=E.A.MA(r),b=[];for(var n=0;n<W.length;n++){var X=W[n][0],D=W[n][1];
if(Math.abs(X.area)<1e-5)b.push(X);else if(Q==null)Q=X;else{if(!X.closed)X.closed=!0;Q=Q[D](X);Q.remove()}}if(Q==null)Q=new paper.CompoundPath(b);
else{if(Q.segments)Q=new paper.CompoundPath(Q);for(var n=0;n<b.length;n++){Q.addChild(b[n])}}var h=r.slice(0,2);
h=h.concat(E.A.iq(Q));if(h[2])h[2].xo=1;for(var n=3;n<h.length;n++)if(h[n].xo!=null)h[n].xo=-1;return h};
E.A.zM=function(){if(E.A.atu==null){var r=document.createElement("canvas");paper.setup(r);E.A.atu=!0}};
E.A.alG=function(r,Q){E.A.zM();var W=[],b=E.A.MA(r),X=new paper.Path.Rectangle(new paper.Rectangle(Q.x,Q.y,Q.e,Q.n));
X.remove();X.fillColor=new paper.Color(1,0,0);for(var n=0;n<b.length;n++){if(X.intersects(b[n][0])||X.contains(b[n][0].children[0].segments[0].point))W.push(n)}return W};
E.A.Js=function(r,Q,W,b){E.A.zM();var X=W?{curves:!0,tolerance:b}:null,D=new paper.Point(Q.x,Q.y),h=E.A.MA(r);
for(var n=h.length-1;n>=0;n--){var S=h[n][0],a=S.hitTest(D,X);if(a!=null)return{C_:n,a6:W?a.location.index:null,t4:W?a.location.time:0}}return{C_:-1}};
E.A.ng=function(r,Q,W){var b=[[],[],[]];for(var n=0;n<r.length;n++){var X=r[n];if(X.type>5||X.type==0||X.type==3)continue;
var D=W==null?!0:W.indexOf(n)!=-1;if(Q.LS(X.F))b[0].push(n);if(Q.LS(X.f0)&&D)b[1].push(n);if(Q.LS(X.rP)&&D)b[2].push(n)}return b};
E.A.ah$=function(r,Q,W){var b=r[Q];for(var X=Q+1;X<W;X++)r[X-1]=r[X];r[W-1]=b};E.A.aas=function(r,Q,W,b){var n,X,D,h=0;
r=r.slice(0);Q.sort(function(I,f){return I-f});D=-1;for(n=2;n<r.length;){var S=r[n],a=S.length;if(S.xo!=-1)D++;
var K=h;while(K<Q.length&&Q[K]<n+1+a)K++;if(h!=K){var Y=Q.slice(h,K);h=K;for(X=0;X<a;X++)if(Y.indexOf(n+1+X)!=-1)r[n+1+X]=null;
if(S.type==0){var d=Y[0]-(n+1);while(d!=0){E.A.ah$(r,n+1,n+1+a);d--}}var j=S;j.length=0;X=0;while(X<a&&r[n+1+X]==null)X++;
while(X<a){var U=r[n+1+X];if(U!=null)j.length++;else if(X<a+1&&r[n+1+X+1]){j=r[n+1+X]={type:0,xo:-1,length:0,jM:0,eV:0,bu:1}}X++}if(b)for(X=-1;
X<a;X++)if(r[n+1+X]&&r[n+1+X].type<3)r[n+1+X].type+=3;E.X.U$(W,D)}n+=1+a}for(n=0;n<r.length;n++)if(r[n]==null){r.splice(n,1);
n--}D=0;for(n=2;n<r.length;n++){var S=r[n];if(S.length==0){if(r[n+1]&&r[n+1].xo==-1)r[n+1].xo=S.xo;else if(S.xo!=-1)W.splice(D,1);
r.splice(n,1);n--}else if(S.length!=null&&S.xo!=-1)D++}return r};E.A.a6k=function(r,Q){var W=r.slice(0,2),b=-1;
for(var n=2;n<r.length;n++){if((r[n].type==0||r[n].type==3)&&r[n].xo!=-1)b++;if(Q.indexOf(b)==-1)W.push(r[n])}return W};
E.A.aet=function(r,Q){var W=r.slice(0,2),b=-1;for(var n=2;n<r.length;n++){if((r[n].type==0||r[n].type==3)&&r[n].xo!=-1)b++;
if(Q.indexOf(b)!=-1)W.push(r[n])}return W};E.A.auo=function(r){var Q=0;for(var n=0;n<r.length;n++)if(r[n].type==0||r[n].type==3)Q=n;
return r[Q]};E.A.jm=function(r){var Q=-1;for(var n=0;n<r.length;n++)if((r[n].type==0||r[n].type==3)&&r[n].xo!=-1)Q++;
return Q+1};E.A.ka=function(r,Q,W){var b=-1;for(var n=0;n<r.length;n++)if((r[n].type==0||r[n].type==3)&&(W||r[n].xo!=-1)){b++;
if(b==Q)return n}return-1};E.A.tm=function(r,Q,W){var b=-1;for(var n=0;n<r.length;n++)if((r[n].type==0||r[n].type==3)&&(W||r[n].xo!=-1)){if(n>=Q)return b;
b++}return b};E.A.Iv=function(r,Q){var W=-1,b=0;for(var n=0;n<r.length;n++){if((r[n].type==0||r[n].type==3)&&r[n].xo!=-1)W++;
if(W==Q)b++}return b};E.A.abF=function(r){var Q=180;for(var n=0;n<r.length;n++){if(r[n].type!=0&&r[n].type!=3)continue;
var W=r[n].length;if(W<3)continue;for(var b=0;b<W;b++){var X=r[n+1+(b-1+W)%W],D=r[n+1+b],h=r[n+1+(b+1)%W],S=D.F,a=D.f0.s4(S)?X.rP:D.f0,K=D.rP.s4(S)?h.f0:D.rP;
if(S.s4(a)||S.s4(K))continue;var Y=a.x-S.x,d=a.y-S.y,j=K.x-S.x,U=K.y-S.y,a=Math.atan2(a.y-S.y,a.x-S.x)*180/Math.PI,K=Math.atan2(K.y-S.y,K.x-S.x)*180/Math.PI,I=Math.abs(K-a)%360,f=I>180?360-I:I;
if(f<Q)Q=f}}return Q*Math.PI/180};E.A.iq=function(r){var Q=r.segments?[r]:r.children,W=[];for(var n=0;
n<Q.length;n++){var b=Q[n],X=b.segments,D=b.closed?0:3,h=W.length,S=null;if(X.length<=1)continue;W.push({type:D,length:X.length,xo:0,bu:2});
for(var a=0;a<X.length;a++){var K=X[a],Y=new cp(K.handleIn.x,K.handleIn.y),d=new cp(K.handleOut.x,K.handleOut.y),j=new cp(K.point.x,K.point.y),U={type:D+1,f0:j.add(Y),F:j,rP:j.add(d)};
if(S==null)S=U;W.push(U);if(a+1==X.length&&cp.ks(S.F,U.F)<1e-5){W.pop();W[h].length--;S.f0=U.f0;if(D==3)for(var I=h;
I<W.length;I++)W[I].type-=3}}}return W};E.A.MA=function(r){E.A.zM();var Q=[],W,b=new paper.Color(1,0,0);
function X(U,S){U.remove();U.closed=!S;U.fillRule="evenodd"}for(var n=0;n<r.length;n++){if(r[n].type>5)continue;
var D=r[n].length,h;if(n==r.length-1)break;var S=r[n].type==3;if(n==2){if(!E.A.sq(r))h="subtract";else h="unite"}else{if(r[n].xo==0)h="exclude";
if(r[n].xo==1)h="unite";if(r[n].xo==2)h="subtract";if(r[n].xo==3)h="intersect"}if(r[n].xo!=-1){W=new paper.CompoundPath;
Q.push([W,h]);W.fillRule="evenodd";W.fillColor=b}var a=[];for(var K=0;K<D;K++){var Y=r[n+1+K],d=Y.f0.eb(Y.F),j=Y.rP.eb(Y.F);
a.push([[Y.F.x,Y.F.y],[d.x,d.y],[j.x,j.y]])}var U=new paper.Path(a);X(U,S);W.addChild(U);n+=D}return Q};
E.A.aV=function(r){for(var n=0;n<r.length;n++){var Q=r[n];if(Q.F==null)continue;if(!Q.F.s4(Q.f0)||!Q.F.s4(Q.rP))return!1}return!0};
E.A.agr=function(r){if(r.length<=5)return 0;var Q=0,W=r.length-3-1;for(var n=0;n<W;n++){var b=r[3+n],X=r[3+n+1];
if(b.type==0||X.type==0)return 0;Q+=(X.F.x-b.F.x)*(b.F.y+X.F.y)}Q+=(r[3].F.x-r[3+W].F.x)*(r[3+W].F.y+r[3+1].F.y);
return-Q*.5};E.A.oz=function(r){var Q=r[2],W=!1;if(r.length==2)W=r[1].all==0;else if(r[1].all==1){if(Q.xo==1||Q.xo==3)W=!0;
else W=!1}else{if(Q.xo==1||Q.xo==3||Q.xo==0)W=!0;else W=!1}return W};E.A.sq=function(r){var Q=E.A.oz(r);
for(var n=3;n<r.length;n++)if(r[n].xo==3)Q=!0;return Q};E.A.a7f=0;E.A.Bl=0;E.A.avO=0;E.A.a9Y=function(r,Q,W,b){if(W.WB())return;
var X=W.O(),H=16384;E.A.a7f+=X;if(X>E.A.Bl){E.A.Bl=X}var D=W.e,h=W.n;if(b==null&&E.A.aV(r)&&r[2]&&r[2].xo!=2){var S=!0;
for(var n=2;n<r.length;)if(r[n].length==2)n+=3;else{S=!1;break}if(S){return}if(E.A.YF(r)){Q.fill(255);
var a=E.A.eg(r);if(a.O()!=X){var K=1-(a.x-W.x),Y=1-(a.y-W.y),d=1-(W.x+W.e-(a.x+a.e)),j=1-(W.x+W.n-(a.x+a.n)),U=~~(K*255),I=~~(d*255),f=~~(Y*255),g=~~(j*255);
Q.fill(f,0,D);Q[0]=~~(K*Y*255);Q[D-1]=~~(d*Y*255);for(var n=D;n<X;n+=D){Q[n]=U;Q[n+D-1]=I}Q.fill(g,(h-1)*D,h*D);
Q[X-D]=~~(K*j*255);Q[X-1]=~~(d*j*255)}return}}var u=Math.ceil(D/H),s=Math.ceil(h/H),_=Math.ceil(D/u),i=Math.ceil(h/s),M=Date.now();
for(var T=0;T<s;T++)for(var R=0;R<u;R++){var z=R*_,G=T*i,V=_,y=i,k=E._j(V,y);if(!E.A.oz(r))k.fillRect(0,0,V,y);
E.A.lC(r,k,-W.x-z,-W.y-G,b);var B=new Uint8Array(k.getImageData(0,0,V,y).data.buffer);if(V==D&&y==h)E.TX(B,Q,3);
else E.my(B,new aV(z,G,V,y),Q,new aV(0,0,D,h))}};E.A.am5=function(r){var Q=!1,W=!1,b=0,X=!1;for(var n=0;
n<r.length;n++){var D=r[n].xo;if(D!=null){b++;if(D==-1)Q=!0;if(D==1||D==2||D==3)W=!0;if(r[n].type==0)X=!0}}if(!Q&&b<20&&X&&W)r=E.A.zg(r);
return r};E.A.lC=function(r,Q,W,b,X,D){if(X!=null){r=E.A.am5(r)}for(var n=0;n<r.length;n++){if(r[n].type>5)continue;
var h=r[n].length;if(h==0)continue;if(n==r.length-1)break;var S=r[n].type==3,a=r[n].xo;if(a!=-1&&X==null){var K=["xor","source-over","destination-out","source-in"][a];
Q.globalCompositeOperation=K}if(r[n].xo!=-1){Q.beginPath();if(X){E.A.Ku(X,Q)}}E.A.ape(Q,r,n+1,h,W,b,S);
if(S){}else Q.closePath();if(r[n+1+h]==null||r[n+1+h].xo!=-1){if(X){if(D)Q.clip();Q.stroke()}else Q.fill(a==-1?"nonzero":"evenodd")}n+=h}Q.globalCompositeOperation="source-over"};
E.A.Ku=function(r,Q){var W=r.strokeStyleLineWidth.v.val,b=r.strokeStyleLineAlignment.v.strokeStyleLineAlignment,X=r.strokeStyleLineCapType.v.strokeStyleLineCapType,D=r.strokeStyleLineJoinType.v.strokeStyleLineJoinType,h=r.strokeStyleMiterLimit.v,S=[],a=r.strokeStyleLineDashSet.v;
for(var K=0;K<a.length;K++)S.push(a[K].v.val*W);Q.setLineDash(S);Q.lineCap=["butt","round","square"][iq.pN.Nj.indexOf(X)];
Q.lineJoin=["miter","round","bevel"][iq.pN.join.indexOf(D)];Q.lineWidth=iq.pN.Ba.indexOf(b)==1?W:W*2;
Q.miterLimit=h};E.A.ape=function(r,Q,n,W,b,X,D){var h=Q[n],S=null;r.moveTo(h.F.x+b,h.F.y+X);for(var a=n;
a<n+W-1;a++){h=Q[a];S=Q[a+1];r.bezierCurveTo(h.rP.x+b,h.rP.y+X,S.f0.x+b,S.f0.y+X,S.F.x+b,S.F.y+X)}if(!D){h=Q[a];
S=Q[n];r.bezierCurveTo(h.rP.x+b,h.rP.y+X,S.f0.x+b,S.f0.y+X,S.F.x+b,S.F.y+X)}};E.A.atv=function(r,Q){var W=[],b=Q?4:1;
for(var n=0;n<r.length;n+=2){var X=new cp(r[n],r[n+1]);W.push({type:b,f0:X.clone(),F:X.clone(),rP:X.clone()})}return W};
E.A.XJ=function(r,Q,W){var b=E.p.Z3(r),X=Math.sqrt(Math.sqrt(b.O()))*.2,D=.2;r=r.slice(0);var h=r.length,S=Q?0:2;
for(var a=0;a<5;a++)for(var n=S;n<r.length-S;n+=2){var K=(n-2+h)%h,Y=(n+2)%h,d=r[n],j=r[n+1],U=(r[K]+r[Y])*.5,I=(r[K+1]+r[Y+1])*.5;
r[n]=d+(U-d)*D;r[n+1]=j+(I-j)*D}if(W)return E.A.lF.h9(r,null,!Q);E.A.zM();var f=new paper.Path;f.remove();
f.closed=Q;for(var n=0;n<r.length;n+=2)f.add(new paper.Point(r[n],r[n+1]));f.simplify(X);var g=[{type:6},{type:8,all:0}];
g=g.concat(E.A.iq(f));return g};E.A.o5=function(r,Q,W){var b=r[Q].length,X=r[Q].type,D=0,h=r.slice(Q+1,Q+1+b);
for(var n=0;n<b;n++){var S=W[(n-1+b)%b],a=W[(n+1+b)%b],K=W[n];if(K!=0){var Y=h[(n-1+b)%b].F,d=h[(n+0+b)%b].F,j=h[(n+1+b)%b].F,U=cp.ks(d,Y),I=cp.ks(d,j),f=E.p.EN(Y.x,Y.y,d.x,d.y,j.x,j.y,K)[0],g=Math.min(f,S==0?U:U/2,a==0?I:I/2);
K*=g/f;var H=E.p.ae6(Y.x,Y.y,d.x,d.y,j.x,j.y,K),u={type:X+1,f0:new cp(H[2],H[3]),F:new cp(H[2],H[3]),rP:new cp(H[4],H[5])},s={type:X+1,f0:new cp(H[6],H[7]),F:new cp(H[8],H[9]),rP:new cp(H[8],H[9])};
r.splice(Q+D+1,1,u,s);D++;r[Q].length++}D++}};E.A.aV=function(r){for(var n=0;n<r.length;n++){var Q=r[n],W=Q.type;
if(W==1||W==2||W==4||W==5)if(!Q.F.s4(Q.f0)||!Q.F.s4(Q.rP))return!1}return!0};E.A.YF=function(r){if(r.length!=7||r[2].length!=4||!E.A.aV(r))return!1;
for(var n=0;n<4;n++){var Q=!0;for(var W=0;W<4;W++){var b=r[3+(n+W&3)],X=r[3+(n+W+1&3)];if(b.F.x!=X.F.x&&b.F.y!=X.F.y)Q=!1}if(Q)return!0}return!1};
E.A.ad6=function(r){if(r.length<6)return 0;var Q=r.length-2,W=0;for(var n=0;n<Q;n+=2)W+=(r[n+2]-r[n])*(r[n+1]+r[n+3]);
W+=(r[0]-r[Q])*(r[Q+1]+r[1]);return-W*.5};E.A.qI=function(r){r=$.vL.Ld(r);var Q=E.A.jm(r);for(var W=0;
W<Q;W++){var b=E.A.ka(r,W)+1,X=r[b-1].length,D=[];for(var n=0;n<X;n++){var h=r[b+n].F;D.push(h.x,h.y)}var S=E.A.ad6(D);
if(S<0)E.A.a8Q(r,b-1)}return r};E.A.a8Q=function(r,Q){var W=Q+1,b=r[Q].length,X=[];for(var n=0;n<b;n++){var D=r[W+n],h=D.f0;
D.f0=D.rP;D.rP=h;X.push(D)}for(var n=0;n<b;n++)r[W+n]=X[b-1-n]};E.A.lF={};E.A.lF.h9=function(r,Q,W){var b=[{type:6},{type:8,all:0}],X=null;
b.push({type:W?3:0,xo:1,length:0,jM:0,eV:0,bu:1});if(Q==0||Q==null)X=null;else if(Q instanceof Array)X=Q;
else{X=[];for(var n=0;n<r.length;n+=2)X.push(Q)}b=b.concat(E.A.atv(r,W));b[2].length=b.length-3;if(X)E.A.o5(b,2,X);
return b};E.A.lF.ako=function(r,Q,W,b,X){var D=[],h=[],S=.553,a=1,K=-1;D.push({type:1,f0:new cp(0,S),F:new cp(0,0),rP:new cp(0,-S)});
X+=2;for(var n=0;n<X;n++){var Y={type:1};if(n==0){Y.F=new cp(1,-1);Y.f0=new cp(1-S,-1);Y.rP=new cp(1+S,-1)}else{var d=-(n+2)*Math.PI/2,j=1+((n&1)==1?n-1:n),U=Math.sin(d),I=Math.cos(d);
a+=j*(U-I);K+=j*(I+U);Y.F=new cp(a,K);Y.f0=new cp(a+j*I*S,K-j*U*S);if((n&1)==1)j+=2;Y.rP=new cp(a-j*I*S,K+j*U*S)}var f={type:1,f0:new cp(-Y.rP.x,-Y.rP.y),F:new cp(-Y.F.x,-Y.F.y),rP:new cp(-Y.f0.x,-Y.f0.y)};
D.push(Y);if(n<X-2)h.push(f)}h.reverse();D=D.concat(h);var g=[{type:6},{type:8,all:0}];g.push({type:0,xo:1,length:D.length,jM:0,eV:0,bu:1});
g=g.concat(D);var H=new au(W/X,0,0,W/X,0,0);H.rotate(b);H.translate(r,Q);E.A.Zl(g,H);return g};E.A.lF.Rect=function(r,Q,W,b,X){var D=[r,Q,r+W,Q,r+W,Q+b,r,Q+b];
return E.A.lF.h9(D,X)};E.A.lF.AC=function(r,Q,W,b,X,D,h,S){var a=[],K=2*Math.PI/X;for(var n=0;n<X;n++)a.push(Math.cos(n*K-b),Math.sin(n*K-b));
if(h!=null){var Y=E.p.Z3(a),d=Y.e,j=Y.n,U=h/(d/2),I=S/(j/2);for(var n=0;n<a.length;n+=2){a[n]=(a[n]-(Y.x+d/2))*U;
a[n+1]=(a[n+1]-(Y.y+j/2))*I}W=1}var f=new au(W,0,0,W,0,0);f.translate(r,Q);E.p.D(a,f,a);return E.A.lF.h9(a,D)};
E.A.lF.Bt=function(r,Q,W,b,X,D,h){var S=[],a=Math.PI/X;for(var n=0;n<X*2;n++){var K=(n&1)==0?1:h;S.push(K*Math.cos(n*a),K*Math.sin(n*a))}var Y=new au(W,0,0,W,0,0);
Y.rotate(b);Y.translate(r,Q);E.p.D(S,Y,S);return E.A.lF.h9(S,D)};E.A.lF.fr=function(r,Q,W,b,X){return E.A.lF.IA(0,r,Q,W,b,X)};
E.A.lF.aoh=function(r,Q,W,b,X,D){return E.A.lF.IA(1,r,Q,W,b,X,D)};E.A.lF.ME=function(r,Q,W,b,X,D){return E.A.lF.IA(2,r,Q,W,b,X,D)};
E.A.lF.IA=function(r,Q,W,b,X,D,h){var S=Math.sqrt((b-Q)*(b-Q)+(X-W)*(X-W)),a;D/=2;if(r==0)a=[-D,0,D,0,D,S,-D,S];
if(r==1){var K=D*2*h*1.3/1.5,Y=D*h;a=[-D,0,D,0,D,S-K,Y,S-K,0,S,-Y,S-K,-D,S-K]}if(r==2){var K=h[3],Y=h[2]/2,d=K*(2/3)*h[4]/100,j=K-d,U=K;
a=[];if(h[0])a.push(-D,j,-Y,U,0,0,Y,U,D,j);else a.push(-D,0,D,0);if(h[1])a.push(D,S-j,Y,S-U,0,S,-Y,S-U,-D,S-j);
else a.push(D,S,-D,S)}var I=new au(1,0,0,1,0,0);I.rotate(Math.atan2(-X+W,b-Q)+Math.PI/2);I.translate(Q,W);
E.p.D(a,I,a);return E.A.lF.h9(a,0)};E.A.lF.az=function(r,Q,W,b){var X=[{type:6},{type:8,all:0}],d=.553;
X.push({type:0,xo:1,length:4,jM:0,eV:0,bu:1});var D=r,h=Q,S=r+W,a=Q+b,r=(D+S)/2,Q=(h+a)/2,K=(D-S)/2,Y=(h-a)/2;
X.push({type:1,f0:new cp(r-d*K,Q-Y),F:new cp(r,Q-Y),rP:new cp(r+d*K,Q-Y)});X.push({type:1,f0:new cp(r+K,Q-d*Y),F:new cp(r+K,Q),rP:new cp(r+K,Q+d*Y)});
X.push({type:1,f0:new cp(r+d*K,Q+Y),F:new cp(r,Q+Y),rP:new cp(r-d*K,Q+Y)});X.push({type:1,f0:new cp(r-K,Q+d*Y),F:new cp(r-K,Q),rP:new cp(r-K,Q-d*Y)});
return X};E.A.lF.a7g=function(r,Q,W,b,X){var D=[{type:6},{type:8,all:0}];D.push({type:3,xo:1,length:5,jM:0,eV:0,bu:1});
var h=(X-b)/4;for(var n=0;n<5;n++){var S=n*h,a=Math.cos(S),K=Math.sin(S),Y=.553*(h/(Math.PI/2)),d=K*Y,j=-a*Y,U=new cp(a,K);
D.push({type:4,f0:n==0?U.clone():new cp(a+d,K+j),F:U,rP:n==4?U.clone():new cp(a-d,K-j)})}var I=new au;
I.rotate(-b);I.scale(W,W);I.translate(r,Q);E.A.Zl(D,I);return D};E.Eu={};E.Eu.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
E.Eu.fF=function(r){var Q=r.warpStyle.v.warpStyle;if(Q=="warpNone")return!0;else if(Q=="warpCustom"){var W=!1,b=r.customEnvelopeWarp.v.meshPoints.v.arr,X=b[0].arr,D=b[1].arr;
for(var n=0;n<4;n++)for(var h=0;h<4;h++){if(Math.abs(X[n]-X[h*4+n])>1||Math.abs(D[n*4]-D[n*4+h])>1)W=!0}return!W}else return r.warpValue.v==0&&r.warpPerspective.v==0&&r.warpPerspectiveOther.v==0};
E.Eu.Q=function(r){var Q={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(r){Q.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:r.y}},Left:{t:"UntF",v:{type:"#Pxl",val:r.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:r.y+r.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:r.x+r.e}}}};
Q.uOrder={t:"long",v:4};Q.vOrder={t:"long",v:4}}return Q};E.Eu.apM=function(r,Q,W,b){for(var n=0;n<r.length;
n+=2){var X=r[n],D=r[n+1],h=(X-Q.x)/Q.e,S=(D-Q.y)/Q.n,a=(1-W)/2,K=1-a,Y=a+h*(K-a);S=.5+(S-.5)*Y*2;var d=(1-b)/2,j=1-d,U=d+S*(j-d);
h=.5+(h-.5)*U*2;X=Q.x+h*Q.e;D=Q.y+S*Q.n;r[n]=X;r[n+1]=D}};E.Eu.Fa=function(r,Q){var W=[],b=[];for(var n=0;
n<r.length;n+=2){W.push(r[n]);b.push(r[n+1])}var X=[];X.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:W});
X.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:b});Q.warpStyle.v.warpStyle="warpCustom";Q.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:X}}}}};
E.Eu.c8=function(r,Q){if(Q==null){var W=r.bounds.v,b=W.Left.v.val,X=W.Rght.v.val,D=W.Top.v.val,h=W.Btom.v.val;
if(b==null){b=W.Left.v,X=W.Rght.v;D=W.Top.v,h=W.Btom.v}Q=new aV(b,D,X-b,h-D)}if(Q.WB())Q.e=Q.n=1;var S=[],a=r.warpStyle.v.warpStyle;
if(a=="warpCustom"){var K=r.customEnvelopeWarp.v.meshPoints.v.arr,Y=K[0].arr,d=K[1].arr;for(var n=0;
n<16;n++)S.push(Y[n],d[n])}else S=E.Eu.Eu(Q,a,r.warpRotate.v.Ornt=="Hrzn",r.warpValue.v/100,r.warpPerspective.v/100,r.warpPerspectiveOther.v/100);
return S};E.Eu.Eu=function(r,Q,W,b,X,D){var h=E.e_.Q(r.x,r.y,r.e,r.n);if(Q=="warpNone")return h;var S=JSON.parse(JSON.stringify(r)),a=new au;
if(!W){a.translate(-r.x,-r.y);a.rotate(-Math.PI/2);a.translate(r.n,0);E.p.D(h,a,h);r=new aV(0,0,r.n,r.e);
h=E.e_.Mz(h,!1)}E.Eu.a6L(h,r,Q,b,X,D);if(!W){h=E.e_.Mz(h,!0);r=S;a.j4();E.p.D(h,a,h)}if(b==0)E.Eu.apM(h,r,X,D);
else{var a=new au(1/r.e,0,0,1/r.n,-r.x,-r.y);a.translate(-.5,-.5);E.p.D(h,a,h);E.Eu.adF(h,D,X);a.j4();
E.p.D(h,a,h)}return h};E.Eu.a6L=function(r,Q,W,b,X,D){for(var n=0;n<4;n++){for(var h=0;h<4;h++){var S=2*(4*n+h),a=r[S]-Q.x,K=r[S+1]-Q.y,Y=a,d=K;
if(b!=0){var j=Q.e/2,U=Q.n/2;Y-=j;d-=U;var I=Y,f=Y,g=-U,H=U,u=Math.abs(b),s=Math.tan((1-u)*Math.PI/2),_=Math.sqrt(s*s+1),i=Math.atan2(1,s),M=Y/j*i,T=j*_,R=j*_+Q.n,z=Math.cos(i),G=Math.sin(i),V=E.Eu.ajS(z,G),y=E.Eu.a0X(z,G),k=-s*j+V*T;
if(W=="warpArc"){I=Math.sin(M)*R;g=s*j-Math.cos(i)*R+U;f=Math.sin(M)*T;H=s*j-Math.cos(i)*T+U;if(h==1||h==2){I=h==1?-y*R:y*R;
f=h==1?-y*T:y*T;g=s*j+U-V*R;H=s*j+U-V*T}if(b<0){var B=I;I=f;f=B;B=g;g=-H;H=-B}}if(W=="warpArcLower"){if(h==1||h==2){f=h==1?-y*T:y*T;
H=b<0?U-k:U+k}}if(W=="warpArcUpper"||W=="warpArch"||W=="warpBulge"){if(h==1||h==2){I=h==1?-y*T:y*T;g=b<0?-U+k:-U-k}if(W=="warpArch"){f=I;
H=g+2*U}if(W=="warpBulge"){f=I;H=-g}}if(W=="warpFish"||W=="warpFlag"||W=="warpWave"){var v=h;if(W=="warpFlag")v=3-h;
if(v==1){g-=b*4*U;H+=b*4*U}if(v==2){g+=b*4*U;H-=b*4*U}if(W=="warpFlag"||W=="warpWave")g=H-2*U}if(W=="warpRise"){if(h<2)g=-U+b*U*4;
H=g+2*U}var l=(d+U)/Q.n;Y=I+l*(f-I);d=g+l*(H-g);if(W=="warpWave"){if(n==0)d=-U;if(n==3)d=U;if(n==1||n==2)d=2*U*(n/3-.5)*(1/3)+d*(2/3)}if(W=="warpFisheye"){if((n==1||n==2)&&(h==1||h==2)){Y=Y+4*Y*b;
d=d+4*d*b}}if(W=="warpInflate"){var F=2/3;if((n==1||n==2)&&(h==1||h==2)){Y=Y+.5*Y*b;d=d+.5*d*b}else if(n==1||n==2)Y=Y+F*Y*b;
else if(h==1||h==2)d=d+F*d*b}if(W=="warpSqueeze"){var F=2/3;if((n==1||n==2)&&(h==1||h==2)){if(b>0)Y=Y-F*Y*b;
else d=d+F*d*b}else if(n==1||n==2)Y=Y-F*Y*b;else if(h==1||h==2)d=d+F*d*b}if(W=="warpTwist"){if((n==1||n==2)&&(h==1||h==2)){var L=b*Math.PI/2,_=1+Math.abs(b)*2,Z=Y*Math.cos(L)-d*Math.sin(L),t=Y*Math.sin(L)+d*Math.cos(L);
Y=Z*_;d=t*_}}if(W=="warpShellLower"||W=="warpShellUpper"){if(W=="warpShellUpper"){n=3-n;d=-d}if(n>2||n==2&&(h==0||h==3)){if(b>0){var A=T+n/3*2*U;
Y=Math.sin(M)*A;d=-s*j-U+Math.cos(M)*A;if(h==1||h==2){Y=h==1?-y*A:y*A;d=-s*j-U+V*A}}else{if((h==1||h==2)&&n==3){Y=h==1?-y*T:y*T;
d=s*j-V*T+U}else if(n==2){d=U-U*(2/3)*Math.cos(M);Y=Y+U*(2/3)*Math.sin(M)}}}if(W=="warpShellUpper"){n=3-n;
d=-d}}Y+=j;d+=U}a=Y,K=d;r[S]=a+Q.x;r[S+1]=K+Q.y}}};E.Eu.adF=function(r,Q,W){var b=[];for(var X=0;X<4;
X++)b.push(1-W+X/3*2*W);var D=[];for(var X=0;X<4;X++)D.push(1-Q+X/3*2*Q);var h=[0,0,0,0],S=[0,0,0,0];
for(var n=0;n<4;n++)for(var X=0;X<4;X++){var a=2*(4*n+X),K=r[a],Y=r[a+1];h[X]+=K/4;S[X]+=Y/4}for(var n=0;
n<4;n++)for(var X=0;X<4;X++){var d=b[X],a=2*(4*n+X),K=r[a],Y=r[a+1],j=h[X],U=S[X];r[a]=j+d*(K-j);r[a+1]=U+d*(Y-U)}var I=r.slice(0);
for(var n=0;n<4;n++)for(var X=1;X<3;X++){var a=2*(4*n+X),K=r[a],Y=r[a+1],f=a+(X==1?-2:2),g=r[f],H=r[f+1];
r[a]=K-g;r[a+1]=Y-H}var u=r[0],s=r[1],_=r[8],i=r[9],M=r[16],T=r[17],R=r[24],z=r[25],G=r[6],V=r[7],y=r[14],k=r[15],B=r[22],v=r[23],l=r[30],F=r[31],L=G-u,Z=V-s,t=y-_,A=k-i,o=B-M,O=v-T,x=l-R,C=F-z;
for(var n=0;n<4;n++){var J=2*n*4,q=0,fd=0,w=n==1?.33:.66,P=1-w;if(n==0){q=L;fd=Z}if(n==1){q=P*L+w*-x;
fd=P*Z+w*-C}if(n==2){q=P*L+w*-x;fd=P*Z+w*-C}if(n==3){q=-x;fd=-C}r[J]=r[J]+q/2;r[J+1]=r[J+1]+fd/2;r[J+6]=r[J+6]-q/2;
r[J+7]=r[J+7]-fd/2}for(var n=0;n<4;n++)for(var X=1;X<3;X++){var a=2*(4*n+X),K=r[a],Y=r[a+1],f=a+(X==1?-2:2),g=r[f],H=r[f+1],d=2*n/3;
r[a]=g+d*K;r[a+1]=H+d*Y}for(var n=1;n<3;n++)for(var X=1;X<3;X++){var a=2*(4*n+X),K=r[a],Y=r[a+1],fc=n==1?-8:-16,p=n==1?16:8,gG=r[a+fc],fh=r[a+fc+1],fJ=r[a+p],cF=r[a+p+1],d=n/3;
K=(1-d)*gG+d*fJ;Y=(1-d)*fh+d*cF;r[a]=K;r[a+1]=Y}E.p.Px(I,r,r,Q)};E.Eu.ajS=function(r,Q){return(4-r)*(1/3)};
E.Eu.a0X=function(r,Q){return(1-r)*(3-r)/(3*Q)};E.MU={};E.MU.apd=function(r,Q,W,b,X,D,h,S,a,K){for(var Y=0;
Y<S;Y++)for(var d=0;d<h;d++){var j=3*(Y*h+d),U=Y+D,I=d+X,f=r[U*Q+I];b[j]=f;b[j+1]=f;b[j+2]=f}};E.MU.Wn=function(r,Q,W,b,X,D,h,S,a,K){var Y=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],d=1/a,j=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],U=new Uint32Array(6);
for(var I=0;I<S;I++){for(var f=0;f<h;f++){var g=3*(I*h+f),H=I+D,u=f+X;U[0]=0;U[1]=0;U[2]=0;U[3]=0;U[4]=0;
U[5]=0;for(var n=0;n<16;n+=2){var s=u+j[n],_=H+j[n+1],i=s-a*~~(s*d),M=_-a*~~(_*d),T=K[M*a+i];U[T]+=r[_*Q+s];
U[T+3]++}var s=u,_=H,i=s-a*~~(s*d),M=_-a*~~(_*d),T=K[M*a+i];U[T]=r[H*Q+u];U[T+3]=1;b[g]=U[0]*Y[U[3]];
b[g+1]=U[1]*Y[U[4]];b[g+2]=U[2]*Y[U[5]]}}};E.MU.Eh=function(r,Q,W){for(var n=0;n<W;n+=2)r[Q+n]=r[Q+n+1];
Q=Q+W;for(var n=0;n<W;n+=2)r[Q+n+1]=r[Q+n]};E.MU.vo=function(r,Q,W,b){for(var n=0;n<b;n+=2){var X=Q+n*W;
r[X]=r[X+W];r[X+W+1]=r[X+1]}};E.MU.Jk=function(r,Q,W,b,X,D){var h=b[X],S=b[X+1],a=b[D],K=b[D+1],Y=S+a>>>1;
r[Q]=r[Q+3]=r[W]=r[W+3]=h;r[Q+1]=Y;r[Q+4]=S;r[W+1]=a;r[W+4]=Y;r[Q+2]=r[Q+5]=r[W+2]=r[W+5]=K};E.MU.arC=function(r,Q,W,b,X,D){var h=D*3;
for(var n=0;n<D;n+=2){var S=Q+n,a=X+n*3;E.MU.Jk(b,a,a+h,r,S,S+W)}};E.MU.a5f=function(r,Q,W,b,X,D,h){var S=D*3;
for(var n=0;n<h;n+=2){var a=Q+n*W,K=X+n*D*3;E.MU.Jk(b,K,K+S,r,a,a+W)}};E.MU.qG=function(r,n,Q){var W=r[n-Q-Q],b=r[n-Q],X=r[n-2],D=r[n-1],h=r[n],S=r[n+1],a=r[n+2],K=r[n+Q],Y=r[n+Q+Q],d=Math.abs(b-K),j=Math.abs(D-S),U=Math.abs(h-W)*2+d,I=Math.abs(h-a)*2+j,f=Math.abs(h-X)*2+j,g=Math.abs(h-Y)*2+d,H=Math.min(U,Math.min(I,Math.min(f,g)));
if(H==U)return b*3+K+h-W>>2;if(H==I)return S*3+D+h-a>>2;if(H==f)return D*3+S+h-X>>2;return K*3+b+h-Y>>2};
E.MU.OL=function(r,Q,W,b,X){if(r<Q&&Q<W||r>Q&&Q>W)return~~(.5+b+(X-b)*(Q-r)/(W-r));else return(b+X>>1)+(Q+Q-r-W>>2)};
E.MU.YJ=function(r,Q,n,W){var b=Q[n-W-1],X=Q[n-W+1],D=Q[n],h=Q[n+W-1],S=Q[n+W+1],a=r[n-W-1],K=r[n-W+1],Y=r[n],d=r[n+W-1],j=r[n+W+1],U=Math.abs(K-d)+Math.abs(r[n-W-W+2]-Y)+Math.abs(Y-r[n+W+W-2])+Math.abs(X-D)+Math.abs(D-h),I=Math.abs(a-j)+Math.abs(r[n-W-W-2]-Y)+Math.abs(Y-r[n+W+W+2])+Math.abs(b-D)+Math.abs(D-S);
if(U<I)return E.MU.OL(X,D,h,K,d);else return E.MU.OL(b,D,S,a,j)};E.MU.c0=function(r,Q,W,b,X,D){r[Q+0]=W[X];
r[Q+1]=b[X];r[Q+2]=E.MU.YJ(W,b,X,D)};E.MU.EE=function(r,Q,W,b,X,D){var h=b[X];r[Q+0]=E.MU.OL(b[X-1],h,b[X+1],W[X-1],W[X+1]);
r[Q+1]=h;r[Q+2]=E.MU.OL(b[X-D],h,b[X+D],W[X-D],W[X+D])};E.MU.Y_=function(r,Q,W,b,X,D){var h=b[X];r[Q+0]=E.MU.OL(b[X-D],h,b[X+D],W[X-D],W[X+D]);
r[Q+1]=h;r[Q+2]=E.MU.OL(b[X-1],h,b[X+1],W[X-1],W[X+1])};E.MU.XR=function(r,Q,W,b,X,D){r[Q+0]=E.MU.YJ(W,b,X,D);
r[Q+1]=b[X];r[Q+2]=W[X]};E.MU.ax7=function(r,Q,W,b,X,D,h,S,a){var K=Date.now(),Y=2,d=Q-2,j=2;if((X&1)==1){Y++;
d--}var U=W-2;if((D&1)==1){j++;U--}if(a==1||a==3){Y++;d--}var I=r.slice(0);E.MU.Eh(I,0,Q);E.MU.vo(I,0,Q,W);
E.MU.vo(I,Q-2,Q,W);E.MU.Eh(I,(W-2)*Q,Q);for(var f=j;f<U;f+=2)for(var g=Y;g<d;g+=2){var n=f*Q+g,H=E.MU.qG(I,n,Q),u=E.MU.qG(I,n+Q+1,Q);
I[n]=Math.max(0,H);I[n+Q+1]=Math.max(0,u)}var s=h,_=S;if(D+S==W){_-=2;E.MU.arC(r,(W-2)*Q+X,Q,b,(S-2)*h*3,h)}if(X+h==Q){s-=2;
E.MU.a5f(r,D*Q+X+h-2,Q,b,(h-2)*3,h,S)}if(a==0)for(var f=0;f<_;f+=2)for(var g=0;g<s;g+=2){var i=(f+D)*Q+g+X,M=(f*h+g)*3;
E.MU.c0(b,M,r,I,i,Q);E.MU.EE(b,M+3,r,I,i+1,Q);i+=Q;M+=3*h;E.MU.Y_(b,M,r,I,i,Q);E.MU.XR(b,M+3,r,I,i+1,Q)}else if(a==1)for(var f=0;
f<_;f+=2)for(var g=0;g<s;g+=2){var i=(f+D)*Q+g+X,M=(f*h+g)*3;E.MU.EE(b,M,r,I,i,Q);E.MU.c0(b,M+3,r,I,i+1,Q);
i+=Q;M+=3*h;E.MU.XR(b,M,r,I,i,Q);E.MU.Y_(b,M+3,r,I,i+1,Q)}else if(a==2)for(var f=0;f<_;f+=2)for(var g=0;
g<s;g+=2){var i=(f+D)*Q+g+X,M=(f*h+g)*3;E.MU.XR(b,M,r,I,i,Q);E.MU.Y_(b,M+3,r,I,i+1,Q);i+=Q;M+=3*h;E.MU.EE(b,M,r,I,i,Q);
E.MU.c0(b,M+3,r,I,i+1,Q)}else if(a==3)for(var f=0;f<_;f+=2)for(var g=0;g<s;g+=2){var i=(f+D)*Q+g+X,M=(f*h+g)*3;
E.MU.Y_(b,M,r,I,i,Q);E.MU.XR(b,M+3,r,I,i+1,Q);i+=Q;M+=3*h;E.MU.c0(b,M,r,I,i,Q);E.MU.EE(b,M+3,r,I,i+1,Q)}};
E.raw={};E.raw.an9=function(r){var Q=Date.now(),W=r.width,b=r.height,X=0,D=0,h=W,S=b;if(r.t50829){var a=r.t50829;
X=a[1];D=a[0];h=a[3];S=a[2]}if(r.t50719){var K=r.t50719;X+=K[0]>>1<<1;D+=K[1]>>1<<1}if(r.t50720){var Y=r.t50720;
h=X+Y[0];S=D+Y[1]}var d=h-X,j=S-D,U=E.raw.a7k(r),I=r.t33422,f=r.t33421;if(f){var Y=f[0],g=I.slice(0);
for(var H=0;H<Y;H++)for(var u=0;u<Y;u++){var s=(u+(X&1))%Y,_=(H+(D&1))%Y;g[H*Y+u]=I[_*Y+s]}I=g}if(r.t277[0]==1)E.raw.a2a(U,W,b,r,I);
E.raw.vv(2,r,U,W,b);var i=new Float32Array(d*j*3);if(r.t277[0]==1){if(f==null){E.MU.apd(U,W,b,i,X,D,d,j)}else if(f.length!=2||f[0]!=2||f[1]!=2){console.log("Unknown CFA pattern size",f);
E.MU.Wn(U,W,b,i,X,D,d,j,f[0],I)}else{var M=r.t33422.join(","),T=0;if(M=="0,1,1,2")T=0;else if(M=="1,0,2,1")T=1;
else if(M=="2,1,1,0")T=2;else if(M=="1,2,0,1")T=3;else throw"Unknown CFA pattern "+M;if((d&1)!=0||(j&1)!=0)throw"e";
E.MU.ax7(U,W,b,i,X,D,d,j,T)}}else{for(var H=0;H<j;H++)for(var u=0;u<d;u++){var R=((H+D)*W+u+X)*3,z=(H*d+u)*3;
i[z+0]=U[R+0];i[z+1]=U[R+1];i[z+2]=U[R+2]}}var G=i,V=i.length,y=E.raw.If(r),k=1/y;for(var n=0;n<V;n+=3){i[n]=G[n]*k;
i[n+1]=G[n+1]*k;i[n+2]=G[n+2]*k}E.raw.vv(3,r,i,d,j);var B=r.fQ,v=d,l=j;if(B==1||B==9){}else{var F=E.raw.Di(B,d,j),z=0;
v=F[0];l=F[1];var L=i.slice(0);for(var H=0;H<l;H++)for(var u=0;u<v;u++){var Z=F[2]*u+F[3]*H+F[4],t=F[5]*u+F[6]*H+F[7],R=(t*d+Z)*3;
i[z]=L[R];i[z+1]=L[R+1];i[z+2]=L[R+2];z+=3}}return{NP:i,Z1:v,Eq:l}};E.raw.Di=function(r,Q,W){var b=Q,X=W;
if(!1){}else if(r==2)return[Q,W,-1,0,Q-1,0,1,0];else if(r==3)return[Q,W,-1,0,Q-1,0,-1,W-1];else if(r==4)return[Q,W,1,0,0,0,-1,W-1];
else if(r==5)return[W,Q,0,1,0,1,0,0];else if(r==6)return[W,Q,0,1,0,-1,0,W-1];else if(r==7)return[W,Q,0,-1,Q-1,-1,0,W-1];
else if(r==8)return[W,Q,0,-1,Q-1,1,0,0];else throw"unknown orientation "+r};E.raw.a2a=function(r,Q,W,b,X){var D=Date.now(),k=0,l=0;
if(E.raw.If(b)>4e4){for(var n=0;n<r.length;n++)r[n]>>=1;var h=["t50714","t50715","t50712","t50717"];
for(var n=0;n<h.length;n++){var S=b[h[n]];if(S)for(var a=0;a<S.length;a++)S[a]>>>=1}console.log("remapping to lower bit depth")}var K=~~Math.sqrt(X.length),Y=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],d=[];
for(var j=0;j<K;j++)for(var U=0;U<K;U++){var n=j*K+U,I=X[n],f=4,g=4,H=8,u=0,s=0;for(var a=0;a<18;a+=2){var _=(K+U+Y[a])%K,i=(K+j+Y[a+1])%K,M=X[i*K+_];
if(M==I){}else if(f==4){f=M;u=a}else if(g==4&&M!=f){g=M;s=a;break}}if(g<f){var T=g;g=f;f=T;T=s;s=u;u=T}if(f<I){var T=f;
f=I;I=T;T=u;u=H;H=T}if(g<f){var T=g;g=f;f=T;T=s;s=u;u=T}d[n*3]=Y[H+1]*Q+Y[H];d[n*3+1]=Y[u+1]*Q+Y[u];
d[n*3+2]=Y[s+1]*Q+Y[s]}var R=~~(.996*E.raw.If(b)),z=~~(.992*E.raw.If(b)),G=b.t50728;if(G[0]==0)G=[1,1,1];
var V=[],y=[0,0,0];for(var j=1;j<W-1;j++)for(var U=1;U<Q-1;U++){var n=j*Q+U,B=j%K*K+U%K,I=r[n+d[B*3+0]],f=r[n+d[B*3+1]],g=r[n+d[B*3+2]],v=Math.max(I,f,g);
if(v>R)V.push(n);else if(v>z){y[0]+=I;y[1]+=f;y[2]+=g;k++}}if(V.length==0)return;if(k/(Q*W)<1e-5){console.log("not enough semi-saturated pixels",k);
y=G}if(y[1]<y[l])l=1;if(y[2]<y[l])l=2;var F=[y[0]/y[l],y[1]/y[l],y[2]/y[l]],L=r.slice(0);for(var Z=0;
Z<V.length;Z++){var n=V[Z],j=~~(n/Q),U=n-j*Q,B=j%K*K+U%K,t=Math.min(65535,~~(r[n+d[B*3+l]]*F[X[B]]));
if(t>L[n])L[n]=t}r.set(L)};E.raw.Oq=function(r,Q,W,b){var X=Math.round(r.length/3),D=hE.j7(b[0],b[1]),h=E.raw.arN(W,D),S=E.B1.multiply(E.B1.dW,h),a=Math.pow(2,W.t50730?W.t50730[0]:0);
S=E.B1.multiply(S,E.B1.lT(a,a,a));var K=E.raw.Oq.aem;if(K==null){K=E.raw.Oq.aem=new Float64Array(8e3);
for(var n=0;n<8e3;n++)K[n]=E.Lz(n*(1/1e3))}for(var n=0;n<X;n++){var Y=n<<2,d=Y-n,j=r[d],U=r[d+1],I=r[d+2],f=S[0]*j+S[1]*U+S[2]*I,g=S[4]*j+S[5]*U+S[6]*I,H=S[8]*j+S[9]*U+S[10]*I;
if(f<0)f=0;if(g<0)g=0;if(H<0)H=0;Q[d]=K[~~(f*1e3)];Q[d+1]=K[~~(g*1e3)];Q[d+2]=K[~~(H*1e3)]}};E.raw.a7k=function(r){var Q=r.width,W=r.height,b=Q*W*r.t277,X=new Uint16Array(b),D=null,h=0;
E.raw.arh(r,X);E.raw.vv(1,r,X,Q,W);if(r.t50712){D=r.t50712;h=D.length-1;if(D[h]>65535)throw"too big values"}var S=E.raw.LA(r),a=E.raw.ln(r);
if(D==null)for(var n=0;n<b;n++)X[n]=Math.max(0,X[n]-S);else for(var n=0;n<b;n++){var K=X[n];if(K>h)K=h;
K=D[K];X[n]=Math.max(0,K-S)}return X};E.raw.LA=function(r){var Q=r.t50714,W=Q?Q[0]:0,b=r.t50715,X=r.t50716;
if(b)W+=b[0][0]/b[0][1];if(X)W+=X[0][0]/X[0][1];return Math.round(W)};E.raw.ln=function(r){var Q=null,W=0;
if(r.t50712){Q=r.t50712;W=Q.length-1}var b=r.t50717?r.t50717[0]:(1<<r.t258[0])-1;if(Q)b=Math.min(b,Q[W]);
return b};E.raw.If=function(r){var Q=E.raw.LA(r),W=E.raw.ln(r);return W-Q};E.raw.arh=function(r,Q){var W=Q.length,b=r.data,X=r.t258[0];
if(X!=16&&X!=14&&X!=12&&X!=10&&X!=8)throw"Unsupported Bits Per Sample:"+X;X=Math.round(b.length*8/W);
if(X==16&&r.isLE){E.qr(b,Q);return}for(var n=0;n<W;n+=2){var D=0,h=0,S=0;if(X==16){D=n<<1;h=b[D]<<8|b[D+1];
S=b[D+2]<<8|b[D+3]}else if(X==14){var a=n*14,K=a>>>3,Y=b[K]<<24|b[K+1]<<16|b[K+2]<<8|b[K+3];if((a&7)==0){h=Y>>>18;
S=Y>>>4&16383}else{h=Y>>>14&16383;S=Y&16383}}else if(X==12){D=n+(n>>>1);h=b[D]<<4|b[D+1]>>4;S=(b[D+1]&15)<<8|b[D+2]}else if(X==10){var a=n*10,K=a>>>3;
if((a&7)==0){h=(b[K]<<2|b[K+1]>>6)&1023;S=(b[K+1]<<4|b[K+2]>>4)&1023}else{h=(b[K]<<6|b[K+1]>>2)&1023;
S=(b[K+1]<<8|b[K+2]>>0)&1023}}else if(X==8){D=n;h=b[D];S=b[D+1]}Q[n]=h;Q[n+1]=S}};E.raw.a0n=function(r,Q,W,b,X,D,h){var S=r-.499999,a=Q-.499999,K=~~S,Y=~~a,d=S-K,j=a-Y,U=(1-j)*(1-d),I=(1-j)*d,f=j*(1-d),g=j*d,H=(Y*b+K)*3,u=((Y+1)*b+K)*3,s=U*W[H]+I*W[H+3]+f*W[u]+g*W[u+3],_=U*W[H+1]+I*W[H+4]+f*W[u+1]+g*W[u+4],i=U*W[H+2]+I*W[H+5]+f*W[u+2]+g*W[u+5];
D[h]=s;D[h+1]=_;D[h+2]=i};E.raw.vv=function(r,Q,W,b,X){var D=Q["t"+[51008,51009,51022][r-1]],Y=0;if(D==null)return;
var h=b*X,S=c.v,a=c.Gw,K=new Uint8Array(D),dN=c.v(K,Y);Y+=4;for(var d=0;d<dN;d++){var j=S(K,Y);Y+=4;
var U=S(K,Y);Y+=4;var I=S(K,Y);Y+=4;var f=S(K,Y);Y+=4;if(!1){}else if(j==1&&r==3){var g=Y,H=S(K,g);g+=4;
var u=a(K,g);g+=8;var s=a(K,g);g+=8;var _=a(K,g);g+=8;var i=a(K,g);g+=8;var M=a(K,g);g+=8;var T=a(K,g);
g+=8;g+=(H-1)*8*6;var R=a(K,g);g+=8;var z=a(K,g);g+=8;var G=R*b,V=z*X,y=Math.max(G,b-G),k=Math.max(V,X-V),B=Math.sqrt(y*y+k*k),v=1/B,l=W.slice(0);
for(var F=0;F<X;F++)for(var L=0;L<b;L++){var Z=(L+.5-G)*v,t=(F+.5-V)*v,A=Z*Z+t*t,o=u+s*A+_*(A*A)+i*(A*A)*A,O=M*(2*Z*t)+T*(A+2*Z*Z),x=T*(2*Z*t)+M*(A+2*t*t),C=Math.min(G+B*(o*Z+O),b-1),J=Math.min(V+B*(o*t+x),X-1),q=(F*b+L)*3;
E.raw.a0n(C,J,l,b,X,W,q)}}else if(j==3&&r==3){var g=Y,fd=a(K,g);g+=8;var w=a(K,g);g+=8;var P=a(K,g);
g+=8;var fc=a(K,g);g+=8;var p=a(K,g);g+=8;var R=a(K,g);g+=8;var z=a(K,g);g+=8;var G=R*b,V=z*X,y=Math.max(G,b-G),k=Math.max(V,X-V),B=Math.sqrt(y*y+k*k),v=1/B;
for(var F=0;F<X;F++)for(var L=0;L<b;L++){var Z=(L+.5-G)*v,t=(F+.5-V)*v,A=Z*Z+t*t,gG=1+(fd+(w+(P+(fc+p*A)*A)*A)*A)*A,q=(F*b+L)*3;
W[q]=gG*W[q];W[q+1]=gG*W[q+1];W[q+2]=gG*W[q+2]}}else if(j==4&&r==1){var g=Y,fh=S(K,g);g+=4;var fJ=S(K,g);
g+=4;for(var n=0;n<h;n++)if(W[n]==fh)W[n]=W[n-2]+W[n+2]>>1}else if(j==5&&r==1){var g=Y,cF=S(K,g);g+=4;
var j_=S(K,g);g+=4;var gY=S(K,g);g+=4;for(var n=0;n<j_;n++){var kc=S(K,g);g+=4;var el=S(K,g);g+=4;var n=kc*b+el;
W[n]=W[n-2]+W[n+2]>>1}}else if(j==7&&r==1){var g=Y,iN=c.Lg(K,g);g+=16;var c$=S(K,g);g+=4;var dB=S(K,g);
g+=4;var aL=S(K,g),aB=S(K,g+4);g+=8;var f3=S(K,g);g+=4;var jC=new Uint16Array(f3);for(var n=0;n<f3;n++)jC[n]=c.KV(K,g+2*n);
var bc=iN.e,iA=iN.n;for(var F=0;F<iA;F+=aL)for(var L=0;L<bc;L+=aB){var n=(iN.y+F)*b+(iN.x+L);W[n]=jC[W[n]]}}else if(j==8&&r==2){var g=Y,iN=c.Lg(K,g);
g+=16;var c$=S(K,g);g+=4;var dB=S(K,g);g+=4;var aL=S(K,g),aB=S(K,g+4);g+=8;var bL=S(K,g);g+=4;var an=[];
for(var n=0;n<=bL;n++)an[n]=c.Gw(K,g+n*8);var dp=iN.x,im=iN.x+iN.e,a5=iN.y,bg=iN.y+iN.n,fM=Q.t50717[0],eT=1/fM;
for(var ev=0;ev<dB;ev++)for(var F=a5;F<bg;F+=aL){var q=3*F*b+c$+ev;for(var L=dp;L<im;L+=aB){var n=q+3*L,fU=W[n]*eT,e8=an[bL];
for(var ej=bL;ej>0;ej--)e8=e8*fU+an[ej-1];W[n]=Math.max(0,Math.min(65535,~~(e8*fM)))}}}else if(j==9&&r==2){var g=Y,iN=c.Lg(K,g),fv=!0;
g+=16;var c$=S(K,g);g+=4;var dB=S(K,g);g+=4;var aL=S(K,g),aB=S(K,g+4);g+=8;var fV=S(K,g),he=S(K,g+4);
g+=8;var gZ=a(K,g),hQ=a(K,g+8);g+=16;var aJ=a(K,g),cs=a(K,g+8);g+=16;var fN=S(K,g);g+=4;if(fN!=1)throw"more than one map plane";
var j4=fV*he,hL=new Float32Array(j4);for(var ej=0;ej<j4;ej++)hL[ej]=c.sJ(K,g+ej*4);for(var ej=0;ej<j4;
ej++)if(hL[ej]!=1)fv=!1;if(!fv){var bc=iN.e,iA=iN.n,al=.9999*(he-1)/bc,dD=.9999*(fV-1)/iA;for(var F=0;
F<iA;F+=aL)for(var L=0;L<bc;L+=aB){var n=(iN.y+F)*b+(iN.x+L),kd=L*al,gv=F*dD,j$=Math.floor(kd),i9=Math.floor(gv),bv=kd-j$,jk=gv-i9,q=i9*he+j$,cM=hL[q]*(1-bv)+hL[q+1]*bv,iW=hL[q+he]*(1-bv)+hL[q+1+he]*bv,ft=cM*(1-jk)+iW*jk;
W[n]=Math.max(0,Math.min(65535,~~(W[n]*ft+.5)))}}}else console.log("Unknown opcode "+j+" in OpcodeList"+r+". Length: "+f);
Y+=f}};E.raw.arN=function(r,Q){var W=hE.yt(Q),b=E.raw.Ei(r,Q),X=E.B1.j4(b),D=hE.bh(W,hE.yt(hE.aie)),h=E.B1.multiply(D,X);
return h};E.raw.acE=function(r){var Q=r.t50728,X=1;if(Q==null||Q[0]==0)Q=[1,1,1];var W=Q.slice(0);W.push(0);
var b={x:.34567,y:.3585};do{var D=E.B1.j4(E.raw.Ei(r,b)),h=E.B1.lK(D,W),S=hE.am0(h);X=Math.abs(b.x-S.x)+Math.abs(b.y-S.y);
b=S}while(X>1e-7);return b};E.raw.Ei=function(r,Q){var W=hE.Fh(Q),b=E.raw.asN,X=r.t50778?r.t50778[0]:0,D=r.t50779?r.t50779[0]:0,h=b(r.t50721,r.t50722,X,D,W.oH),S=b(r.t50723,r.t50724,X,D,W.oH);
h=h||[1,0,0,0,1,0,0,0,1];S=S||[1,0,0,0,1,0,0,0,1];var a=r.t50727?[r.t50727[0],0,0,0,r.t50727[1],0,0,0,r.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return E.B1.multiply(E.B1.uP(a),E.B1.multiply(E.B1.uP(S),E.B1.uP(h)))};E.raw.asN=function(r,Q,W,b,X){if(!r&&!Q){return null}else if(r&&!Q){return r}else if(X<W){return r}else if(X>b){return Q}else{var D=(1/X-1/b)/(1/W-1/b),h=1-D,S=[];
for(var n=0;n<9;n++)S[n]=r[n]*D+Q[n]*h;return S}};var hE={};hE.aie={x:.34567,y:.3585};hE.dB=[{o:0,bt:.18006,UM:.26352,HP:-.24341},{o:10,bt:.18066,UM:.26589,HP:-.25479},{o:20,bt:.18133,UM:.26846,HP:-.26876},{o:30,bt:.18208,UM:.27119,HP:-.28539},{o:40,bt:.18293,UM:.27407,HP:-.3047},{o:50,bt:.18388,UM:.27709,HP:-.32675},{o:60,bt:.18494,UM:.28021,HP:-.35156},{o:70,bt:.18611,UM:.28342,HP:-.37915},{o:80,bt:.1874,UM:.28668,HP:-.40955},{o:90,bt:.1888,UM:.28997,HP:-.44278},{o:100,bt:.19032,UM:.29326,HP:-.47888},{o:125,bt:.19462,UM:.30141,HP:-.58204},{o:150,bt:.19962,UM:.30921,HP:-.70471},{o:175,bt:.20525,UM:.31647,HP:-.84901},{o:200,bt:.21142,UM:.32312,HP:-1.0182},{o:225,bt:.21807,UM:.32909,HP:-1.2168},{o:250,bt:.22511,UM:.33439,HP:-1.4512},{o:275,bt:.23247,UM:.33904,HP:-1.7298},{o:300,bt:.2401,UM:.34308,HP:-2.0637},{o:325,bt:.24792,UM:.34655,HP:-2.4681},{o:350,bt:.25591,UM:.34951,HP:-2.9641},{o:375,bt:.264,UM:.352,HP:-3.5814},{o:400,bt:.27218,UM:.35407,HP:-4.3633},{o:425,bt:.28039,UM:.35577,HP:-5.3762},{o:450,bt:.28863,UM:.35714,HP:-6.7262},{o:475,bt:.29685,UM:.35823,HP:-8.5955},{o:500,bt:.30505,UM:.35907,HP:-11.324},{o:525,bt:.3132,UM:.35968,HP:-15.628},{o:550,bt:.32129,UM:.36011,HP:-23.325},{o:575,bt:.32931,UM:.36038,HP:-40.77},{o:600,bt:.33724,UM:.36051,HP:-116.45}];
hE.Fh=function(r){var Q=hE.dB,W=2*r.x/(1.5-r.x+6*r.y),b=3*r.y/(1.5-r.x+6*r.y),X=0,D=0,h=0;for(;h<31;
h++){X=b-Q[h].UM-Q[h].HP*(W-Q[h].bt);if(h>0&&X<0){break}D=X}while(h>=Q.length)h--;X/=Math.sqrt(1+Q[h].HP*Q[h].HP);
D/=Math.sqrt(1+Q[h-1].HP*Q[h-1].HP);var S=D/(D-X),a=1e6/((Q[h].o-Q[h-1].o)*S+Q[h-1].o),K=W-((Q[h].bt-Q[h-1].bt)*S+Q[h-1].bt),Y=b-((Q[h].UM-Q[h-1].UM)*S+Q[h-1].UM),d=Math.sqrt(1+Q[h].HP*Q[h].HP),j=1/d,U=Q[h].HP/d,I=Math.sqrt(1+Q[h-1].HP*Q[h-1].HP),f=1/I,g=Q[h-1].HP/I,H=(j-f)*S+f,u=(U-g)*S+g,s=Math.sqrt(H*H+u*u);
H/=s;u/=s;var _=(K*H+Y*u)*-3e3;return{oH:a,Xt:_}};hE.j7=function(r,Q){var W=hE.dB,b=1e6/r,X=1;for(;X<31;
X++){if(b<W[X].o){break}}var D=(W[X].o-b)/(W[X].o-W[X-1].o),h=(W[X-1].bt-W[X].bt)*D+W[X].bt,S=(W[X-1].UM-W[X].UM)*D+W[X].UM,a=Math.sqrt(1+W[X].HP*W[X].HP),K=1/a,Y=W[X].HP/a,d=Math.sqrt(1+W[X-1].HP*W[X-1].HP),j=1/d,U=W[X-1].HP/d,I=(j-K)*D+K,f=(U-Y)*D+Y,g=Math.sqrt(I*I+f*f);
I/=g;f/=g;h+=I*Q/-3e3;S+=f*Q/-3e3;return{x:1.5*h/(h-4*S+2),y:S/(h-4*S+2)}};hE.am0=function(r){var Q=r[0]+r[1]+r[2];
return{x:r[0]/Q,y:r[1]/Q}};hE.yt=function(r){return{x:r.x/r.y,y:1,QC:(1-r.x-r.y)/r.y}};hE.bh=function(r,Q){var W=E.B1.uP([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),b=[r.x,r.y,r.QC,0],X=[Q.x,Q.y,Q.QC,0];
b=E.B1.lK(W,b);X=E.B1.lK(W,X);var D=X[0]/b[0],h=X[1]/b[1],S=X[2]/b[2],a=E.B1.uP([D,0,0,0,h,0,0,0,S]),K=E.B1.j4(W);
return E.B1.multiply(E.B1.multiply(K,a),W)};E.raw.QF={};E.raw.xb=function(r){r*=8;var Q=[8,10,12,14,16];
for(var W in CAMS){var b=CAMS[W];if(b.length==4)continue;var X=b[4],D=b[5];for(var n=0;n<Q.length;n++)if(X*D*Q[n]==r)return[W,Q[n]]}var h=[[4e3,3e3]];
for(var n=0;n<h.length;n++){var b=h[n],X=b[0],D=b[1];for(var n=0;n<Q.length;n++)if(X*D*Q[n]==r)return[b,Q[n]]}return null};
E.raw.ayd=function(r){var r=new Uint8Array(r);for(var n=0;n<r.length;n+=2){var Q=r[n];r[n]=r[n+1];r[n+1]=Q}var W=E.raw.xb(r.length),b=CAMS[W[0]];
if(b==null)b=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,W[0][0],W[0][1]];var X=b[4],D=b[5],h=Math.max(b[2],116),S={data:r,fQ:1,width:X,height:D,t256:[X],t257:[D],t258:[W[1]],t277:[1],t33421:[2,2],t33422:E.raw.$g[b[1]],t50706:[1,2,0,0],t50714:[h,h,h,h],t50717:[b[3]],t50721:b[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var n=0;n<9;n++)S.t50721[n]/=1e4;return S};E.raw.GA=function(r){if(r==null||r.length==0||typeof r[0]=="number")return r;
var Q=[];for(var n=0;n<r.length;n++)Q[n]=r[n][1]==0?0:r[n][0]/r[n][1];return Q};E.raw.$g=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
E.raw.normalize=function(r,Q){if(r.t50706!=null||r.t271[0].startsWith("Hasselblad")){var W=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var n=0;n<W.length;n++)if(r["t"+W[n]]!=null)r["t"+W[n]]=E.raw.GA(r["t"+W[n]]);if(r.t271&&r.t271[0].startsWith("Hasselblad")){r.t50706=[1,2,0,0];
r.t33422=E.raw.$g[1];r.t50723=[1,0,0,0,1,0,0,0,1];r.t50778=[17];if(!r.isLE)for(var n=0;n<r.data.length;
n+=2){var b=r.data[n];r.data[n]=r.data[n+1];r.data[n+1]=b}}return}var X=r.t258[0],D=r.exifIFD,Q=new Uint8Array(Q);
r.t50706=[1,2,0,0];var h=r.t272[0].trim();if(h.indexOf(" ")==-1)h=r.t271[0].trim()+" "+h;if(r.t50708==null)r.t50708=[h];
var S=h.toLowerCase(),a=CAMS,K=a[S];if(K==null)for(var Y in a)if(S.startsWith(Y))K=a[Y];if(K==null)alert("Unknown camera:"+h);
else{var d=K[2];r.t50714=[d,d,d,d];r.t50717=[K[3]];r.t50721=K[0].slice(0);for(var n=0;n<9;n++)r.t50721[n]=r.t50721[n]*(1/1e4)}r.t50723=[1,0,0,0,1,0,0,0,1];
if(r.t50728==null)r.t50728=[.35,1,.6];r.t50778=[17];if(r.t271[0].startsWith("SONY")){var j=UTIF["_bin"+(r.isLE?"LE":"BE")],U=r.t28688,_;
if(JSON.stringify(U)!="[8000,10400,12900,14100]")console.log(U);if(U){var I=[0,0,0,0,0,4095],f=new Uint16Array(16385);
for(var n=0;n<4;n++){var g=U[n]>>>2;I[n+1]=g;if(g>4095)throw"e"}for(var n=0;n<16385;n++)f[n]=n;for(var n=0;
n<5;n++)for(var H=I[n]+1;H<=I[n+1];H++)f[H]=f[H-1]+(1<<n);var u=Q.length*8<r.width*r.height*X;if(u)r.t50712=f}else console.log("no curve");
var s=r.dngPrvt;if(s){var i=s.t29184[0],M=s.t29185[0],T=(r.isLE?c.aN:c.v)(s.t29217,0),R=new Uint32Array(Q.slice(i,i+(M&4294967292)).buffer),z=new Uint32Array(M>>>2);
E.raw.a5c(R,z,M>>>2,T);var G=new Uint8Array(i+M);G.set(new Uint8Array(z.buffer),i);var V=[];UTIF._readIFD(j,G,i,V,0,!1);
var y=V.pop(),k=y.t29458;r.t50728=[k[1]/k[0],1,k[1]/k[3]];r.t50730=[.5];var B=y.t29891;r.t50829=[B[1],B[0],B[3],B[2]]}else if(D.makerNote&&D.makerNote.t8208){var _=D.makerNote,v=_.t8208,l=v.length,F=0,L=new Uint8Array(256);
for(var n=249;n<256;n++)L[n]=n;for(var n=0;n<249;n++)L[n*n*n%249]=n;for(var n=0;n<l;n++)v[n]=L[v[n]];
if(l==6604)F=612;else throw"e";var k=[];for(var n=0;n<3;n++)k.push(c.MW(v,F+n*2));console.log(k);r.t50728=[k[1]/k[0],1,k[1]/k[2]]}else console.log("no white balance");
if(r.width*r.height*1.5==r.t279[0]){d=d>>>2;r.t50714=[d,d,d,d];r.t50717=[K[3]>>>2]}}else if(r.t271[0].startsWith("Canon")){var Q=r.data,Z=Q.slice(0),t=r.t50752,A=[],O=0;
if(t==null||t[0]==0&&t[1]==0)A.push(r.width);else{for(var n=0;n<t[0];n++)A.push(t[1]);A.push(t[2])}var o=r.width*2,x=r.t50885&&r.t50885[0]==4;
if(!x)for(var C=0;C<A.length;C++){var J=A[C],q=2*O,fd=2*J;for(var w=0;w<r.height;w+=2){var P=w*o+q,fc=r.height*q+w*fd;
for(var n=0;n<fd;n++){Q[P+n]=Z[fc+n];Q[P+n+o]=Z[fc+n+fd]}}O+=J}else{for(var C=0;C<A.length;C++){var J=A[C]/((t[0]*t[1]+t[2])/r.width);
for(var w=0;w<r.height;w++){var P=(w*r.width+O)*6,fc=(r.height*O+w*J)*6;for(var n=0;n<J*6;n++)Q[P+n]=Z[fc+n]}O+=J}var p=new Uint16Array(Q.buffer),gG=new Uint16Array(1),fh=new Int16Array(gG.buffer);
for(var n=0;n<p.length;n+=3){var fJ=p[n],cF=p[n+1],j_=p[n+2];gG[0]=cF<<2;cF=fh[0]>>2;gG[0]=j_<<2;j_=fh[0]>>2;
p[n+0]=Math.max(0,j_+fJ);p[n+1]=Math.max(0,(fJ<<12)-cF*778-(j_<<11)>>12);p[n+2]=Math.max(0,cF+fJ)}}var _=D.makerNote;
if(_.t16385){var gY=_.t224,dB=0;if(gY){var i=r.t50719=[gY[5],gY[6]],kc=r.t50720=[gY[7]+1-gY[5],gY[8]+1-gY[6]],el=_.t154;
if(el){i[0]+=el[3];i[1]+=el[4];kc[0]=el[1];kc[1]=el[2]}}var iN=_.t16385,c$=iN.length;if(c$==582)dB=1;
else if(c$==653)dB=2;else if(c$==796)dB=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(c$)!=-1)dB=4;
else if(c$==5120){dB=5;iN=new Int16Array(iN.slice(0).buffer)}else if(c$==1273||c$==1275)dB=6;else if([1312,1313,1316,1506].indexOf(c$)!=-1)dB=7;
else if([1560,1592,1353,1602].indexOf(c$)!=-1)dB=8;else throw"e"+c$;var aL=iN[0],aB=[null,[25,166],[34,286],[63,196],[63],[71,aL==-4?333:264],[63,251],[63,aL==10?504:728],[63,326]],F=aB[dB][0],f3=aB[dB][1];
if(dB==4){if(iN[0]==2)f3=231;else if(iN[0]==3)f3=231;else if(iN[0]==4)f3=231;else if(iN[0]==5)f3=231;
else if(iN[0]==6)f3=231;else if(iN[0]==7)f3=231;else if(iN[0]==9)f3=231;else throw"e"}r.t50728=[iN[F+1]/iN[F],1,iN[F+1]/iN[F+3]];
var d=f3==null?1024:iN[f3];if(dB!=4)r.t50714=[d,d,d,d]}else{r.t50728=[.4,1,.6]}if(x){r.t277=[3];r.t50728=[1,1,1];
r.t50714=[0,0,0,0]}}else if(r.t271[0].startsWith("NIKON")){var _=D.makerNote,jC=r.isLE?c.MW:c.I0,im=0,a5=0,ev,hQ=0;
if(_.t61){var bc=_.t61,iA=[];for(var n=0;n<4;n++)iA[n]=bc[n]/Math.pow(2,14-X);r.t50714=iA}if(_.t3585){var bL=_.t3585,n=0,i=22;
while(i<bL.length&&n!=-4){var an=c.aN(bL,i);i+=4;i+=14;n=c.aN(bL,i)-4;i+=4;if(an==1990472198){if(bL[i]!=0)throw"Flip"}if(an==1990472199){var dp=c.MW(bL,i);
if(dp==0)r.fQ=1;else if(dp==270)r.fQ=8;else throw"e "+dp}i+=n}}if(_.t183){var bg=_.t183,kc=[];for(var n=0;
n<6;n++)kc.push(jC(bg,16+n*2));im=kc[0];a5=kc[1]}if(_.t3614){var fM=_.t3614;im=c.aN(fM,8);a5=c.aN(fM,12)}if(im!=0&&Math.max(im,a5)<Math.max(r.width,r.height)){if(im<a5){var b=im;
im=a5;a5=b}var O=r.width-im>>>1,w=r.height-a5>>>1;r.t50829=[w,O,w+a5,O+im]}else r.t50829=[8,8,r.height-8,r.width-56];
var eT=_.t69;if(eT)r.t50829=[eT[1],eT[0],eT[1]+eT[3],eT[0]+eT[2]];if(_.t12){var fU=E.raw.GA(_.t12);ev=[1/fU[0],1,1/fU[1]]}else if(_.t151){var e8=E.raw.auJ(_,151),ej=e8[0],iO=e8[1],fV=e8[2];
if(ej=="0100"&&iO>=80)throw"e";else if(ej=="0102"){var he=[];for(var n=0;n<4;n++)he.push(jC(fV,6+n*2));
ev=[he[1]/he[0],1,he[1]/he[3]]}else if(ej=="0103"&&iO>=26){var he=[];for(var n=0;n<4;n++)he.push(jC(fV,16+n*2));
ev=[he[1]/he[0],1,he[3]/he[2]]}else if(ej=="0204"&&iO>=564||ej=="0205"&&iO>=284){var i=ej=="0204"?6:14,he=[];
for(var n=0;n<4;n++)he.push(jC(fV,i+n*2));ev=[he[1]/he[0],1,he[1]/he[3]]}else throw"e"}else console.log("no white balance info");
if(h=="NIKON D1")ev=[1,1,1];if(ev)r.t50728=ev;var gZ=_.t150?_.t150:_.t140;if(gZ){var aJ=gZ[hQ++],cs=gZ[hQ++],hL;
if(aJ==73||cs==88)hQ+=2110;hQ+=8;var fN=1<<X&32767,j4=jC(gZ,hQ);hQ+=2;var f=[];if(j4>1)hL=Math.floor(fN/(j4-1));
if(aJ==68&&cs==32&&hL>0){for(n=0;n<j4;n++){f[n*hL]=jC(gZ,hQ);hQ+=2}for(n=0;n<fN;n++)f[n]=Math.floor((f[n-n%hL]*(hL-n%hL)+f[n-n%hL+hL]*(n%hL))/hL)}else if(aJ!=70&&j4<=16385){fN=j4;
for(var n=0;n<j4;n++)f[n]=jC(gZ,hQ+2*n);hQ+=2*j4}var fv=r.t272[0];if(f.length!=0)r.t50712=new Uint16Array(f);
if(r.t258[0]==14&&r.t50717[0]<1e4){console.log("fixing white");r.t50717[0]*=4}}}else if(h.startsWith("FujiFilm")){}else if(h.startsWith("Panasonic")){}else alert("Unknown camera "+h)};
E.raw.a5c=function(r,Q,W,b){if(0==W)return;var X=new Uint32Array(128),D=new Uint8Array(X.buffer),h=127,S=0,a=0;
for(var h=0;h<4;h++)X[h]=b=(b*15625>>>0)*3125+1>>>0;X[3]=X[3]<<1|(X[0]^X[2])>>>31;for(var h=4;h<127;
h++)X[h]=(X[h-4]^X[h-2])<<1|(X[h-3]^X[h-1])>>>31;for(var h=0;h<127;h++)X[h]=c.v(D,h*4);for(;W>0;W--){X[h&127]=X[h+1&127]^X[h+1+64&127];
var K=X[h&127],Y=r[S];Y^=K;Q[a]=Y;S++;a++;h++}};E.raw.aeY=function(r,Q){var W=c.zV(Q,0,4),b=E.raw.an0;
for(var n=0;n<b.length;n++)if(b[n][0]==r&&W.startsWith(b[n][1])&&(b[n][2]==0||b[n][2]==Q.length))return b[n];
throw"e"};E.raw.axT=function(r){if(r.t29==null)return[];var Q=E.raw.a5k,W=E.raw.afO,b=r.t29[0],X=0,h=0;
for(var n=0;n<b.length;n++){var D=b.charCodeAt(n);X=X*10+(48<=D&&D<=57?D-48:D%10)}var iO=r.t167[0];for(var n=0;
n<4;n++)h^=iO>>>(n<<3)&255;var S=Q[X&255],a=W[h&255];return[S,a,96]};E.raw.auJ=function(r,Q){var W=r["t"+Q],iO=W.length,b=E.raw.aeY(Q,W),X=c.zV(W,0,4),D,h=b[4];
if(h==null)D=W.slice(4);else{D=new Uint8Array(iO-h);var S=E.raw.axT(r),a=S[0],K=S[1],Y=S[2];for(var n=0;
n<D.length;n++){K=K+a*Y++&255;D[n]=W[h++]^K}}return[X,iO,D]};E.raw.an0=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
E.raw.a5k=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
E.raw.afO=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
E.p0={};E.p0.p0=function(r,Q,W,b,X){if(b==null)b=3;if(X==null)X=!0;var D=r.e,h=r.n,S=1/D,a=D*h,K=Date.now(),Y=!1,d=E.p0.zm(W,D,h,255,128),j=E.p0.zm(W,D,h,0,128),w=0;
if(Y)console.log("extract contours",Date.now()-K);K=Date.now();var U=function(e8,ej){var fV=e8<<2,he=ej<<2;
return Q[fV]+Q[fV+1]+Q[fV+2]-(Q[he]+Q[he+1]+Q[he+2])};d.sort(U);j.sort(U);var I=E.Q(a),f=E.Q(a),g=[],H=new Uint32Array(D*h);
H.fill(4294967295);for(var n=0;n<a;n++)if(W[n]==0)f[n]=255;else if(W[n]==255)I[n]=255;else{H[n]=g.length;
g.push(n)}var u=d.length,s=j.length,_=g.length;function i(e8,ej,fV,he){var gZ=e8.length,hQ=new Array(gZ*2);
for(var n=0;n<gZ;n++){var F=e8[n],L=~~(F*he),Z=F-L*fV,eT=F<<2;hQ[n*2]=Z<<16|L;hQ[n*2+1]=ej[eT]<<16|ej[eT+1]<<8|ej[eT+2]}return hQ}var M=i(d,Q,D,S),T=i(j,Q,D,S),R=i(g,Q,D,S);
if(Y)console.log("Itemize",Date.now()-K,"Unknown:",_,u,s);K=Date.now();var z=E.style.tO(I,D,h,!0),G=E.style.tO(f,D,h,!0),V=new Array(_),y=new Array(_),k=new Array(_),B=new Array(_),v=new Array(_);
if(Y)console.log("Dist transform",Date.now()-K);K=Date.now();var l=E.p0.HM;for(var n=0;n<_;n++){var F=g[n],L=~~(F*S),Z=F-L*D,t=z[F<<1],A=z[(F<<1)+1],o=Math.sqrt(t*t+A*A),O=G[F<<1],x=G[(F<<1)+1],C=Math.sqrt(O*O+x*x);
V[n]=1/o;y[n]=1/C;var J=Math.floor(E.q.hH(F*17)*u),q=Math.floor(E.q.hH(F*19)*s);k[n]=J;B[n]=q;v[n]=l(R[n*2],R[n*2+1],M[J*2],M[J*2+1],T[q*2],T[q*2+1],V[n],y[n],1e9)}var fd=[-D-1,-D,-D+1,-1,1,D-1,D,D+1];
while(Math.floor(Math.max(u,s)*Math.pow(.5,w))>1)w++;for(var P=0;P<b;P++){var fc=0;for(var n=0;n<_;n++){var F=g[n],L=~~(F*S),Z=F-L*D,p=V[n],gG=y[n],fh=R[n*2],fJ=R[n*2+1],cF=v[n],J=k[n],q=B[n],c$=1;
if(L!=0&&Z!=0&&Z!=D-1&&L!=h-1)for(var j_=0;j_<8;j_++){var gY=H[F+fd[j_]];if(gY==4294967295)continue;
var kc=k[gY],el=B[gY];if(kc==J&&el==q)continue;var iN=l(fh,fJ,M[kc*2],M[kc*2+1],T[el*2],T[el*2+1],p,gG,cF);
if(iN<cF){cF=iN;J=kc;q=el}}for(var dB=0;dB<w;dB++){var aL=~~(u*c$),aB=~~(s*c$);c$*=.5;var f3=E.q.hH(F+P*17+dB*31),jC=E.q.hH(F+P*29+dB*63),bc=Math.max(0,J-aL),iA=Math.min(J+aL,u-1),bL=Math.max(0,q-aB),an=Math.min(q+aB,s-1),kc=bc+~~(f3*(iA-bc)),el=bL+~~(jC*(an-bL)),iN=l(fh,fJ,M[kc*2],M[kc*2+1],T[el*2],T[el*2+1],p,gG,cF);
if(iN<cF){cF=iN;J=kc;q=el}}v[n]=cF;k[n]=J;B[n]=q;fc+=cF}}if(Y)console.log(fc);if(Y)console.log("iterations",Date.now()-K);
K=Date.now();var dp=W.slice(0);for(var n=0;n<_;n++){var im=E.p0.alpha(R[n*2+1],M[k[n]*2+1],T[B[n]*2+1]);
dp[g[n]]=~~(.5+255*im)}dp=E.P9.apD(dp,Q,new aV(0,0,D,h),16,.01*.01);if(Y)console.log("guided filter",Date.now()-K);
K=Date.now();if(X)for(var n=0;n<a;n++)if(W[n]==255||W[n]==0)dp[n]=W[n];var bg=Q.slice(0);for(var n=0;
n<_;n++){var fM=g[n],J=d[k[n]],cF=v[n],eT=fM<<2,ev=dp[fM],fU=(ev>=250?fM:J)<<2;bg[eT]=Q[fU];bg[eT+1]=Q[fU+1];
bg[eT+2]=Q[fU+2]}E.nV(dp,bg,3);if(Y)console.log(Date.now()-K);K=Date.now();return bg};E.p0.HM=function(r,Q,W,b,X,D,h,S,a){var K=r>>>16,Y=r&65535,d=K-(W>>>16),j=Y-(W&65535),U=K-(X>>>16),I=Y-(X&65535),f=Math.sqrt(d*d+j*j)*h,g=Math.sqrt(U*U+I*I)*S;
if(f+g>=a)return 1e9;var H=E.p0.at0(Q,b,D);return H+f+g};E.p0.at0=function(r,Q,W){var b=r>>>16,X=r>>>8&255,D=r&255,h=Q>>>16,S=Q>>>8&255,a=Q&255,K=W>>>16,Y=W>>>8&255,d=W&255,j=E.p0.alpha(r,Q,W),U=b-(j*h+(1-j)*K),I=X-(j*S+(1-j)*Y),g=D-(j*a+(1-j)*d);
return Math.sqrt(U*U+I*I+g*g)};E.p0.alpha=function(r,Q,W){var b=r>>>16,X=r>>>8&255,D=r&255,h=Q>>>16,S=Q>>>8&255,a=Q&255,K=W>>>16,Y=W>>>8&255,d=W&255,j=h-K,U=S-Y,I=a-d,f=b-K,g=X-Y,H=D-d,u=j*j+U*U+I*I,s=u==0?.5:(f*j+g*U+H*I)/u;
return Math.max(0,Math.min(1,s))};E.p0.a7z=function(r){};E.p0.zm=function(r,Q,W,b,X){var D=[],h=Q-1,S=W-1;
for(var a=1;a<S;a++)for(var K=1;K<h;K++){var n=a*Q+K;if(r[n]==b&&(r[n-Q-1]==X||r[n-Q]==X||r[n-Q+1]==X||(r[n-1]==X||r[n+1]==X)||(r[n+Q-1]==X||r[n+Q]==X||r[n+Q+1]==X)))D.push(n)}return D};
E.P9={};E.P9.abV=function(r,Q,W,b,X){var D=W.e,h=W.n,S=D*h,a=E.P9.tP,K=E.Q(S*4),Y;E.tl(K,4294967295);
var d=W,j=r,U=Q,I=b;E.nV(r,K,0);Y=E.mJ(K,W);Y=E.mJ(Y.NP,Y.rect);d=Y.rect;I=b>>>2;console.log(d,I);j=E.Q(d.O());
E.TX(Y.NP,j,0);E.nV(Q,K,0);Y=E.mJ(K,W);Y=E.mJ(Y.NP,Y.rect);U=E.Q(d.O());E.TX(Y.NP,U,0);var f=E.P9.a7P(j,U,d,I,X),g=f[0],H=f[1],u=new aV(0,0,d.e*2,d.n*2);
g=a(g,d,u,!0);g=a(g,u,W,!0);H=a(H,d,u,!0);H=a(H,u,W,!0);var s=E.Q(S);for(var n=0;n<S;n++)s[n]=Math.max(0,Math.min(255,Math.floor(.5+(g[n]*Q[n]+255*H[n]))));
return s};E.P9.tP=function(r,Q,W,b){var X=W.e,D=W.n,h=Q.e,S=Q.n,a=E.P9.rC,K=new Float32Array(X*D);for(var Y=0;
Y<S;Y++){var d=(Y+Y)*X;for(var j=0;j<h;j++){if(!0||j==0||Y==0||j==h-1||Y==S-1)K[d]=K[d+1]=K[d+X]=K[d+X+1]=r[Y*h+j];
else{K[d]=a(j+.25,Y+.25,r,h,S);K[d+1]=a(j+.75,Y+.25,r,h,S);K[d+X]=a(j+.25,Y+.75,r,h,S);K[d+X+1]=a(j+.75,Y+.75,r,h,S)}d+=2}}return K};
E.P9.rC=function(r,Q,W,b,X){r-=.499999;Q-=.499999;var D=Math.floor(r),h=Math.floor(Q),S=h*b+D,a=r-D,K=Q-h,Y=(1-K)*(1-a),d=(1-K)*a,j=K*(1-a),U=K*a;
if(W[S]==null||W[S+b+1]==null){console.log(r,Q,b,X);throw"e"}return Y*W[S+0]+d*W[S+1]+j*W[S+b+0]+U*W[S+b+1]};
E.P9.a7P=function(r,Q,W,b,X){var D=W.e,h=W.n,S=D*h,a=E.P9.K5,K=E.P9.Q,Y=E.Cb.$a,d=E.P9.dh,Q=a(Q),r=a(r),j=K(S);
Y(Q,j,W,b);var U=K(S);Y(r,U,W,b);var I=K(S);d(Q,Q,I);Y(I,I,W,b);var f=K(S);d(Q,r,f);Y(f,f,W,b);var g=K(S),H=K(S);
for(var n=0;n<S;n++){var u=j[n],s=U[n],_=I[n]-u*u,i=f[n]-u*s,M=i/(_+X),T=s-M*u;g[n]=M;H[n]=T}var R=K(S);
Y(g,R,W,b);var z=K(S);Y(H,z,W,b);return[R,z]};E.P9.apD=function(r,Q,W,b,X){var D=W.e,h=W.n,S=D*h,a=E.P9.tP,K=Date.now(),Y=!1,d=W,j=r,U=Q,I=b;
d=new aV(0,0,D>>>2,h>>>2);I=b>>>2;j=E.P9.a00(r,D,h);U=E.P9.a05(Q,D,h);if(Y)console.log(Date.now()-K);
K=Date.now();var f=E.P9.a7r(j,U,d,I,X),g=f[0],H=f[1],u=f[2],s=f[3];if(Y)console.log(Date.now()-K);K=Date.now();
var _=E.Q(S);for(var i=0;i<h;i++)for(var M=0;M<D;M++){var n=i*D+M,T=(i>>>2)*(D>>>2)+(M>>>2),R=n<<2,z=g[T]*Q[R]+H[T]*Q[R+1]+u[T]*Q[R+2]+s[T]*255;
_[n]=Math.max(0,Math.min(255,~~(.5+z)))}if(Y)console.log(Date.now()-K);K=Date.now();return _};E.P9.a00=function(r,Q,W){var b=Q>>>2,X=W>>>2,D=E.Q(Q*W);
for(var h=0;h<X;h++)for(var S=0;S<b;S++)D[h*b+S]=r[h*Q+S<<2];return D};E.P9.a05=function(r,Q,W){var b=Q>>>2,X=W>>>2,D=E.Q(Q*W*4);
for(var h=0;h<X;h++)for(var S=0;S<b;S++){var a=h*b+S<<2,K=h*Q+S<<4;D[a]=r[K];D[a+1]=r[K+1];D[a+2]=r[K+2];
D[a+3]=r[K+3]}return D};E.P9.a7r=function(r,Q,W,b,X){var D=W.e,h=W.n,S=D*h,a=E.P9.K5,K=E.P9.Q,Y=E.Cb.$a,d=E.P9.dh,r=a(r),j=new E.yC(D*h);
E.q_(Q,j);var Q=[a(j.o),a(j.W),a(j.k)],U=E.P9.aaF(r,Q,W,b,X),I=K(S);Y(r,I,W,b);var f=K(S);d(Q[0],r,f);
Y(f,f,W,b);var g=K(S);d(Q[1],r,g);Y(g,g,W,b);var H=K(S);d(Q[2],r,H);Y(H,H,W,b);var u=K(S),s=K(S),_=K(S),i=K(S);
for(var n=0;n<S;n++){var M=I[n],T=U.m0[n],R=U.yf[n],z=U.M8[n],G=f[n]-T*M,V=g[n]-R*M,y=H[n]-z*M;u[n]=U.amu[n]*G+U.Th[n]*V+U.xe[n]*y;
s[n]=U.Th[n]*G+U.a8q[n]*V+U.CH[n]*y;_[n]=U.xe[n]*G+U.CH[n]*V+U.agU[n]*y;i[n]=M-u[n]*T-s[n]*R-_[n]*z}Y(u,u,W,b);
Y(s,s,W,b);Y(_,_,W,b);Y(i,i,W,b);return[u,s,_,i]};E.P9.aaF=function(r,Q,W,b,X){var D=W.e,h=W.n,S=D*h,a=E.P9.Q,K=E.Cb.$a,Y=E.P9.dh,d={};
d.m0=a(S);K(Q[0],d.m0,W,b);d.yf=a(S);K(Q[1],d.yf,W,b);d.M8=a(S);K(Q[2],d.M8,W,b);var j=a(S);Y(Q[0],Q[0],j);
K(j,j,W,b);var U=a(S);Y(Q[0],Q[1],U);K(U,U,W,b);var I=a(S);Y(Q[0],Q[2],I);K(I,I,W,b);var f=a(S);Y(Q[1],Q[1],f);
K(f,f,W,b);var g=a(S);Y(Q[1],Q[2],g);K(g,g,W,b);var H=a(S);Y(Q[2],Q[2],H);K(H,H,W,b);d.amu=j;d.Th=U;
d.xe=I;d.a8q=f;d.CH=g;d.agU=H;for(var n=0;n<S;n++){var u=d.m0[n],s=d.yf[n],_=d.M8[n],i=j[n]-u*u+X,M=U[n]-u*s,T=I[n]-u*_,R=f[n]-s*s+X,z=g[n]-s*_,G=H[n]-_*_+X,V=R*G-z*z,y=z*T-M*G,k=M*z-R*T,B=i*G-T*T,v=T*M-i*z,l=i*R-M*M,F=V*i+y*M+k*T,L=1/F;
d.amu[n]=V*L;d.Th[n]=y*L;d.xe[n]=k*L;d.a8q[n]=B*L;d.CH[n]=v*L;d.agU[n]=l*L}return d};E.P9.Q=function(r){return new Float32Array(r)};
E.P9.K5=function(r){var Q=r.length,W=new Float32Array(Q);for(var n=0;n<Q;n++)W[n]=r[n]*(1/255);return W};
E.P9.dh=function(r,Q,W){for(var n=0;n<r.length;n++)W[n]=r[n]*Q[n]};E.xL={};E.xL.JB=function(r,Q,W,b){var X=r[Q]-W[b],D=r[Q+1]-W[b+1],h=r[Q+2]-W[b+2];
return Math.sqrt(X*X+D*D+h*h)*(1/441.7)};E.xL.getSelection=function(r,Q,W){var b=Q*W,X=E.Q(b),D=!1,h=Math.round(W*.7),S=1,a=new Uint32Array(12),K=E.Q(12);
for(var Y=0;Y<h;Y++)for(var d=0;d<Q;d++){if(d<S||Y<S||d>Q-S-1||Y>W-S-1){var n=Y*Q+d,j=n<<2,U=0;if(Y<S)U=4;
else if(d>Q-S-1)U=8;a[U]+=r[j];a[U+1]+=r[j+1];a[U+2]+=r[j+2];a[U+3]++;X[n]=255}}for(var n=0;n<12;n+=4)for(var I=0;
I<3;I++)K[n+I]=a[n+I]/a[n+3];var f=new Float32Array(b);for(var n=0;n<b;n++){var j=n*4,g=E.xL.JB(r,j,K,0),H=E.xL.JB(r,j,K,4),u=E.xL.JB(r,j,K,8),s=Math.max(g,Math.max(H,u));
f[n]=g+H+u-s}E.xL.sa(f);var _=Date.now(),i=new Float32Array(b),M=[],T=E.Q(b);for(var n=0;n<3;n++){E.TX(r,T,n);
var R=new Uint16Array(b);M.push(R);E.xL.aio(T,X,Q,W,R)}if(D)console.log("MBD",Date.now()-_);_=Date.now();
for(var n=0;n<b;n++)i[n]=M[0][n]+M[1][n]+M[2][n];E.xL.sa(i);for(var n=0;n<b;n++)i[n]+=.4*f[n];var z=Q>>>1,h=W>>>1,G=1/Math.sqrt(z*z+h*h);
for(var Y=0;Y<W;Y++)for(var d=0;d<Q;d++){var V=d-z,y=Y-h,k=1-Math.sqrt(V*V+y*y)*G;i[Y*Q+d]*=k}if(D)console.log("Centeredness",Date.now()-_);
_=Date.now();for(var n=0;n<b;n++)X[n]=i[n]*255;var B=Math.round(Q/120),v=Math.round(B*.8);if(D)console.log(B,v);
E.a0.oi(X,T,Q,W,B,E.a0.BS,[]);X.set(T);if(D)console.log("erosion",Date.now()-_);_=Date.now();for(var n=0;
n<b;n++)i[n]=X[n];E.xL.sa(i);var l=E.Q(256);for(var n=0;n<256;n++)l[n]=256/(1+Math.exp(-20*(n/255-.5)));
for(var n=0;n<b;n++){var F=~~(i[n]*255+.5);X[n]=l[F]}if(D)console.log("Simoid",Date.now()-_);_=Date.now();
return X};E.xL.sa=function(r){var Q=r.length,W=0;for(var n=0;n<Q;n++)W=Math.max(W,r[n]);var b=1/W;for(var n=0;
n<Q;n++)r[n]=r[n]*b};E.xL.aio=function(r,Q,W,b,X){var D=W*b,h=r.slice(0),S=r.slice(0);for(var n=0;n<D;
n++)X[n]=Q[n]==255?0:65535;E.xL.tM(r,S,h,X,W,b);E.xL.QI(r,S,h,X,W,b);E.xL.tM(r,S,h,X,W,b);E.xL.QI(r,S,h,X,W,b);
return X};E.xL.tM=function(r,Q,W,b,X,D){for(var h=1;h<X;h++)E.xL.n4(h,-1,r,Q,W,b);for(var S=1;S<D;S++){E.xL.n4(S*X,-X,r,Q,W,b);
for(var h=1;h<X;h++){var n=S*X+h;E.xL.n4(n,-1,r,Q,W,b);E.xL.n4(n,-X,r,Q,W,b)}}};E.xL.QI=function(r,Q,W,b,X,D){for(var h=X-2;
h>=0;h--)E.xL.n4(X*D-X+h,1,r,Q,W,b);for(var S=D-2;S>=0;S--){E.xL.n4(S*X+X-1,X,r,Q,W,b);for(var h=X-2;
h>=0;h--){var n=S*X+h;E.xL.n4(n,1,r,Q,W,b);E.xL.n4(n,X,r,Q,W,b)}}};E.xL.n4=function(n,r,Q,W,b,X){var D=n+r,h=Q[n],S=W[D],a=b[D];
if(S<h)S=h;else if(h<a)a=h;var K=S-a;if(X[D]!=65535&&K<X[n]){X[n]=K;W[n]=S;b[n]=a}};E.vS={};E.vS.filter=function(r,Q,W,b){var X=Q.e,D=Q.n,h=X*D,S=b[0],a=b[1],K=b[2],Y=b[3],d=b[4],j=b[5],U=b[6],I=Date.now(),f=new Float32Array(X*D*4);
E.vS.agk(r,X,D,f);var g=Math.ceil(S*Math.sqrt(-2*Math.log(.1))),H=new ArrayBuffer(h*4),u=new Float32Array(H),s=new Float32Array(h),_=new Float32Array(h);
for(var n=0;n<h;n++){var i=n*4;u[n]=f[i];s[n]=f[i+1];_[n]=f[i+2]}E.Cb.hs(u,u,Q,g*1/2.4,2);E.Cb.hs(s,s,Q,g*1/2.4,2);
E.Cb.hs(_,_,Q,g*1/2.4,2);for(var n=0;n<h;n++){var i=n*4;f[i]=u[n];f[i+1]=s[n];f[i+2]=_[n]}var M=new Uint8Array(H);
for(var n=0;n<h;n++){var i=n*4,T=n*4,u=f[i],s=f[i+1],_=f[i+2],R=Math.sqrt((u-_)*(u-_)+4*s*s),z=(u+_+R)*.5,G=(u+_-R)*.5,V=G-_,y=s,k=V*V+y*y;
if(k!=0){var B=Math.sqrt(k),v=1/B;V*=v;y*=v}M[T]=128+127*V;M[T+1]=128+127*y}var l=1.3*a+2,F=Y*(2/10),L=r.slice();
if(gn.Kz){var Z=new Float32Array([1/X,1/D]),t=gn.Y9(0,X,D);t.set(L);var A=gn.Y9(1,X,D);A.set(M);gn._h(t,Q);
if(d){t.x7(Q);gn.filter.CJ({type:gn.filter.anc,yg:Z,au9:1/K,adr:F},t.mr)}t.x7(Q);gn.filter.CJ({type:gn.filter.U5,n0:A.G6,yg:Z,ae5:l,asS:2},t.mr);
if(d){t.x7(Q);gn.filter.CJ({type:gn.filter.aaq,yg:Z,ab3:new Float32Array(U),a9H:j},t.mr)}t.get(W)}else{if(d)E.vS.A9(1/K,F,L,X,D);
E.vS.U5(L,W,M,X,D,l);if(d)E.vS.af_(X,D,W,U,j)}var o=h*4;for(var n=3;n<o;n+=4)W[n]=r[n]};E.vS.U5=function(r,Q,W,b,X,D){var h=Math.ceil(2*D),S=-1/(2*D*D),a=[],K=1;
for(var n=0;n<h+20;n++)a[n]=Math.exp(n*n*S);var Y=[0,0,0,0];for(var d=0;d<X;d++){for(var j=0;j<b;j++){var U=d*b+j,I=U*4,f=1,g=r[I],H=r[I+1],u=r[I+2],s=r[I+3],_=(W[I]-128)*(1/127),i=(W[I+1]-128)*(1/127),M=_,T=i,R=j==0?.51:.49,z=d==0?.51:.49;
for(var n=0;n<2;n++){var G=j+R,V=d+z,y=0;while(y<h){if(G<.5||b-.5<G||V<.5||X-.5<V)break;var k=~~G,B=~~V,v=B*b+k,l=v*4,F=(W[l]-128)*(1/127),L=(W[l+1]-128)*(1/127);
if(F*M+L*T<0){F=-F;L=-L}M=F;T=L;G+=K*F;V+=K*L;if(G<.5||b-.5<G||V<.5||X-.5<V)break;var Z=~~G,t=~~V,A=t*b+Z<<2;
y+=K;var o=a[~~y];E.K.AS(G,V,r,b,X,Y);g+=Y[0]*o;H+=Y[1]*o;u+=Y[2]*o;s+=Y[3]*o;f+=o}M=-_;T=-i}var O=1/f;
Q[I]=~~(.5+g*O);Q[I+1]=~~(.5+H*O);Q[I+2]=~~(.5+u*O);Q[I+3]=~~(.5+s*O)}}};E.vS.af_=function(r,Q,W,b,X){for(var D=0;
D<Q;D++)for(var h=0;h<r;h++){var S=D*r+h<<2,a=1+E.vS.acm(h,D,W,r,Q,b)*X;W[S]=Math.max(0,Math.min(255,W[S]*a));
W[S+1]=Math.max(0,Math.min(255,W[S+1]*a));W[S+2]=Math.max(0,Math.min(255,W[S+2]*a))}};E.vS.acm=function(r,Q,W,b,X,D){var h=W[(Q*b+Math.max(0,r-1))*4+3],S=W[(Q*b+Math.min(b-1,r+1))*4+3],a=W[(Math.max(0,Q-1)*b+r)*4+3],K=W[(Math.min(X-1,Q+1)*b+r)*4+3],Y=.7,d=(S-h)*(1/255),j=.7,U=(K-a)*(1/255),I=-d*j,f=-Y*U,g=Y*j,H=Math.sqrt(I*I+f*f+g*g),u=1/H,s=I*u,_=f*u,i=g*u,M=D[0]*s+D[1]*_+D[2]*i;
return M};E.vS.A9=function(r,Q,W,b,X){function D(S,K,Y){return Math.max(K,Math.min(Y,S))}for(var h=0;
h<X;h++)for(var S=0;S<b;S++){var a=E.vS.ap9(S+.5,h+.5,r,Q);W[(h*b+S)*4+3]=Math.max(0,Math.min(255,a*255))}};
E.vS.ap9=function(r,Q,W,b){function X(T,R,z){return(1-z)*T+z*R}var D=(r+613)*W,h=(Q+117)*W,S=~~D,a=~~h,K=D-S,Y=h-a,d=Math.sin(11),j=Math.cos(S)*d,U=Math.cos(S+1)*d,I=Math.cos(a)*d,f=Math.cos(a+1)*d,fb=E.vS.hash(j,I),g=E.vS.hash(U,I),H=E.vS.hash(j,f),u=E.vS.hash(U,f),s=X(fb,g,K),_=X(H,u,K),i=X(s,_,Y);
i=i<.5?0:1;var M=i+b*E.vS.hash(Math.cos(D)*d,Math.cos(h)*d);return M*(1/3)};E.vS.hash=function(r,Q){var W=Math.sin(r*11.697096+Q*73.32456)*12157.47691;
return W-Math.floor(W)};E.vS.agk=function(r,Q,W,b){var X=[-1,0,1,-2,0,2,-1,0,1],D=[-1,-2,-1,0,0,0,1,2,1],h=Q-1,S=W-1,a=Q*4;
for(var K=1;K<S;K++)for(var Y=1;Y<h;Y++){var n=K*Q+Y,d=n*4,j=E.vS.ET(r,d,a,X),U=E.vS.ET(r,d,a,D),I=E.vS.ET(r,d+1,a,X),f=E.vS.ET(r,d+1,a,D),g=E.vS.ET(r,d+2,a,X),H=E.vS.ET(r,d+2,a,D);
b[d]=j*j+I*I+g*g;b[d+1]=j*U+I*f+g*H;b[d+2]=U*U+f*f+H*H}E.vS.acM(b,Q,W)};E.vS.ET=function(r,Q,W,b){return r[Q-W-4]*b[0]+r[Q-W]*b[1]+r[Q-W+4]*b[2]+r[Q-4]*b[3]+r[Q]*b[4]+r[Q+4]*b[5]+r[Q+W-4]*b[6]+r[Q+W]*b[7]+r[Q+W+4]*b[8]};
E.vS.acM=function(r,Q,W){function b(a,n,K){var Y=n*4,d=K*4;a[d]=a[Y];a[d+1]=a[Y+1];a[d+2]=a[Y+2]}var X=Q-1,D=W-1;
b(r,Q+1,0);b(r,2*Q-2,Q-1);for(var h=1;h<X;h++)b(r,Q+h,h);for(var S=1;S<D;S++){b(r,S*Q+1,S*Q);b(r,S*Q+Q-2,S*Q+Q-1)}for(var h=1;
h<X;h++)b(r,(W-2)*Q+h,(W-1)*Q+h);b(r,(S-2)*Q+1,(S-1)*Q);b(r,(S-1)*Q-2,S*Q-1)};E.fu=function(){function r(K,Y,d,j){var U=new Float32Array(K*K),I=K/2;
for(var f=0;f<K;f++)for(var g=0;g<K;g++){var H=g+d-I,u=f+j-I;U[f*K+g]=Math.max(0,Math.min(1,Y+.5-Math.sqrt(H*H+u*u)))}return U}var Q=[],b=null;
function W(K,Y,d,j){var U=Math.floor(Y*10),I=Q[U],f=K*8,g=f>>>1;if(I==null){I=Q[U]=[];var H=new aV(0,0,f,f),u=K/2/(1+.2*Y),s=Math.floor(K*U*.1);
for(var _=0;_<2;_++)for(var i=0;i<2;i++){var M=r(f,u,.25+i*.5,.25+_*.5),T=0;E.Cb.hs(M,M,H,s);while(M[f*g+T]<.005)T++;
if(T!=0)T--;var R=2*(g-T),z=new aV(T,T,R,R),G=new Float32Array(R*R);for(var V=0;V<R;V++)for(var y=0;
y<R;y++)G[V*R+y]=M[(T+V)*f+T+y];I.push([G,z])}}var k=Math.floor(d),B=Math.floor(j),v=d-k,l=j-B,F=v<.5?1:0,L=l<.5?1:0;
I=I[L*2+F];var z=I[1].clone();z.x+=k-g;z.y+=B-g;return[I[0],z]}function X(K,Y,d){if(b==null){b=new Uint8Array(4e4);
for(var n=0;n<4e4;n++)b[n]=Math.min(255,~~(.5+255*E.cE(n*(1/255))))}var j=K.length;for(var n=0;n<j;n++){var U=K[n],I=~~(255*U);
Y[n]=b[I]<<24|d}}function D(K,Y,d,j,U){var I=Y.ww(j),f=Math.max(0,I.x-Y.x),g=Math.max(0,I.x-j.x),H=Math.max(0,I.y-Y.y),u=Math.max(0,I.y-j.y),s=I.e,_=I.n;
for(var n=0;n<_;n++){var i=(H+n)*Y.e+f,M=(u+n)*j.e+g;for(var T=0;T<s;T++){d[M+T]+=U*K[i+T]}}}var h=-1;
function S(K,Y,d,j,U){var I=Math.round(j[1]*Y*d*.01),f=j[2],g=j[3],H=j[4],u=j[5],s=j[6],_=j[7],i=j[8],M=j[9],T=j[10]?j[10]:1,o=!1;
if(f!=h){Q=[];h=f}var R=Date.now(),z=new aV(0,0,Y,d),G=new a(j[0]);if(U)K.fill(0);var V=new Float32Array(U?K.buffer:Y*d);
for(var n=0;n<I;n++){var y=G.get()*Y,k=G.get()*d,B=G.get()*g,v=G.get()*f*4,l=(G.get()+s)*Math.PI*2,F=G.get()*f*4,L=(G.get()+2*s)*Math.PI*2;
y+=M*(v*Math.cos(l)+F*Math.cos(L));k+=M*(v*Math.sin(l)+F*Math.sin(L));if(i)k=k+s*d*T;var Z=W(f,B,y,k%d),t=H,A=G.get();
if(_)t=.5+.5*H*(.5+.5*Math.sin((2*s+A)*2*Math.PI));D(Z[0],Z[1],V,z,t)}if(o)console.log(Date.now()-R,"add floats");
R=Date.now();var O=new Uint8Array(V.buffer);X(V,new Uint32Array(O.buffer),u.k<<16|u.W<<8|u.o);if(o)console.log(Date.now()-R,"toInt");
R=Date.now();if(!U){E.q.YB("scrn",O,z,K,z,z,1);if(o)console.log(Date.now()-R,"blendOver")}}function a(K){this.Ht=123456789;
this.Dn=987654321;this.z=4294967295;this.el(K)}a.prototype.el=function(n){this.Ht=123456789+n&this.z;
this.Dn=987654321-n&this.z};a.prototype.get=function(){this.Dn=36969*(this.Dn&65535)+(this.Dn>>16)&this.z;
this.Ht=18e3*(this.Ht&65535)+(this.Ht>>16)&this.z;var K=(this.Dn<<16)+(this.Ht&65535)>>>0;K/=4294967296;
return K};return{bU:S}}();E.gd={};E.gd.UF=function(r,Q,W,b){var X=r[Q*2],D=r[Q*2+1],h=r[W*2],S=r[W*2+1],a=r[b*2],K=r[b*2+1];
return X*S+h*K+a*D-a*S-h*D-X*K};E.gd.o8=function(r,Q){var W=[],b=[],X=[],D={};for(var n=0;n<Q.length;
n+=3){var h=~~(n*(1/3)),S=Q[n+0],a=Q[n+1],Y=Q[n+2],d=E.gd.UF(r,S,a,Y);if(d>0){var j=a;a=Y;Y=j}var U=D[Y+"-"+a],I=D[a+"-"+S],f=D[S+"-"+Y],g=[Y,U,h,null],H=[a,I,h,g],u=[S,f,h,H];
g[3]=u;if(U)U[1]=g;if(I)I[1]=H;if(f)f[1]=u;D[Y+"-"+S]=u;D[S+"-"+a]=H;D[a+"-"+Y]=g;W[S]=H;X[n]=H;W[a]=g;
X[n+1]=g;W[Y]=u;X[n+2]=u;b[h]=H}return{Zf:W,TG:b,Jg:X}};E.gd.a8f=function(r){var Q=[],W=r.TG;for(var n=0;
n<W.length;n++){var b=W[n];Q.push(b[0]);b=b[3];Q.push(b[0]);b=b[3];Q.push(b[0])}return Q};E.gd.acY=function(r,Q,W,b){var X=r[Q*2],D=r[Q*2+1],h=r[W*2],S=r[W*2+1],a=r[b*2],K=r[b*2+1],Y=h-X,d=S-D,j=a-X,U=K-D,I=Y*(X+h)+d*(D+S),f=j*(X+a)+U*(D+K),g=2*(Y*(K-S)-d*(a-h));
if(Math.abs(g)<1e-5){var H=Math.min(X,h,a),u=Math.min(D,S,K),s=(Math.max(X,h,a)-H)*.5,_=(Math.max(D,S,K)-u)*.5;
return[H+s,u+_,s*s+_*_,1]}var i=(U*I-d*f)/g,M=(Y*f-j*I)/g,s=i-X,_=M-D;return[i,M,s*s+_*_,0]};E.gd.awF=function(r,Q,W){var b=W[1],X=W[3],D=X[3],h=b[3],S=h[3],a=W[2],K=b[2],Y=W[0],d=b[0],j=X[0],U=h[0],I=E.gd.acY(r,d,U,j),f=r[Y*2]-I[0],g=r[Y*2+1]-I[1],H=f*f+g*g>I[2]&&I[3]==0&&E.gd.UF(r,U,Y,j)<0&&E.gd.UF(r,j,d,U)<0;
if(H){W[0]=j;b[0]=U;W[3]=D;D[3]=h;h[3]=W;b[3]=S;S[3]=X;X[3]=b;X[2]=K;h[2]=a;Q.TG[K]=S;Q.TG[a]=D;Q.Zf[d]=h;
Q.Zf[Y]=X}return H};E.gd.agc=function(r,Q,W){var b=r[Q*2]-r[W*2],X=r[Q*2+1]-r[W*2+1];return Math.sqrt(b*b+X*X)};
E.gd.ahd=function(r,Q,W){var b=W[1],X=W[3],D=X[3],h,S,a=W[2],K,Y=W[0],d=D[0],j=X[0],U;if(b){h=b[3];S=h[3];
K=b[2];U=h[0]}var I=r.length>>>1;r[2*I]=(r[2*d]+r[2*Y])*.5;r[2*I+1]=(r[2*d+1]+r[2*Y+1])*.5;if(!0){var f=a,g=W,H=Q.TG.length,u=[I,null,f,g],s=[j,u,H,D];
u[1]=s;var _=[I,null,H,s];X[3]=u;D[3]=_;D[2]=H;Q.TG[f]=X;Q.TG[H]=_;Q.Zf[Y]=X;Q.Zf[j]=D;Q.Jg.push(u,s,_)}if(b){var i=K,M=b,T=H+1;
_[1]=M,M[1]=_;var R=[I,null,i,M],z=[U,R,T,S];R[1]=z;var G=[I,g,T,z];g[1]=G;h[3]=R;S[3]=G;S[2]=T;Q.TG[i]=h;
Q.TG[T]=S;Q.Zf[d]=h;Q.Zf[U]=S;Q.Jg.push(R,z,G)}Q.Zf[I]=g};E.gd.Bk=function(r,Q){var W=0;while(!0){var b=W;
for(var n=0;n<Q.Jg.length;n++){var X=Q.Jg[n];if(X[1]==null)continue;var D=E.gd.awF(r,Q,X);if(D){W++;
break}}if(b==W)break}return W!=0};E.gd.anl=function(r,Q,W,b){var X=0;for(var n=0;n<b;n++){var D=null,h=0;
for(var S=0;S<Q.Jg.length;S++){var a=Q.Jg[S],K=E.gd.agc(r,a[0],a[3][3][0])*(a[1]?1:2);if(K>h){D=a;h=K}}if(h>W){E.gd.ahd(r,Q,D);
X++}}return X!=0};E.gd.a1$=function(r,Q){var W=[],j=0;for(var n=0;n<r.length;n++)W.push(0);for(var n=0;
n<Q.Jg.length;n++){var b=Q.Jg[n],X=b[0],D=b[3][3][0],h=r[X*2],S=r[X*2+1],a=r[D*2],K=r[D*2+1],Y=h-a,d=S-K;
W[X*2]+=-Y;W[X*2+1]+=-d;W[D*2]+=Y;W[D*2+1]+=d}for(var n=0;n<r.length;n+=2){var U=n>>>1,I=Q.Zf[U],b=I,f=!0;
do{if(b[1]==null){f=!1;break}b=b[1][3]}while(b!=I);if(f){var g=.02;r[n]+=g*W[n];r[n+1]+=g*W[n+1];j+=g*(W[n]*W[n]+W[n+1]*W[n+1])}}return j};
E.gd.aqU=function(r,Q,W){var b=E.p.Z3(r),X=E.gd.o8(r,Q);E.gd.Bk(r,X);for(var D=0;D<300;D++){var h=!1,S=!1;
h=E.gd.anl(r,X,W,5);if(h)S=E.gd.Bk(r,X);var a=E.gd.a1$(r,X);if(!h&&!S&&a<1e-4){break}}return E.gd.a8f(X)};
E.kj={};E.kj.zd=function(r){var Q=r.WL,W=r.VL,b=r.XH,X=r.XU,D=r.q$,h=r.PM,S=r.B0,a=E.Le._o,u,s,_=0;function K(fb){var fc=new Array(fb);
for(var n=0;n<fb;n++)fc[n]=0;return fc}var Y=W.length>>>1,d=K(Q.vU*2),j=K(Q.vU),U=K(Q.vU),I=Date.now();
for(var n=0;n<r.Ri.length;n++){var f=Q.a0c+n,g=Q.Dr*(h[n*2]+S[n*2]),H=Q.Dr*(h[n*2+1]+S[n*2+1]);d[f*2]=g;
d[f*2+1]=H;j[f]=g;U[f]=H}Q.a4K.Pg(X,Q.am7._o(d),.01,u,s);for(var n=0;n<Q.a1F.Jg.length;n++){var i=Q.a1F.Jg[n],M=i[3][3][0],T=i[0],R=i[3][0],z=i[1]?i[1][3][0]:R;
if(i[1]&&M>T)continue;var G=W[M*2],V=W[M*2+1],y=W[T*2],k=W[T*2+1],B=X[M*2],v=X[M*2+1],l=X[T*2],F=X[T*2+1],L=X[R*2],Z=X[R*2+1],t=X[z*2],A=X[z*2+1],o=[B,v,l,F,L,Z];
if(i[1])o.push(t,A);var O=a(Q.a8$[_],o),x=O[0],C=O[1],J=1/Math.sqrt(x*x+C*C);x*=J;C*=J;var q=y-G,fd=k-V;
j[_]=x*q+C*fd;U[_]=-C*q+x*fd;_++}var w=new Array(Y),P=new Array(Y);for(var n=0;n<Y;n++){w[n]=D[n*2];
P[n]=D[n*2+1]}Q.ath.Pg(w,Q.a1K._o(j),.5);Q.ath.Pg(P,Q.a1K._o(U),.5);for(var n=0;n<Y;n++){D[n*2]=w[n];
D[n*2+1]=P[n]}};E.kj.Ym=function(r){var Q=r.VL,W=r.XH,b=r.Ri,X=E.Le.multiply,D=Date.now(),h=E.gd.o8(Q,W),S=Q.length>>>1,a=0,I=0,C=1e3;
for(var n=0;n<h.Jg.length;n++)a+=h.Jg[n][1]?.5:1;var K=a+b.length,Y=[],d=new E.oX(K*2,S*2),j=new E.oX(K,S),U=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],f=[],g=[];
for(var n=0;n<h.Jg.length;n++){var H=h.Jg[n],u=H[3][3][0],s=H[0],_=H[3][0],i=H[1]?H[1][3][0]:_;if(H[1]&&u>s)continue;
var M=Q[u*2],T=Q[u*2+1],R=Q[s*2],z=Q[s*2+1],G=Q[_*2],V=Q[_*2+1],y=Q[i*2],k=Q[i*2+1],B=[[M,T,1,0],[T,-M,0,1],[R,z,1,0],[z,-R,0,1],[G,V,1,0],[V,-G,0,1]];
if(H[1])B.push([y,k,1,0],[k,-y,0,1]);var v=E.Le.ob(B),l=X(linear.invert(X(v,B)),v);l.pop();l.pop();Y.push(l);
var F=R-M,L=z-T,Z=U[H[1]?1:0];Z=E.Le.eb(Z,X([[F,L],[L,-F]],l));var t=[u*2,u*2+1,s*2,s*2+1,_*2,_*2+1,i*2,i*2+1],A=H[1]?8:6,o=[];
for(var O=0;O<A;O++)o.push([t[O],Z[0][O],Z[1][O]]);o.sort(function(fc,p){return fc[0]-p[0]});for(var x=0;
x<2;x++){for(var O=0;O<A;O++){f[O]=o[O][0];g[O]=o[O][1+x]}d.PO(g,f,A)}if(u<s)j.PO([-1,1],[u,s],2);else j.PO([1,-1],[s,u],2);
I++}for(var n=0;n<b.length;n++){var J=b[n];d.PO([C],[J*2],1);d.PO([C],[J*2+1],1);j.PO([C],[J],1)}var q=d.ob(),fd=q.xC(q),w=j.ob(),P=w.xC(w);
return{a0c:a,vU:K,am7:q,a4K:fd,a1K:w,ath:P,a1F:h,a8$:Y,Dr:C}};E.kj.a0D=function(r,Q,W,b,X){var D=new aV(0,0,Q,W),h=E.Q(D.O());
E.TX(r,h,3);E.round(h,70);var S=E.ub(h,D),a=[.1,.065,.035][b]*Math.max(S.e,S.n),K=X+1,Y=Q+K*2,d=W+K*2,j=new aV(-K,-K,Y,d),U=E.Q(j.O());
E.L0(h,D,U,j);var I=U.slice(0);for(var f=0;f<X;f++){for(var g=1;g<d-1;g++){for(var H=1;H<Y-1;H++){var n=g*Y+H;
I[n]=U[n-Y]|U[n-1]|U[n]|U[n+1]|U[n+Y]}}var u=I;I=U;U=u}var s=ed.NU(U,Y,d,Math.round(S.O()*5e-4)),_=ed.tt(s),i=new au(1,0,0,1,-K,-K);
for(var n=0;n<_.length;n++){var M=_[n];E.p.D(M.path.C,i,M.path.C);M.VL=E.kj.ajr(M.path);M.XH=E.p.a5e(M.VL);
M.XH=E.gd.aqU(M.VL,M.XH,a)}return _};E.kj.ajr=function(r){var Q=[],W=r.C,b=r.H.length-1,X=0,D=0;for(var h=0;
h<b;h++){var n=h*6,S=W[n+6]-W[n+0],a=W[n+7]-W[n+1],K=Math.ceil(Math.sqrt(S*S+a*a));for(var Y=0;Y<K;Y++){var d=Y/K,j=1-d,U=j*j*j*W[n+0]+3*j*j*d*W[n+2]+3*j*d*d*W[n+4]+d*d*d*W[n+6],I=j*j*j*W[n+1]+3*j*j*d*W[n+3]+3*j*d*d*W[n+5]+d*d*d*W[n+7];
Q.push(U,I);X=U;D=I}}Q=E.p.pt(Q,1);var f=[],g=Q.length;for(var n=0;n<g;n+=2){var I=Q.pop(),U=Q.pop();
f.push(U,I)}return f};E.kj.amv=function(r,Q,W,b){function X(R,z,G,V,y){var k=y[R*2]-y[z*2],B=y[R*2+1]-y[z*2+1],v=Math.sqrt(k*k+B*B);
if(G[R].indexOf(z)==-1){G[R].push(z);V[R].push(v)}if(G[z].indexOf(R)==-1){G[z].push(R);V[z].push(v)}}var D=r.length>>>1,h=new Array(D);
if(W.length==0){h.fill(0);return h}var S=new Array(D),a=new Array(D);for(var n=0;n<D;n++){S[n]=[];a[n]=[]}for(var n=0;
n<Q.length;n+=3){X(Q[n],Q[n+1],S,a,r);X(Q[n],Q[n+2],S,a,r);X(Q[n+1],Q[n+2],S,a,r)}var K=new Float64Array(D*2),Y=new Uint32Array(D*2);
K.fill(1e9);var d=new Uint8Array(D);for(var j=0;j<W.length;j++){d.fill(0);var U=["---",[0,W[j]]];while(U.length!=1){var I=E.Bp.iu(U),f=I[0],g=I[1];
if(d[g]==1)continue;var H=g<<1;if(f<K[H]){K[H+1]=K[H];Y[H+1]=Y[H];K[H]=f;Y[H]=j}else if(f<K[H+1]){K[H+1]=f;
Y[H+1]=j}d[g]=1;var u=S[g],s=a[g];for(var n=0;n<u.length;n++){var _=u[n];if(d[_]!=1){E.Bp.dN(U,[f+s[n],_])}}}}for(var n=0;
n<D;n++){var H=n<<1,i=K[H],M=K[H+1],T=1/(i+M);h[n]=(1-i*T)*b[Y[H]]+(1-M*T)*b[Y[H+1]]}return h};E.kj.alB=function(r){var Q={H:[],C:[]},W=[r];
while(W.length!=0){var b=W.pop(),X=b.Wr;if(b.anA instanceof Array||b.ao5 instanceof Array){Q.H.push("M","L","L","L","Z");
Q.C.push(X[0],X[1],X[2],X[1],X[2],X[3],X[0],X[3])}else W.push(b.anA,b.ao5)}return Q};E.kj.Hd=function(r,Q,W,b,X,D,h,S,a,K){var Y=Math.round(K.length/3),d=new Array(Y);
for(var n=0;n<Y;n++)d[n]=n;d.sort(function(U,I){return a[K[U*3]]-a[K[I*3]]});for(var n=0;n<Y;n++){var j=d[n]*3;
E.kj.aeK(K[j]*2,K[j+1]*2,K[j+2]*2,h,S,r,Q,W,b,X,D)}};E.kj.aeK=function(r,Q,W,b,X,D,h,S,a,K,Y){var d=E.kj.pz,j=[r,Q,W,1.2,1.2,1.2,0],U=[0,0,0,0],I=X[r],f=X[r+1],g=X[Q],H=X[Q+1],u=X[W],s=X[W+1],_=Math.max(0,Math.min(h-1,b[r])),i=Math.max(0,Math.min(h-1,b[Q])),M=Math.max(0,Math.min(h-1,b[W])),T=Math.max(0,Math.min(S-1,b[r+1])),R=Math.max(0,Math.min(S-1,b[Q+1])),z=Math.max(0,Math.min(S-1,b[W+1])),G=g-I,V=H-f,y=u-I,k=s-f,B=1/(G*k-y*V+1e-9),v=Math.max(0,Math.floor(Math.min(I,g,u))),l=Math.min(K,Math.ceil(Math.max(I,g,u))),F=Math.max(0,Math.floor(Math.min(f,H,s))),L=Math.min(Y,Math.ceil(Math.max(f,H,s)));
for(var Z=F;Z<L;Z++)for(var t=v;t<l;t++){var A=t+.5-I,o=Z+.5-f,O=(A*k-y*o)*B,x=(G*o-A*V)*B;if(O>=0&&x>=0&&O+x<=1){var C=1-O-x,J=_*C+i*O+M*x,q=T*C+R*O+z*x;
E.K.AS(J,q,D,h,S,U);E.kj.ai8(U,a,Z*K+t<<2)}}};E.kj.ai8=function(r,Q,W){var b=Q[W],X=Q[W+1],D=Q[W+2],h=Q[W+3],S=1-r[3]*(1/255);
Q[W]=~~(.5+r[0]+b*S);Q[W+1]=~~(.5+r[1]+X*S);Q[W+2]=~~(.5+r[2]+D*S);Q[W+3]=~~(.5+r[3]+h*S)};E.kj.pz=function(){var r=function(W,b,X,D){var h=D[0],S=D[1],a=D[2],K=W[h+0],Y=W[h+1],d=W[S+0],j=W[S+1],U=W[a+0],I=W[a+1],f=d-K,g=j-Y,H=U-K,u=I-Y,s=b-K,_=X-Y,i=f*u-H*g,M=1/(i+1e-9),T=(s*u-H*_)*M,R=(f*_-s*g)*M;
if(T>=0&&R>=0&&T+R<=1){D[3]=1-T-R;D[4]=T;D[5]=R;return 1}return 0},Q=function(W,b,X,D){var h=[0,0,0,0,0,0];
for(var n=0;n<b.length;n+=3){h[0]=b[n]*2;h[1]=b[n+1]*2;h[2]=b[n+2]*2;if(r(W,X,D,h)==1)return!0}return!1};
return{a65:r,axX:Q}}();E.Br={};E.Br.a4n=function(r,Q,W){var b=E.Q(Q*W*4),X=!1;E.K.Wn(r,Q,W,b,[W,Q,0,1,0,1,0,0]);
return[E.Br.H_(r,Q,W,X),E.Br.H_(b,W,Q,X)]};E.Br.D=function(r,Q){var W=!1,b=r[0],X=r[1],D=b[1],h=b[2],S=b[3],a=Q.e,K=Q.n;
if(h==a&&S==K)D=D.slice(0);else if(S!=K){var Y=E.Q(h*K*4);E.Br.sf(X,K,Y,W);D=E.Q(h*K*4);E.K.Wn(Y,K,h,D,[h,K,0,1,0,1,0,0]);
if(h!=a){b=E.Br.H_(D,h,K,W);D=E.Q(a*K*4);E.Br.sf(b,a,D,W)}}else if(h!=a){D=E.Q(a*S*4);E.Br.sf(b,a,D,W)}return D};
E.Br.H_=function(r,Q,W,b){var X=Date.now(),D=new Uint16Array(Q*W),h=1;E.Br.ak8(r,Q,W,D);var S=Math.ceil(Q/h),a=new Uint32Array(h),K=new Uint32Array(h),S=Math.floor(Q/h);
for(var Y=0;Y<h;Y++)K[Y]=Y<h-1?S:Q-(h-1)*S;for(var d=0;d<W;d++){var n=d*Q;for(var Y=0;Y<h;Y++){var S=K[Y];
for(var j=0;j<S;j++)a[Y]+=D[n+j];n+=S}}if(b){console.log(Date.now()-X,"cost");X=Date.now()}var U=new Uint32Array(Q),I=new Uint32Array(Q),f=new Uint32Array(Q*W);
for(var j=0;j<Q;j++){f[(W-1)*Q+j]=D[(W-1)*Q+j]}for(var d=W-2;d>=0;d--){var g=d*Q;for(var Y=0;Y<h;Y++){var S=K[Y];
f[g]=D[g]+Math.min(f[g+Q],f[g+Q+1]);for(var j=1;j<S-1;j++){var n=g+j;f[n]=D[n]+Math.min(f[n+Q-1],Math.min(f[n+Q],f[n+Q+1]))}g+=S-1;
f[g]=D[g]+Math.min(f[g+Q-1],f[g+Q]);g++}}if(b){console.log(Date.now()-X,"Building M");X=Date.now()}function H(V,y){return V<y?V:y}function u(n,V){var y=I[n],k=f[V],B=~~(y*k*1e-4);
return B}var s=new Uint8Array(Q*W),_=new Uint32Array(Q);for(var n=0;n<Q;n++){U[n]=n;I[n]=D[n]}for(var d=1;
d<W;d++){var i=0,g=d*Q;for(var Y=0;Y<h;Y++){var S=K[Y],n=g;_[i]=u(i,n);var M=_[i]+u(i+1,n+1),T=u(i,n+1)+u(i+1,n);
_[i+1]=H(M,T);for(var j=2;j<S;j++){var n=g+j,R=_[i+j-1]+u(i+j-1,n-1),z=_[i+j-2]+u(i+j-1,n-2)+u(i+j-2,n-1);
_[i+j]=H(R,z)}var j=S-1;while(j>=2){var n=g+j,R=_[i+j-1]+u(i+j-1,n-1),z=_[i+j-2]+u(i+j-1,n-2)+u(i+j-2,n-1);
if(_[i+j]==R){s[n-Q]=1;j-=1}else{s[n-Q]=0;s[n-Q-1]=2;j-=2}}var n=g;if(j==0){s[n-Q]=1}else{if(_[i+1]==M){s[n+1-Q]=1;
s[n-Q]=1}else{s[n+1-Q]=0;s[n-Q]=2}}g+=S;i+=S}E.Br.amc(d,Q,s,D,U,I,!0,X)}if(b){console.log(Date.now()-X,"Matching");
X=Date.now()}var G=D;return[UZIP.adler(r,0,r.length),r,Q,W,h,K,a,U,I,s,G]};E.Br.sf=function(r,Q,W,b){var X=r.slice(0),D=X.shift(),h=X.shift(),S=X.shift(),a=X.shift(),K=X.shift(),Y=X.shift(),d=X.shift(),j=X.shift(),U=X.shift().slice(0),I=X.shift(),f=X.shift(),g=Date.now(),H=Math.abs(S-Q),u=Math.floor(H/K),s=new Uint32Array(K),i=0,M=1e9,R=0,z=0,G=0;
for(var _=0;_<K;_++)s[_]=_<K-1?u:H-(K-1)*u;f.fill(0);for(var T=0;T<S;T++){i=Math.max(i,U[T]);M=Math.min(M,U[T])}for(var _=0;
_<K;_++){var V=Y[_],u=s[_];for(var y=0;y<u;y++){var k=0,B=1e9;for(var T=0;T<V;T++)if(U[z+T]<B){B=U[z+T];
k=z+T}if(Q<S)U[k]=1e9;else U[k]*=1.2;if(G<S/3)R+=B;var v=j[k],l=f[v],F=l<65280?65280:l+1;if(F<65280)throw"e";
for(var L=0;L<a;L++){var n=L*S+v;f[n]=F;v+=I[n]-1}G++}z+=V}if(b){console.log(Date.now()-g,"Removing best seams");
g=Date.now()}function Z(n,A){var o=n<<2,O=A<<2;W[o]=h[O];W[o+1]=h[O+1];W[o+2]=h[O+2];W[o+3]=h[O+3]}for(var L=0;
L<a;L++){var t=0,n=L*S;for(var T=0;T<Q;T++,t++){if(Q<S){while(f[n+t]==65280)t++;Z(L*Q+T,L*S+t)}else{Z(L*Q+T,L*S+t);
while(f[n+t]>=65280){f[n+t]--;T++;Z(L*Q+T,L*S+t)}}}}if(b){console.log(Date.now()-g,"Shifting image pixels");
g=Date.now()}};E.Br.amc=function(r,Q,W,b,X,D){var h=0,n=r*Q;while(h<Q){if(W[n-Q]==1){D[h]=D[h]+b[n];
h++;n++}else{var S=X[h];X[h]=X[h+1];X[h+1]=S;var a=D[h];D[h]=D[h+1]+b[n];D[h+1]=a+b[n+1];h+=2;n+=2}}};
E.Br.ak8=function(r,Q,W,b){function X(r,n,a){var d=n<<2,j=a<<2,U=r[d]-r[j],I=r[d+1]-r[j+1],f=r[d+2]-r[j+2];
return Math.abs(U)+Math.abs(I)+Math.abs(f)}for(var D=1;D<Q;D++){var h=X(r,D,D-1);b[D-1]+=h;b[D]+=h}for(var S=1;
S<W;S++){var a=S*Q,h=X(r,a,a-Q);b[a]+=h;b[a-Q]+=h;for(var D=1;D<Q;D++){var n=S*Q+D,K=X(r,n,n-1),Y=X(r,n,n-Q);
b[n-Q]+=Y;b[n-1]+=K;b[n]+=Y+K}}for(var S=0;S<W;S++){b[S*Q]*=2;b[S*Q+Q-1]*=2}for(var n=0;n<b.length;n++)if(b[n]==0)b[n]=1};
E.TZ=function(){var r=0,Q=0,b=15,D=256;function W(Y,d,j,U,I,f){var g=(I-1)*d,H=f*d;return Y[H+U]-Y[H+j-1]-Y[g+U]+Y[g+j-1]}var X=Math.round(b/8),h=[];
function S(Y,d){for(var j=0;j<d.length;j++){var U=d[j],I=0,f=0,g=Y[U._Z],H=g.nq,u=g.Dr,s=g.J9;for(var _=-b;
_<=b;_++)for(var i=-b;i<=b;i++){var M=i+U.afH,T=_+U.ajC;if(i*i+_*_>b*b||M<0||T<0||M>=u||T>=u)continue;
var R=H[T*u+M];I+=i*R;f+=_*R}U.OU=Math.atan2(f,I)}}function a(Y,d,j,U,I){var f=~~(Y+.5),g=~~(d+.5);return W(j,U,f-X,f+X,g-X,g+X)}function K(Y,d,j,U,I){r=U;
Q=I;if(h.length==0){var f=new E.q.rq(16200817),s=8,_=0;function g(fc){var G=fc[0]-fc[2],V=fc[1]-fc[3];
return G*G+V*V}function H(){var fc=0,p=0;while(fc===0)fc=f.get();while(p===0)p=f.get();return Math.sqrt(-2*Math.log(fc))*Math.cos(2*Math.PI*p)}var u=H,i=[];
while(_!=D){var M=Math.max(-b,Math.min(b,u()*s)),T=Math.max(-b,Math.min(b,u()*s)),R=Math.max(-b,Math.min(b,u()*s)),z=Math.max(-b,Math.min(b,u()*s)),G=M-R,V=T-z,y=Math.sqrt(G*G+V*V);
if(y<3||y>12)continue;h.push(M,T,R,z);_++}}var k=20;for(var B=0;B<d.length;B++){var v=d[B],l=Y[v._Z],F=l.PW,j=l.nq,U=l.Dr,I=l.J9,L=v.afH,Z=v.ajC,t=v.OU,A=Math.cos(t),o=Math.sin(t),O=new Uint8Array(D>>>3);
v.Hf=O;for(var n=0;n<D;n++){var x=n*4,M=h[x+0],T=h[x+1],R=h[x+2],z=h[x+3],C=A*M-o*T,J=o*M+A*T,q=A*R-o*z,fd=o*R+A*z,w=a(L+C,Z+J,F,U,I),P=a(L+q,Z+fd,F,U,I);
O[n>>>3]|=(w<P?0:1)<<(n&7)}}}return{a66:S,ar9:K}}();E.acr=function(){function r(Q,W){var b=[[9]],X=Date.now(),D=[];
for(var h=0;h<Q.length;h++){var S=Q[h],a=S.PW,K=S.Dr,Y=S.J9,U=9,s=1,v=24;if(a==null)continue;var d=new Float32Array(K*Y),j=new Uint8Array(K*Y),I=U>>>1,f=I>>>1,g=Math.round(U/3);
if(g!=U/3)throw"e";var H=1/(U*U),u=1.2*(U/9);for(var _=I+1;_<Y-I;_+=s)for(var i=I+1;i<K-I;i+=s){var M=E.G1(a,K,i-f,i+f,_-I,_+I)-3*E.G1(a,K,i-f,i+f,_-I+g,_+I-g),T=E.G1(a,K,i-I,i+I,_-f,_+f)-3*E.G1(a,K,i-I+g,i+I-g,_-f,_+f),R=i-I+1,z=i+I-1,G=_-I+1,V=_+I-1,y=E.G1(a,K,R,i-1,G,_-1)+E.G1(a,K,i+1,z,_+1,V)-E.G1(a,K,i+1,z,G,_-1)-E.G1(a,K,R,i-1,_+1,V),k=(T*M-.9*y*(.9*y))*(H*H);
d[_*K+i]=Math.abs(k);j[_*K+i]=k<0?0:1}var B=K*s;for(var _=v;_<Y-v;_+=s)for(var i=v;i<K-v;i+=s){var n=_*K+i,l=d[n];
if(l<16)continue;if(d[n-s]>=l||d[n+s]>=l)continue;if(d[n-B-s]>=l||d[n-B]>=l||d[n-B+s]>=l)continue;if(d[n+B-s]>=l||d[n+B]>=l||d[n+B+s]>=l)continue;
D.push({x:~~(i*S.QE+.5),y:~~(_*S.QE+.5),afH:i,ajC:_,_Z:h,h:l,axc:j[n],Am:u})}}if(W!=null){D.sort(function(x,C){return C.h-x.h});
D=D.slice(0,W)}return D;var F=[];for(var n=0;n<D.length;n++){var L=!0,Z=D[n];for(var t=0;t<D.length;
t++){var A=D[t];if(t!=n&&A.h>Z.h&&(A._Z==Z._Z+1||A._Z==Z._Z-1)){var o=Z.x-A.x,O=Z.y-A.y;if(o*o+O*O<5){L=!1;
break}}}if(L)F.push(Z)}console.log(D.length,F.length);return F}return{aeG:r}}();E.q1={};E.q1.ahH=function(r){var Q=r.length,W=E.q1.K9(r,!1),X=0,D=1;
throw"e";var b=[];for(var n=0;n<Q;n++)b[n]=E.q1.hj(W[n]);var h=r[0][1],S=E.q1.match(W[X],W[D],b[D]);
console.log(S.length);var a=Math.max(Math.min(S.length,40),S.length*.54);a=Math.min(a,200);var K=S.slice(0,a),Y=E.V7.atb(W[X],W[D],K,h.e,h.n),d=E.V7.apf(Y,[0,0,0],1),j=h.e/2,U=h.n/2,I=1/Math.max(j,U);
for(var n=0;n<1;n++){var f=K[n],g=W[X][f[0]],H=W[D][f[1]],u=E.V7.alE(d,I*(g.x-j),I*(g.y-U),I*(H.x-j),I*(H.y-U))}var s=E.V7.a6q(Y,h),_=[];
for(var n=0;n<2;n++){var i=s[n],M=[i[0][0],i[0][1],i[0][2],i[1][0],i[1][1],i[1][2],i[2][0],i[2][1]],T=m.EA.wj(r[n],null,M);
_.push([T.buffer,T.rect])}return[E.q1.an6(_[0],_[1],W[X],W[D],K,Y,s,h)]};E.q1.de=function(r,Q){var W=r.length,b=!1,X=Date.now(),D=E.q1.K9(r,!1,1e4);
if(b)console.log("Descriptors ready",Date.now()-X);X=Date.now();for(var n=0;n<W;n++){var h=r[n][1];for(var S=0;
S<D[n].length;S++){D[n][S].x+=h.x;D[n][S].y+=h.y}}if(b)console.log("shifted",Date.now()-X);X=Date.now();
var a=[];for(var n=0;n<W;n++)a[n]=E.q1.hj(D[n]);if(b)console.log("trees built",Date.now()-X);X=Date.now();
var K=[];for(var n=0;n<W-1;n++)for(var S=n+1;S<W;S++){var Y=E.q1.match(D[n],D[S],a[S]);if(b)console.log("Matches found",n,S,Y.length);
Y=Y.slice(0,Y.length>>>1);if(Y.length<10)return null;var d=E.q1.a9k(D[n],D[S],Y,2);K.push([n,S,Y,d])}K.sort(function(z,G){return G[2].length-z[2].length});
if(b)console.log("Matches found",Date.now()-X);X=Date.now();var j=[],U=new UnionFind(W);for(var n=0;
n<K.length;n++){var I=K[n],f=U.find(I[0]),g=U.find(I[1]);if(f!=g){j.push(I);U.link(f,g)}}var H=[];for(var n=0;
n<W;n++)H[n]=[1,0,0,0,1,0,0,0];var u=[0],s=new Uint8Array(W);s[u[0]]=1;while(u.length!=0){var g=u.pop(),d=H[g],_=[];
for(var n=0;n<j.length;n++){var I=j[n],i=I[0],M=I[1];if(i==g&&s[M]==0){H[M]=E.K.Se(d,I[3]);u.push(M);
s[M]=1}if(M==g&&s[i]==0){H[i]=E.K.Se(d,E.K.j4(I[3]));u.push(i);s[i]=1}}}if(Q==null){var T=[];for(var n=0;
n<W;n++)T.push([H[n][2],n]);T.sort(function(z,G){return z[0]-G[0]});Q=T[T.length>>>1][1]}var R=E.K.j4(H[Q]);
for(var n=0;n<W;n++)H[n]=E.K.Se(H[n],R);if(b)console.log("Transforms reordered",Date.now()-X);X=Date.now();
return H};E.q1.K9=function(r,Q,W){var b=[],X=!1;for(var n=0;n<r.length;n++){var D=r[n][0],h=r[n][1],S=h.e,a=h.n,K=E.Q(h.O());
E.Ou(D,K);var Y=Date.now(),d=E.q1.ai1(K,h,!0);if(X)console.log("Pyramid built ---------------",Date.now()-Y);
Y=Date.now();var j=E.acr.aeG(d,W);if(X)console.log("SURF Generation",Date.now()-Y);Y=Date.now();if(!Q){E.TZ.a66(d,j);
if(X)console.log("ORB Orientations",Date.now()-Y);Y=Date.now();E.TZ.ar9(d,j,K,S,a);if(X)console.log("ORB Descriptors",Date.now()-Y);
Y=Date.now()}b.push(j)}return b};E.q1.ai1=function(r,Q,W){var b=[],X=[r,Q];E.d6(X);if(W){var D=E.kh(r,Q),h=D.rect,S=[D.NP,h];
E.d6(S)}for(var n=0;n<X.length;n++){var a=X[2*n],K=X[2*n+1],Y=K.e,d=K.n,j=Math.min(Y,d);if(j<30)break;
if(j<1600)b.push({nq:a,Dr:Y,J9:d,QE:1<<n,PW:E.CD(a,Y,d)});if(!W)continue;var a=S[2*n],K=S[2*n+1],Y=K.e,d=K.n,j=Math.min(Y,d);
if(j<30)break;if(j<1600)b.push({nq:a,Dr:Y,J9:d,QE:(1<<n)*3/2,PW:E.CD(a,Y,d)})}return b};E.q1.a9k=function(r,Q,W,b){var X=Date.now(),D,h=0,S=0,a=W.length,K=new Float64Array(2);
for(var Y=0;Y<3e3;Y++){var d=~~(Math.random()*a),j=~~(Math.random()*a),U=~~(Math.random()*a),I=~~(Math.random()*a),B=0,v=0;
if(d==j||d==U||d==I||j==U||j==I||U==I)continue;var f=W[d],g=W[j],H=W[U],u=W[I],s=r[f[0]],_=Q[f[1]],i=r[g[0]],M=Q[g[1]],T=r[H[0]],R=Q[H[1]],z=r[u[0]],G=Q[u[1]],V=[s.x,s.y,i.x,i.y,T.x,T.y,z.x,z.y],y=[_.x,_.y,M.x,M.y,R.x,R.y,G.x,G.y],k=E.K.KM(V,y);
if(k[0]==0&&k[1]==0&&k[3]==0&&k[4]==0)continue;var l=a-h+2;for(var n=0;n<a&&n-B<l;n++){var F=r[W[n][0]],L=Q[W[n][1]];
E.K.nv(L.x,L.y,k,K);var Z=K[0]-F.x,t=K[1]-F.y,A=Z*Z+t*t;if(A<b){B++;v+=A}}if(B>h||B==h&&v<S){D=k;h=B;
S=v}}return D};var dN=new Uint8Array(256);for(var n=0;n<256;n++){var iO=0,fb=n;while(fb!=0){fb=fb&fb-1;
iO++}dN[n]=iO}E.q1.aiL=function(r,Q,W){var b=0,X=r.length;for(var n=0;n<X&&b<W;n++)b+=dN[r[n]^Q[n]];
return b};E.q1.aeO=function(r,Q,W,top,b){if(b[W]==1)return;var X=E.q1.aiL(r.Hf,Q.Hf,top[0]);if(X<top[0]){if(X<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=X;top[3]=W}else{top[0]=X;top[1]=W}}b[W]=1};E.q1.hj=function(r){var Q=[],W=[],b=[[],[]],X=4;
for(var n=0;n<r.length;n++)(r[n].axc==0?Q:W).push(n);for(var D=0;D<2;D++){var h=new Array(X),S=[],a=D==0?Q:W,K=a.length/256,Y=[];
for(var d=0;d<32;d++){var j=new Array(256),f=0;for(var U=0;U<256;U++)j[U]=[];for(var U=0;U<a.length;
U++){var I=a[U];j[r[I].Hf[d]].push(I)}for(var U=0;U<256;U++)f+=Math.abs(j[U].length-K);Y.push([f,d,j])}Y.sort(function(g,H){return g[0]-H[0]});
var S=[],h=[];b[D]=[S,h];for(var n=0;n<X;n++){S.push(Y[n][1]);h.push(Y[n][2])}}return b};E.q1.match=function(r,Q,W){var b=[],X=new Uint16Array(Q.length);
X.fill(65535);var D=new Uint8Array(Q.length),top=new Uint32Array(4),h=[];for(var S=0;S<r.length;S++){var a=r[S],K=a.Hf;
top.fill(1e6);D.fill(0);var Y=W[a.axc];for(var d=0;d<Y[1].length;d++){var j=Y[1][d][K[Y[0][d]]];for(var U=0;
U<j.length;U++){var I=j[U];E.q1.aeO(a,Q[I],I,top,D)}}if(top[2]<50&&top[2]<top[0]*.5){var f=X[top[3]];
if(f==65535){X[top[3]]=b.length;b.push([S,top[3],top[2]])}else if(top[2]<b[f][2]){b[f]=[S,top[3],top[2]]}}}b.sort(function(g,H){return g[2]-H[2]});
return b};E.q1.apL=function(r){var Q=new aV;for(var n=0;n<r.length;n++)Q=Q.Bc(r[n][1]);var W=E.Q(Q.O()*4);
for(var n=0;n<r.length;n++)E.q.YB("norm",r[n][0],r[n][1],W,Q,Q,1);return[W,Q]};E.q1.an6=function(r,Q,W,b,X,D,h,S){var a=r[1].clone(),K=a.clone();
a.x=a.y=0;var Y=Q[1].clone(),d=Y.clone();Y.x=Y.y=0;Y.x=a.e;var j=a.Bc(Y),U=d.y-K.y,I=E.Q(j.O()*4);E.TU(r[0],a,I,j);
E.TU(Q[0],new aV(Y.x,Y.y+U,Y.e,Y.n),I,j);var f=document.createElement("canvas");f.width=j.e;f.height=j.n;
var g=f.getContext("2d");g.lineWidth=.5;g.putImageData(new ImageData(new Uint8ClampedArray(I.buffer),j.e,j.n),0,0);
if(D){var H=D[0],u=E.Le.ob(H),s=a.e,_=S.e;for(var n=0;n<X.length;n++){var i=X[n],r=W[i[0]],Q=b[i[1]];
g.strokeStyle="#"+"ff0000";g.beginPath();var M=E.V7.afb(u,h[0],Q,0,_),T=E.V7.afb(H,h[1],r,0,_);g.moveTo(-K.x+M[0],-K.y+M[1]);
g.lineTo(-K.x+M[2],-K.y+M[3]);g.moveTo(s-d.x+T[0],-d.y+U+T[1]);g.lineTo(s-d.x+T[2],-d.y+U+T[3]);g.stroke()}}if(X){var R=X.length;
for(var n=0;n<R;n++){var i=X[n],r=W[i[0]],Q=b[i[1]];g.strokeStyle="#"+"ffff00"}}var z=new Uint8Array(g.getImageData(0,0,j.e,j.n).data.buffer);
if(!1){for(var G=0;G<2;G++){var V=G==0?W:b,y=G*a.e;for(var n=0;n<V.length;n++){var k=V[n],B=~~k.x,v=~~k.y,l=(v*j.e+B+y)*4;
z[l+1]=z[l+2]=k.atr*60;z[l+0]=0;z[l+3]=255}}}return[z,j]};E.stack={};E.stack.stack=function(r,Q,W){var b=r.length,X=Q.length;
if(b==1){Q.set(r[0]);return}if(W=="avrg"||W=="stdv"||W=="summ"||W=="vari"){var D=1/b;for(var n=0;n<X;
n++){var h=0;for(var S=0;S<b;S++)h+=r[S][n];var a=~~(h*D+.5);if(W=="avrg"||(n&3)==3)Q[n]=a;else if(W=="summ")Q[n]=255*Math.pow(Math.min(255,h)*(1/255),1/2.4);
else{var K=0;for(var S=0;S<b;S++){var Y=r[S][n]-a;K+=Y*Y}var d=Math.sqrt(K*D)*(1/255);if(W=="stdv")Q[n]=255*Math.pow(d,1/2.4);
else Q[n]=255*Math.pow(d*d,1/2.4)}}}else if(W=="maxx"){for(var n=0;n<X;n++){var j=0;for(var S=0;S<b;
S++)j=Math.max(j,r[S][n]);Q[n]=j}}else if(W=="minn"){for(var n=0;n<X;n++){var j=255;for(var S=0;S<b;
S++)j=Math.min(j,r[S][n]);Q[n]=j}}else if(W=="medn"||W=="rang"){var U=function(H,u){return H-u},I=new Array(b),f=0,g=0;
if((b&1)==0){g=b>>>1;f=g-1}else{f=g=b>>>1}for(var n=0;n<X;n++){for(var S=0;S<b;S++)I[S]=r[S][n];I.sort(U);
if(W=="medn")Q[n]=I[f]+I[g]>>>1;else Q[n]=(n&3)==3?I[b-1]:I[b-1]-I[0]}}else console.log(W)};E.ZG={};
E.ZG.ass=function(r,Q,W,b){var X=Date.now(),D=new Uint32Array(Q*W),h=new Uint8Array(Q*W);while(!0){h.fill(0);
D.fill(0);var S=[],a=0;for(var K=0;K<W;K++){for(var Y=0;Y<Q;Y++){var n=K*Q+Y;if(h[n]==0){var d=S.length,j=E.ZG.Cm(r,Q,W,Y,K,h,D,d);
S.push([d,Y,K,j[0],j[1],r[n]]);if(j[0]<b)a++}}}if(a==0)break;var U=S.length,I=new UnionFind(U),f=[];
for(var n=0;n<U;n++)f.push([]);for(var n=0;n<U;n++){var j=S[n],g=j[4],H=0,u=0;if(j[3]>=b)continue;var d=j[0];
for(var s=0;s<g.length;s+=2){var _=D[g[s+1]*Q+g[s]],i=S[_];if(i[3]>u){u=i[3];H=_}}if(I.find(d)!=I.find(H)){I.link(d,H);
f[d].push(H);f[H].push(d)}}var M=new Uint32Array(U);M.fill(4294967295);var T=new Uint32Array(U);for(var n=0;
n<U;n++){if(M[n]!=4294967295||f[n].length==0)continue;var R=[n],z=[n],G=n,V=S[n][3];while(z.length!=0){var y=z.pop(),k=f[y];
for(var s=0;s<k.length;s++){var B=k[s];if(R.indexOf(B)==-1){R.push(B);z.push(B);var v=S[B];if(v[3]>V){V=v[3];
G=B}}}}for(var s=0;s<R.length;s++){M[R[s]]=G;var l=S[G];T[R[s]]=r[l[2]*Q+l[1]]}}for(var K=0;K<W;K++)for(var Y=0;
Y<Q;Y++){var n=K*Q+Y,F=M[D[n]];if(F!=4294967295)r[n]=T[F]}}};E.ZG.Cm=function(r,Q,W,b,X,D,h,S){var a=[b,X],K=r[X*Q+b],Y=0,d=[];
D[X*Q+b]=1;while(a.length!=0){var j=a.pop(),U=a.pop(),n=j*Q+U;h[n]=S;Y++;if(j!=W-1)if(r[n+Q]==K){if(D[n+Q]==0){a.push(U,j+1);
D[n+Q]=1}}else d.push(U,j+1);if(j!=0)if(r[n-Q]==K){if(D[n-Q]==0){a.push(U,j-1);D[n-Q]=1}}else d.push(U,j-1);
if(U!=Q-1)if(r[n+1]==K){if(D[n+1]==0){a.push(U+1,j);D[n+1]=1}}else d.push(U+1,j);if(U!=0)if(r[n-1]==K){if(D[n-1]==0){a.push(U-1,j);
D[n-1]=1}}else d.push(U-1,j)}return[Y,d]};E.ZG.avL=function(r,Q,W,b,X){var D=E.ZG.gX(r.buffer,Q,W).$R,h=Date.now(),S=[];
for(var n=0;n<D.length;n++){var a=D[n],K=1;for(var Y=0;Y<K;Y++)S.push(a.th)}var d=new Uint32Array(S),j=UPNG.quantize.getKDtree(new Uint8Array(d.buffer),b),U=[Q,1,-Q,-1,Q+1,-Q+1,-Q-1,Q-1,Q+Q,2,-Q-Q,-2,Q+Q-1,Q+Q+1,Q+2,-Q+2,-Q-Q+1,-Q-Q-1,-Q-2,Q-2,Q+Q+2,-Q-Q+2-Q-Q-2,Q+Q-2],I=new Uint8Array(Q*W),f=r;
for(var g=0;g<W;g++)for(var H=0;H<Q;H++){var n=g*Q+H<<2,u=f[n]*(1/255),s=f[n+1]*(1/255),_=f[n+2]*(1/255),i=f[n+3]*(1/255),M=E.ZG.KZ(j,u,s,_,i,X);
if(M==null){var T=[],R=0;while(R<20){var z=g*Q+H+U[R]<<2,G=f[z]*(1/255),V=f[z+1]*(1/255),y=f[z+2]*(1/255),k=f[z+3]*(1/255),B=E.ZG.KZ(j,G,V,y,k,.005);
if(B!=null){if(T.indexOf(B)==-1){T.push(B);B.Pe=1}else B.Pe++}R++}T.sort(function(i,_){return _.Pe-i.Pe});
while(T.length!=0&&T[T.length-1].Pe<3)T.pop();if(T.length==0)M=E.ZG.KZ(j,u,s,_,i,100);else if(T.length==1)M=T[0];
else if(T.length==2){var v=T[0],l=T[1],F=v.est.q,L=l.est.q,Z=L[0]-F[0],t=L[1]-F[1],A=L[2]-F[2],o=L[3]-F[3],O=u-F[0],x=s-F[1],C=_-F[2],J=i-F[3],q=Z*Z+t*t+A*A+o*o,fd=O*O+x*x+C*C+J*J,w=(O*Z+x*t+C*A+J*o)/q,P=fd-w*w*q;
if(P<.5)M=w<.5?v:l;else{M=E.ZG.KZ(j,u,s,_,i,100)}}else{var v=T[0],l=T[1],fc=T[2],F=v.est.q,L=l.est.q,p=fc.est.q,gG=F[0]-p[0],fh=F[1]-p[1],fJ=F[2]-p[2],cF=F[3]-p[3],j_=L[0]-p[0],gY=L[1]-p[1],kc=L[2]-p[2],el=L[3]-p[3],iN=p[0]-u,c$=p[1]-s,dB=p[2]-_,aL=p[3]-i,aB=gG*gG+fh*fh+fJ*fJ+cF*cF,f3=gG*j_+fh*gY+fJ*kc+cF*el,jC=iN*gG+c$*fh+dB*fJ+aL*cF,bc=gG*j_+fh*gY+fJ*kc+cF*el,iA=j_*j_+gY*gY+kc*kc+el*el,bL=iN*j_+c$*gY+dB*kc+aL*el,an=1/(f3*bc-aB*iA),w=(iA*jC-bL*f3)*an,dp=(bL*aB-jC*bc)*an,im=1-w-dp,a5=Math.max(w,dp,im);
if(a5==w)M=v;else if(a5==dp)M=l;else M=fc}}I[n>>2]=M.ind}return{XH:I,$R:j[1]}};E.ZG.gX=function(r,Q,W){var b=[],X={},D=Q-1,h=W-1,S=0,a=new Uint32Array(r),K=[-Q-1,-Q,-Q+1,-1,1,Q-1,Q,Q+1,Q+Q,2,-Q-Q,-2,Q+Q-1,Q+Q+1,Q+2,-Q+2,-Q-Q+1,-Q-Q-1,-Q-2,Q-2,Q+Q+2,-Q-Q+2-Q-Q-2,Q+Q-2];
for(var Y=1;Y<h;Y++)for(var d=1;d<D;d++){var j=Y*Q+d,U=a[j],I=!0;for(var n=0;n<8;n++)I=I&&a[j+K[n]]==U;
if(I){S++;var f=X[U];if(f==null){X[U]=b.length;b.push({th:U,H9:1})}else b[f].H9++}}return{$R:b,alK:S}};
E.ZG.KZ=function(r,Q,W,b,X,D){var h=UPNG.quantize.getNearest(r[0],Q,W,b,X);return E.ZG.ap7(h,Q,W,b,X)<D?h:null};
E.ZG.ap7=function(r,Q,W,b,X){var D=r.est.q,h=Q-D[0],S=W-D[1],a=b-D[2],K=X-D[3];return h*h+S*S+a*a+K*K};
E.ZG.Vf=function(){function r(H,u,s,_,i,M){var T=[],R=M,z=M,G=M>>>2;for(var V=0;V<i;V++)for(var y=0;
y<_;y++){var k=~~((y+.5)*R),B=~~((V+.5)*z),v=1e9,l=Math.max(0,k-G),F=Math.min(u,k+G+1),L=Math.max(0,B-G),Z=Math.min(s,B+G+1);
for(var t=L;t<Z;t++)for(var A=l;A<F;A++){var o=Q(H,u,A,t);if(o<v){k=A;B=t;v=o}}var O=(B*u+k)*4;T.push(k,B)}return T}function Q(H,u,s,_){var i=(_*u+s)*4,M=u*4,T=W(H,i-4,i)+W(H,i,i+4),R=W(H,i-M,i)+W(H,i,i+M);
return T+R}function W(H,u,s){var _=H[u]-H[s],i=H[u+1]-H[s+1],M=H[u+2]-H[s+2];return _*_+i*i+M*M}var b=0,X=0;
function D(H,u,s,_){X++;if(_<b)b=_;H[_].push(u,s)}function h(H){X--;while(H[b].length==0)b++}function S(H,u,s,_,i){b=0;
X=0;var M=u*s,T=Math.round(Math.min(u,s)/(_?_:50)),l=0,F=16;if(T==0)T=1;var R=(i?i:30)/T,z=Math.floor(u/T),G=Math.floor(s/T),V=new Uint16Array(M);
for(var n=0;n<M;n++)V[n]=65535;var y=r(H,u,s,z,G,T),k=y.length>>>1;if(k>65535)throw k;var B=[];for(var n=0;
n<1e3+s;n++)B.push([]);var v=[0,1,0,-1,-1,0,1,0],L=Math.min(G,5),Z=new Uint32Array(k*6);for(var t=0;
t<G;t+=L){var A=Math.min(t+L+1,G);for(var o=t;o<A;o++)for(var O=0;O<z;O++){var n=o*z+O,x=n*2,C=y[x+1]<<16|y[x];
D(B,C,n,y[x+1]>>>F)}var J=Math.min(s,A*T);if(t+L>=G)J=s;while(X!=0){h(B);var q=B[b].pop(),fd=B[b].pop(),w=fd>>>16,P=fd&65535,n=w*u+P;
if(V[n]==65535){var fc=q*6,p=n<<2;V[n]=q;Z[fc]+=H[p];Z[fc+1]+=H[p+1];Z[fc+2]+=H[p+2];Z[fc+3]+=P;Z[fc+4]+=w;
Z[fc+5]++;var gG=w>>>F;if(w!=J-1&&V[n+u]==65535)D(B,w+1<<16|P,q,a(H,u,R,P,w+1,Z,fc)+gG);if(w!=0&&V[n-u]==65535)D(B,w-1<<16|P,q,a(H,u,R,P,w-1,Z,fc)+gG);
if(P!=0&&V[n-1]==65535)D(B,w<<16|P-1,q,a(H,u,R,P-1,w,Z,fc)+gG);if(P!=u-1&&V[n+1]==65535)D(B,w<<16|P+1,q,a(H,u,R,P+1,w,Z,fc)+gG)}}if(J!=w){var fh=(t+L)*z;
Z.fill(0,fh*6,(fh+z)*6);for(var w=(t+L-2)*T;w<J;w++)for(var P=0;P<u;P++){var n=w*u+P;if(V[n]>=fh){V[n]=65535}}}}return{XH:V,DK:k,sr:Z}}E.ZG.XJ=function(H,u,s,_,i){var M=H.DK,T=u*s,R=H.sr,z=H.XH,G=U(_,z,M,T),V=new UnionFind(M),F=0;
for(var y=1;y<s;y++)for(var k=1;k<u;k++){var n=y*u+k,B=z[n],v=0;if((v=z[n-1])!=B&&G[v]==G[B]&&K(R,0,B*6,v*6)<i)V.link(B,v);
if((v=z[n-u])!=B&&G[v]==G[B]&&K(R,0,B*6,v*6)<i)V.link(B,v)}var l=new Uint16Array(M);l.fill(65535);var L=new Uint16Array(M);
for(var n=0;n<M;n++){var Z=V.find(n);if(l[Z]==65535)l[Z]=F++;L[n]=l[Z]}var t=new Uint16Array(T);for(var n=0;
n<T;n++)t[n]=L[z[n]];return{XH:t,DK:F}};E.ZG.a47=function(H,u,s,_){var i=E.Q(s),M=u.length,T=0;for(var n=0;
n<M&&T!=3;n++){var R=_[n];if(R==0||R==255){var z=u[n],G=2-(R>>>7);i[z]=T=i[z]|G}}return T!=3};function a(H,u,s,_,i,M,T){var R=(i*u+_)*4,z=M[T+5],G=1/z,V=H[R]*z-M[T],y=H[R+1]*z-M[T+1],k=H[R+2]*z-M[T+2],B=_*z-M[T+3],v=i*z-M[T+4],l=Math.sqrt(V*V+y*y+k*k),F=Math.sqrt(B*B+v*v);
return~~((l+s*F)*G+.5)}function K(H,u,s,_){var i=1/H[s+5],M=1/H[_+5],T=H[s]*i-H[_]*M,R=H[s+1]*i-H[_+1]*M,z=H[s+2]*i-H[_+2]*M,G=H[s+3]*i-H[_+3]*M,V=H[s+4]*i-H[_+4]*M,y=Math.sqrt(T*T+R*R+z*z),k=Math.sqrt(G*G+V*V);
return~~(y+u*k+.5)}function Y(H,u,s){var _=E.cx(H,new aV(0,0,u,s)),i=_.rect.e,M=_.rect.n,T=S(_.NP,i,M),R=T.XH,z=Date.now(),G=new Uint16Array(u*s);
G.fill(65535);for(var V=0;V<M;V++){for(var y=0;y<i;y++){var k=V*i+y,n=(V<<1)*u+(y<<1),B=R[k];if(R[k-i]!=B||R[k-1]!=B||R[k+1]!=B||R[k+i]!=B)B=65535;
G[n]=B;G[n+1]=B;G[n+u]=B;G[n+u+1]=B}}T.XH=G;return T}function d(H,u){var n=0,s=H.length;while(n!=s&&H[n]!=u)n+=2;
return n==s?-1:n}function j(H,n){if(n==H.length-2){H.pop();H.pop()}else{H[n+1]=H.pop();H[n]=H.pop()}}E.ZG.anI=function(H,u,s,_,i){var M=new Uint32Array(i*4400),Q=[];
for(var n=0;n<i;n++)Q.push([]);for(var T=0;T<s;T++)for(var R=0;R<u;R++){var n=T*u+R,z=n<<2,G=_[n],V=0,y=H[z]>>>4,k=H[z+1]>>>4,B=H[z+2]>>>4;
M[G*4400+(y<<8|k<<4|B)]++;M[G*4400+4096]++;M[G*4400+4100+(y<<4|k)]++;M[G*4400+4360+y]++;if(R!=0&&(V=_[n-1])!=G&&d(Q[G],V)==-1){Q[G].push(V,0);
Q[V].push(G,0)}if(T!=0&&(V=_[n-u])!=G&&d(Q[G],V)==-1){Q[G].push(V,0);Q[V].push(G,0)}}for(var n=0;n<i;
n++){var B=Q[n];for(var v=0;v<B.length;v+=2)B[v+1]=g(M,n,B[v])}return[M,Q]};function U(H,u,s,_){var i=E.Q(s);
for(var n=0;n<_;n++){var M=H[n];if(M==0||M==255)i[u[n]]=2-(M>>>7)}return i}E.ZG.a7u=function(H,u,s,_,i,M,T){var R=u*s,z=T[0],Q=T[1],G=new UnionFind(_),V=U(i,H,_,R),y=-1,k=!0,B=0;
for(var n=0;n<_;n++)if(V[n]==1){if(y==-1)y=n;else G.link(n,y)}if(y==-1){for(var n=0;n<R;n++)M[n]=i[n]==255?255:0;
return}while(k){while(k){k=!1;for(var n=0;n<_;n++){if(V[n]==0){var v=I(Q[n]);if(V[v]==1){V[n]=V[v];k=!0;
G.link(n,v)}}}}k=!0;B=0;while(k){k=!1;for(var n=0;n<_;n++){if(V[n]==0){var v=I(Q[n]);if(V[v]==0){var l=n*4400,F=v*4400;
for(var L=0;L<4400;L+=2){z[l+L]+=z[F+L];z[l+L+1]+=z[F+L+1]}f(Q,z,n,v);B++;V[v]=3;k=!0;G.link(n,v)}}}}k=B!=0}var Z=G.find(y);
for(var n=0;n<_;n++)V[n]=G.find(n)==Z?255:0;for(var n=0;n<R;n++){M[n]=V[H[n]]}for(var n=0;n<R;n++){var v=i[n];
if(v==0||v==255)M[n]=v}};function I(H){var u=0,s=0,_=H.length;for(var i=0;i<_;i+=2){var M=H[i+1];if(M>s){s=M;
u=i}}return H[u]}function f(Q,H,u,s){var _=Q[u],i=Q[s];j(_,d(_,s));j(i,d(i,u));for(var n=0;n<i.length;
n+=2){var M=i[n],T=Q[M];j(T,d(T,s));if(d(T,u)==-1){T.push(u,0);_.push(M,0)}}for(var n=0;n<_.length;n+=2){var M=_[n],T=Q[M],R=g(H,u,M);
_[n+1]=R;T[d(T,u)+1]=R}}function g(H,u,s){var _=0,i=4096,M=u*4400,T=s*4400;for(var R=0;R<16;R++){if(H[M+4360+R]==0||H[T+4360+R]==0)continue;
for(var z=0;z<16;z++){var G=R<<4|z;if(H[M+4100+G]==0||H[T+4100+G]==0)continue;var V=M+(G<<4),y=T+(G<<4);
for(var n=0;n<16;n++)_+=Math.sqrt(H[V+n]*H[y+n])}}var k=_/Math.sqrt(H[M+i]*H[T+i]);return~~(999.99999*k)}return S}();
E.VK={};E.VK.a1e=function(){var r=11,Q=7,W=r>>>1,fb=Q>>>1,b=2,X=2e3/b,D=[],S=null,a="";function h(Y,d,j){var U=(Y[d+0]-Y[j+0])*(1/255),I=(Y[d+1]-Y[j+1])*(1/255),f=(Y[d+2]-Y[j+2])*(1/255),g=(Y[d+3]-Y[j+3])*(1/255),H=U*U*.125+I*I*.25+f*f*.5+g*g;
return D[~~(H*X)]}function K(Y,d,j,U,I,f){var g=Date.now(),H=E.Q(d*j);E.Ou(Y,H);var u=UZIP.adler(H,0,d*j);
if(u!=a){var s=E.CD(H,d,j);S=E.Q(d*j*4);a=u;var _=[1,1/9,1/25,1/49,1/81];for(var i=0;i<j;i++)for(var M=0;
M<d;M++)for(var n=0;n<4;n++){var T=Math.max(1,M-n),R=Math.min(d-1,M+n),z=Math.max(1,i-n),G=Math.min(j-1,i+n),V=E.G1(s,d,T,R,z,G);
if(isNaN(V))throw M+","+i+","+n+","+V;S[(i*d+M)*4+n]=V*_[n]}}if(gn.Kz){var y=gn.Y9(0,d,j);y.set(Y);var k=gn.Y9(1,d,j);
k.set(S);var B=gn.Y9(2,d,j);gn._h(B);gn.filter.CJ({type:gn.filter.a16,yg:new Float32Array([1/d,1/j]),a9f:k.G6,atE:I,aae:f},y.G6);
B.get(U)}else{for(var n=0;n<2e3;n++)D[n]=Math.exp(-(n/2e3)*b*(100+(1-I)*(1-I)*1e4));var v=fb+2;for(var i=v;
i<j-v;i++)for(var M=v;M<d-v;M++){var l=0,F=0,L=0,Z=0;for(var t=0;t<r;t++)for(var A=0;A<r;A++){var o=M+A-W,O=i+t-W;
if(o==M&&O==i||o<v||O<v||o>=d-v||O>=j-v)continue;var x=h(S,(i*d+M)*4,(O*d+o)*4),C=O*d+o<<2;l+=x*Y[C+0];
F+=x*Y[C+1];L+=x*Y[C+2];Z+=x}if(Z==0){continue}var J=1/Z,q=(i*d+M)*4;U[q+0]=~~((1-f)*J*l+f*U[q+0]);U[q+1]=~~((1-f)*J*F+f*U[q+1]);
U[q+2]=~~((1-f)*J*L+f*U[q+2])}}}return K}();var ed=function(){function r(){this.O=0;this.ji=0;this.bL={};
this.rK=[];this.DE=1e5;this.Fw=1e5;this.Uu=-1;this.$b=-1;this.color=0}function Q(fb){this.Gh=fb;this.lv=new Array(fb);
this.th=new Array(fb*6);this.aoV=0;this.t3=new Array(fb*2);this.alpha=new Array(fb);this.kq=new Array(fb);
this.eO=new Array(fb)}function W(X,D,h,S){function a(g,H,X,D){return X[D*H+g]}function K(n){var T=X.length;
while(n<T&&X[n]==0)n++;return n<T?n:-1}function Y(g,H,T){for(var n=2;n<5;n++){var R=0;for(var z=-n+1;
z<=n-1;z++){R+=a(g+z,H+n-1,X,D)==T?1:-1;R+=a(g+n-1,H+z-1,X,D)==T?1:-1;R+=a(g+z-1,H-n,X,D)==T?1:-1;R+=a(g-n,H+z,X,D)==T?1:-1}if(R>0)return 1;
else if(R<0)return 0}return 0}function d(T,I){var f=new r,g=T,H=I,R=0,z=1,G;f.color=X[I*D+T];f.sign=a(T,I,X,D)==f.color?"+":"-";
while(1){f.rK.push(g,H);if(g>f.Uu)f.Uu=g;if(g<f.DE)f.DE=g;if(H>f.$b)f.$b=H;if(H<f.Fw)f.Fw=H;f.ji++;g+=R;
H+=z;f.O-=g*z;if(g==T&&H==I)break;var V=a(g+(R+z-1>>1),H+(z-R-1>>1),X,D)==f.color,y=a(g+(R-z-1>>1),H+(z+R-1>>1),X,D)==f.color;
if(y&&!V){if(S.co=="right"||S.co=="black"&&f.sign=="+"||S.co=="white"&&f.sign=="-"||S.co=="majority"&&Y(g,H,f.color)||S.co=="minority"&&!Y(g,H,f.color)){G=R;
R=-z;z=G}else{G=R;R=z;z=-G}}else if(y){G=R;R=-z;z=G}else if(!V){G=R;R=z;z=-G}}return f}var j=0,U=[];
while(!0){var j=K(j);if(j==-1)break;var I=Math.floor(j/D),f=d(j-I*D,I);for(var n=0;n<f.rK.length-2;n+=2){var g=f.rK[n],H=f.rK[n+1],u=H*D+g;
if(g==f.rK[n+2]&&H+1==f.rK[n+3]&&X[u]!=0)ed.fill(u,X,D,0)}if(f.O>S.arQ)U.push(f)}for(var n=0;n<U.length;
n++)U[n].parent=-1;var s=Date.now();for(var n=1;n<U.length;n++){var _=U[n];for(var i=n-1;i>=0;i--){var M=U[i];
if(_.DE<M.DE||_.Uu>M.Uu||_.Fw<M.Fw||_.$b>M.$b)continue;if(!ed.Zq(M.rK,_.rK[0]+.5,_.rK[1]+.5))continue;
_.parent=i;break}}return U}function b(X,D){function h(R,z,G,V,y){this.x=R;this.y=z;this.di=G;this.ZT=V;
this.Dm=y}function S(R,fb){return(fb+R)%fb}function a(R,z,G,V){return R*V-G*z}function K(R,z,G,V){return R*G+z*V}function Y(R,z,G){if(R<=G)return R<=z&&z<G;
else return R<=z||z<G}function d(R,z,G){var V=0;V+=z*R[0]*z;V+=z*R[1]*G;V+=z*R[2];V+=G*R[3]*z;V+=G*R[4]*G;
V+=G*R[5];V+=R[6]*z;V+=R[7]*G;V+=R[8];return V}function j(R,z,G){return z+R*(G-z)}function U(R,z,G,V){var y=Math.sign(G-R),k=-Math.sign(V-z);
return y*(G-R)-k*(V-z)}function I(R,z){return Math.sqrt(R*R+z*z)}function f(R,z,G,V,y){var k=1-R;return k*k*k*z+3*(k*k*R)*G+3*(R*R*k)*V+R*R*R*y}function g(R,z,G,V,y,k,B,v){var l=a(R,z,B,v),F=a(G,V,B,v),L=a(y,k,B,v),Z=l-2*F+L,t=-2*l+2*F,A=l,o=t*t-4*Z*A;
if(Z==0||o<0)return-1;var O=Math.sqrt(o),x=(-t+O)/(2*Z),C=(-t-O)/(2*Z);if(x>=0&&x<=1)return x;else if(C>=0&&C<=1)return C;
else return-1}function H(T){var n,R,z;T.Py=T.rK[0];T.aiS=T.rK[1];T.Q3=[];var G=T.Q3;G.push(new h(0,0,0,0,0));
for(n=0;n<T.ji;n++){R=T.rK[n<<1]-T.Py;z=T.rK[(n<<1)+1]-T.aiS;G.push(new h(G[n].x+R,G[n].y+z,G[n].di+R*z,G[n].ZT+R*R,G[n].Dm+z*z))}}function u(T){var fb=T.ji,R=T.rK,z,G=new Array(fb),V=new Array(fb),y=new Array(4),k,B,v,l,F,L,Z,t,A,o,O,n,x,C,J,q,fd,w,P=0;
T.jd=new Array(fb);for(n=fb-1;n>=0;n--){if(R[n<<1]!=R[P<<1]&&R[(n<<1)+1]!=R[(P<<1)+1])P=n+1;V[n]=P}for(n=fb-1;
n>=0;n--){var fc=S(n+1,fb)<<1;y[0]=y[1]=y[2]=y[3]=0;z=(3+3*(R[fc]-R[n<<1])+(R[fc+1]-R[(n<<1)+1]))/2;
y[z]++;k=0;B=0;v=0;l=0;P=V[n];C=n;while(1){O=0;z=(3+3*Math.sign(R[P*2]-R[C*2])+Math.sign(R[P*2+1]-R[C*2+1]))/2;
y[z]++;if(y[0]&&y[1]&&y[2]&&y[3]){G[n]=C;O=1;break}A=R[P*2]-R[n*2];o=R[P*2+1]-R[n*2+1];if(a(k,B,A,o)<0||a(v,l,A,o)>0){break}if(Math.abs(A)<=1&&Math.abs(o)<=1){}else{F=A+(o>=0&&(o>0||A<0)?1:-1);
L=o+(A<=0&&(A<0||o<0)?1:-1);if(a(k,B,F,L)>=0){k=F;B=L}F=A+(o<=0&&(o<0||A<0)?1:-1);L=o+(A>=0&&(A>0||o<0)?1:-1);
if(a(v,l,F,L)<=0){v=F;l=L}}C=P;P=V[C];if(!Y(P,n,C)){break}}if(O==0){Z=Math.sign(R[P*2]-R[C*2]);t=Math.sign(R[P*2+1]-R[C*2+1]);
A=R[C*2]-R[n*2];o=R[C*2+1]-R[n*2+1];J=a(k,B,A,o);q=a(k,B,Z,t);fd=a(v,l,A,o);w=a(v,l,Z,t);x=1e7;if(q<0){x=Math.floor(J/-q)}if(w>0){x=Math.min(x,Math.floor(-fd/w))}G[n]=S(C+x,fb)}}x=G[fb-1];
T.jd[fb-1]=x;for(n=fb-2;n>=0;n--){if(Y(n+1,G[n],x)){x=G[n]}T.jd[n]=x}for(n=fb-1;Y(S(n+1,fb),x,T.jd[n]);
n--){T.jd[n]=x}}function s(T){function R(T,n,z){var fb=T.ji,A=T.rK,o=T.Q3,O,x,C,J,q,V,fd,w,t,P,fc,p,gG,fh,fJ=0;
if(z>=fb){z-=fb;fJ=1}if(fJ==0){O=o[z+1].x-o[n].x;x=o[z+1].y-o[n].y;J=o[z+1].ZT-o[n].ZT;C=o[z+1].di-o[n].di;
q=o[z+1].Dm-o[n].Dm;V=z+1-n}else{O=o[z+1].x-o[n].x+o[fb].x;x=o[z+1].y-o[n].y+o[fb].y;J=o[z+1].ZT-o[n].ZT+o[fb].ZT;
C=o[z+1].di-o[n].di+o[fb].di;q=o[z+1].Dm-o[n].Dm+o[fb].Dm;V=z+1-n+fb}fc=(A[n<<1]+A[z<<1])/2-A[0];p=(A[(n<<1)+1]+A[(z<<1)+1])/2-A[1];
fh=A[z<<1]-A[n<<1];gG=-(A[(z<<1)+1]-A[(n<<1)+1]);fd=(J-2*O*fc)/V+fc*fc;w=(C-O*p-x*fc)/V+fc*p;t=(q-2*x*p)/V+p*p;
P=gG*gG*fd+2*gG*fh*w+fh*fh*t;return Math.sqrt(P)}var n,z,G,V,fb=T.ji,y=new Array(fb+1),k=new Array(fb+1),B=new Array(fb),v=new Array(fb+1),l=new Array(fb+1),F=new Array(fb+1),L,Z,t;
for(n=0;n<fb;n++){t=S(T.jd[S(n-1,fb)]-1,fb);if(t==n){t=S(n+1,fb)}if(t<n){B[n]=fb}else{B[n]=t}}z=1;for(n=0;
n<fb;n++){while(z<=B[n]){v[z]=n;z++}}n=0;for(z=0;n<fb;z++){l[z]=n;n=B[n]}l[z]=fb;G=z;n=fb;for(z=G;z>0;
z--){F[z]=n;n=v[n]}F[0]=0;y[0]=0;for(z=1;z<=G;z++){for(n=F[z];n<=l[z];n++){Z=-1;for(V=l[z-1];V>=v[n];
V--){L=R(T,V,n)+y[V];if(Z<0||L<Z){k[n]=V;Z=L}}y[n]=Z}}T.ahO=G;T.atK=new Array(G);for(n=fb,z=G-1;n>0;
z--){n=k[n];T.atK[z]=n}}function _(T){function R(T,n,L,B,v,cF){var fb=T.ji,j_=T.Q3,gY=0,t;while(L>=fb){L-=fb;
gY+=1}while(n>=fb){n-=fb;gY-=1}while(L<0){L+=fb;gY-=1}while(n<0){n+=fb;gY+=1}var kc=j_[L+1].x-j_[n].x+gY*j_[fb].x,el=j_[L+1].y-j_[n].y+gY*j_[fb].y,iN=j_[L+1].ZT-j_[n].ZT+gY*j_[fb].ZT,c$=j_[L+1].di-j_[n].di+gY*j_[fb].di,dB=j_[L+1].Dm-j_[n].Dm+gY*j_[fb].Dm,Z=L+1-n+gY*fb;
B[cF]=kc/Z;B[cF+1]=el/Z;var aL=(iN-kc*kc/Z)/Z,aB=(c$-kc*el/Z)/Z,f3=(dB-el*el/Z)/Z,jC=(aL+f3+Math.sqrt((aL-f3)*(aL-f3)+4*aB*aB))/2;
aL-=jC;f3-=jC;if(Math.abs(aL)>=Math.abs(f3)){t=Math.sqrt(aL*aL+aB*aB);if(t!=0){v[cF]=-aB/t;v[cF+1]=aL/t}}else{t=Math.sqrt(f3*f3+aB*aB);
if(t!=0){v[cF]=-f3/t;v[cF+1]=aB/t}}if(t==0){v[cF]=v[cF+1]=0}}var z=T.ahO,G=T.atK,fb=T.ji,V=T.rK,y=T.Py,k=T.aiS,B=new Array(z*2),v=new Array(z*2),l=new Array(z),F=new Array(3),n,L,Z,t,x,C,J,q,fd,w,P;
T.bL=new Q(z);for(n=0;n<z;n++){L=G[S(n+1,z)];L=S(L-G[n],fb)+G[n];B[n<<1]=0;B[(n<<1)+1]=0;v[n<<1]=0;v[(n<<1)+1]=0;
R(T,G[n],L,B,v,n<<1)}for(n=0;n<z;n++){l[n]=[0,0,0,0,0,0,0,0,0];var A=v[n<<1]*v[n<<1]+v[(n<<1)+1]*v[(n<<1)+1],o=1/A;
if(A!=0){F[0]=v[(n<<1)+1];F[1]=-v[n<<1];F[2]=-F[1]*B[(n<<1)+1]-F[0]*B[n<<1];for(t=0;t<3;t++){l[n][t*3+0]=F[t]*F[0]*o;
l[n][t*3+1]=F[t]*F[1]*o;l[n][t*3+2]=F[t]*F[2]*o}}}var O=[0,0,0,0,0,0,0,0,0];for(n=0;n<z;n++){O[0]=O[1]=O[2]=O[3]=O[4]=O[5]=O[6]=O[7]=O[8]=O[9]=0;
var fc=V[G[n]<<1]-y,p=V[(G[n]<<1)+1]-k,gG=0,fh=0;L=S(n-1,z);for(t=0;t<9;t+=3){O[t+0]=l[L][t+0]+l[n][t+0];
O[t+1]=l[L][t+1]+l[n][t+1];O[t+2]=l[L][t+2]+l[n][t+2]}while(1){var fJ=O[0]*O[4]-O[1]*O[3];if(fJ!=0){gG=(-O[2]*O[4]+O[5]*O[0])/fJ;
fh=(O[2]*O[3]-O[5]*O[0])/fJ;break}if(O[0]>O[4]){F[0]=-O[1];F[1]=O[0]}else if(O[4]){F[0]=-O[4];F[1]=O[3]}else{F[0]=1;
F[1]=0}var A=F[0]*F[0]+F[1]*F[1],o=1/A;F[2]=-F[1]*p-F[0]*fc;for(t=0;t<3;t++){O[t*3+0]+=F[t]*F[0]*o;O[t*3+1]+=F[t]*F[1]*o;
O[t*3+2]+=F[t]*F[2]*o}}x=Math.abs(gG-fc);C=Math.abs(fh-p);if(x<=.5&&C<=.5){T.bL.t3[n<<1]=gG+y;T.bL.t3[(n<<1)+1]=fh+k;
continue}J=d(O,fc,p);fd=fc;w=p;if(O[0]!=0){for(P=0;P<2;P++){fh=p-.5+P;gG=-(O[1]*fh+O[2])/O[0];x=Math.abs(gG-fc);
q=d(O,gG,fh);if(x<=.5&&q<J){J=q;fd=gG;w=fh}}}if(O[4]!=0){for(P=0;P<2;P++){gG=fc-.5+P;fh=-(O[3]*gG+O[5])/O[4];
C=Math.abs(fh-p);q=d(O,gG,fh);if(C<=.5&&q<J){J=q;fd=gG;w=fh}}}for(t=0;t<2;t++){for(Z=0;Z<2;Z++){gG=fc-.5+t;
fh=p-.5+Z;q=d(O,gG,fh);if(q<J){J=q;fd=gG;w=fh}}}T.bL.t3[n<<1]=fd+y;T.bL.t3[(n<<1)+1]=w+k}}function i(T){var R=T.bL.Gh,z=T.bL,n,G,V,y,k,B,v,l,F;
for(n=0;n<R;n++){G=S(n+1,R);V=S(n+2,R);var L=z.t3[n<<1],Z=z.t3[(n<<1)+1],t=z.t3[V<<1],A=z.t3[(V<<1)+1],o=z.t3[G<<1],O=z.t3[(G<<1)+1],x=j(.5,t,o),C=j(.5,A,O);
k=U(L,Z,t,A);if(k!=0){y=a(o-L,O-Z,t-L,A-Z)/k;y=Math.abs(y);B=y>1?1-1/y:0;B=B*(1/.75)}else{B=4/3}z.kq[G]=B;
var J=3*G<<1;if(B>=D.alZ){z.lv[G]=0;z.th[J+0]=z.th[J+1]=0;z.th[J+2]=o;z.th[J+3]=O;z.th[J+4]=x;z.th[J+5]=C}else{if(B<.55){B=.55}else if(B>1){B=1}var q=.5+.5*B;
z.lv[G]=1;z.th[J]=j(q,L,o);z.th[J+1]=j(q,Z,O);z.th[J+2]=j(q,t,o);z.th[J+3]=j(q,A,O);z.th[J+4]=x;z.th[J+5]=C}z.alpha[G]=B;
z.eO[G]=.5}z.arp=1}function M(T){function R(){this.qU=0;this.un=0;this.La=0;this.Z5=0;this.Ms=0;this.HP=0;
this.Am=0;this.alpha=0}function z(T,n,L,iA,bL,fd,w){var V=T.bL.Gh,an=T.bL.th,dp=T.bL.t3;if(n==L)return 1;
var im=n,o=S(n+1,V),a5=S(im+1,V),c$=dp[n<<1],dB=dp[(n<<1)+1],bg=dp[o<<1],fM=dp[(o<<1)+1],eT=fd[a5];if(eT==0)return 1;
var ev=I(c$-bg,dB-fM);for(im=a5;im!=L;im=a5){var a5=S(im+1,V),fU=S(im+2,V),e8=dp[a5<<1],ej=dp[(a5<<1)+1],fV=dp[fU<<1],he=dp[(fU<<1)+1];
if(fd[a5]!=eT)return 1;if(Math.sign(a(bg-c$,fM-dB,fV-e8,he-ej))!=eT)return 1;if(K(bg-c$,fM-dB,fV-e8,he-ej)<ev*I(e8-fV,ej-he)*-.999847695156)return 1}var gZ=S(n,V)*3+2<<1,hQ=S(n+1,V)<<1,aJ=S(L,V)<<1,cs=S(L,V)*3+2<<1,cF=an[gZ],j_=an[gZ+1],fN=dp[hQ],j4=dp[hQ+1],hL=dp[aJ],fv=dp[aJ+1],al=an[cs],dD=an[cs+1],P=dp[0],fc=dp[1];
gZ=L*3+2<<1;var kd=an[gZ],gv=an[gZ+1],O=w[L]-w[n];O-=a(kd-P,gv-fc,kd-P,gv-fc)/2;if(n>=L){O+=w[V]}var j$=fN-cF,i9=j4-j_,bv=hL-cF,jk=fv-j_,cM=al-cF,iW=dD-j_,ft=a(j$,i9,bv,jk),b0=a(j$,i9,cM,iW),ko=a(bv,jk,cM,iW),co=ft+ko-b0;
if(b0==ft)return 1;var q=ko/(ko-co),J=b0/(b0-ft),gr=b0*q/2;if(gr==0)return 1;var ib=O/gr,x=2-Math.sqrt(4-ib/.3);
iA.un=j(q*x,cF,fN);iA.La=j(q*x,j_,j4);iA.Z5=j(J*x,al,hL);iA.Ms=j(J*x,dD,fv);iA.alpha=x;iA.HP=q;iA.Am=J;
fN=iA.un;j4=iA.La;hL=iA.Z5;fv=iA.Ms;iA.qU=0;for(im=S(n+1,V);im!=L;im=a5){a5=S(im+1,V);var bh=dp[im<<1],bM=dp[(im<<1)+1],e8=dp[a5<<1],ej=dp[(a5<<1)+1];
q=g(fN-cF,j4-j_,hL-fN,fv-j4,al-hL,dD-fv,e8-bh,ej-bM);if(q<-.5)return 1;var bR=f(q,cF,fN,hL,al),c5=f(q,j_,j4,fv,dD),ev=I(e8-bh,ej-bM);
if(ev==0)return 1;var dE=a(e8-bh,ej-bM,bR-bh,c5-bM)/ev;if(Math.abs(dE)>bL)return 1;if(K(e8-bh,ej-bM,bR-bh,c5-bM)<0||K(bh-e8,bM-ej,bR-e8,c5-ej)<0){return 1}iA.qU+=dE*dE}for(im=n;
im!=L;im=a5){a5=S(im+1,V);var gZ=im*3+2<<1,hQ=a5*3+2<<1,ix=an[gZ],f2=an[gZ+1],a$=an[hQ],fl=an[hQ+1];
q=g(fN-cF,j4-j_,hL-fN,fv-j4,al-hL,dD-fv,a$-ix,fl-f2);if(q<-.5)return 1;var bR=f(q,cF,fN,hL,al),c5=f(q,j_,j4,fv,dD),ev=I(a$-ix,fl-f2);
if(ev==0)return 1;var dE=a(a$-ix,fl-f2,bR-ix,c5-f2)/ev,cW=a(a$-ix,fl-f2,dp[a5<<1]-ix,dp[(a5<<1)+1]-f2)/ev;
cW*=.75*T.bL.alpha[a5];if(cW<0){dE=-dE;cW=-cW}if(dE<cW-bL)return 1;if(dE<cW){iA.qU+=(dE-cW)*(dE-cW)}}return 0}var G=T.bL,V=G.Gh,y=G.t3,k=new Array(V+1),B=new Array(V+1),v=new Array(V+1),l=new Array(V+1),F,n,L,Z,t=new R,A,o,O,x,C,J,q,fd=new Array(V),w=new Array(V+1);
for(n=0;n<V;n++){if(G.lv[n]=="CURVE"){var P=y[S(n-1,V)<<1],fc=y[(S(n-1,V)<<1)+1],p=y[n<<1],gG=y[(n<<1)+1],fh=y[S(n+1,V)<<1],fJ=y[(S(n+1,V)<<1)+1];
fd[n]=Math.sign(a(p-P,gG-fc,fh-p,fJ-gG))}else{fd[n]=0}}O=0;w[0]=0;var cF=G.t3[0],j_=G.t3[1];for(n=0;
n<V;n++){o=S(n+1,V);if(G.lv[o]=="CURVE"){x=G.alpha[o];var gY=n*3+2<<1,kc=o*3+2<<1,el=G.th[gY],iN=G.th[gY+1],c$=y[o<<1],dB=y[(o<<1)+1],aL=G.th[kc],aB=G.th[kc+1];
O+=.3*x*(4-x)*a(c$-el,dB-iN,aL-el,aB-iN)/2;O+=a(el-cF,iN-j_,aL-cF,aB-j_)/2}w[n+1]=O}k[0]=-1;B[0]=0;v[0]=0;
for(L=1;L<=V;L++){k[L]=L-1;B[L]=B[L-1];v[L]=v[L-1]+1;for(n=L-2;n>=0;n--){Z=z(T,n,S(L,V),t,D.a8N,fd,w);
if(Z){break}if(v[L]>v[n]+1||v[L]==v[n]+1&&B[L]>B[n]+t.qU){k[L]=n;B[L]=B[n]+t.qU;v[L]=v[n]+1;l[L]=t;t=new R}}}F=v[V];
C=new Q(F);J=new Array(F);q=new Array(F);L=V;for(n=F-1;n>=0;n--){var f3=S(L,V),jC=n*3+0<<1,bc=f3*3+0<<1;
if(k[L]==L-1){C.lv[n]=G.lv[f3];C.th[jC]=G.th[bc];C.th[jC+1]=G.th[bc+1];C.th[jC+2]=G.th[bc+2];C.th[jC+3]=G.th[bc+3];
C.th[jC+4]=G.th[bc+4];C.th[jC+5]=G.th[bc+5];C.t3[n<<1]=G.t3[f3<<1];C.t3[(n<<1)+1]=G.t3[(f3<<1)+1];C.alpha[n]=G.alpha[f3];
C.kq[n]=G.kq[f3];C.eO[n]=G.eO[f3];J[n]=q[n]=1}else{C.lv[n]="CURVE";C.th[jC]=l[L].un;C.th[jC+1]=l[L].La;
C.th[jC+2]=l[L].Z5;C.th[jC+3]=l[L].Ms;C.th[jC+4]=G.th[bc+4];C.th[jC+5]=G.th[bc+5];C.t3[n<<1]=j(l[L].Am,G.th[bc+4],y[f3<<1]);
C.t3[(n<<1)+1]=j(l[L].Am,G.th[bc+5],y[(f3<<1)+1]);C.alpha[n]=l[L].alpha;C.kq[n]=l[L].alpha;J[n]=l[L].Am;
q[n]=l[L].HP}L=k[L]}for(n=0;n<F;n++){o=S(n+1,F);C.eO[n]=J[n]/(J[n]+q[o])}C.arp=1;T.bL=C}for(var n=0;
n<X.length;n++){var T=X[n];H(T);u(T);s(T);_(T);i(T);if(D.aa1)M(T)}}return{aoc:W,afP:b}}();ed.NU=function(r,Q,W,b){var X={co:"minority",arQ:b,aa1:!0,alZ:1,a8N:.2},D=ed.aoc(r,Q,W,X);
ed.afP(D,X);return D};ed.tt=function(r){var Q=[];for(var n=0;n<r.length;n++){var W=r[n],b=W.bL,X=["M"],D=[b.th[(b.Gh-1)*6+4],b.th[(b.Gh-1)*6+5]];
for(var h=0;h<b.Gh;h++){var S=h*6;if(b.lv[h]==1){X.push("C");for(var a=0;a<6;a++)D.push(b.th[S+a])}else if(b.lv[h]==0){X.push("L");
for(var a=2;a<4;a++)D.push(b.th[S+a])}}X.push("Z");Q.push({parent:W.parent,color:W.color,path:{C:D,H:X}})}return Q};
ed.Zq=function(r,Q,W){var fb=r.length>>1,b,X=r[2*fb-3]-W,D=r[2*fb-2]-Q,h=r[2*fb-1]-W,S=h>X,a=0;for(var n=0;
n<fb;n++){b=D;X=h;D=r[2*n]-Q;h=r[2*n+1]-W;if(X==h)continue;S=h>X}for(var n=0;n<fb;n++){b=D;X=h;D=r[2*n]-Q;
h=r[2*n+1]-W;if(X<0&&h<0)continue;if(X>0&&h>0)continue;if(b<0&&D<0)continue;if(X==h&&Math.min(b,D)<=0)return!0;
if(X==h)continue;var K=b+(D-b)*-X/(h-X);if(K==0)return!0;if(K>0)a++;if(X==0&&S&&h>X)a--;if(X==0&&!S&&h<X)a--;
S=h>X}return(a&1)==1};ed.fill=function(r,Q,W,b){var X=Q[r],D=[r],h=0;while(h<D.length){var S=D[h];h++;
Q[S]=b;if(Q[S-W]==X){D.push(S-W);Q[S-W]=254}if(Q[S-1]==X){D.push(S-1);Q[S-1]=254}if(Q[S+1]==X){D.push(S+1);
Q[S+1]=254}if(Q[S+W]==X){D.push(S+W);Q[S+W]=254}}};var fs=function(){function r(a){return Math.max(0,Math.min(1,a))}function Q(a,K,Y,d){var j=Math.sin(d),U=Math.cos(d),I=1/Math.sqrt(a*a+K*K+Y*Y);
a*=I;K*=I;Y*=I;return[a*a*(1-U)+U,a*K*(1-U)-Y*j,a*Y*(1-U)+K*j,a*K*(1-U)+Y*j,K*K*(1-U)+U,K*Y*(1-U)-a*j,a*Y*(1-U)-K*j,K*Y*(1-U)+a*j,Y*Y*(1-U)+U]}function W(a,K){var Y=K<0?-K:K;
if(a>1)a=.99;a=a*.99;var d=Math.pow(Y/5,.16),j=Math.pow(2,Y<1?Y:1+(Y-1)*.8);if(K<0)j=1/j;a=d*(1-Math.pow(1-a,j))+(1-d)*a;
return a}function b(a,K){var Y=K/100;a=a*.99;a=Y*(.5-.5*Math.cos(a*Math.PI))+(1-Y)*a;return a}var X=E.B1.uP(Q(1,1,1,-.3)),D=E.B1.j4(X);
function h(a,K,Y,d,j,U,I){var f=a[Y],g=a[Y+1],H=a[Y+2],u=E.B1.lK(X,[f,g,H,1]);f=u[0];g=u[1];H=u[2];f=W(f,d);
g=W(g,d);H=W(H,d);var u=E.B1.lK(D,[f,g,H,1]);f=u[0];g=u[1];H=u[2];f=r(f);g=r(g);H=r(H);f=b(f,j);g=b(g,j);
H=b(H,j);var s=db.a6O(f,g,H,U);f=s[0];g=s[1];H=s[2];f=r(f);g=r(g);H=r(H);if(I){var _=new Uint8Array(4);
_[0]=~~(.5+f*255);_[1]=~~(.5+g*255);_[2]=~~(.5+H*255);bu.EW(I,_,_,new aV(0,0,1,1));f=_[0]/255;g=_[1]/255;
H=_[2]/255}K[Y]=f;K[Y+1]=g;K[Y+2]=H}function S(a,K,Y,d,j,U){var I=j.Temp?j.Temp.v:0,f=j.Tint?j.Tint.v:0,g=j.Ex12?j.Ex12.v:0,H=j.Cr12?j.Cr12.v:0,u=j.Vibr?j.Vibr.v:0,s=j.Strt?j.Strt.v:0,_=db.Om(I,f),i=null;
g+=_.aa$;if(u!=0||s!=0)i=bu.RP("vibA",{Strt:j.Strt,vibrance:j.Vibr});console.log(i);var M=Date.now();
if(U){var T=Math.pow(2,g),R=a.length;g=0;var z=new Float32Array(4e3);for(var n=0;n<4e3;n++){var G=n*(1/1e3);
G=E.cE(G);G*=T;G=E.Lz(G);G=r(G);z[n]=G}for(var n=0;n<R;n+=3){d[n]=z[~~(a[n]*1e3)];d[n+1]=z[~~(a[n+1]*1e3)];
d[n+2]=z[~~(a[n+2]*1e3)]}console.log(Date.now()-M,"Exposure normalizing");M=Date.now()}else d.set(a);
if(g!=0||H!=0||I!=0||f!=0||i){var V=17,y=1/(V-1),k=V*V*V,B=new Array(k*3);for(var v=0;v<V;v++)for(var l=0;
l<V;l++)for(var F=0;F<V;F++){var n=v*V*V+l*V+F,L=n*3;B[L]=v*y;B[L+1]=l*y;B[L+2]=F*y}for(var n=0;n<k;
n++)h(B,B,n*3,g,H,_,i);console.log(Date.now()-M,"making LUT");M=Date.now();ICC.U.applyLUTFloat(B,V,d,d);
console.log(Date.now()-M,"applying LUT");M=Date.now()}}return S}();function k5(){}k5.ak=function(r){var Q=new Uint8Array(r),W=0,b={I_:[],_v:[],list:[]},X=c.KV(Q,W);
W+=2;if(X<=2){return k5.ac_(Q)}var D=c.KV(Q,W);W+=2;var h=c.zV(Q,W,8);W+=8;var S=c.v(Q,W);W+=4;if(S>0)b.I_=k5.Zy(Q,W,S,D,X);
W+=S;var a=c.zV(Q,W,8);W+=8;var K=c.v(Q,W);W+=4;if(K>0)b._v=dh.g5(Q,W,K);W+=K;var Y=c.zV(Q,W,8);W+=8;
var d=c.v(Q,W);W+=4;if(d>0){var j={};bl.Z6(Q,j,W+4);b.list=j.Brsh.v}W+=d;var U=b.list;for(var n=0;n<U.length;
n++){eW.QF.check(U[n].v)}return b};k5.Ll=function(r,Q){r.v.Nm.v=Q};k5.ac_=function(r){var Q={I_:[],_v:[],list:[]},W=0,b=c.KV(r,W);
W+=2;var X=c.KV(r,W);W+=2;for(var n=0;n<X;n++){var D=c.KV(r,W);W+=2;var h=c.v(r,W);W+=4;var S=W;if(D==2){var a={};
Q.I_.push(a);var K=c.v(r,S);S+=4;var Y=c.KV(r,S);S+=2;if(b==2){var d=c.Fb(r,S);S+=4+d.length*2+2}a.id=bj.zQ()+"-d71c-11e5-b1ae-a548a96e5f9f";
S++;S+=8;a.nX=c.Lg(r,S);S+=16;var j=c.KV(r,S);S+=2;var U=r[S];S++;var I=et.hO(!1,j,r,a.nX.e,a.nX.n,S,U);
k5.aO(a,I);var f=eW.X6(a.id),g=f.Brsh.v;g.Dmtr.v.val=a.nX.e;g.Spcn.v.val=Y;Q.list.push({t:"Objc",v:f})}W+=h}return Q};
k5.cg=function(r){var Q=new f8,W=0,b=0;c.yi(Q,W,6);W+=2;c.yi(Q,W,2);W+=2;c.oo(Q,W,"8BIMsamp");W+=8;W+=4;
b=W;W=k5.v5(Q,W,r.I_);c.Jp(Q,b-4,W-b);c.oo(Q,W,"8BIMpatt");W+=8;W+=4;b=W;W=dh.Pa(Q,W,r._v);c.Jp(Q,b-4,W-b);
var X={classID:"null",Brsh:{t:"VlLs",v:r.list}};c.oo(Q,W,"8BIMdesc");W+=8;W+=4;b=W;c.Jp(Q,W,16);W+=4;
W+=bl.X3(Q,X,W);c.Jp(Q,b-4,W-b);return Q.data.slice(0,W).buffer};k5.Zy=function(r,Q,W,b,X){var D=c.v,h=c.Lg,S=Q+W,a=[];
while(Q<S){var K={};a.push(K);var Y=D(r,Q);Q+=4;var d=Q,j=c.eH(r,Q);Q+=j.length;K.id=j.Nv;if(b==1){Q+=9;
K.nX=h(r,Q);Q+=16}else{Q+=7;var U=D(r,Q);Q+=4;K.nX=h(r,Q);Q+=16;var I=D(r,Q);Q+=4;Q+=I*4;var f=D(r,Q);
Q+=4;var g=D(r,Q);Q+=4;var H=h(r,Q);Q+=16}var u=c.KV(r,Q);Q+=2;var s=r[Q];Q+=1;var _=et.hO(!1,u,r,K.nX.e,K.nX.n,Q,s);
k5.aO(K,_);if(Y%4!=0)Y+=4-Y%4;Q=d+Y}return a};k5.aO=function(r,Q){var W=r.nX.clone();W.x=W.y=0;r.G5=[Q,W]};
k5.v5=function(r,Q,W){var b=c.Jp,X=c.se;for(var n=0;n<W.length;n++){var D=W[n],h=Q+4,a=56,Y=1;Q+=4;c.fN(r,Q,D.id);
Q+=D.id.length+2;r.Jd(Q,1);r.data[Q]=1;Q+=3;b(r,Q,3);Q+=4;var S=Q;Q+=4;X(r,Q,D.nX);Q+=16;b(r,Q,a);Q+=4;
Q+=a*4;b(r,Q-4,1);var K=Q;Q+=4;b(r,Q,8);Q+=4;X(r,Q,D.nX);Q+=16;c.yi(r,Q,8);Q+=2;r.Jd(Q,1);r.data[Q]=Y;
Q++;var d=D.G5[0];r.Jd(Q,D.nX.O()*2);Q=et.Bx(!1,d,r.data,D.nX.e,D.nX.n,Q,Y);r.Jd(Q,8);Q+=8;var j=Q-h;
b(r,h-4,j);b(r,S,j-49);b(r,K,j-305);if(j%4!=0)Q+=4-j%4}return Q};function f0(){}f0.ak=function(r,Q){var W=new Uint8Array(r),b=[],X=0,D=c.KV(W,X);
X+=2;if(D!=4){throw"Unknown version of curves: "+D}var h=c.KV(W,X);X+=2;for(var n=0;n<h;n++){var S=f0.Tc(W,X);
X+=2+2*S.length;b.push(S)}if(X!=W.length){var a=c.zV(W,X,4);X+=4;var K=c.KV(W,X);X+=2;var Y=c.KV(W,X);
X+=2;if(Y!=0)throw"extra curves for channels"}var d=f0.ZA(b,0);d.presetKind={t:"long",v:3};d.presetFileName={t:"TEXT",v:Q.split("/").pop().split(".")[0]};
return[d]};f0.Yz=function(r,Q,W){var b=Q,X=[],D=r[Q];Q+=3;var h=c.v(r,Q);Q+=4;for(var n=0;n<4;n++){var S=h>>>n&1;
if(S){if(D==0){var a=f0.Tc(r,Q);Q+=2+2*a.length}else{var a=f0.ay7(r,Q);Q+=256}X.push(a)}else X.push(D==0?[0,0,255,255]:f0.a9c())}var K=f0.ZA(X,D);
return K};f0.ZA=function(r,Q){var W=jv.fp("curv");for(var n=0;n<4;n++){if(Q==0){var b=r[n],X=[];for(var D=0;
D<b.length;D+=2)X.push(E.FB.gt(b[D],b[D+1],!0));f0.Q_(W,n,X)}else f0.Q_(W,n,r[n])}return W};f0.PY=function(r,Q,W){var b=[];
for(var n=0;n<4;n++){var X=f0.S5(W,n);if(X.length==256)b.push(X);else{var D=[];for(var h=0;h<X.length;
h++)D.push(X[h].v.Hrzn.v,X[h].v.Vrtc.v);b.push(D)}}var S=Q,a=b[0].length==256?1:0;r.Jd(Q,3);r.data[Q]=a;
r.data[Q+1]=0;r.data[Q+2]=1;Q+=3;c.Jp(r,Q,15);Q+=4;for(var n=0;n<4;n++){var K=b[n];if(a==0){f0.awR(r,Q,K);
Q+=2+2*K.length}else{f0.amW(r,Q,K);Q+=256}}return Q-S};f0.a9c=function(){var r=[];for(var n=0;n<256;
n++)r.push(n);return r};f0.Q_=function(r,Q,W){var b=fB.rz("CrvA",Q);if(W.length<256)b.Crv={t:"VlLs",v:W};
else{b.Mpng={t:"VlLs",v:[]};for(var n=0;n<256;n++)b.Mpng.v[n]={t:"long",v:W[n]}}b={t:"Objc",v:b};var X=r.Adjs.v,D=fB.Bm(X,Q);
if(D==-1)X.push(b);else X[D]=b};f0.S5=function(r,Q){var W=r.Adjs.v,b=fB.Bm(W,Q);if(b==-1){if(W.length==0||W[0].v.Crv)return[E.FB.gt(0,0,!0),E.FB.gt(255,255,!0)];
if(W[0].v.autoMachineLearning||W[0].v.AuCo)return[E.FB.gt(0,0,!0),E.FB.gt(128,160,!0),E.FB.gt(255,255,!0)];
var X=[];for(var n=0;n<256;n++)X.push(n);return X}var D=W[b].v;if(D.Crv)return D.Crv.v;if(D.Mpng){var X=[];
for(var n=0;n<256;n++)X.push(D.Mpng.v[n].v);return X}return[E.FB.gt(0,0,!0),E.FB.gt(255,255,!0)]};f0.Tc=function(r,Q){var W=[],b=c.KV(r,Q);
Q+=2;for(var X=0;X<b;X++){var D=c.KV(r,Q);Q+=2;var h=c.KV(r,Q);Q+=2;W.push(h,D)}return W};f0.awR=function(r,Q,W){var b=W.length/2;
c.yi(r,Q,b);Q+=2;for(var X=0;X<b;X++){c.yi(r,Q,W[X*2+1]);Q+=2;c.yi(r,Q,W[X*2+0]);Q+=2}};f0.ay7=function(r,Q){var W=[];
for(var n=0;n<256;n++)W.push(r[Q+n]);return W};f0.amW=function(r,Q,W){r.Jd(Q,256);for(var n=0;n<256;
n++)r.data[Q+n]=W[n]};function ku(){}ku.Yz=function(r,Q,W){var b={},X=c.KV(r,Q);Q+=2;b.uR=r[Q]==1;Q++;
Q++;b.ls=[c.I0(r,Q),c.I0(r,Q+2),c.I0(r,Q+4)];Q+=6;b.SZ=[c.I0(r,Q),c.I0(r,Q+2),c.I0(r,Q+4)];Q+=6;b.n2=[];
for(var n=0;n<6;n++){var D={};D.o_=[c.I0(r,Q),c.I0(r,Q+2),c.I0(r,Q+4),c.I0(r,Q+6)];Q+=8;D.mv=[c.I0(r,Q),c.I0(r,Q+2),c.I0(r,Q+4)];
Q+=6;b.n2.push(D)}var h=jv.fp("hue2"),S=b;if(h.Clrz==null)h.Clrz={t:"bool",v:!1};h.Clrz.v=S.uR;for(var n=0;
n<7;n++){var a=n==0?S.uR?S.ls:S.SZ:S.n2[n-1];ku.Q_(h,n,a)}return h};ku.aty=function(r){return{classID:"Hst2",H:{t:"long",v:r[0]},Strt:{t:"long",v:r[1]},Lght:{t:"long",v:r[2]}}};
ku.Bm=function(r,Q){for(var n=0;n<r.length;n++){var W=r[n].v.LclR;if(Q==0&&W==null||W!=null&&W.v==Q)return n}return-1};
ku.Q_=function(r,Q,W){var b=Q==0?W:W.mv,X=ku.aty(b);if(Q!=0){var D=W.o_;X.LclR={t:"long",v:Q},X.BgnR={t:"long",v:D[0]};
X.BgnS={t:"long",v:D[1]};X.EndS={t:"long",v:D[2]};X.EndR={t:"long",v:D[3]}}X={t:"Objc",v:X};var h=r.Adjs.v,S=ku.Bm(h,Q);
if(S==-1)h.push(X);else h[S]=X};ku.S5=function(r,Q){var W=r.Adjs.v,b=ku.Bm(W,Q);if(b==-1){if(Q==0)return[0,0,0];
else return[{o_:[315,345,15,45],mv:[0,0,0]},{o_:[15,45,75,105],mv:[0,0,0]},{o_:[75,105,135,165],mv:[0,0,0]},{o_:[135,165,195,225],mv:[0,0,0]},{o_:[195,225,255,285],mv:[0,0,0]},{o_:[255,285,315,345],mv:[0,0,0]}][Q-1]}var X=W[b].v,D=[X.H.v,X.Strt.v,X.Lght.v];
if(Q==0)return D;return{mv:D,o_:[X.BgnR.v,X.BgnS.v,X.EndS.v,X.EndR.v]}};ku.PY=function(r,Q,W){var b={uR:W.Clrz?W.Clrz.v:!1,n2:[]};
b.ls=b.SZ=ku.S5(W,0);for(var n=1;n<7;n++)b.n2.push(ku.S5(W,n));var X=2+2+12+6*14,D=r.data;r.Jd(Q,X);
c.MJ(D,Q,2);Q+=2;D[Q]=b.uR?1:0;Q++;Q++;c.HC(D,Q+0,b.ls[0]);c.HC(D,Q+2,b.ls[1]);c.HC(D,Q+4,b.ls[2]);Q+=6;
c.HC(D,Q+0,b.SZ[0]);c.HC(D,Q+2,b.SZ[1]);c.HC(D,Q+4,b.SZ[2]);Q+=6;for(var n=0;n<6;n++){var h=b.n2[n].o_,S=b.n2[n].mv;
c.HC(D,Q+0,h[0]);c.HC(D,Q+2,h[1]);c.HC(D,Q+4,h[2]);c.HC(D,Q+6,h[3]);Q+=8;c.HC(D,Q+0,S[0]);c.HC(D,Q+2,S[1]);
c.HC(D,Q+4,S[2]);Q+=6}return X};function fB(){}fB.ak=function(r){var Q=new Uint8Array(r),W=2,b=[];for(var n=0;
n<29;n++){var X=[];b.push(X);for(var D=0;D<5;D++)X.push(c.KV(Q,W+n*10+D*2))}W+=29*10;if(W<Q.length){var h=c.zV(Q,W,4);
W+=4;var S=c.KV(Q,W);W+=2;var a=c.KV(Q,W);W+=2;var K=a-29;for(var n=0;n<K;n++){var X=[];b.push(X);for(var D=0;
D<5;D++)X.push(c.KV(Q,W+n*10+D*2))}}var Y=jv.fp("levl");for(var n=0;n<4;n++)fB.Q_(Y,n,b[n]);return Y};
fB.rz=function(r,n){var Q=["Cmps","Rd","Grn","Bl"],W={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:Q[n]}}]};
return{classID:r,Chnl:W}};fB.Bm=function(r,Q){var W={Cmps:0,Rd:1,Grn:2,Bl:3};for(var n=0;n<r.length;
n++){var b=r[n].v,X=W[b.Chnl.v[0].v.enum];if(X==Q)return n}return-1};fB.Q_=function(r,Q,W){var b=fB.rz("LvlA",Q);
b.Inpt={t:"VlLs",v:[{t:"long",v:W[0]},{t:"long",v:W[1]}]};b.Otpt={t:"VlLs",v:[{t:"long",v:W[2]},{t:"long",v:W[3]}]};
b.Gmm={t:"doub",v:W[4]/100};b={t:"Objc",v:b};var X=r.Adjs.v,D=fB.Bm(X,Q);if(D==-1)X.push(b);else X[D]=b};
fB.S5=function(r,Q){var W=[0,255,0,255,100],b=r.Adjs.v,X=fB.Bm(b,Q);if(X==-1)return W;var D=b[X].v;if(D.Inpt){W[0]=D.Inpt.v[0].v;
W[1]=D.Inpt.v[1].v}if(D.Otpt){W[2]=D.Otpt.v[0].v;W[3]=D.Otpt.v[1].v}if(D.Gmm){W[4]=Math.round(D.Gmm.v*100)}return W};
fB.cg=function(r,Q){var W=[],b=0;for(var n=0;n<4;n++)W.push(fB.S5(Q,n));while(W.length<29)W.push([0,255,0,255,100]);
r.Jd(0,2+10*29);c.MJ(r.data,b,2);b+=2;for(var n=0;n<29;n++){var X=W[n];for(var D=0;D<5;D++)c.MJ(r.data,b+n*10+D*2,X[D])}b+=29*10;
if(W.length==29)return b;r.Jd(b,8+10*(W.length-29));c._a(r.data,b,"Lvls");b+=4;c.MJ(r.data,b,3);b+=2;
c.MJ(r.data,b,W.length);b+=2;var h=W.length-29;for(var n=0;n<h;n++){var X=W[29+n];for(var D=0;D<5;D++)c.MJ(r.data,b+n*10+D*2,X[D])}b+=10*h;
return b};function iz(){}iz.ak=function(r){var Q=new Uint8Array(r),W=2,b={DI:[],YX:[]},X=c.zV(Q,W,4);
W+=4;var D=c.KV(Q,W);W+=2;var h=c.v(Q,W);W+=4;b.DI=dh.g5(Q,W,h);W+=h;var S=c.v(Q,W);W+=4;for(var n=0;
n<S;n++){var a=c.v(Q,W);W+=4;var K=W,Y={F_:{},qt:{}};b.YX.push(Y);W+=4;W+=bl.Z6(Q,Y.F_,W);W+=4;W+=bl.Z6(Q,Y.qt,W);
W=K+a;var d=Y.qt.blendOptions,j=Y.qt.Lefx;if(d&&Object.keys(d.v).length>1){}if(j){if(j.v.masterFXSwitch==null)j.v.masterFXSwitch={t:"bool",v:!0};
bK.kc(j.v)}}return b};iz.Ll=function(r,Q){r.F_.Nm.v=Q};iz.cg=function(r){var Q=new f8,W=0;c.yi(Q,W,2);
W+=2;c.oo(Q,W,"8BSL");W+=4;c.yi(Q,W,3);W+=2;var b=W;W+=4;W=dh.Pa(Q,W,r.DI);c.Jp(Q,b,W-b-4);var X=r.YX.length;
c.Jp(Q,W,X);W+=4;for(var n=0;n<X;n++){W+=4;var D=W,h=r.YX[n];c.Jp(Q,W,16);W+=4;W+=bl.X3(Q,h.F_,W);var S=h.qt.Lefx;
if(S){h.qt.Lefx=JSON.parse(JSON.stringify(S));bK.Cq(h.qt.Lefx.v)}c.Jp(Q,W,16);W+=4;W+=bl.X3(Q,h.qt,W);
if(S)h.qt.Lefx=S;c.Jp(Q,D-4,W-D)}return Q.data.slice(0,W).buffer};function b3(){}b3.Yz=function(r,Q,W){var b=c.KV(r,Q);
Q+=2;var X={};X.cJ=c.KV(r,Q)==1;Q+=2;X.p1=[];for(var n=0;n<10;n++){var D=[];X.p1.push(D);for(var h=0;
h<4;h++)D.push(c.I0(r,Q+h*2));Q+=8}var S=jv.fp("selc");S.Mthd.v.CrcM=X.cJ?"Absl":"Rltv";for(var n=1;
n<10;n++)b3.Q_(S,n-1,X.p1[n]);return S};b3.Q8="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
b3.rz=function(r,n){var Q=["Cmps","Rd","Grn","Bl"],W={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:Q[n]}}]};
return{classID:r,Chnl:W}};b3.Bm=function(r,Q){var W=b3.Q8;for(var n=0;n<r.length;n++){var b=r[n].v,X=W.indexOf(b.Clrs.v.Clrs);
if(X==Q)return n}return-1};b3.Q_=function(r,Q,W){var b=["Cyn","Mgnt","Ylw","Blck"],X={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:b3.Q8[Q]}}};
for(var D=0;D<4;D++)X[b[D]]={t:"UntF",v:{type:"#Prc",val:W[D]}};X={t:"Objc",v:X};var h=r.ClrC.v,S=b3.Bm(h,Q);
if(S==-1)h.push(X);else h[S]=X};b3.S5=function(r,Q){var W=[0,0,0,0],b=r.ClrC.v,X=b3.Bm(b,Q);if(X==-1)return W;
var D=["Cyn","Mgnt","Ylw","Blck"];for(var n=0;n<4;n++)if(b[X].v[D[n]])W[n]=b[X].v[D[n]].v.val;return W};
b3.PY=function(r,Q,W){var b={cJ:W.Mthd.v.CrcM=="Absl",p1:[[0,0,0,0]]};for(var n=0;n<9;n++)b.p1.push(b3.S5(W,n));
r.Jd(Q,84);c.MJ(r.data,Q,1);Q+=2;c.MJ(r.data,Q,b.cJ?1:0);Q+=2;for(var n=0;n<10;n++){var X=b.p1[n];for(var D=0;
D<4;D++)c.HC(r.data,Q+D*2,X[D]);Q+=8}return 84};function fK(){}fK.fp=function(){return{Wr:new aV(0,0,50,50),F_:"",iy:"play",V:E.A.lF.h9([.1,.1,.9,.5,.1,.9],0)}};
fK.ak=function(r){r=new Uint8Array(r);var Q=0,W=[],b=Date.now(),X=c.zV(r,0,4);Q+=4;var D=c.v(r,Q);Q+=4;
var h=c.v(r,Q);Q+=4;for(var n=0;n<h;n++){var S=c.Fb(r,Q);Q+=S.length*2+4+2;if((S.length&1)==0)Q+=2;Q=fK.CM(r,Q,S,W)}return W};
fK.CM=function(r,Q,W,b){var X=c.v(r,Q);Q+=4;var D=c.v(r,Q);Q+=4;var h=Q,S=c.eH(r,h).Nv;h+=S.length+1;
var a=c.Lg(r,h);h+=16;var K=fK.bf(r,h,D-(h-Q)),Y=E.A.Sy(K),d=E.p.Z3(Y),j=1/d.e,U=1/d.n;E.A.Zl(K,new au(j,0,0,U,-d.x*j,-d.y*U));
b.push({iy:W,F_:S,V:K,Wr:a});Q+=D;return Q};fK.Ll=function(r,Q){r.iy=Q};fK.cg=function(r){var Q=new f8,W=0;
c.oo(Q,W,"cush");W+=4;c.Jp(Q,W,2);W+=4;c.Jp(Q,W,r.length);W+=4;for(var n=0;n<r.length;n++){var b=r[n],X=b.iy+"\0";
c.bs(Q,W,X);W+=4+X.length*2;if((X.length&1)==1)W+=2;c.Jp(Q,W,1);W+=4;W+=4;var D=W;c.fN(Q,W,b.F_);W+=b.F_.length+1;
c.se(Q,W,b.Wr);W+=16;Q.Jd(W,b.V.length*26);fK.Er(Q.data,W,b.V,1,1);W+=b.V.length*26;var h=W-D;if((h&3)!=0)h+=4-(h&3);
c.Jp(Q,D-4,h);W=D+h}return Q.data.slice(0,W).buffer};fK.a41=function(r){var Q=[];for(var n=0;n<r.length;
n++){var W=r[n],b=W.type,X={type:b};Q.push(X);if(b==6){}else if(b==8)X.all=W.all;else if(b==0||b==3){X.length=W.length;
X.frule=W.xo;X.third=W.bu;X.prmA=W.jM;X.prmB=W.eV}else{X.c=[W.f0.x,W.f0.y,W.F.x,W.F.y,W.rP.x,W.rP.y]}}return Q};
fK.NK=function(r){var Q=[];for(var n=0;n<r.length;n++){var W=r[n],b=W.type,X={type:b};Q.push(X);if(b==6){}else if(b==8)X.all=W.all;
else if(b==0||b==3){X.length=W.length;X.xo=W.frule;X.bu=W.third;X.jM=W.prmA;X.eV=W.prmB}else{var D=W.c;
X.f0=new cp(D[0],D[1]);X.F=new cp(D[2],D[3]);X.rP=new cp(D[4],D[5])}}return Q};fK.bf=function(r,Q,W,b,X){if(b==null)b=1;
if(X==null)X=1;function D(f,g,H){var u=c.a13(f,g)*H,s=Math.round(u);return Math.abs(u-s)<1e-6?s:u}var h=c.I0,S=[],a=Math.floor(W/26);
for(var n=0;n<a;n++){var K=Q+n*26,Y={},d=0;S.push(Y);Y.type=h(r,K);K+=2;if(Y.type==6){d=24}if(Y.type==8){Y.all=h(r,K);
K+=2;d=22}if(Y.type==0||Y.type==3){Y.length=h(r,K);K+=2;Y.xo=h(r,K);K+=2;Y.bu=h(r,K);K+=2;Y.jM=c.v(r,K);
K+=4;Y.eV=c.v(r,K);K+=4;d=10}if(Y.type==1||Y.type==2||Y.type==4||Y.type==5){var j,U;U=D(r,K,X);K+=4;
j=D(r,K,b);K+=4;Y.f0=new cp(j,U);U=D(r,K,X);K+=4;j=D(r,K,b);K+=4;Y.F=new cp(j,U);U=D(r,K,X);K+=4;j=D(r,K,b);
K+=4;Y.rP=new cp(j,U);d=0}for(var I=0;I<d;I++)if(r[K+I]!=0){console.log("Unexpected non-zero byte!",Y,I,r[K+I])}}return S};
fK.Er=function(r,Q,W,b,X){var D=c.HC,h=c.uB,S=W.length;for(var n=0;n<S;n++){var a=Q+n*26,K=W[n];D(r,a,K.type);
a+=2;if(K.type==6){}if(K.type==8)D(r,a,K.all);if(K.type==0||K.type==3){D(r,a,K.length);a+=2;D(r,a,K.xo);
a+=2;D(r,a,K.bu);a+=2}if(K.type==1||K.type==2||K.type==4||K.type==5){h(r,a,K.f0.y/X);a+=4;h(r,a,K.f0.x/b);
a+=4;h(r,a,K.F.y/X);a+=4;h(r,a,K.F.x/b);a+=4;h(r,a,K.rP.y/X);a+=4;h(r,a,K.rP.x/b);a+=4}}};function ia(){}ia.ak=function(r){var Q=new Uint8Array(r),W=[],b=0;
if(c.zV(Q,0,4)=="ASEF")W=ia.ack(Q);else{b=ia.vz(Q,b,W);if(b+3<Q.length){W=[];b=ia.vz(Q,b,W)}}return W};
ia.ack=function(r){var Q=[],W=8,b=c.v(r,W),X,D=null,h,S,a,K;W+=4;for(var Y=0;Y<b;Y++){var d=c.KV(r,W);
W+=2;var j=c.v(r,W);W+=4;var U=W+j;if(d==49153||d==1){var I=c.KV(r,W);W+=2;var f=c.mf(r,W,I-1);W+=I*2;
if(d==1)X=f;else D=f}if(d==1){var g=c.zV(r,W,4);W+=4;h=c.sJ(r,W);W+=4;S=c.sJ(r,W);W+=4;a=c.sJ(r,W);W+=4;
if(g=="RGB "){}else if(g=="CMYK"){K=c.sJ(r,W);W+=4;var H=UDOC.C.cmykToRgb([h,S,a,K]);h=H[0];S=H[1];a=H[2]}else alert("Unknown color space: "+g);
Q.push({o:h*255,W:S*255,k:a*255,VZ:(D?D+" : ":"")+X})}W=U}return Q};ia.vz=function(r,Q,W){var b=c.KV,X=c.I0,D=b(r,Q);
Q+=2;var h=b(r,Q);Q+=2;for(var n=0;n<h;n++){var S=ia.cG(r,Q);Q+=10;if(D==2){S.VZ=c.Fb(r,Q);Q+=4+S.VZ.length*2+2}W.push(S)}return Q};
ia.cG=function(r,Q){var W=c.KV,b=c.I0,X=W(r,Q),U=null;Q+=2;var D=W(r,Q);Q+=2;var h=W(r,Q);Q+=2;var S=W(r,Q);
Q+=2;var a=W(r,Q);Q+=2;var K=1/65535,Y=255/65535,d=100/65535,j=255/1e4;if(X==0)U={o:D*Y,W:h*Y,k:S*Y};
else if(X==1){U=E.gB(D*K,h*K,S*K);U.o*=255;U.W*=255;U.k*=255}else if(X==2)U=E.M.vf({classID:"CMYC",Cyn:{t:"doub",v:100-D*d},Mgnt:{t:"doub",v:100-h*d},Ylw:{t:"doub",v:100-S*d},Blck:{t:"doub",v:100-a*d}});
else if(X==7){var I=E.BN(D/100,b(r,Q-6)/100,b(r,Q-4)/100);U=I}else if(X==8){U={o:255-D*j,W:255-h*j,k:255-S*j}}else throw"e "+X+", ";
return U};ia.cg=function(r){var Q=new f8,W=0,b=c.yi;b(Q,W,2);W+=2;b(Q,W,r.length);W+=2;for(var n=0;n<r.length;
n++){var X=r[n];Q.Jd(W,10);ia.qp(Q.data,W,X);W+=10;var D=(X.VZ?X.VZ:"")+"\0";c.bs(Q,W,D);W+=4+D.length*2}return Q.data.slice(0,W).buffer};
ia.Ll=function(r,Q){r.VZ=Q};ia.qp=function(r,Q,W){var b=65535/255,X=c.MJ;X(r,Q,0);X(r,Q+2,Math.round(W.o*b));
X(r,Q+4,Math.round(W.W*b));X(r,Q+6,Math.round(W.k*b));X(r,Q+8,0)};function gj(){}gj.ak=function(r){var Q=new Uint8Array(r),W=4,b={};
b.Cv=c.Fb(Q,W);W+=4+b.Cv.length*2+2;b.exp=Q[W++]==1;b.qv=[];var X=c.v(Q,W);W+=4;for(var n=0;n<X;n++){var D={};
b.qv.push(D);D.C_=c.KV(Q,W);W+=2;D.shift=Q[W++]==1;D.amx=Q[W++]==1;D.color=c.KV(Q,W);W+=2;D.Cv=c.Fb(Q,W);
W+=4+D.Cv.length*2+2;D.exp=Q[W++]==1;D.qv=[];var h=c.v(Q,W);W+=4;for(var S=0;S<h;S++){var a={};D.qv.push(a);
a.exp=Q[W++]==1;a.w=Q[W++]==1;a.aqM=Q[W++]==1;a.alW=Q[W++];var K=c.zV(Q,W,4);W+=4;if(K=="TEXT"){a.r7=gj.Qu(Q,W);
W+=4+a.r7.length}else if(K=="long"){a.r7=c.zV(Q,W,4);W+=4}else throw"e";a.k6=gj.Qu(Q,W);W+=4+a.k6.length;
var Y=c.Kv(Q,W);W+=4;if(Y==-1){a.Hf={};var d=bl.Z6(Q,a.Hf,W);W+=d}}}console.log(b);var j=new Uint8Array(gj.cg(b));
for(var n=0;n<j.length;n++)if(j[n]!=Q[n]&&c.zV(Q,n+1,4)!="None"){console.log(Q.length,j.length);var U=4*(n>>>2)-16;
console.log(c.rd(Q,U,64));console.log(c.rd(j,U,64));console.log(Q.slice(U,U+64));console.log(j.slice(U,U+64));
throw"i"}return[b]};gj.Qu=function(r,Q){var W=c.v(r,Q);return c.zV(r,Q+4,W)};gj.iM=function(r,Q,W){c.Jp(r,Q,W.length);
c.oo(r,Q+4,W)};gj.cg=function(r){var Q=new f8,W=0;c.Jp(Q,W,16);W+=4;c.bs(Q,W,r.Cv+"\0");W+=4+r.Cv.length*2+2;
Q.Jd(W,1);Q.data[W++]=r.exp?1:0;var b=r.qv.length;c.Jp(Q,W,b);W+=4;for(var n=0;n<b;n++){var X=r.qv[n];
c.yi(Q,W,X.C_);W+=2;Q.Jd(W,2);Q.data[W++]=X.shift?1:0;Q.data[W++]=X.amx?1:0;c.yi(Q,W,X.color);W+=2;c.bs(Q,W,X.Cv+"\0");
W+=4+X.Cv.length*2+2;Q.Jd(W,1);Q.data[W++]=X.exp?1:0;var D=X.qv.length;c.Jp(Q,W,D);W+=4;for(var h=0;
h<D;h++){var S=X.qv[h];Q.Jd(W,4);Q.data[W++]=S.exp?1:0;Q.data[W++]=S.w?1:0;Q.data[W++]=S.aqM?1:0;Q.data[W++]=S.alW;
var a="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr".split(" ").indexOf(S.r7)!=-1;c.oo(Q,W,a?"long":"TEXT");W+=4;
if(!a){gj.iM(Q,W,S.r7);W+=4+S.r7.length}else{c.oo(Q,W,S.r7);W+=4}gj.iM(Q,W,S.k6);W+=4+S.k6.length;c.Rd(Q,W,S.Hf?-1:0);
W+=4;if(S.Hf){var K=bl.X3(Q,S.Hf,W);W+=K}}}return Q.data.slice(0,W).buffer};function jd(){}jd.ak=function(r){var Q=new Uint8Array(r),W=0,b=c.v(Q,W),a;
W+=4;var X=c.zV(Q,W,8);W+=8;var D=c.aN(Q,W);W+=4;var h=c.aN(Q,W);W+=4;var S=c.aN(Q,W);W+=4;if(b==2){a=new Float32Array(r,32,r.byteLength-32>>>2)}else if(b==3||b==4){a=new Float32Array(h*S*2);
var K=0,Y=0,d=!0;W=b==3?32:16+8+40;while(W<Q.length){var j=c.aN(Q,W);W+=4;if(d)Y+=j;else{for(var n=0;
n<j;n++){a[K+Y+n<<1]=c.Pv(Q,W);a[(K+Y+n<<1)+1]=c.Pv(Q,W+4);W+=8}Y+=j}d=!d;if(j!=0&&Y==h){K+=h;Y=0;d=!0;
if(K==h*S)break}}}else throw"unknown Mesh version: "+b;return{Dr:h,J9:S,map:a}};jd.T4=function(r){var Q=r.Dr,W=r.J9,b=r.map,X=new Uint8Array(32+W*Q*8+W*8),D=0,h=0;
c.hC(X,D,3);D+=4;c._a(X,D,"yfqLhseM");D+=8;c.lw(X,D,2);D+=4;c.lw(X,D,Q);D+=4;c.lw(X,D,W);D+=4;c.lw(X,D,0);
D+=4;c.lw(X,D,1);D+=4;for(var S=0;S<W;S++){c.lw(X,D,0);D+=4;c.lw(X,D,Q);D+=4;for(var a=0;a<Q;a++){c.KR(X,D,b[h]);
c.KR(X,D+4,b[h+1]);h+=2;D+=8}}return X.buffer};function i2(){}i2.ak=function(r){var Q=new Uint8Array(r),W=0,b=c.zV(Q,W,4);
W+=4;var X=c.KV(Q,W);W+=2;var D=c.v(Q,W);W+=4;var h=[];for(var n=0;n<D;n++){var S=c.v(Q,W);W+=4;var a={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
h.push(a);var K=c.Fb(Q,W);a.Nm.v=K;W+=4+K.length*2+2;var Y=c.KV(Q,W);W+=2;var d=c.KV(Q,W);W+=2;for(var j=0;
j<d;j++){var U=E.FB.gt(0,0,!0);U.v.Vrtc.v=c.KV(Q,W);W+=2;U.v.Hrzn.v=c.KV(Q,W);W+=2;a.Crv.v.push(U)}if(S==1){}else if(S==2){for(var j=0;
j<d;j++){a.Crv.v[j].v.Cnty.v=Q[W]==1;W+=1}}else throw"error";var I=c.v(Q,W);W+=4;var f=c.v(Q,W);W+=4}return h};
i2.Ll=function(r,Q){r.Nm.v=Q};i2.cg=function(r){var Q=new f8,W=0;c.oo(Q,W,"8BFS");W+=4;c.yi(Q,W,1);W+=2;
c.Jp(Q,W,r.length);W+=4;for(var n=0;n<r.length;n++){c.Jp(Q,W,2);W+=4;var b=r[n];c.bs(Q,W,b.Nm.v+"\0");
W+=4+b.Nm.v.length*2+2;c.yi(Q,W,2);W+=2;var X=b.Crv.v.length;c.yi(Q,W,X);W+=2;for(var D=0;D<X;D++){var h=b.Crv.v[D];
c.yi(Q,W,h.v.Vrtc.v);W+=2;c.yi(Q,W,h.v.Hrzn.v);W+=2}Q.Jd(W,X);for(var D=0;D<X;D++){Q.data[W]=b.Crv.v[D].v.Cnty.v;
W++}c.Jp(Q,W,0);W+=4;c.Jp(Q,W,0);W+=4}return Q.data.slice(0,W).buffer};function dh(){}dh.ak=function(r){var Q=new Uint8Array(r),W=4,b=c.KV(Q,W);
W+=2;var X=c.v(Q,W);W+=4;var D=[];for(var n=0;n<X;n++){var h={};D.push(h);W=dh._7(Q,W,h)}return D};dh.Ll=function(r,Q){r.name=Q};
dh.cg=function(r){var Q=new f8,W=0;c.oo(Q,W,"8BPT");W+=4;c.yi(Q,W,1);W+=2;c.Jp(Q,W,r.length);W+=4;for(var n=0;
n<r.length;n++){W=dh.V_(Q,W,r[n])}return Q.data.slice(0,W).buffer};dh.g5=function(r,Q,W){var b=Q+W,X=[];
while(Q<b){var D={},h=c.v(r,Q);Q+=4;var S=Q;Q=dh._7(r,Q,D);if(!D.G5[1].WB())X.push(D);if(h%4!=0)h+=4-h%4;
Q=S+h}return X};dh.Pa=function(r,Q,W){for(var n=0;n<W.length;n++){var b=W[n];Q+=4;var X=Q;Q=dh.V_(r,Q,b);
var D=Q-X;c.Jp(r,X-4,D);if(D%4!=0)X+=4-D%4;Q=X+D}return Q};dh._7=function(r,Q,W){var b=c.v(r,Q);Q+=4;
if(b!=1)alert("Unknown version of pattern");var X=c.v(r,Q);Q+=4;if(X!=1&&X!=2&&X!=3)console.log("Unsupported mode of pattern: "+X);
var D=c.KV(r,Q);Q+=2;var h=c.KV(r,Q);Q+=2;var S=new aV(0,0,h,D);W.name=c.Fb(r,Q);Q+=4+2*W.name.length+2;
var a=r[Q];Q++;W.id=c.zV(r,Q,a);Q+=W.id.length;var K=-1;if(X==2){K=Q;Q+=3*256+4}var Y=new E.yC(h*D);
Q=dh.afL(r,Q,Y);if(X==2){for(var n=0;n<Y.o.length;n++){var d=3*Y.o[n];Y.o[n]=r[K+d+0];Y.W[n]=r[K+d+1];
Y.k[n]=r[K+d+2]}}var j=E.Q(S.O()*4);E.b8(Y,j);W.G5=[j,S];return Q};dh.V_=function(r,Q,W){var b=W.G5[0],X=W.G5[1];
c.Jp(r,Q,1);Q+=4;c.Jp(r,Q,3);Q+=4;c.yi(r,Q,X.n);Q+=2;c.yi(r,Q,X.e);Q+=2;c.bs(r,Q,W.name+"\0");Q+=4+2*W.name.length+2;
c.yw(r,Q,W.id.length);Q++;c.oo(r,Q,W.id);Q+=W.id.length;var D=new E.yC(X.O());E.q_(b,D);Q=dh.av1(r,Q,D,X);
return Q};dh.afL=function(r,Q,W){var b=Q,X={nX:null,Vu:[],ayr:null,sh:null},D=c.v(r,Q);Q+=4;var h=c.v(r,Q);
Q+=4;X.nX=c.Lg(r,Q);Q+=16;var S=c.v(r,Q);Q+=4;for(var n=0;n<S+2;n++){var a=c.v(r,Q);Q+=4;if(a==0)continue;
var K=c.v(r,Q);Q+=4;if(K==0)continue;var Y=c.v(r,Q);Q+=4;var d=c.Lg(r,Q);Q+=16;var j=c.KV(r,Q);Q+=2;
var U=r[Q];Q++;var I=et.hO(!1,Y,r,d.e,d.n,Q,U);if(n<S)X.Vu.push(I);if(n==S)X.ayr=I;if(n==S+1)X.sh=I;
Q+=K-23}if(!X.nX.WB()){if(X.Vu[0])W.o=X.Vu[0];if(X.Vu[1])W.W=X.Vu[1];else W.W=X.Vu[0].slice(0);if(X.Vu[2])W.k=X.Vu[2];
else W.k=X.Vu[0].slice(0);if(X.sh)W.mu=X.sh;else W.mu.fill(255)}return Q};dh.av1=function(r,Q,W,b){var X=Q,D={nX:b,Vu:[W.o,W.W,W.k],ayr:null,sh:W.mu};
c.Jp(r,Q,3);Q+=4;c.Jp(r,Q,0);Q+=4;c.se(r,Q,b);Q+=16;c.Jp(r,Q,24);Q+=4;for(var n=0;n<24+2;n++){var h=Q,S=n<3||n==25?1:0;
c.Jp(r,Q,S);Q+=4;if(S==0)continue;c.Jp(r,Q,0);Q+=4;c.Jp(r,Q,8);Q+=4;c.se(r,Q,b);Q+=16;c.yi(r,Q,8);Q+=2;
c.yw(r,Q,1,1);Q++;var a=n<3?D.Vu[n]:D.sh;r.Jd(Q,b.O()+2);Q=et.Bx(!1,a,r.data,b.e,b.n,Q,1);c.Jp(r,h+4,Q-h-8)}c.Jp(r,X+4,Q-X-8);
return Q};function d9(){}d9.ak=function(r){var Q=new Uint8Array(r),W=0;if(Q[0]==71)return d9.a1o(Q);
var b=c.zV(Q,W,4);W+=4;var X=c.KV(Q,W);W+=2;var D=[];if(X<=3){var h=c.KV(Q,W);W+=2;for(var n=0;n<h;n++){var S=Q[W++],a=c.zV(Q,W,S);
W+=S;var K=d9.l_(Q,W,a),Y=K[0];W=K[1];D.push(Y)}}else{var K={},d=bl.Z6(Q,K,W+4),j=K.GrdL.v;for(var n=0;
n<j.length;n++)D[n]=j[n].v.Grad.v}return D};d9.Ll=function(r,Q){r.Nm.v=Q};d9.cg=function(r){var Q=new f8,W=0;
c.oo(Q,W,"8BGR");W+=4;c.yi(Q,W,5);W+=2;c.Jp(Q,W,16);W+=4;var b={classID:"null",GrdL:{t:"VlLs",v:[]}},X=b.GrdL.v;
for(var n=0;n<r.length;n++)X[n]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:r[n]}}};
W+=bl.X3(Q,b,W);return Q.data.slice(0,W).buffer};d9.l_=function(r,Q,W){var b={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:W},Trns:{t:"VlLs",v:[]}},X=c.KV(r,Q);
Q+=2;if(X==0)throw"e";for(var n=0;n<X;n++){var D=c.v(r,Q),h=c.v(r,Q+4),S=ia.cG(r,Q+8),a={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:S.o},Grn:{t:"doub",v:S.W},Bl:{t:"doub",v:S.k}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:D},Mdpn:{t:"long",v:h}}};
b.Clrs.v.push(a);Q+=20}var K=c.KV(r,Q);Q+=2;for(var n=0;n<K;n++){var D=c.v(r,Q),h=c.v(r,Q+4),Y=c.KV(r,Q+8),a={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*Y/255)}},Lctn:{t:"long",v:D},Mdpn:{t:"long",v:h}}};
b.Trns.v.push(a);Q+=10}var d=c.KV(r,Q);Q+=2;if(d!=2)throw d;b.Intr.v=c.KV(r,Q);Q+=2;var j=c.KV(r,Q);
Q+=2;if(j!=32)throw"e";return[b,Q]};d9.ahh=function(r,Q,W){var b=W.Clrs.v.length;c.yi(r,Q,b);Q+=2;for(var n=0;
n<b;n++){var X=W.Clrs.v[n];c.Jp(r,Q,X.v.Lctn.v);c.Jp(r,Q+4,X.v.Mdpn.v);c.yi(r,Q+8,0);var D=E.M.rY(E.M.vf(X.v.Clr.v)),h=[D.Rd.v,D.Grn.v,D.Bl.v,0];
for(var S=0;S<4;S++)c.yi(r,Q+10+S*2,Math.round(65535*(h[S]/255)));Q+=20}var a=W.Trns.v.length;c.yi(r,Q,a);
Q+=2;for(var n=0;n<a;n++){var X=W.Trns.v[n];c.Jp(r,Q,X.v.Lctn.v);c.Jp(r,Q+4,X.v.Mdpn.v);c.yi(r,Q+8,Math.round(255*X.v.Opct.v.val/100));
Q+=10}c.yi(r,Q,2);Q+=2;c.yi(r,Q,W.Intr.v);Q+=2;c.yi(r,Q,32);Q+=2;return Q};d9.a1o=function(r){var Q=c.CA(r,0,r.length).split("\n"),W=parseFloat(Q[2]),b=[],X=JSON.parse(iq.WS[iq.order.indexOf("GrFl")]).Grad.v;
X.Intr.v=0;X.Nm.v=Q[1];for(var n=0;n<W;n++){var D=Q[3+n].split(" ").map(parseFloat),h=D[11],S=D[12];
b.push([D[0],D.slice(3,6),D[6]]);if(S!=0){var a=E.kd(D[3],D[4],D[5]),K=E.kd(D[7],D[8],D[9]),Y=a.J9,d=K.J9;
if(S==1&&Y>d)d++;if(S==2&&Y<d)Y++;var j=Math.round(Math.abs(d-Y)*7);if(j>1)for(var U=0;U<j;U++){var I=1-(U+1)/(j+1),f=1-I,g=E.gB(I*Y+f*d,I*a.Am+f*K.Am,I*a.UM+f*K.UM);
b.push([I*D[0]+f*D[2],[g.o,g.W,g.k],I*D[6]+f*D[10]])}}b.push([D[2],D.slice(7,10),D[10]])}b.sort(function(H,u){return H[0]-u[0]});
E.M.Bn(b,X);return[X]};function c1(){}c1.ak=function(r){var Q=new Uint8Array(r),W=[],b=[],X=[],D=[],h=[],S=0,a=c.zV(Q,S,4);
S+=4;var K=c.v(Q,S);S+=4;var Y=c.v(Q,S);S+=4;while(S<Q.length){var d=c.zV(Q,S,4);S+=4;var j=c.zV(Q,S,4);
S+=4;var U=c.v(Q,S);S+=4;if(j=="tppa"){b=dh.g5(Q,S,U);S+=U}else if(j=="tpbd"){X=k5.Zy(Q,S,U,1,1);S+=U}else if(j=="tptp"){var I=c.v(Q,S);
S+=4;for(var n=0;n<I;n++){var f=c.Fb(Q,S);S+=6+f.length*2;S+=4;var g={};S+=bl.Z6(Q,g,S);W.push([f,g])}while((S&3)!=0)S++}else if(j=="tpsh"){var H=S,u=Q.slice(S,S+U);
while(S<H+U){var s=c.v(Q,S);S+=4;S=fK.CM(Q,S,"Shape",D)}S=H+U}else if(j=="tpst"){var H=S;S+=4;while(S<H+U){var _=c.v(Q,S);
S+=4;var i=S,M=c.v(Q,S);S+=4;var g={F_:{},qt:{}};h.push(g);S+=4;S+=bl.Z6(Q,g.F_,S);S+=4;S+=bl.Z6(Q,g.qt,S);
S=i+_;var T=g.qt.Lefx;if(T){if(T.v.masterFXSwitch==null)T.v.masterFXSwitch={t:"bool",v:!0};bK.kc(T.v)}}S=H+U}else{console.log(Q.slice(S-8,S+64));
console.log(c.zV(Q,S-8,64));throw j}}return{I_:X,_v:b,list:W,a8V:D,YX:h}};c1.Ll=function(r,Q){r[0]=Q};
c1.cg=function(r){var Q=new f8,W=0;c.oo(Q,W,"8BTP");W+=4;c.Jp(Q,W,3);W+=4;c.Jp(Q,W,1);W+=4;var b=[r._v,r.I_,r.list];
for(var n=0;n<3;n++){if(b[n].length==0)continue;c.oo(Q,W,"8BIM");W+=4;var X=["tppa","tpbd","tptp"][n];
c.oo(Q,W,X);W+=4;var D=W;W+=4;if(X=="tppa"){W=dh.Pa(Q,W,r._v)}else if(X=="tpbd"){W=k5.v5(Q,W,r.I_)}else if(X=="tptp"){c.Jp(Q,W,r.list.length);
W+=4;for(var h=0;h<r.list.length;h++){var S=r.list[h];c.bs(Q,W,S[0]+"\0");W+=6+S[0].length*2;c.Jp(Q,W,16);
W+=4;W+=bl.X3(Q,S[1],W)}}c.Jp(Q,D,W-D-4);while((W&3)!=0)W++;Q.Jd(W,0)}return Q.data.slice(0,W).buffer};
function cf(){}cf.ak=function(r,Q){var W=new Uint8Array(r),b;if(c.v(W,0)==W.length)b="icc";else if(W[0]=="<".charCodeAt(0))b="look";
else if(c.n9(W,"LUT_3D_SIZE")!=-1)b="cube";else b="3DL";if(b!="icc"){var X=cf.apv(W,b),D=cf.aj3(X[0],X[1]);
W=D}var h=[];for(var n=0;n<W.length;n++)h.push(W[n]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:Q?Q:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:h}}]};
cf.cg=function(r){var Q=r[0],W=new Uint8Array(Q.profile.v);return W.buffer};cf.Ll=function(r,Q){r.Nm.v=Q};
cf.aj3=function(r,Q){var W=new f8,b=128;W.Jd(0,128);var X=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var n=0;n<X.length;n++)W.data[n]=X[n];var D=["desc","A2B0"],h=D.length,S=128+4+h*12;c.Jp(W,b,h);
b+=4;for(var a=0;a<h;a++){var K=D[a];c.oo(W,b,K);b+=4;c.Jp(W,b,S);b+=4;var Y=S;if(K=="desc"){c.oo(W,Y,"mluc");
Y+=4;Y+=4;c.Jp(W,Y,1);Y+=4;c.Jp(W,Y,12);Y+=4;c.oo(W,Y,"enUS");Y+=4;var d="ICC by Photopea\0",j=d.length*2+2;
c.Jp(W,Y,j);Y+=4;c.Jp(W,Y,28);Y+=4;W.Jd(Y,j);for(var n=0;n<d.length;n++)W.data[Y+n*2+1]=d.charCodeAt(n);
Y+=j}if(K=="A2B0"){c.oo(W,Y,"mAB ");Y+=4;Y+=4;W.Jd(Y,4);W.data[Y]=3;W.data[Y+1]=3;Y+=4;W.Jd(Y,4*5);Y+=4*3;
c.Jp(W,Y,Y+8-S);Y+=4;Y+=4;W.Jd(Y,20);W.data[Y]=r;W.data[Y+1]=r;W.data[Y+2]=r;Y+=16;W.data[Y]=2;Y+=4;
var U=r*r*r*3;W.Jd(Y,U*2);for(var n=0;n<U;n++)c.MJ(W.data,Y+n*2,Math.max(0,Math.min(65535,Math.round(Q[n]*65535))));
Y+=U*2}var I=Y-S;while((I&3)!=0)I++;c.Jp(W,b,I);b+=4;S+=I}c.Jp(W,0,S);return W.data.slice(0,S)};cf.apv=function(r,Q){Q="LUTFormat"+Q.toUpperCase();
var W=[],b=0,X=c.CA(r,0,r.length),D="";for(var n=0;n<r.length&&D=="";n++){if(r[n]==10)D="\n";else if(r[n]==13){D="\r";
if(r[n+1]==10)D+="\n"}}if(Q=="LUTFormatCUBE"){var h=X.split(D);for(var n=0;n<h.length;n++){if(h[n]==""||h[n][0]=="#")continue;
var S=h[n].split(" "),a=S[0];if(a=="LUT_3D_SIZE"){b=parseInt(S[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(a)!=-1)continue;
W.push(parseFloat(S[0]),parseFloat(S[1]),parseFloat(S[2]))}W=cf.Mo(b,W)}else if(Q=="LUTFormat3DL"){var h=X.split(D),K=1/4095;
for(var n=0;n<h.length;n++){var Y=h[n];if(Y==""||Y=="3DMESH"||Y.startsWith("Mesh")||Y[0]=="#")continue;
var S=Y.split(" "),a=S[0];if(b==0){b=S.length;continue}W.push(parseFloat(S[0])*K,parseFloat(S[1])*K,parseFloat(S[2])*K)}}else if(Q=="LUTFormatLOOK"){var d=new DOMParser,j=d.parseFromString(X,"text/xml"),U=j.getElementsByTagName("LUT")[0],I=U.children[0].textContent;
b=parseInt(JSON.parse(I));var f=U.children[1].textContent;f=f.replace(/"/g,"").replace(/\s/g,"");var g=3*b*b*b,H=g*4,u=new Uint8Array(H);for(var n=0;n<H;n++){var s=f.charCodeAt(n*2),_=f.charCodeAt(n*2+1),i=s<58?s-48:s-55,M=_<58?_-48:_-55;u[n]=(i<<4)+M}for(var n=0;n<g;n++)W.push(c.Pv(u,n<<2));W=cf.Mo(b,W)}else throw Q;return[b,W]};cf.a42=function(r,Q,W){var b=["#Created by www.Photopea.com","TITLE \""+W+"\"","","#LUT size","LUT_3D_SIZE "+Q,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],X=6;
for(var n=0;n<r.length;n+=3){b.push(r[n].toFixed(X)+" "+r[n+1].toFixed(X)+" "+r[n+2].toFixed(X))}b.push("");
return c.gl(b.join("\n")).buffer};cf.Mo=function(r,Q){var W=[],b=r*r*r;for(var n=0;n<b;n++)W.push(0,0,0);
for(var X=0;X<r;X++)for(var D=0;D<r;D++)for(var h=0;h<r;h++){var n=3*(h+D*r+X*r*r),S=3*(X+D*r+h*r*r);
W[S]=Q[n];W[S+1]=Q[n+1];W[S+2]=Q[n+2]}return W};function bl(){}bl.Z6=function(r,Q,W,b,X){var D=W,h;if(X==null)X=0;
var S=c.v(r,W);if(S==0){h="";W+=4}else{h=c.Fb(r,W);W+=4+2*h.length+2}if(h!="")Q.__name=h;Q.classID=bl.VC(r,W);
if(b)console.log("\t".repeat(X),"- reading descriptor",Q.classID,W);W+=bl.w7(r,W);var a=c.Kv(r,W);W+=4;
for(var n=0;n<a;n++){var K=bl.VC(r,W);W+=bl.w7(r,W);var Y=bl.lZ(r,W,b,X);Q[K]=Y;W+=Y.size;delete Y.size}return W-D};
bl.X3=function(r,Q,W,b){var X=W,D=Q.__name;if(D==null)D="";D+="\0";c.bs(r,W,D);W+=4+2*D.length;bl.i$(r,W,Q.classID);
W+=bl.w7(r.data,W);c.Rd(r,W,Object.keys(Q).length-1-(Q.__name==null?0:1));W+=4;for(var h in Q){if(h=="classID")continue;
if(h=="__name")continue;bl.i$(r,W,h);W+=bl.w7(r.data,W);W+=bl.ve(r,W,Q[h])}return W-X};bl.lZ=function(r,Q,W,b){var X=Q,D=c.zV(r,Q,4);
Q+=4;var h={size:0,t:D,v:null};if(W)console.log("\t".repeat(b),"reading key",D,X);switch(D){case"obj ":case"VlLs":h.v=[];
var S=c.v(r,Q);Q+=4;for(var n=0;n<S;n++){var a=bl.lZ(r,Q,W,b+1);Q+=a.size;delete a.size;h.v.push(a)}break;
case"UntF":h.v={type:c.zV(r,Q,4),val:c.Gw(r,Q+4)};Q+=12;break;case"doub":h.v=c.Gw(r,Q);Q+=8;break;case"bool":h.v=r[Q]==1;
Q+=1;break;case"long":h.v=c.Kv(r,Q);Q+=4;break;case"comp":h.v=c.Kv(r,Q+4);Q+=8;break;case"Objc":h.v={};
var K=bl.Z6(r,h.v,Q,W,b+1);Q+=K;break;case"TEXT":var Y=c.v(r,Q);if(Y==0){h.v="";Q+=4}else{h.v=c.Fb(r,Q);
Q+=4+h.v.length*2+2}break;case"enum":var d=bl.VC(r,Q);Q+=bl.w7(r,Q);var j=bl.VC(r,Q);Q+=bl.w7(r,Q);h.v={};
h.v[d]=j;break;case"tdta":var U=c.Kv(r,Q);Q+=4;h.v=[];for(var n=0;n<U;n++)h.v.push(r[Q+n]);Q+=U;break;
case"ObAr":var I=c.v(r,Q);Q+=4;var f=c.Fb(r,Q);Q+=4+2*f.length+2;if(f!="")throw f;var g=bl.VC(r,Q);Q+=4+Math.max(4,g.length);
h.v={classID:g,arr:[]};var H=c.v(r,Q);Q+=4;for(var n=0;n<H;n++){var g=bl.VC(r,Q);Q+=4+Math.max(4,g.length);
var d=c.zV(r,Q,4);Q+=4;var u=c.zV(r,Q,4);Q+=4;var s={id:g,type:d,uID:u,arr:[]};h.v.arr.push(s);var _=c.v(r,Q,4);
Q+=4;for(var i=0;i<_;i++){var M=c.Gw(r,Q);Q+=8;s.arr.push(M)}}break;case"Pth ":var T=Q,U=c.v(r,Q);Q+=4;
var R=c.zV(r,Q,4);Q+=4;var z=c.aN(r,Q);Q+=4;var G=c.aok(r,Q);Q+=4+G.length*2;h.v={sig:R,pth:G};break;
case"Clss":case"type":case"rele":var G=c.Fb(r,Q);Q+=4+G.length*2+2;var V=bl.VC(r,Q);Q+=4+Math.max(4,V.length);
h.v={classID:V};if(G!="")h.v.__name=G;if(D=="rele"){h.v.val=c.Kv(r,Q);Q+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var y=bl._F[D],G=c.Fb(r,Q);
Q+=4+G.length*2+2;if(G.length!=0){console.log(D,G);throw"e"}h.v={};for(var n=0;n<y.length;n++){var V=bl.VC(r,Q);
Q+=4+Math.max(4,V.length);h.v[y[n]]=V}if(D=="name"){var G=c.Fb(r,Q);Q+=4+G.length*2+2;h.v.val=G}if(D=="indx"||D=="Idnt"){h.v.val=c.v(r,Q);
Q+=4}break;case"alis":var U=c.v(r,Q);Q+=4;h.v=c.zV(r,Q,U);Q+=U;break;default:{console.log("unknown oskey: "+D+", "+X);
throw"e";return h}}if(W){console.log("\t".repeat(b),h.v);console.log("\t".repeat(b),"======",Q)}h.size=Q-X;
return h};bl._F={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"],Idnt:["classID"]};
bl.ve=function(r,Q,W){var b=Q,X=W.t;W=W.v;c.oo(r,Q,X);Q+=4;switch(X){case"obj ":case"VlLs":c.Rd(r,Q,W.length);
Q+=4;for(var D=0;D<W.length;D++){var h=bl.ve(r,Q,W[D]);Q+=h}break;case"UntF":c.oo(r,Q,W.type);c.$y(r,Q+4,W.val);
Q+=12;break;case"doub":c.$y(r,Q,W);Q+=8;break;case"bool":c.yw(r,Q,W?1:0,1);Q+=1;break;case"long":c.Rd(r,Q,W);
Q+=4;break;case"comp":c.Rd(r,Q+4,W);Q+=8;break;case"Objc":var h=bl.X3(r,W,Q);Q+=h;break;case"TEXT":c.bs(r,Q,W+"\0");
Q+=4+W.length*2+2;break;case"enum":var S=Object.keys(W)[0],a=W[S];bl.i$(r,Q,S);Q+=bl.w7(r.data,Q);bl.i$(r,Q,a);
Q+=bl.w7(r.data,Q);break;case"tdta":c.Jp(r,Q,W.length);Q+=4;c.c4(r,Q,W);Q+=W.length;break;case"ObAr":c.Jp(r,Q,W.arr[0].arr.length);
Q+=4;c.bs(r,Q,"\0");Q+=6;bl.i$(r,Q,W.classID);Q+=4+Math.max(4,W.classID.length);c.Jp(r,Q,W.arr.length);
Q+=4;for(var n=0;n<W.arr.length;n++){var K=W.arr[n];bl.i$(r,Q,K.id);Q+=4+Math.max(4,K.id.length);c.oo(r,Q,K.type);
Q+=4;c.oo(r,Q,K.uID);Q+=4;c.Jp(r,Q,K.arr.length);Q+=4;for(var D=0;D<K.arr.length;D++){c.$y(r,Q,K.arr[D]);
Q+=8}}break;case"Pth ":var Y=W.pth.length*2+4+8;c.Jp(r,Q,Y);Q+=4;c.oo(r,Q,W.sig);Q+=4;c.EZ(r,Q,Y);Q+=4;
c.ajv(r,Q,W.pth);Q+=W.pth.length*2+4;break;case"Clss":case"type":case"rele":var d=W.__name;if(d==null)d="";
c.bs(r,Q,d+"\0");Q+=4+d.length*2+2;var j=W.classID;bl.i$(r,Q,j);Q+=4+Math.max(4,j.length);if(X=="rele"){c.Rd(r,Q,W.val);
Q+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var U=bl._F[X];c.Jp(r,Q,1);Q+=6;for(var n=0;
n<U.length;n++){var j=W[U[n]];bl.i$(r,Q,j);Q+=4+Math.max(4,j.length)}if(X=="name"){c.bs(r,Q,W.val+"\0");
Q+=4+W.val.length*2+2}if(X=="indx"||X=="Idnt"){c.Jp(r,Q,W.val);Q+=4}break;case"alis":var Y=W.length;
c.Jp(r,Q,Y);Q+=4;c.oo(r,Q,W);Q+=Y;break;default:console.log("unknown oskey: "+X);Q=b;break}return Q-b};
bl.VC=function(r,Q){var W=c.Kv(r,Q);if(W>1e3)throw"e";if(W==0)W=4;return c.zV(r,Q+4,W).trim()};bl.w7=function(r,Q){var W=c.Kv(r,Q);
return W==0?8:4+W};bl.i$=function(r,Q,W){var b="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time hold trim then else".split(" "),X=4<W.length||b.indexOf(W)!=-1;
c.Rd(r,Q,X?W.length:0);c.oo(r,Q+4,W);if(W.length<4&&!X){var D="";for(var n=W.length;n<4;n++)D+=" ";c.oo(r,Q+4+W.length,D)}};
bl.adU=function(r){var Q={};for(var W in r){if(W=="classID")Q[W]=r[W];else if(W=="__name")Q[W]=r[W];
else Q[W]=bl.j3(r[W])}return Q};bl.j3=function(r){if(r.HP=="Objc")return bl.adU(r.v);else if(r.HP=="VlLs"){var Q=[];
for(var n=0;n<r.v.length;n++)Q.push(bl.j3(r.v[n]));return Q}else if(r.HP=="UntF")return r.v.val;else return r.v};
function bK(){}bK.R9=function(r,Q,W,b,X,D){while(Q<W){var h=c.zV(r,Q,4);Q+=4;if(h!="8BIM"&&h!="8B64"){console.log("layer information signature error! "+h,"PSB = "+X);
alert("Error in PSD file: wrong signature.");return W}var S=c.zV(r,Q,4);Q+=4;var a=c.v(r,Q);Q+=4;var K=X&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(S)!=-1;
if(K){a=a<<32|c.Kv(r,Q);Q+=4}var Y=["lrFX","PlLd"];if(Y.indexOf(S)!=-1){if(a%4!=0)a+=4-a%4;Q+=a;continue}switch(S){case"iOpa":b[S]=r[Q];
break;case"brst":b[S]=[1,1,1];for(var n=0;n<a;n+=4)b[S][c.v(r,Q+n)]=0;break;case"knko":b[S]=r[Q];break;
case"infx":b[S]=r[Q];break;case"clbl":b[S]=r[Q];break;case"lmgm":b[S]=r[Q];break;case"vmgm":b[S]=r[Q];
break;case"fcmy":b[S]=r[Q];break;case"lyid":b[S]=c.v(r,Q);break;case"lsct":b[S]={type:c.v(r,Q)};if(a>=12)b[S].iX=c.zV(r,Q+8,4);
break;case"lsdk":b.lsct={type:c.v(r,Q)};break;case"lyvr":b[S]=c.v(r,Q);break;case"lnsr":var d={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
b[S]=c.zV(r,Q,4);break;case"lspf":b[S]=c.v(r,Q);break;case"lclr":b[S]=c.KV(r,Q);break;case"luni":b[S]=c.GW(r,Q);
break;case"fxrp":b[S]=new cp(c.Gw(r,Q),c.Gw(r,Q+8));break;case"artb":case"artd":b[S]={};bl.Z6(r,b[S],Q+4);
break;case"SoCo":b[S]={};bl.Z6(r,b[S],Q+4);break;case"GdFl":b[S]={};bl.Z6(r,b[S],Q+4);bK.f1(b[S],S);
break;case"PtFl":b[S]={};bl.Z6(r,b[S],Q+4);bK.f1(b[S],S);break;case"CgEd":b[S]={};bl.Z6(r,b[S],Q+4);
break;case"brit":var j=b.brit=jv.fp("brit"),U={};j.Brgh.v=c.I0(r,Q);j.Cntr.v=c.I0(r,Q+2);j.useLegacy.v=!1;
break;case"levl":var I=r.buffer.slice(Q,Q+a);b[S]=fB.ak(I);break;case"curv":b[S]=f0.Yz(r,Q,a);break;
case"expA":var f=c.KV(r,Q),g=b[S]=jv.fp("expA");g.Exps.v=c.sJ(r,Q+2);g.Ofst.v=c.sJ(r,Q+6);g.gammaCorrection.v=c.sJ(r,Q+10);
break;case"vibA":b[S]={};bl.Z6(r,b[S],Q+4);break;case"hue2":b[S]=ku.Yz(r,Q,a);break;case"blnc":var g=b[S]=jv.fp(S);
g.PrsL.v=r[Q+18]==1;var H=["ShdL","MdtL","HghL"];for(var n=0;n<3;n++)for(var u=0;u<3;u++)g[H[n]].v[u].v=c.I0(r,Q+n*6+u*2);
break;case"blwh":var s={};bl.Z6(r,s,Q+4);var g=jv.fp(S),_="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var n=0;n<_.length;n++){g[_[n]]=s[_[n]];delete s[_[n]]}b[S]=g;break;case"phfl":var g=b[S]=jv.fp(S),i=g.Clr.v,f=c.KV(r,Q);
if(f==3){var M=[c.v(r,Q+2),c.v(r,Q+6),c.v(r,Q+10)],T=32768,R=E.Tb(M[0]/T,M[1]/T,M[2]/T);i.Lmnc.v=R.HN;
i.A.v=R.mu;i.B.v=R.k}if(f==2){var z=c.KV(r,Q+2);if(z!=7)throw"e";i.Lmnc.v=c.I0(r,Q+4)/100;i.A.v=c.I0(r,Q+6)/100;
i.B.v=c.I0(r,Q+8)/100}var G=Q+2+(f==3?12:10);g.Dnst.v=c.v(r,G);G+=4;g.PrsL.v=r[G]==1;break;case"mixr":var V={Dx:c.KV(r,Q+2)==1,h:[]};
for(var n=0;n<20;n++)V.h.push(c.I0(r,Q+4+n*2));b[S]=bu.awD(V);break;case"clrL":case"rplc":b[S]={};bl.Z6(r,b[S],Q+6);
break;case"nvrt":b[S]={};break;case"post":b[S]=jv.fp("post");b[S].Lvls.v=c.KV(r,Q);break;case"thrs":b[S]=jv.fp("thrs");
b[S].Lvl.v=c.KV(r,Q);break;case"grdm":var y=Q,k=r[Q+2]==1,B=r[Q+3]==1;y+=4;var v=c.zV(r,y,4);if(v=="Perc"||v=="Gcls"||v=="Lnr ")y+=4;
var l=c.GW(r,y);y+=4+l.length*2;var F=d9.l_(r,y,l),L=F[0];y=F[1];var Z=c.KV(r,y);y+=2;var t=c.v(r,y);
y+=4;var A=c.KV(r,y)==1;y+=2;var o=c.KV(r,y)==1;y+=2;var O=c.v(r,y);y+=4;var x=c.KV(r,y);y+=2;var C=[],J=[];
for(var n=0;n<4;n++){C.push({t:"long",v:~~(c.KV(r,y+n*2)*100/32768)});J.push({t:"long",v:~~(c.KV(r,y+n*2+8)*100/32768)})}y+=16;
var q=c.KV(r,y);y+=2;if(Z==1)L={classID:"Grdn",Nm:{t:"TEXT",v:l},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:A},VctC:{t:"bool",v:o},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:t},Smth:{t:"long",v:O},Mnm:{t:"VlLs",v:C},Mxm:{t:"VlLs",v:J}};
var fd=jv.fp("grdm");fd.Rvrs.v=k;fd.Grad.v=L;b[S]=fd;break;case"selc":b[S]=b3.Yz(r,Q,a);break;case"vmsk":case"vsms":var w=b.vmsk=new $.vL,P=c.Kv(r,Q+4),fc=(P>>0&1)==1;
w.oh=(P>>1&1)==0;w.isEnabled=(P>>2&1)==0;w.V=fK.bf(r,Q+8,a-8,D.e,D.n);break;case"shmd":b[S]={};var p=c.v(r,Q),G=Q+4;
for(var n=0;n<p;n++){var h=c.zV(r,G,4);G+=4;var gG=c.zV(r,G,4);G+=4;var fh=r[G];G++;if(Math.max(r[G],r[G+1])!=0)throw"e";
G+=3;var fJ=c.v(r,G);G+=4;if(gG=="cust"||gG=="cmls"||gG=="extn"||gG=="mlst"){var cF=c.v(r,G);if(cF!=16)G+=4;
if(c.v(r,G)==16){var s={};bl.Z6(r,s,G+4,!1);b[S][gG]=s;if(gG=="cmls")m.tK.a8z(b[S][gG])}}else{console.log("unknown shmd key: "+gG+", size: "+fJ)}G+=fJ}break;
case"shpa":var f=c.v(r,Q),j_=c.v(r,Q+4);if(j_!=0)console.log("some patterns present!");break;case"TySh":var gY=b[S]={},f=c.KV(r,Q);
gY.D=c.Wt(r,Q+2);var kc=c.KV(r,Q+2+48);gY.pn={};var el=bl.Z6(r,gY.pn,Q+56),iN=aH.ap8();for(var c$ in iN)if(gY.pn[c$]==null)gY.pn[c$]=iN[c$];
gY.xR={};var dB=bl.Z6(r,gY.xR,Q+56+el+6);gY.$C=c.aum(r,Q+56+el+6+dB);gY.kN=gi.ak(gY.pn.EngineData.v);
aH.aqu(gY.kN.EngineDict.StyleRun.RunArray);if(gY.kN.ResourceDict==null)gY.kN.ResourceDict=JSON.parse(JSON.stringify(gY.kN.DocumentResources));
delete gY.pn.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var aL=c.v(r,Q),aB=c.v(r,Q+4);b.lmfx={};
var el=bl.Z6(r,b.lmfx,Q+8);bK.kc(b.lmfx);break;case"FMsk":b[S]=c.yk(r,Q,a);break;case"Txt2":b[S]={};
b[S].raw=c.yk(r,Q,a);b[S].GH=j8.ak(b[S].raw);break;case"Patt":b[S]=dh.g5(r,Q,a);break;case"SoLd":var f3=c.zV(r,Q,4),jC=c.v(r,Q+4),bc=c.v(r,Q+8);
b[S]={};var iA=bl.Z6(r,b[S],Q+12);if(b[S].nonAffineTransform==null)b[S].nonAffineTransform=JSON.parse(JSON.stringify(b[S].Trnf));
if(b[S].Impr==null)b[S].Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var jC=c.v(r,Q);
b[S]={};var iA=bl.Z6(r,b[S],Q+4);break;case"vscg":var gG=c.zV(r,Q,4),jC=c.v(r,Q+4);b[gG]={};var iA=bl.Z6(r,b[gG],Q+8);
bK.f1(b[gG],gG);break;case"vogk":var bL=c.v(r,Q),jC=c.v(r,Q+4);b[S]={};var iA=bl.Z6(r,b[S],Q+8);b[S]=b[S].keyDescriptorList.v;
for(var n=0;n<b[S].length;n++){var an=b[S][n].v;if(!E.X.am(an))continue;if(an.keyOriginBoxCorners==null){var dp=E.X.hU(an);
an.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};var im=[dp[0],dp[1],dp[2],dp[1],dp[2],dp[3],dp[0],dp[3]];
if(an.keyOriginType.v==4)im=E.X.gH(E.X.xQ(an),an.keyOriginLineWeight.v);E.X.ZV(an,"keyOriginBoxCorners",im)}}break;
case"lnk2":case"lnkD__":case"lnk3__":b[S]=[];var y=Q;while(y<Q+a){var a5=new $.Uw;b[S].push(a5);var bg=c.pi(r,y);
y+=8;var fM=y;a5.type=c.zV(r,y,4);y+=4;if(a5.type!="liFD"){alert("Unknown Linked Layer type: "+a5.type);
break;throw a5.type}a5.Vc=c.v(r,y);y+=4;var eT=c.eH(r,y);y+=1+eT.Nv.length;a5.c5=eT.Nv;a5.Ao=c.Fb(r,y);
y+=4+a5.Ao.length*2+2;a5.pj=c.zV(r,y,4);y+=4;a5.C3=c.zV(r,y,4);y+=4;var ev=c.pi(r,y);y+=8;a5.open=r[y];
y+=1;if(a5.open!=0){var fU={},el=bl.Z6(r,fU,y+4);if(el%4!=0)el+=4-el%4;console.log(fU);y+=el+4}a5.open=0;
a5.raw=c.yk(r,y,ev);y=fM+bg;if(bg%4!=0)y+=4-bg%4}break;case"FEid":var y=Q;b[S]=[];var e8=y+a,f=c.v(r,y);
y+=4;while(y<e8){y+=4;var bg=c.v(r,y);y+=4;var F={};b[S].push(F);F.id=c.eH(r,y).Nv;y+=F.id.length+1;
var f=c.v(r,y);y+=4;y+=4;var ej=c.v(r,y);y+=4;F.rect=c.Lg(r,y);y+=16;var fV=c.v(r,y);y+=4;var he=c.v(r,y);
y+=4;var gZ=new E.yC(0);for(var n=0;n<he+2;n++){var hQ=c.v(r,y);y+=4;if(hQ!=0){y+=4;var aJ=c.v(r,y),cs=null;
y+=4;if(n<3||n==25)cs=et.$k(!0,fV,r,F.rect.e,F.rect.n,y,aJ);if(n==0)gZ.o=cs;if(n==1)gZ.W=cs;if(n==2)gZ.k=cs;
if(n==25)gZ.mu=cs;y+=aJ}}F.buffer=E.Q(F.rect.O()*4);E.b8(gZ,F.buffer);E.qM(F);var fN=r[y];y++;if(fN!=0){F.z=new $.lA;
F.z.rect=c.Lg(r,y);y+=16;y+=4;var j4=c.v(r,y);y+=4;F.z.channel=et.$k(!0,fV,r,F.z.rect.e,F.z.rect.n,y,j4);
F.z.color=255;F.z.Dg();y+=j4}if(bg%4!=0)y+=4-bg%4}break;case"Lr16":ba.kL(D,r,Q);break;case"Anno":b[S]=[];
var hL=Q,fv=Q+4,j_=c.v(r,fv);fv+=4;for(var n=0;n<j_;n++){var bg=c.v(r,fv);fv+=4;var al=c.zV(r,fv,4);
fv+=4;if(al!="txtA")throw al;var dD=r[fv++],kd=r[fv++],gv=c.KV(r,fv);fv+=2;var j$=c.Lg(r,fv);fv+=16;
var i9=c.Lg(r,fv);fv+=16;var i=ia.cG(r,fv);fv+=10;var bv=c.eH(r,fv);fv+=bv.length;var jk=c.eH(r,fv);
fv+=jk.length;var cM=c.eH(r,fv);fv+=cM.length;var iW=c.v(r,fv);fv+=4;var ft=c.zV(r,fv,4);fv+=4;var b0=c.v(r,fv);
fv+=4;var ko=c.mf(r,fv+2,b0-2>>1);fv+=b0;b[S].push([j$.x,j$.y,i,bv.Nv,ko])}break;default:break}var co="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf Anno".split(" ");
if(co.indexOf(S)==-1)if(a%4!=0)console.log("size not multiple of 4!!!",S);if(S!="luni"&&S!="TySh"&&S!="tySh"&&S!="lfx2"&&S!="iOpa")if(a%4!=0)a+=4-a%4;
Q+=a}var U=b.CgEd;if(U){var j=b.brit;if(j){j.Brgh.v=U.Brgh?U.Brgh.v:0;j.Cntr.v=U.Cntr?U.Cntr.v:0;j.useLegacy.v=U.useLegacy?U.useLegacy.v:0}delete b.CgEd}var gr=[];
for(var n=0;n<gr.length;n++)delete b[gr[n]];return Q};bK.Vx=function(r,Q,W,b,X){for(var D in W)if(W[D]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+D+"\" tag was present with a null value.");delete W[D]}for(var D in W){var h=b&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(D)!=-1,a=0;
c.oo(r,Q,h?"8B64":"8BIM");Q+=4;var S=Q;c.oo(r,Q,D);Q+=4;c.Rd(r,Q,0);Q+=h?8:4;switch(D){case"iOpa":c.yw(r,Q,W[D],1);
a=4;break;case"brst":a=0;for(var n=0;n<3;n++)if(W[D][n]==0){c.Jp(r,Q+a,n);a+=4}break;case"knko":c.yw(r,Q,W[D],1);
a=4;break;case"infx":c.yw(r,Q,W[D],1);a=4;break;case"clbl":c.yw(r,Q,W[D],1);a=4;break;case"lmgm":c.yw(r,Q,W[D],1);
a=4;break;case"vmgm":c.yw(r,Q,W[D],1);a=4;break;case"fcmy":c.yw(r,Q,W[D],1);a=4;break;case"lyid":c.Jp(r,Q,W[D]);
a=4;break;case"lsct":c.Jp(r,Q,W[D].type);a=4;if(W[D].iX){c.oo(r,Q+4,"8BIM");c.oo(r,Q+8,W[D].iX);a=12}break;
case"lyvr":c.Jp(r,Q,W[D]);a=4;break;case"lnsr":c.oo(r,Q,W[D]);a=4;break;case"lspf":c.Jp(r,Q,W[D]);a=4;
break;case"lclr":c.yi(r,Q,W[D]);a=8;break;case"luni":c.bs(r,Q,W[D]);a=4+2*W[D].length;break;case"fxrp":c.$y(r,Q,W[D].x);
c.$y(r,Q+8,W[D].y);a=16;break;case"artb":case"artd":c.Jp(r,Q,16);a=bl.X3(r,W[D],Q+4)+4;break;case"SoCo":c.Jp(r,Q,16);
a=bl.X3(r,W[D],Q+4)+4;break;case"GdFl":c.Jp(r,Q,16);a=bl.X3(r,W[D],Q+4)+4;break;case"PtFl":c.Jp(r,Q,16);
a=bl.X3(r,W[D],Q+4)+4;break;case"CgEd":var K={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},Y=K,d=W[D];
Y.Brgh.v=d.Brgh.v;Y.Cntr.v=d.Cntr.v;Y.useLegacy.v=d.useLegacy.v;c.Jp(r,Q,16);a=bl.X3(r,K,Q+4)+4;break;
case"brit":r.Jd(Q,8);a=8;break;case"levl":var j=new f8;a=fB.cg(j,W[D]);c.c4(r,Q,j.data);break;case"curv":a=f0.PY(r,Q,W[D]);
break;case"expA":a=14;r.Jd(Q,14);c.MJ(r.data,Q,1);c.Mp(r.data,Q+2,W[D].Exps?W[D].Exps.v:0);c.Mp(r.data,Q+6,W[D].Ofst?W[D].Ofst.v:0);
c.Mp(r.data,Q+10,W[D].gammaCorrection?W[D].gammaCorrection.v:1);break;case"vibA":c.Jp(r,Q,16);a=bl.X3(r,W[D],Q+4)+4;
break;case"hue2":a=ku.PY(r,Q,W[D]);break;case"blnc":a=19;r.Jd(Q,a);var U=["ShdL","MdtL","HghL"];for(var n=0;
n<3;n++){var I=W[D][U[n]].v;for(var f=0;f<3;f++)I.push(c.HC(r.data,Q+n*6+f*2,I[f].v))}r.data[Q+18]=W[D].PrsL.v?1:0;
break;case"blwh":var K={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},g="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var n=0;n<g.length;n++){K[g[n]]=W[D][g[n]]}c.Jp(r,Q,16);a=bl.X3(r,K,Q+4)+4;break;case"phfl":c.yi(r,Q,2);
var H=W[D].Clr.v;c.yi(r,Q+2,7);c.yi(r,Q+4,Math.round(H.Lmnc.v*100));c.yi(r,Q+6,Math.round(H.A.v*100));
c.yi(r,Q+8,Math.round(H.B.v*100));c.yi(r,Q+10,0);var u=Q+2+10;r.Jd(u,5);c.hC(r.data,u,W[D].Dnst.v);u+=4;
r.data[u]=W[D].PrsL.v?1:0;u++;a=u-Q;break;case"mixr":a=44;r.Jd(Q,a);var s=bu.iI(W[D]);c.MJ(r.data,Q,1);
c.MJ(r.data,Q+2,s.Dx?1:0);for(var n=0;n<20;n++)c.HC(r.data,Q+4+n*2,s.h[n]);break;case"clrL":case"rplc":c.yi(r,Q,1);
c.Jp(r,Q+2,16);a=bl.X3(r,W[D],Q+6)+6;break;case"nvrt":a=0;break;case"post":c.yi(r,Q,W[D].Lvls.v);a=2;
break;case"thrs":c.yi(r,Q,W[D].Lvl.v);a=2;break;case"grdm":var _=W[D].Rvrs?W[D].Rvrs.v:!1,i=!1,M=867527939,T=!1,R=!1,z=2048,G=[0,0,0,0],V=[32768,32768,32768,32768],y=W[D].Grad.v,k,B,v=y.Clrs==null?1:0;
if(v==0){k=y;B=JSON.parse(iq.Wf.axZ).v}else{k=jv.fp("grdm").Grad.v;B=y}r.Jd(Q,4);c.MJ(r.data,Q,1);r.data[Q+2]=_?1:0;
r.data[Q+3]=i?1:0;var l=Q+4;c.bs(r,l,y.Nm.v);l+=4+y.Nm.v.length*2;l=d9.ahh(r,l,k);c.yi(r,l,v);l+=2;c.Jp(r,l,B.RndS.v);
l+=4;c.yi(r,l,B.ShTr.v?1:0);l+=2;c.yi(r,l,B.VctC.v?1:0);l+=2;c.Jp(r,l,B.Smth.v);l+=4;c.yi(r,l,3);l+=2;
for(var n=0;n<4;n++)c.yi(r,l+n*2,G[n]);l+=8;for(var n=0;n<4;n++)c.yi(r,l+n*2,V[n]);l+=8;l+=2;a=l-Q;break;
case"selc":a=b3.PY(r,Q,W[D]);break;case"FMsk":c.c4(r,Q,W[D]);a=W[D].length;break;case"Txt2":var F=new f8,L=j8.T4(W[D].GH,F),Z=E.Q(L,!0);
for(var n=0;n<L;n++)Z[n]=F.data[n];c.c4(r,Q,Z);a=Z.length;break;case"vmsk":var t=W[D],A=0;c.Jp(r,Q,3);
if(!t.oh)A+=1<<1;if(!t.isEnabled)A+=1<<2;c.Jp(r,Q+4,A);a=8;var o=t.V.length;r.Jd(Q+8,o*26);fK.Er(r.data,Q+8,t.V,X.e,X.n);
a+=o*26;break;case"shmd":c.Jp(r,Q,Object.keys(W[D]).length);var u=Q+4;for(var O in W[D]){c.oo(r,u,"8BIM");
u+=4;c.oo(r,u,O);u+=4;c.Jp(r,u,0);u+=4;c.Jp(r,u,0);u+=4;c.Jp(r,u,16);u+=4;var x=bl.X3(r,W[D][O],u);if(x%4!=0)x+=4-x%4;
c.Jp(r,u-8,x+4);u+=x}a=u-Q;break;case"TySh":var u=Q;c.kf(r,u,1);u+=2;var C=W[D],F=new f8;C.kN.DocumentResources=JSON.parse(JSON.stringify(C.kN.ResourceDict));
var L=gi.T4(C.kN,F),Z=E.Q(L,!0);for(var n=0;n<L;n++)Z[n]=F.data[n];C.pn.EngineData={t:"tdta",v:Z};var J=C.kN.EngineDict.Editor.Text;
C.pn.Txt.v=J.substring(0,J.length-1);c.abN(r,u,C.D);u+=48;c.kf(r,u,50);u+=2;c.Jp(r,u,16);u+=4;u+=bl.X3(r,C.pn,u);
c.kf(r,u,1);u+=2;c.Jp(r,u,16);u+=4;u+=bl.X3(r,C.xR,u);c.arT(r,u,C.$C);u+=16;a=u-Q;break;case"lmfx":c.Jp(r,Q,0);
c.Jp(r,Q+4,16);var K=JSON.parse(JSON.stringify(W[D])),q=!1;bK.Cq(K);for(var n=0;n<iq.lY.length;n++)if(K[iq.lY[n]]!=null)q=!0;
c.oo(r,S,q?"lmfx":"lfx2");a=bl.X3(r,K,Q+8)+8;break;case"Patt":var u=dh.Pa(r,Q,W[D]);a=u-Q;break;case"SoLd":c.oo(r,Q,"soLD");
c.Jp(r,Q+4,4);c.Jp(r,Q+8,16);a=bl.X3(r,W[D],Q+12)+12;break;case"vstk":case"pths":c.Jp(r,Q,16);a=bl.X3(r,W[D],Q+4)+4;
break;case"vscg__":c.oo(r,Q,W[D].key);c.Jp(r,Q+4,16);a=bl.X3(r,W[D].h,Q+8)+8;break;case"vogk":c.Jp(r,Q,1);
c.Jp(r,Q+4,16);E.X.ar2(W[D]);for(var n=0;n<W[D].length;n++){var fd=W[D][n].v.keyOriginResolution;if(fd)fd.v=X.HW}var w={classID:"null",keyDescriptorList:{t:"VlLs",v:W[D]}};
a=bl.X3(r,w,Q+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var l=Q;for(var n=0;n<W[D].length;n++){var P=W[D][n],fc=l;
c.D3(r,l,0);l+=8;c.oo(r,l,P.type);l+=4;c.Jp(r,l,P.Vc);l+=4;r.Jd(l,1);r.data[l]=P.c5.length;l++;c.oo(r,l,P.c5);
l+=P.c5.length;c.bs(r,l,P.Ao+"\0");l+=4+P.Ao.length*2+2;c.oo(r,l,P.pj);l+=4;c.oo(r,l,P.C3);l+=4;c.D3(r,l,P.raw.length);
l+=8;r.Jd(l,1);r.data[l]=P.open;l++;c.c4(r,l,P.raw);l+=P.raw.length;c.Jp(r,l,1);l+=4;l+=11;var p=l-fc-8;
c.D3(r,fc,p);if(p%4!=0){r.Jd(l,4-p%4);l+=4-p%4}}a=l-Q;break;case"FEid":var l=Q;c.Jp(r,l,3);l+=4;for(var gG=0;
gG<W[D].length;gG++){var fh=W[D][gG];l+=4;var fJ=l;l+=4;c.fN(r,l,fh.id);l+=fh.id.length+1;c.Jp(r,l,1);
l+=4;var cF=E.Q(fh.rect.O()),j_=fh.rect,gY=E.Q(j_.O());l+=4;var kc=l;l+=4;c.se(r,l,j_);l+=16;c.Jp(r,l,8);
l+=4;c.Jp(r,l,24);l+=4;for(var n=0;n<24+2;n++){var el=-1;if(n==0)el=0;if(n==1)el=1;if(n==2)el=2;if(n==25)el=3;
c.Jp(r,l,el!=-1?1:0);l+=4;if(el!=-1){E.TX(fh.buffer,cF,el);E.L0(cF,fh.rect,gY,j_);l+=4;var iN=l;l+=4;
r.Jd(l,j_.O()+2);l=et.MF(!0,gY,r.data,j_.e,j_.n,l,3);c.Jp(r,iN,l-(iN+4))}}c.Jp(r,kc,l-(kc+4));r.Jd(l,1);
r.data[l]=fh.z?1:0;l++;if(fh.z!=null){var c$=j_,dB=E.Q(c$.O());dB.fill(fh.z.color);E.L0(fh.z.channel,fh.z.rect,dB,c$);
c.se(r,l,c$);l+=16;l+=4;var aL=l;l+=4;r.Jd(l,c$.O()+2);l=et.MF(!0,dB,r.data,c$.e,c$.n,l,3);c.Jp(r,aL,l-(aL+4))}var p=l-(fJ+4);
c.Jp(r,fJ,p);if(p%4!=0)l+=4-p%4}a=l-Q;break;case"Anno":var aB=Q,f3=W[D].length;c.yi(r,aB,2);c.yi(r,aB+2,1);
aB+=4;c.Jp(r,aB,f3);aB+=4;for(var n=0;n<f3;n++){var jC=W[D][n],bc=jC[0],iA=jC[1],bL=aB;aB+=4;c.oo(r,aB,"txtA");
aB+=4;r.Jd(aB,2);r.data[aB]=1;r.data[aB+1]=28;aB+=2;c.yi(r,aB,1);aB+=2;c.se(r,aB,new aV(bc,iA,17,21));
aB+=16;c.se(r,aB,new aV(bc+8,iA+10,241,141));aB+=16;r.Jd(aB,10);ia.qp(r.data,aB,jC[2]);aB+=10;aB+=c.fN(r,aB,jC[3]);
aB+=c.fN(r,aB,"");aB+=c.fN(r,aB,"D:20211012120233+01'00'");var an=jC[4].length*2;c.Jp(r,aB,12+2+an);
aB+=4;c.oo(r,aB,"txtC");aB+=4;c.Jp(r,aB,2+an);aB+=4;r.Jd(aB,2);r.data[aB]=254;r.data[aB+1]=255;aB+=2;
c.afv(r,aB,jC[4]);aB+=an;c.Jp(r,bL,aB-bL)}a=aB-Q;break;default:console.log("unknown layer tag: "+D+", size: "+a);
Q-=12;continue}var dp=["Txt2","artd","extd","pths"];if(dp.indexOf(D)==-1)if(a%4!=0)a+=4-a%4;if(h)c.D3(r,Q-8,a);
else c.Jp(r,Q-4,a);if(D!="luni"&&D!="TySh")if(a%4!=0)a+=4-a%4;Q+=a}return Q};bK.kc=function(r){for(var n=0;
n<iq.order.length;n++){var Q=iq.order[n],W=iq.lY[n];if(r[W]==null)r[W]={t:"VlLs",v:[]};if(r[Q]!=null){r[W].v.push(r[Q]);
delete r[Q]}var b=[];for(var X=0;X<r[W].v.length;X++){var D=r[W].v[X];if(D.v.present==null||D.v.present.v==!0)b.push(D)}r[W].v=b}};
bK.Cq=function(r){for(var n=0;n<iq.order.length;n++){var Q=iq.order[n],W=iq.lY[n],b=r[W].v.length;if(b==0){delete r[W];
continue}if(b==1){r[Q]=r[W].v[0];delete r[W];continue}}};bK.f1=function(r,Q){if(Q=="GdFl"){if(r.Angl==null)r.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(r.Algn==null)r.Algn={v:!0,t:"bool"};if(r.Scl==null)r.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(r.Ofst==null)r.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(r.Rvrs==null)r.Rvrs={v:!1,t:"bool"};if(r.Dthr==null)r.Dthr={v:!1,t:"bool"}}if(Q=="PtFl"){if(r.Algn==null)r.Algn={v:!0,t:"bool"};
if(r.Angl==null)r.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(r.Scl==null)r.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(r.phase==null)r.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};bK.clone=function(r,Q){var W={};
if(r=="TySh"){W.D=Q.D.clone();W.pn=JSON.parse(JSON.stringify(Q.pn));W.xR=JSON.parse(JSON.stringify(Q.xR));
W.$C=Q.$C.clone();W.kN=JSON.parse(JSON.stringify(Q.kN));if(Q.add)W.add={vmsk:Q.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(Q.add.vogk))};
return W}else if(r=="fxrp")return Q.clone();else if(r=="vmsk")return Q.clone();else return JSON.parse(JSON.stringify(Q))};
function cZ(r,Q){}cZ.ak=function(r,Q,W,b){b=cZ.auv(r,Q,W,b);return b};cZ.T4=function(r,Q,W,b,X){b=cZ.auT(r,Q,W,b,X);
return b};cZ.auv=function(r,Q,W,b){var X=b;r.rect=c.Lg(W,b);b+=16;var D=c.KV(W,b);b+=2;r.Gd=[];var h=Q.$L;
for(var n=0;n<D;n++){r.Gd[n]={id:c.I0(W,b),length:(h?c.pi:c.v)(W,b+2)};b+=h?10:6}var S=c.zV(W,b,4);b+=4;
if(S!="8BIM"){console.log("Invalid Blend mode signature: "+S);alert("Error in Photoshop file: wrong signature.");
throw"e"}r.iX=c.zV(W,b,4);b+=4;r.opacity=W[b];b+=1;r.Cw=W[b]==1;b+=1;r.KX=W[b];b+=1;if(W[b]!=0)console.log("error in filler!");
b+=1;var a=c.v(W,b);b+=4;var K=b;b=cZ.ahn(r,W,b);b=cZ.ao4(r,W,b);var Y=c.eH(W,b);r.name=Y.Nv;b+=Y.length;
if(Y.length%4!=0)b+=4-Y.length%4;b=bK.R9(W,b,K+a,r.add,h,Q);if(r.add.lsct){if(r.add.lsct.iX)r.iX=r.add.lsct.iX;
r.add.lsct=r.add.lsct.type}return b};cZ.auT=function(r,Q,W,b,X){var D=b;c.se(W,b,r.rect);b+=16;var h=r.arU();
c.yi(W,b,h.length);b+=2;var S=Q.$L;X.push(b);for(var n=0;n<h.length;n++){c.kf(W,b,h[n]);if(S)c.D3(W,b+2,0);
else c.Jp(W,b+2,0);b+=S?10:6}c.oo(W,b,"8BIM");b+=4;c.oo(W,b,r.iX);b+=4;c.yw(W,b,r.opacity,1);b+=1;c.yw(W,b,r.Cw?1:0,1);
b+=1;c.yw(W,b,r.KX,1);b+=1;c.yw(W,b,0,1);b+=1;var a=b;c.Jp(W,b,0);b+=4;var K=b;b=cZ.a2D(r,W,b);b=cZ.awT(r,W,b);
var Y=c.fN(W,b,r.name.slice(0,255));b+=Y;if(Y%4!=0)b+=4-Y%4;if(r.add.lsct){r.add.lsct={type:r.add.lsct};
if(r.iX=="pass"){r.add.lsct.iX="pass";r.iX="norm"}}if(r.iX=="pass")r.add.lsct={type:r.add.lsct,iX:"pass"};
if(r.add.brit)r.add.CgEd=r.add.brit;b=bK.Vx(W,b,r.add,S,Q);delete r.add.CgEd;if(r.add.lsct){if(r.add.lsct.iX)r.iX=r.add.lsct.iX;
r.add.lsct=r.add.lsct.type}var d=b-K;c.Jp(W,a,d);return b};cZ.ahn=function(r,Q,W){var b=c.v(Q,W);W+=4;
if(b==0)return W;var X=W;r.z=new $.lA;r.z.rect=c.Lg(Q,W);W+=16;r.z.color=Q[W];W+=1;var D=cZ.gy(r.z,Q,W);
W+=1;if(D){var h=!1,S=255,a=0,K=255,Y=0;for(var n=0;n<r.Gd.length;n++)if(r.Gd[n].id==-3)h=!0;if(h){r.U0=cZ.Ov(Q,W);
W+=18}var d=W,j=Q[W];W++;if(j>>0&1){S=Q[W];W++}if(j>>1&1){a=c.Gw(Q,W);W+=8}if(j>>2&1){K=Q[W];W++}if(j>>3&1){Y=c.Gw(Q,W);
W+=8}if((W-d&1)==1)W++;r.Zj=[S,a,K,Y]}else{if(b==20)W+=2;else{r.U0=cZ.Ov(Q,W);W+=18}}return X+b};cZ.a2D=function(r,Q,W){c.Jp(Q,W,0);
W+=4;if(r.z==null)return W;var b=r.SS(),X=r.add.vmsk,D=W,h=!0;c.Jp(Q,W,0);c.se(Q,W,r.z.rect);W+=16;c.yw(Q,W,r.z.color);
W+=1;cZ.WJ(r.z,Q,W,h);W+=1;if(h){if(r.U0){cZ.amM(Q,W,r.U0);W+=18}c.yw(Q,W,15);W+=1;c.yw(Q,W,b?b.Rt:255);
W+=1;c.$y(Q,W,b?b.$E:0);W+=8;c.yw(Q,W,X?X.Rt:255);W+=1;c.$y(Q,W,X?X.$E:0);W+=8;W++}c.Jp(Q,D-4,W-D);return W};
cZ.Ov=function(r,Q){var W=new $.lA;cZ.gy(W,r,Q);Q+=1;W.color=r[Q];Q+=1;W.rect=c.Lg(r,Q);Q+=16;return W};
cZ.amM=function(r,Q,W){cZ.WJ(W,r,Q,!1);Q+=1;c.yw(r,Q,W.color);Q+=1;c.se(r,Q,W.rect);Q+=16};cZ.gy=function(r,Q,W){var b=Q[W];
r.oh=(b>>0&1)==0;r.isEnabled=(b>>1&1)==0;r.dk=(b>>3&1)==1;return b>>4&1};cZ.WJ=function(r,Q,W,b){var X=0;
if(!r.oh)X+=1<<0;if(!r.isEnabled)X+=1<<1;if(r.dk)X+=1<<3;if(b)X+=1<<4;c.yw(Q,W,X)};cZ.ao4=function(r,Q,W){var b=c.v(Q,W);
W+=4;for(var n=0;n<b;n++)r.vG[n]=Q[W+n];return W+b};cZ.awT=function(r,Q,W){c.Jp(Q,W,r.vG.length);W+=4;
Q.Jd(W,40);for(var n=0;n<40;n++){Q.data[W+n]=r.vG[n]}return W+40};function et(){}et.ak=function(r,Q,W,b){b=et.ark(Q,Q.$L,Q.xV,Q.CN,r,W,b);
return b};et.cg=function(r,Q,W,b,X,D){b=et.aqt(r,Q,W,b,X,D);return b};et.ark=function(r,Q,W,b,X,D,h){var S=X.Gd,a={},K=h;
for(var n=0;n<S.length;n++){var Y=S[n],d=Y.id,j=Y.length,U;if(d==-3)U=X.U0.rect;else if(d==-2)U=X.z.rect;
else U=X.rect;var I=et.$k(Q,W,D,U.e,U.n,h,j);h+=j;if(d==-3)X.U0.channel=I;else if(d==-2)X.z.channel=I;
else a["c"+d]=I}var f=new E.yC(0);f.mu=null;if(b==3){f.o=a.c0;f.W=a.c1;f.k=a.c2;f.mu=a["c-1"]}else if(b==1){f.o=a.c0;
f.W=a.c0;f.k=a.c0;f.mu=a["c-1"]}else if(b==4){var g=r.NT.r1039,H=a.c0,u=a.c1,s=a.c2,_=a.c3;if(g){var i=g.auq,M=17;
if(i==null){var T=ICC.R(g.buffer);console.log(T);i=g.auq=ICC.U.sampleLUT(T,M)}var R={o:H,W:u,k:s,mu:_},z=E.Q(H.length*4);
E.b8(R,z);E.j4(z);ICC.U.applyLUT4(i,M,z,z);E.q_(z,R)}else{for(var n=0;n<H.length;n++){var G=1-H[n]*(1/255),V=1-u[n]*(1/255),y=1-s[n]*(1/255),k=1-_[n]*(1/255),B=UDOC.C.cmykToRgb([G,V,y,k]);
H[n]=B[0]*255;u[n]=B[1]*255;s[n]=B[2]*255}}f.o=H;f.W=u;f.k=s;f.mu=a["c-1"]}if(f.o==null)f.o=E.Q(0);if(f.mu==null&&f.o!=null){f.mu=f.o.slice(0);
f.mu.fill(255)}if(f.W==null)f.W=f.o.slice(0);if(f.k==null)f.k=f.o.slice(0);X.buffer=E.Q(Math.max(0,X.rect.O()*4));
E.b8(f,X.buffer);return h};et.aqt=function(r,Q,W,b,X,D){var h=Q.arU(),S=new E.yC(Q.rect.O());E.q_(Q.buffer,S);
for(var n=0;n<h.length;n++){var a=h[n],K,Y;if(a==-3)K=Q.U0.rect;else if(a==-2)K=Q.z.rect;else K=Q.rect;
if(a==-3)Y=Q.U0.channel;if(a==-2)Y=Q.z.channel;if(a==-1)Y=S.mu;if(a==0)Y=S.o;if(a==1)Y=S.W;if(a==2)Y=S.k;
W.Jd(b,K.O()*3+4);var d=b;b=et.MF(r,Y,W.data,K.e,K.n,b,D[1]?3:1);var j=b-d;if(r)c.X5(W.data,X+n*10+2,j);
else c.hC(W.data,X+n*6+2,j)}return b};et.$k=function(r,Q,W,b,X,D,h){var S=c.KV(W,D);D+=2;return et.hO(r,Q,W,b,X,D,S,h-2)};
et.MF=function(r,Q,W,b,X,D,h){c.HC(W,D,h);D+=2;D=et.Bx(r,Q,W,b,X,D,h);return D};et.hO=function(r,Q,W,b,X,D,h,S){var a,K=b*X*(Q>>>3),Y=K&3,d=K+(Y==0?0:4-Y);
if(S<=0){return E.Q(d)}if(h>3){console.log("unknown compression: "+h,b,X,b*X,S);h=0}if(h==0){if(D+d<=W.length)a=W.slice(D,D+d);
else{a=E.Q(K);for(var n=0;n<K;n++)a[n]=W[D+n]}D+=K}else if(h==1){a=E.Q(K);var j=r?4:2,U=et.Cd(W,a,b,X,D,D+j*X,j);
D+=j*X+U}else if(h==2||h==3){var I=new Uint8Array(W.buffer,D+2,S-6),f=E.Q(d);UZIP.inflateRaw(I,f);if(h==3){if(Q==8)for(var g=0;
g<X;g++){var H=g*b+1,u=H+b-1,s=f[H-1];for(var _=H;_<u;_++){s+=f[_];f[_]=s&255}}else for(var g=0;g<X;
g++){var H=g*b+1,u=H+b-1,s=f[2*H-2]<<8|f[2*H-1];for(var _=H;_<u;_++){var M=_<<1;s+=f[M]<<8|f[M+1];f[M]=s>>>8;
f[M+1]=s&255}}}if(f.length==d)a=f;else{a=E.Q(d);for(var n=0;n<f.length;n++)a[n]=f[n]}}if(Q==16){var T=E.Q(b*X);
for(var n=0;n<K;n+=2)T[n>>>1]=a[n];a=T}return a};et.Bx=function(r,Q,W,b,X,D,h){var S=b*X;if(h==0)for(var n=0;
n<S;n++)W[D++]=Q[n];else if(h==1){var a=r?4:2,K=et.Q0(Q,W,b,X,D,D+a*X,a);D+=a*X+K}else if(h==2||h==3){if(h==3){var Y=new Uint8Array(Q.length);
for(var d=0;d<X;d++){var j=d*b+1,U=j+b-1,I=Q[j-1];Y[j-1]=I;for(var f=j;f<U;f++){Y[f]=Q[f]+(256-I)&255;
I=Q[f]}}Q=Y}W[D]=120;W[D+1]=156;D+=2;var g=pako.deflateRaw(Q,{a4Z:4});c.hy(W,D,g);D+=g.length+4}else console.log("Unknown compression: "+h);
return D};et.Cd=function(r,Q,W,b,X,D,h){if(!(r instanceof Uint8Array)||!(Q instanceof Uint8Array))throw"e";
var S=D,a=b|0;if(h==2)for(var n=0;n<a;n++){var K=c.KV(r,X+(n<<1));et.oe(r,D,K,Q,n*W,W);D+=K}else for(var n=0;
n<a;n++){var K=c.v(r,X+(n<<2));et.oe(r,D,K,Q,n*W,W);D+=K}return D-S};et.Q0=function(r,Q,W,b,X,D,h){var S=D;
if(h==2)for(var n=0;n<b;n++){var a=et.R3(r,n*W,W,Q,D);c.MJ(Q,X+n*2,a);D+=a}else for(var n=0;n<b;n++){var a=et.R3(r,n*W,W,Q,D);
c.hC(Q,X+n*4,a);D+=a}return D-S};et.R3=function(r,Q,fb,W,b){var X,D,h,S,a,iO,K;S=Q+fb;for(h=Q,D=b;fb>0;
h=X,fb-=iO){K=fb<128?fb:128;if(h<=S-3&&r[h+1]==r[h+0]&&r[h+2]==r[h+0]){for(X=h+3;X<h+K&&r[X]==r[h+0];
)++X;iO=X-h;W[D++]=1+256-iO;W[D++]=r[h+0]}else{for(X=h;X<h+K;)if(X<=S-3&&r[X+1]==r[X+0]&&r[X+2]==r[X+0])break;
else++X;iO=X-h;W[D++]=iO-1;for(var n=0;n<iO;n++)W[D+n]=r[h+n];D+=iO}}return D-b};et.oe=function(r,Q,W,b,X,D){for(var h=0;
h<W;){var fb=r[Q++];if(fb>=128){var S=r[Q++],a=X+(257-fb);b.fill(S,X,a);X=a;h+=2}else{for(var n=0;n<=fb;
n++)b[X+n]=r[Q+n];Q+=fb+1;X+=fb+1;h+=1+1+fb}}};function ba(){}ba.FK=function(r,Q,W){return;var b="",X=Q;
while(X!=0){var D=X%1e3+"";while(D.length<3)D="0"+D;b=(b==""?D:D+" ")+b;X=Math.floor(X/1e3)}while(b.startsWith("0")&&b!="0")b=b.slice(1);
while(b.length<11)b=" "+b;console.log("===",b,"\t".repeat(r),": "+W)};ba.aaV=function(r){var Q={NT:{}},b=0,X=0,S;
Q.$L=!1;Q.xV=8;var W=new Uint8Array(r);X=ba.xS(Q,W,b);b=X;X=ba.sc(Q,W,b);b=X;var D=c.v(W,b);b+=4+D;var h=Q.$L?8:4;
if(Q.$L)S=c.pi(W,b);else S=c.v(W,b);b+=h+S;X=ba.UC(Q,W,b);return[{Kx:new aV(0,0,Q.e,Q.n),data:Q.buffer.buffer}]};
ba.ak=function(r,Q){Q.$L=!1;Q.xV=8;var W=new Uint8Array(r),b=0,X=0,A,cF=!1,j_=!0,gY=!1,kc=0,ib=0;X=ba.xS(Q,W,b);
ba.FK(0,X-b,"PSD Header");b=X;X=ba.sc(Q,W,b);ba.FK(0,X-b,"Color Mode Data");b=X;X=ba.awi(Q,W,b);ba.FK(0,X-b,"Image Resources");
b=X;X=ba.agF(Q,W,b);ba.FK(0,X-b,"Layer And Mask Info");b=X;X=ba.UC(Q,W,b);ba.FK(0,X-b,"Merged Image");
b=X;if(Q.B.length==0){var D=Q.b_();D._J("Background");Q.B.push(D);D.buffer=Q.buffer.slice(0);D.rect=new aV(0,0,Q.e,Q.n)}if(Q.NT.r1005){Q.HW=c.an_(Q.NT.r1005,0)}if(Q.NT.r1026){var W=Q.NT.r1026;
for(var n=0;n<W.length;n+=2){var X=Q.B[n>>>1];if(X)X.dS=c.KV(W,n)}}if(Q.NT.r1072){var W=Q.NT.r1072;for(var n=0;
n<W.length;n++){var X=Q.B[n];if(X)X.J8=W[n]==1}}if(Q.NT.r1032){Q.RE=ba.WI(Q.NT.r1032,0)}delete Q.NT.r1036;
Q.Fj(Q.NT.r1039);if(Q.NT.r1050){var h=c.v,S=Q.NT.r1050,a=c.v(S,0);if(a==6){var K=4,Y=c.Lg(S,K);K+=16;
var d=c.GW(S,K);K+=4+d.length*2;var j=h(S,K);K+=4;var U=Q.Pq;for(var n=0;n<j;n++){var I=m.sn.rj(),g;
U.push(I);I=I.v;I.sliceID.v=h(S,K);K+=4;I.groupID.v=h(S,K);K+=4;var f=h(S,K);K+=4;if(f==1){g=h(S,K);
K+=4}var d=c.GW(S,K);K+=4+d.length*2;var H=h(S,K);K+=4;var u=[h(S,K),h(S,K+4),h(S,K+8),h(S,K+12)];K+=16;
m.sn.zW(U,U.length-1,u);var s=I.url.v=c.GW(S,K);K+=4+s.length*2;var _=I.null.v=c.GW(S,K);K+=4+_.length*2;
var i=I.Msge.v=c.GW(S,K);K+=4+i.length*2;var M=I.altTag.v=c.GW(S,K);K+=4+M.length*2;I.cellTextIsHTML.v=S[K]==1;
K++;var T=I.cellText.v=c.GW(S,K);K+=4+T.length*2;var R=h(S,K);K+=4;var z=h(S,K);K+=4;var G=S.slice(K,K+4);
K+=4;if(f!=2)U.pop()}}else if(a==8){var V={};bl.Z6(S,V,8,!1);var S=Q.Pq=V.slices.v;for(var n=0;n<S.length;
n++){if(S[n].v.origin.v.ESliceOrigin!="userGenerated"){S.splice(n,1);n--}}}}if(Q.NT.r1058){var y=Q.NT.r1058,k=UTIF.decode(y.buffer,{parseMN:!1,debug:!1});
a1._A(k[0],Q.L8);delete Q.NT.r1058}if(Q.NT.r1060){var B=c.CA(Q.NT.r1060);a1.ayl(B,Q.L8);delete Q.NT.r1060}if(Q.NT.r1065){var W=Q.NT.r1065;
Q.nU={};bl.Z6(W,Q.nU,4,!1)}if(Q.NT.r1069){var W=Q.NT.r1069,v=[];for(var n=2;n<W.length;n+=4){var g=c.v(W,n);
for(var l=0;l<Q.B.length;l++){var X=Q.B[l];if(X.add.lyid==g&&X.add.lsct!=3)v.push(l)}}Q.I=v}if(Q.NT.r1025){var F=Q.NT.r1025;
delete Q.NT.r1025;var L=fK.bf(F,0,F.length,Q.e,Q.n),Z=new $.vL;Z.V=L;Q.ZS[0]=bj.ei("Working Path",{vmsk:Z})}var t=Q.add.pths;
delete Q.add.pths;var o=Q.NT.r3000;if(o){A={};bl.Z6(o,A,4,!1);delete Q.NT.r3000}if(t){var O=t.pathSymmetrySelectedPath;
if(O){var x=t.pathList.v[O.v].v,C=x.pathUnicodeName.v;Q.c7=C.startsWith("Tile Symmetry")}}for(var J=0;
J<=997;J++){var q="r"+(2e3+J),F=Q.NT[q];if(F==null)break;var L=fK.bf(F,0,F.length,Q.e,Q.n),C="Path "+J;
if(t){var fd=t.pathList.v[J].v;C=fd.pathUnicodeName.v;if(C=="Tile Symmetry 1")continue}var w=A?A.keyRootDescriptorList.v[J].v.keyDescriptorList.v:$.P7(L),Z=new $.vL;
Z.V=L;Q.ZS.push(bj.ei(C,{vmsk:Z,vogk:w}));delete Q.NT[q]}delete Q.$L;var P=Q.NT.r7000,fc=Q.NT.r7001;
if(P){var p=c.CA(P);Q.AR=ba.dv(p)}if(fc){var p=c.CA(fc);Q.NA=ba.IH(p)}delete Q.NT.r7000;delete Q.NT.r7001;
var gG=new aV(0,0,Q.e,Q.n),fh=Q.add.Txt2,fJ=fh;if(fJ){fJ=fJ.GH;if(fJ._DocumentResources==null)fJ=kw.ap_(fJ)}var el=-1;
for(var n=0;n<Q.B.length;n++){var X=Q.B[n],iN=X.add.lsct,c$=X.add.vmsk,dB=X.SS();if(iN==d1.kJ){kc++;
X.add.lspf=0}else if(iN==d1.O9||iN==d1.$B)kc--;if(X.name==""){X.name="Layer "+(n+1);gY=!0}if(gY&&X.wf()&&X.iX=="norm")X.iX="pass";
if(X.$Y()&&X.Xg(Q).z){var aL=X.Xg(Q);aL.z.isEnabled=X.add.SoLd.filterFX.v.filterMaskEnable.v}if(c$&&X.tN()){var aB=iq.pN.default;
if(X.add.vstk==null)X.add.vstk=JSON.parse(JSON.stringify(aB));else{var f3="strokeStyleLineDashSet";if(X.add.vstk[f3]==null)X.add.vstk[f3]=JSON.parse(JSON.stringify(aB[f3]))}X.add.vstk.strokeStyleResolution.v=Q.HW}if(c$&&(X.add.vogk==null||E.A.jm(c$.V)!=X.add.vogk.length))X.P7();
if(!1){var jC=X.add.vogk,bc=!0;for(var iA=0;iA<jC.length;iA++){var bL=jC[iA].v.keyShapeInvalidated;if(bL==null||bL.v==!1)bc=!1}if(bc)X.P7()}if(X.add.SoLd&&X.rect.WB()){console.log("redrawing smart instance");
X.vd(Q)}if(dB==null&&X.z!=null){if(X.z.dk==!1){X.z.dk=!0;X.U0=X.z.clone()}}dB=X.SS();if(X.Zj){var aB=X.Zj,Z=c$;
if(dB){dB.Rt=aB[0];dB.$E=aB[1]}if(Z){Z.Rt=aB[2];Z.$E=aB[3]}X.Zj=null}if(dB!=null&&c$!=null&&(dB.$E+c$.$E!=0||dB.Rt+c$.Rt!=2*255))X.hR(Q);
else if(c$!=null&&!X.tN())X.hR();else if(dB&&dB.Rt!=255&&X.tN())X.hR(Q);var an=X.add.artb;if(an&&an.artboardBackgroundType==null)an.artboardBackgroundType={t:"long",v:1};
if(an&&kc!=0)delete X.add.artb;var dp=X.add.vstk;if(X.tN()&&(X.rect.WB()||c$&&c$.$E!=0||dp&&!dp.fillEnabled.v&&(!dp.strokeEnabled.v||dp.strokeStyleLineWidth.v.val==0)))X.sW(Q);
if(X.add.TySh){cF=!0;if(!X.rect.WB())j_=!1}if(X.add.TySh&&fJ){el++;var im=X.add.TySh.kN,a5=aH.mF(im),bg=fJ._DocumentObjects._TextObjects;
if(bg.length<=el){console.log("Txt2 incomplete");continue}var fM=bg[el]._Model,eT=fM._StyleRun?fM._StyleRun._RunArray:[],ev=im.EngineDict.StyleRun.RunArray;
for(var fU=0;fU<ev.length;fU++){var e8=ev[fU].StyleSheet.StyleSheetData;if(eT[fU]==null)continue;var ej=eT[fU]._RunData._StyleSheet._Features;
if(ej&&ej._BaselineDirection)e8.BaselineDirection=parseInt(ej._BaselineDirection.slice(1));if(ej&&ej._FillBackgroundFlag)e8._FillBackgroundFlag=ej._FillBackgroundFlag;
if(ej&&ej._FillBackgroundColor){var fV=ej._FillBackgroundColor,he=fV._Color._Values.slice(0);for(var l=0;
l<4;l++)he[l]=parseFloat(he[l].slice(1));e8._FillBackgroundColor={Type:1,Values:he}}if(ej&&ej._LineWidth)e8._LineWidth=parseFloat(ej._LineWidth.slice(1))}var gZ=im.EngineDict.ParagraphRun.RunArray,hQ=fM._ParagraphRun._RunArray;
if(hQ==null)hQ=[];var aJ=Math.min(hQ.length,gZ.length);for(var l=0;l<aJ;l++){var cs=gZ[l].ParagraphSheet.Properties,fN=fJ._DocumentResources._ParagraphSheetSet._Resources,j4=hQ[l]._RunData._ParagraphSheet;
if(typeof j4=="string")j4=fN[parseInt(j4.slice(1))]._Resource;var hL=j4._Parent==null?j4:fN[parseInt(j4._Parent.slice(1))]._Resource;
j4=j4._Features;hL=hL._Features;var fv=j4._ParagraphDirection;if(fv==null)fv=hL._ParagraphDirection;
if(fv)cs._Direction=parseInt(fv.slice(1));if(j4._ComposerEngine)cs._ComposerEngine=parseInt(j4._ComposerEngine.slice(1))}if(fM._AlternateGlyphRun){var hQ=fM._AlternateGlyphRun._RunArray,aJ=hQ.length,al=im.EngineDict.AlternateGlyphRun=aH.a7U();
for(var l=0;l<aJ;l++){var j4=hQ[l],dD={},kd=j4._RunData._AlternateGlyphSheet;if(kd)dD.Glyph=parseInt(kd._Glyph.slice(1));
al.RunArray.push(dD);al.RunLengthArray.push(parseInt(j4._Length.slice(1)))}}var gv=fJ._DocumentResources,j$=gv._TextFrameSet._Resources,i9=j$[el]._Resource,bv=i9._Data,jk=new au(1,0,0,1,0,0);
if(i9._0){var cM=parseFloat(i9._0[0].slice(1)),iW=parseFloat(i9._0[1].slice(1));jk.translate(cM,iW)}if(a5){jk.translate(a5[0],a5[1]);
aH.Ad(im,[0,0,a5[2]-a5[0],a5[3]-a5[1]])}else{if(i9._Bezier&&i9._Bezier._Points){var L=i9._Bezier._Points,cM=parseFloat(L[0].slice(1)),iW=parseFloat(L[1].slice(1));
if(cM!=0||iW!=0){jk.translate(cM,iW)}}}if(i9._Data&&i9._Data._FrameMatrix){var ft=i9._Data._FrameMatrix;
ft=ft.map(function(bR){return parseFloat(bR.slice(1))});jk.concat(new au(ft[0],ft[1],ft[2],ft[3],ft[4],ft[5]))}jk.concat(X.add.TySh.D);
X.add.TySh.D=jk;var H=bv._Type?parseInt(bv._Type.slice(1)):0;if(H==2||H==1&&bv._PathData&&bv._PathData._Spacing=="i-3")if(i9._Bezier){var b0=function(bR){return parseFloat(bR.slice(1))},L=i9._Bezier._Points.map(b0);
if(a5)E.p.D(L,new au(1,0,0,1,-a5[0],-a5[1]),L);var ko=bv._PathData?bv._PathData._Reversed:!1,co=bv._TextOnPathTRange;
if(co==null)co=["f-3","f-3"];im.Curve={Points:L,TextOnPathTRange:co.map(b0),Reversed:ko==null?!1:ko};
X.add.TySh.add={vmsk:new $.vL,vogk:null};aH.LI(X.add.TySh)}if(bv._LineOrientation=="i2")im._LineOrientation=2}}m.tK.Uf(Q,!0);
var gr={},bh=[];for(var n=0;n<Q.B.length;n++){var bM=Q.B[n].add.lyid;if(bM==null)continue;var ib=Math.max(ib,bM);
if(gr[bM]!=null)bh.push(n);else gr[bM]=!0}for(var n=0;n<bh.length;n++)Q.B[bh[n]].add.lyid=ib+1+n};ba.WI=function(r,Q){var W=c.v(r,Q+12),b=[];
for(var n=0;n<W;n++){var X=r[Q+16+n*5+4],D=c.Kv(r,Q+16+n*5)/32;b.push([X,D])}return b};ba.dv=function(r){var Q=new DOMParser,W=Q.parseFromString(r,"text/xml").firstChild.children[0],b=W.getElementsByTagName("variables");
if(b.length==0)return[];b=b[0].children;var X=[],D="varName trait docRef placementMethod align valign clip".split(" ");
for(var h=0;h<b.length;h++){var S=b[h],a={};X.push(a);for(var K=0;K<D.length;K++){var Y=D[K],d=S.getAttribute(Y);
if(d==null)continue;a[Y]=d}}return X};ba.IH=function(r){var Q=new DOMParser,W=Q.parseFromString(r,"text/xml").firstChild.children,b=[[]];
if(W==null)return b;for(var n=0;n<W.length;n++){var X=W[n],D=[];b.push(D);for(var h=0;h<X.children.length;
h++){var S=X.children[h];if(n==0)b[0].push(S.tagName);D.push(S.textContent)}}return b};ba.T4=function(r,Q,W){m.tK.UT(r);
m.tK.Uf(r,!1);r.$L=W[3]==!0;var b=[],X=[],I=0,g=1,M=16,gY=0;for(var n=0;n<r.B.length;n++){var D=r.B[n];
if(D.$Y()&&D.Xg(r).z){D.add.SoLd.filterFX.v.filterMaskEnable.v=D.Xg(r).z.isEnabled}if(D.add.TySh){var h=D.add.TySh.kN,S=aH.yv(h);
D.add.TySh.pn.TextIndex={t:"long",v:b.length};b.push(h);if(S==2)aH.RA(D.add.TySh)}var a=D.add.vstk;if(a)a.strokeStyleResolution.v=r.HW;
if(D.tN()||W[2]&&D.add.SoLd){X[n]=[D.rect,D.buffer];D.rect=new aV;D.buffer=E.Q(0);if(D.add.SoLd){var K=D.Xg(r);
if(K!=null){X[n].push(K.buffer);K.buffer=E.Q(K.buffer.length)}}}}if(b.length>0){var Y=r.add.Txt2?r.add.Txt2.GH:null;
if(r.add.Txt2==null)r.add.Txt2={};r.add.Txt2.GH=de.apW(b,null,Y)}var d=[r.add.lnk2,r.add.FEid,r.add.Patt],j=r.abf(r.B);
r.aqb(j);r.NT.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);c.Jh(r.NT.r1005,0,r.HW);c.Jh(r.NT.r1005,8,r.HW);
if(r.F0()){r.NT.r1022=new Uint8Array([0,3+r.Ev.length-1,0])}else delete r.NT.r1022;var U=new Uint8Array(r.B.length*2),f=new Uint8Array(r.B.length);
for(var n=0;n<r.B.length;n++){var D=r.B[n],H=D.dS,u=D.J8?1:0;c.MJ(U,n*2,H);f[n]=u;if(H>I)I=H;if(u==0)g=0}if(I>0)r.NT.r1026=U;
if(g<1)r.NT.r1072=f;var s=r.RE,_=s.length,i=r.NT.r1032=E.Q(16+5*_,!0);c.hC(i,0,1);c.hC(i,4,576);c.hC(i,8,576);
c.hC(i,12,_);for(var n=0;n<_;n++){c.iH(i,M,Math.round(s[n][1]*32));i[M+4]=s[n][0];M+=5}if(W[0]!=!0){var T=[r.buffer,new aV(0,0,r.e,r.n)],R=0;
E.P$(T);while(T[R+1].O()>200*200)R+=2;var z=fH.Qt("jpg"),G=T[R+1],V=new Uint8Array(z.Al([[T[R].buffer]],G.e,G.n)),i=r.NT.r1036=E.Q(28+V.length);
c.hC(i,0,1);c.hC(i,4,G.e);c.hC(i,8,G.n);c.hC(i,12,G.e*3);c.hC(i,16,G.O()*3);c.hC(i,20,V.length);c.MJ(i,24,24);
c.MJ(i,26,1);i.set(V,28)}var y=E.vR(r.buffer),k=[];if(y)k.push({name:"Transparency",Mi:{o:255,W:0,k:0},VT:100,tv:1});
k=k.concat(r.Ev);delete r.NT.r1045;delete r.NT.r1006;delete r.NT.r1077;var B=new f8;M=0;var v=new Uint8Array(4+k.length*13);
v[3]=1;for(var n=0;n<k.length;n++){var l=k[n],F=l.name+"\0";c.bs(B,M,F);M+=4+F.length*2;var L=4+n*13;
ia.qp(v,L,l.Mi);v[L+11]=l.VT;v[L+12]=l.tv}r.NT.r1045=B.data.slice(0,M);r.NT.r1077=v;for(var n=0;n<r.Pq.length;
n++)r.Pq[r.Pq.length-n-1].v.sliceID.v=2+n*3;var Z={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:r.Pq}},B=new f8;
c.Jp(B,0,8);c.Jp(B,4,16);var t=bl.X3(B,Z,8);r.NT.r1050=B.data.slice(0,t+8);var B=new f8;c.Jp(B,0,16);
var t=bl.X3(B,r.nU,4);r.NT.r1065=B.data.slice(0,t+4);var A=r.I;i=r.NT.r1069=E.Q(2+A.length*4,!0);c.MJ(i,0,A.length);
for(var n=0;n<A.length;n++)c.hC(i,2+4*n,r.B[A[n]].add.lyid);delete r.NT.r1058;delete r.NT.r1060;if(Object.keys(r.L8).length!=0){var o=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
a1.bZ(r.L8,o[0],W[0]&&W[1]);r.NT.r1058=new Uint8Array(UTIF.encode(o));var O=a1.anQ(r.L8);r.NT.r1060=c.gl(O)}var x=[],C=[],J=r.ZS.slice(0);
if(r.c7){var q=fK.NK([{type:6},{type:8,all:0},{type:3,length:5,frule:1,third:2,prmA:0,prmB:0},{type:5,c:[0,0,0,0,0,0]},{type:5,c:[20,0,20,0,20,0]},{type:5,c:[20,20,20,20,20,20]},{type:5,c:[0,20,0,20,0,20]},{type:5,c:[0,0,0,0,0,0]}]),fd=new $.vL;
fd.V=q;J.push(bj.ei("Tile Symmetry 1",{vmsk:fd,vogk:$.P7(q)}))}for(var n=0;n<J.length;n++){var w=J[n],q=w.add.vmsk.V;
if(n==0&&q.length==2)continue;var P=E.Q(q.length*26);fK.Er(P,0,q,r.e,r.n);var fc=n==0?1025:2e3+n-1;r.NT["r"+fc]=P;
if(n!=0){var p={classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:w.name}};if(w.name=="Tile Symmetry 1")p.pathSymmetryClass={t:"Objc",v:{classID:"pathSymmetryClass",pathSymmetryMode:{t:"enum",v:{pathSymmetryModeEnum:"pathSymmetryModeRectangularTile"}},pathSymmetryCount:{t:"long",v:1}}};
x.push({t:"Objc",v:p});C.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:w.add.vogk}}})}}if(x.length!=0){r.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:x}};
if(r.c7)r.add.pths.pathSymmetrySelectedPath={t:"long",v:x.length-1};C={classID:"null",keyRootDescriptorList:{t:"VlLs",v:C}};
var B=new f8;c.Jp(B,0,16);var t=bl.X3(B,C,4);r.NT.r3000=B.data.slice(0,t+4)}else{delete r.add.pths;delete r.NT.r3000}if(r.AR.length!=0){var gG="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var n=0;n<r.AR.length;n++){var fh=r.AR[n],fJ=[];for(var fc in fh)fJ.push(fc+"=\""+fh[fc]+"\"");gG+="<variable "+fJ.join(" ")+">\n</variable>\n"}gG+="</variables>\n</variableSet>\n</variableSets>";
r.NT.r7000=c.gl(gG)}if(r.NA.length!=0){var gG="<sampleDataSets psdPath=\""+r.name+"\">\n";for(var n=1;
n<r.NA.length;n++){var cF=r.NA[n];gG+="<sampleDataSet dataSetName=\"Data Set "+n+"\">\n";for(var j_=0;
j_<cF.length;j_++)gG+="<"+r.NA[0][j_]+">"+cF[j_].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+r.NA[0][j_]+">\n";
gG+="</sampleDataSet>\n"}gG+="</sampleDataSets>";r.NT.r7001=c.gl(gG)}gY=ba.anW(r,Q,gY,3+k.length);gY=ba.ann(r,Q,gY);
gY=ba.avD(r,Q,gY);gY=ba.aeA(r,Q,gY,W,y);gY=ba.amU(r,Q,gY,W[0],y);var kc=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var n=0;n<kc.length;n++)delete r.NT["r"+kc[n]];for(var n=0;n<r.B.length;n++){var D=r.B[n];if(D.tN()||W[2]&&D.add.SoLd){D.rect=X[n][0];
D.buffer=X[n][1];if(X[n][2]){var K=D.Xg(r);X[n].push(K.buffer);K.buffer=X[n][2]}}}r.aqb(d);m.tK.Uf(r,!0);
delete r.$L;return gY};ba.xS=function(r,Q,W){var b=c.zV(Q,W,4);W+=4;if(b!="8BPS")alert("invalid header signature: "+b);
var X=c.KV(Q,W);W+=2;r.$L=X==2;if(X!=1&&X!=2)alert("invalid version: "+X);W+=6;r.Rk=c.KV(Q,W);W+=2;r.n=c.Kv(Q,W);
W+=4;r.e=c.Kv(Q,W);W+=4;r.xV=c.KV(Q,W);W+=2;r.CN=c.KV(Q,W);W+=2;return W};ba.anW=function(r,Q,W,b){Q.Jd(0,64);
c._a(Q.data,W,"8BPS");W+=4;c.MJ(Q.data,W,r.$L?2:1);W+=2;c.hC(Q.data,W,0);W+=4;c.MJ(Q.data,W,0);W+=2;
c.MJ(Q.data,W,b);W+=2;c.iH(Q.data,W,r.n);W+=4;c.iH(Q.data,W,r.e);W+=4;c.MJ(Q.data,W,8);W+=2;c.MJ(Q.data,W,3);
W+=2;return W};ba.sc=function(r,Q,W){var b=c.Kv(Q,W);W+=4;if(b!=0)r.Tr=Q.slice(W,W+b);W+=b;return W};
ba.ann=function(r,Q,W){c.Rd(Q,W,0);W+=4;return W};ba.awi=function(r,Q,W){var b=c.v(Q,W),X=0;W+=4;var D=[];
while(X<b){var h=c.zV(Q,W+X,4);X+=4;var S=c.KV(Q,W+X);X+=2;var a=c.eH(Q,W+X);X+=a.length;if(h=="MeSa"&&(S==7e3||S==7001)){}else if(h!="8BIM"){D.push(S);
console.log("Unknown Image Resources signature: "+h+", ID: "+S)}var K=c.v(Q,W+X);X+=4;if(r.NT["r"+S]!=null)console.log("--- two resources with same ID");
r.NT["r"+S]=c.yk(Q,W+X,K);X+=K+(K&1)}for(var n=0;n<D.length;n++)delete r.NT["r"+D[n]];return W+b};ba.avD=function(r,Q,W){var b=W,h=0;
W+=4;var X=[];for(var D in r.NT){X.push(parseInt(D.slice(1)))}X.sort(function(d,j){return d-j});for(var n=0;
n<X.length;n++){var S=X[n];c.oo(Q,W+h,S==7e3||S==7001?"MeSa":"8BIM");h+=4;c.yi(Q,W+h,S);h+=2;var a=c.fN(Q,W+h,"");
h+=a;var K=r.NT["r"+S],Y=K.length;c.Jp(Q,W+h,Y);h+=4;c.c4(Q,W+h,K);h+=Y;if(Y%2==1)h++}c.Jp(Q,b,h);return W+h};
ba.agF=function(r,Q,W){var b=W,X,D,h=r.$L?8:4;if(r.$L)X=c.pi(Q,W);else X=c.v(Q,W);W+=h;if(X==0)return b+h;
D=ba.a20(r,Q,W);ba.FK(1,D-W,"Layer Info");W=D;D=ba.axw(r,Q,W);ba.FK(1,D-W,"Global Layer Mask Info");
W=D;D=bK.R9(Q,W,b+h+X,r.add,r.$L,r);ba.FK(1,D-W,"Project Add Info");W=D;return b+h+X};ba.aeA=function(r,Q,W,b,X){var D=W;
c.Jp(Q,W,0);W+=4;if(r.$L){c.Jp(Q,W,0);W+=4}W=ba.awJ(r,Q,W,b,X);W=ba.a2u(r,Q,W);W=bK.Vx(Q,W,r.add,r.$L,r);
if(r.$L)c.D3(Q,D,W-D-8);else c.Jp(Q,D,W-D-4);return W};ba.a20=function(r,Q,W){var b,X=r.$L?8:4;if(r.$L)b=c.pi(Q,W);
else b=c.v(Q,W);W+=X;if(b!=0)ba.kL(r,Q,W);return W+b};ba.kL=function(r,Q,W){var b=c.I0(Q,W);W+=2;var X=Math.abs(b);
for(var n=0;n<X;n++){var D=new $;W=cZ.ak(D,r,Q,W);r.B[n]=D}var h=new aV(0,0,r.e,r.n);for(var n=0;n<X;
n++){var S=r.B[n],a=S.SS(),K=et.ak(S,r,Q,W);if(K-W>8)ba.FK(2,K-W,"Lay: "+S.getName());W=K;ba.iJ(S,h);
if(a)ba.iJ(a,h)}};ba.iJ=function(r,Q){var W=r.rect.O(),b=r.rect.ww(Q),X=b.O()/W;if(W>2e3*3e3&&X<.5){if(r.buffer){var D=E.Q(b.O()*4);
E.TU(r.buffer,r.rect,D,b);r.buffer=D;r.rect=b}else{var D=E.Q(b.O());E.L0(r.channel,r.rect,D,b);r.channel=D;
r.rect=b}alert("Removing hidden parts of layers")}};ba.awJ=function(r,Q,W,b,X){var D=W,h=r.$L;W+=h?8:4;
W=ba.ayH(r,Q,W,b,X);var S=W-D-(h?8:4);if(S%2!=0)S++;if(h)c.D3(Q,D,S);else c.Jp(Q,D,S);return D+S+(h?8:4)};
ba.ayH=function(r,Q,W,b,X){var D=r.B.length;c.kf(Q,W,X?-D:D);W+=2;var h=[];for(var n=0;n<D;n++)W=cZ.T4(r.B[n],r,Q,W,h);
for(var n=0;n<D;n++)W=et.cg(r.$L,r.B[n],Q,W,h[n],b);return W};ba.axw=function(r,Q,W){var b=c.v(Q,W);
W+=4;W+=b;return W};ba.a2u=function(r,Q,W){var b=c.Jp(Q,W,0);W+=4;return W};ba.UC=function(r,Q,W){var b=r.CN,X="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),D=[1,1,1,3,4,1,1,3],h,f;
if(b!=3){if(b==1||b==2||b==4)console.log("Project will be converted from "+X[b]+" to "+X[3]+" mode.");
else{alert("Color mode "+X[b]+" is not supported yet :(")}if(b==4)r.add.fcmy=1}if(r.NT.r1045){h=[];var S=r.NT.r1045,a=0;
while(a<S.length){var K=c.Fb(S,a);h.push(K);a+=4+2+K.length*2}}var Y=D[b]+(h==null||h[0]=="Transparency"?1:0),d=r.e,j=r.n,U=d*j,I=c.KV(Q,W);
W+=2;r.buffer=E.Q(U*4);E.tl(r.buffer,4278190080);var g=W;for(var H=0;H<r.Rk;H++){if(I==0){f=et.hO(r.$L,r.xV,Q,d,j,W,I);
W+=U*(r.xV>>>3)}else if(I==1){f=E.Q(U);var u=r.$L?4:2;if(H==0)W+=r.Rk*j*u;W+=et.Cd(Q,f,d,j,g+H*j*u,W,u)}else{console.log("unknown compression of image data: ",I);
return}if(H<Y){E.nV(f,r.buffer,H);if(r.Rk==1&&H==0){E.nV(f,r.buffer,1);E.nV(f,r.buffer,2)}}else{var s=new $.lA,_=H-Y,i=H-D[r.CN];
s.name=h?h[i]:"Alpha";if(s.name=="Quick Mask"){s.Xo=!0;r.Qw.push(_)}s.rect=new aV(0,0,d,j);s.channel=f;
s.color=0;s.Dg();r.Ev[_]=s;if(r.NT.r1077){var S=r.NT.r1077.slice(4+i*13);s.Mi=ia.cG(S,0);s.VT=S[11];
s.tv=S[12];if(s.tv==2)s.Xo=!0}}}r.Rk=4;if(r.CN==2)for(var n=0;n<U;n++){var M=n*4,T=r.buffer[M];r.buffer[M]=r.Tr[0+T];
r.buffer[M+1]=r.Tr[256+T];r.buffer[M+2]=r.Tr[512+T]}return W};ba.amU=function(r,Q,W,b,X){var D=1,h=16,S=r.e,a=r.n,Y,d;
c.yi(Q,W,D);W+=2;var K=S*a;if(!b){d=new E.yC(S*a);E.q_(r.buffer,d);var j=d.o,U=d.W,I=d.k,f=d.mu;for(var n=0;
n<K;n++){var g=f[n]*(1/255);j[n]=~~(j[n]*g+255*(1-g));U[n]=~~(U[n]*g+255*(1-g));I[n]=~~(I[n]*g+255*(1-g))}}else Y=E.Q(K);
var H=[Y,Y,Y];if(!b)H=[d.o,d.W,d.k];if(X)H.push(b?Y:d.mu);for(var n=0;n<r.Ev.length;n++){H.push(r.Ev[n].Vn(new aV(0,0,r.e,r.n)))}var u=W;
for(var s=0;s<H.length;s++){Q.Jd(W,S*a+4);Y=H[s];if(D==0||D==2||D==3)W=et.Bx(r.$L,Y,Q.data,S,a,W,D);
else{var _=r.$L?4:2;if(s==0)W+=H.length*a*_;var i=W;W+=et.Q0(Y,Q.data,S,a,u+s*a*_,W,_)}}return W};function gi(){}gi.ak=function(r){var Q={};
gi.Rg(r,Q,0,0);return Q};gi.T4=function(r,Q){var W=0;W=gi.rb(r,Q,W,0);return W};gi.Rg=function(r,Q,W,b){while(r[W]!="<".charCodeAt(0))W++;
W+=2;while(!0){if(r[W]=="/".charCodeAt(0)){W++;var X=c.indexOf(r," ".charCodeAt(0),W,W+50),D=c.indexOf(r,"\n".charCodeAt(0),W,W+50);
if(D==-1)D=Infinity;if(X==-1)X=Infinity;var h=Math.min(D,X),S=c.zV(r,W,h-W),a=gi.u6(r,h+1,b+1,S);Q[S]=a.h;
W=h+1;W+=a.size}else if(r[W]==">".charCodeAt(0)){W+=2;break}else{var K=r[W];if(K==10||K==9||K==32)W++;
else{console.log("unknown byte: "+K+", char: "+String.fromCharCode(K),W);W++}}}return W};gi.rb=function(r,Q,W,b){c.oo(Q,W,"<<\n");
W+=3;var X=gi.abJ;for(var D in r){c.yw(Q,W,"\t".charCodeAt(0),b+1);W+=b+1;c.oo(Q,W,"/"+D);W+=1+D.length;
if(X(r[D])||r[D]instanceof Array){c.oo(Q,W," ");W++}else{c.oo(Q,W,"\n");W++;c.yw(Q,W,"\t".charCodeAt(0),b+1);
W+=b+1}W=gi.OM(r[D],Q,W,b+1);c.oo(Q,W,"\n");W++}c.yw(Q,W,"\t".charCodeAt(0),b);W+=b;c.oo(Q,W,">>");W+=2;
return W};gi.u6=function(r,Q,W,b){var X=Q,D={size:0,h:0};while(!0){while(r[Q]==" ".charCodeAt(0)||r[Q]=="\t".charCodeAt(0)||r[Q]=="\n".charCodeAt(0))Q++;
if(r[Q]=="<".charCodeAt(0)){D.h={};Q=gi.Rg(r,D.h,Q,W+1);break}else if(r[Q]=="(".charCodeAt(0)){Q+=3;
var h=Q;while(!0){if(r[h-1]!="\\".charCodeAt(0)&&r[h]==")".charCodeAt(0)&&(r[h+1]=="\n".charCodeAt(0)||r[h+1]==" ".charCodeAt(0)))break;
else h++}D.h=c.dK(r,Q,h);Q=h+2;break}else if(r[Q]=="[".charCodeAt(0)){Q++;D.h=[];while(r[Q]==" ".charCodeAt(0)||r[Q]=="\t".charCodeAt(0)||r[Q]=="\n".charCodeAt(0))Q++;
while(r[Q]!="]".charCodeAt(0)){var S=gi.u6(r,Q,W+1,b);D.h.push(S.h);Q+=S.size;while(r[Q]==" ".charCodeAt(0)||r[Q]=="\t".charCodeAt(0)||r[Q]=="\n".charCodeAt(0))Q++}Q++;
break}else{var a=c.indexOf(r," ".charCodeAt(0),Q,Q+50),K=c.indexOf(r,"\n".charCodeAt(0),Q,Q+50);if(K==-1)K=Infinity;
if(a==-1)a=Infinity;var Y=c.zV(r,Q,Math.min(a,K)-Q).trim(),d=parseFloat(Y);if(!isNaN(d)){D.h=parseFloat(Y);
Q=Math.min(a,K)+1;break}else if(Y=="true"||Y=="false"){D.h=Y=="true";Q=Math.min(a,K)+1;break}else if(Y=="null"||Y=="NaN"||Y=="undefined"){D.h=0;
Q=Math.min(a,K)+1;break}else{console.log("unknown identifier: "+Y);throw"e"}Q=Math.min(a,K)+1}}D.size=Q-X;
return D};gi.OM=function(r,Q,W,b){if(r instanceof Array){var X=r.length==0||typeof r[0]=="number";if(X){c.oo(Q,W,"[ ");
W+=2;for(var n=0;n<r.length;n++){var D=r[n]+" ";c.oo(Q,W,D);W+=D.length}c.oo(Q,W,"]");W+=1}else{c.oo(Q,W,"[\n");
W+=2;for(var n=0;n<r.length;n++){c.yw(Q,W,"\t".charCodeAt(0),b);W+=b;W=gi.OM(r[n],Q,W,b);c.oo(Q,W,"\n");
W++}c.yw(Q,W,"\t".charCodeAt(0),b);W+=b;c.oo(Q,W,"]");W+=1}}else if(r instanceof Object){W=gi.rb(r,Q,W,b)}else if(typeof r=="string"){c.oo(Q,W,"(");
W++;c.yw(Q,W,254);W++;c.yw(Q,W,255);W++;W=c.I$(Q,W,r);c.oo(Q,W,")");W+=1}else{var D=r+"";c.oo(Q,W,D);
W+=D.length}return W};gi.abJ=function(r){var Q=typeof r;return Q=="string"||Q=="number"||Q=="boolean"};
function j8(){}j8.ak=function(r){var Q={};j8.oF(r,Q,0,0);return Q};j8.T4=function(r,Q){var W=0;c.oo(Q,W," ");
W++;W=j8.t8(r,Q,W,0);W--;Q.Jd(W,2);Q.data[W]=Q.data[W+1]=0;W+=2;return W};j8.Rg=function(r,Q,W,b){while(r[W]!="<".charCodeAt(0)){W++;
console.log("\u0161ipka")}W+=2;W=j8.oF(r,Q,W,b);return W};j8.rb=function(r,Q,W,b){c.oo(Q,W,"<< ");W+=3;
W=j8.t8(r,Q,W,b);c.oo(Q,W,">>");W+=2;return W};j8.db=function(r){return r==9||r==10||r==32};j8.oF=function(r,Q,W,b){while(!0){while(j8.db(r[W])||r[W]==0)W++;
if(W>=r.length)break;if(r[W]=="/".charCodeAt(0)){W++;var X=W;while(!j8.db(r[X]))X++;var D=c.zV(r,W,X-W);
W=X+1;var h=j8.u6(r,W,b,D);Q["_"+D]=h.h;W+=h.size}else if(r[W]==">".charCodeAt(0)){W+=2;break}else{var S=r[W];
console.log(c.zV(r,W,W+100));console.log("unknown byte: "+S+", char: "+String.fromCharCode(S)+", offset: "+W);
W++;throw"e";return-1}}return W};j8.t8=function(r,Q,W,b){for(var X in r){var D=X.substring(1,X.length);
c.oo(Q,W,"/"+D);W+=1+D.length;c.oo(Q,W," ");W++;W=j8.OM(r[X],Q,W,b+1);c.oo(Q,W," ");W++}return W};j8.u6=function(r,Q,W,b){var X=Q,D={type:"",size:0,h:0};
while(j8.db(r[Q]))Q++;if(r[Q]=="<".charCodeAt(0)){D.type="Object";D.h={};Q=j8.Rg(r,D.h,Q,W+1)}else if(r[Q]=="(".charCodeAt(0)){D.type="String";
Q++;if(r[Q]==")".charCodeAt(0)){D.h="e";Q++}else{Q+=2;var h=Q,S=0;while(!0){if(r[h]==")".charCodeAt(0)&&r[h-1]!="\\".charCodeAt(0))break;
else h+=1}D.h="s"+c.dK(r,Q,h);Q=h+2}}else if(r[Q]=="[".charCodeAt(0)){Q++;D.h=[];D.type="Array";while(j8.db(r[Q]))Q++;
while(r[Q]!="]".charCodeAt(0)){var a=j8.u6(r,Q,W+1,b);if(a==-1)return-1;D.h.push(a.h);Q+=a.size;delete a.size;
while(j8.db(r[Q]))Q++}Q++}else{var K=Q;while(!j8.db(r[K]))K++;var Y=c.zV(r,Q,K-Q),d=parseFloat(Y);if(!isNaN(d)&&Y.indexOf(".")!=-1){D.type="Float";
var j=parseFloat(Y);D.h="f"+j}else if(!isNaN(d)&&Y.indexOf(".")==-1){D.type="Integer";D.h="i"+parseInt(Y)}else if(Y=="true"||Y=="false"){D.type="Boolean";
D.h=Y=="true"}else if(Y.charAt(0)=="/"){D.type="BString";D.h=Y}else if(Y=="NaN"||Y=="undefined"){D.type="Float";
D.h="f0"}else{console.log("unknown value",JSON.stringify(Y));throw"e"}Q=K+1}D.size=Q-X;return D};j8.abS=function(r){if(r==Math.round(r))return r+".0";
var Q=r.toFixed(5);while(Q.endsWith("0")&&Q[Q.length-2]!=".")Q=Q.slice(0,Q.length-1);if(0<r&&r<1)Q=Q.slice(1);
if(-1<r&&r<0)Q="-"+Q.slice(2);return Q};j8.OM=function(r,Q,W,b){var X=typeof r=="string"?r.charAt(0):"";
if(r instanceof Array){c.oo(Q,W,"[ ");W+=2;for(var n=0;n<r.length;n++){W=j8.OM(r[n],Q,W,b);c.oo(Q,W," ");
W++}c.oo(Q,W,"]");W+=1}else if(r instanceof Object){W=j8.rb(r,Q,W,b)}else if(X=="e"){c.oo(Q,W,"()");
W+=2}else if(X=="s"){c.oo(Q,W,"(");W++;c.yw(Q,W,254);W++;c.yw(Q,W,255);W++;W=c.I$(Q,W,r.substring(1));
c.oo(Q,W,")");W++}else if(X=="/"){c.oo(Q,W,r);W+=r.length}else if(X=="f"){var D=parseFloat(r.substring(1)),h=j8.abS(D);
c.oo(Q,W,h);W+=h.length}else if(X=="i"){c.oo(Q,W,r.substring(1));W+=r.length-1}else{var h=r+"";c.oo(Q,W,h);
W+=h.length}return W};function c(){}c.ahe=function(fb){var r="";for(var n=3;n>=0;n--)r+=String.fromCharCode(fb>>n*8&255);
return r};c.acg=function(r){var fb=0;for(var n=r.length-1;n>=0;n--)fb|=r.charCodeAt(n)<<(3-n)*8;return fb};
c.indexOf=function(r,Q,W,b){if(W==null)W=0;if(b==null)b=r.length;b=Math.min(b,r.length);for(var n=W;
n<b;n++)if(r[n]==Q)return n;return-1};c.n9=function(r,Q,W){if(W==null)W=0;var b=Q.length,X=r.length-b;
if(typeof Q=="string"){var D=[];for(var n=0;n<b;n++)D.push(Q.charCodeAt(n));Q=D}if(Q.length>0){var h=Q[0];
for(var n=W;n<X;n++)if(r[n]==h){var S=!0;for(var a=1;a<b;a++)if(Q[a]!=r[n+a]){S=!1;break}if(S)return n}}return-1};
c.dK=function(r,Q,W){var b=[],D="";while(Q<W){var X=r[Q++];if(X=="\\".charCodeAt(0))b.push(r[Q++]);else b.push(X)}for(var n=0;
n<b.length;n+=2)D+=String.fromCharCode(b[n]<<8|b[n+1]);return D};c.akM=function(r,Q,W){var b=new Uint8Array(2);
for(var n=0;n<W.length;n++){c.MJ(b,0,W.charCodeAt(n));if(b[0]==")".charCodeAt(0)||b[0]=="(".charCodeAt(0)||b[0]=="\\".charCodeAt(0)){r[Q]="\\".charCodeAt(0);
Q++}r[Q]=b[0];Q++;if(b[1]==")".charCodeAt(0)||b[1]=="(".charCodeAt(0)||b[1]=="\\".charCodeAt(0)){r[Q]="\\".charCodeAt(0);
Q++}r[Q]=b[1];Q++}return Q};c.I$=function(r,Q,W){r.Jd(Q,4*W.length);return c.akM(r.data,Q,W)};c.Tk=function(r,Q,W){var b="";
for(var n=0;n<W;n++){var X=r[Q++]|r[Q++]<<8;b+=String.fromCharCode(X)}return b};c.mf=function(r,Q,W){var b="";
for(var n=0;n<W;n++){var X=r[Q++]<<8|r[Q++];b+=String.fromCharCode(X)}return b};c.a15=function(r,Q,W){for(var n=0;
n<W.length;n++){var b=W.charCodeAt(n);c.Z4(r,Q+2*n,b)}};c.C6=function(r,Q,W){for(var n=0;n<W.length;
n++){var b=W.charCodeAt(n);c.MJ(r,Q+2*n,b)}};c.afv=function(r,Q,W){r.Jd(Q,2*W.length);c.C6(r.data,Q,W)};
c.a3V=function(r,n,Q){var W=[],b=0,X=0;Q+=n;while(n<Q){b=r[n++];if((b&128)==0)X=b;else if((b&224)==192){X=(b&31)<<6;
b=r[n++];X|=b&63}else if((b&240)==224){X=(b&15)<<12;b=r[n++];X|=(b&63)<<6;b=r[n++];X|=b&63}else if((b&248)==240){X=(b&7)<<18;
b=r[n++];X|=(b&63)<<12;b=r[n++];X|=(b&63)<<6;b=r[n++];X|=b&63}else throw"e";W.push(X)}return W};c.Ki=window.TextDecoder?new window.TextDecoder("utf8"):null;
c.CA=function(r,Q,W){if(Q==null)Q=0;if(W==null)W=r.length;if(c.Ki&&Q==0&&W==r.length)return c.Ki.decode(r);
var b=c.a3V(r,Q,W),X=b.length;for(var n=0;n<X;n++)b[n]=String.fromCharCode(b[n]);return b.join("")};
c.Vd=window.TextEncoder?new window.TextEncoder("utf8"):null;c.gl=function(r){if(c.Vd)return c.Vd.encode(r);
var Q=new Uint8Array(r.length*4),W=c.XX(r,Q,0);return Q.slice(0,W)};c.XX=function(r,Q,W){var b=r.length,n=0;
for(var X=0;X<b;X++){var D=r.charCodeAt(X);if((D&4294967295-(1<<7)+1)==0){Q[W+n]=D;n++}else if((D&4294967295-(1<<11)+1)==0){Q[W+n]=192|D>>6;
Q[W+n+1]=128|D>>0&63;n+=2}else if((D&4294967295-(1<<16)+1)==0){Q[W+n]=224|D>>12;Q[W+n+1]=128|D>>6&63;
Q[W+n+2]=128|D>>0&63;n+=3}else if((D&4294967295-(1<<21)+1)==0){Q[W+n]=240|D>>18;Q[W+n+1]=128|D>>12&63;
Q[W+n+2]=128|D>>6&63;Q[W+n+3]=128|D>>0&63;n+=4}else throw"e"}return n};c.V5=function(r,Q){var W=c.v(r,Q),b=c.CA(r,Q+4,W-1);
return{Am:b,qC:4+W}};c.aok=function(r,Q){var W=c.aN(r,Q),b=c.Tk(r,Q+4,W);return b};c.GW=function(r,Q){var W=c.v(r,Q),b=c.mf(r,Q+4,W);
return b};c.Fb=function(r,Q){var W=c.v(r,Q),b=c.mf(r,Q+4,W-1);return b};c.am6=function(r,Q,W){c.lw(r,Q,W.length);
Q+=4;c.a15(r,Q,W)};c.a8i=function(r,Q,W){c.hC(r,Q,W.length);Q+=4;c.C6(r,Q,W)};c.bs=function(r,Q,W){r.Jd(Q,4+2*W.length);
c.a8i(r.data,Q,W)};c.ajv=function(r,Q,W){r.Jd(Q,4+2*W.length);c.am6(r.data,Q,W)};c.rd=function(r,Q,W){var b=[];
for(var n=0;n<W;n++)b.push(String.fromCharCode(r[Q+n]));return b};c.avb=function(r,Q,W){var b=!1,X=r.length-W.length;
for(var n=Q;n<X;n++){for(var D=0;D<W.length;D++){if(r[n+D]!=W.charCodeAt(D))break;if(D==W.length-1)return n}}};
c.zV=function(r,Q,W){var b="";for(var n=0;n<W;n++)b+=String.fromCharCode(r[Q+n]);return b};c._a=function(r,Q,W){for(var n=0;
n<W.length;n++)r[Q+n]=W.charCodeAt(n)};c.oo=function(r,Q,W){r.Jd(Q,W.length);c._a(r.data,Q,W)};c.arx=function(r,Q,W){var b="";
for(var n=0;n<W;n++){var X=r[Q+n];if(X<10)b+="  ";else if(X<100)b+=" ";b+=X+", "}return b};c.KV=function(r,Q){return r[Q]<<8|r[Q+1]};
c.MJ=function(r,Q,fb){r[Q]=fb>>8&255;r[Q+1]=fb&255};c.yi=function(r,Q,fb){r.Jd(Q,4);c.MJ(r.data,Q,fb)};
c.an_=function(r,Q){var W=c.KV(r,Q),b=c.KV(r,Q+2);return W+b*(1/65536)};c.Jh=function(r,Q,fb){var W=Math.floor(fb),b=Math.floor((fb-W)*65536);
c.MJ(r,Q,W);c.MJ(r,Q+2,b)};c.e2=function(r,Q){return r[Q+1]<<8|r[Q]};c.Z4=function(r,Q,fb){r[Q+1]=fb>>8&255;
r[Q]=fb&255};c.bK=function(r,Q,fb){r.Jd(Q,4);c.Z4(r.data,Q,fb)};c.I0=function(r,Q){c.b2[0]=r[Q+1];c.b2[1]=r[Q];
return c.Sm[0]};c.MW=function(r,Q){c.b2[0]=r[Q];c.b2[1]=r[Q+1];return c.Sm[0]};c.HC=c.MJ;c.kf=c.yi;c.Kv=function(r,Q){c.ae[0]=r[Q+3];
c.ae[1]=r[Q+2];c.ae[2]=r[Q+1];c.ae[3]=r[Q];return c.vF[0]};c.iH=function(r,Q,fb){c.vF[0]=fb;r[Q+3]=c.ae[0];
r[Q+2]=c.ae[1];r[Q+1]=c.ae[2];r[Q+0]=c.ae[3]};c.Rd=function(r,Q,fb){r.Jd(Q,4);c.iH(r.data,Q,fb)};c.Qe=function(r,Q,W,b){W[b+0]=r[Q+0];
W[b+1]=r[Q+1];W[b+2]=r[Q+2];W[b+3]=r[Q+3]};c.aN=function(r,Q){c.Qe(r,Q,c.ae,0);return c.Kr[0]};c.lw=function(r,Q,fb){c.Kr[0]=fb;
c.Qe(c.ae,0,r,Q)};c.EZ=function(r,Q,fb){r.Jd(Q,4);c.lw(r.data,Q,fb)};c.jH=function(r,Q){c.Qe(r,Q,c.ae,0);
return c.vF[0]};c.av2=function(r,Q,fb){c.vF[0]=fb;c.Qe(c.ae,0,r,Q)};c.a7_=function(r,Q,fb){r.Jd(Q,4);
c.av2(r.data,Q,fb)};c.v=function(r,Q){var W=r[Q]*(256*256*256)+(r[Q+1]<<16|r[Q+2]<<8|r[Q+3]);return W};
c.hC=function(r,Q,fb){r[Q]=fb>>24&255;r[Q+1]=fb>>16&255;r[Q+2]=fb>>8&255;r[Q+3]=fb>>0&255};c.Jp=function(r,Q,fb){r.Jd(Q,4);
c.hC(r.data,Q,fb)};c.pi=function(r,Q){return c.v(r,Q)<<32|c.v(r,Q+4)};c.X5=function(r,Q,fb){c.hC(r,Q,fb>>16>>16);
c.hC(r,Q+4,fb&4294967295)};c.D3=function(r,Q,fb){r.Jd(Q,8);c.X5(r.data,Q,fb)};c.Gw=function(r,Q){var W=new Uint8Array(8);
for(var n=0;n<8;n++)W[n]=r[Q+7-n];var b=new Float64Array(W.buffer);return b[0]};c.R4=function(r,Q){var W=new Uint8Array(8);
for(var n=0;n<8;n++)W[n]=r[Q+n];var b=new Float64Array(W.buffer);return b[0]};c.o4=function(r,Q,fb){var W=new Float64Array(1);
W[0]=fb;var b=new Uint8Array(W.buffer);for(var n=0;n<4;n++){var X=b[n];b[n]=b[7-n];b[7-n]=X}for(var n=0;
n<8;n++)r[Q+n]=b[n]};c.$y=function(r,Q,fb){r.Jd(Q,8);c.o4(r.data,Q,fb)};c.sJ=function(r,Q){c.ae[0]=r[Q+3];
c.ae[1]=r[Q+2];c.ae[2]=r[Q+1];c.ae[3]=r[Q+0];return c.Fz[0]};c.Pv=function(r,Q){c.ae[0]=r[Q+0];c.ae[1]=r[Q+1];
c.ae[2]=r[Q+2];c.ae[3]=r[Q+3];return c.Fz[0]};c.Mp=function(r,Q,fb){c.Fz[0]=fb;r[Q+0]=c.ae[3];r[Q+1]=c.ae[2];
r[Q+2]=c.ae[1];r[Q+3]=c.ae[0]};c.afT=function(r,Q,fb){r.Jd(Q,4);c.Mp(r.data,Q,fb)};c.KR=function(r,Q,fb){c.Fz[0]=fb;
r[Q+0]=c.ae[0];r[Q+1]=c.ae[1];r[Q+2]=c.ae[2];r[Q+3]=c.ae[3]};c.awI=function(r,Q,fb){r.Jd(Q,4);c.KR(r.data,Q,fb)};
c.a13=function(r,Q){var W=c.Kv(r,Q),b=W*(1/(1<<24));return b};c.uB=function(r,Q,W){var b=Math.floor(W*(1<<24));
c.iH(r,Q,b)};c.au0=function(r,Q,W){r.Jd(Q,4);c.uB(r.data,Q,W)};c.eH=function(r,Q){var W=r[Q],b=c.zV(r,Q+1,W);
W+=1-W%2;return{Nv:b,length:W+1}};c.anV=function(r,Q,W){var b=W.length;r[Q]=b;c._a(r,Q+1,W);if(b%2==0){r[Q+1+b]=0;
++b}return b+1};c.fN=function(r,Q,W){r.Jd(Q,W.length+2);return c.anV(r.data,Q,W)};c.Wt=function(r,Q){var W=new au;
W.mu=c.Gw(r,Q+0*8);W.k=c.Gw(r,Q+1*8);W.th=c.Gw(r,Q+2*8);W.HR=c.Gw(r,Q+3*8);W.rn=c.Gw(r,Q+4*8);W.NQ=c.Gw(r,Q+5*8);
return W};c.RC=function(r,Q,W){c.o4(r,Q+0*8,W.mu);c.o4(r,Q+1*8,W.k);c.o4(r,Q+2*8,W.th);c.o4(r,Q+3*8,W.HR);
c.o4(r,Q+4*8,W.rn);c.o4(r,Q+5*8,W.NQ)};c.abN=function(r,Q,W){r.Jd(Q,48);c.RC(r.data,Q,W)};c.aum=function(r,Q){var W=c.sJ(r,Q),b=c.sJ(r,Q+4),X=c.sJ(r,Q+8),D=c.sJ(r,Q+12);
return new aV(W,b,X-W,D-b)};c.asa=function(r,Q,W){c.Mp(r,Q,W.x);c.Mp(r,Q+4,W.y);c.Mp(r,Q+8,W.x+W.e);
c.Mp(r,Q+12,W.y+W.n)};c.arT=function(r,Q,W){r.Jd(Q,16);c.asa(r.data,Q,W)};c.Lg=function(r,Q){var W=c.Kv(r,Q),b=c.Kv(r,Q+4),X=c.Kv(r,Q+8),D=c.Kv(r,Q+12);
return new aV(b,W,D-b,X-W)};c.so=function(r,Q,W){c.iH(r,Q,W.y);c.iH(r,Q+4,W.x);c.iH(r,Q+8,W.y+W.n);c.iH(r,Q+12,W.x+W.e)};
c.se=function(r,Q,W){r.Jd(Q,16);c.so(r.data,Q,W)};c.yk=function(r,Q,W){var b=new Uint8Array(W);for(var n=0;
n<W;n++)b[n]=r[Q+n];return b};c.hy=function(r,Q,W){r.set(W,Q)};c.c4=function(r,Q,W){r.Jd(Q,W.length);
c.hy(r.data,Q,W)};c.abb=function(r,Q,W,fb){if(!fb)fb=1;for(var n=0;n<fb;n++)r[Q+n]=W};c.yw=function(r,Q,W,fb){if(!fb)fb=1;
r.Jd(Q,fb);c.abb(r.data,Q,W,fb)};c.Sm=new Int16Array(1);c.b2=new Uint8Array(c.Sm.buffer);c.vF=new Int32Array(1);
c.Kr=new Uint32Array(c.vF.buffer);c.ae=new Uint8Array(c.vF.buffer);c.Fz=new Float32Array(c.vF.buffer);
function iV(){}iV.ak=function(r,Q){var W=new Uint8Array(r),b=0,X=c.zV(W,b,9),S=4,a=100;b+=9;var D=c.zV(W,b,4);
b+=4;b++;Q.e=c.v(W,b);b+=4;Q.n=c.v(W,b);b+=4;var h=c.v(W,b);b+=4;if(h!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(D)==-1){a=c.v(W,b);b+=4;if(parseInt(D.slice(1))>=7){a=a}else alert("Unknown XCF version: "+D);
S=8}var K={};b=iV.dY(W,b,K);var Y=[];b=iV.bb(W,b,Y,S);var d=[];b=iV.bb(W,b,d,S);Q.Dq=0;for(var n=0;n<Y.length;
n++)iV.ayB(W,Y[n],Q,K,S,a);while(Q.Dq>0){Q.B.push(Q.Tz());Q.Dq--}Q.B.reverse();delete Q.Dq;Q.buffer=E.Q(Q.e*Q.n*4);
if(Q.B.length==0)console.log("No layers!!!");for(var n=0;n<d.length;n++){var j=iV.kF(W,d[n],K,S,a);if(j.Iu[iL.aaT])Q.P={channel:j.nq,rect:new aV(0,0,Q.e,Q.n)}}};
iV.ayB=function(r,Q,W,b,X,D){var h=W.b_(),S=c.v(r,Q),d=0;Q+=4;var a=c.v(r,Q);Q+=4;h.rect=new aV(0,0,S,a);
var K=c.v(r,Q);Q+=4;var Y=c.V5(r,Q);Q+=Y.qC;h._J(Y.Am);var j={};Q=iV.dY(r,Q,j);if(j[iL.wW]){var U=j[iL.wW];
d=U.length/4-1}if(j[iL.Ga]){h.rect.x=c.Kv(j[iL.Ga],0);h.rect.y=c.Kv(j[iL.Ga],4)}if(j[iL.I8]){h.opacity=c.v(j[iL.I8],0)}if(j[iL.aoo]){h.add.lsct=d1.O9;
h.KX=24}if(j[iL.NJ]){var I=c.v(j[iL.NJ],0);h.iX=iL.asR[I];if(h.wf()&&h.iX=="norm")h.iX="pass"}if(j[iL.Yb]){if(c.v(j[iL.Yb],0)==0)h.KX+=2}if(j[iL.FT]){var f=c.v(j[iL.FT],0);
h.add.lsct=f&1==1?d1.O9:d1.$B}if(j[iL.o6]){var g=j[iL.o6];for(var H in g){var u=g[H];if(H=="gimp-text-layer"){var s=iV.a38(u),_=s.text,i=s.font,M=s.color,T=s["font-size"];
if(_==null&&s.markup){var R=new DOMParser,z=R.parseFromString(s.markup,"image/svg+xml");while(z.firstChild!=null&&z.firstChild.tagName!=null){z=z.firstChild;
var G=z.getAttribute("font"),V=z.getAttribute("foreground"),y=z.getAttribute("size");if(G!=null)i=G;
if(V!=null){V=CSS.cG(V);M=[1,V.o/255,V.W/255,V.k/255]}if(y!=null){T=""+parseFloat(y)/245}}_=z.textContent}h.add.lnsr="rend";
h.add.TySh=aH.M6(0,0);h.add.TySh.$C=new aV(0,0,100,100);h.add.TySh.D=new au(1,0,0,1,h.rect.x,h.rect.y);
var k=h.add.TySh.kN;aH.ig(k,0,_);var B=aH.Z2(k,0,0),v=s.justify,l=s["line-spacing"];if(M)B.jr.FillColor={Type:1,Values:[1,parseFloat(M[1]),parseFloat(M[2]),parseFloat(M[3])]};
if(T){T=Math.round(parseFloat(T));B.jr.FontSize=T;h.add.TySh.D.NQ+=Math.min(17,T*.17)}if(l){l=Math.round(parseFloat(l)+B.jr.FontSize*1.2);
B.jr.Leading=l;B.jr.AutoLeading=!1}if(v)B.GG.Justification=["left","right","center","fill"].indexOf(v);
if(i&&i!="Sans-serif"){var F=i.toLowerCase(),L="bold italic semi extra regular condensed light".split(" "),Z=F.length;
for(var n=0;n<L.length;n++){var t=F.indexOf(L[n]);if(t!=-1&&t<Z&&F[t-1]==" ")Z=t}if(Z!=F.length)i=i.slice(0,Z-1).split(" ").join("")+"-"+i.slice(Z).split(" ").join("");
aH.Oz(B,i)}aH.Yf(k,0,_.length,B);var A=s["box-width"],o=s["box-height"],O=A?parseFloat(A):h.rect.e,x=o?parseFloat(o):h.rect.n;
aH.GK(k,1);aH.Ad(k,[0,0,Math.ceil(O),Math.ceil(x)])}else console.log("Unknown property "+H)}}while(W.Dq>d){W.B.push(W.Tz());
W.Dq--}W.Dq=d;if(h.add.lsct==d1.O9||h.add.lsct==d1.$B)W.Dq++;var C=X==4?c.v:c.pi,J=C(r,Q);Q+=X;var q=C(r,Q);
Q+=X;if(h.UE()){h.buffer=E.Q(h.rect.O()*4);var fd=new E.yC(h.rect.O());iV.xY(r,J,fd,b,X,D);E.b8(fd,h.buffer)}if(q!=0){h.z=new $.lA;
var w=iV.kF(r,q,b,X,D);h.z.channel=w.nq;h.z.rect=h.rect.clone();if(j[iL.CS])h.z.isEnabled=c.v(j[iL.CS],0)==1;
h.z.color=h.z.channel[0];h.z.Dg()}if(h.wf())h.rect=new aV;W.B.push(h)};iV.a38=function(r){var Q="("+c.CA(r,0,r.length-1)+")",W=[],b={};
iV.oy(Q,1,W);iV.a24(W,b);return b};iV.a24=function(r,Q){for(var n=0;n<r.length;n++){var W=r[n],b=W[0];
if(W.length==2)Q[b]=W[1];else Q[b]=W.slice(1)}};iV.oy=function(r,Q,W){while(!0){if(Q>=r.length)throw"e";
var b=r.charAt(Q);Q++;if(b=="("){var X=[];Q=iV.oy(r,Q,X);W.push(X)}else if(b==" "||b=="\n"||b=="\r"){}else if(b==")")return Q;
else if(b=="\""){var D=Q;while(!0){var h=r[Q];Q++;if(h=="\"")break;if(h=="\\")Q++}W.push(JSON.parse(r.slice(D-1,Q)))}else{var D=Q-1;
while(r[Q]!=" "&&r[Q]!=")")Q++;W.push(r.slice(D,Q))}}};iV.kF=function(r,Q,W,b,X){var D=c.v(r,Q);Q+=4;
var h=c.v(r,Q);Q+=4;var S=c.V5(r,Q);Q+=S.qC;var a={};Q=iV.dY(r,Q,a);var K=new E.yC(D*h),Y=b==4?c.v:c.pi,d=Y(r,Q);
Q+=b;iV.xY(r,d,K,W,b,X);return{nq:K.o,Iu:a}};iV.xY=function(r,Q,W,b,X,D){var h=c.v(r,Q);Q+=4;var S=c.v(r,Q);
Q+=4;var a=c.v(r,Q);Q+=4;var K=X==4?c.v:c.pi,Y=K(r,Q);Q+=X;iV.agH(r,Y,W,b,a,X,D)};iV.agH=function(r,Q,W,b,X,D,h){var S=c.v(r,Q),Y=0,n=0;
Q+=4;var a=c.v(r,Q);Q+=4;var K=new aV(0,0,S,a);if(h==100||h==150)Y=1;else if(h==200||h==250)Y=2;else if(h==300||h==350)Y=4;
else if(h==500||h==550)Y=2;else if(h==600||h==650)Y=4;else if(h==700||h==750)Y=8;else{alert("unsupported bit depth "+h);
throw"e"}var d=X/Y,Y=Math.round(X/d),j=[];Q=iV.bb(r,Q,j,D);var U=new E.yC(64*64*Y),I=new aV,f=b[iL.aq0][0],g=[U.o,U.W,U.k,U.mu];
if(d==3)U.mu.fill(255);var H=Date.now();for(var u=0;u<a;u+=64)for(var s=0;s<S;s+=64){var _=Math.min(S-s,64),i=Math.min(a-u,64),M=_*i;
I.DX(s,u,_,i);iV.a8e(r,j[n++],M*Y,f,d,g);if(h==100||h==150){}else if(h==250){for(var T=0;T<d;T++){var R=g[T];
for(var z=0;z<M;z++){var G=R[z]<<8|R[M+z];R[z]=Math.min(G>>>8,255)}}}else if(h==600){var V=iV.aqQ(),y=new Uint32Array(1),k=new Float32Array(y.buffer);
for(var T=0;T<d;T++){var R=g[T];for(var z=0;z<M;z++){y[0]=R[z]<<24|R[M+z]<<16|R[(M<<1)+z]<<8|R[(M<<1)+M+z]<<0;
var B=k[0];if(B<0)B=0;else if(B>1)B=1;R[z]=V[~~(.5+B*1e3)]}}}else console.log("unknown data format",h);
E.ow(U,I,W,K)}};iV.aqQ=function(){var r=iV.a37;if(r!=null)return r;r=iV.a37=new Uint8Array(1001);for(var n=0;
n<1001;n++)r[n]=~~(.49+255*E.Lz(n*.001));return r};iV.a8e=function(r,Q,W,b,X,D){if(b==1){for(var h=0;
h<X;h++){var S=D[h],a=0;while(a<W){var fb=r[Q];Q++;if(fb<127){var K=r[Q];Q++;fb++;for(var n=0;n<fb;n++)S[a+n]=K}else if(fb==127){var Y=r[Q];
Q++;var d=r[Q];Q++;var K=r[Q];Q++;fb=Y<<8|d;for(var n=0;n<fb;n++)S[a+n]=K}else if(fb==128){var Y=r[Q];
Q++;var d=r[Q];Q++;fb=Y<<8|d;for(var n=0;n<fb;n++)S[a+n]=r[Q+n];Q+=fb}else{fb=256-fb;for(var n=0;n<fb;
n++)S[a+n]=r[Q+n];Q+=fb}a+=fb}}}else if(b==2){var j=pako.inflate(r.slice(Q)),U=Math.round(j.length/W);
for(var n=0;n<W;n++){var I=n*U;D[0][n]=j[I];D[1][n]=j[I+1];D[2][n]=j[I+2];D[3][n]=U==3?255:j[I+3]}}else alert("Unknown compression "+b)};
iV.bb=function(r,Q,W,b){var X=b==4?c.v:c.pi;while(!0){var D=X(r,Q);Q+=b;if(D==0)break;else W.push(D)}return Q};
iV.dY=function(r,Q,W){while(!0){var b=c.v(r,Q);Q+=4;var X=c.v(r,Q);Q+=4;if(b==iL.ald)break;else if(b==iL.o6)W[b]=iV.apU(r,Q,Q+X);
else W[b]=c.yk(r,Q,X);Q+=X}return Q};iV.apU=function(r,Q,W){var b={};while(Q<W){var X=c.V5(r,Q);Q+=X.qC;
var D=c.v(r,Q);Q+=4;if(D!=1)console.log("unknown flags",D);var h=c.v(r,Q);Q+=4;b[X.Am]=c.yk(r,Q,h);Q+=h}return b};
var iL={ald:0,ahy:1,a7b:2,abU:3,aaT:4,akb:5,I8:6,NJ:7,Yb:8,aw$:9,apN:10,CS:11,a7q:12,a5l:13,agh:14,Ga:15,acO:16,aq0:17,ah9:18,atc:19,alf:20,o6:21,al7:22,al2:23,a1n:24,amo:25,a6Q:26,asy:27,a4U:28,aoo:29,wW:30,FT:31,a0P:32,apl:33,agP:34,agf:35,a7v:36,a8y:37,ajT:38,a29:0,ant:1,ado:2,ahb:3,agL:1,aku:2,ayf:0,a5D:1,alP:1};
iL.asR="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var fR=function(){var r=!1,Q,W,s;function b(){var M=c.zV(Q,W,4);W+=4;return M[3]+M[2]+M[1]+M[0]}function X(){var M=c.zV(Q,W,4);
W+=4;return M}function D(){var M=Q[W];W+=1;return M}function h(){var M=c.e2(Q,W);W+=2;return M}function S(){var M=c.aN(Q,W);
W+=4;return M}function a(){var M=c.jH(Q,W);W+=4;return M}function K(){var M=c.aN(Q,W);W+=8;return M}function Y(){var M=c.Pv(Q,W);
W+=4;return M}function d(){var M=c.R4(Q,W);W+=8;return M}function j(){var M=c.e2(Q,W),T=c.CA(Q,W+2,M);
W+=2+M;return T}function U(){var M=c.aN(Q,W),T=c.CA(Q,W+4,M);W+=4+M;return T}function I(M){W=M;var T=[];
while(W!=0){var R=X();if(R!="#FT4"&&R!="#FT3"&&R!="#FT2")throw R;var z=K(),G=K(),V=K(),y=K(),k=K(),B=S(),v=S(),l=S(),F=h(),L=D(),Z={};
T.push(Z);for(var n=0;n<B;n++){var t=S(),A=D();if(A!=0&&A!=1&&A!=2)throw A;var o=[];if(A==0||A==1){var O=K(),x=K(),C=K(),J=S(),q=D(),fd=S(),w=R!="#FT4"?0:S(),P=null;
if(R=="#FAT"||R=="#FT2"){switch(q){case 1:q=1;break;case 2:q=65;break;case 3:q=129;break;case 4:q=193;
break;default:q=0;break}}if(A==0)P=j();o=[O,x,C,q,P]}Z["i"+t]=[A,o]}for(var n=0;n<F;n++){var fc=h(),p=h(),gG=K(),fh=c.zV(Q,W,fc);
W+=fc}W=z}T.reverse();for(var fJ=1;fJ<T.length;fJ++){var Z=T[fJ],cF=T[fJ]=JSON.parse(JSON.stringify(T[fJ-1]));
for(var j_ in Z){var gY=Z[j_];if(gY[0]==0)cF[j_]=gY;else if(gY[0]==1){gY[1][4]=cF[j_][1][4];cF[j_]=gY}else if(gY[0]==2)delete cF[j_]}}var kc=T.pop(),el=[];
for(var j_ in kc)el.push(kc[j_][1]);el.sort(function(iN,c$){return iN[0]-c$[0]});return el}function f(M,T,R,z){while(W<Q.length){var G=D(),B=null;
if(G==0){if(z){var V=D();if(V!=2){var y=b()}if(V==0)W+=4;z=!1;continue}else{break}}var k=b();if(r)console.log("  ".repeat(T),G,G&127,k,M._type);
if(G>127)B=g(G,T,R);else B=H(G,T,R);M[k]=B}}function g(M,T,R){var z=[];M=M&127;if(M==43)W+=4;var G=S();
if(M==50){var V=b(),y=h();if(y!=1)throw"e";for(var n=0;n<G;n++){var k={_status:"NotShared",_type:V};
z.push(k);var B=D();if(B!=1)throw B;f(k,T+1,R)}}else for(var n=0;n<G;n++){z.push(H(M,T,R));if(M==42)M=2}return z}function H(M,T,R){var z=null;
if(M==49){z={};var G=D();if(G!=0){var V=S();if(R==null){z._id=V;z._status=["Shared","Link"][G-1]}if(R&&G==2)z=R[V];
if(G==1){if(R)R[V]=z;var y=D(),k=!1;if(y>1)throw y;z._type=b();if(r)console.log("  ".repeat(T),"new",z._type,y,W);
if(y==0){while(!0){var B=h();if(B!=0&&B!=1&&B!=2&&B!=4)throw B;if(Q[W]!=0){k=!0;break}var v=h();if(v==512)break;
var l=b();if(v==256)break}}f(z,T+1,R,k)}}}else if(M==50){z={_status:"NotShared"};if(D()==1){z._type=b();
W+=2;f(z,T+1,R)}}else if(M==1)z={type:"byte",value:D()};else if(M==2)z={type:"uint16",value:h()};else if(M==3)z={type:"uint32",value:S()};
else if(M==4)z={type:"uint64",value:K()};else if(M==7)z={type:"int32",value:a()};else if(M==8)z={type:"int64",value:K()};
else if(M==9)z={type:"float32",value:Y()};else if(M==10)z={type:"float64",value:d()};else if(M==21)z={type:"Vec2i",value:[S(),S()]};
else if(M==23)z={type:"Vec4i",value:[S(),S(),S(),S()]};else if(M==33)z={type:"Vec4f",value:[Y(),Y(),Y(),Y()]};
else if(M==36)z={type:"Vec2",value:[d(),d()]};else if(M==38)z={type:"Vec4",value:[d(),d(),d(),d()]};
else if(M==40)z={type:"Vec6",value:[d(),d(),d(),d(),d(),d()]};else if(M==41)z={type:"bool",value:D()!=0};
else if(M==42)z={type:"Enum",value:S()};else if(M==43)z={type:"string",value:U()};else if(M==44){var F=h();
z={type:"curv16",value:[d(),F==12?[D(),D(),D(),D()]:[S(),S()]]}}else if(M==45){var F=S();z={type:"buff",value:Q.slice(W,W+F)};
W+=F}else if(M==47){z={type:"uint32",value:S()}}else if(M==48){var L=[],Z=h();if(Z!=1)throw Z;if(Q[W]==135){var t=g(D(),T+1,R),A=g(D(),T+1,R),o=g(D(),T+1,R);
L=[t,A,o]}else{var O=1;if(Q[W]==3){D();O=S()}for(var n=0;n<O;n++){if(D()!=41)throw"e";var V=D();if(V!=0&&V!=1)throw V;
if(D()!=172)throw"e";var x=S(),C=h(),J=[];L.push(J);if(C!=18)throw C;if(x>2e3)throw x;for(var q=0;q<x;
q++)J.push([d(),d(),D(),D()])}}W++;z={type:"curve",value:L}}else if(M==51){z={type:"EmbeddedData"};z[b()]=U()}else if(M==52)z={type:"uint32",value:S()};
else if(M==56)z={type:"Color32",value:[D(),D(),D(),D()]};else if(M==60)z={type:"ColorGRAY",value:[Y(),Y()]};
else if(M==68)z={type:"ColorRGBA",value:[Y(),Y(),Y(),Y()]};else if(M==72)z={type:"ColorCMYK",value:[Y(),Y(),Y(),Y(),Y()]};
else{throw M}return M==49||M==50||M==51?z:z.value}function u(M){var T=0,R=M.length;for(var n=0;n<R;n++)M[n]=T=T+M[n]&255}function _(M){Q=M;
W=4;var T=S(),R=X();if(R!="nsrP")throw R;var R=X();if(R!="#Inf")throw R;var z=K();s=K();var G=K(),V=K(),y=K(),k=S(),B=S(),R=X();
if(R!="Prot")throw R;var k=S(),v=I(z),l={},F=Date.now();for(var L=0;L<v.length;L++){var Z=v[L],t=Z[3],C=null;
W=Z[0];var R=X();if(R!="#Fil")throw R;var A=t>>>5&1,o=t&3,O=t&192;switch(O){case 64:O=1;A=0;break;case 128:O=2;
break;case 192:O=3;break;default:O=0;A=0}var x=new Uint8Array(Q.buffer,W,Z[2]);if(o==0)C=x;else if(o==1)C=pako.inflate(x);
else if(o==2)C=fH.oI.xk(x,Z[1]);else throw o;if(A==0){if(O==1)u(C);if(O==2)throw"e"}else throw A;l[Z[4]]=C}return l}function i(M){var T=_(new Uint8Array(M));
Q=T["doc.dat"];W=16;var R={};f(R,0,[]);return[T,R,s]}return{a8x:i}}();function iD(){}iD.ak=function(){function r(U,I){var f=Date.now(),g=fR.a8x(U),H=g[0],u=g[1],s=g[2],_=u.DocR,i=_.DfSz,M=_.Chld;
if(M.length!=1)throw"e";var T=M[0],R=T.SprB;M=T.Chld;I.e=~~R[2];I.n=~~R[3];I.buffer=E.Q(I.e*I.n*4);var z=[0,{}];
for(var n=0;n<M.length;n++)X(M[n],I,H,new au,z,0);I.dQ(z[0]);console.log(Date.now()-f,"Document created");
f=Date.now()}function Q(U){return new au(U[0],U[3],U[1],U[4],U[2],U[5])}function W(U,I){var f=I.Xfrm;
f=f?Q(f):new au;f.concat(U);return f}function b(U){var I={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[U];
return I?I:"norm"}function X(U,I,f,g,H,u){var s=U._type,_=U.Chld,i=I.b_();i._J(U.Desc==null||U.Desc==""?s=="Grup"?"Folder":"Layer":U.Desc);
i.ky(U.Visi);i.opacity=Math.round(255*U.Opac);if(U.FOpc!=1)i.add.iOpa=Math.round(255*U.FOpc);var M=U.Blnd;
if(M!=null)i.iX=b(M);var T=W(g,U),R=s=="ShpN"||s=="PCrv";if(_){I.B.push(I.Tz());i.add.lsct=d1.O9;i.iX="pass";
i.KX=24;if(s=="ShpN"){var z=U.ShpB;i.NG(new aV(z[0]+T.rn,z[1]+T.NQ,z[2]-z[0],z[3]-z[1]));H[0]++;i.add.artb.Clr={t:"Objc",v:E.M.rY({o:255,W:255,k:255})}}for(var n=0;
n<_.length;n++)X(_[n],I,f,T,H,u+1)}else if(s=="Rstr"||s=="ImgN"||s=="MRst"){var G=U.Bitm,V=G.Bckg,y=Date.now(),k;
if(V==null){k=K(G,f,H[1]);i.rect=k[2].clone();i.buffer=k[1].slice(0);i.rect.x+=T.rn;i.rect.y+=T.NQ}if(V||T.mO()!=1){var B,v=0,l=0;
if(V){var F=f[V.Data],L=c.n9(F,"ataD")+4,Z=c.aN(F,L);L+=4;B=F.slice(L,L+Z)}else{v=i.rect.x-T.rn;l=i.rect.y-T.NQ;
if(k[3]==null)k[3]=new Uint8Array(fH.Qt("PNG").Al([[i.buffer.buffer]],i.rect.e,i.rect.n));B=k[3].slice(0)}var t=I.jS(B,i.getName(),0,0);
t.KX=i.KX;t.opacity=i.opacity;i=t;var A=new au;A.translate(v,l);A.concat(T);var o=i.rect.clone();o.x=o.y=0;
var O=E.p.vk(o).C;E.p.D(O,A,O);i.add.SoLd.Trnf=m.EA.Aa(O);i.add.SoLd.nonAffineTransform=m.EA.Aa(O);i.vd(I,!1)}}else if(s=="TxtA"||s=="TxtF"){i.add.lnsr="rend";
i.add.TySh=aH.M6(0,0);i.add.TySh.$C=new aV(0,0,100,100);var x=U.TxtH.FrmB,C=new au,w=0;C.translate(x[0],x[1]);
C.concat(T);i.add.TySh.D=C;var J=i.add.TySh.kN,q=U.StSt,fd=q.Blok;if(fd.length!=1)throw"e";for(var P=0;
P<fd.length;P++){var fc=fd[P],p=w,gG=0,fh=fc.Glyp.Utf8;fh=fh.replace(/\u2028/g,"\n");fh=fh.replace(/\u2029/g,"\n");
fh=fh.slice(0,fh.length-1);aH.ig(J,w,fh);w+=fh.length;var fJ=fc.GAtt.Runs,cF=fc.PAtt.Runs[0],j_=cF.Item.Ints[0];
for(var gY=0;gY<fJ.length;gY++){var kc=fJ[gY],el=kc.Indx,iN=kc.Item,c$=iN.Objs,dB=aH.Z2(J,p,1);dB.GG.Justification=j_==0?0:j_==1?2:1;
aH.Oz(dB,iN.DFnt.Post);dB.jr.FontSize=iN.Doub[0];for(var n=0;n<c$.length;n++){var aL=c$[n];if(aL._type=="FDsc"){var aB=aL.FDeF;
if(aB._type=="FilS"){var f3=a(aB.Colr);dB.jr.FillColor={Type:1,Values:[1,f3[0],f3[1],f3[2]]}}}}aH.Yf(J,p+gG,p+Math.min(el,fh.length),dB);
gG=el}}aH.GK(J,1);aH.Ad(J,[0,0,Math.round(x[2]-x[0]),Math.round((x[3]-x[1])*1.2)]);I.Vo=!0}else if(R){i.KX|=16;
var jC=i.add.vstk=JSON.parse(JSON.stringify(iq.pN.default));jC.strokeEnabled.v=!1;var bc=i.add.vmsk=D(U);
E.A.Zl(bc.V,T);if(U.BFFl){var iA=U.BFFl[0].FDeF,bL=iA._type;if(bL=="FilS")i.add.SoCo={classID:"null",Clr:S(iA.Colr)};
else if(bL=="FilG"){var an=i.add.GdFl=JSON.parse(iq.WS[iq.order.indexOf("GrFl")]);h(iA,an)}else if(bL=="FilN"){i.add.SoCo={classID:"null",Clr:{t:"Objc",v:E.M.rY({o:0,W:0,k:0})}};
jC.fillEnabled.v=!1}else console.log(bL)}if(U.LILn){var dp=U.LILn[0].LDeL,im=dp.Wght;if(im!=0){jC.strokeEnabled.v=!0;
jC.strokeStyleLineWidth.v.val=im;var iA=U.LIFl[0].FDeF,bL=iA._type;if(bL=="FilS")jC.strokeStyleContent.v.Clr=S(iA.Colr);
else if(bL=="FilN")jC.strokeEnabled.v=!1}}i.P7();i.hR(I)}else console.log(s);var a5=U.AdCh,bg=[];if(a5)for(var n=0;
n<a5.length;n++){var fM=a5[n],eT=fM._type;if(eT=="ShpN"||eT=="PCrv"){var bc=i.add.vmsk=D(fM),ev=W(T,fM);
E.A.Zl(bc.V,ev);i.P7();i.hR(I)}else if(fM.AdjP){var fU=fM.AdjP,e8=fU._type,ej={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[e8];
if(ej==null){console.log(fU);continue}var fV=jv.gj(ej,{});bg.push(fV);var he=fV.v.Fltr.v;if(e8=="LevP"){var gZ=fB.S5(he,0);
gZ[0]=fU.OutB*255;gZ[1]=fU.OutW*255;fB.Q_(he,0,gZ)}else if(e8=="WhBP"){var gZ=fB.S5(he,2);gZ[4]=100+fU.WBTi*20;
fB.Q_(he,2,gZ);var gZ=fB.S5(he,3);gZ[4]=100+fU.WBTi*200;fB.Q_(he,3,gZ)}else if(e8=="HSSP"){var gZ=ku.S5(he,0);
gZ[0]=Math.round(fU.HueA*256);gZ[1]=Math.round(fU.SatA*256);gZ[2]=Math.round(fU.LumA*256);ku.Q_(he,0,gZ)}else if(e8=="RecP"){he.Clrz.v=!0;
var gZ=ku.S5(he,0);gZ[0]=Math.round(fU.RecH*100);gZ[1]=Math.round(fU.RecS*100);gZ[2]=Math.round(fU.RecL*100);
ku.Q_(he,0,gZ)}else if(e8=="B&CP"){he.Brgh.v=Math.round(fU.Brig*100);he.Cntr.v=Math.round(fU.Ctrs*100-100)}else if(e8=="PosP"){he.Lvls.v=fU.Post}else if(e8=="VibP"){he.vibrance.v=fU.Vibr-100;
he.Strt.v=Math.round(fU.Satu*100)}else if(e8=="ExpP"){he.Exps.v=fU.Expo;he.gammaCorrection.v=fU.Gamm/2.2}else if(e8=="ThrP"){he.Lvl.v=Math.round(fU.Thre*255)}else if(e8=="CrvP"){var aJ=fU.Mast["Cnt "],cs=fU.Mast.Vals,gZ=f0.S5(he,0),fN=gZ[0];
for(var j4=0;j4<aJ;j4++){var hL=gZ[j4]=JSON.parse(JSON.stringify(fN));hL.v.Hrzn.v=Math.round(cs[j4]*255);
hL.v.Vrtc.v=Math.round(cs[4+j4]*255)}f0.Q_(he,0,gZ)}}else console.log(fM)}if(bg.length!=0&&i.add.SoLd){i.add.SoLd.filterFX=jv.qQ();
I.jJ({id:i.add.SoLd.placed.v,rect:new aV,buffer:E.Q(1),z:new $.lA});i.add.SoLd.filterFX.v.filterFXList.v=bg;
i.vd(I,!1)}var fv=U.FiEf;if(fv&&fv.length!=0){var al=i.add.lmfx=JSON.parse(iq.default);for(var n=0;n<iq.order.length;
n++)al[iq.lY[n]]={t:"VlLs",v:[]};for(var dD=0;dD<fv.length;dD++){var kd=fv[dD],gv=kd._type,j$={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[gv],an=j$?JSON.parse(iq.WS[iq.order.indexOf(j$)]):null;
if(gv=="ColO"){an.Clr=S(kd.Colr)}else if(gv=="GrdO"){h(kd.GrFl.FDeF,an)}else if(gv=="Shad"||gv=="InnS"||gv=="OutG"||gv=="InnG"){an.Clr=S(kd.Colr);
an.blur.v.val=Math.round(kd.Radi/2.4);if(kd.Offs!=null){an.Dstn.v.val=kd.Offs;an.lagl.v.val=Math.round(180-kd.Angl*180/Math.PI);
an.uglg.v=!1}}else if(gv=="Strk"){an.Clr=S(kd.Colr);an.Sz.v.val=Math.round(kd.Radi)}else if(gv=="PhgB"||gv=="BevE"){an.blur.v.val=Math.round(kd.Radi);
if(gv=="BevE")an.bvlS.v.BESl="PlEb"}else if(gv=="Gaus"){if(R&&kd.Enab){i.add.vmsk.$E=kd.Radi/2.4;i.add.vmsk.eI=!0;
i.P7();i.hR(I)}}if(j$){an.enab.v=kd.Enab;if(an.Md&&kd.BlnM!=null)an.Md.v.BlnM=hG.Ra(b(kd.BlnM));if(an.Opct&&kd.Opac!=null)an.Opct.v.val=Math.round(kd.Opac*100);
var i9=iq.lY[iq.order.indexOf(j$)];al[i9].v.unshift({t:"Objc",v:an})}}}I.B.push(i)}function D(U){var I=new $.vL,f=U._type;
if(f=="PCrv"){var g=U.Crvs.Data,H=[],u=[];for(var n=0;n<g.length;n++){var s=g[n];if(s.length%3!=1){s=s.slice(1,s.length-1)}for(var _=0;
_<s.length;_++){var i=s[_],M=i[2];if(M!=0)H.push(_==0?"M":"C");u.push(i[0],i[1])}}I.V=E.p.ou({C:u,H:H},!0)}else{var T=U.ShpB,R=U.Shpe,z=R._type,G=T[2]-T[0];
if(z=="ShpE"){I.V=E.A.lF.az(T[0],T[1],T[2]-T[0],T[3]-T[1])}else if(z=="ShNR"){var V=[0,0,0,0];if(R.CTyp){V=R.ShCR.slice(0);
for(var n=0;n<4;n++)V[n]*=T[2]-T[0]}I.V=E.A.lF.Rect(T[0],T[1],T[2]-T[0],T[3]-T[1],V)}else if(z=="ShpT"){I.V=E.p.ou({H:["M","L","L","Z"],C:[T[0],T[3],T[2],T[3],T[0]+G*.5,T[1]]},!0)}else if(z=="ShTz"){I.V=E.p.ou({H:["M","L","L","L","Z"],C:[T[0]+G*R.PosL,T[1],T[0]+G*R.PosR,T[1],T[2],T[3],T[0],T[3]]},!0)}else{console.log("--",z);
I.V=E.A.lF.Rect(T[0],T[1],T[2]-T[0],T[3]-T[1],[0,0,0,0])}}return I}function h(U,I){var f=U.Grad,g=f.Cols;
I.Type.v.GrdT=U.Type==0?"Lnr":"Rdl";var H=[];for(var n=0;n<g.length;n++){var u=a(g[n]);H.push([f.Posn[n][0],u])}I.Grad.v.Intr.v=0;
E.M.Bn(H,I.Grad.v);var s=f.Posn,_=new cp(s[0][0],s[0][1]),i=new cp(s[1][0],s[1][1]);if(U.Type==0)_=new cp((_.x+i.x)/2,(_.y+i.y)/2);
E.M.xs(_,i,new aV(0,0,1,1),I)}function S(U){var I=a(U);return{t:"Objc",v:E.M.rY({o:I[0]*255,W:I[1]*255,k:I[2]*255})}}function a(U){var I=U._col,f=U._type;
if(f=="HSLA"){var g=E._0(I[0],I[1],I[2]);return[g.o,g.W,g.k,I[3]]}else if(f=="RGBA")return I;else if(f=="CMYK"){var H=1-I[3];
return[(1-I[0])*H,(1-I[1])*H,(1-I[2])*H]}else if(f=="GRAY")return[I[0],I[1],I[2]];else{console.log(I);
throw f}}function K(U,I,f){var g=U.Frmt,V="";if(g!=0&&g!=4&&g!=6)throw g;var H=U.BmpW,u=U.BmpH,s=g==4?5:g==0?4:1,_=Math.ceil(H/256),i=Math.ceil(u/256),M=new aV(0,0,_,i),T=new aV;
for(var n=0;n<s;n++){var R=new Uint8Array(U["Sta"+(n+1)]),z=E.ub(R,M);T=T.Bc(z)}var G=[];for(var n=0;
n<s;n++){var R=new Uint8Array(U["Sta"+(n+1)]),y=E.Q(T.O());E.L0(R,M,y,T);G[n]=[];for(var k=0;k<y.length;
k++)G[n][k]=y[k];V+=JSON.stringify(G[n])+","+JSON.stringify(U["Idx"+(n+1)])+","}if(f[V]==null){var B=T.e*256,v=T.n*256,l=new Array(s);
for(var n=0;n<s;n++){var R=l[n]=new Uint8Array(B*v);Y(R,U["Idx"+(n+1)],G[n],I,B,v)}var F=E.Q(B*v*4);
if(g==0)E.b8({o:l[0],W:l[1],k:l[2],mu:l[3]},F);else if(g==4){for(var n=0;n<l[0].length;n++){var L=n*4,Z=l[0][n]*(1/255),t=l[1][n]*(1/255),A=l[2][n]*(1/255),o=l[3][n]*(1/255),O=UDOC.C.cmykToRgb([Z,t,A,o]);
F[L]=O[0]*255;F[L+1]=O[1]*255;F[L+2]=O[2]*255;F[L+3]=l[4][n]}}else{F.fill(255);E.BA(l[0],F)}var x=new aV(0,0,B,v),C={buffer:F,rect:x};
E.qM(C);f[V]=[C.rect,C.buffer]}var z=f[V][2]=f[V][0].clone();z.x+=T.x*256;z.y+=T.y*256;return f[V]}function Y(U,I,f,g,H,u){var s=0,_=H>>>8,i=u>>>8;
for(var M=0;M<i;M++)for(var T=0;T<_;T++){var R=T*256,z=M*256,G=M*_+T,V=z*H+R,y=f[G];if(y<=1)d(U,V,0,H,256,256);
else if(y==2)d(U,V,4294967295,H,256,256);else if(y==4){var k=I[s];s++;var B=g[k.Data.DatI],v=k.Rect;
if(v==null)v=[0,0,256,256];d(U,V,0,H,256,256);j(U,(z+v[1])*H+R+v[0],B,v[1]*256+v[0],H,256,v[2]-v[0],v[3]-v[1])}else console.log(y)}}function d(U,I,f,g,H,u){var s=I+g*u;
for(;I<s;I+=g){var _=I+H;for(var i=I;i<_;i++){U[i]=f}}}function j(U,I,f,g,H,u,s,_){var i=I+H*_,M=g+u*_;
for(;I<i&&g<M;I+=H,g+=u){for(var n=0;n<s;n++)U[I+n]=f[g+n]}}return r}();function dI(){}dI.ak=function(r,Q){var W=dI,b=gl.parse(r),D=0;
if(b.pages.length>1)console.log(b.pages.length,"pages");var X=[],h=new aV;for(var S=0;S<b.pages.length;
S++){var a=b.pages[S],K=a.layers,Y=W.Z3(K,S),j=!1;if(Y.O()>8e3*8e3||Y.e>3e4||Y.n>3e4){W.r9(K,!0);var d=W.Z3(K,S);
if(d.O()>=Y.O())W.r9(K,!1)}Y=W.Z3(K,S);for(var U=0;U<K.length;U++){var I=K[U];if(W.dT(I)=="artboard")j=!0}if(!j){console.log("no artboard");
var f={};for(var g in a)f[g]=a[g];f._class="group";a.layers=[f]}X.push(Y.clone());if(Y.WB())continue;
Y.x=0;Y.y=D;D+=Y.n+200;h=h.Bc(Y)}var H={};if(b.foreignSymbols)for(var n=0;n<b.foreignSymbols.length;
n++){var u=b.foreignSymbols[n].symbolMaster;H[u.symbolID]={Ya:u}}W.T3(b.pages,H,Q);for(var s in H){var I=H[s].Ya,_=W.Y2(I.layers)}var i=dI.PG(h,8192*8192);
Q.Vo=!0;Q.e=Math.round(h.e/i);Q.n=Math.round(h.n/i);Q.buffer=E.Q(Q.e*Q.n*4);Q.dQ(b.pages[0].layers.length);
Q.jK={};Q.tT=[];D=0;for(var S=0;S<b.pages.length;S++){var M=b.pages[S],Y=X[S],T=new au(i,0,0,i,Y.x,Y.y-D);
W.al(M.layers,Q,T,b,H,{},[]);D+=Y.n+200}delete Q.jK;delete Q.tT;if(i!=1)alert("File scaled down "+i+"x");
Q.a9Q()};dI.ac3=0;dI.dT=function(r){return r._class?r._class:r.$class};dI.PG=function(r,Q){var W=1;while(Math.round(r.e/W)*Math.round(r.n/W)>Q||Math.max(Math.round(r.e/W),Math.round(r.n/W))>3e4)W++;
if(W!=1&&!window.confirm("Your image is quite large ("+r.e+" x "+r.n+" px).\n"+"Press OK to scale it down "+W+"x, or Cancel to keep the size."))W=1;
return W};dI.Z3=function(r,Q){var W=[],b=dI;for(var X=0;X<r.length;X++){var D=r[X],h=b.Lg(D.frame);if(Q==0||b.dT(D)=="artboard")W.push(h)}return E.rect.gY(W)};
dI.r9=function(r,Q){var W=[],b=dI;for(var X=0;X<r.length;X++){var D=r[X],h=b.Lg(D.frame);h.e+=150;h.n+=150;
W.push(h)}var S=E.rect.gY(W);E.rect.ahz(W,Q);var a=E.rect.gY(W);if(a.O()*1.5<S.O()||S.e>3e4&&a.e<=3e4||S.n>3e4&&a.n<=3e4){alert("Re-arranging artboards");
for(var X=0;X<r.length;X++){var K=W[X],D=r[X],Y=D.frame;Y.x=K.x;Y.y=K.y}}};dI.T3=function(r,Q,W){var b=dI;
for(var X=0;X<r.length;X++){var D=r[X],h=b.dT(D);if(["page","artboard","group"].indexOf(h)!=-1)b.T3(D.layers,Q,W);
else if(h=="symbolMaster")Q[D.symbolID]={Ya:D}}};dI.Y2=function(r){var Q=dI;for(var W=0;W<r.length;W++){var b=r[W],X=Q.dT(b),D=null;
if(["page","artboard","group"].indexOf(X)!=-1)D=Q.Y2(b.layers);if(X=="symbolMaster"||X=="symbolInstance")D=b;
if(D!=null)return D}return null};dI.al=function(r,Q,W,b,X,D,h){var S=dI,a=[];for(var K=0;K<r.length;
K++){var Y=r[K],d=Y.frame?S.Lg(Y.frame):null,j=Y.style,H="",T=null,R=!1;if(j==null){console.log("no styles")}var U=S.VI(Y,W),I=S.dT(Y),f=I=="shapeGroup"||I=="shapePath"||I=="rectangle"||I=="oval"||I=="triangle"||I=="polygon",g=["page","artboard","group"].indexOf(I)!=-1;
if(I=="shapeGroup"){for(var n=0;n<Y.layers.length;n++)if(S.dT(Y.layers[n])=="shapeGroup")g=!0}var u=Y.exportOptions;
if(u){var s=u.exportFormats;if(s==null)s=u.sizes;if(I!="artboard"&&(s&&s.length!=0)){var _=s[0].scale}}var i=Q.b_();
i.ky(Y.isVisible);var M=Y.name;if(!(typeof M=="string"))M=I;i._J(H+M.slice(0,250));if(j!=null)T=S.ajV(b,Q,j,d,U,i.getName(),f||I=="artboard"||g);
if(I=="rectangle"&&j&&j.fills&&j.fills[0]){var z=j.fills[0];if(z.fillType==4&&z.patternFillType>1&&z.image!=null)R=!0}if(Y.shouldBreakMaskChain){while(a.length!=0)S.ll(a.pop(),Q)}if(g){i.add.lsct=Y.layerListExpandedType==2?d1.O9:d1.$B;
i.iX="pass";i.KX=24;i.ky(Y.isVisible);Q.B.push(Q.Tz());if(I=="artboard"){var G=d.clone(),V=U.mO();G.x=-Math.floor(U.rn/V);
G.y=-Math.floor(U.NQ/V);G.e=Math.floor(G.e/V);G.n=Math.floor(G.n/V);i.NG(G);var y=Y.backgroundColor,k=y?{o:255*y.red,W:255*y.green,k:255*y.blue}:{o:255,W:255,k:255};
i.add.artb.Clr={t:"Objc",v:E.M.rY(k)};i.add.artb.artboardBackgroundType={t:"long",v:4}}S.al(Y.layers,Q,U,b,X,D,h)}else if(f&&!R){i.add.vmsk=new $.vL;
i.add.vstk=JSON.parse(JSON.stringify(iq.pN.default));i.add.vstk.strokeEnabled.v=!1;var B=T!=null&&T.frameFXMulti.v.length==1,v=j?j.fills:null,l=j?S.nu(b,v,d,U,i.getName(),Q,S.Zb(h,Y.do_objectID+"_image")):[];
if(l.length==0){if(B)i.add.vstk.fillEnabled.v=!1;else i.add.iOpa=0;i.add.SoCo={classID:"null",Clr:{t:"Objc",v:E.M.rY({o:0,W:0,k:0})}}}else{var F=l[0],L=null,Z=null;
if(F.type=="SoFi"){L="SoCo";Z=iq.i4}if(F.type=="GrFl"){L="GdFl";Z=iq.uc}if(F.type=="patternFill"){L="PtFl";
Z=iq.Ej}if(L!=null){i.add[L]={classID:"null"};for(var n=0;n<Z.length;n++){var t=Z[n];i.add[L][t]=F.h.v[t]}var A=F.h.v.Opct.v.val;
if(B&&A==0)i.add.vstk.fillEnabled.v=!1;else i.add.iOpa=Math.round(255*A/100)}}i.KX|=16;i.add.vmsk.V=S.bx(Y.layers?Y.layers:[Y],Y.layers?U:W);
var o=j?j.blur:null;if(o&&o.isEnabled&&o.type<=1)i.add.vmsk.$E=o.radius;if(i.add.vmsk.V.length==2){console.log("shape with no content:",i.getName())}if(B){var O=T.frameFXMulti.v[0].v,x=i.add.vstk,C=j.borders[0];
T.frameFXMulti.v=[];iI.ao_(O,x);var J=j.borderOptions,q=j.miterLimit;if(J){var fd=J.dashPattern;x.strokeStyleLineCapType.v.strokeStyleLineCapType=iq.pN.Nj[J.lineCapStyle];
x.strokeStyleLineJoinType.v.strokeStyleLineJoinType=iq.pN.join[J.lineJoinStyle];if(fd)x.strokeStyleLineDashSet.v=iI.Gp(fd,1/O.Sz.v.val);
if(q!=null)x.strokeStyleMiterLimit.v=q}}i.P7();i.hR(Q)}else if(I=="bitmap"||R){if(!R&&Y.image==null)continue;
var w=R?j.fills[0]:null,P=R?w.image.bdata:Y.image.bdata,fc=Q.jS(P,i.getName(),0,0);fc.KX=i.KX;i=fc;var o=j?j.blur:null,p=j?j.colorControls:null;
if(o||p){i.add.SoLd.filterFX=jv.qQ();Q.jJ({id:i.add.SoLd.placed.v,rect:new aV,buffer:E.Q(1),z:new $.lA});
var v=i.add.SoLd.filterFX.v.filterFXList.v;if(o){var gG=jv.gj("GsnB",{});gG.v.enab.v=o.isEnabled;gG.v.Fltr.v.Rds.v.val=o.radius;
v.push(gG)}if(p){var fh=p.brightness,fJ=p.contrast,cF=p.hue,j_=p.saturation;if(cF!=0||j_!=1){var gG=jv.gj("hue2",{});
gG.v.enab.v=p.isEnabled;ku.Q_(gG.v.Fltr.v,0,[Math.round(cF*180/Math.PI),Math.round((j_-1)*100),0]);v.push(gG)}if(fh!=0||fJ!=1){var gG=jv.gj("brit",{});
gG.v.enab.v=p.isEnabled;fJ=fJ-1;if(fJ>0)fJ/=2;var gY=gG.v.Fltr.v;gY.Brgh.v=Math.round(fh*255);gY.Cntr.v=Math.round(fJ*255);
gY.useLegacy.v=!0;v.push(gG)}}}if(R){var kc=w.patternFillType;if(kc==3){var el=i.rect.e/i.rect.n,iN=d.e/d.n;
if(el<iN){U.translate(-(d.e*(1-el/iN))/2,0);U.scale(iN/el,1)}else{U.translate(0,-(d.n*(1-iN/el))/2);
U.scale(1,el/iN)}}}d.x=d.y=0;var c$=E.p.vk(d).C;U.j4();E.p.D(c$,U,c$);i.add.SoLd.Trnf=m.EA.Aa(c$);i.add.SoLd.nonAffineTransform=m.EA.Aa(c$);
i.vd(Q,!1)}else if(I=="text"){if(Y.attributedString==null)continue;var dB=U.clone(),aL,aB,bL=0;dB.j4();
dB.mu=dB.HR=Math.min(dB.mu,dB.HR);i.add.lnsr="rend";i.add.TySh=aH.M6(0,0);i.add.TySh.$C=new aV(0,0,d.e,d.n);
i.add.TySh.D=dB;var f3=Y.attributedString;if(f3.archivedAttributedString)f3=f3.archivedAttributedString;
var jC=f3.NSString;if(jC==null)jC=f3.string;if(jC==null)jC="";if(jC["NS.string"])jC=jC["NS.string"];
if(D[Y.do_objectID]!=null)jC=D[Y.do_objectID];var bc=S.Zb(h,Y.do_objectID+"_stringValue");if(bc)jC=bc.value;
if(f3.attributes!=null){aL=[];aB=[];var iA=f3.attributes;for(var n=0;n<iA.length;n++){aL.push(iA[n].length,n);
aB.push(iA[n].attributes)}}else if(f3.NSAttributeInfo==null){aL=[jC.length,0];aB=[f3.NSAttributes]}else{aL=f3.NSAttributeInfo["NS.data"];
aB=f3.NSAttributes;aL=dI.as_(aL,aB)}for(var n=0;n<aL.length;n+=2)bL+=aL[n];if(bL!=jC.length){while(bL>jC.length){aL[aL.length-2]--;
bL--;if(aL[aL.length-2]==0){aL.pop();aL.pop()}}aL[aL.length-2]+=jC.length-bL}jC=jC.replace(/\u2028/g,"\n");
jC=jC.replace(/\u2029/g,"\n");jC=jC.replace(/\r/g,"\n");var an=i.add.TySh.kN;aH.ig(an,0,jC);if(jC!=""){var dp=Y.textBehaviour,im=j.textStyle,a5=im?im.verticalAlignment:0,bg=S.adZ(an,aL,aB,jC),V=dB.mO(),fM=aH.Z2(an,0,1),fU=0;
if(fM.jr.Font){var eT=fM.Nk[fM.jr.Font].Name;if(eT=="FontAwesome"||eT=="Ionicons")bg*=.87}var ev=fM.jr.AutoLeading?0:fM.jr.Leading*.6,e8=Math.max(bg,ev)*V,ej=d.e,fV=d.n;
if(dp==0){aH.GK(an,0);var gZ=aH.r3(fM.GG);if(gZ==1)fU=ej*V;if(gZ==2)fU=ej*V*.5;if(a5==0)e8*=1;else e8*=.9}else{aH.GK(an,1);
aH.Ad(an,[0,0,Math.round(ej),Math.round(fV)]);if(dp==2&&a5==0)e8=e8*.2;else if(dp==2&&a5==1){e8=V*.5*(fV-fM.jr.FontSize)}else if(dp==1&&a5==0)e8=e8*.2;
else e8=e8*.35}i.add.TySh.D.translate(fU,e8)}}else if(I=="symbolInstance"||I=="symbolMaster"){var hQ=Y.symbolID;
if(D[Y.do_objectID])hQ=D[Y.do_objectID].symbolID;var aJ=S.Zb(h,Y.do_objectID+"_symbolID");if(aJ)hQ=aJ.value;
if(hQ=="")continue;var fN={};for(var t in D)fN[t]=D[t];if(Y.overrides)for(var t in Y.overrides)fN[t]=Y.overrides[t];
var hL=h.slice(0);if(Y.overrideValues)hL=hL.concat(Y.overrideValues);var fv=X[hQ];if(fv==null){console.log("Unknown master master",Y.symbolID);
continue}var al=dI.Lg(fv.Ya.frame),dD=al.e/d.e,kd=al.n/d.n,gv=U.clone();gv.scale(dD,kd);i.add.lsct=d1.$B;
i.iX="pass";i.KX=24;i.ky(Y.isVisible);Q.B.push(Q.Tz());var j$=fv.Ya;if(Q.tT.indexOf(j$)==-1){Q.tT.push(j$);
S.al(j$.layers,Q,gv,b,X,fN,hL);Q.tT.pop()}}else if(I=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+I,Y);continue}if(j&&j.contextSettings){var i9=j.contextSettings,bv=i9.blendMode;
if(bv<S.ik.length){i.iX=hG.Av[hG.it.indexOf(S.ik[bv])];if(g&&i.iX=="norm")i.iX="pass"}i.opacity=Math.round(i.opacity*i9.opacity)}if(T!=null){i.add.lmfx=T}Q.B.push(i);
if(Y.hasClippingMask&&r.length>1){a.push(i);Q.B.push(Q.Tz())}}while(a.length!=0)S.ll(a.pop(),Q)};dI.Zb=function(r,Q){for(var n=0;
n<r.length;n++)if(r[n].overrideName.startsWith(Q))return r[n]};dI.as_=function(r,Q){var W=0,b=[];while(W+1<r.length){var X=r[W];
W++;if(X>127){X+=128*(r[W]-1);W++;if(r[W-1]>127){X+=128*(r[W]-1);W++}}var D=r[W];W++;b.push(X,D)}return b};
dI.adZ=function(r,W,b,X){var D=dI,h=0,d=0,j=0;for(var n=0;n<X.length;n++){var S=X.charCodeAt(n),a=1473<=S&&S<=1479||1488<=S&&S<=1514||1520<=S&&S<=1524,K=1569<=S&&S<=1594||1600<=S&&S<=1749;
if(a||K)h++}var Y=h>X.length/2;for(var n=0;n<W.length;n+=2){var U=W[n],M=14,T="DejaVuSans";if(U==0)continue;
var I=W[n+1],f=b[I],g=aH.Z2(r,d,d+U-1),H=f.NSColor;if(H==null){var H=f.MSAttributedStringColorDictionaryAttribute;
if(H==null)H=f.MSAttributedStringColorAttribute;if(H==null)H="0 0 0";else H=[H.red,H.green,H.blue].join(" ")}else if(D.dT(H)=="MSArchivedColor")H=H.dr+" "+H.dg+" "+H.db;
else if(H.NSRGB){H=H.NSRGB;H=c.zV(H,0,H.length-1)}else if(H.NSCMYK){H=H.NSCMYK;H=c.zV(H,0,H.length-1);
H=H.split(" ").map(parseFloat);var u=1-H[0],s=1-H[1],_=1-H[2],i=1-H[3];H=u*i+" "+s*i+" "+_*i}else if(H.NSWhite){H="1 1 1"}H=H.split(" ");
g.jr.FillColor={Type:1,Values:[1,parseFloat(H[0]),parseFloat(H[1]),parseFloat(H[2])]};var R=f.MSAttributedStringFontAttribute;
if(f.NSFont){M=f.NSFont.NSSize;T=f.NSFont.NSName}else if(R){if(R.attributes){R=R.attributes;M=R.size;
T=R.name}else{var z=R.NSFontDescriptorAttributes;if(z==null)z=R.UIFontDescriptorAttributes;R=z;M=R.NSFontSizeAttribute;
T=R.NSFontNameAttribute}if(T==null)T="DejaVuSans"}var j=Math.max(j,M);g.jr.FontSize=Math.round(M);aH.Oz(g,T);
var G=f.NSKern;if(G==null)G=f.kerning;if(G!=null)g.jr.Tracking=Math.round(1e3*G/M);if(f.NSUnderline!=null)g.jr.Underline=f.NSUnderline>0;
var V=f.NSStrikethrough;if(V==null)V=f.strikethroughStyle;if(V!=null)g.jr.Strikethrough=V>0;if(f.MSAttributedStringTextTransformAttribute==1)g.jr.FontCaps=2;
var y=f.NSParagraphStyle;if(y==null)y=f.paragraphStyle;if(y){var k=y.paragraphSpacing;if(k!=null){g.GG.SpaceAfter=k}var B=y.NSAlignment;
if(B==null)B=y.alignment;if(B!=null){var v=0;if(!1){}else if(B==1)v=1;else if(B==2)v=2;else if(B==4)v=0;
else{v=B;console.log("unknown align",B)}if(Y&&v<2)v=1-v;g.GG.Justification=v}var l=y.NSMinLineHeight;
if(l==null)l=y.minimumLineHeight;if(l!=null){g.jr.AutoLeading=!1;g.jr.Leading=l}}g.GG._Direction=Y?1:0;
aH.Yf(r,d,d+U,g);d+=U}return j};dI.ajV=function(r,Q,W,b,X,D,h){var S=dI,a=JSON.parse(iq.default),K=!1;
for(var n=0;n<iq.order.length;n++)a[iq.lY[n]]={t:"VlLs",v:[]};var Y=W.fills,d=S.nu(r,Y,b,X,D,Q);for(var j=0;
j<2;j++){var U=W[["shadows","innerShadows"][j]];if(U==null)continue;var I=["DrSh","IrSh"][j],f=iq.lY[iq.order.indexOf(I)];
for(var n=0;n<U.length;n++){var g=U[n];if(!g.isEnabled)continue;if(g.contextSettings.opacity==0||g.color.alpha==0)continue;
var H=JSON.parse(iq.WS[iq.order.indexOf(I)]);a[f].v.unshift({t:"Objc",v:H});K=!0;H.Clr.v=S.cG(g.color);
H.blur.v.val=Math.round(g.blurRadius/X.mO());var u=X.clone();u.rn=u.NQ=0;u.j4();var s=u.lE(new cp(g.offsetX,g.offsetY)),_=Math.sqrt(s.x*s.x+s.y*s.y);
H.Dstn.v.val=Math.round(_);H.lagl.v.val=Math.round(Math.atan2(s.y,-s.x)*(180/Math.PI));if(H.layerConceals)H.layerConceals.v=d.length!=0;
S._z(g,H)}}var i=W.borders;if(i!=null&&(d.length==0||W.blur==null||!W.blur.isEnabled))for(var n=0;n<i.length;
n++){var M=i[n];if(!M.isEnabled)continue;var H=JSON.parse(iq.WS[iq.order.indexOf("FrFX")]),f=iq.lY[iq.order.indexOf("FrFX")];
a[f].v.unshift({t:"Objc",v:H});K=!0;H.Clr.v=S.cG(M.color);if(M.fillType!=0&&M.gradient){var T=S.T9(M.gradient,b,X,D),R=["Type","Angl","Ofst","Scl"];
for(var n=0;n<R.length;n++)H[R[n]]=T[R[n]];H.Grad.v=T.Grad.v;H.PntT.v.FrFl="GrFl"}H.Sz.v.val=M.thickness/X.mO();
H.Styl.v.FStl=["CtrF","InsF","OutF"][M.position];S._z(M,H)}for(var n=h?1:0;n<d.length;n++){var z=d[n],f=iq.lY[iq.order.indexOf(z.type)];
a[f].v.unshift(z.h);K=!0}return K?a:null};dI.nu=function(r,Q,W,b,X,D,h){if(Q==null)return[];var S=dI,a=[];
for(var n=0;n<Q.length;n++)if(Q[n].isEnabled)a.push(Q[n]);Q=a;var K=[];for(var n=0;n<Q.length;n++){var Y=Q[n],d=null,j=null;
if(Y.fillType==0){d="SoFi";var U=JSON.parse(iq.WS[iq.order.indexOf("SoFi")]);j={t:"Objc",v:U};j.v.Clr.v=S.cG(Y.color)}else if(Y.fillType==1){d="GrFl";
j={t:"Objc",v:S.T9(Y.gradient,W,b,X)}}else if(Y.fillType==4&&Y.image!=null){var I=Y.image;if(h)I=h.value;
var f=fH.E$(I.bdata.buffer);if(f!=null&&f!="pdf"&&f!="eps"){var g,M=0,T=0,R=0;if(D.jK[I.key])g=D.jK[I.key];
else{var H=fH.Qt(f).ni(I.bdata)[0],u=H.Kx.clone();g={};g.id=bj.zQ()+"-d71c-11e5-b1ae-a548a96e5f9f";g.name="someImage";
g.G5=[new Uint8Array(H.data),u];D.PT(g);D.jK[I.key]=g}var s=g.G5[1],U=JSON.parse(iq.WS[iq.order.indexOf("patternFill")]);
d="patternFill";j={t:"Objc",v:U};var _=Y.patternFillType,i=Y.patternTileScale;U.Algn.v=!0;U.Ptrn.v.Idnt.v=g.id;
if(_==0){M=i*s.e/Math.min(s.e,s.n);T=-b.rn;R=-b.NQ}else{M=Math.max(W.e/s.e,W.n/s.n);T=-b.rn-(s.e*M-W.e)/2;
R=-b.NQ-(s.n*M-W.n)/2}U.Scl.v.val=100*M*(1/b.mO());U.phase.v.Hrzn.v=Math.round(T/b.mO());U.phase.v.Vrtc.v=Math.round(R/b.mO())}}else if(Y.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",Y.fillType);
if(d!=null){S._z(Y,j.v);K.push({type:d,h:j})}}return K};dI.anY=function(r){var Q=dI,W=new aV(0,0,1,1);
r=r.slice(0);while(!0){var b=!1;for(var n=0;n<r.length-1;n++){var X=r[n],D=r[n+1],h=null,S=X.contextSettings;
if(X.fillType==0&&(S==null||S.opacity==1&&S.blendMode==0)&&X.color.alpha==1){var a="norm",K=1,S=D.contextSettings;
if(S){K=S.opacity;a=hG.g9(Q.ik[S.blendMode])}if(D.fillType==0){h=JSON.parse(JSON.stringify(D));Q.TY(h.color,X.color,h.color,W,a,K)}if(D.fillType==1){h=JSON.parse(JSON.stringify(D));
var Y=h.gradient.stops;for(var d=0;d<Y.length;d++)Q.TY(Y[d].color,X.color,Y[d].color,W,a,K)}if(h!=null&&h.contextSettings){var S=h.contextSettings;
S.opacity=1;S.blendMode=0}}if(h!=null){r.splice(n,0,h);b=!0;break}}if(!b||r.length<2)break}return r};
dI.TY=function(r,Q,W,b,X,D){var h=dI,S=E.Q(4);h.hx(r,S);var a=E.Q(4);h.hx(Q,a);E.q.YB(X,S,b,a,b,b,D);
h.ah2(a,W)};dI.hx=function(r,Q){Q[0]=255*r.red;Q[1]=255*r.green;Q[2]=255*r.blue;Q[3]=255*r.alpha};dI.ah2=function(r,Q){Q.red=r[0]/255;
Q.green=r[1]/255;Q.blue=r[2]/255;Q.alpha=r[3]/255};dI.ll=function(r,Q){r=r.clone();r.KX=24;r._J("Mask by "+r.getName());
Q.B.push(r);r.add.lsct=d1.O9;r.add.lyid=Q.D5();delete r.add.lmfx;delete r.add.SoCo;delete r.add.GdFl;
delete r.add.PtFl;delete r.add.iOpa;if(r.add.vmsk)r.add.vmsk.eI=!0;r.P7();r.hR(Q);if((r.KX&16)==16)r.KX-=16;
if((r.KX&2)==2)r.KX-=2;r.iX="pass";r.opacity=255};dI.ik="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
dI.T9=function(r,Q,W,b){W=W.clone();W.j4();W.rn=W.NQ=0;var X=W.mO(),j=0,U=0;W.scale(1/X,1/X);var D=dI,h=JSON.parse(iq.WS[iq.order.indexOf("GrFl")]),S=h.Grad.v;
S.Intr.v=0;if(r==null)return h;var a=r.gradientType,K=D.L1(r.from),Y=D.L1(r.to);K.offset(-.5,-.5);Y.offset(-.5,-.5);
K=W.lE(K);Y=W.lE(Y);var d=Math.atan2(-(Y.y-K.y),Y.x-K.x);h.Type.v.GrdT=["Lnr","Rdl","Angl"][a];h.Scl.v.val=100*cp.ks(K,Y);
if(a==0){h.Angl.v.val=180/Math.PI*d;h.Scl.v.val=100*cp.ks(K,Y);j=(K.x+Y.x)/2;U=(K.y+Y.y)/2}if(a==1){h.Scl.v.val=200*cp.ks(K,Y);
j=K.x;U=K.y}if(a==2){h.Angl.v.val=180/Math.PI*(d-Math.PI/2)}var I=h.Ofst.v;I.Hrzn.v.val=j*100;I.Vrtc.v.val=U*100;
var f=[];for(var n=0;n<r.stops.length;n++){var g=r.stops[n],H=g.color;f.push([g.position,H?[H.red,H.green,H.blue]:[0,0,0],H.alpha])}E.M.Bn(f,S);
return h};dI._z=function(r,Q){var W=dI,b=1,X=r.contextSettings;if(X!=null){Q.Md.v.BlnM=W.ik[X.blendMode];
b*=X.opacity}else Q.Md.v.BlnM=W.ik[0];Q.enab.v=r.isEnabled;if(Q.uglg!=null)Q.uglg.v=!1;if(r.color!=null)b*=r.color.alpha;
Q.Opct.v.val=Math.round(b*100)};dI.cG=function(r){return E.M.rY(r?{o:r.red*255,W:r.green*255,k:r.blue*255}:{o:0,W:0,k:0})};
dI.bx=function(r,Q){var W=dI,b=[{type:6},{type:8,all:0}];for(var X=0;X<r.length;X++){var D=r[X],h=D.booleanOperation,S=0,a=D._class,I=!1;
if(a=="group"||a=="text"||a=="symbolInstance"||a=="slice"){console.log(a+" inside ShapeGroup");continue}if(h==-1)S=0;
else if(h==0)S=1;else if(h==1)S=2;else if(h==2)S=3;else if(h==3)S=0;if(X==0)S=1;var K=dI.Lg(D.frame),Y=W.VI(D,Q),d=D.path?D.path:D,j=[{type:0,length:0,xo:S,bu:2,jM:0,eV:0}],U=d.points;
for(var n=0;n<U.length;n++){var f=U[n],g=W.L1(f.curveTo),H=W.L1(f.point),u=W.L1(f.curveFrom);I=I||f.hasCurveFrom&&!u.s4(H)||f.hasCurveTo&&!g.s4(H)}var s=[];
if(!I){var _=[],fb=U.length;if(fb==0)continue;for(var n=0;n<fb;n++){s[n]=U[n].cornerRadius;var f=W.L1(U[n].point);
_.push(f.x,f.y)}Y.scale(1/K.e,1/K.n);Y.j4();E.p.D(_,Y,_);j=E.A.lF.h9(_,s).slice(2);j[0].xo=S}else{var i=U.length;
j[0].length=i;for(var n=0;n<i;n++){var f=U[n],M=f.curveMode,T=W.L1(f.point);j[1+n]={type:M==2||M==4?1:2,f0:f.hasCurveTo?W.L1(f.curveTo):T.clone(),F:T,rP:f.hasCurveFrom?W.L1(f.curveFrom):T.clone()}}Y.scale(1/K.e,1/K.n);
Y.j4();E.A.Zl(j,Y);var s=[];for(var n=0;n<i;n++){var f=U[n],M=f.curveMode,R=f.cornerRadius;if(M==1&&R!=0)s.push(R);
else s.push(0)}}if(!d.isClosed)for(var n=0;n<j.length;n++)j[n].type+=3;b=b.concat(j);var z=W.dT(D);if(Y.k==0&&Y.th==0){var G=Y.rn,V=Y.NQ,y=G+Y.mu,k=V+Y.HR,B=[G,V,y,k]}}return b};
dI.VI=function(r,Q){var W=Q.clone(),b=r.frame?dI.Lg(r.frame):null;if(b)W.translate(-b.x-b.e/2,-b.y-b.n/2);
if(r.isFlippedHorizontal)W.scale(-1,1);if(r.isFlippedVertical)W.scale(1,-1);W.rotate(-r.rotation*(Math.PI/180));
if(b)W.translate(b.e/2,b.n/2);return W};dI.L1=function(r){r=r.slice(1,r.length-1).split(",");return new cp(parseFloat(r[0]),parseFloat(r[1]))};
dI.Lg=function(r){return new aV(r.x,r.y,r.width,r.height)};dI.so=function(r){return{_class:"rect",constrainProportions:!1,x:r.x,y:r.y,width:r.e,height:r.n}};
function h$(){}h$.ak=function(r,Q){var W=Date.now(),b=h$,X=UZIP.parse(r),D=JSON.parse(c.CA(X.manifest)),h=JSON.parse(c.CA(X["resources/graphics/graphicContent.agc"])).resources,S=[],a=[],K=D.children;
for(var n=0;n<K.length;n++){var Y=K[n];if(Y.name=="artwork"){var d=Y.children;for(var j=0;j<d.length;
j++){var U=d[j],I=JSON.parse(c.CA(X["artwork/"+U.path+"/graphics/graphicContent.agc"])),f=I.children;
if(f.length==0){}else if(f.length==1){if(U["uxdesign#bounds"]){U._node=f[0];S.push(U)}}else{var g=f[0],H=g.transform,u=g.shape;
if(u==null)u={x:0,y:0,width:1e3,height:1e3};if(u.type=="path"){var s=E.p.QL(Typr.U.SVGToPath(u.path).crds);
u={x:s.x,y:s.y,width:s.e,height:s.n}}u=JSON.parse(JSON.stringify(u));if(H){u.x+=H.tx;u.y+=H.ty}U["uxdesign#bounds"]=u;
U._node={type:"artboard",artboard:{children:f}};a.push(U)}}}}if(S.length==0)S=a;var _=[],i=new aV;for(var n=0;
n<S.length;n++){var U=S[n],M=dI.Lg(U["uxdesign#bounds"]);_.push(M);i=i.Bc(M)}var T=dI.PG(i,8192*8192);
Q.Vo=!0;Q.e=Math.round(i.e/T);Q.n=Math.round(i.n/T);Q.buffer=E.Q(Q.e*Q.n*4);Q.dQ(S.length);var R=new au(T,0,0,T,i.x,i.y);
Q.jK={};for(var n=0;n<S.length;n++){var U=S[n],M=dI.Lg(U["uxdesign#bounds"]),z=U._node,G=R.clone(),V=M.clone(),y=G.mO();
G.translate(-M.x,-M.y);V.x=-Math.floor(G.rn/y);V.y=-Math.floor(G.NQ/y);V.e=Math.floor(V.e/y);V.n=Math.floor(V.n/y);
G.translate(M.x,M.y);h$.g7(z,Q,G,h,X,V);var k=Q.B[Q.B.length-1];k._J(U.name);k.NG(V);if(n!=S.length-1)k.add.lsct=d1.$B}delete Q.jK};
h$.Wt=function(r){if(r==null)return new au;return new au(r.a,r.b,r.c,r.d,r.tx,r.ty)};h$.g7=function(r,Q,W,b,X,D){var h=h$,S=r.type,a=r[S],K=r.style,Y=h.Wt(r.transform),I,f="none",g,H="none",u,s;
Y.j4();var d=W.clone();d.concat(Y);var j=Q.b_(),U=r.name;j._J(U?U.slice(0,250):"Layer");if(r.visible!=null)j.ky(r.visible);
if(K){I=K.stroke;f=I?I.type:"none";g=K.fill;H=g?g.type:"none";u=K.filters;s=K.clipPath;if(s&&b.clipPaths[s.ref])s=b.clipPaths[s.ref].children;
else s=null;if(K.opacity)j.opacity=Math.round(255*K.opacity);if(H=="solid"&&g.color.alpha)j.opacity=Math.round(j.opacity*g.color.alpha);
if(u){j.add.lmfx=h.alR(u);for(var n=0;n<u.length;n++)if(u[n].type=="uxdesign#blur"){var _=u[n],i=_.params,M=i.brightnessAmount;
if(M==null)M=0;M=Math.abs(M/100);if((_.visible==null||_.visible==!0)&&i.backgroundEffect)j.opacity=Math.round(j.opacity*(M+(1-M)*i.fillOpacity))}}if(H=="pattern"&&g.pattern.meta.ux.uid=="")H="none"}if(s==null&&r.meta&&r.meta.ux&&r.meta.ux.clipPathResources)s=r.meta.ux.clipPathResources.children;
if(S=="artboard"||S=="group"){if(s){var T=s[0],R=T.shape,z=R!=null&&R.type=="rect"&&R.width*R.height>1e6;
if(T.type!="text"&&!z){if(R){var Y=h.Wt(T.transform);Y.j4();var G=d.clone();G.concat(Y);j.add.vmsk=new $.vL;
j.add.vmsk.V=h.bx(R);G=G.clone();G.j4();E.A.Zl(j.add.vmsk.V,G);j.P7();j.hR(Q)}}else if(!z)alert("Clipping by text has been ignored")}j.add.lsct=d1.O9;
j.iX="pass";j.KX=24;if(r.visible!=null)j.ky(r.visible);Q.B.push(Q.Tz());var V=a.children,y=g;if(y)y=y.color;
if(y)y=y.value;if(g){if(S=="artboard"&&H=="solid"){j.NG(new aV(0,0,10,10));j.add.artb.Clr={t:"Objc",v:E.M.rY({o:y.r,W:y.g,k:y.b})};
j.add.artb.artboardBackgroundType={t:"long",v:4}}else{var k=Q.b_();k._J("BACKGROUND");k.KX|=16;k.add.vstk=JSON.parse(JSON.stringify(iq.pN.default));
k.add.vmsk=new $.vL;k.add.vmsk.V=h.bx({type:"rect",x:D.x,y:D.y,width:D.e,height:D.n});h.u0(g,H,d,D,D,k,Q,b,X);
k.P7();k.hR(Q);Q.B.push(k)}}for(var n=0;n<V.length;n++){h$.g7(V[n],Q,d,b,X,D)}}else if(S=="shape"&&(a.type=="rect"&&(a.r==null||a.r==0)||a.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(a.path)))&&H=="pattern"&&(Math.abs(a.width/a.height-g.pattern.width/g.pattern.height)<.01||K.fill.pattern.meta.ux.scaleBehavior=="fill")){var B=g.pattern,v=B.meta.ux,l=v.uid,F=X["resources/"+l];
if(F==null){console.log(B);return}var L=Q.jS(F,j.getName(),0,0);L.KX=j.KX;L.opacity=j.opacity;j=L;var Z=E.A.eg(h.bx(a),null),t=E.p.vk(new aV(0,0,B.width,B.height)).C,A=new au;
A.scale(B.width/Z.e,B.height/Z.n);if(v.offsetX)A.translate(-v.offsetX*B.width,0);if(v.offsetY)A.translate(0,-v.offsetY*B.height);
d.concat(A);d.j4();E.p.D(t,d,t);j.add.SoLd.Trnf=m.EA.Aa(t);j.add.SoLd.nonAffineTransform=m.EA.Aa(t);
j.vd(Q,!1)}else if(S=="shape"){j.KX|=16;j.add.vstk=JSON.parse(JSON.stringify(iq.pN.default));j.add.vmsk=new $.vL;
j.add.vmsk.V=h.bx(a);var Z=E.A.eg(j.add.vmsk.V,null),G=d.clone();G.j4();E.A.Zl(j.add.vmsk.V,G);var o=E.A.eg(j.add.vmsk.V,null);
if(f=="none"){}else{var O=I.color.value,x,C;x="SoFi";var J=JSON.parse(iq.WS[iq.order.indexOf("SoFi")]);
C={t:"Objc",v:J};C.v.Clr.v=E.M.rY({o:O.r,W:O.g,k:O.b});var q=I.align,fd=I.cap;if(q==null)q="center";
var w=j.add.vstk;w.strokeEnabled.v=!0;w.strokeStyleLineWidth.v.val=I.width;if(q)w.strokeStyleLineAlignment.v.strokeStyleLineAlignment=iq.pN.Ba[["inside","center","outside"].indexOf(q)];
if(fd)w.strokeStyleLineCapType.v.strokeStyleLineCapType=iq.pN.Nj[["butt","round","square"].indexOf(fd)];
var P=["SoFi","GrFl","patternFill"].indexOf(x),fc=[iq.i4,iq.uc,iq.Ej][P];w.strokeStyleContent.v={classID:iq.pN.W8[0]};
var p=w.strokeStyleContent.v={classID:iq.pN.W8[P]};for(var n=0;n<fc.length;n++)p[fc[n]]=C.v[fc[n]]}if(u)for(var n=0;
n<u.length;n++)if(u[n].type=="uxdesign#blur"&&u[n].visible){var gG=u[n];j.add.vmsk.$E=gG.params.blurAmount}h.u0(g,H,d,Z,o,j,Q,b,X);
j.P7();j.hR(Q)}else if(S=="text"&&r.text){var fh=r.text,fJ=fh.frame,cF=K.font,j_=K.textAttributes,Y=d.clone(),dB=0;
Y.j4();j.add.lnsr="rend";j.add.TySh=aH.M6(0,0);j.add.TySh.$C=new aV(0,0,100,100);j.add.TySh.D=Y;var gY=j.add.TySh.kN,kc=fh.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
aH.ig(gY,0,kc);if(kc!=""){var el=aH.Z2(gY,0,1),iN=cF.postscriptName;if(iN==null)iN=cF.family;aH.Oz(el,iN);
el.jr.FontSize=Math.round(cF.size);if(g){var O=g.color.value;el.jr.FillColor={Type:1,Values:[1,O.r/255,O.g/255,O.b/255]}}if(j_){if(j_.paragraphAlign)el.GG.Justification=["left","right","center"].indexOf(j_.paragraphAlign);
if(j_.letterSpacing)el.jr.Tracking=Math.round(j_.letterSpacing);if(j_.lineHeight){el.jr.AutoLeading=!1;
el.jr.Leading=Math.round(j_.lineHeight)}}aH.Yf(gY,0,kc.length,el)}var c$=r.meta.ux.rangedStyles;if(c$)for(var n=0;
n<c$.length;n++){var a=c$[n],aL=Math.min(a.length,kc.length-dB);if(n==c$.length-1)aL=kc.length-dB;var el=aH.Z2(gY,dB,dB+aL),iN=a.postscriptName;
if(iN==null)iN=a.family;if(iN!=null)aH.Oz(el,iN);var aB=a.textScript,f3=a.underline,jC=a.fontSize,_=a.fill,bc=a.textTransform;
if(aB&&aB!="none")el.jr.FontBaseline=aB=="superscript"?1:2;if(f3!=null)el.jr.Underline=f3;if(jC!=null)el.jr.FontSize=Math.round(jC);
if(bc!=null)el.jr.FontCaps=bc=="uppercase"?2:0;if(bc=="lowercase"){aH.d4(gY,dB,dB+aL);aH.ig(gY,dB,kc.slice(dB,dB+aL).toLowerCase())}if(_!=null){var iA=_.value;
el.jr.FillColor={Type:1,Values:[1,(iA>>>16&255)/255,(iA>>>8&255)/255,(iA>>>0&255)/255]}}aH.Yf(gY,dB,dB+aL,el);
dB+=aL}if(fJ.type=="area"||fJ.type=="autoHeight"){var bL=fJ.width,an=fJ.height;aH.GK(gY,1);aH.Ad(gY,[0,0,bL,an!=null?an:bL*2])}}else if(S=="syncRef"){var dp=r.syncSourceGuid,im=b.meta.ux.symbols,bg=h.Q2(im,dp);
if(bg){var fM=d.clone();fM.concat(h.Wt(bg.transform));h$.g7(bg,Q,fM,b,X,D)}return}else console.log(S,r);
Q.B.push(j)};h$.Q2=function(r,Q){for(var n=0;n<r.length;n++){var W=r[n],b=W.group;if(W.id==Q)return W;
if(b){var X=h$.Q2(b.children,Q);if(X)return X}}return null};h$.bx=function(r){var Q=r.type,W=[{type:6},{type:8,all:0}];
if(Q=="rect"){var b=r.r,X=r.x,D=r.y,h=r.width,S=r.height;W=E.A.lF.Rect(X,D,h,S,b?b:0)}else if(Q=="circle"){var b=r.r;
W=E.A.lF.az(r.cx-b,r.cy-b,2*b,2*b)}else if(Q=="ellipse"){var a=r.rx,K=r.ry;W=E.A.lF.az(r.cx-a,r.cy-K,2*a,2*K)}else if(Q=="path"||Q=="compound"){var Y=Typr.U.SVGToPath(r.path);
W=E.p.ou({H:Y.cmds,C:Y.crds},!1)}else if(Q=="line"){var d=r.x1,j=r.x2,U=r.y1,I=r.y2;W=E.A.lF.h9([d,U,j,I],0,!0)}else if(Q=="polygon"){var f=r.points,g=[];
for(var n=0;n<f.length;n++)g.push(f[n].x,f[n].y);W=W.concat(E.A.lF.h9(g,0,!1).slice(2))}else console.log(Q,r);
return W};h$.alR=function(r){var Q=JSON.parse(iq.default);for(var n=0;n<iq.order.length;n++)Q[iq.lY[n]]={t:"VlLs",v:[]};
for(var n=0;n<r.length;n++){var W=r[n],b=W.type,X=W.params,D=W.visible;if(b=="dropShadow"){var h=iq.lY[iq.order.indexOf("DrSh")],S=JSON.parse(iq.WS[iq.order.indexOf("DrSh")]);
Q[h].v.unshift({t:"Objc",v:S});var a=X.dropShadows;if(a.length!=1)throw"e";var K=a[n],Y=K.color,d=Y.value,j=K.dx,U=K.dy;
S.Clr.v=E.M.rY({o:d.r,W:d.g,k:d.b});S.Opct.v.val=Math.round((Y.alpha!=null?Y.alpha:1)*100);S.uglg.v=!1;
S.enab.v=D!=null?D:!0;S.lagl.v.val=Math.round(180/Math.PI*Math.atan2(U,-j));S.Dstn.v.val=Math.round(Math.sqrt(j*j+U*U));
S.blur.v.val=Math.round(K.r*2.3)}}return Q};h$.u0=function(r,Q,W,b,X,D,h,S,a){var K=h$;if(Q=="none"){D.add.vstk.fillEnabled.v=!1;
D.add.SoCo={classID:"null",Clr:{t:"Objc",v:E.M.rY({o:0,W:0,k:0})}}}else{var Y,d,j;if(Q=="solid"){var U=r.color.value;
Y="SoCo";d=iq.i4;var I=JSON.parse(iq.WS[iq.order.indexOf("SoFi")]);j={t:"Objc",v:I};j.v.Clr.v=E.M.rY({o:U.r,W:U.g,k:U.b})}else if(Q=="gradient"){Y="GdFl";
d=iq.uc;var I=JSON.parse(iq.WS[iq.order.indexOf("GrFl")]),f=I.Grad.v,_,i,M;f.Intr.v=0;var g=r[Q],H=g.ref?S.gradients[g.ref]:g.meta.ux.gradientResources,u=["linear","radial","angular"].indexOf(H.type),s=H.stops;
I.Type.v.GrdT=["Lnr","Rdl","Angl"][u];if(u==0){var _=new cp(g.x1,g.y1),i=new cp(g.x2,g.y2);_.x=i.x+.5*(_.x-i.x);
_.y=i.y+.5*(_.y-i.y)}else{var _=new cp(g.cx,g.cy),i=new cp(g.cx+g.r,g.cy)}M=X;if(g.units=="objectBoundingBox"){var T=new au(b.e,0,0,b.n,b.x,b.y);
_=T.lE(_);i=T.lE(i)}var T=K.Wt(g.transform);_=T.lE(_);i=T.lE(i);T=W.clone();T.j4();_=T.lE(_);i=T.lE(i);
E.M.xs(_,i,M,I);var R=[];for(var n=0;n<s.length;n++){var z=s[n],G=z.color,U=G.value,V=G.alpha;if(V==null)V=1;
R.push([z.offset,[U.r/255,U.g/255,U.b/255],V])}E.M.Bn(R,f);j={t:"Objc",v:I}}else if(Q=="pattern"){Y="PtFl";
d=iq.Ej;var I=JSON.parse(iq.WS[iq.order.indexOf("patternFill")]),t;j={t:"Objc",v:I};var y=r[Q],k=y.meta.ux,B=k.uid,v=a["resources/"+B].buffer,l=k.flipX,F=k.flipY,L=B+l+F,Z=fH.E$(v);
if(h.jK[L])t=h.jK[L];else{var A=new aV(0,0,y.width,y.height),o;if(A.WB()||Z==null){A=new aV(0,0,1,1);
o=new ArrayBuffer(4)}else{var O=fH.Qt(Z);if(O.gF){var x=new bj;O.ni(v,x);o=x.T6().buffer}else{try{var C=O.ni(v)[0];
o=C.data;A=C.Kx}catch(aA){o=new ArrayBuffer(A.O()*4)}}}t={};t.id=bj.zQ()+"-d71c-11e5-b1ae-a548a96e5f9f";
t.name="someImage";t.G5=[new Uint8Array(o),A];if(l)E.K.an(t.G5[0].slice(0),t.G5[0],A.e,A.n);if(F)E.K.arJ(t.G5[0].slice(0),t.G5[0],A.e,A.n);
h.PT(t);h.jK[L]=t}var J=W.clone();J.j4();J.translate(b.x,b.y);var q=b.e,fd=b.n,w=t.G5[1].e,P=t.G5[1].n,fc=Math.max(q/w,fd/P);
if(k.scale)fc*=k.scale;var p=new au;p.translate(-w/2,-P/2);p.scale(1/w,1/P);if(k.offsetX!=null)p.translate(k.offsetX,k.offsetY);
p.scale(w,P);p.scale(fc,fc);p.translate(q/2,fd/2);p.concat(J);iI.a3r(t,I,0,0,1e3,p)}else console.log(Q);
if(Y!=null){D.add[Y]={classID:"null"};for(var n=0;n<d.length;n++){var gG=d[n];D.add[Y][gG]=j.v[gG]}}}};
function dS(){}dS.ak=function(r,Q,W){if(W&&W[0]==null)W=null;r=new Uint8Array(r);var b,U=1;if(r[0]==255&&r[1]==254)b=c.Tk(r,2,(r.length>>>1)-1);
else b=c.CA(r,0,r.length);var X=new DOMParser,D=X.parseFromString(b,"image/svg+xml"),h=D.getElementsByTagName("style")[0];
if(h)h=Typr.U.SVG.cssMap(h.textContent);else h={};var S=D.firstChild;while(S.tagName!="svg")S=S.nextSibling;
var a=new aV(0,0,100,100),K=S.getAttribute("viewBox"),Y=S.getAttribute("width"),d=S.getAttribute("height");
if(K){var j=dS.O8(K);a.x=j[0];a.y=j[1];a.e=j[2];a.n=j[3]}else if(Y!=null||d!=null){a.e=Y!=null?parseFloat(Y):parseFloat(d);
a.n=d!=null?parseFloat(d):parseFloat(Y)}a=E.p.jq(a);while(W&&Math.max(a.e*U,a.n*U)<Math.max(W[0],W[1]))U++;
while(W==null&&Math.max(a.e,a.n)*U>8192)U*=.5;Q.Vo=!0;Q.e=~~(a.e*U);Q.n=~~(a.n*U);Q.buffer=E.Q(Q.e*Q.n*4);
var I=new au(U,0,0,U,-a.x*U,-a.y*U),f={qt:dS.Dw(S),a7V:h,Lp:0};dS.kL(D,S.children,Q,I,f,new au,0);if(Q.B.length==0){var g=Q.b_();
g._J("Layer");Q.B.push(g)}};dS.O8=function(r){var Q=" ";if(r.indexOf(",")!=-1)Q=",";return r.split(Q).map(parseFloat)};
dS.kL=function(r,Q,W,b,X,D,h,S){var a=dS,K=["display","opacity","fill-opacity","filter"];for(var Y=0;
Y<Q.length;Y++){var d=Q[Y],j=d.tagName,U=d.getAttribute("id"),g=13,i=1,R="clip-path",z=null,L=0;if(U==null)U=d.getAttribute("data-name");
var I=a.Dw(d,X.a7V);for(var f in X.qt)if(K.indexOf(f)==-1&&I[f]==null)I[f]=X.qt[f];if(I["font-size"])g=a.eX(I["font-size"],g);
if(d.getAttribute("dx"))b.rn+=a.eX(d.getAttribute("dx"),g);if(d.getAttribute("dy"))b.NQ+=a.eX(d.getAttribute("dy"),g);
var H=a.vg(d);H.concat(b);var u=d.getAttribute("visibility"),s=I.display,_=W.b_();if(u=="hidden"||s=="none")_.ky(!1);
_._J(U!=null?U.split(":::")[0]:"Layer");if(I.opacity)i*=parseFloat(I.opacity);if(I["fill-opacity"]){var M=parseFloat(I["fill-opacity"]);
if(M!=0)i*=M}_.opacity=Math.round(255*i);if(I["mix-blend-mode"]){var T=hG.o9.indexOf(I["mix-blend-mode"]);
if(T!=-1)_.iX=hG.Av[T]}if(d.getAttribute(R)==null)R="mask";if(d.getAttribute(R)!=null){var G=d.getAttribute(R);
G=G.slice(4,G.length-1);var V=r.getElementById(G.slice(1));if(V){var y=V.children;z=W.b_();z._J("Clip-Path"+(U?": "+U:""));
z.add.lsct=h<2?d1.O9:d1.$B;z.iX="pass";z.KX=24;var k=z.add.vmsk=new $.vL;W.B.push(W.Tz());var B=[];if(V.getAttribute(R)){var G=V.getAttribute(R);
G=G.slice(4,G.length-1);B=r.getElementById(G.slice(1)).children}for(var n=0;n<y.length;n++){var v=a.vg(y[n]);
v.concat(H);var l=a.bx(W,r,y[n],!1).slice(2);E.A.Zl(l,v);k.V=k.V.concat(l)}for(var n=0;n<B.length;n++){var v=a.vg(y[n]);
v.concat(H);var l=a.bx(W,r,B[n],!1).slice(2);for(var F=0;F<l.length;F++)if(l[n].xo!=null)l[n].xo=3;E.A.Zl(l,v);
k.V=k.V.concat(l)}z.P7();z.hR();h++}}if(I.filter&&I.filter!="none"){var Z=I.filter,A,o,O,C=!1,J=!1,q=!1;
Z=Z.slice(5,Z.length-1);var t=r.getElementById(Z),x=[0,0,0,.5],fd=H.mO();if(t)for(var n=0;n<t.children.length;
n++){var w=t.children[n];if(w.tagName=="feGaussianBlur"){C=!0;A=parseFloat(w.getAttribute("stdDeviation"))*fd}if(w.tagName=="feColorMatrix"){var P=w.getAttribute("values");
if(P){P=P.split(" ").map(parseFloat);x=[P[4],P[9],P[14],P[18]]}}if(w.tagName=="feComposite"){q=!0}if(w.tagName=="feOffset"){J=!0;
var fc=w.getAttribute("dx"),p=w.getAttribute("dy");o=parseFloat(fc?fc:0)*fd;O=parseFloat(p?p:0)*fd}}if(q||J){var gG=q?"IrSh":"DrSh";
if(gG=="IrSh"){_.add.iOpa=0}var fh=JSON.parse(iq.WS[iq.order.indexOf(gG)]);fh.blur.v.val=Math.round(A*2.4);
var fJ=Math.sqrt(o*o+O*O);fh.uglg.v=!1;fh.Dstn.v.val=Math.round(fJ);fh.lagl.v.val=Math.round(Math.atan2(O,-o)*(180/Math.PI));
fh.Clr.v=E.M.rY({o:x[0]*255,W:x[1]*255,k:x[2]*255});fh.Opct.v.val=Math.round(x[3]*100);a.fX(_,iq.lY[iq.order.indexOf(gG)],fh)}else if(C)L=A}if(j=="g"||j=="a"||j=="svg"||j=="switch"||(j=="text"||j=="textPath")&&d.children.length>0||j=="symbol"&&S){if(j=="text")D=a.VR(d,D);
var cF=d.getAttribute("viewBox"),j_=d.getAttribute("width"),gY=d.getAttribute("height");if(cF&&j_&&gY){var kc=dS.O8(cF),el=a.VR(d),iN=new au;
iN.translate(-kc[0],-kc[1]);iN.scale(parseFloat(j_)/kc[2],parseFloat(gY)/kc[3]);iN.translate(el.rn,el.NQ);
iN.concat(H);H=iN}var c$=d.children.length,dB=X.qt;X.qt=I;var aL=X.Lp;X.Lp=Math.max(X.Lp,L);var aB=j!="text"&&j!="textPath"||c$>1;
if(aB){var f3=_.cB();_.add.lsct=h<2&&f3&&(U==null||!U.endsWith(":::"))?d1.O9:d1.$B;_.iX="pass";_.KX=24;
_.ky(f3);W.B.push(W.Tz())}a.kL(r,d.children,W,H,X,D,h+1);if(aB)W.B.push(_);else{var jC=W.B[W.B.length-1];
jC.opacity=_.opacity;jC.iX=_.iX}X.Lp=aL;X.qt=dB}else if(j=="use"){var iN=a.VR(d);iN.concat(H);var bc=a.OH(d),iA=r.getElementById(bc.slice(1));
if(iA){var dB=X.qt;X.qt=I;if(I.filter)iA.setAttribute("filter",I.filter);a.kL(r,[iA],W,iN,X,D,h+1,!0);
X.qt=dB}}else if(j=="path"||j=="rect"||j=="circle"||j=="ellipse"||j=="polygon"||j=="polyline"||j=="line"){_.KX|=16;
_.add.vmsk=new $.vL;_.add.vstk=JSON.parse(JSON.stringify(iq.pN.default));_.add.vstk.strokeEnabled.v=!1;
var bL=_.add.vstk,k=_.add.vmsk,an=I.fill,dp=an=="none"||I["fill-opacity"]&&parseFloat(I["fill-opacity"])==0;
k.V=a.bx(W,r,d,I["fill-rule"]=="evenodd",dp);E.A.Zl(k.V,H);var im=E.A.eg(k.V),a5=I.stroke,bg=I["stroke-width"],fM=I["stroke-dasharray"],ev=I["stroke-linejoin"],fU=I["stroke-linecap"],e8=I["paint-order"];
if(a5==null||a5=="none"||a5=="null"){}else{var ej=a.aA(r,a5,H,im,W),fV=["SoFi","GrFl","patternFill"].indexOf(ej.type),he=ej.h.v.Opct.v,aJ=1;
if(he.val!=100){_.opacity=Math.round(_.opacity*he.val/100);he.val=100}var gZ=[iq.i4,iq.uc,iq.Ej][fV],hQ=bL.strokeStyleContent.v={classID:iq.pN.W8[fV]};
for(var n=0;n<gZ.length;n++)hQ[gZ[n]]=ej.h.v[gZ[n]];bg=bg?parseFloat(bg):1;if(e8&&e8.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){aJ=2;
bg/=2}bL.strokeEnabled.v=!0;if(ev)bL.strokeStyleLineJoinType.v.strokeStyleLineJoinType=iq.pN.join[["miter","round","bevel"].indexOf(ev)];
if(fU)bL.strokeStyleLineCapType.v.strokeStyleLineCapType=iq.pN.Nj[["butt","round","square"].indexOf(fU)];
bL.strokeStyleLineWidth.v.val=bg*H.mO();bL.strokeStyleLineAlignment.v.strokeStyleLineAlignment=iq.pN.Ba[aJ];
bL.strokeStyleOpacity.v.val=100*(I["stroke-opacity"]?parseFloat(I["stroke-opacity"]):1);if(fM!=null&&fM!="none")bL.strokeStyleLineDashSet.v=iI.Gp(fM.split(",").map(parseFloat),1/bg)}if(dp){_.add.vstk.fillEnabled.v=!1;
_.add.SoCo={classID:"null",Clr:{t:"Objc",v:E.M.rY({o:0,W:0,k:0})}}}else{var ej=a.aA(r,an,H,im,W),cs=null,fN=null;
if(ej.type=="SoFi"){cs="SoCo";fN=iq.i4}if(ej.type=="GrFl"){cs="GdFl";fN=iq.uc}if(ej.type=="patternFill"){cs="PtFl";
fN=iq.Ej}if(cs!=null){var he=ej.h.v.Opct.v;if(he.val!=100){_.opacity=Math.round(_.opacity*he.val/100);
he.val=100}_.add[cs]={classID:"null"};for(var n=0;n<fN.length;n++){var f=fN[n];_.add[cs][f]=ej.h.v[f]}}}var j4=Math.max(L,X.Lp);
if(j4!=0)_.add.vmsk.$E=j4;_.P7();_.hR(W);W.B.push(_)}else if((j=="text"||j=="tspan")&&d.textContent!=""){D=a.VR(d,D);
var iN=D.clone(),O=0;iN.concat(H);if(d.children.length>0){var hL=a.Dw(d.children[0],X.a7V);for(var f in hL)if(K.indexOf(f)==-1)I[f]=hL[f]}var fv=I["xml:space"],al=d.textContent;
if(fv=="preserve")al=al.replace(/\t/g," ").replace(/\n/g," ");if(U==null)_._J(al);_.add.lnsr="rend";
_.add.TySh=aH.M6(0,0);_.add.TySh.$C=new aV(0,0,100,100);_.add.TySh.D=iN.clone();var dD=_.add.TySh.kN;
aH.ig(dD,0,al);var an=I.fill,kd=I["font-weight"],gv=I["font-family"],j$=I["text-decoration"],a5=I.stroke,bg=I["stroke-width"],i9=I["dominant-baseline"];
if(i9=="text-before-edge")O=g;else if(i9=="middle")O=g/2;else if(i9=="hanging")O=g;if(O!=0)_.add.TySh.D.translate(0,O);
var bv=aH.Z2(dD,0,1);if(an&&an!="none"){var x=CSS.cG(an);bv.jr.FillColor={Type:1,Values:[1,x.o/255,x.W/255,x.k/255]}}if(j$=="underline")bv.jr.Underline=!0;
bv.jr.FontSize=Math.round(g);aH.Oz(bv,"LiberationSans");if(kd=="bold")aH.Oz(bv,"LiberationSans-Bold");
if(gv){gv=gv.split(",")[0].trim();if(gv[0]=="\"")gv=gv.slice(1);if(gv[gv.length-1]=="\"")gv=gv.slice(0,gv.length-1);
var jk=gv+":"+(kd?kd:"normal"),cM={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(cM[jk])aH.Oz(bv,cM[jk]);else aH.Oz(bv,gv)}if(I["text-anchor"])bv.GG.Justification=["start","end","middle"].indexOf(I["text-anchor"]);
aH.Yf(dD,0,al.length,bv);if(a5==null||a5=="none"){}else{var fh=JSON.parse(iq.WS[iq.order.indexOf("FrFX")]);
fh.Clr.v=E.M.rY(CSS.cG(a5));fh.Sz.v.val=Math.round(parseFloat(bg)*iN.mO());a.fX(_,"frameFXMulti",fh)}W.B.push(_)}else if(j=="image"){var bc=a.OH(d);
if(bc&&bc.slice(0,4)=="data"){var iW=fH.lJ(bc),ft=iW,b0=W.jS(ft,_.getName(),0,0);b0.KX=_.KX;_=b0;var ko=_.rect.clone();
ko.x=ko.y=0;var co=d.getAttribute("width"),gr=d.getAttribute("height");if(co)ko.e=parseFloat(co);if(gr)ko.n=parseFloat(gr);
var ib=a.VR(d);ib.concat(H);var bh=E.p.vk(ko).C;E.p.D(bh,ib,bh);_.add.SoLd.Trnf=m.EA.Aa(bh);_.add.SoLd.nonAffineTransform=m.EA.Aa(bh);
_.vd(W,!1);W.B.push(_)}}else console.log("unknown tag: "+j,d.children.length,d.textContent.length);if(z!=null){W.B.push(z);
h--}}};dS.fX=function(r,Q,W){var b=r.add.lmfx;if(b==null){var b=r.add.lmfx=JSON.parse(iq.default);for(var n=0;
n<iq.order.length;n++)b[iq.lY[n]]={t:"VlLs",v:[]}}b[Q].v.push({t:"Objc",v:W})};dS.bx=function(r,Q,W,b,X){var D=dS,h=[{type:6},{type:8,all:0}],S=W.tagName;
if(S=="use"){var a=D.OH(W),K=Q.getElementById(a.slice(1)),Y=new au;if(K.tagName!="rect")Y=D.VR(K);Y.concat(D.vg(K));
h=D.bx(r,Q,K,b,X);E.A.Zl(h,Y)}else if(S=="path"){var d=W.getAttribute("d");if(d==null)return h;var j=Typr.U.SVGToPath(d);
h=E.p.ou({C:j.crds,H:j.cmds},b,X)}else if(S=="rect"){var U=W.getAttribute("rx"),I=D.VR(W),f=new cp(0,0);
D.c$("width",W,r,f,!0);D.c$("height",W,r,f,!1);h=E.A.lF.Rect(I.rn,I.NQ,f.x,f.y,U?parseFloat(U):0)}else if(S=="circle"||S=="ellipse"){var g=[0,0,0,0],H=["cx","cy","rx","ry","r"];
for(var n=0;n<5;n++){var u=W.getAttribute(H[n]);if(u){u=parseFloat(u);if(n<4)g[n]=u;else g[2]=g[3]=u}}h=E.A.lF.az(g[0]-g[2],g[1]-g[3],2*g[2],2*g[3])}else if(S=="polygon"||S=="polyline"||S=="line"){var s;
if(S=="line")s=[W.getAttribute("x1"),W.getAttribute("y1"),W.getAttribute("x2"),W.getAttribute("y2")].map(parseFloat);
else s=W.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
h=E.A.lF.h9(s,0,S!="polygon")}return h};dS.eX=function(r,Q){if(r.charAt(r.length-1)=="m")return Q*parseFloat(r.slice(0,r.length-2));
else return parseFloat(r)};dS.aA=function(r,Q,W,b,X){var D,h,S=dS,a=JSON.parse(iq.WS[iq.order.indexOf("SoFi")]),K=Q!=null?Q.indexOf("("):-1;
if(K!=-1){var Y=Q.indexOf(")"),d=Q.slice(0,K).trim(),j=Q.slice(K+1,Y).trim();if(j.charAt(0)=="'")j=j.slice(1,j.length-1);
if(d=="url"){if(j.charAt(0)=="#"){var U=r.getElementById(j.slice(1));if(U&&U.tagName.toLowerCase().endsWith("gradient")){var I=S.T9(r,U,W,b);
D="GrFl";h={t:"Objc",v:I}}else if(U&&U.tagName.toLowerCase()=="pattern"&&U.children[0]&&U.children[0].tagName=="use"){D="SoFi";
h={t:"Objc",v:a};var f=U.children[0],g=S.vg(f),H=S.OH(f),u=r.getElementById(H.slice(1)),s=fH.lJ(S.OH(u)).buffer,_=fH.Qt(fH.E$(s)),i=_.ni(s)[0],M={};
M.id=bj.zQ()+"-d71c-11e5-b1ae-a548a96e5f9f";M.name="someImage";M.G5=[new Uint8Array(i.data),i.Kx];X.PT(M);
var a=JSON.parse(iq.WS[iq.order.indexOf("patternFill")]);a.Scl.v.val=Math.round(100*b.e*g.mu);var T=a.phase.v;
T.Hrzn.v=Math.round(b.x+g.rn*b.e);T.Vrtc.v=Math.round(b.y+g.NQ*b.n);a.Ptrn.v.Idnt.v=M.id;D="patternFill";
h={t:"Objc",v:a}}else{D="SoFi";h={t:"Objc",v:a}}}else console.log("unknown url",j)}else if(d=="rgb"||d=="rgba"){D="SoFi";
h={t:"Objc",v:a};h.v.Clr.v=E.M.rY(CSS.cG(Q));if(d=="rgba")h.v.Opct.v.val=Math.round(100*parseFloat(Q.split(",").pop()))}else console.log("unknown fill",Q)}else{D="SoFi";
h={t:"Objc",v:a};var R=CSS.cG(Q);h.v.Clr.v=E.M.rY(R);if(R.mu!=null)h.v.Opct.v.val=Math.round(100*R.mu/255)}return{type:D,h:h}};
dS.vg=function(r){var Q=new au,W=r.getAttribute("transform");if(W)Q=dS.hE(W);var b=r.getAttribute("style");
if(b!=null){var X={};dS.OY(X,b,["transform"]);b=X.transform;if(b)Q.concat(dS.hE(b))}return Q};dS.VR=function(r,Q){var W=new au,b=r.getAttribute("x"),X=r.getAttribute("y");
if(b)W.rn=parseFloat(b);else if(Q)W.rn=Q.rn;if(X)W.NQ=parseFloat(X);else if(Q)W.NQ=Q.NQ;return W};dS.hE=function(r){var Q=Typr.U.SVG.readTrnf(r);
return new au(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5])};dS.Dw=function(r,Q){var W={},b="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var n=0;n<b.length;n++){var X=r.getAttribute(b[n]);if(X!=null&&X!="inherit")W[b[n]]=X}var D=r.getAttribute("class");
if(Q!=null&&D!=null&&Q["."+D]!=null)dS.OY(W,Q["."+D],b);var h=r.getAttribute("id");if(Q!=null&&h!=null&&Q["#"+h]!=null)dS.OY(W,Q["#"+h],b);
var S=r.getAttribute("style");if(S!=null)dS.OY(W,S,b);return W};dS.OY=function(r,Q,W){Q=Q.trim().split(";");
for(var n=0;n<Q.length;n++){var b=Q[n].split(":"),X=b[0]?b[0].trim():"",D=b[1]?b[1].trim():"";for(var h=0;
h<W.length;h++)if(X==W[h]&&D!="inherit")r[W[h]]=D}};dS.OH=function(r){var Q=r.getAttribute("xlink:href");
if(Q==null)Q=r.getAttribute("href");if(Q==null)Q=r.getAttribute("xl:href");return Q};dS.c$=function(r,Q,W,b,X){var D=Q.getAttribute(r);
if(D==null)return;var h=parseFloat(D);if(D.endsWith("%"))h*=(X?W.e:W.n)/100;if(X)b.x=h;else b.y=h};dS.T9=function(r,Q,W,b){var X=dS,D=X.c$,h=new au,S=Q.getAttribute("gradientTransform"),U=!1;
if(S)h=X.hE(S);h.concat(W);var a=JSON.parse(iq.WS[iq.order.indexOf("GrFl")]),K=a.Grad.v;K.Intr.v=0;var Y=Q.tagName,d=new cp(0,0),j=new cp(b.e,0);
if(Y=="linearGradient"){a.Type.v.GrdT="Lnr";D("x1",Q,b,d,!0);D("y1",Q,b,d,!1);D("x2",Q,b,j,!0);D("y2",Q,b,j,!1);
d.x=j.x+.5*(d.x-j.x);d.y=j.y+.5*(d.y-j.y)}if(Y=="radialGradient"){a.Type.v.GrdT="Rdl";if(Q.getAttribute("cx"))d.x=parseFloat(Q.getAttribute("cx"));
if(Q.getAttribute("cy"))d.y=parseFloat(Q.getAttribute("cy"));j.DX(d.x,d.y);if(Q.getAttribute("r"))j.x+=parseFloat(Q.getAttribute("r"))}var I=Q;
while(!0){if(I.getAttribute("gradientUnits")=="userSpaceOnUse")U=!0;var f=X.OH(I);if(f==null)break;I=r.getElementById(f.slice(1))}if(U){d=h.lE(d);
j=h.lE(j)}else{d.x=b.x+d.x*b.e;d.y=b.y+d.y*b.n;j.x=b.x+j.x*b.e;j.y=b.y+j.y*b.n}E.M.xs(d,j,b,a);var g=Q.children;
if(g.length==0){var H=X.OH(Q);if(H==null)throw"gradient has no stops";var u=r.getElementById(H.slice(1));
if(u==null){console.log(H.slice(1))}else{var s=X.T9(r,u,h,b);a.Grad=s.Grad}}else{var _=[];for(var n=0;
n<g.length;n++){var i=g[n],M=X.Dw(i),T=M["stop-color"],R=M["stop-opacity"],z=i.getAttribute("offset");
if(T==null)T="#000000";R=R==null?1:parseFloat(R);var G=z?parseFloat(z):0;if(z&&z.endsWith("%"))G/=100;
T=CSS.cG(T);if(T.mu!=null)R*=T.mu/255;_.push([G,[T.o/255,T.W/255,T.k/255],parseFloat(R)])}E.M.Bn(_,K)}return a};
dS.cg=function(){var r=null,Q=null,W="",b="";function X(T,R,z){var G=[],B=" { ",v=" } ",l=!1;Q=R;b=R.NX?"":"\t";
W=R.NX?"":" ";var V=R.acw,y=R.arE;G.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+T.e+" "+T.n+"\" width=\""+V+"\" height=\""+y+"\">");
if(!R.NX)G.push(D(1)+"<title>"+u(T.name.split(".")[0])+"</title>");var k={BE:[],qv:[],Uq:0,vm:0,B_:0,eN:{},qu:{},wd:0,YX:{},aom:{},WV:0,zl:[]};
I(T,k,T.root.children,1,R,z);if(k.BE.length!=0){G.push(D(1)+"<defs>");G=G.concat(k.BE);G.push(D(1)+"</defs>")}G.push(D(1)+"<style>");
if(R.NX){B="{";v="}"}for(var n=0;n<T.B.length;n++)if(T.B[n].add.TySh)l=!0;if(l&&!R.adD&&!R.ala)G.push(D(2)+"tspan"+B+"white-space:pre"+v);
for(var F in k.YX)G.push(D(2)+"."+F+B+k.YX[F]+v);G.push(D(1)+"</style>");G=G.concat(k.qv);G.push("</svg>");
G=G.join(R.NX?"":"\n");return c.gl(G)}function D(fb){var T="";for(var n=0;n<fb;n++)T+=b;return T}function h(fb,T){if(T==null)T=1;
var R=""+parseFloat(fb.toFixed(T));if(R.startsWith("0."))R=R.slice(1);return R}function S(T,R){var z=T.add.lmfx;
if(z)z=z[R].v[0];if(z)z=z.v;if(z&&!z.enab.v)z=null;return z}function a(T,R){var z=S(T,"frameFXMulti");
if(z){var G=z.Sz.v.val;if(z.Styl.v.FStl=="OutF"){R.push("paint-order:stroke fill markers");G*=2}U(R,CSS.nh(z.Clr.v),1);
if(G!=1)R.push("stroke-width: "+G);R.push("stroke-linejoin: round;")}}var K="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
function Y(T){var R=K.length,z="";for(var G=1;G<10;G++){var V=(R-10)*~~Math.pow(R,G-1);if(T<V){for(var n=0;
n<G;n++){var y=n==G-1?10:0,k=R-y,B=T%k;z=K[B+y]+z;T=Math.floor((T-B)/k)}break}T-=V}return z}function d(T,R,z,G){if(T.length!=0){if(G==null)G="s";
var V=T.join(";"),y=R.aom[V];if(y==null){y=Q.NX?Y(R.WV):G+R.WV;R.WV++;R.aom[V]=y;R.YX[y]=V}if(z)z.push(y);
return y}}function j(T){if(Q.NX&&T.length==7&&T[0]=="#"){if(T[1]==T[2]&&T[3]==T[4]&&T[5]==T[6])T="#"+T[1]+T[3]+T[5]}return T}function U(T,R,z){R=j(R);
if(R!="#000"||z==1)T.push((z==0?"fill:":"stroke:")+W+R)}function I(T,R,z,G,V,y){var k=!1;for(var B=0;
B<z.length;B++){var v=z[B].l,l=v.add.lsct;if(!v.Cw&&z[B+1]&&z[B+1].l.Cw&&v.tN()&&v.add.vmsk){var F=[];
_(v,v.add.vmsk,R,F);R.qv.push(D(G)+"<g "+F[0]+">");G++;k=!0}else if(!v.Cw&&z[B-1]&&z[B-1].l.Cw&&k){G--;
R.qv.push(D(G)+"</g>");k=!1}var L=v.add.vmsk,Z=v.add.vogk,t=v.add.vstk,A=v.add.TySh;if(L&&!L.isEnabled)L=t=null;
var o=[];if(!V.hidden&&!v.cB())continue;var O=v.opacity/255,x=v.add.iOpa?v.add.iOpa/255:1;if(v.wf()){O*=x;
x=1}if(O!=1)o.push("opacity:"+W+h(O));if(x!=1)o.push("fill-opacity:"+W+h(x));if(v.iX!="norm"){var C=hG.o9[hG.Av.indexOf(v.iX)];
if(C!=null)o.push("mix-blend-mode:"+W+C)}if(!v.cB())o.push("display:"+W+"none");var F=[],J=[],q=v.getName(),fd=q.indexOf(" .");
if(!V.NX)F.push("id=\""+u(q)+"\"");var w=iI.k5(v.add.lmfx,v.add),P=w[0],fc=w[1];if(v.wf()){var p=z[B].children;
if(!(p.length==1&&p[0].l.add.SoLd&&!V.XI)){if(r&&v.getName().split("-").length==3){r.push({A6:v.getName(),ji:0,Sp:[]})}_(v,L,R,F);
if(o.length!=0)F.push("style=\""+o.join(";")+"\"");var gG=H(F,J),fh=V.NX&&gG=="";if(!fh)R.qv.push(D(G)+"<g"+(gG==""?"":" "+gG)+">");
I(T,R,p,G+1,V,y);if(!fh)R.qv.push(D(G)+"</g>")}}else if(v.tN()&&L==null){var fJ=new aV(0,0,T.e,T.n);
i(T,o,v.add,R,fJ,V);if(o.length!=0)F.push("style=\""+o.join(";")+"\"");R.qv.push(D(G)+"<rect width=\""+T.e+"\" height=\""+T.n+"\" "+H(F,J)+"/>")}else if(L&&v.add.SoLd==null){var fJ=E.A.eg(L.V,null,!0),cF,j_=null,gY=0,kc;
i(T,o,v.add,R,fJ,V);d(o,R,J);if(Z.length!=0){cF=Z[0].v;j_=cF.keyOriginType;if(j_)j_=j_.v;if(j_==2){var el=E.X.DP(cF);
gY=el[0];for(var n=0;n<3;n++)if(gY!=el[n+1])j_=null}}if(Z.length==1&&j_==5){var fJ=E.X.hU(cF),iN=(fJ[0]+fJ[2])/2,c$=(fJ[1]+fJ[3])/2,dB=iN-fJ[0],aL=c$-fJ[1],aB=Math.abs(dB-aL)<.01,f3=aB?"r=\""+h(dB)+"\"":"rx=\""+h(dB)+"\" ry=\""+h(aL)+"\"";
kc="<"+(aB?"circle":"ellipse")+" "+H(F,J)+" cx=\""+h(iN)+"\" cy=\""+h(c$)+"\" "+f3+"/>"}else if(Z.length==1&&j_==2&&gY!=0){var fJ=E.X.hU(cF),jC=fJ[0],bc=fJ[1],iA=fJ[2]-fJ[0],bL=fJ[3]-fJ[1],an="";
if(jC!=0)an+=" x=\""+h(jC)+"\"";if(bc!=0)an+=" y=\""+h(bc)+"\"";an+=" width=\""+h(iA)+"\"";an+=" height=\""+h(bL)+"\"";
an+=" rx=\""+h(gY)+"\"";kc="<rect "+H(F,J)+an+"></rect>"}else{var dp=E.A.FE(L.V,1);if(dp.AO!=0){F.push("fill-rule=\"evenodd\"")}kc="<path "+H(F,J)+" d=\""+dp.DM+"\"/>"}R.qv.push(D(G)+kc);
if(r&&r[r.length-1]){var im=E.p.Mf(L.V);im.C=im.C.map(Math.round);var a5=r[r.length-1];a5.ji+=JSON.stringify(im).length;
a5.Sp.push([o[0].split("#").pop(),im])}}else if(A&&V.adD){W=V.NX?"":" ";var bg=A.kN,fM=new gH(bg,y),ev=null;
if(P)ev=CSS.nh(P.Clr.v);if(fc){var fJ=v.rect.clone();M(fc,R,fJ,V);ev="url(#g"+R.Uq+")"}if(ev)o.push("fill:"+W+ev);
a(v,o);var fU=eO.pD(fM,A),e8=E.p.ea(fU);for(var ej in e8){var fV=o.slice(0),he=J.slice(0),gZ=F.slice(0);
if(ev==null){U(fV,ej.slice(0,7),0);if(ej.length>7){var hQ=ej.slice(7).split("-");console.log(hQ);U(fV,hQ[1],1);
if(hQ[2]!="1")fV.push("stroke-width:"+W+hQ[2])}}d(fV,R,he);var aJ=e8[ej],hQ=Typr.U.pathToSVG({crds:aJ.C,cmds:aJ.H},1);
R.qv.push(D(G)+"<path "+H(gZ,he)+(V.NX?"":" "+g(A))+" d=\""+hQ+"\"/>")}}else if(A&&!V.ala){var bg=A.kN,cs=A.D.clone(),ev=null;
o.push("transform:"+W+s(cs));var fN=aH.Wc(bg),fM=new gH(bg,y);a(v,o);if(o.length!=0)F.push("style=\""+o.join(";")+"\"");
R.qv.push(D(G)+"<text "+H(F,J)+" >");if(P)ev=CSS.nh(P.Clr.v);if(fc){var fJ=v.rect.clone();fJ.x-=cs.rn;
fJ.y-=cs.NQ;M(fc,R,fJ,V);ev=" url(#g"+R.Uq+")"}for(var n=0;n<fM.GG.length;n++){var j4=fM.GG[n];if(j4.OI.length==1&&j4.OI[0].Kg)continue;
for(var hL=0;hL<j4.wZ.length;hL++){var fv=j4.wZ[hL],c$=j4.D_.y+fv.D_.y,al=j4.OI[fv.start].start,dD=j4.OI[fv.end-1].end,kd=aH.axO(bg,al,dD),gv="";
for(var j$=0;j$<kd.length;j$++){var i9=fM.cu(al),bv=kd[j$],jk=aH.Z2(bg,al,al),cM=jk.Nk[jk.jr.Font].Name,ej=aH.vf(jk.jr.FillColor),iW=Math.round(jk.jr.FontSize),ft=fN.slice(al,al+bv);
if(jk.jr.FontCaps==2)ft=ft.toUpperCase();var b0=new au;b0.translate(i9.nX.x,-c$);var ko=[];CSS.at3(ko,jk,null,!0,!0,ev);
var co=d(ko,R,null,"t");co=co?" class=\""+co+"\"":"";var iN=i9.nX.x,gr=f(jk,ft);gv+="<tspan "+(j$==0?"x=\""+h(i9.nX.x)+"\"":"")+" y=\""+h(c$)+"\""+co+gr+">"+u(ft)+"</tspan>";
al+=bv}R.qv.push(D(G+1)+gv)}}R.qv.push(D(G)+"</text>")}else if(v.add.SoLd&&V.XI){var ib=v.add.SoLd,bh=ib.Idnt.v,bM=0,bR=ib.Crop?ib.Crop.v:null;
if(R.qu[bh]!=null)bM=R.qu[bh];else{R.wd++;bM=R.wd;R.qu[bh]=R.wd;var c5=T.Fu(bh,bR),f2="";if(c5==null)return;
var dE=c5.EJ,ix=fH.E$(c5.raw.buffer);if(ix=="pdf"){var a$=new bj("h");fH.Qt("PDF").ni(c5.raw.buffer,a$);
a$.cW();a$.qk();a$.U();a$.W4();if(ib.Crop&&ib.Crop.v==1){m.Fp.$_(a$,a$.root.J4(a$,!0))}var fl=fH.Qt("SVG").Al(a$,a$.e,a$.n,null,{zl:y});
f2="data:image/svg+xml;base64,"+fH.XS(fl)}else if(ix=="jpg"||ix=="png"||ix=="gif"||ix=="svg"){var cW={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
f2="data:"+cW[ix]+";base64,"+fH.XS(c5.raw.buffer)}else{f2=fH.AG(dE[0].buffer,dE[1].e,dE[1].n)}R.BE.push(D(2)+"<image width=\""+dE[1].e+"\" height=\""+dE[1].n+"\" id=\"img"+bM+"\" href=\""+f2+"\"/>")}var i7=E.K.sB(ib),fA=[];
_(v,L,R,fA);if(fA.length!=0)R.qv.push(D(G)+"<g "+H(fA,J)+">");if(o.length!=0)F.push("style=\""+o.join(";")+"\"");
var iG=H(F,J);R.qv.push(D(G)+"<use "+iG+" href=\"#img"+bM+"\" transform=\""+s(i7)+"\"/>");if(fA.length!=0)R.qv.push(D(G)+"</g>")}else if(!v.rect.WB()&&(V.XI||A)){if(o.length!=0)F.push("style=\""+o.join(";")+"\"");
var iG=H(F,J),i$=v.buffer;if(P)i$=iI.ats(i$,P,v.rect);var ic=v.rect;R.wd++;var f2=fH.AG(i$.buffer,ic.e,ic.n,"png",null,!0);
R.BE.push(D(2)+"<image "+g(A)+" width=\""+v.rect.e+"\" height=\""+v.rect.n+"\" id=\"img"+R.wd+"\" href=\""+f2+"\"/>");
R.qv.push(D(G)+"<use "+iG+" href=\"#img"+R.wd+"\" x=\""+ic.x+"\" y=\""+ic.y+"\"/>")}}if(k){G--;R.qv.push(D(G)+"</g>");
k=!1}}function f(T,R){var z=T.jr.Tracking,G="";if(z!=null&&z!=0){z=Math.round(z*T.jr.FontSize/1e3);G=" dx=\"0";
for(var V=1;V<R.length;V++)G+=" "+z;G+="\" "}return G}function g(T){if(T==null)return"";var R=T.kN,z=aH.Wc(R);
z=u(z.slice(0,z.length-1));return"aria-label=\""+z+"\" "}function H(T,R){if(R.length!=0)T.push("class=\""+R.join(" ")+"\"");
return T.join(" ")}function u(T){return String(T).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")}function s(T){var R=[T.mu,T.k,T.th,T.HR,T.rn,T.NQ];
for(var n=0;n<6;n++)R[n]=h(R[n],3);return"matrix("+R.join(",")+")"}function _(T,R,z,G){if(R||T.add.artb){var V;
if(R)V=E.A.FE(R.V).DM;else{var y=T.QT(),k=E.p.vk(y);V=Typr.U.pathToSVG({crds:k.C,cmds:k.H},1)}z.B_++;
G.push("clip-path=\"url(#cp"+z.B_+")\"");z.BE.push(D(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+z.B_+"\">");
z.BE.push(D(3)+"<path d=\""+V+"\"/>");z.BE.push(D(2)+"</clipPath>")}}function i(T,R,z,G,V,y){var k=z.vstk,B=z.vmsk,v=z.lmfx,l=[];
if(B&&B.$E!=0){var F=h(B.$E);if(G.eN[F]==null){G.vm++;G.eN[F]=G.vm;G.BE.push(D(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+G.vm+"\"> <feGaussianBlur stdDeviation=\""+F+"\"/> </filter>")}l.push("url(#f"+G.eN[F]+")")}if(v)for(var n=0;
n<iq.order.length;n++){var L=iq.order[n],Z=iq.lY[n],t=v[Z].v;for(var A=0;A<t.length;A++){var o=t[A].v,O=o.classID;
if(!o.enab.v)continue;if(O=="OrGl"||O=="DrSh"){G.vm++;l.push("url(#f"+G.vm+")");var x=0,C=0,J=o.blur.v.val/2.4,q=o.Opct.v.val/100;
if(O=="DrSh"){var fd=o.uglg&&o.uglg.v?T.QR():o.lagl.v.val;fd=fd*(Math.PI/180);var w=o.Dstn.v.val;x=-Math.cos(fd)*w;
C=Math.sin(fd)*w}if(O=="OrGl")q/=o.Inpr.v.val/100;var P="<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+G.vm+"\" >";
P+="<feDropShadow dx=\""+x+"\" dy=\""+C+"\" stdDeviation=\""+J+"\" flood-color=\""+CSS.nh(o.Clr.v)+"\" flood-opacity=\""+h(q)+"\"/>";
P+="</filter>";G.BE.push(D(2)+P)}}}if(l.length!=0)R.push("filter:"+W+l.join(" "));var fc=iI.k5(v,z),p=fc[0],gG=fc[1];
if(k&&!k.fillEnabled.v)R.push("fill:"+W+"none");else if(p){var fh=CSS.nh(p.Clr.v);U(R,fh,0)}else if(gG){M(gG,G,V,y);
U(R,"url(#g"+G.Uq+")",0)}if(k==null||!k.strokeEnabled.v)k=iI.XQ(v);if(k&&k.strokeEnabled.v){var fJ=k.strokeStyleContent.v,cF=fJ.classID;
if(cF=="solidColorLayer")U(R,CSS.nh(fJ.Clr.v),1);else{M(fJ,G,V,y);U(R,"url(#g"+G.Uq+")",1)}var j_=iq.pN.Nj.indexOf(k.strokeStyleLineCapType.v.strokeStyleLineCapType),gY=iq.pN.join.indexOf(k.strokeStyleLineJoinType.v.strokeStyleLineJoinType),kc=k.strokeStyleOpacity.v.val/100,el=k.strokeStyleLineWidth.v.val,iN=iq.pN.Ba.indexOf(k.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(iN==2){el*=2;R.push("paint-order:stroke fill markers")}var c$=k.strokeStyleLineDashSet.v,dB=[];for(var n=0;
n<c$.length;n++)dB.push(Math.round(c$[n].v.val*el));if(j_!=0)R.push("stroke-linecap:"+W+["butt","round","square"][j_]);
if(gY!=0)R.push("stroke-linejoin:"+W+["miter","round","bevel"][gY]);if(kc!=1)R.push("stroke-opacity:"+W+h(kc));
if(el!=1)R.push("stroke-width:"+W+h(el));if(dB.length!=0)R.push("stroke-dasharray:"+W+dB.join(","))}}function M(T,R,z,G){R.Uq++;
var V=T.Grad.v,y=JSON.parse(JSON.stringify(V.Clrs.v)),k=JSON.parse(JSON.stringify(V.Trns.v)),B=T.Ofst.v,v=T.Type.v.GrdT,l=v=="Rdl"||v=="Dmnd"?1:0,F=(l==1?"radial":"linear")+"Gradient",L=E.M.eQ(T,z),t="";
if(l==0){L[0].x=L[1].x+2*(L[0].x-L[1].x);L[0].y=L[1].y+2*(L[0].y-L[1].y)}var Z=D(2)+"<"+F+" id=\"g"+R.Uq+"\"";
if(G.NX){if(R.Uq==1)R.BE.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");t=" href=\"#P\""}else t=" gradientUnits=\"userSpaceOnUse\"";
if(l==0)R.BE.push(Z+" x1=\""+h(L[0].x)+"\" y1=\""+h(L[0].y)+"\" x2=\""+h(L[1].x)+"\" y2=\""+h(L[1].y)+"\""+t+">");
if(l==1)R.BE.push(Z+" cx=\""+h(L[0].x)+"\" cy=\""+h(L[0].y)+"\" r=\""+h(cp.ks(L[0],L[1]))+"\""+t+">");
var A=T.Rvrs.v,o=E.M.D0(V,A);for(var n=0;n<o.length;n++){var O=o[n],x=O[0],C=O[1],J=O[2];J=J==1?"":" stop-opacity=\""+h(J)+"\"";
var q=x==0&&G.NX?"":" offset=\""+h(x)+"\"",fd=CSS.qp({o:C[0]*255,W:C[1]*255,k:C[2]*255});fd=G.NX&&fd=="#000000"?"":" stop-color=\""+j(fd)+"\"";
R.BE.push(D(3)+"<stop"+q+fd+J+"/>")}R.BE.push(D(2)+"</"+F+">")}dS.RC=s;return X}();dS.lF=function(r,Q,W,b,X){var D=[],h=dS.lF,S=!1,a={Dr:r,J9:Q,T2:[!0,!0,!0],Nq:!1,el:W,am$:0};
a.k4=Math.round(Math.max(r,Q)*(.02+h.cA(a)*.03));a.la=h.aqk(a);a.tX=h.av5(a.la,(h.cA(a)<.5?-1:1)*(.2+h.cA(a)*.3));
if(h.cA(a)<.5){var K=a.la;a.la=a.tX;a.tX=K}a.akL=h.cA(a)<.4&&h.ahI(a.tX,{o:1,W:1,k:1})>.3;a.a5O=h.cA(a)<.5?0:1;
D.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+r+" "+Q+"\" width=\""+r+"\" height=\""+Q+"\">");
a.nY=b[Math.floor(h.jy(a)*b.length)];a.N6=b[Math.floor(h.jy(a)*b.length)];D.push("<style>");D.push("@font-face {  font-family: "+a.nY[2]+";  src: url(rsrc/fonts/"+a.nY[5]+");  }");
D.push("@font-face {  font-family: "+a.N6[2]+";  src: url(rsrc/fonts/"+a.N6[5]+");  }");D.push("</style>");
var Y=[0,0,r,Q],d=Y;if(X==null)D.push("<path style=\"fill: "+h.F$(a.la)+"\" d=\""+h.Rect(Y[0],Y[1],Y[2]-Y[0],Y[3]-Y[1])+"\" id=\"Background\" />");
else{a.Nq=!0;h.Ln(a,Y,D,X)}if(h.cA(a)<.25&&!a.Nq){a.T2[0]=a.T2[2]=!1;h.a1u(Y,a,D);d=Y}else if(h.cA(a)<.25||a.Nq)d=Y;
else{var j=.52+h.cA(a)*.2;if(h.cA(a)<.5)j=1-j;var U=Y.slice(0),I=Y.slice(0);if(h.cA(a)<.5)U[2]=I[0]=Math.round(j*r);
else U[3]=I[1]=Math.round(j*Q);if(h.cA(a)<.5){var K=U;U=I;I=K}d=U;h.a8S(a,I,D,X)}h.ahE(a,d,D);D.push("</svg>");
D=D.join("\n");var f=E.Q(Math.round(D.length*1.5)),g=c.XX(D,f,0);return[f.buffer.slice(0,g),a.ov]};dS.lF.a1u=function(r,Q,W){var b=dS.lF,X=r[2]-r[0],D=r[3]-r[1];
if(b.cA(Q)<.5){W.push("<path id=\"Border\" style=\"fill: "+b.F$(Q.tX)+"\" d=\""+b.a0u(r[0],r[1],r[2]-r[0],r[3]-r[1],Q.k4)+"\" />")}else if(b.cA(Q)<-.4){b.ayI(Q,r,W)}else{var h=b.cA(Q)<.5?0:1,S=(h==0?D:X)/4,a=b.bM(Q,h,r,W,S,!0),a=b.bM(Q,h+2,r,W,S,!0,a)}};
dS.lF.ahE=function(r,Q,W){var b=dS.lF,X="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),D=2*Math.floor(b.cA(r)*X.length/2),h=Q[2]-Q[0],S=Q[3]-Q[1],K=0,d=0;
r.oS=(r.Dr+h)*.5*(.04+b.cA(r)*.05);r.oS=Math.min(r.oS,S*.4,h*.12);r.oS=Math.round(r.oS);var a=Math.min(r.oS*X[D].length*(.35+.3*b.cA(r)),h*.9),Y=(Q[1]+Q[3])/2,j=E.H7(r.la)<.85?{o:1,W:1,k:1}:{o:.1,W:.1,k:.1};
if(b.cA(r)<.25&&r.T2[0]){d=0;K=Q[0]+r.k4}else if(b.cA(r)<.33&&r.T2[2]){d=2;K=Q[2]-r.k4}else{d=1;K=(Q[0]+Q[2])/2}var U=j.o==1?"0,0,0":"255,255,255",I=r.Nq&&b.cA(r)<1;
if(I){var f=Q[0],g=h,H=Y-r.oS*1.1,u=r.oS*2.2,s=.7;if(d==1&&b.cA(r)<.5){f=H=.2*Math.min(h,S);g=h-2*H;
u=S-H-H}else if(b.cA(r)<.7){f=H=0;g=h;u=S;s=.25}W.push("<path id=\"Strip\" style=\"fill: rgb("+U+"); opacity: "+s+"\" d=\""+b.Rect(f,H,g,u)+"\" />")}if(b.cA(r)<.4){var _=r.oS*.07;
_*=1.5+b.cA(r)*1;if(d==-1&&h/S<3&&!I){W.push("<path id=\"Bar-bottom\" style=\"fill: "+b.F$(j)+"\" d=\""+b.Rect(K-a/2,Y+r.oS*1.1-_/2,a,_)+"\" />");
W.push("<path id=\"Bar-top\"    style=\"fill: "+b.F$(j)+"\" d=\""+b.Rect(K-a/2,Y-r.oS*1.1-_/2,a,_)+"\" />")}if(d!=1){W.push("<path id=\"Bar\" style=\"fill: "+b.F$(j)+"\" d=\""+b.Rect(K-_/2,Y-r.oS*.8,_,r.oS*.8*2)+"\" />");
K+=(d==0?1:-1)*r.oS/3}}var i=r.oS*.4;W.push(b.VN(X[D+1],K,Y+i*1.6,i,j,d,r.N6));W.push(b.VN(X[D],K,Y+r.oS*.04,r.oS,j,d,r.nY))};
dS.lF.a8S=function(r,Q,W,b){var X=Q[2]-Q[0],D=Q[3]-Q[1],h=Math.max(X,D),S=Math.min(X,D),a=dS.lF;if(h/S<5&&!r.Nq&&!1){a.Ln(r,Q,W,b)}else if(a.cA(r)<0)W.push("<path style=\"fill: "+a.F$(r.tX)+"\" d=\""+a.Rect(Q[0],Q[1],X,D)+"\" />");
else{var K=0;if(Q[3]!=r.J9)K=0;if(Q[2]!=r.Dr)K=3;if(Q[0]!=0)K=1;if(Q[1]!=0)K=2;var Y=K+2&3;if(h/S<3){var d=a.am4(Y),j=d[Math.round(a.cA(r)*(d.length-1))],U=j.A6.slice(0,4),I=U.indexOf(1);
j=JSON.parse(JSON.stringify(j));var f=-1;if(U!="0000"){var g=new au;if(j.A6[5]=="0"){if(I==3&&K==1){f=1;
g.scale(-1,1)}else f=I}else{var H=Y;while(H==Y)H=Math.floor(a.cA(r)*4)&3;g.rotate((-I+H)*Math.PI/2)}a.D(j,g)}var u=a.Z3(j),s=X-2*r.k4,_=D-2*r.k4;
if(f!=-1){if((f&1)==0)_-=r.k4;else s-=r.k4}var i=Math.min(s/u.e,_/u.n),M=new au;M.translate(-u.x,-u.y);
M.scale(i,i);var T=(X-u.e*i)/2,R=(D-u.n*i)/2;if(f!=-1){if(f==3)T=0;if(f==0)R=0;if(f==1)T=X-u.e*i;if(f==2)R=D-u.n*i}M.translate(Q[0]+T,Q[1]+R);
a.QQ(r,j,M,r.tX,W)}else{a.bM(r,K,Q,W,1e9)}}};dS.lF.Ln=function(r,Q,W,b){var X=Q[2]-Q[0],D=Q[3]-Q[1],h=Math.max(X,D),S=Math.min(X,D),a=dS.lF,K=a.jy(r),Y,d,j,U=b[0]instanceof ArrayBuffer;
if(U){Y="data:image/jpg;base64,"+dR.Si(b[0]);d=b[1];j=b[2]}else{var I=Math.floor(K*b.length),f=b[I];
r.ov=f;Y=f.webformatURL;d=f.webformatWidth;j=f.webformatHeight}var g=Q[0],H=Q[1],u=X,s=D;if(X/D>d/j){s=u*j/d;
H=H-(s-D)/2}else{u=s*d/j;g=g-(u-X)/2}if(U){W.push("<defs>");W.push("<image width=\""+d+"\" height=\""+j+"\" id=\"Background\" href=\""+Y+"\" />");
W.push("</defs>");var _=u/d;W.push("<use href=\"#Background\" transform=\""+dS.RC(new au(_,0,0,_,g,H))+"\" />")}else{var i="cp"+Math.random();
W.push("<clipPath id=\""+i+"\">");W.push("<path style=\"fill: "+a.F$(r.tX)+"\" d=\""+a.Rect(Q[0],Q[1],X,D)+"\" />");
W.push("</clipPath>");W.push("<image  clip-path=\"url(#"+i+")\" xlink:href=\""+Y+"\" x=\""+g+"\" y=\""+H+"\" width=\""+u+"\" height=\""+s+"\" />")}};
dS.lF.VN=function(r,Q,W,b,X,D,h){var S=dS.lF;return"<text x=\""+Q+"\" y=\""+W+"\" style=\"fill:"+S.F$(X)+"; font-size:"+b+"px; text-anchor:"+["start","middle","end"][D]+"; font-family:"+h[2]+";\"><tspan>"+r+"</tspan></text>"};
dS.lF.QQ=function(r,Q,W,b,X){var D=dS.lF,h=[];for(var n=0;n<Q.Sp.length;n++){h.push(b);if(r.akL){b=(n&1)==r.a5O?{o:1,W:1,k:1}:h[0]}}X.push("<g id=\""+Q.A6.split("-")[2]+":::\" style=\"transform: "+dS.RC(W)+";\" >");
for(var n=0;n<Q.Sp.length;n++){var S=Q.Sp[n];b=h.pop();X.push("<path style=\"fill: "+(b?D.F$(b):"#"+S[0])+"\" d=\""+Typr.U.pathToSVG({crds:S[1].C,cmds:S[1].H})+"\" />")}X.push("</g>")};
dS.lF.ayI=function(r,Q,W){var b=dS.lF,X=dS.lF.o$,D=[];for(var n=0;n<X.length;n++){var h=X[n],S=h.A6.slice(0,4);
if(S!="1001")continue;D.push(h)}var h=D[Math.floor(b.cA(r)*D.length)];if(b.cA(r)<.5)b.D(h,new au(0,1,1,0,0,0));
var a=Q[3]-Q[1],K=Q[2]-Q[0],Y=b.Z3(h),d=.7*Math.min(K,a,.5*Math.max(K,a))/Math.max(Y.e,Y.n),j=new au;
j.scale(d,d);if(b.cA(r)<.5){j.scale(1,-1);j.translate(0,a)}b.QQ(r,h,j,r.tX,W);j.rotate(Math.PI);j.translate(K,a);
b.QQ(r,h,j,r.tX,W)};dS.lF.am4=function(r){var Q=dS.lF.o$,W=[];for(var n=0;n<Q.length;n++){var b=Q[n],X=b.A6.slice(0,4);
if(X=="0000"){W.push(b);continue}if(["1000","0100","0010","0001"].indexOf(X)==-1)continue;var D=X.indexOf("1");
if(b.A6[5]=="0"&&r==D&&D!=3)continue;W.push(b)}return W};dS.lF.bM=function(r,Q,W,b,X,D,h){var S=dS.lF.o$,a=dS.lF,K=[],u,s;
for(var n=0;n<S.length;n++){var Y=S[n],d=Y.A6.slice(0,4);if(["1110","1101","1011","0111"].indexOf(d)==-1)continue;
var j=d.indexOf("0")+2&3;if(Y.A6[5]=="0")if(D==!0||Q!=j&&!(Q==1&&j==3))continue;K.push(Y)}var U=h!=null?h:Math.floor(a.cA(r)*K.length),Y=K[U],Y=JSON.parse(JSON.stringify(Y)),d=Y.A6.slice(0,4),j=d.indexOf("0")+2&3;
if(j==3&&Q==1)E.D(Y,new au(1,0,0,-1,0,1e3));var I=new au;I.translate(-500,-500);I.rotate(-j*Math.PI/2);
I.translate(500,500);a.D(Y,I);var f=W[3]-W[1],g=W[2]-W[0],H=a.Z3(Y);if(H.y<0){H.n+=H.y;H.y=0}if(H.y>0){H.n+=H.y;
H.y=0}if((Q&1)==0){s=f;u=g}else{u=f;s=g}var _=Math.min(Math.min(.5+.5*a.cA(r))*Math.min(g,f),X)/H.n,i=Math.ceil(u/(1e3*_)),M=new au,T=new au;
T.scale(_,_);if(Q==0||Q==2){T.translate(-(g/2),-(f/2));T.rotate(-Q*Math.PI/2);T.translate(g/2+W[0],f/2+W[1])}else{T.rotate(Math.PI/2);
T.scale(1,-1);T.translate(W[0],W[1]);if(Q==1){T.scale(-1,1);T.translate(g,0)}}b.push("<g id=\"Border-"+["top","right","bottom","left"][Q]+":::\">");
for(var n=0;n<i;n++){var R=M.clone();R.concat(T);a.QQ(r,Y,R,r.tX,b);M.translate(1e3-2,0)}b.push("</g>");
return U};dS.lF.Rect=function(r,Q,W,b){return Typr.U.pathToSVG({crds:[r,Q,r+W,Q,r+W,Q+b,r,Q+b],cmds:["M","L","L","L","Z"]})};
dS.lF.a0u=function(r,Q,W,b,X){var D=[r,Q,r+W,Q,r+W,Q+b,r,Q+b];r+=X;Q+=X;W-=2*X;b-=2*X;D.push(r,Q,r,Q+b,r+W,Q+b,r+W,Q);
return Typr.U.pathToSVG({crds:D,cmds:"M L L L Z M L L L Z".split(" ")})};dS.lF.av5=function(r,Q){var W=E.jh(r.o,r.W,r.k);
W.qC=Math.max(.1,Math.min(.9,W.qC+Q));return E._0(W.J9,W.Am,W.qC)};dS.lF.ama=function(r,Q){var W=E.jh(r.o,r.W,r.k);
W.J9+=Q;return E._0(W.J9,W.Am,W.qC)};dS.lF.awQ=function(r){var Q=E.jh(r.o,r.W,r.k);Q.qC=1-Q.qC;return E._0(Q.J9,Q.Am,Q.qC)};
dS.lF.ahI=function(r,Q){var W=r.o-Q.o,b=r.W-Q.W,X=r.k-Q.k;return Math.sqrt(W*W+b*b+X*X)};dS.lF.aqk=function(r){var Q=dS.lF;
return{o:Q.cA(r),W:Q.cA(r),k:Q.cA(r)}};dS.lF.F$=function(r){return CSS.qp({o:r.o*255,W:r.W*255,k:r.k*255})};
dS.lF.Z3=function(r){var Q=r.Sp,W=new aV;for(var n=0;n<Q.length;n++)W=W.Bc(E.p.Z3(Q[n][1].C));return W};
dS.lF.D=function(r,Q){var W=r.Sp;for(var n=0;n<W.length;n++)E.p.D(W[n][1].C,Q,W[n][1].C)};dS.lF.cA=function(r){r.am$++;
var Q=r.am$&3;if(Q==0)r.el=dS.lF.Xv(r.el);var W=r.el>>>8*Q&255;return W*(.99999999/255)};dS.lF.jy=function(r){var Q=dS.lF.Xv(r.el);
r.el=dS.lF.Xv(Q);return Q*(1/4294967295)};dS.lF.Xv=function(r){r=(r^61^r>>>16)>>>0;r=r+(r<<3)>>>0;r=(r^r>>>4)>>>0;
r=r*668265261>>>0;r=(r^r>>>15)>>>0;return r};dS.lF.o$=[{A6:"0001-0-bird",Sp:[["4b3c34",{H:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),C:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{H:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),C:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{H:"M C C C C C C C C C C C C L Z".split(" "),C:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{A6:"0001-0-bird2",Sp:[["ff7f2a",{H:"M L L L Z M L L L Z".split(" "),C:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{H:"M C C C C C C C C C C C L Z".split(" "),C:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{H:"M C C C C C C L Z M C C Z".split(" "),C:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{H:"M L L L Z M L L L Z".split(" "),C:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{H:"M L C C C C C C C C L Z".split(" "),C:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{H:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),C:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{A6:"0000-1-flower",Sp:[["7a59a2",{H:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),C:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{A6:"0000-1-flower",Sp:[["d13777",{H:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),C:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{A6:"0000-1-flower",Sp:[["ffac42",{H:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),C:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{A6:"0000-1-flower",Sp:[["d04040",{H:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),C:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{A6:"0000-1-flower",Sp:[["ec7272",{H:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),C:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{H:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),C:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{A6:"0000-0-hearts",Sp:[["d17070",{H:"M C C C C C C C C C L Z".split(" "),C:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{H:"M C C C C C C C C C L Z".split(" "),C:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{H:"M C C C C C C C C C L Z".split(" "),C:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{A6:"0000-0-anchor",Sp:[["2a3b66",{H:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),C:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{A6:"0000-1-leaf",Sp:[["fbb600",{H:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),C:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{A6:"0000-1-acorn",Sp:[["a05a2c",{H:"M C C C C C C C L Z".split(" "),C:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{H:"M C C C C C C C C C C C Z".split(" "),C:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{A6:"0000-0-skull",Sp:[["808080",{H:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),C:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{A6:"0000-0-ghost",Sp:[["e6e6e6",{H:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),C:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{H:"M C C C C Z M C C C C Z".split(" "),C:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{A6:"1001-1-rose",Sp:[["9e1460",{H:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),C:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{H:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),C:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{A6:"1001-1-curls",Sp:[["53a7ab",{H:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),C:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{H:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),C:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{A6:"0111-0-pines",Sp:[["e9e9e9",{H:"M C C C C C C C C L L L Z".split(" "),C:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{H:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),C:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{A6:"0111-0-flowers",Sp:[["8cae40",{H:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),C:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{H:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),C:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{A6:"1101-1-confetti",Sp:[["e789ff",{H:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{H:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{A6:"1101-1-branch",Sp:[["7f500b",{H:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),C:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{H:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),C:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{A6:"1101-1-sticks",Sp:[["ec7272",{H:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{H:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{A6:"1101-1-dots",Sp:[["ec7272",{H:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),C:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{H:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),C:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{H:["M","C","C","Z"],C:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{A6:"1101-1-strips",Sp:[["ffc88c",{H:"M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{H:"M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{H:["M","C","C","Z"],C:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{A6:"1101-1-circs",Sp:[["ec7272",{H:"M C C C C Z M C C C C Z".split(" "),C:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{H:"M C C C C Z M C C C C Z".split(" "),C:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{H:["M","C","C","Z"],C:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{A6:"1101-1-squares",Sp:[["014ea7",{H:"M L L L L Z M L L L L Z".split(" "),C:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{H:"M L L L L Z M L L L L Z".split(" "),C:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{H:["M","C","C","Z"],C:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{A6:"1101-0-christmas",Sp:[["014ea7",{H:"M C C C C Z M C C C C Z M L L L L Z".split(" "),C:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{H:"M C C C C Z M C C C C Z M L L L L Z".split(" "),C:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var gl={};gl.parse=function(r){var Q=new Uint8Array(r),W=null;if(Q[0]==80&&Q[1]==75){var b=Date.now(),X=UZIP.parse(Q.buffer),W=X["document.json"];
W=JSON.parse(c.CA(W,0,W.length));gl.i2(W,X)}else{var D=bT.parse(r);W=gl.TF(D[2][0][1])}return W};gl.i2=function(r,Q){var W=typeof r;
if(W=="string"||W=="number"||W=="boolean")return r;if(r instanceof Array){for(var n=0;n<r.length;n++)r[n]=gl.i2(r[n],Q);
return r}var b=r._class;if(b==null)return r;if(b=="MSJSONFileReference"){var X=r._ref;if(!1){}else if(Q[X+".json"]!=null){var D=Q[X+".json"],h=D.length;
for(var n=0;n<h;n++)if(D[n]==11||D[n]==3)D[n]=32;var S=c.CA(D,0,h);r=JSON.parse(S)}else if(Q[X+".png"]!=null)return{key:X.split("/").pop(),bdata:Q[X+".png"]};
else if(Q[X+".jpg"]!=null)return{key:X.split("/").pop(),bdata:Q[X+".jpg"]};else if(Q[X+".pdf"]!=null)return{key:X.split("/").pop(),bdata:Q[X+".pdf"]};
else if(Q[X]!=null)return{key:X.split("/").pop(),bdata:Q[X]};else{console.log(r,Q);return}}else if(b=="MSAttributedString"){var S=atob(r.archivedAttributedString._archive),a=S.length-1,K=new Uint8Array(a);
for(var n=0;n<a;n++)K[n]=S.charCodeAt(n);r.archivedAttributedString=gl.TF(K)}for(var Y in r)r[Y]=gl.i2(r[Y],Q);
return r};gl.TK=function(r,Q,W,b){if(r instanceof Uint8Array)return null;if(b.indexOf(r)!=-1)return null;
b.push(r);if(r==Q)return W;for(var X in r){W.push(X);var D=gl.TK(r[X],Q,W,b);if(D){console.log(r,D);
throw"e"}W.pop()}};gl.TF=function(r){var Q=ei.parse(r,0),W=Q.$objects,b=new Uint8Array(W.length),X=gl.U7(W,b,Q.$top.root);
for(var n=0;n<W.length;n++)if(b[n]==0&&n!=0){console.log(n,W[n]);gl.TK(X,n,[],[])}for(var n=0;n<W.length;
n++){var D=W[n];if(D._class&&(D._class=="bitmap"||D._class=="fill"&&D.fillType==4&&(D.image||D.imageSHA))){var h=D.image,S=D.imageSHA,a=null,K=null;
if(h=="$null")h=null;if(S=="$null")S=null;if(h&&h.data){K=h.sha1["NS.bytes"];K=btoa(c.zV(K,0,K.length));
a=h.data instanceof Uint8Array?h.data:h.data["NS.bytes"]}else if(h==null&&S==null){var Y=fH.Qt("PNG").Al([[E.Q(4).buffer]],1,1);
a=new Uint8Array(Y)}else{var d=(X.assets?X.assets.imageCollection:X.images).images;if(S)K=S instanceof Uint8Array?S:S["NS.bytes"];
else K=h.sha1["NS.bytes"];K=btoa(c.zV(K,0,K.length));var a=d[K].data;if(a["NS.bytes"])a=a["NS.bytes"]}a=new Uint8Array(a.buffer.slice(a.byteOffset,a.byteOffset+a.length));
delete D.imageSHA;D.image={key:K,bdata:a}}}return X};gl.a8K=function(r){return r.slice(0,11)=="MSImmutable"?"MS"+r.slice(11):r};
gl.U7=function(r,Q,W){var b=r[W];if(Q[W]==1){return b}Q[W]=1;if(typeof b=="string")return b;if(typeof b=="number")return b;
if(typeof b=="boolean")return b;if(b instanceof Array)return b;if(b instanceof Uint8Array){return b}if(r[b.$class]==null){if(b.$class==null&&b["NS.data"]!=null)return b;
console.log(W,b);throw"e"}var X=r[b.$class],D=gl.a8K(X.$classname);Q[b.$class]=1;b.$class=D;if(gl.yT[D]){delete b.$class;
b._class=gl.yT[D]}var h=gl.U7;if(D=="NSMutableArray"||D=="NSArray"){var S=[];if(b["NS.objects"]!=null)for(var n=0;
n<b["NS.objects"].length;n++)S.push(h(r,Q,b["NS.objects"][n]));else for(var n=0;b["NS.object."+n]!=null;
n++)S.push(h(r,Q,b["NS.object."+n]));r[W]=S;return S}if(D=="NSDictionary"||D=="NSMutableDictionary"){var a={$class:D};
if(b["NS.keys"]!=null)for(var n=0;n<b["NS.keys"].length;n++){var K=h(r,Q,b["NS.keys"][n]);if(K instanceof Uint8Array)K=btoa(gl.a3.zV(K,0,K.length));
else if(typeof K!="string"&&typeof K!="number")K=btoa(gl.a3.zV(K["NS.bytes"],0,K["NS.bytes"].length));
a[K]=h(r,Q,b["NS.objects"][n])}else for(var n=0;b["NS.key."+n]!=null;n++){var K=h(r,Q,b["NS.key."+n]);
if(K instanceof Uint8Array)K=btoa(gl.a3.zV(K,0,K.length));else if(typeof K!="string"&&typeof K!="number")K=btoa(gl.a3.zV(K["NS.bytes"],0,K["NS.bytes"].length));
a[K]=h(r,Q,b["NS.object."+n])}for(var Y in b)delete b[Y];for(var Y in a)b[Y]=a[Y];return b}if(D=="NSURL")return{$class:D,base:h(r,Q,b["NS.base"]),relative:h(r,Q,b["NS.relative"])};
if(gl.axi.indexOf(D)!=-1){r[W]=h(r,Q,b.array_do);return r[W]}if(b.do_objectID!=null)b.do_objectID=h(r,Q,b.do_objectID);
if(gl.aqm.indexOf(D)!=-1)return b;var d=gl.a0Y[D];if(d==null){console.log(r,b);throw"unknown class "+D}for(var n=0;
n<d.length;n++)if(b[d[n]]!=null)b[d[n]]=h(r,Q,b[d[n]]);if(D=="MSTextLayer"){var j=b,U,I,f,g;if(j.attributedString)U=j.attributedString.archivedAttributedString;
else U=j.storage;g=U.NSString;if(typeof g!="string")g=c.CA(g["NS.bytes"],0,g["NS.bytes"].length);if(U.NSAttributeInfo)I=U.NSAttributeInfo["NS.bytes"];
else{var H=g.length,u=[];while(H>0){var s=Math.min(100,H);u.push(s,0);H-=s}I=new Uint8Array(u)}f=U.NSAttributes instanceof Array?U.NSAttributes:[U.NSAttributes];
var _={$class:"NSAttributedString",NSString:g,NSAttributes:f};j.attributedString={_class:"MSAttributedString",archivedAttributedString:_};
_.NSAttributeInfo={$class:"NSMutableData","NS.data":I};delete j.storage}return b};gl.a3={KV:function(r,Q){return r[Q+1]<<8|r[Q]},v:function(r,Q){return r[Q+3]<<24|r[Q+2]<<16|r[Q+1]<<8|r[Q]},zV:function(r,Q,W){var b="";
for(var n=0;n<W;n++)b+=String.fromCharCode(r[Q+n]);return b}};gl.yT={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
gl.axi=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
gl.aqm="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
gl.a0Y={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var ei={};ei.parse=function(r,Q){var W=c.zV(r,Q,8);Q+=8;var b=ei.parse.a9Z(r,r.length-31),X=[];if(b.hz==1){var Q=r.length-31-b.hz*b.rW;
for(var n=0;n<b.rW;n++)X.push(r[Q+n])}else if(b.hz==2){var Q=r.length-31-b.hz*b.rW;for(var n=0;n<b.rW;
n++)X.push(c.KV(r,Q+n*2))}else if(b.hz==4){var Q=r.length-31-b.hz*b.rW;for(var n=0;n<b.rW;n++)X.push(c.v(r,Q+n*4))}else{throw"e"}var D=ei.parse.U7(r,X,b.root,b);
return D};ei.parse.U7=function(r,Q,W,b){var X=ei.a3,D=b.a60,h=D==4?X.v:D==2?X.KV:X.asX,S=ei.parse,a=Q[W],K=r[a],Y=K>>4,d=K&15,U=null;
a+=1;if([4,5,6,10,12,13].indexOf(Y)!=-1&&d==15){var j=S.Kv(r,a);a+=j.ji;d=j.h}if(!1){}else if(Y==0)U=d==8?!1:d==9?!0:null;
else if(Y==1)U=S.Kv(r,a-1).h;else if(Y==2)U=1<<d==4?c.sJ(r,a):c.Gw(r,a);else if(Y==3)U=c.Gw(r,a);else if(Y==4)U=new Uint8Array(r.buffer,a,d);
else if(Y==5)U=c.zV(r,a,d);else if(Y==6)U=c.mf(r,a,d);else if(Y==8){U=0;for(var n=0;n<d+1;n++)U=U<<8|r[a+n]}else if(Y==10){U=[];
for(var n=0;n<d;n++)U.push(S.U7(r,Q,h(r,a+D*n),b))}else if(Y==12){U=[];for(var n=0;n<d;n++)U.push(S.U7(r,Q,h(r,a+D*n),b))}else if(Y==13){U={};
for(var n=0;n<d;n++){var I=S.U7(r,Q,h(r,a+D*n),b),f=S.U7(r,Q,h(r,a+D*(d+n)),b);U[I]=f}}else throw"unknown mask "+Y;
return U};ei.parse.Kv=function(r,Q){var W=1<<(r[Q]&15),b=0;for(var n=0;n<W;n++)b=b<<8|r[Q+1+n];return{h:b,ji:W+1}};
ei.parse.a9Z=function(r,Q){var W={};Q+=6;W.hz=r[Q];Q++;W.a60=r[Q];Q++;Q+=4;W.rW=c.v(r,Q);Q+=4;Q+=4;W.root=c.v(r,Q);
Q+=4;Q+=4;W.a3_=c.v(r,Q);Q+=4;return W};ei.a3={asX:function(r,Q){return r[Q]},KV:function(r,Q){return r[Q]<<8|r[Q+1]},v:function(r,Q){return r[Q]<<24|r[Q+1]<<16|r[Q+2]<<8|r[Q+3]},zV:function(r,Q,W){var b="";
for(var n=0;n<W;n++)b+=String.fromCharCode(r[Q+n]);return b}};var bT={parse:function(r){var Q=new Uint8Array(r),W=bT.xS(Q),b=[],X=new Uint8Array(Q.length),D=[];
b.push(D);bT.AV(Q,W,1,X,D);for(var n=0;n<D.length;n++){var h=[];b.push(h);bT.AV(Q,W,D[n][3],X,h);D[n][3]=n+1}return b},AV:function(r,Q,W,b,X){W--;
var D=W*Q.UK+(W==0?100:0),h=r[D],S=bT.KV(r,D+1);if(S!=0)throw"free block in a page";var a=bT.KV(r,D+3),K=bT.KV(r,D+5);
if(K==0)K=65536;var Y=r[D+7],d=bT.KV(r,D+8);if(h==2||h==5)D+=4;else d=0;for(var j=0;j<a;j++){var U=W*Q.UK+bT.KV(r,D+8+2*j),I=-1,f=0,g=0,H=0;
if(h==2||h==5){I=bT.v(r,U);U+=4}if(h==2||h==10||h==13){f=bT.Nh(r,U);U+=f.ji}if(h==5||h==13){g=bT.Nh(r,U);
U+=g.ji}if(h==5){bT.AV(r,Q,I,b,X);continue}var u=Q.UK-(W==0?100:0),s=f.UM,_=h==13?u-35:Math.floor((u-12)*64/255)-23,i=Math.floor((u-12)*32/255)-23,M=i+(s-i)%(u-4);
if(s<=_){bT.qr(r,U,b,0,s)}else{var T=M<=_?M:i,R=0;bT.qr(r,U,b,0,T);R+=T;H=bT.v(r,U+T);while(H!=0){var z=(H-1)*Q.UK;
H=bT.v(r,z);var G=Math.min(Q.UK-4,s-R);bT.qr(r,z+4,b,R,G);R+=G}}X.push(bT.a3U(b,s))}},a3U:function(r,Q){var W=0,b=bT.Nh(r,W);
W+=b.ji;var X=[],D=[];while(W<b.UM){var h=bT.Nh(r,W);W+=h.ji;X.push(h.UM)}if(W!=b.UM)throw"e";for(var n=0;
n<X.length;n++){var h=X[n];if(!1){}else if(h==0)D.push(null);else if(h==1){D.push(bT.adK(r,W));W+=1}else if(h==2){D.push(bT.I0(r,W));
W+=2}else if(h==3){D.push(bT.a5B(r,W));W+=3}else if(h==4){D.push(bT.Kv(r,W));W+=4}else if(h==7){D.push(bT.aiP(r,W));
W+=16}else if(h==8)D.push(0);else if(h==9)D.push(1);else if(h>=12&&(h&1)==0){var S=h-13>>1,a=new Uint8Array(S);
bT.qr(r,W,a,0,S);D.push(a);W+=S}else if(h>=13&&(h&1)==1){var S=h-12>>1;D.push(bT.CA(r,W,S));W+=S}else throw"unknonw type "+h}return D},xS:function(r){if(!(r[18]==1&&r[19]==1&&r[20]==0&&r[21]==64&&r[22]==32&&r[23]==32))throw"unexpected SQL3 header";
var Q={n_:bT.zV(r,0,15),UK:bT.KV(r,16),a7c:bT.v(r,24),size:bT.v(r,28),ahT:bT.v(r,32),asg:bT.v(r,36),at9:bT.v(r,40),a25:bT.v(r,44),a3S:bT.v(r,48),a0v:bT.v(r,52),au1:bT.v(r,56),a54:bT.v(r,60),aiG:bT.v(r,64)!=0,ajK:bT.v(r,68),a8p:bT.v(r,92),asK:bT.v(r,96)};
if(Q.UK==1)Q.UK=65536;if(Q.au1!=1)throw"unsupported text encoding "+Q.au1;return Q},ay8:function(r,Q){return r[Q]<<16|r[Q+1]<<8|r[Q+2]},a5B:function(r,Q){var W=bT.ay8(r,Q),b=W&8388608;
return b?-(16777215-W+1):W},adK:function(r,Q){bT._l[0]=r[Q];return bT.ab$[0]},Kv:function(r,Q){var W=bT._l;
for(var n=0;n<4;n++)W[n]=r[Q+3-n];return bT.a0Z[0]},I0:function(r,Q){var W=bT._l;W[0]=r[Q+1];W[1]=r[Q];
return bT.arI[0]},KV:function(r,Q){return r[Q]<<8|r[Q+1]},v:function(r,Q){return r[Q]<<24|r[Q+1]<<16|r[Q+2]<<8|r[Q+3]},aiP:function(r,Q){var W=bT._l;
for(var n=0;n<8;n++)W[n]=r[Q+7-n];return bT.a6u[0]},Nh:function(r,Q){var W=Q,fb=0;while(!0){var b=r[Q];
Q++;fb=fb*128+(b&127);if(b<128)break}return{UM:fb,ji:Q-W}},zV:function(r,Q,W){var b="";for(var n=0;n<W;
n++)b+=String.fromCharCode(r[Q+n]);return b},CA:function(r,Q,W){var b="";for(var n=0;n<W;n++)b+="%"+bT.a9e(r[Q+n].toString(16));
return decodeURIComponent(b)},qr:function(r,Q,W,b,X){if(r[Q+X-1]==null||W[b+X-1]==null){console.log(Q,b,X);
throw"e"}for(var n=0;n<X;n++)W[b+n]=r[Q+n]},a9e:function(fb){return fb.length<2?"0"+fb:fb}};bT._l=new Uint8Array(8);
bT.ab$=new Int8Array(bT._l.buffer);bT.arI=new Int16Array(bT._l.buffer);bT.a0Z=new Int32Array(bT._l.buffer);
bT.a6u=new Float64Array(bT._l.buffer);function bF(r,Q,W){this.iG=r;this.IS=Q;this.a9K=W;this.YA=new cp(0,0);
this.D9=-1;this.Hz=0;this.yN=0;this.K6=new aV;this.$0=[];this.u_=null;this.aij=null;this.pu=null;this.QM=null;
this.Xq=null;this.a5n=null}bF.prototype.StartPage=function(r,Q,W,b,X){var D=this.IS,h=D.mO(),S=1,a=(W-r)*(b-Q);
if(X!=null)a=X;while(a*h*h/(S*S)>2*8192*8192)S++;D.scale(1/S,1/S);this.aij=[r,Q,W,b];var S=D.mO();r=Math.round(r*S);
Q=Math.round(Q*S);W=Math.round(W*S);b=Math.round(b*S);var K=this.iG,Y=this.pu;if(Y==null){D.rn=-r}else{var d=Y[2]-Y[0]+30,j=Math.round(W-r)+30;
if(this.YA.x+d+j>8192){D.rn=-r;this.YA.x=0;this.YA.y+=this.yN+120;this.yN=0}else{D.rn+=d;this.YA.x+=d}}D.NQ=this.YA.y+(this.a9K?b:-Q);
this.yN=Math.max(this.yN,Math.round(b-Q));this.pu=[r,Q,W,b];this.afC=[];K.B.push(K.Tz())};bF.prototype.StartTGroup=function(r){var Q=this.iG;
Q.B.push(Q.Tz());var W=bF.IM[r.bmode];if(W==null)W="norm";var b=Q.b_();b._J("<Group>");b.add.lsct=d1.O9;
b.iX=W=="norm"?"pass":W;b.KX=24;b.opacity=Math.round(255*r.ca);this.afC.push(b)};bF.prototype.EndTGroup=function(){this.iG.B.push(this.afC.pop())};
bF.prototype.LE=function(){var r=this.iG,Q=r.B[r.B.length-1];return Q};bF.prototype.amY=function(){var r=JSON.parse(JSON.stringify(iq.pN.default));
r.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";r.strokeEnabled.v=!1;
r.fillEnabled.v=!1;return r};bF.prototype.a1Q=function(){var r=this.iG,Q=r.b_();Q._J("Path "+r.B.length);
this.iG.B.push(Q);Q.KX|=16;Q.add.SoCo={classID:"null",Clr:{t:"Objc",v:E.M.rY({o:0,W:0,k:0})}};Q.add.vmsk=new $.vL;
Q.add.vstk=this.amY();return Q};bF.prototype.i1=function(r){var Q={C:r.crds,H:r.cmds},W=E.p.ou(Q,!1);
E.A.Zl(W,this.IS);return W};bF.ak$=function(r,Q){for(var n=0;n<r.length;n++)if(r[n].xo!=null)r[n].xo=Q};
bF.a5$=function(r){return Math.sqrt(Math.abs(r[0]*r[3]-r[1]*r[2]))};bF.BY=function(r){return E.M.rY({o:r[0]*255,W:r[1]*255,k:r[2]*255})};
bF.XV=function(r){return new au(r[0],r[1],r[2],r[3],r[4],r[5])};bF.prototype.Stroke=function(r){if(this.D9!=-1&&this.D9!=this.Hz)return;
if(r.pth.cmds.length<=1)return;var Q=this.i1(r.pth);if(Q.length<=2)return;this.Hw(r);bF.ak$(Q,-1);Q[2].xo=1;
var W=bF.BY(r.COLR),b=this.LE(),X=this.amY();bF.Ku(X,r,this.IS.mO(),W);var D=b!=null&&b.add.vmsk!=null&&!b.wf(),h=D&&!b.add.vstk.strokeEnabled.v&&$.vL.a1P(b.add.vmsk.V,Q,!0),S=D&&!b.add.vstk.fillEnabled.v&&JSON.stringify(X)==JSON.stringify(b.add.vstk);
if(S){b.add.vmsk.V=b.add.vmsk.V.concat(Q.slice(2))}else if(h){b.add.vstk=X;X.fillEnabled.v=!0}else{b=this.a1Q();
b.add.vmsk.V=Q;b.add.vstk=X}};bF.Ku=function(r,Q,W,b){r.strokeEnabled.v=!0;r.strokeStyleMiterLimit.v=Q.mlimit;
r.strokeStyleLineDashSet.v=iI.Gp(Q.dash,1/Q.lwidth);r.strokeStyleLineDashOffset.v.val=Q.doff;r.strokeStyleLineJoinType.v.strokeStyleLineJoinType=iq.pN.join[Q.ljoin];
r.strokeStyleLineCapType.v.strokeStyleLineCapType=iq.pN.Nj[Q.lcap];r.strokeStyleLineWidth.v.val=Math.max(.4,Q.lwidth*bF.a5$(Q.ctm)*W);
r.strokeStyleContent.v.Clr.v=b};bF.prototype.Fill=function(r,Q){if(this.D9!=-1&&this.D9!=this.Hz)return;
if(r.ca==0)return;var W=r.pth.cmds;if(W.length==0)return;if(W.length==2&&JSON.stringify(W)=="[\"M\",\"L\"]")return;
var b=E.p.Z3(r.pth.crds),X=E.p.Z3(r.cpth.crds);if(b.ww(X).WB())return;var D=r.pth,h=UDOC.G.isBox(D,[b.x,b.y,b.x+b.e,b.y+b.n]),S=r.cpth,a=UDOC.G.isBox(S,[X.x,X.y,X.x+X.e,X.y+X.n]);
if(h&&a&&b.O()>X.O()*2){var K=b.ww(X),Y=K.x,d=K.y,j=Y+K.e,U=d+K.n;D={cmds:["M","L","L","L","Z"],crds:[Y,d,j,d,j,U,Y,U]};
b=K}else if(this.QM==null&&UDOC.G.isBox(D,[b.x,b.y,b.x+b.e,b.y+b.n])&&b.oN(X)){D=S;b=X}else this.Hw(r);
var I=this.i1(D),f=E.p.vk(b);E.p.D(f.C,this.IS,f.C);b=E.p.Z3(f.C);var g=bF.apu(r.colr,this.IS,b),H=this.LE(),u=H!=null&&H.opacity==Math.round(255*r.ca)&&H.add.vstk!=null&&!H.add.vstk.strokeEnabled.v&&H.add.SoCo&&g.type=="SoFi"&&JSON.stringify(H.add.SoCo.Clr.v)==JSON.stringify(g.h.v.Clr.v);
if(u){var s=!1;for(var n=0;n<I.length;n++){if(I[n].xo==0||I[n].xo==2)s=!0}if(s){var _=E.p.Z3(E.A.Sy(H.add.vmsk.V)),i=E.p.Z3(E.A.Sy(I));
u=_.ww(i).WB()}}if(u){var M=H.add.vmsk.V;for(var n=2;n<I.length;n++)M.push(I[n])}else{H=this.a1Q();delete H.add.SoCo;
H.add.vmsk.V=$.vL.Ld(I);bF.u0(r.colr,H,this.IS,b);bF.acU(r,H)}};bF.u0=function(r,Q,W,b){var X=bF.apu(r,W,b),D=null,h=null;
Q.add.vstk.fillEnabled.v=!0;if(X.type=="SoFi"){D="SoCo";h=iq.i4}if(X.type=="GrFl"){D="GdFl";h=iq.uc}if(X.type=="patternFill"){D="PtFl";
h=iq.Ej}if(D!=null){Q.add[D]={classID:"null"};for(var n=0;n<h.length;n++){var S=h[n];Q.add[D][S]=X.h.v[S]}}};
bF.prototype.Hw=function(r){var Q=this.iG,W=r.cpth,b=W.cmds.join(""),X=W.crds,D=b+" "+X.join(","),h=UDOC.G.isBox(W,this.aij);
if(h&&this.QM==null)return;if(D==this.QM)return;this.a5b();if(!h){this.QM=D;Q.B.push(Q.Tz());var S=Q.b_();
S._J("Mask");S.add.lsct=d1.$B;S.iX="pass";S.KX=24;var a=S.add.vmsk=new $.vL;a.V=this.i1(r.cpth);if(UDOC.G.isBox(W)){this.Xq=E.A.eg(a.V);
this.Xq.sg(3,3)}else this.Xq=null;this.a5n=S}};bF.prototype.a5b=function(){var r=this.iG;if(this.QM!=null){var Q=r.B.length-1,n=Q,W=!1;
while(n>=0&&r.B[n].add.lsct!=d1.kJ)n--;var b=this.Xq;if(b){var X=new aV,D=Q;while(D>n){X=r.B[D].qN(this.iG,!1,!0);
D--}W=b.oN(X)}if(W){this.$0.splice(n,1);r.B.splice(n,1)}else{r.B.push(this.a5n)}this.QM=null}};bF.apu=function(r,Q,W){var b,X;
if(r.length!=null){b="SoFi";var D=JSON.parse(iq.WS[iq.order.indexOf("SoFi")]);X={t:"Objc",v:D};X.v.Clr.v=bF.BY(r)}else{var h=bF.awx(r,Q,W);
b="GrFl";X={t:"Objc",v:h}}return{type:b,h:X}};bF.awx=function(r,Q,W){var b=JSON.parse(iq.WS[iq.order.indexOf("GrFl")]),X=b.Grad.v;
X.Intr.v=0;var D=bF.XV(r.mat);D.concat(Q);var h=new cp(0,0),S=new cp(W.e,0),a=r.crds;if(r.typ=="rad"){b.Type.v.GrdT="Rdl";
var K=.7;h.x=(1-K)*a[0]+K*a[3];h.y=(1-K)*a[1]+K*a[4];S.x=h.x;S.y=h.y;S.x+=Math.max(a[2],a[5])}else{b.Type.v.GrdT="Lnr";
h.x=a[0];h.y=a[1];S.x=a[2];S.y=a[3];h.x=S.x+.5*(h.x-S.x);h.y=S.y+.5*(h.y-S.y)}h=D.lE(h);S=D.lE(S);E.M.xs(h,S,W,b);
var Y=r.grad;E.M.Bn(Y,X);return b};bF.prototype.PutText=function(r,Q,W,b){var X=Q.charCodeAt(0),U=null;
if(this.D9!=-1&&this.D9!=this.Hz)return;if(Q.length==0||Q.length==1&&(X==0||X==8203))return;this.Hw(r);
var D=this.iG,h=r.font,S=Math.round(255*r.ca);if(r.font.Tmode==3)S=0;var a=bF.XV(r.ctm);a.concat(this.IS);
var K=bF.XV(h.Tm);K.concat(a);var Y=K.mO(),d=new au(1/Y,0,0,-1/Y,0,0);d.concat(K);var j=h.Tfs*Y,I=D.B.length-1;
while(I>=0&&D.B[I].add.TySh==null)I--;if(d.k*d.k+d.th*d.th<.001&&b==null&&I>=0&&D.B[I].add.TySh&&D.B[I].opacity==S){var f=D.B[I],g=this.$0[I],H=f.add.TySh.D,u=(H.rn+g.E3-d.rn)/j,s=Math.abs(u),_=Q.indexOf(" ")==-1,i=H.mu==d.mu&&H.k==d.k&&H.th==d.th&&H.HR==d.HR,M=i&&Math.abs(g.Vb-d.NQ)<1e-5&&s<.6,T=d.NQ-g.Vb;
if(M){U=f;g.E3=d.rn-H.rn;if(u>.2&&_&&[".",",","?",":","!"].indexOf(Q)==-1)Q=" "+Q}else if(i&&Math.abs(d.rn-H.rn)<1e-5&&0<T&&T<j*1.7&&g.a8a==j){U=f;
this.auS(g);g.Vb=d.NQ;Q="\n"+Q}}if(U==null){I=D.B.length;this.$0[I]={Kt:[],E3:0,Vb:d.NQ,Ru:"",a8a:j};
U=D.b_();D.B.push(U);U.add.lnsr="rend";U.add.TySh=aH.M6(0,0);U.add.TySh.D=d}var g=this.$0[I];g.E3+=W*j;
g.Ru+=Q;var R=U.add.TySh.kN,z=aH.Wc(R);if(b){aH.GK(R,1);var G=[0,0,Math.ceil(b[0]*Y),Math.ceil(b[1]*Y)];
aH.Ad(R,G)}var V=z.length-1,y=V+Q.length;aH.ig(R,V,Q);if(this.u_==null)this.u_=aH.Z2(R,V,V);var k=this.u_;
k.jr.FontSize=Math.round(j);k.jr.Tracking=Math.round(h.Tc*100);k.jr.Underline=h.Tun==1;k.jr.FillColor={Type:1,Values:[1,r.colr[0],r.colr[1],r.colr[2]]};
if(h.Tal!=null)k.GG.Justification=h.Tal;if(g.Kt.length!=0){k.jr.AutoLeading=!1;k.jr.Leading=g.Vb-g.Kt[g.Kt.length-1].y}var B=h.Tf;
B=B.replace(/#2B/g,"+");B=B.replace(/#2C/g,"-");B=B.split("+").pop();var v={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(v[B])B=v[B];aH.Oz(k,B);aH.Yf(R,V,y-1,k);U.y$();U.opacity=S};bF.prototype.auS=function(r){r.Kt.push({Dr:r.E3,HP:r.Ru.slice(r.Kt.length==0?0:1)+"\n",y:r.Vb,Am:r.a8a});
r.E3=0;r.Ru=""};bF.prototype.Y6=function(r,Q,W){return new Uint8Array(fH.Qt("PNG").Al([[r.buffer,0]],Q,W))};
bF.prototype.PutImage=function(r,Q,W,b,X,D,h){if(this.D9!=-1&&this.D9!=this.Hz)return;var S=this.iG,a=r.font.Tmode;
if(a==7&&S.B[S.B.length-1].add.TySh){return}this.Hw(r);var K=bF.XV(r.ctm);K.concat(this.IS);var Y=new au(1/W,0,0,-1/b,0,1);
Y.concat(K);K=Y;Q=bF.atM(Q,W,b,D,!1);if(X)X=bF.atM(X,W,b,h,!0);if(X==null){if(Q.length==W*b*4)Q=this.Y6(Q,W,b)}else{Q=this.aiz(Q,W,b,D,!1);
X=this.aiz(X,W,b,h,!0);var d=E.Q(W*b);E.TX(X,d,0);E.nV(d,Q,3);Q=this.Y6(Q,W,b)}var j=S.jS(Q,"Bitmap",0,0),U=j.rect.clone();
U.x=U.y=0;var I=E.p.vk(U).C;E.p.D(I,K,I);j.add.SoLd.Trnf=m.EA.Aa(I);j.add.SoLd.nonAffineTransform=m.EA.Aa(I);
j.vd(S,!1);bF.acU(r,j);S.B.push(j)};bF.acU=function(r,Q){Q.opacity=Math.round(255*r.ca);var W=bF.IM[r.bmode];
if(W==null)console.log("Unknown blend mode",W);else Q.iX=W};bF.IM={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
bF.apZ=function(r){if(r=="pass")r="norm";for(var Q in bF.IM)if(bF.IM[Q]==r)return Q};bF.atM=function(r,Q,W,b,X){var D=fH.E$(r.buffer);
if(D=="jpg"){try{r=new Uint8Array(fH.Qt("JPG").arG(r.buffer))}catch(aA){r=new Uint8Array(Q*W*4)}}else if(D=="jb2"){r=new Uint8Array(fH.Qt("JPG").ni(r.buffer,b,X)[0].data)}else if(r.length!=Q*W*4){var h=new Uint8Array(Q*W*4),S=Math.ceil(Q/8),a=new Uint8Array(W*S);
UTIF.decode._decodeG4(r,0,r.length,a,0,Q,1);var K=a[0]==(X?255:0);for(var Y=0;Y<W;Y++){var d=S*Y;for(var j=0;
j<Q;j++){var n=Y*Q+j,U=n*4,I=(a[d+(j>>3)]>>7-(j&7)&1)*255;if(K)I=255-I;h[U]=I;h[U+1]=I;h[U+2]=I;h[U+3]=255}}r=h}return r};
bF.prototype.aiz=function(r,Q,W,b,X){if(r.length!=Q*W*4){var D=fH.E$(r.buffer);if(D=="jb2")throw"e";
var h=fH.Qt(D);if(h==null||D=="tga")h=fH.Qt("jpg");r=new Uint8Array(h.ni(r,b,X)[0].data)}return r};bF.prototype.ShowPage=function(){var r=this.iG;
this.Hz++;var Q=this.pu;this.a5b();var W=r.b_();r.B.push(W);var b=new aV(Math.round(this.YA.x),Math.round(this.YA.y),Math.round(Q[2]-Q[0]),Math.round(Q[3]-Q[1]));
if(b.WB())b.e=b.n=2e3;this.K6=this.K6.Bc(b);W.NG(b);W.add.artb.artboardBackgroundType.v=1;W._J("Page "+this.Hz);
W.add.lsct=d1.$B;W.iX="pass";W.KX=24};bF.prototype.Print=function(r){console.log("Print:",r)};bF.prototype.Done=function(){var r=this.iG;
if(this.Hz==1)r.B[r.B.length-1].add.lsct=d1.O9;r.dQ(this.Hz);for(var n=0;n<r.B.length;n++){var Q=r.B[n],W=Q.add.vmsk,b=Q.add.TySh,X=this.$0[n];
Q.P7();if(W){var D=!1;for(var h=0;h<W.V.length;h++){var S=W.V[h];if((S.type==0||S.type==3)&&S.length>32767)D=!0}if(D){r.B.splice(n,1);
n--;continue}}Q.hR(r);if(b&&X.Kt.length!=0){this.auS(X);var a=b.kN,K=X.Kt.length,Y=X.Kt[0],d=0,j=0;for(var h=0;
h<K;h++)d=Math.max(d,X.Kt[h].Dr);aH.GK(a,1);b.D.NQ-=Y.Am*.7;aH.Ad(a,[0,0,Math.ceil(d*1.1),Math.ceil(X.Kt[K-1].y-Y.y+Y.Am*2)])}if(b){var a=b.kN;
aH.a52(a);var U=aH.Wc(a).split("\n");for(var h=0;h<U.length-1;h++){var I=U[h],f=0;for(var g=0;g<I.length;
g++){var H=I.charCodeAt(g);if(1473<=H&&H<=1524)f++}if(f>I.length/2){U[h]=I.split("").reverse().join("");
var u=a.EngineDict.ParagraphRun.RunArray[h].ParagraphSheet.Properties;u._Direction=1;u.Justification=aH.r3(u)}}aH.Q1(a,U.join("\n"))}}r.Vo=!0;
r.e=this.K6.e;r.n=this.K6.n;r.buffer=E.Q(this.K6.O()*4)};var h2={};h2.W$=null;h2.cg=function(r,Q,W,b,X,D){if(X==null)X=r.e;
if(D==null)D=r.n;h2.W$=r;var h=!1,S=[r.root],a=r.root.children;if(r.add.artd){h=!0;for(var n=0;n<a.length;
n++)if(a[n].l.add.artb==null)h=!1;if(h)S=a}var K=new aV(0,0,r.e,r.n),Y=Q[0];Y=Y.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
Y=Y.split(" ");var d=[];for(var n=0;n<Y.length;n++){var j=Y[n];if(j=="-"){var U=d.pop(),I=parseInt(Y[n+1]);
while(U<I){d.push(U);U++}}else d.push(parseInt(j))}Y=d;for(var n=0;n<Y.length;n++)if(isNaN(Y[n])||Y[n]<1||Y[n]>S.length){Y.splice(n,1);
n--}var f=X/r.e,g=D/r.n,H=f*72/r.HW,u=g*72/r.HW,s=Q[5];if(s==null)s=0;var _=72*s,i=72*s;for(var M=0;
M<S.length;M++){var n=M;if(Q[2])n=S.length-1-M;if(Y.length!=0&&Y.indexOf(n+1)==-1)continue;var T=S[n],R=h?T.l.QT():K;
if(!T.l.cB())continue;var z=Math.round(R.e*H+2*_),G=Math.round(R.n*u+2*i);W.StartPage(0,0,z,G);var V=UDOC.getState([[0,0,z,G]]),y=new au;
y.translate(-R.x,-R.y-R.n);y.scale(H,-u);y.translate(_,i);if(h){var k=T.l.add.artb,B=k.artboardBackgroundType.v;
if(B!=1&&B!=3){var v=T.l.Qs(),l=_,F=i,L=l+R.e,Z=F+R.n;V.colr=[(v>>>0&255)/255,(v>>>8&255)/255,(v>>>16&255)/255];
V.pth={cmds:["M","L","L","L","Z"],crds:[l,F,L,F,L,Z,l,Z]};W.Fill(V)}}if(Q[3]){var t=r.T6();if(!K.s4(R)){t=E.Q(R.O()*4);
E.TU(r.T6(),K,t,R)}var A=r.eC();if(A)ICC.U.applyLUT(A[r.add.fcmy==1?5:3],A[2],t,t);if(Q[1]!=100){var o=fH.Qt("JPG").Al([[t.buffer]],R.e,R.n,[Q[1]]);
t=new Uint8Array(o)}var O=new au;O.translate(R.x,R.y);h2.mY(V,W,t,R,O,y)}else{h2.aoX(r,T,V,W,y,Q,b);
if(_!=0){var l=_,F=i,L=l+R.e,Z=F+R.n,x=L+_,C=Z+_;V.ca=1;V.colr=[1,1,1];V.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,C,x,C,x,0,l,F,L,F,L,Z,l,Z]};
W.Fill(V)}}W.ShowPage()}W.Done();h2.W$=null};h2.li=function(r){r=E.M.vf(r);return[r.o/255,r.W/255,r.k/255]};
h2.aoX=function(r,Q,W,b,X,D,h){var S=Q.l,a=S.add.lsct,K=S.add.lmfx,Y=S.add.vmsk,d=S.add.vstk,j=S.add.TySh,H,u;
if(!S.cB())return;var U=S.opacity/255,I=S.add.iOpa!=null?S.add.iOpa/255:1;W.bmode=bF.apZ(S.iX);var f=W.ca;
W.ca=W.CA=U*I;var g=K;if(g)g=g.solidFillMulti.v[0];if(g)g=g.v;if(g&&!g.enab.v)g=null;var s=S.rect;if(S.UW()&&(!S.wf()||S.ix&&S.ix.XZ)){if(S.wf()){H=S.ix.XZ;
s=S.ix.aoH}else{H=E.Q(S.rect.O());E.TX(S.buffer,H,3)}u=iI.pX(K,S.add.fxrp,H,s,r,s).type;var _=["DrSh","OrGl"];
if(I!=1||d&&!d.fillEnabled.v){var i=H.slice(0);E.j4(i);for(var n=0;n<_.length;n++){var M=u[_[n]];for(var T=0;
T<M.length;T++){var R=M[T],z=R.Ix.clone();z.x+=s.x;z.y+=s.y;E.qH(i,s,R.NP,z)}}}}if(u)h2.a5y(S,H,s,u,W,b,X,D,!0);
if(S.wf()){var G=S.opacity/255*(S.add.iOpa?S.add.iOpa/255:1),V=G!=1||S.iX!="pass";if(V)b.StartTGroup(W);
for(var n=0;n<Q.children.length;n++)h2.aoX(r,Q.children[n],W,b,X,D,h);if(V)b.EndTGroup()}else if(Y&&S.tN()&&S.add.PtFl==null){var y=Y.V,k=E.A.eg(y),B=!1;
if(d.fillEnabled.v){var v=iI.k5(K,S.add),l=v[0],F=v[1];W.colr=h2.We(l?l:F,X,k);B=!0}var L=iI.XQ(K);if(!d.strokeEnabled.v&&L)d=L;
var Z=E.p._i(y,d.strokeEnabled.v),t=Z.DM;E.p.D(t.C,X,t.C);W.pth={cmds:t.H,crds:t.C};h2.ase(b,W,B,d,X,k,Z.AO!=0)}else if(j&&D[4]){var A=j.kN,o=new gH(A,h),t=eO.pD(o,j),O=E.p.ea(t),x=iI.XQ(K);
for(var C in O){var J=parseInt(C.slice(1,7),16),q=0;W.colr=g?h2.li(g.Clr.v):h2.aiI(J);var fd=O[C];E.p.D(fd.C,X,fd.C);
fd=E.p.adk(fd);W.pth={cmds:fd.H,crds:fd.C};var d=x;if(C.length>7){d=JSON.parse(JSON.stringify(iq.pN.default));
var w=C.slice(7).split("-"),J=parseInt(w[1].slice(1),16),P=h2.aiI(J);d.strokeEnabled.v=!0;d.strokeStyleLineWidth.v.val=parseFloat(w[2]);
d.strokeStyleContent.v.Clr.v=g?g.Clr.v:E.M.rY({o:P[0]*255,W:P[1]*255,k:P[2]*255});d.strokeStyleMiterLimit.v=parseFloat(w[2])}h2.ase(b,W,!0,d,X,null,!1)}}else if(j){var A=JSON.parse(JSON.stringify(j.kN));
aH.a52(A);var fc=j.D.clone(),p=new au(1,0,0,-1,0,0);p.concat(fc);p.concat(X);var gG=aH.Wc(A),o=new gH(A,h);
for(var n=0;n<o.GG.length;n++){var fh=o.GG[n];if(fh.OI.length==1&&fh.OI[0].Kg)continue;for(var T=0;T<fh.wZ.length;
T++){var fJ=fh.wZ[T],cF=fh.D_.y+fJ.D_.y,j_=fh.OI[fJ.start].start,gY=fh.OI[fJ.end-1].end,kc=aH.axO(A,j_,gY);
for(var el=0;el<kc.length;el++){var iN=o.cu(j_),c$=kc[el],dB=aH.Z2(A,j_,j_),aL=dB.Nk[dB.jr.Font].Name;
W.font.Tf=aL;var C=aH.vf(dB.jr.FillColor);W.colr=g?h2.li(g.Clr.v):[C.o/255,C.W/255,C.k/255];var aB=W.font.Tfs=Math.round(dB.jr.FontSize),f3=gG.slice(j_,j_+c$);
if(dB.jr.FontCaps==2)f3=f3.toUpperCase();var jC=new au;jC.translate(iN.nX.x,-cF);jC.concat(p);W.ctm=[jC.mu,jC.k,jC.th,jC.HR,jC.rn,jC.NQ];
b.PutText(W,f3,0);for(var bc=0;bc<2;bc++){var iA=dB.jr[bc==0?"Strikethrough":"Underline"];if(!iA)continue;
var bL=o.cu(j_+c$-1),dp=bc==0?.27:-.2,im=aB*dp,a5=aB*(dp+.07),q=bL.nX.x+bL.nX.e-iN.nX.x,bg=[0,im,q,im,q,a5,0,a5];
E.p.D(bg,jC,bg);W.pth={cmds:["M","L","L","L","Z"],crds:bg};b.Fill(W)}W.ctm=[1,0,0,1,0,0];j_+=c$}}}}else if(!S.rect.WB()){var fM,ev,e8=!1,ej=new au,fV=S.add.SoLd,he=!0;
if(fV)he=E.K.GI(E.K.Om(m.EA.JS(fV.Trnf)));if(fV&&he){var gZ=fV.Idnt.v,hQ=r.Fu(gZ,fV.Crop?fV.Crop.v:null),fN="";
if(hQ==null)return;var aJ=hQ.EJ,cs=fH.E$(hQ.raw.buffer);if(D[6].indexOf(cs)!=-1){fM=hQ.raw;e8=!0}else fM=aJ[0];
ev=aJ[1];ej=E.K.sB(fV)}else{fM=S.buffer;ev=S.rect;ej.translate(ev.x,ev.y)}if(g&&!e8)fM=iI.ats(fM,g,ev);
h2.mY(W,b,fM,ev,ej,X);if(g&&e8){var bg=[0,0,ev.e,0,ev.e,ev.n,0,ev.n];E.p.D(bg,ej,bg);E.p.D(bg,X,bg);
var hL=JSON.parse(JSON.stringify(W));hL.ca=g.Opct.v.val/100;hL.pth={cmds:["M","L","L","L","Z"],crds:bg};
hL.colr=h2.li(g.Clr.v);b.Fill(hL)}}W.ca=W.CA=f;if(u)h2.a5y(S,H,s,u,W,b,X,D,!1)};h2.ase=function(r,Q,W,b,X,D,h){var S=!1,a=0,K=0;
if(b&&b.strokeEnabled.v){var Y=b.strokeStyleContent.v,d=b.strokeStyleLineDashSet.v;a=iq.pN.Ba.indexOf(b.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
Q.COLR=h2.We(Y,X,D);K=b.strokeStyleLineWidth.v.val*X.mO();Q.mlimit=b.strokeStyleMiterLimit.v;Q.doff=b.strokeStyleLineDashOffset.v.val;
Q.ljoin=iq.pN.join.indexOf(b.strokeStyleLineJoinType.v.strokeStyleLineJoinType);Q.lcap=iq.pN.Nj.indexOf(b.strokeStyleLineCapType.v.strokeStyleLineCapType);
Q.dash=[];for(var n=0;n<d.length;n++)Q.dash.push(d[n].v.val*Q.lwidth);if(Q.dash.length==1&&Q.dash[0]==0)Q.dash=[];
S=!0}var U=a==2;if(W&&!U)r.Fill(Q,h);if(S){Q.lwidth=K*(a==2?2:1);r.Stroke(Q)}if(W&&U)r.Fill(Q,h)};h2.anE=function(r){var Q=h2.W$;
if(Q==null)return r;var W=Q.eC();if(W&&Q.add.fcmy){var b=new Uint8Array(4);b[0]=.5+r[0]*255;b[1]=.5+r[1]*255;
b[2]=.5+r[2]*255;ICC.U.applyLUT(W[Q.add.fcmy==1?5:3],W[2],b,b);r=[b[0]/255,b[1]/255,b[2]/255]}return r};
h2.li=function(r){r=E.M.vf(r);return h2.anE([r.o/255,r.W/255,r.k/255])};h2.aiI=function(r){return h2.anE([(r>>>16&255)/255,(r>>>8&255)/255,(r&255)/255])};
h2.We=function(r,Q,W){if(r.Clr)return h2.li(r.Clr.v);var b=r,X=b.Rvrs?b.Rvrs.v:!1,D=b.Type.v.GrdT,h,S=D=="Rdl"||D=="Dmnd"?"rad":"lin",a=E.M.eQ(b,W),K=Q.lE(a[0]),Y=Q.lE(a[1]);
if(S=="rad")h=[K.x,K.y,0,K.x,K.y,cp.ks(K,Y)];else{K.DX(Y.x+(K.x-Y.x)*2,Y.y+(K.y-Y.y)*2);h=[K.x,K.y,Y.x,Y.y]}var d=E.M.D0(b.Grad.v,X);
return{typ:S,mat:[1,0,0,1,0,0],grad:d,crds:h}};h2.a5y=function(r,Q,W,b,X,D,h,S,a){var K=W.clone(),Y=Q;
if(r.add.TySh&&!S[3]&&!S[4])return;var d=X.ca,j=X.bmode;for(var n=iq.order.length-1;n>=0;n--){var U=iq.order[n];
if(U=="GrFl"||U=="SoFi")continue;if((r.add.vmsk||r.add.TySh)&&U=="FrFX")continue;var I=b[U],f=n>7||U=="FrFX";
if(f!=a)continue;for(var g=0;g<I.length;g++){var H=I[g];if(H.Ix==null)H=H.gu?H.gu:H.uX;var u=H.Ix.clone();
u.offset(K.x,K.y);if(!f){if(!K.oN(u)){var s=K.Bc(u),_=E.Q(s.O());E.L0(Y,K,_,s);Y=_;K=s}E.qH(Y,K,H.NP,u)}if(f&&U=="FrFX"&&H.fG)E.qH(H.fG,u,H.NP,u);
var i=new au;i.translate(u.x,u.y);X.ca=H.yj;X.bmode=bF.apZ(H._B);h2.mY(X,D,H.NP,u,i,h)}}X.ca=d;X.bmode=j};
h2.mY=function(r,Q,W,b,X,D){var h=new au;h.scale(b.e,-b.n);h.translate(0,b.n);h.concat(X);h.concat(D);
r.ctm=[h.mu,h.k,h.th,h.HR,h.rn,h.NQ];Q.PutImage(r,W,b.e,b.n);r.ctm=[1,0,0,1,0,0]};var aU={};aU.ak=function(r){var Q=new Uint8Array(r);
return aU.gk(Q,0)};aU.gk=function(r,Q){var W=c.v,b=c.zV,X={c5:b(r,Q,4),R:Q+8,size:W(r,Q+4)},D=X.c5=="FORM"||X.c5=="LIST"||X.c5=="CAT ";
if(D)X.W8=b(r,Q+8,4);if(X.size<0||X.R+X.size>r.length)throw"e";if(D){X.sub=[];Q+=12;var h=X.R+X.size;
while(Q<h){var S=aU.gk(r,Q);X.sub.push(S);Q+=8+S.size+(S.size&1)}}return X};var jJ={};jJ.ak=function(r,Q){var W=new Uint8Array(r);
return jJ.gk(W,0,Q)};jJ.gk=function(r,Q,W){var b=c.aN,X=c.zV,D={c5:X(r,Q,4),R:Q+8,size:b(r,Q+4)};if(W&&W[D.size]!=null)D.size=W[D.size];
if(D.c5=="RIFF"||D.c5=="LIST"){D.W8=X(r,Q+8,4)}if(D.size<0||D.R+D.size>r.length)throw"e";if(D.c5=="RIFF"||D.c5=="LIST"&&(D.W8!="cmpr"&&D.W8!="stlt")){D.sub=[];
Q+=12;var h=D.R+D.size;while(Q<h){var S=jJ.gk(r,Q,W);D.sub.push(S);Q+=8+S.size+(S.size&1)}}return D};
var gk=function(){function r(C,J){var q=null;if(C.sub==null)return q;for(var n=0;n<C.sub.length;n++){var fd=C.sub[n];
if(fd.c5==J||fd.W8==J)q=fd}return q}function Q(C){if(C==32)return 300;else if(C<49)return 0;else if(C<58)return 100*(C-48);
else if(C<65)return 0;return 100*(C-55)}var W;function b(C,J){var q=new Uint8Array(C);J.Vo=!0;W={};var fd=c.zV(q,0,2);
if(fd=="WL"){alert("Unsupported CDR version")}else{var w,P,fc,fh,dB=300,f3=0;if(fd=="PK"){P=UZIP.parse(q);
q=P["content/root.dat"];fc=c.CA(P["content/dataFileList.dat"]).split("\n")}w=jJ.ak(q.buffer);console.log(w);
var p=Q(q[11]),gG={data:q,R:0,l0:p};gG.E9=gG.l0<600?16:32;T(q,gG,fc,P,w.sub,0);var fJ=[];if(P){fh=r(w,"doc ");
X(fh);var cF=w.sub;for(var n=0;n<cF.length;n++)if(cF[n].W8=="page")fJ.push(cF[n]);fJ=fJ.slice(1)}else if(r(w,"cmpr")==null){fh=r(w,"page");
fJ.push(fh)}else{var j_=r(w,"cmpr").sub;fh=j_[0];fJ=[j_.slice(1)[1]];X(fh)}var gY=r(fh,"mcfg").h,kc=gY.aqE,el=kc.x*.1,iN=kc.x*fJ.length+el*(fJ.length-1),c$=kc.y;
dB/=dI.PG(new aV(0,0,Math.round(iN*dB),Math.round(c$*dB)),8192*8192);var aL=Math.round(iN*dB),aB=Math.round(c$*dB);
J.e=aL;J.n=aB;J.buffer=E.Q(J.e*J.n*4);for(var n=0;n<fJ.length;n++){var jC=new au(dB,0,0,-dB,kc.x*dB/2+f3,kc.y*dB/2);
D(fJ[n],fh,J,jC);var bc=J.B[J.B.length-1];bc.NG(new aV(Math.round(f3),0,Math.round(kc.x*dB),Math.round(kc.y*dB)));
bc._J("Page "+(n+1));f3+=kc.x*dB+el*dB}J.dQ(fJ.length)}}function X(C){var J=r(C,"filt").sub,q=r(C,"otlt").sub,fd=r(C,"fntt");
if(fd)fd=fd.sub;C.VM={};for(var n=0;n<J.length;n++)C.VM[J[n].sub[0].h.id]=J[n].sub[0].h;C.Ps={};for(var n=0;
n<q.length;n++)C.Ps[q[n].h.id]=q[n].h;if(fd){C.fonts={};for(var n=0;n<fd.length;n++)C.fonts[fd[n].h.id]=fd[n].h}}function D(C,J,q,fd){var w=C.W8?C.W8:C.c5,P=r(C,"lgob"),fc=r(C,"txsm"),p=null,gG=null;
if(P){p=r(P,"trfl");gG=r(P,"loda")}else if(r(C,"lobj"))gG=r(C,"lobj");var fh=p?p.sub[0].Le.clone():new au;
fh.concat(fd);var fJ=q.b_();if(w=="page"||w=="layr"||w=="grp "){fJ._J((w=="page"?"Page":"Group")+" "+q.B.length);
fJ.add.lsct=d1.O9;fJ.iX="pass";fJ.KX=24;var cF=[];if(w=="page")cF=r(C,"gobj").sub;if(w=="layr")cF=C.sub.slice(2);
if(w=="grp ")cF=C.sub.slice(4);if(cF.length==0)return;q.B.push(q.Tz());for(var n=cF.length-1;n>=0;n--)D(cF[n],J,q,fd)}else if(w=="obj "&&gG.h&&gG.h.path){var j_,gY;
if(J.VM){j_=J.VM[gG.h.acd];gY=J.Ps[gG.h.a0S]}if(j_==null)j_=gG.h.aqe;if(gY==null)gY=gG.h.akJ;fJ=h(q,gG.h.path,fd,fh,j_,gY)}else if(w=="obj "&&fc){var kc=gG.h.abP,el=gG.h.aeX,dB="";
fJ.add.TySh=aH.M6(0,0);var iN=fh.mO();fJ.add.TySh.D.translate(fh.rn,fh.NQ);var c$=fJ.add.TySh.kN,aL=fc.h.fu;
if(aL==null)return;for(var n=0;n<aL.length;n++){var aB=aL[n],f3=dB.length;dB+=aB.text+"\n";aH.ig(c$,f3,aB.text+"\n");
var jC=S(aB.akx,J),bc=jC.af7,iA=J.fonts[bc.atO],bL=aH.Z2(c$,f3,dB.length);if(jC.align==3)bL.GG.Justification=1;
else if(jC.align==2)bL.GG.Justification=2;else bL.GG.Justification=0;var an=jC.fill.h;if(iA.OS)aH.Oz(bL,iA.OS);
bL.jr.FillColor={Type:1,Values:[1,an[0],an[1],an[2]]};bL.jr.FontSize=Math.round(bc.fontSize*fd.mO());
aH.Yf(c$,f3,dB.length-1,bL)}if(el){aH.GK(c$,0)}else{aH.GK(c$,1);aH.Ad(c$,[0,0,Math.round(kc.x*fh.mu),Math.round(-kc.y*fh.HR)])}fJ._J(dB.slice(0,10))}else{fJ=null}if(fJ)q.B.push(fJ)}function h(C,J,q,fd,w,P){var fc=C.b_();
fc._J("Object "+C.B.length);fc.KX|=16;fc.add.vstk=JSON.parse(JSON.stringify(iq.pN.default));var p=fc.add.vstk;
p.strokeEnabled.v=!1;fc.add.vmsk=new $.vL;fc.add.vmsk.V=E.p.ou(J,!1);E.A.Zl(fc.add.vmsk.V,fd);var gG=w&&w.type!=0,fh=gG&&w.h!=null?w.h:[0,0,0];
bF.u0(fh,fc,fd,E.A.eg(fc.add.vmsk.V));p.fillEnabled.v=gG;if(P&&P.aeZ!=1){p.strokeEnabled.v=!0;p.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
var fJ=p.strokeStyleLineWidth.v.val=P.lineWidth*q.mO(),cF=P.color;p.strokeStyleContent.v.Clr.v=E.M.rY({o:cF[0]*255,W:cF[1]*255,k:cF[2]*255});
if(P.JX.length!=0)p.strokeStyleLineDashSet.v=iI.Gp(P.JX,4/fJ);var j_=P.a0L,gY=P.axK;if(gY!=0){var kc=J.C,n=kc.length-4,el=kc[n],iN=kc[n+1],c$=kc[n+2],dB=kc[n+3],aL=new au;
aL.scale(.15,.15);aL.rotate(-Math.PI/2+Math.atan2(dB-iN,-(c$-el)));aL.translate(c$,dB);aL.concat(fd);
var aB=h(C,W[gY],q,aL,cF,null);C.B.push(aB)}}fc.P7();fc.hR(C);return fc}function S(C,J){var q=r(J,"stlt").h,fd=JSON.parse(JSON.stringify(q.b5[C]));
if(fd.hr!=0){var w=q.b5[fd.hr];for(var P in w)if(fd[P]==null||fd[P]==0)fd[P]=w[P];delete fd.hr}fd.align=q.a3Q[fd.anD];
fd.fill=J.VM[q.aca[fd.aic]];fd.arZ=J.Ps[q.alN[fd.avB]];fd.af7=q.aoS[fd.avt];return fd}function a(n){var fb=n.data[n.R];
n.R+=1;return fb}function K(n){var fb=c.e2(n.data,n.R);n.R+=2;return fb}function Y(n){var fb=c.aN(n.data,n.R);
n.R+=4;return fb}function d(n){var fb=c.aN(n.data,n.R);n.R+=8;return fb}function j(n){var fb=c.MW(n.data,n.R);
n.R+=2;return fb}function U(n){var fb=c.jH(n.data,n.R);n.R+=4;return fb}function I(n){var fb=c.R4(n.data,n.R);
n.R+=8;return fb}function f(n){if(n.R>=n.data.length)throw"e";var C=0;while(n.data[n.R+C]!=0)C++;var J=c.zV(n.data,n.R,C);
n.R+=C+1;return J}function g(n){var C="";while(!0){var J=K(n);if(J==0)break;C+=String.fromCharCode(J)}return C}function H(C){var J=Y(C),q=(J&4294901760)>>>16,fd=(J&65535)/65535;
return q+fd}function u(C){if(C.l0<600)return Math.PI*j(C)/1800;return Math.PI*U(C)/18e7}function s(C){if(C.l0<1500)return _(C);
else return I(C)/254e3}function _(C){if(C.l0<600)return j(C)/1e3;else return U(C)/254e3}function i(C){if(C.l0<600)return K(C);
else return Y(C)}function M(C){if(C.l0<600)return j(C);else return U(C)}function T(C,J,q,fd,w,P){var fc,p,gG;
for(var fh=0;fh<w.length;fh++){var fJ=J.l0,cF=w[fh];J.data=C;J.R=cF.R+(cF.c5=="LIST"?4:0);if(fd&&cF.sub==null){fc=Y(J);
p=Y(J);gG=Y(J);var j_=K(J);if(j_!=0)throw"e";var gY=K(J);if(gY>32)throw"e";J.R-=16;if(fc!=4294967295){J.data=fd["content/data/"+q[fc]];
J.R=gG}}if(cF.c5=="vrsn"){if(cF.size==16)J.R+=8;var kc=K(J);J.l0=kc;console.log("Version",kc);J.E9=kc<600?16:32}else if(cF.c5=="DISP"){}else if(cF.c5=="LIST"&&cF.W8=="cmpr"){var el=Y(J),iN=Y(J),c$=Y(J),dB=Y(J),aL=new Uint8Array(J.data.buffer,J.R+8+2,el-6-8),aB=pako.inflateRaw(aL),iA=0;
J.R+=el;aL=new Uint8Array(J.data.buffer,J.R+8+2);var f3=pako.inflateRaw(aL),jC=[];for(var bc=0;bc<f3.length;
bc+=4)jC.push(c.aN(f3,bc));cF.sub=[];while(iA<aB.length){var bL=jJ.gk(aB,iA,jC);iA=bL.R+bL.size;cF.sub.push(bL)}var an={data:aB,R:0,l0:fJ,E9:J.E9};
T(aB,an,q,fd,cF.sub,P+1)}else if(cF.c5=="LIST"&&cF.W8=="stlt"||cF.c5=="stlt"){if(fc==4294967295)return;
var dp=J.R,cs=32;cF.h={};var im=Y(J);if(im==0)return;cF.h.aca=v(J,fJ>=1300);cF.h.alN=v(J);cF.h.aoS={};
var a5=Y(J);for(var n=0;n<a5;n++){var bg=Y(J);J.R+=fJ<1e3?12:20;var fM=K(J),eT=K(J);J.R+=8;var ev=_(J);
J.R+=fJ<1e3?12:20;cF.h.aoS[bg]={atO:fM,apg:eT,fontSize:ev}}cF.h.a3Q=v(J);var fU=Y(J);J.R+=52*fU;var e8=Y(J);
J.R+=152*e8;var ej=Y(J);J.R+=784*ej;var fV=Y(J);for(var n=0;n<fV;n++){J.R+=40;if(fJ>1300)J.R+=4;if(fJ>=1300){if(Y(J))J.R+=68;
else J.R+=12}else{J.R+=20;if(fJ>=1e3)J.R+=8;if(Y(J))J.R+=8;J.R+=8}}var he=Y(J);cF.h.a3z={};for(var n=0;
n<he;n++){var gZ=Y(J),hQ={};J.R+=12;hQ.right=_(J);hQ.aox=_(J);hQ.left=_(J);cF.h.a3z[gZ]=hQ}var aJ=Y(J);
if(fJ>=1300)cs+=4;J.R+=cs*aJ;var fN=Y(J);J.R+=28*fN;if(fJ>800){var j4=Y(J);J.R+=12*j4}cF.h.b5={};for(var n=0;
n<im;n++){var hL=Y(J),fv=Y(J),al={};al.hr=Y(J);J.R+=8;var dD=Y(J);if(fJ>=1200)dD*=2;J.R+=dD;al.aic=Y(J);
al.avB=Y(J);if(hL>1){al.avt=Y(J);al.anD=Y(J);al.a2R=Y(J);al.a2h=Y(J);if(fJ>800)al.ah0=Y(J)}if(hL>2){al.ab1=Y(J);
al.ag7=Y(J);al.ajq=Y(J);al.aiO=Y(J);al.awA=Y(J)}cF.h.b5[fv]=al}}else if(cF.c5=="LIST")T(C,J,q,fd,cF.sub,P+1);
else if(cF.c5=="txsm"){cF.h={};if(fJ<600)throw"e";if(fJ<700)throw"e";if(fJ>=1600){cF.h=B(J);return}if(fJ>=1500)J.R+=37;
else J.R+=36;if(Y(J)){if(fJ<800)J.R+=32}if(fJ<800)J.R+=4;cF.h.aes=Y(J);cF.h.fu=[];J.R+=48;if(fJ>=800){if(Y(J)){J.R+=32;
if(fJ>=1300)J.R+=8}}if(fJ>=1500)J.R+=12;var hL=Y(J),kd=1,gv=!1;if(!hL){if(fJ>=800)J.R+=4;if(fJ>800)J.R+=2;
if(fJ>=1400)J.R+=2;J.R+=24;if(fJ<800)J.R+=8;kd=Y(J)}for(var bc=0;bc<kd;bc++){var j$=Y(J),n=0;if(fJ>=1300&&hL)J.R++;
J.R++;var im=Y(J),i9=[];for(n=0;n<im;n++){var bv=a(J),cM=0;a(J);var jk=a(J);if(fJ>=800)cM=a(J);var al={};
if(jk&1){al.atO=K(J);var iW=K(J);if(iW)al.a3v=iW}if(jk&2)J.R+=4;if(jk&4)al.avu=_(J);if(jk&8)J.R+=4;if(jk&16)J.R+=4;
if(jk&32)J.R+=4;if(jk&64){al.aic=Y(J);if(fJ>=1500)J.R+=48}if(jk&128){al.avB=Y(J)}if(cM&8){if(fJ>=1300){var ft=Y(J);
if(J.R+ft*2>=J.data.length){gv=!0;break}J.R+=ft*2}else J.R+=4}if(cM&32){var b0=a(J);if(b0)J.R+=52}if(bv==2)if(fJ>=1300)J.R+=48;
i9.push(al)}if(gv){break}var ko=Y(J);if(J.R+ko*4>J.data.length)break;var co=[];for(n=0;n<ko;n++){var gr=0;
if(fJ>=1200)gr=d(J)&4294967295;else gr=Y(J);co[n]=gr>>16|gr&1}var ib=ko;if(fJ>=1200)ib=Y(J);var bh=f(J);
cF.h.fu.push({akx:j$,text:bh,b5:i9})}}else if(cF.c5=="arrw")cF.h=R(J);else if(cF.c5=="font"){var bM=J.R,bR=K(J),c5=K(J),dE="";
J.R+=14;if(J.l0>=1200)dE=g(J);else dE=f(J);cF.h={id:bR,aiY:c5,name:dE};if(fd){var ix=bM+p;while(J.data[J.R]==0)J.R++;
J.R+=2;var f2=g(J);while(J.data[J.R]==0)J.R++;while(J.data[J.R]<=2)J.R+=4;cF.h.OS=g(J)}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(cF.c5)!=-1){}else if(cF.c5=="flgs")cF.h=Y(J);
else if(cF.c5=="bbox"){var a$=_(J),fl=_(J),cW=_(J),i7=_(J);cF.h=new aV(a$,fl,cW-a$,i7-fl)}else if(cF.c5=="fild"){var fA=Y(J),i$;
if(fJ>=1300)J.R+=8;var iG=K(J);if(iG==0){}else if(iG==1){J.R+=fJ>=1300?13:2;i$=O(J)}else if(iG==2){J.R+=fJ>=1300?8:2;
var ic=a(J),e4=0;if(fJ>=1300){J.R+=17;e4=j(J)}else if(fJ>=600){J.R+=19;e4=U(J)}else{J.R+=11;e4=j(J)}var kt=u(J),jn=.5+M(J),ah=.5+M(J)-.5;
if(fJ>=600)J.R+=2;var h6=i(J)&255,br=a(J)/100;J.R++;var jN=i(J)&65535;if(fJ>=1300)J.R+=3;var cU=[];for(var n=0;
n<jN;n++){var bY=O(J);if(fJ>=1400)J.R+=26;else if(fJ>=1300)J.R+=5;var by=(i(J)&65535)/100;if(fJ>=1300)J.R+=3;
cU.push([by,bY])}i$={typ:ic==1?"lin":"rad",crds:[jn-Math.cos(kt)/2,ah-Math.sin(kt)/2,jn,ah],grad:cU,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",iG);
cF.h={id:fA,type:iG,h:i$}}else if(cF.c5=="outl"){var g1=Y(J);if(fJ>=1300){var eq=0,iu=0;while(eq!=1){J.R+=iu;
eq=Y(J);iu=Y(J)}}var hv=K(J),iP=K(J),b1=K(J);if(fJ<1300&&fJ>=600)J.R+=2;var ew=_(J),eC=K(J)/100;if(fJ>=600)J.R+=2;
var dV=u(J);if(fJ>=1300)J.R+=46;else if(fJ>=600)J.R+=52;var i$=O(J);if(fJ<600)J.R+=10;else J.R+=16;var i6=K(J),hr=J.R,jH=[];
for(var n=0;n<i6;++n)jH.push(K(J));if(fJ<600)J.R=hr+20;else J.R=hr+22;var eF=Y(J),g4=Y(J);cF.h={id:g1,aeZ:hv,atN:iP,aqy:b1,lineWidth:ew,color:i$,JX:jH,a0L:eF,axK:g4}}else if(cF.c5=="mcfg"){if(1300<=fJ)J.R+=12;
else if(900<=fJ)J.R+=4;else if(600<=fJ&&fJ<700)J.R+=28;var cw=0,hT=0;if(fJ<400){J.R+=2;var a$=_(J),fl=_(J),cW=_(J),i7=_(J);
cw=Math.abs(cW-a$);hT=Math.abs(i7-fl)}else{cw=_(J);hT=_(J)}cF.h={aqE:new cp(cw,hT)}}else if(cF.c5=="loda"||cF.c5=="lobj"){var dp=J.R,ar=i(J),a7=i(J),iX=i(J),k8=i(J),gb=i(J),jf=[],aN=[],n=0,fE=null;
J.R=dp+iX;while(n<a7)jf[n++]=i(J);J.R=dp+k8;while(n>0)aN[--n]=i(J);cF.h={};for(n=0;n<a7;n++){J.R=dp+jf[n];
var jG=aN[n];if(jG==30){if(fJ>=400&&gb==1||fJ<400&&gb==0){cF.h.path=k(J)}else if(fJ>=400&&gb==2||fJ<400&&gb==1){cF.h.path=y(J)}else if(fJ>=400&&gb==3||fJ<400&&gb==2){cF.h.path=Z(J)}else if(gb==37){cF.h.path=L(J)}else if(fJ>=400&&gb==4||fJ<400&&gb==3){cF.h.aeX=l(J)}else if(fJ>=400&&gb==6||fJ<400&&gb==5){cF.h.abP=F(J)}else console.log(gb)}else if(jG==20){if(fJ<400)cF.h.aqe=G(J);
else cF.h.acd=Y(J)}else if(jG==10){if(fJ<400)cF.h.akJ=V(J);else cF.h.a0S=Y(J)}else if(jG==200)cF.h.ah7=i(J);
else if(jG==100){if(fJ<400)fE=z(J)}}if(fE&&cF.h.path)E.p.D(cF.h.path.C,fE,cF.h.path.C)}else if(cF.c5=="trfd"){var dp=J.R,ar=i(J),a7=i(J),iX=i(J);
J.R=dp+iX;var jf=[];for(var n=0;n<a7;n++)jf[n]=i(J);for(var n=0;n<a7;n++){J.R=dp+jf[n];if(fJ>=1300)J.R+=8;
var h0=K(J);if(h0==8){var gp,aq,a$,cg,gC,fl;if(fJ>=600)J.R+=6;if(fJ>=500){gp=I(J);aq=I(J);a$=I(J)/(fJ<600?1e3:254e3);
cg=I(J);gC=I(J);fl=I(J)/(fJ<600?1e3:254e3)}else throw"e";cF.Le=new au(gp,cg,aq,gC,a$,fl)}else console.log(h0)}}else if(!1){console.log(cF);
var bH=Math.min(cF.size,32);console.log(c.rd(C,cF.R,bH));console.log(c.arx(C,cF.R,bH))}}}function R(C){var J=Y(C);
C.R+=4;var q=K(C);C.R+=4;var fd=[];for(var w=0;w<q;w++)fd.push(a(C));C.R+=1;var P=[];for(var fc=0;fc<q;
fc++){var p=[];p[1]=_(C);p[0]=_(C);P.push(p)}var gG=A(P,fd);W[J]=gG}function z(C){var J=0,q=0,fd=0,w=0,P=0,fc=0;
if(C.l0>=300){var p=C.R;C.R+=10;var gG=i(C);C.R=p+gG;J=H(C);q=H(C);fd=U(C)/1e3;w=H(C);P=H(C);fc=U(C)/1e3}else{fd=_(C);
fc=_(C);J=H(C);q=H(C);fd+=H(C)/1e3;w=H(C);P=H(C);fc+=H(C)/1e3}return new au(J,q,w,P,fd,fc)}function G(C){var J=a(C);
if(J==0)return null;else if(J==1)return O(C);else console.log(J)}function V(C){var J=a(C);J<<=1;var q=_(C),fd=K(C)/100,w=u(C),P=O(C);
return{aeZ:J,lineWidth:q,color:P,JX:[],a0L:0,axK:0}}function y(C){var J=_(C),q=_(C),fd=u(C),w=u(C),P=E.p.Mf(E.A.lF.az(0,0,J,q));
return P}function k(C){var J=C.l0,q=s(C),fd=s(C),w=0,P=0,fc=0,p=0,gG=0,fh=1,fJ=1;if(J<1500){p=s(C);fc=J<900?p:s(C);
P=J<900?p:s(C);w=J<900?p:s(C)}else{var cF=I(C);if(cF!=0)fh=cF;cF=I(C);if(cF!=0)fJ=cF;var j_=a(C);C.R+=7;
if(j_==0){p=I(C);gG=a(C);C.R+=15;fc=I(C);C.R+=16;P=I(C);C.R+=16;w=I(C);var gY=Math.abs(q*fh/2),kc=Math.abs(fd*fJ/2);
p*=gY<kc?gY:kc;fc*=gY<kc?gY:kc;P*=gY<kc?gY:kc;w*=gY<kc?gY:kc}else{p=s(C);gG=a(C);C.R+=15;fc=s(C);C.R+=16;
P=s(C);C.R+=16;w=s(C)}}return E.p.Mf(E.A.lF.Rect(0,0,q,fd,[w,P,fc,p]))}function B(C){var J=Y(C),fd=0;
C.R+=37;var q=Y(C);for(var n=0;n<q;n++){var w=Y(C);fd=w;C.R+=48;var P=Y(C);if(P==1)C.R+=12*4;else C.R+=8;
if(!J){C.R+=16;var fc=Y(C);if(C.l0>1600)C.R+=fc;else C.R+=fc*2}}var p={aes:fd,fu:[]},gG=Y(C);for(var fh=0;
fh<gG;fh++){var fJ=Y(C),bc="";C.R+=1;if(J)C.R+=1;var cF=Y(C);if(C.l0<1700)cF*=2;var j_=c.zV(C.data,C.R,cF);
C.R+=cF;var gY=Y(C);for(var n=0;n<gY;n++){C.R+=2;var kc=K(C),el=K(C);if(el&4){var iN=Y(C);iN*=2;C.R+=iN}if(kc||el&4){var c$=Y(C);
if(C.l0<1700)c$*=2;var dB=c.zV(C.data,C.R,c$);C.R+=c$}}var aL=Y(C),aB=[];for(var n=0;n<aL;n++){var f3=d(C)&4294967295;
aB[n]=f3>>16|f3&1}var jC=Y(C);for(var n=0;n<aL;n++){var iA=aB[n],bL=0;if(iA==0||iA==2)bL=C.data[C.R++];
else if(iA==1||iA==3)bL=C.data[C.R++]+C.data[C.R++]*256;else throw iA;bc+=String.fromCharCode(bL)}var an=bc.split("\r");
for(var n=0;n<an.length;n++)p.fu.push({text:an[n],akx:fJ,b5:[]})}return p}function v(C,J){var q={},fd=Y(C);
for(var n=0;n<fd;n++){var w=Y(C);C.R+=4;var P=Y(C);q[w]=P;if(J)C.R+=48}return q}function l(C){var J=_(C),q=_(C);
return new cp(J,q)}function F(C){C.R+=4;var J=_(C),q=_(C);return new cp(J,q)}function L(C){C.R+=4;var J=K(C)+K(C);
C.R+=16;var q=t(C,J);return q}function Z(C){var J=K(C);C.R+=2;return t(C,J)}function t(C,J){var q=[],fd=[];
for(var n=0;n<J;n++)q.push([_(C),_(C)]);for(var n=0;n<J;n++)fd.push(a(C));return A(q,fd)}function A(C,J){var q={C:[],H:[]},fd=0,w=0,P=0;
for(var n=0;n<C.length;n++){var fd=C[n][0],w=C[n][1],fc=J[n];if(!(fc&64)&&!(fc&128)){q.C.push(fd,w);
q.H.push("M");P+=2}else if(fc&64&&!(fc&128)){q.C.push(fd,w);q.H.push("L");P+=2}else if(!(fc&64)&&fc&128){q.C.push(fd,w);
q.H.push("C");P+=6}else if(fc&64&&fc&128){q.C.push(fd,w)}}if(P!=q.C.length)throw"e";return q}function o(C,J){var q=c.aN;
J+=8;var fd=q(C,J);J+=4;var w=q(C,J);J+=4;J+=4*7;var P=J,fc=E.Q(fd*w*4);J+=1024;for(var p=0;p<w;p++)for(var gG=0;
gG<fd;gG++){var n=p*fd+gG,fh=(w-p-1)*fd+gG,fJ=C[J+n]<<2,cF=fh<<2;fc[cF+0]=C[P+fJ+2];fc[cF+1]=C[P+fJ+1];
fc[cF+2]=C[P+fJ+0];fc[cF+3]=255}return{NP:fc,rect:new aV(0,0,fd,w)}}function O(C){var J=C.l0,q=0,fd=0,w=0;
if(J>=500){q=K(C);if(q==1&&J>=1300)q=25;if(q==30){q=25;fd=30}else{fd=K(C);C.R+=4}w=Y(C)}else if(J>=400)throw"e";
else{q=a(C);w=Y(C)}return x(q,fd,w)}function x(C,J,q){var fd=[0,0,0];if(C==2||C==3||C==9||C==17){var w=[q>>>0&255,q>>>8&255,q>>>16&255,q>>>24&255];
if(C==2)for(var n=0;n<4;n++)w[n]=Math.round(255*w[n]/100);for(var n=0;n<4;n++)w[n]/=255;fd=UDOC.C.cmykToRgb(w)}else if(C==1||C==5){fd=[q>>>0&255,q>>>8&255,q>>>16&255];
for(var n=0;n<3;n++)fd[n]=fd[n]/255;if(C==5)fd.reverse()}else console.log("Unknown color model "+C,q,q.toString(16));
return fd}return{ak:b}}(),gw=function(){var r,Q,W=new ArrayBuffer(4),b=new Uint8Array(W),X=new Uint32Array(W),D=new Float32Array(W);
function h(j,U){for(var I=0;I<j.length;I++)if(j[I][0]==U)return j[I]}function S(){var j=0,U=0,I=0;do{I=r[Q++];
j|=(I&127)<<U;U+=7}while(I&128&&U<35);return j>>>0}function a(j,U,I,f,g){r=j;Q=U;var H=f[0]=="mesg",u=f[2],s={},_=1,i=H?1e9:u.length;
while(_<=i){var M=_;if(H){M=S();if(M==0)break}var T=h(u,M),R=T[2],z=T[1]==1,G=z?S():1,V=new Array(G);
if(R==3){if(!z)throw"e";V=r.slice(Q,Q+G);Q+=G}else for(var n=0;n<G;n++){var y;if((R&1)==1){if(R==1)y=r[Q++]==1;
else if(R==3)y=r[Q++];else if(R==5){var k=S();y=k&1?~(k>>>1):k>>>1}else if(R==7)y=S();else if(R==9){if(r[Q]==0){y=0;
Q++}else{b[0]=r[Q];b[1]=r[Q+1];b[2]=r[Q+2];b[3]=r[Q+3];var B=X[0];X[0]=B<<23|B>>>9;y=D[0];Q+=4}}else if(R==11){var v=K(r,Q);
y=v[0];Q+=v[1]+1}else throw R}else{var l=I[R>>>1];if(l[0]=="enum"){var F=r[Q++];if(F>127)throw"e";y=l[2][F]}else{var L=a(r,Q,I,l,g+1);
y=L[0];Q=L[1]}}V[n]=y}s[T[3]]=z?V:V[0];_++}return[s,Q]}function K(j,U){var I=U;while(j[I]!=0)I++;return[c.CA(j,U,I-U),I-U]}function Y(j,U){var I=U;
while(j[I]!=0)I++;for(var n=U;n<I;n++)if(j[n]>127)throw"e";return c.zV(j,U,I-U)}function d(j){r=j;Q=1;
var U=[];while(Q<j.length){var I=Q,f=U.length,g=Y(j,Q);Q+=g.length+1;var H=S();if(H>2)throw"e";var u=S(),s=[];
for(var n=0;n<u;n++){var _=Y(j,Q);Q+=_.length+1;var i=S(),M=S(),T=S();s.push(H==0?_:[T,M,i,_])}U.push([["enum","strc","mesg"][H],g,s])}return U}return{amO:d,avQ:a}}();
function c4(){}c4.ak=function(r,Q){var W=new Uint8Array(r),b=8,X=c.aN(W,b),K=0,l=0;b+=4;var D=[];while(b<W.length){var h=c.aN(W,b);
b+=4;var S=W.slice(b,b+h);if(W[b]==137&&W[b+1]==80){}else S=UZIP.inflateRaw(S);D.push(S);b+=h}var a=gw.amO(D[0]);
for(var n=0;n<a.length;n++)if(a[n][1]=="Message")K=n;var Y=gw.avQ(D[1],0,a,a[K],0)[0],d={a6:{},dD:{},a4s:{}},j=Y.nodeChanges;
for(var U=0;U<j.length;U++){var I=j[U],f=I.guid;d.dD[f.sessionID+","+f.localID]=I}for(var U=0;U<j.length;
U++){var I=j[U],f=I.parentIndex;if(f){var g=c4.Q2(d.dD,f.guid);if(g.children==null)g.children=[];g.children.push(I)}}var H=j[0],u=H.children,s=new aV,_=[],i=[];
for(var f=0;f<u.length;f++){var M=u[f],T=M.children;if(M.name=="Internal Only Canvas"||T==null)continue;
var R=new aV;for(var n=0;n<T.length;n++){var z=T[n],G=z.transform,V=z.size;if(G.m00==1&&G.m10==0&&G.m01==0&&G.m11==1){var y=new aV(G.m02,G.m12,V.x,V.y);
R=R.Bc(y)}}var k=s.n==0?0:s.n+100,B=R.clone();B.x=0;B.y=k;s=s.Bc(B);_[f]=R;i[f]=k}var v=dI.PG(new aV(0,0,s.e,s.n),8192*8192);
Q.e=Math.round(s.e/v);Q.n=Math.round(s.n/v);Q.buffer=E.Q(Q.e*Q.n*4);for(var f=0;f<u.length;f++){var M=u[f],T=M.children;
if(M.name=="Internal Only Canvas"||T==null)continue;T.sort(c4.avU);var F=new au(1,0,0,1,-_[f].x,i[f]-_[f].y);
F.scale(1/v,1/v);for(var n=0;n<T.length;n++){var z=T[n];c4.g7(z,[],F,Y.blobs,Q,0,d);l++}}Q.dQ(l);Q.Vo=!0;
if(v!=1)alert("File scaled down "+v+"x")};c4.g7=function(r,Q,W,b,X,D,h){var S=c4,G=!1,V,B,v,l;Q=JSON.parse(JSON.stringify(Q));
var a=r.overrideKey?r.overrideKey:r.guid;for(var n=0;n<Q.length;n++){var K=Q[n],Y=K.guidPath.guids;if(S.ati(Y[0],a)){if(Y.length==1){var d={};
for(var j in r)d[j]=K[j]!=null?K[j]:r[j];r=d}else K.guidPath.guids=Y.slice(1)}}var U=r.type,I=r.children,f=r.size,g=r.effects,H=X.b_();
H._J(r.name);H.ky(r.visible);H.opacity=Math.round(r.opacity*255);var u=S.Wt(r.transform),s=u.clone();
s.concat(W);var _=new aV(Math.round(s.rn),Math.round(s.NQ),Math.round(f.x*s.mO()),Math.round(f.y*s.mO()));
if(_.e==0||isNaN(_.e))_.e=100;if(_.n==0||isNaN(_.n))_.n=100;var i=r.fillPaints,M=r.inheritFillStyleID;
if(M){var d=S.Q2(h.dD,M);if(d)i=d.fillPaints}if(i==null)i=[];var i=S.acV(i),T=i[0],R=r.strokePaints,M=r.inheritFillStyleIDForStroke;
if(M){var d=S.Q2(h.dD,M);if(d)R=d.fillPaints}if(R==null)R=[];var R=S.acV(R),z="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(U)!=-1;
if(z||U=="FRAME"){V=new $.vL;S.amT(r,b,V);G=E.A.YF(V.V);E.A.Zl(V.V,s);var y=E.p.jq(E.A.eg(V.V));if(!y.WB())_=y;
if(h.a6.ok&&T){var k=$.vL.Ld(h.a6.ok.V);for(var n=2;n<k.length;n++)if(k[n].xo!=null)k[n].xo=3;V.V=V.V.concat(k.slice(2))}}if(T&&T.type=="IMAGE"){l=T.imageScaleMode;
B=S.T6(b,T.image.dataBlob);var F=B.Kx.e/B.Kx.n,L=f.x/f.y;v=Math.abs(F-L)}if(U=="FRAME"){}else if(z&&G&&B&&(l=="FIT"||l=="FILL"&&v<=.05)){var Z=b[T.image.dataBlob].bytes,t=X.jS(Z,H.getName(),0,0);
t.KX=H.KX;t.opacity=H.opacity;H=t;var A=new aV(0,0,f.x,f.y);if(l=="FIT"){var o=B.Kx.e,O=B.Kx.n,x=Math.min(f.x/o,f.y/O),C=o*x,J=O*x;
A=new aV(A.x+(A.e-C)/2,A.y+(A.n-J)/2,C,J)}var q=E.p.vk(A).C;E.p.D(q,s,q);H.add.SoLd.Trnf=m.EA.Aa(q);
H.add.SoLd.nonAffineTransform=m.EA.Aa(q);var fd=[],g=r.effects,w=T.paintFilter;if(g)for(var n=0;n<g.length;
n++)if(g[n].type=="FOREGROUND_BLUR"){var P=g[n],fc=jv.gj("GsnB",{});fd.push(fc);fc.v.enab.v=P.visible;
fc.v.Fltr.v.Rds.v.val=P.radius/2.4}if(w&&w.exposure!=0){var fc=jv.gj("brit",{});fd.push(fc);fc.v.Fltr.v.Brgh.v=Math.round(w.exposure*160);
fc.v.Fltr.v.useLegacy.v=!0}if(w&&w.vibrance!=0){var fc=jv.gj("vibA",{});fd.push(fc);console.log(fc);
fc.v.Fltr.v.Strt.v=Math.round(Math.round(w.vibrance*100))}if(fd.length!=0){H.add.SoLd.filterFX=jv.qQ();
X.jJ({id:H.add.SoLd.placed.v,rect:new aV,buffer:E.Q(1),z:new $.lA});H.add.SoLd.filterFX.v.filterFXList.v=fd}H.vd(X,!1);
S.ab5(h,H,X)}else if(z){S.aiy(H,V,r,T,R,s,_,b,X,h);if(g)for(var n=0;n<g.length;n++){var P=g[n];if(P.type!="FOREGROUND_BLUR")continue;
V.$E=P.radius/2.4}H.P7();H.hR(X)}else if(U=="TEXT"){var p=r.textData,gG=p.layoutSize,fh=["LEFT","RIGHT","CENTER"].indexOf(r.textAlignHorizontal);
H.add.lnsr="rend";H.add.TySh=aH.M6(0,0);H.add.TySh.$C=new aV(0,0,100,100);var fJ=s.clone();H.add.TySh.D=fJ;
var cF=H.add.TySh.kN,j_=p.characters;if(r.textCase=="TITLE"){for(var n=0;n<j_.length;n++)if(n==0||j_[n-1]==" "){var gY=j_.slice(0,n),kc=j_.slice(n+1);
j_=gY+j_[n].toUpperCase()+kc}}j_=j_.replace(/\u2028/g,"\n");j_=j_.replace(/\u2029/g,"\n");j_=j_.replace(/\r\n/g," \n");
aH.ig(cF,0,j_);var el=r.textAutoResize,iN=p.baselines;if(el=="WIDTH_AND_HEIGHT"){var c$=fh==0?0:fh==1?gG.x:gG.x/2,dB=iN?iN[0].position.y:0;
fJ.translate(c$*s.mO(),dB*s.mO());aH.GK(cF,0)}else if(el=="HEIGHT"||el=="NONE"||el==null){var dB=iN?iN[0].position.y-r.fontSize*.7:0;
fJ.translate(0,dB*s.mO());aH.GK(cF,1);aH.Ad(cF,[0,0,Math.round(gG.x),Math.round((el=="NONE"?1.8:1)*gG.y)])}else throw el;
if(j_!=""){var aL=aH.Z2(cF,0,1);S.aiZ(r,s,f,aL,H,b,X,h);aH.Yf(cF,0,j_.length,aL);var aB=p.characterStyleIDs,f3=p.styleOverrideTable;
if(aB){aB=aB.slice(0);for(var n=0;n<aB.length;n++)if(j_[n]=="\n")aB[n]=-n-1;var jC=[0],bc=0,iA=0;for(var n=0;
n<aB.length;n++){iA++;var bL=aB[n];if(n==0||bL==aB[n-1]){}else{jC.push(iA-1,n);iA=1}}jC.push(iA);for(var n=0;
n<jC.length;n+=2){var an=jC[n],dp=jC[n+1];if(j_[an]=="\n")continue;var bL=aB[an];if(bL!=0){var im;for(var a5=0;
a5<f3.length;a5++)if(f3[a5].styleID==bL)im=f3[a5];var aL=aH.Z2(cF,an,an+1);S.aiZ(im,s,f,aL,H,b,X,h);
aH.Yf(cF,an,an+dp-1,aL)}}}}}else if(U=="SYMBOL"){}else if(U=="INSTANCE"){var bg=r.symbolData,fM=bg.symbolOverrides,d=S.Q2(h.dD,bg.symbolID);
if(d)I=d.children;else console.log(r.name,"symbol not found",bg.symbolID);Q=Q.slice(0);for(var n=0;n<fM.length;
n++)Q.push(fM[n])}else console.log(U);if(!1){}else if(I&&!z){X.B.push(X.Tz());var eT=!1,ev=D==0&&U!="SYMBOL"&&U!="INSTANCE";
if(ev){if(_.WB())console.log(_);H.NG(_)}T=i[i.length-1];if(ev&&T&&T.type=="SOLID"){var fU=T.color;H.add.artb.artboardBackgroundType.v=4;
H.add.artb.Clr=S.cG(fU)}else if((T||R[0])&&V){var e8=X.b_();e8._J("Background");S.aiy(e8,V,r,T,R,s,_,b,X,h);
e8.P7();e8.hR(X);X.B.push(e8);eT=!0}I.sort(S.avU);var ej=h.a6;h.a6={};for(var fV=0;fV<I.length;fV++)S.g7(I[fV],Q,s,b,X,D+1,h);
h.a6=ej;H.add.lsct=!1?d1.O9:d1.$B;H.iX="pass";var he=H.cB();H.KX=24;H.ky(he);var gZ=D!=0&&i.length!=0&&!r.frameMaskDisabled&&r.containerSupportsFillStrokeAndCorners;
if(!eT&&gZ&&V){H.add.vmsk=V;H.P7();H.hR(X)}else S.ab5(h,H,X);X.B.push(H)}else if(r.mask){if(V){h.a6.ok=V}}else{var hQ=[],al=1;
if(g)for(var aJ=0;aJ<g.length;aJ++){var P=g[aJ],cs=P.color,fN=P.type,j4=["DROP_SHADOW","INNER_SHADOW"].indexOf(fN);
if(j4!=-1){var hL=["DrSh","IrSh"][j4],fv=JSON.parse(iq.WS[iq.order.indexOf(hL)]);hQ.push([hL,fv]);fv.enab.v=P.visible;
fv.Md.v.BlnM=hG.Ra(S.adO(P.blendMode));fv.Opct.v.val=Math.round(100*cs.a);fv.blur.v.val=Math.round(P.radius*s.mO());
fv.Clr=S.cG(cs);var c$=P.offset.x,dB=P.offset.y;fv.uglg.v=!1;fv.lagl.v.val=Math.round(180/Math.PI*Math.atan2(dB,-c$));
fv.Dstn.v.val=Math.round(Math.sqrt(c$*c$+dB*dB)*s.mO())}}if(U=="TEXT"&&i[0]&&i[0].type!="SOLID")al=0;
for(var n=al;n<i.length;n++){var dD=i[n],kd=S.Wo(r,dD,s,_,b,X,h);if(kd[0]=="GdFl")hQ.push(["GrFl",kd[1]]);
else if(kd[0]=="SoCo")hQ.push(["SoFi",kd[1]]);else if(kd[0]=="PtFl")hQ.push(["patternFill",kd[1]]);else if(kd[0]=="None"){}else throw kd}if(!z)for(var n=0;
n<R.length;n++){var dD=R[n],kd=S.Wo(r,dD,s,_,b,X,h);if(kd[0]=="SoCo"){var fv=JSON.parse(iq.WS[iq.order.indexOf("FrFX")]);
hQ.push(["FrFX",fv]);fv.enab=kd[1].enab;fv.Opct=kd[1].Opct;fv.Md=kd[1].Md;fv.Clr=kd[1].Clr;fv.Sz.v.val=r.strokeWeight}}if(hQ.length!=0){var gv=JSON.parse(iq.default);
for(var n=0;n<iq.order.length;n++)gv[iq.lY[n]]={t:"VlLs",v:[]};for(var n=0;n<hQ.length;n++){var j$=hQ[n],hL=iq.lY[iq.order.indexOf(j$[0])];
gv[hL].v.unshift({t:"Objc",v:j$[1]})}if(I==null)H.add.lmfx=gv}X.B.push(H)}};c4.aiy=function(r,Q,W,b,X,D,h,S,a,K){var Y=c4;
r.KX|=16;r.add.vmsk=Q;var d=r.add.vstk=JSON.parse(JSON.stringify(iq.pN.default)),j=Y.Wo(W,b,D,h,S,a,K);
if(j[0]=="None"){d.fillEnabled.v=!1;r.add.SoCo=j[1]}else{Y.M1(j,r);r.add[j[0]]=j[1]}var j=Y.Wo(W,X[0],D,h,S,a,K);
if(j[0]!="None"){var d=r.add.vstk;d.strokeEnabled.v=!0;d.strokeStyleLineWidth.v.val=W.strokeWeight*D.mO();
d.strokeStyleLineAlignment.v.strokeStyleLineAlignment=iq.pN.Ba[["INSIDE","CENTER","OUTSIDE"].indexOf(W.strokeAlign)];
var U={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[j[0]],I=["SoFi","GrFl","patternFill"].indexOf(U),f=[iq.i4,iq.uc,iq.Ej][I];
d.strokeStyleContent.v={classID:iq.pN.W8[0]};var g=W.dashPattern;if(g)d.strokeStyleLineDashSet.v=iI.Gp(g,1/W.strokeWeight);
var H=d.strokeStyleContent.v={classID:iq.pN.W8[I]};for(var n=0;n<f.length;n++)H[f[n]]=j[1][f[n]];if(!d.fillEnabled.v)Y.M1(j,r)}};
c4.M1=function(r,Q){var W=r[1].Opct.v.val;if(W!=100)Q.opacity=Math.round(Q.opacity/255*(W/100)*255)};
c4.avU=function(r,Q){var W=r.parentIndex.position,b=Q.parentIndex.position;return W>b?1:-1};c4.acV=function(r){for(var n=1;
n<r.length;n++){var Q=r[n];if(Q.type=="IMAGE"&&Q.opacity==1){r=r.slice(n);break}}for(var n=0;n<r.length;
n++){var Q=r[n],W=Q.imageThumbnail;if(Q.type=="IMAGE"&&(Q.image==null||Q.image.dataBlob==null)&&W&&W.dataBlob)Q.image=W;
if(!Q.visible||Q.type=="IMAGE"&&Q.image.dataBlob==null){r.splice(n,1);n--}}return r};c4.ab5=function(r,Q,W){if(r.a6.ok){Q.add.vmsk=r.a6.ok.clone();
Q.P7();Q.hR(W)}};c4.aiZ=function(r,Q,W,b,X,D,h,S){var a=r.fontSize,K=r.lineHeight,Y=r.fontName,d=r.textAlignHorizontal,j=r.textTracking,U=r.textCase,I=r.textDecoration;
if(a==null)a=b.jr.FontSize;if(Y)aH.Oz(b,Y.postscript);if(a!=null)b.jr.FontSize=Math.round(a);if(I=="UNDERLINE")b.jr.Underline=!0;
if(j)b.jr.Tracking=Math.round(j*1e3);if(U)b.jr.FontCaps=U=="UPPER"?2:0;if(K&&(K.units!="PERCENT"||K.value!=100)){if(a==null)a=15;
var f=K.value;if(K.units=="PERCENT")f=1*a*f/100;if(K.units=="RAW")f=1*a*f;b.jr.AutoLeading=!1;b.jr.Leading=Math.round(f)}if(d)b.GG.Justification=["LEFT","RIGHT","CENTER"].indexOf(d);
var g=r.fillPaints,H=r.inheritFillStyleID;if(H){var u=c4.Q2(S.dD,H);if(u)g=u.fillPaints}if(g&&g[0]){var s=c4.Wo(r,g[0],Q,W,D,h,S);
if(s[0]=="SoCo"){var _=E.M.vf(s[1].Clr.v);b.jr.FillColor={Type:1,Values:[1,_.o/255,_.W/255,_.k/255]};
c4.M1(s,X)}}};c4.Wo=function(r,Q,W,b,X,D,h){var S=c4,a,K,Y=r.size;if(Q){var d=Q.type,j=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(d);
if(d=="SOLID"){a="SoCo";var U=Q.color;K=JSON.parse(iq.WS[iq.order.indexOf("SoFi")]);K.Clr=S.cG(U)}else if(j!=-1){var I=JSON.parse(iq.WS[iq.order.indexOf("GrFl")]),f=I.Grad.v;
f.Intr.v=0;I.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][j];var g=[],H=Q.stops;for(var n=0;n<H.length;n++){var u=H[n],s=u.color;
g.push([u.position,[s.r,s.g,s.b],s.a])}E.M.Bn(g,f);var _=S.Wt(Q.transform);_.j4();var i=_.clone();if(Y)i.scale(Y.x,Y.y);
i.concat(W);var M=new cp(0,.5),T=new cp(1,.5);M=i.lE(M);T=i.lE(T);if(!0){M.x=T.x+.5*(M.x-T.x);M.y=T.y+.5*(M.y-T.y)}E.M.xs(M,T,b,I);
if(j==3){if(i.mu*i.HR-i.k*i.th<0)I.Rvrs.v=!I.Rvrs.v}a="GdFl";K=I}else if(d=="IMAGE"){var I=JSON.parse(iq.WS[iq.order.indexOf("patternFill")]),_=S.Wt(Q.transform);
_.j4();var R=Q.image.dataBlob,z=h.a4s[R];if(z==null){var G=S.T6(X,R);z=h.a4s[R]={};z.id=bj.zQ()+"-d71c-11e5-b1ae-a548a96e5f9f";
z.G5=[new Uint8Array(G.data),G.Kx];if(_.mu<0){var V=z.G5[0].slice(0);E.K.an(V,z.G5[0],G.Kx.e,G.Kx.n)}z.name="someImage";
D.PT(z)}if(_.mu<0)_.mu=-_.mu;var y=["FILL","FIT","STRETCH","TILE"].indexOf(Q.imageScaleMode),k=y==3?Q.scale:1;
iI.a3r(z,I,Y.x,Y.y,y,W,_,k);a="PtFl";K=I}else throw d;if(K)K.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(Q.opacity*100)}}}if(a==null||Q.opacity<.001){a="None";
K={classID:"null",Clr:{t:"Objc",v:E.M.rY({o:0,W:0,k:0})}}}return[a,K]};c4.T6=function(r,Q){var W=r[Q];
if(W.rslt)return W.rslt;var b=W.bytes.buffer,X=fH.E$(b),D=fH.Qt(X);try{W.rslt=D.ni(b)[0]}catch(aA){W.rslt={data:E.Q(4),Kx:new aV(0,0,1,1)}}return W.rslt};
c4.amT=function(r,Q,W){var b=r.type,X=r.size,D=r.cornerRadius,K;if(D==null)D=0;var h=X.x,S=X.y,a=[D,D,D,D],Y=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var n=0;n<4;n++)if(r[Y[n]]!=null)a[n]=r[Y[n]];if(b=="RECTANGLE"||b=="ROUNDED_RECTANGLE"||b=="FRAME"){K=E.A.lF.Rect(0,0,h,S,a)}else if(b=="ELLIPSE"){var d=r.arcData,j=d?d.startingAngle:0,U=d?d.endingAngle:2*Math.PI,I=d?d.innerRadius:0;
if(j==0&&U>1.999*Math.PI)K=E.A.lF.az(0,0,h,S,0);else K=E.A.lF.a7g(h/2,S/2,S/2,j,U);if(I!=0&&I!=1){var f=$.vL.Ld(K).slice(3);
f.reverse();for(var n=0;n<f.length;n++){var g=f[n],H=g.f0;g.f0=g.rP;g.rP=H}var u=new au;u.translate(-h/2,-S/2);
u.scale(I,I);u.translate(h/2,S/2);E.A.Zl(f,u);K=K.concat(f);K[2].length*=2}}else if(b=="LINE"){K=E.A.lF.Rect(0,0,h,S,0);
K.pop();K.pop();K[2].length=2}else if(b=="STAR"){K=E.A.lF.Bt(h/2,S/2,h/2,2*Math.PI*(1/4),5,0,r.starInnerScale)}else if(b=="REGULAR_POLYGON"){K=E.A.lF.AC(.5,.5,.5,Math.PI/2,r.count,0);
var s=new au;s.scale(h,S);E.A.Zl(K,s)}else if(b=="BOOLEAN_OPERATION"){K=[{type:6},{type:8,all:0}];var _=r.children,i=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(r.booleanOperation);
if(i==-1)throw r;if(_==null)_=[];for(var n=0;n<_.length;n++){var M=_[n],T=new $.vL,R=c4.amT(M,Q,T);if(T.V==null)continue;
E.A.Zl(T.V,c4.Wt(M.transform));K=K.concat(T.V.slice(2))}for(var n=3;n<K.length;n++)if(K[n].xo!=null)K[n].xo=i}else if(b=="VECTOR"){var z,G,A=3;
if(!0){var V=r.vectorData;if(V==null)return;z=V.normalizedSize;G=V.vectorNetworkBlob}var y=Q[G].bytes,k=new Uint32Array(y.buffer),B=new Float32Array(y.buffer),v=k[0],l=k[1],F=k[2],L=[],Z=[],t=[],o=A+v*3,O=o+l*7;
for(var n=0;n<v;n++){var x=A+n*3,C=new cp(B[x+1],B[x+2]);L.push(C)}for(var n=0;n<l;n++){var J=o+n*7;
Z.push([k[J+0],k[J+1],B[J+2],B[J+3],k[J+4],B[J+5],B[J+6]])}for(var n=0;n<F;n++){var q=k[O+1],fd=t[n]=[];
O+=2;for(var w=0;w<q;w++){var P=k[O++],fc=fd[w]=[];for(var p=0;p<P;p++)fc[p]=k[O+p];O+=P}}if(O!=k.length)throw"e";
if(F==0){var gG=-1;for(var n=0;n<l;n++){if(gG==-1){}else{var fh=-1;for(var w=n;w<l;w++)if(Z[w][4]==gG)fh=w;
for(var w=n;w<l;w++)if(Z[w][1]==gG)fh=w;if(fh!=-1){var fJ=0,H=Z[fh];Z[fh]=Z[n];Z[n]=H;if(H[1]!=gG){fJ=H[1];
H[1]=H[4];H[4]=fJ;fJ=H[2];H[2]=H[5];H[5]=fJ;fJ=H[3];H[3]=H[6];H[6]=fJ}}}gG=Z[n][4]}t.push([[]]);for(var n=0;
n<l;n++)t[0][0].push(n)}var cF=[],j_=[];for(var gY=0;gY<t.length;gY++){for(var kc=0;kc<t[gY].length;
kc++){var el=t[gY][kc],iN=0;if(el.length>1){var c$=Z[el[0]],dB=Z[el[1]];iN=c$[4]==dB[1]?1:0}for(var n=0;
n<el.length;n++){var aL=Z[el[n]],aB=1,jC=4;if(iN==0){aB=4;jC=1}var bc=L[aL[aB]],iA=L[aL[jC]];if(n==0){j_.push("M");
cF.push(bc.x,bc.y)}j_.push("C");cF.push(bc.x+aL[aB+1],bc.y+aL[aB+2],iA.x+aL[jC+1],iA.y+aL[jC+2],iA.x,iA.y)}}}K=E.p.ou({C:cF,H:j_},!1);
if(D!=0){var a=[],bL=K[2].length;for(var n=0;n<bL;n++)a.push(D);if(E.A.aV(K))E.A.o5(K,2,a)}var an=new au;
an.scale(z.x==0?1:X.x/z.x,z.y==0?1:X.y/z.y);E.A.Zl(K,an)}W.V=K};c4.Q2=function(r,Q){return r[Q.sessionID+","+Q.localID]};
c4.ati=function(r,Q){return r.sessionID==Q.sessionID&&r.localID==Q.localID};c4.adO=function(r){var Q={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",COLOR_BURN:"idiv",HARD_LIGHT:"hLit",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over"}[r];
if(Q==null)throw r;return Q};c4.cG=function(r){return{t:"Objc",v:E.M.rY({o:r.r*255,W:r.g*255,k:r.b*255})}};
c4.Wt=function(r){var Q=[r.m00,r.m10,r.m01,r.m11,r.m02,r.m12];for(var n=0;n<6;n++)if(Math.abs(Q[n])<1e-20)Q[n]=0;
return new au(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5])};function f5(){}f5.ak=function(){var r=c.zV;function Q(U,I,f,g){var H=g?[]:{};
while(I<U.length-1&&U[I]!=125){var u=r(U,I,3),s=r(U,I+3,1),_;I+=4;I++;if(s=="v"){var i=Q(U,I,f+1,u=="ELM"||u=="TIL");
_=i.h;I=i.R}else if(s=="i"||s=="f"){var M=I;while(U[M]!=125)M++;var T=r(U,I,M-I);_=s=="i"?parseInt(T,16):parseFloat(T);
I=M+1}else if(s=="s"){var R=c.KV(U,I),T="";I+=2;for(var n=0;n<R;n++)T+=String.fromCharCode(U[I+2*n+1]);
_=T;I=I+2*R+1}else if(s=="b"){_=U[I]==49;I=I+2}else throw"e";if(g)H.push([u,_]);else if(H[u]==null)H[u]=_;
else{if(!(H[u]instanceof Array))H[u]=[H[u]];H[u].push(_)}}I++;return{h:H,R:I}}function W(U,I){var f=b(U).slice(1),U=I.Clr.v;
U.Rd.v=f[0]*255;U.Grn.v=f[1]*255;U.Bl.v=f[2]*255}function b(U){return[(U>>>24&255)/255,(U>>>16&255)/255,(U>>>8&255)/255,(U>>>0&255)/255]}function X(U,I){var f=I&4278190080|(I&255)<<16|(I>>>8&255)<<8|I>>>16&255;
new Uint32Array(U.buffer).fill(f)}function D(U,I){var f=U.TSZ,g=U.WPX,H=U.HPX,u=U.TIL,s=new aV(0,0,g,H),_=E.Q(g*H*4),i=0;
for(var M=0;M<H;M+=f)for(var T=0;T<g;T+=f){var R=new aV(T,M,f,f),z,G=u[i];if(G[0]=="TMC"){z=E.Q(R.O()*4);
X(z,G[1])}else if(G[0]=="TID"){z=I[G[1]]}E.TU(z,R,_,s);i++}return[_,s]}function h(U,I){U=new Uint8Array(U);
var f=8,g,H={},l=0;while(f<U.length){var u=c.v(U,f);f+=4;var s=r(U,f,4);f+=4;if(s=="mkTS"){var _=pako.inflate(U.slice(f,f+u)),i=Q(_,0,0);
g=i.h}else if(s=="mkBT"){var M=c.v(U,f+4),T=c.v(U,f+8),_=pako.inflate(U.slice(f+76,f+u));if(T==0)for(var n=0;
n<_.length;n+=4){var R=_[n],z=_[n+1],G=_[n+2],V=_[n+3];_[n+3]=R;_[n+2]=V;_[n+1]=G;_[n]=z}else{var y=E.Q(_.length*4);
y.fill(255);E.BA(_,y);_=y}H[M]=_}f+=u+4}var k=g.PDC,B=k?k instanceof Array?k:[k]:[g.MKB],v=new aV;for(var n=0;
n<B.length;n++){var F=B[n];v=v.Bc(new aV(0,l,F.WID,F.HIT));l+=F.HIT+100}I.e=v.e;I.n=v.n;I.buffer=E.Q(v.O()*4);
I.dQ(B.length);l=0;for(var L=0;L<B.length;L++){I.B.push(I.Tz());var F=B[L],Z=F.WID,t=F.HIT,A=F.BGC,o=(F.LYL?F:g).LYL.LAY,C=3;
for(var n=0;n<o.length;n++)a(o[n],I,null,H,new au(1,0,0,1,-F.XLC,-F.YLC+l));var O=I.b_();I.B.push(O);
var x=new aV(0,l,Z,t);l+=t+100;O.NG(x);if(A>>>24!=0){var J=E.M.rY({o:A>>>16&255,W:A>>>8&255,k:A>>>0&255});
O.add.artb.Clr={t:"Objc",v:J};C=4}O.add.artb.artboardBackgroundType.v=C;O._J(F.PGN?F.PGN:"Page "+(L+1));
O.add.lsct=d1.$B;O.iX="pass";O.KX=24}}function S(U,I,f){var g=U[I];return g instanceof Array?g[f]:g}function a(U,I,f,g,H){var u=I.b_();
if(U.VIS!=null)u.ky(U.VIS);if(U.VIF!=null)u.ky(U.VIF.VIS);if(U.OPA!=null)u.opacity=Math.round(255*U.OPA/1e3);
u.iX=U.CLL||f=="GRP"?"pass":"norm";if(U.BLD!=null){var s=U.BLD,_={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[s+""];
if(_==null)console.log(U.OBN,s);else u.iX=_;if(s==30)u.opacity>>>=1}if(U.CLL){u._J(U.LNM);I.B.push(I.Tz());
var i=U.CLL.CEL;if(i.length==null)i=[i];for(var M=i.length-1;M>=0;M--){var T=i[M].ELM;for(var n=T.length-1;
n>=0;n--)a(T[n][1],I,T[n][0],g,H)}u.add.lsct=U.DIS?d1.O9:d1.$B;u.KX|=24}else if(f=="GRP"){var R=u.add.lmfx=Y(U.EFL),z;
I.B.push(I.Tz());var T=U.ELM;if(U.MNA){z=T[0][1];T=T.slice(1)}u._J("Group: "+T.length+" objects");for(var n=T.length-1;
n>=0;n--)a(T[n][1],I,T[n][0],g,H);if(z){if(U.MRX){var G=D(z,g),V=u.z=new $.lA;V.rect=G[1].clone();V.rect.x=z.XLC;
V.rect.y=z.YLC+H.NQ;V.channel=E.Q(V.rect.O());E.TX(G[0],V.channel,0);E.j4(V.channel)}else{K(u,z,H);u.P7();
u.hR(I)}}u.add.lsct=d1.$B;u.KX|=24}else if(f=="IMG"){u._J(U.OBN?U.OBN:"Bitmap");var G=D(U,g);u.rect=G[1].clone();
u.rect.x=U.XLC;u.rect.y=U.YLC+H.NQ;u.buffer=G[0]}else if(f=="TXT"){var y=U.TFS,k=y.TRN instanceof Array?y.TRN.length:1,F="",L="Arial",Z=20,t=0;
u.add.lnsr="rend";u.add.TySh=aH.M6(0,0);u.add.TySh.$C=new aV(0,0,100,100);var B=new au(1,0,0,1,U.LFT,U.TOP);
if(U.MTX){var v=U.MTX,V=new au(v.M00,v.M01,v.M10,v.M11,v.M20,v.M21);B.concat(V)}B.concat(H);u.add.TySh.D=B;
var l=u.add.TySh.kN;for(var n=0;n<k;n++){var A=S(y,"TRN",n);if(A==null)continue;A=A.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
A=A.replaceAll("\x03","\n").replaceAll("\r","\n");aH.ig(l,F.length,A);var o=aH.Z2(l,0,1),O=S(y,"FON",n);
if(O)L=O;aH.Oz(o,L);var x=S(y,"PTS",n);if(x!=null)Z=x;o.jr.FontSize=Math.round(Z);var C=S(y,"LED",n);
if(C!=null){o.jr.Leading=C*Z;o.jr.AutoLeading=!1}var J=S(y,"UND",n);if(J!=null){o.jr.Underline=J}var q=S(y,"ITL",n);
if(q!=null){o.jr.FauxItalic=q}var fd=S(y,"FCL",n);if(fd!=null)t=fd;o.jr.FillColor={Type:1,Values:b(t)};
var w=S(y,"JST",n);if(w!=null)o.GG.Justification=[0,2,1,3,5,4,6,7,8][w];aH.Yf(l,F.length,F.length+A.length,o);
F+=A}u._J(F.slice(0,255));var P=U.RIT-U.LFT,fc=U.BOT-U.TOP;if(U.IMG){a(U.IMG,I,"IMG",g,H);var p=I.B.pop();
u.buffer=p.buffer;u.rect=p.rect.clone()}aH.GK(l,1);aH.Ad(l,[0,0,P,fc])}else if(f=="PTH"){u._J(U.OBN?U.OBN:"Path");
u.KX|=16;var gG=!1;K(u,U,H);var fh=u.add.vmsk,fJ=u.add.vstk,cF=E.A.eg(fh.V),j_=U.PAT,gY=j_.BPL,kc=j_.FPL,el=j_.TXF;
if(kc&&kc.FEF)fh.$E+=kc.FEF/2.4;if(gY){var iN=gY.CAT;fJ.strokeEnabled.v=!0;fJ.strokeStyleLineWidth.v.val=gY.BDI;
fJ.strokeStyleLineAlignment.v.strokeStyleLineAlignment=iq.pN.Ba[U.BRP];W(j_.BCL,fJ.strokeStyleContent.v);
if(iN!="bc_Basic"&&iN!="bc_Pencil")gG=!0}if(kc==null){fJ.fillEnabled.v=!1;u.add.SoCo=JSON.parse(iq.WS[iq.order.indexOf("SoFi")]);
W(0,u.add.SoCo)}else if(kc.CAT=="fc_Solid"){u.add.SoCo=JSON.parse(iq.WS[iq.order.indexOf("SoFi")]);W(U.PAT.FCL,u.add.SoCo)}else if(kc.CAT=="fc_Linear"||kc.CAT=="fc_Circular"||kc.CAT=="fc_Elliptical"){var c$=kc.CAT=="fc_Linear",dB=u.add.GdFl=JSON.parse(iq.WS[iq.order.indexOf("GrFl")]),aL=dB.Grad.v,aB=[],f3=kc.FGL,jC,bc=[];
if(f3.FGY){var iA=f3.FGY,jC=iA.FG0.FGI,bc=iA.FG1.FGI}else jC=f3.FGV.FGI;for(var n=0;n<jC.length;n++){var bL=jC[n],an=b(bL.FGC),dp=1;
if(bc.length==jC.length)dp=b(bc[n].FGC)[0];aB.push([bL.FGP,an.slice(1),dp])}dB.Type.v.GrdT=c$?"Lnr":"Rdl";
E.M.Bn(aB,aL);aL.Intr.v=0;var im=U.PRI?U.PRI:U,a5=new cp(im.PSX,im.PSY),bg=new cp(im.PEX,im.PEY);if(kc.CAT=="fc_Elliptical"&&im.PFX!=null){var fM=new cp(im.PFX,im.PFY),eT=cp.ks(a5,bg),ev=cp.ks(a5,fM);
if(ev<eT){var fU=eT;eT=ev;ev=fU}bg=new cp(a5.x+(eT+ev)/2,a5.y);if(eT/ev<.5)gG=!0}if(c$){a5.x=(a5.x+bg.x)/2;
a5.y=(a5.y+bg.y)/2}E.M.xs(a5,bg,cF,dB)}else console.log(kc.CAT);var R=u.add.lmfx=Y(U.EFL,fh);if(kc&&kc.FTB!=0&&el){var G=D(el.MSK,g),e8={};
e8.id=bj.zQ()+"-d71c-11e5-b1ae-a548a96e5f9f";e8.name="someImage";e8.G5=G;I.PT(e8);var ej=G[0];for(var n=0;
n<ej.length;n+=4){ej[n+3]=255-ej[n];ej[n]=ej[n+1]=ej[n+2]=255}var dB=JSON.parse(iq.WS[iq.order.indexOf("patternFill")]);
dB.Opct.v.val=Math.round(kc.FTB/10);dB.Algn.v=!0;dB.Ptrn.v.Idnt.v=e8.id;R.patternFillMulti.v.unshift({t:"Objc",v:dB})}if(gG&&U.IMG){a(U.IMG,I,"IMG",g,H);
var fV=I.B[I.B.length-1];fV.opacity=u.opacity;return}u.P7();u.hR(I)}else if(f=="URL")return;else{console.log("unknown layer type",f,U);
u._J("Layer")}I.B.push(u)}function K(U,I,f){if(I.PBL==null)return;var g=U.add.vmsk=new $.vL,H=U.add.vstk=JSON.parse(JSON.stringify(iq.pN.default)),u=I.PBL.PBP;
if(!(u instanceof Array))u=[u];for(var s=0;s<u.length;s++){var _=u[s].PBT;if(_==null)continue;if(!(_ instanceof Array))_=[_];
var i=u[s].ISC?0:3;g.V.push({type:i,length:_.length,xo:0,bu:2,jM:0,eV:0});for(var n=0;n<_.length;n++){var M=_[n],T=M.XLC,R=M.YLC,z=[T,R,T,R,T,R],G="XPC YPC XLC YLC XSC YSC".split(" ");
for(var V=0;V<6;V++){var y=G[V],k=M[y];if(k!=null)z[V]=k}g.V.push({type:i+2,F:new cp(T,R),f0:new cp(z[0],z[1]),rP:new cp(z[4],z[5])})}}E.A.Zl(g.V,f)}function Y(U,I){var f=JSON.parse(iq.default);
for(var n=0;n<iq.order.length;n++)f[iq.lY[n]]={t:"VlLs",v:[]};if(U==null)return f;var g=U.EPS;if(!(g instanceof Array))g=[g];
for(var n=0;n<g.length;n++){var H=g[n].DCE,u={};for(var s=0;s<H.length;s++)u[H[s].DCK]=H[s].DCV;if(u.EffectIsVisible=="false")continue;
var _=u.mkbFile_WriteOnly_TemporaryEffectUiName;if(_=="Gaussian Blur..."&&I){I.$E+=parseFloat(u.gaussian_blur_radius);
continue}var i=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(_);if(i==-1){continue}var M=["DrSh","ebbl","IrGl","OrGl"][i],T=iq.lY[iq.order.indexOf(M)],R=JSON.parse(iq.WS[iq.order.indexOf(M)]);
f[T].v.unshift({t:"Objc",v:R});if(M=="DrSh"){R.uglg.v=!1;d(u,"ShadowDistance",R,"Dstn");d(u,"ShadowBlur",R,"blur");
d(u,"ShadowAngle",R,"lagl",180);R.Opct.v.val=100;j(u,"ShadowColor",R,"Clr")}if(M=="IrGl"){R.Md.v.BlnM="Nrml";
var z=u.MaskSoftness,G=u.GlowWidth;if(z&&G){z=parseInt(z);G=parseInt(G);R.blur.v.val=G+z;R.Ckmt.v.val=Math.round(100*G/(G+z))}d(u,"BevelContrast",R,"Opct");
j(u,"OuterBevelColor",R,"Clr")}if(M=="OrGl"){R.Md.v.BlnM="Nrml";var z=u.MaskSoftness,G=u.GlowWidth;if(z&&G){z=parseInt(z);
G=parseInt(G);R.blur.v.val=G+z}d(u,"BevelContrast",R,"Opct");j(u,"OuterBevelColor",R,"Clr")}if(M=="ebbl"){R.uglg.v=!1;
d(u,"BevelWidth",R,"blur");d(u,"AngleSoftness",R,"Sftn");d(u,"BevelContrast",R,"srgR");d(u,"LightAngle",R,"lagl")}}return f}function d(U,I,f,g,H){var u=U[I];
if(H==null)H=0;if(u)f[g].v.val=parseInt(u)+H}function j(U,I,f,g){var H=U[I];if(H){H=H.slice(1);if(H.length==6)H=H+"ff";
if(H.length!=8)throw"e";var u=b(parseInt(H,16)),s=f[g].v;s.Rd.v=u[0]*255;s.Grn.v=u[1]*255;s.Bl.v=u[2]*255;
f.Opct.v.val=Math.round(f.Opct.v.val/100*u[3]*100)}}return h}();function gy(){}gy.ak=function(){function r(k,B){var v=!1,l=Date.now(),F=i(k,v);
if(v)console.log("part found",Date.now()-l);l=Date.now();var L=_(F),Z=L.Layer,t=L.Header;if(v)console.log(L);
var A=Z[0];A=L.Layer[0];if(v)console.log("document parsed",Date.now()-l);l=Date.now();L.Setup.Gradient=s(L.Setup.Gradient,F);
if(v)console.log("grads loaded",Date.now()-l);l=Date.now();L.Setup.Pattern=u(L.Setup.Pattern,F);if(v)console.log("patts loaded",Date.now()-l);
l=Date.now();L.Setup.DocumentData=H(L.Setup.DocumentData,F).pop();if(v)console.log("docdata loaded",Date.now()-l);
l=Date.now();L.Setup.SVGFilter=H(L.Setup.SVGFilter,F);if(v)console.log("svgfilter loaded",Date.now()-l);
l=Date.now();var o=t.Cropmarks,O=t.BoundingBox.split(" ").map(parseFloat),x=t.ArtSize?t.ArtSize.split(" ").map(parseFloat):[O[2]-O[0],O[3]-O[1]];
B.e=Math.round(x[0]);B.n=Math.round(x[1]);var C=[1,0,0,1,-O[0]+(B.e-(O[2]-O[0]))/2,-O[1]+(B.n-(O[3]-O[1]))/2];
C[3]=-1;C[5]=B.n-C[5];if(o){o=o.split(" ").map(parseFloat);B.e=Math.round(o[2]-o[0]);B.n=Math.round(o[3]-o[1]);
C=[1,0,0,-1,-o[0],B.n+o[1]]}var J=L.Setup.DocumentData;if(J&&J[0]&&J[0].ArtboardArray){var q=J[0].ArtboardArray;
if(q.length!=1)console.log(q.length,"artboards");var fd=new aV,w=[];for(var n=0;n<q.length;n++){var P=q[n],fc=P.PositionPoint1,p=P.PositionPoint2,gG=fc[0],fh=Math.min(fc[1],p[1]),fJ=p[0],cF=Math.max(fc[1],p[1]),j_=new aV(gG,fh,fJ-gG,cF-fh);
w.push(j_);fd=fd.Bc(j_)}B.e=Math.round(fd.e);B.n=Math.round(fd.n);C[4]=-fd.x;C[5]=fd.y+B.n;if(q.length!=1){B.B.push(B.Tz());
for(var n=0;n<w.length;n++){var P=q[n],j_=w[n],gY=B.b_();gY._J(P.Name);B.B.push(gY);gY.add.SoCo=JSON.parse(iq.WS[iq.order.indexOf("SoFi")]);
var kc=gY.add.SoCo.Clr.v;K(kc,[1,1,1]);var gG=j_.x,fh=j_.y,fJ=gG+j_.e,cF=fh+j_.n,el=[gG,fh,fJ,fh,fJ,cF,gG,cF];
E.p.D(el,d(C),el);U(gY,{cmds:["M","L","L","L","Z"],crds:el},B);gY.add.vstk=JSON.parse(JSON.stringify(iq.pN.default))}var gY=B.b_();
gY._J("_Artboards_");gY.add.lsct=d1.$B;gY.iX="pass";gY.KX=24;B.B.push(gY)}}if(J&&J[0]&&J[0]["#document"]){var iN=J[0]["#document"],c$=iN["xmlnode-children"][0];
if(c$&&c$["xmlnode-children"])c$=c$["xmlnode-children"][0];if(c$["xmlnode-nodename"]=="variableSets"){var dB=c$["xmlnode-children"][0]["xmlnode-children"],aL=dB[0],aB=dB[1],f3=y(aL);
B.AR=ba.dv("<variableSets><variableSet>"+f3+"</variableSet></variableSets>");if(aB){var jC=y(aB),bc=B.NA=ba.IH(jC);
for(var n=0;n<bc.length;n++)for(var iA=0;iA<bc[n].length;iA++)bc[n][iA]=bc[n][iA].trim()}}}var bL=dI.PG(new aV(0,0,B.e,B.n),8192*8192);
while(B.e*B.n*bL*bL<800*800)bL*=2;B.e=Math.round(B.e*bL);B.n=Math.round(B.n*bL);B.HW=Math.round(72*bL);
B.buffer=E.Q(B.e*B.n*4);for(var n=0;n<6;n++)C[n]*=bL;W=[0,0,0];b=[0,0,0];X="SoCo";for(var an=0;an<Z.length;
an++){var dp=Z[an];dp.Raster=Q(dp,"Raster");dp.Place=Q(dp,"Place");var im=f(F,dp);D(B,im,C,L,dp,F)}if(v)console.log("layers created",Date.now()-l);
l=Date.now()}function Q(k,B){var v=k.Layer,l=k[B];if(l==null)l=[];if(v){for(var n=0;n<v.length;n++){var F=v[n],L=F[B]=Q(F,B);
l=l.concat(L)}l.sort(function(Z,t){return Z._begin-t._begin})}return l}var W,b,X;function D(k,B,v,l,F,L){var Z="",t=0,A="",o=!1,O={},x=UDOC.G,C=UDOC.getState(),J="norm",q=1,fd=!1,w=0,fc=null,p=!1,gG=0,fh=null,fJ,cF,j_=0,gY=0,kc=0,c$=0,dB=!1;
C.ctm=v;var P=[],el=[],iN=[];for(var aL=0;aL<B.length;aL++){var aB=B[aL],iA=1e9;if(aB[0]=="%"){if(aB=="%_/ArtDictionary :"&&gG==0)fc=[aB.slice(2)];
else if(fc!=null){if(aB=="%_"&&gG==0){var f3=R(fc)[0],jC=f3.AI10_ArtUID;if(jC&&!jC.startsWith("XMLID"))k.B[k.B.length-1]._J(G(jC));
fc=null}else{fc.push(aB.slice(p?1:2));if(aB=="%_X=")gG++;if(aB=="%_X+")gG--;if(aB=="%_/Binary : /ASCII85Decode ,")p=!0;
if(p&&aB.endsWith("~>"))p=!1}}else if(fh){fJ+=(fJ==""?"":" ")+aB.slice(2);if(fJ.endsWith("X#")){fh.push(fJ.slice(0,fJ.length-3));
fJ=""}}continue}else if(aB=="/Mesh X!"){fh=[];fJ="";continue}else if(aB=="/End X!"){h(fh,C,k);fh=null;
continue}var bc="Xa XR m l c f U u *U w J j M d".split(" "),bL=-1,an=aB.indexOf("(")!=-1;for(var n=0;
n<bc.length;n++){var dp=aB.indexOf(" "+bc[n]+" ");if(dp!=-1&&dp<iA&&!an){iA=dp;bL=n}}if(bL!=-1){o=!0;
var im=iA+1+bc[bL].length;B[aL]=aB.slice(0,im);var a5=B[aL+1];if(a5==null||a5[0]=="%"||bL>9)B.splice(aL+1,0,aB.slice(im));
else B[aL+1]=(aB.slice(im)+" "+a5).replace(/\s\s+/g," ");aL--;continue}aB=aB.trim();var bg=aB.split(" "),fM=bg[bg.length-1],eT=fM.toLowerCase(),ev=bg.map(parseFloat);
if(fM=="m")x.moveTo(C,ev[0],ev[1]);else if(fM=="L"||fM=="l")x.lineTo(C,ev[0],ev[1]);else if(fM=="V"||fM=="v"||fM=="Y"||fM=="y")x.quadCurveTo(C,ev[0],ev[1],ev[2],ev[3]);
else if(fM=="C"||fM=="c")x.curveTo(C,ev[0],ev[1],ev[2],ev[3],ev[4],ev[5]);else if(fM=="H"||fM=="h"){if(fM==eT)x.closePath(C);
P.push(JSON.parse(JSON.stringify(C.pth)))}else if(fM=="Xy"){J=["norm","mul ","scrn","over","sLit",null,"div "][ev[0]];
q=ev[1];if(J==null){J="norm";console.log("unknown blend mode",ev[0])}}else if(fM=="Xd"){var fU=k.B[k.B.length-1];
fU.opacity=Math.round(255*q);fU.iX=fU.wf()&&J=="norm"?"pass":J}else if(fM=="AE")j_=ev[0];else if(fM=="Ae")gY=ev[0];
else if(fM=="Xw")kc=ev[0];else if(fM=="*"){var e8=C.pth.crds,ej=C.ctm,dp=e8[0]==e8[2]?0:1;k.RE.push([dp,e8[dp]]);
x.newPath(C)}else if(fM=="XN")cF=aB.split(" ")[0];else if(fM=="XI"){var fV=F.Raster,he,gZ;if(fV==null||fV.length==0){console.log("no Raster");
continue}if(aB!="XI"){continue}else{if(fV[t].Data==null){continue}var hQ=fV[t++].Data,aJ=hQ._begin,cs=hQ._end;
while(L[aJ]!=88)aJ++;aJ+=3;he=L.slice(aJ,cs);gZ=B[aL-2].split(" ").map(parseFloat)}var fN=gZ.slice(8),j4=fN[2],hL=fN[3],fv=j4*hL,al=E.Q(fv*4);
al.fill(255);var dD=fN[7],kd=fN[8],gv=fN[6],j$=Math.ceil(j4*dD*gv/8);if(dD==1){if(gv==8)for(var n=0;
n<fv;n++)for(var i9=0;i9<3;i9++)al[4*n+i9]=he[n];else if(gv==1)for(var bv=0;bv<hL;bv++)for(var jk=0;
jk<j4;jk++)for(var i9=0;i9<3;i9++)al[4*(bv*j4+jk)+i9]=255*(he[bv*j$+(jk>>>3)]>>>7-(jk&7)&1);else throw gv}else if(dD==3)for(var n=0;
n<fv;n++)for(var i9=0;i9<3;i9++)al[4*n+i9]=he[3*n+i9];else if(dD==4||dD==5)for(var n=0;n<fv;n++){var cM=j([he[dD*n+0]/255,he[dD*n+1]/255,he[dD*n+2]/255,he[dD*n+3]/255]);
al[4*n+0]=cM[0]*255;al[4*n+1]=cM[1]*255;al[4*n+2]=cM[2]*255}else if(dD==7)for(var n=0;n<fv;n++){al[4*n+0]=he[dD*n+0];
al[4*n+1]=he[dD*n+1];al[4*n+2]=he[dD*n+2]}else console.log("unknown number of channels",dD);if(kd==1){var iW=hL*j$;
for(var n=0;n<fv;n++)al[4*n+3]=he[iW+n]}var ft=E.ph(al,j4,hL)?"JPG":"PNG";if(j4*hL<700*700)ft="PNG";
var b0=fH.Qt(ft).Al([[al.buffer]],j4,hL),ko=k.jS(new Uint8Array(b0),"<Image>",0,0);k.B.push(ko);ko.iX=J;
ko.opacity=Math.round(255*q);ko.ky(kc==0);var v=new au;v.scale(1,-1);v.concat(d(gZ.slice(1)));v.concat(d(C.ctm));
var co=ko.rect.clone();co.x=co.y=0;var bg=E.p.vk(co).C;E.p.D(bg,v,bg);ko.add.SoLd.Trnf=m.EA.Aa(bg);ko.add.SoLd.nonAffineTransform=m.EA.Aa(bg);
ko.vd(k,!1)}else if(fM=="Ln"){Z=a(aB)}else if(fM=="u"||fM=="q"||fM=="Lb"){el.push(gY==1);iN.push((fM=="Lb"?1-ev[0]:kc)==0);
if(fd)continue;k.B.push(k.Tz())}else if(fM=="U"||fM=="Q"||fM=="LB"){if(el.length==0||iN.length==0)throw aL;
var gr=el.pop(),ib=iN.pop();if(fM=="LB")gr=j_==1;if(fd)continue;var ko=k.b_();ko._J((fM=="U"?"<Group>":"<Clip Group>")+A);
if(fM=="LB")ko._J(Z);if(fM=="Q"&&P.length!=0){var bh=P.pop(),bM=UDOC.G.isBox(bh,[0,0,k.e,k.n]);if(!bM)U(ko,bh,k)}ko.add.lsct=gr?d1.O9:d1.$B;
ko.iX="pass";ko.KX=24;ko.ky(ib);k.B.push(ko);if(dB){if(k.B[k.B.length-3].getName()=="</Layer group>"){k.B.pop();
k.B.splice(k.B.length-2,1)}dB=!1}}else if(fM=="Bb"||fM=="Bh"||fM=="BB"){}else if(fM=="Bg"){var bR=l.Setup.Gradient,c5=bR[a(aB)];
if(c5==null){console.log("gradient not found");for(var dE in bR){c5=bR[dE];break}}X="GdFl";W=S(c5.tv,c5.aoT)}else if(fM=="Bm"||fM=="Xm"){var ix=W.Type.v.GrdT;
if(ix=="Lnr"&&fM!="Xm"||ix=="Rdl"&&fM!="Bm")continue;var f2=new cp(0,0),a$=new cp(1,0),fl=new au;fl.concat(d(ev));
fl.concat(d(C.ctm));f2=fl.lE(f2);a$=fl.lE(a$);var cW=E.p.Z3(C.pth.crds);if(cW.WB())cW=E.p.Z3([f2.x,f2.y,a$.x,a$.y]);
if(ix=="Lnr"){f2.x=(f2.x+a$.x)/2;f2.y=(f2.y+a$.y)/2}E.M.xs(f2,a$,cW,W)}else if(fM=="p"){var i7=a(aB),fA=l.Setup.Pattern[i7];
if(fA.raw==null){var cW=fA.Wr,j4=Math.round(cW[2]-cW[0]),hL=Math.round(cW[3]-cW[1]),f3=new bj;f3.e=j4;
f3.n=hL;f3.buffer=E.Q(j4*hL*4);D(f3,fA.Kt,[1,0,0,-1,-fA.Wr[0],hL+fA.Wr[1]],l,F,L);fA.raw=new Uint8Array(fH.Qt("PSD").Al(f3))}var iG=aB.slice(aB.indexOf(")")+2),i$=iG.slice(0,iG.indexOf("[")-1).split(" ").map(parseFloat),ic=iG.slice(iG.indexOf("[")+1,iG.indexOf("]")).split(" ").map(parseFloat);
X="patt";W=[i7,i$,ic]}else if(fM=="J"||fM=="j"||fM=="w"||fM=="M"||fM=="d"){for(var n=1;n<bg.length;n++){var e4=bg[n],kt=ev[n-1];
if(e4=="w")C.lwidth=kt;if(e4=="j")C.ljoin=kt;if(e4=="J")C.lcap=kt;if(e4=="d"){var jn=aB.slice(aB.indexOf("[")+1,aB.indexOf("]")).trim();
if(jn.length!=0){var ah=jn.split(" ").map(parseFloat);C.dash=ah}else if(jn=="")C.dash=[]}}}else if(eT=="xa"||eT=="xx"){var h6=ev[4]==null?ev.slice(0,3):[ev[4],ev[5],ev[6]];
if(eT=="xx"&&ev[ev.length-2]==2)h6=j(ev);X="SoCo";if(fM=="Xa"||fM=="Xx")W=h6;else b=h6}else if(eT=="xk"){var h6,br=ev[ev.length-2],jN=ev[ev.length-3];
if(br==0)h6=j(ev);else if(br==1){h6=[ev[4],ev[5],ev[6]];for(var n=0;n<3;n++)h6[n]=jN*1+(1-jN)*h6[n]}else throw aB;
X="SoCo";if(fM=="Xk")W=h6;else b=h6}else if(eT=="k"||eT=="x"){if(eT=="x"){ev.pop();var cU=1-ev.pop();
for(var n=0;n<4;n++)ev[n]*=cU}var h6=j(ev);X="SoCo";if(fM==eT)W=h6;else b=h6}else if(eT=="g"){var h6=[ev[0],ev[0],ev[0]];
X="SoCo";if(fM==eT)W=h6;else b=h6}else if(eT=="n"){if(!fd)x.newPath(C)}else if(fM=="*u"){fd=!0;w=0}else if(fM=="*U"||eT=="s"||eT=="f"||eT=="b"){if(fM!="*U"&&fd){if(eT=="f"||eT=="b")w|=1;
if(eT=="s"||eT=="b")w|=2;continue}if(fM==eT)x.closePath(C);if(fM=="*U"){fd=!1}var ko;if(X=="patt"){var fA=l.Setup.Pattern[W[0]];
ko=k.jS(fA.raw,"<Pattern>",0,0);var co=ko.rect.clone();co.x=co.y=0;var bg=E.p.vk(co).C,ic=d(W[2]);ic.rn=ic.NQ=0;
E.p.D(bg,ic,bg);ko.add.SoLd.Trnf=m.EA.Aa(bg);ko.add.SoLd.nonAffineTransform=m.EA.Aa(bg);ko.vd(k,!1)}else{ko=k.b_();
ko.KX|=16;var bY=ko.add.vstk=JSON.parse(JSON.stringify(iq.pN.default));bY.strokeEnabled.v=bY.fillEnabled.v=!1;
if(X=="SoCo"){ko.add.SoCo=JSON.parse(iq.WS[iq.order.indexOf("SoFi")]);var by=ko.add.SoCo.Clr.v;K(by,W)}if(X=="GdFl")ko.add.GdFl=W;
if(eT=="f"||eT=="b"||fM=="*U"&&w&1)bY.fillEnabled.v=!0;if(eT=="s"||eT=="b"||fM=="*U"&&w&2)bF.Ku(bY,C,1,bF.BY(b))}ko._J("<"+(fM=="*U"?"Compound ":"")+"Path>"+A);
ko.iX=J;ko.opacity=Math.round(255*q);ko.ky(kc==0);U(ko,C.pth,k);k.B.push(ko);x.newPath(C)}else if(fM==","&&bg[0]=="/XMLUID"){var fU=k.B[k.B.length-1];
for(var n=0;n<k.AR.length;n++)if("("+k.AR[n].docRef+")"==bg[2])k.AR[n].docRef="id('"+fU.add.lyid+"')"}else if(fM==","&&bg[1]=="/FreeUndo"){c$=ev[0]}else if(fM==","&&bg[1]=="/StoryIndex"){var g1=l.Setup.TextDocument,dV=null;
if(!(g1 instanceof Array))g1=l.Setup.TextDocument=g(g1,L);var eq=g1[0],iu=g1[2];if(eq._DocumentResources)eq=g1[0]=kw.ane(eq);
else kw.ap_(eq);var ko=k.b_();ko.add.lnsr="rend";ko.add.TySh=aH.M6(0,0);var hv=ev[0];if(c$==1){for(var n=1;
n<60;n++){var a5=B[aL+n];if(a5.endsWith("/StoryIndex ,")){hv=parseFloat(a5.slice(2,a5.indexOf(" ")));
dB=!0;break}}c$=0}var iP=de.a9L(eq),b1=ko.add.TySh.kN=iP[hv];if(b1==null){console.log("text not found");
dB=!1;continue}ko._J(aH.Wc(b1).slice(0,50));ko.iX=J;ko.opacity=Math.round(255*q);ko.ky(kc==0);var cU=eq._1._1[hv]._1._0[0]._0;
cU=parseInt(cU.slice(1));var ew=eq._0._8._0,eC=ew[cU]._0;if(eC._0)dV=Y(eC._0);else if(eC._1)dV=Y(eC._1._0);
else dV=Y(eC._2._2).slice(3);if(dV.length!=2){var cW=E.p.Z3(dV);dV=[cW.x,cW.y];if(cW.O()!=0){aH.GK(b1,1);
aH.Ad(b1,[0,0,Math.round(cW.e),Math.round(cW.n)])}}var i6=new au,hr=new au(1,0,0,1,dV[0],dV[1]),jH=new au(1,0,0,1,-iu[0],-iu[1]),eF=d(C.ctm),g4=new au;
if(eC._2&&eC._2._2){var v=Y(eC._2._2);g4=new au(v[0],v[1],v[2],v[3],v[4],v[5])}i6.concat(hr);i6.concat(g4);
i6.concat(jH);i6.scale(1,-1);i6.concat(eF);ko.add.TySh.D=i6;k.B.push(ko);k.Vo=!0}else if(fM=="Tp"){O.Le=d(ev)}else if(fM=="Tf"){O.font=bg[0].slice(2)}else if(fM=="Tk"){var ko=k.b_();
ko.add.lnsr="rend";var cw=ko.add.TySh=aH.M6(0,0),b1=cw.kN,fl=O.Le.clone(),ar=fl.mO();fl.concat(d(C.ctm));
var a7=new au(1/ar,0,0,-1/ar,0,0);a7.concat(fl);cw.D=a7;var iX=a(aB);ko._J(iX);aH.ig(b1,0,iX);var k8=aH.Z2(b1,0,iX.length);
k8.jr.FontSize=ar;k8.jr.FillColor={Type:1,Values:[1,W[0],W[1],W[2]]};aH.Oz(k8,O.font);aH.Yf(b1,0,iX.length,k8);
k.B.push(ko);k.Vo=!0}else if(o&&ev.length>3){var gb=!1;for(var n=0;n<ev.length;n++)if(isNaN(ev[n]))gb=!0;
if(!gb)B[aL+1]=(aB+" "+B[aL+1]).replace(/\s\s+/g," ")}}}function h(k,B,v){var l=UDOC.G,F=[],L=[],Z="/DeviceGray",t=1,A=[],o=1;
for(var O=0;O<k.length;O++){var x=k[O];if(x.endsWith(" /CS")){var C=x.indexOf("/NChannel"),J=x.indexOf("/Process");
if(x.startsWith("/DeviceRGB")){Z="/DeviceRGB";t=3}else if(x.startsWith("/DeviceGray")){Z="/DeviceGray";
t=1}else if(x.startsWith("/DeviceCMYK")){Z="/DeviceCMYK";t=4;A=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(C!=-1){Z="/DeviceCMYK";
t=parseInt(x.slice(C-2,C-1));var q=1;for(var n=0;n<t;n++){q=x.indexOf("[",q);A[t-1-n]=x.slice(q+1,q+8).split(" ").map(parseFloat);
q++}}else if(J){Z="/DeviceGray";t=1}else throw x}else if(x[0]=="["){var fd=x.indexOf("]"),w=x.slice(1,fd).split(" ").map(parseFloat),P=x.slice(fd+2),fc,p,gG,fh,fJ,cF;
if(P=="/Size"||P=="/P"||P=="/R")continue;if(P=="/S"||P=="/A"){fc=w[0];p=w[1];gG=w[2];fh=w[3];fJ=w[4];
cF=w[5]}else if(P=="/N"){var j_=t+(o==1?0:1),gY;fc=w[j_+0];p=w[j_+1];gG=w[j_+2];fh=w[j_+3];fJ=w[j_+5];
cF=w[j_+6];if(Z=="/DeviceRGB")gY=w.slice(0,3);else if(Z=="/DeviceGray")gY=[w[0],w[0],w[0]];else if(Z=="/DeviceCMYK"){var kc=[0,0,0,0];
for(var n=0;n<t;n++){var el=w[n],iN=A[n];kc[0]+=el*iN[0];kc[1]+=el*iN[1];kc[2]+=el*iN[2];kc[3]+=el*iN[3]}gY=j(kc)}else throw gY;
gY.push(w[t]);L.push([gY,fc,p])}else throw P;F.push([P,fJ,cF,fc,p,gG,fh])}else if(x=="/E"){var c$=F.slice(0),dB=0;
for(var n=0;n<F.length;n++){var aL=F[n][0];if(aL=="/N"){dB++;continue}var aB=n,f3=n+1;while(F[f3][0]!="/N"&&f3<F.length)f3++;
if(dB==0||dB==3){for(var jC=0;jC<f3-aB;jC++)c$[aB+jC]=F[f3-1-jC]}else for(var jC=aB;jC<f3;jC++){var bc=c$[jC],iA=bc[1];
bc[1]=bc[5];bc[5]=iA;iA=bc[2];bc[2]=bc[6];bc[6]=iA}n=f3-1}F=[];for(var n=0;n<c$.length;n++){var bc=c$[n];
F.push(bc[1],bc[2],bc[3],bc[4],bc[5],bc[6])}var bL=F.length;l.moveTo(B,F[2],F[3]);for(var n=0;n<bL;n+=6){var gG=F[(n+4)%bL],fh=F[(n+5)%bL],fJ=F[(n+6)%bL],cF=F[(n+7)%bL],fc=F[(n+8)%bL],p=F[(n+9)%bL];
l.curveTo(B,gG,fh,fJ,cF,fc,p)}l.closePath(B);F=[]}else if(x.endsWith("/Version"))o=parseFloat(x[0])}var an=v.b_();
an.KX|=16;an._J("<Mesh>");var dp=an.add.vstk=JSON.parse(JSON.stringify(iq.pN.default));dp.strokeEnabled.v=!1;
if(L.length>=2){var im=0,a5=0,bg=0;for(var n=0;n<L.length;n++)for(var jC=n+1;jC<L.length;jC++){var fM=L[n][0],eT=L[jC][0],ev=fM[0]-eT[0],fU=fM[1]-eT[1],e8=fM[2]-eT[2],ej=Math.sqrt(ev*ev+fU*fU+e8*e8);
if(ej>bg){bg=ej;im=n;a5=jC}}var fV=L[im],he=L[a5],gZ=an.add.GdFl=S(0,[[0,fV[0]],[1,he[0]]]),hQ=d(B.ctm),aJ=hQ.lE(new cp(fV[1],fV[2])),cs=hQ.lE(new cp(he[1],he[2])),fN=E.p.Z3(B.pth.crds);
aJ.x=(aJ.x+cs.x)/2;aJ.y=(aJ.y+cs.y)/2;E.M.xs(aJ,cs,fN,gZ)}U(an,B.pth,v);v.B.push(an);l.newPath(B)}function S(k,B){var W=JSON.parse(iq.WS[iq.order.indexOf("GrFl")]),v=W.Grad.v;
v.Intr.v=0;W.Type.v.GrdT=["Lnr","Rdl"][k];E.M.Bn(B,v);return W}function a(k){var B=k.indexOf(")");while(k[B-1]=="\\")B=k.indexOf(")",B+1);
return k.slice(k.indexOf("(")+1,B).replaceAll("\\","")}function K(k,W){k.Rd.v=W[0]*255;k.Grn.v=W[1]*255;
k.Bl.v=W[2]*255}function Y(k){var B=[];for(var n=0;n<k.length;n++)B[n]=parseFloat(k[n].slice(1));return B}function d(k){return new au(k[0],k[1],k[2],k[3],k[4],k[5])}function j(k){return UDOC.C.cmykToRgb(k)}function U(k,B,v){k.add.vmsk=new $.vL;
if(B.crds.length!=0)k.add.vmsk.V=I(B);k.P7();k.hR(v)}function I(k){var B={C:k.crds,H:k.cmds},v=E.p.ou(B,!1);
return v}function f(k,B){var v=[],o=0,J=0;for(var l=0;l<2;l++){var F=B[["Raster","Place"][l]];if(F){for(var n=0;
n<F.length;n++){var L=F[n][["Data","PlacedObjectPreview"][l]];if(L==null)continue;var Z=L._begin,t=L._end;
if(Z>t)Z=t;v.push([Z,t])}}}v.sort(function(fd,w){return fd[0]-w[0]});var A=[B._begin];for(var n=0;n<v.length;
n++){var O=v[n],Z=O[0]+32;A.push(Z,O[1]);o+=O[1]-Z}A.push(B._end);var x=B._end-B._begin,C=new Uint8Array(x-o);
for(var n=0;n<A.length;n+=2){var Z=A[n],q=A[n+1]-Z;C.set(new Uint8Array(k.buffer,Z,q),J);J+=q}return c.CA(C).split(/\r\n|\r|\n/)}function g(k,B){if(k==null)return[];
var v=f(B,k),l="",F="",L=0,Z;for(var n=2;n<v.length;n++){var t=v[n];if(t[0]=="%"){if(L==0)l+=t.slice(1);
else F+=t.slice(1)}else if(t==";")L++;else if(t.endsWith("/RulerOrigin ,"))Z=t.split(" ").slice(0,2).map(parseFloat)}var A=[l,F],o=[];
for(var n=0;n<2;n++){var O=A[n],x=new Uint8Array(O.length);c._a(x,0,O);var C=FromPS.F.ASCII85Decode({buff:x,off:0}),J=j8.ak(C);
o.push(J)}o.push(Z);return o}function H(k,B){if(k==null)return[];var v=f(B,k);v=v.slice(1);for(var n=0;
n<v.length;n++){var l=v[n];if(l[0]=="%")v[n]=l.slice(l[1]=="_"?2:1)}var F=R(v);return F}function u(k,B){var v={};
if(k==null)return v;for(var n=0;n<k.length;n++){var l=f(B,k[n]),F=l[1],L=a(F),Z=F.slice(F.indexOf(")")+2).split(" ").map(parseFloat),t=[];
for(var A=2;A<l.length;A++)t.push(l[A].slice(2));v[L]={Wr:Z,Kt:t}}return v}function s(k,B){var v={},l,F;
if(k==null)return v;var L=[];for(var n=0;n<k.length;n++){var Z=f(B,k[n]);for(var t=0;t<Z.length;t++){var A=Z[t];
if(A.endsWith("%_Bs")){var o=A.slice(0,A.length-4);if(!o.endsWith(" "))o+=" ";A=o+"%_BS"}if(A[0]=="("){l=a(A);
var O=A.split(")"),x=O[1].split(" ");F=parseInt(x[1])}else if(A.endsWith("%_BS")){var O=A.split(" "),fd,w=1;
O.pop();O=O.map(parseFloat);var C=O.pop(),J=O.pop(),q=O.pop();if(q==0)fd=[O[0],O[0],O[0]];else if(q==2||q==4)fd=[O[4],O[5],O[6]];
else if(q==1||q==3)fd=j(O);else if(q==6){if(O.length==3)fd=[O[0],O[0],O[0]];else fd=j(O);w=O.pop()}else{throw q}L.push([C/100,fd,w,J/100])}else if(A=="BD"){for(var P=0;
P<L.length-1;P++)L[P][3]=L[P+1][3];L.sort(function(fc,p){return fc[0]-p[0]});v[l]={tv:F,aoT:L};L=[]}}}return v}function _(k){var B="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place Rider".split(" "),v=Date.now(),l=0,F=[],L={Header:{}},Z=[L],t=k.length;
while(l<t){var A=l;while(A!=t&&k[A]!=13&&k[A]!=10){A++}if(k[l]==37&&k[l+1]==95&&k[l+2]==37)l+=2;if(k[l]==37&&(k[l+1]==37||k[l+1]==65)){var o=c.zV(k,l,A-l);
if(o=="%%EOF")break;if(o=="%%EndComments"||o=="%EndComments"||o=="%AI5_Begin_NonPrinting"||o=="%AI5_End_NonPrinting--"||o.startsWith("%AI17_Begin_Content_if_version_gt")||o=="%AI17_End_Versioned_Content"){}else{var O=o.indexOf("Begin"),x=Math.max(o.indexOf("_End"),o.indexOf("%End"));
if(O!=-1&&o[O-1]!="%"&&o[O-1]!="_")O=-1;if(O!=-1){var C=o.slice(O+5).split(":")[0],J={_begin:l,_end:l},q=Z[Z.length-1];
if(B.indexOf(C)!=-1){if(q[C]==null)q[C]=[];q[C].push(J)}else{if(q[C]!=null){console.log(Z);throw o}q[C]=J}Z.push(J);
if(o.startsWith("%%BeginData")){A=c.n9(k,"%%EndData",l)}else if(o=="%AI9_BeginDocumentData")A=c.n9(k,"%AI9_EndDocumentData",A);
else if(o=="%AI11_BeginTextDocument")A=c.n9(k,"%AI11_EndTextDocument",A)}else if(x!=-1){Z.pop()._end=l}else if(Z.length==1&&(o.startsWith("%AI")||o.startsWith("%%")&&o.indexOf(" ")!=-1)){var fd=1;
if(o.startsWith("%AI"))while(o[fd]!="_"&&fd<o.length)fd++;var w=o.indexOf(":");if(w==-1)w=o.indexOf(" ");
var P=o.slice(fd+1,w),fc=o.slice(w+1).trim();L.Header[P]=fc}}}l=A;if(k[l]==13)l++;if(k[l]==10)l++}return L}function i(k,B){var v=Date.now(),l=new Uint8Array(k),F,L=l[2]==68;
if(B)console.log(!L?"EPS":"PDF");if(L){var Z=c.n9(l,"/AIMetaData "),fh=!1,fJ=!1;while(l[Z]!=60)Z--;Z--;
var t=c.n9(l,">>",Z),A=c.zV(l,Z+2,t-Z-2).split("/"),o=[];for(var n=0;n<A.length;n++){var O=A[n],x=O.startsWith("AIPrivateData"),C=O.startsWith("AIPDFPrivateData");
if(!x&&!C)continue;var J=O.trim().split(/\s+/),q=parseInt(J[1]),fd=parseInt(J[0].slice(x?13:16));o.push([fd,q])}if(B)console.log("--- map made",Date.now()-v);
v=Date.now();var w=FromPDF.indexOfXref(l),P=[],fc=FromPDF.readXrefTrail(l,w,P),p={buff:l,off:0},gG=new Array(o.length),cF=Z;
for(var n=0;n<o.length;n++){var fd=o[n][0],q=o[n][1],j_=FromPDF.getIndirect(q,0,p,P),gY=j_.buff,kc=j_["/Filter"],el=0;
if(kc!=null&&typeof kc=="string")kc=[kc];var iN=c.zV(gY,el,el+20);if(iN=="%AI12_CompressedData"){el+=20;
fh=!0}else if(iN=="%AI24_ZStandard_Data"){el+=20;fJ=!0}gY=new Uint8Array(gY.buffer,gY.byteOffset+el,gY.length-el);
if(kc)for(var c$=0;c$<kc.length;c$++){var dB=kc[c$];if(dB=="/FlateDecode")gY=pako.inflate(gY);else if(dB=="/ASCIIHexDecode")gY=FromPS.F.HexDecode({buff:gY,off:0});
else if(dB=="/ASCII85Decode")gY=FromPS.F.ASCII85Decode({buff:gY,off:0});else throw dB}gG[fd-1]=gY}if(B)console.log("--- arrays found",Date.now()-v);
v=Date.now();var aL=c.zV(gG[0],0,13);if(aL=="%%BoundingBox"||aL=="%AI7_Thumbnai")gG=gG.slice(1);if(aL=="%AI24_ZStanda"){gG[0]=gG[0].slice(20);
fJ=!0}if(c.zV(gG[0],0,13)=="%AI12_Compres"){gG[0]=gG[0].slice(20);fh=!0}F=M(gG);if(B)console.log("--- concatenated",Date.now()-v);
v=Date.now();if(fh)F=UZIP.inflate(F);if(fJ)F=fH.oI.xk(F);if(B)console.log("--- inflated",Date.now()-v);
v=Date.now()}else{var aB=c.CA(l);if(aB.indexOf("%AI5_BeginLayer")!=-1){F=l}else{var f3=aB.split(/[\n\r]+/),jC=[],bc=!1;
for(var iA=0;iA<f3.length;iA++){var bL=f3[iA].trim();if(bL=="%AI9_PrivateDataEnd"){bc=!1;break}else if(bL=="%AI9_DataStream"||bL=="%AI24_DataStream"){bc=!0}else if(bc)jC.push(bL.slice(1))}var an=c.gl(jC.join("")),dp=FromPS.F.ASCII85Decode({buff:an,off:0});
if(dp[0]==120&&dp[1]==156)F=UZIP.inflate(dp);else F=fH.oI.xk(dp)}}return F}function M(k){var B=0,l=0;
for(var n=0;n<k.length;n++)B+=k[n].length;var v=new Uint8Array(B);for(var n=0;n<k.length;n++){var F=k[n];
v.set(F,l);l+=F.length}return v}function T(k,B){for(var n=0;n<B.length;n++)if(k.startsWith(B[n]))return!0;
return!1}function R(k){var B=[],v=[],top=-1,l,F=null,L=null,Z=null,t=0;for(var A=0;A<k.length;A++){var o=k[A];
if(l){o=l+o;l=null}var O="\t".repeat(B.length);if(F!=null){F.push(o);if(o.endsWith("~>")){var x=c.gl(F.join("")),C=FromPS.F.ASCII85Decode({off:0,buff:x});
B.push(C);v.push(!1);top++;F=null}}else if(Z!=null){if(o=="X+"){if(t==1){B.push(Z);v.push(!1);top++;
Z=null}else t--}else if(o=="X=")t++;else Z.push(o)}else if(L!=null){if(o=="/Def ; "){B.push(L);v.push(!1);
top++;L=null}else L.push(o)}else if(o=="/Binary : /ASCII85Decode ,"){F=[]}else if(o=="X="){Z=[];t++}else if(o=="/FillStyle : 0 O"){L=["0 O"]}else if(o=="/SVGFilter :"||o=="; /Def ;")continue;
else if(o.startsWith("/XMLUIDREF :")){var J=z(o);B[top][J[4]]=J[2]}else if(o.startsWith("/")&&o[1].toUpperCase()!=o[1].toLowerCase()){if(o.startsWith("/XMLUID")){var J=z(o);
if(v[top])throw"e";B[top][J[4]]=J[2]}if(o.startsWith("/GObjRef")){var J=z(o);if(J.length==7){if(v[top])throw"e";
B[top][J[5]]=J[2]}else{if(!v[top])throw"e";B[top].push(J[2])}}else{var q=o.startsWith("/Array")||o.startsWith("/Document");
B.push(q?[]:{});v.push(q);top++}}else if(o.endsWith(",")){var fd,w,J=z(o);J.pop();if(J[0]==";"||J.length==1||o==" ,"){w=B.pop();
v.pop();top--;fd=v[top]?null:J.pop()}else{fd=v[top]?null:J.pop();var P=J.pop(),fc=J[0];if(P=="/Int")w=parseInt(fc);
else if(P=="/Real")w=parseFloat(fc);else if(P=="/Bool")w=fc=="1";else if(P=="/String"||P=="/UnicodeString")w=J.join("");
else if(P=="/RealMatrix"||P=="/RealPoint"||P=="/RealPointRelToROrigin")w=J.map(parseFloat);else throw P}if(v[top])B[top].push(w);
else B[top][fd]=w}else if(o==";"){}else if(o==""){}else{if(o.indexOf("/RealPoint")!=-1){}else if(o.startsWith("(")&&o.endsWith(")")){}else if(o.endsWith("/RealMatrix")){}else throw o;
l=l?l+o:o}}return B}function z(k){var B=0,v=[];while(B<k.length){var l=k[B],F=l.charCodeAt(0);if(l==" ")B++;
else if(l==","||l==";"||l==":"){v.push(l);B++}else if(l=="("){var L=B+1;while(!(k[L]==")"&&k[L-1]!="\\"))L++;
var Z=k.slice(B+1,L);v.push(Z);B=L+1}else if(l=="/"||l=="-"||48<=F&&F<=57){var L=B;while(k[L]!=" ")L++;
v.push(k.slice(B,L));B=L}else throw l}return v}function G(k){var B="";for(var n=0;n<k.length;n++){if(k[n]=="_"&&k[n+1]=="x"){var fb=parseInt(k.slice(n+2,n+4),16);
B+=String.fromCharCode(fb);n+=4}else if(k[n]=="_")B+=" ";else B+=k[n]}return B}function V(k){var B="xmlnode-nodename",v="xmlnode-nodevalue",l="xmlnode-attributes",F="xmlnode-children",L=k[B],Z=k[l],t=k[F],A={_nam:L};
for(var o in Z){var O=Z[o];if(Object.keys(O[l]).length!=0||O[F].length!=0)throw"e";if(O[B]!=o)throw"e";
A[o]=O[v]}if(t.length==0)return A;var x=A.cln=[];for(var n=0;n<t.length;n++)x.push(V(t[n]));return A}function y(k){var B="xmlnode-nodename",v="xmlnode-nodevalue",l="xmlnode-attributes",F="xmlnode-children",L=k[B].split(":").pop().replace("#",""),Z=k[l],t=k[F],A="<"+L;
for(var o in Z)if(o!="xmlns"&&o!="xmlns:v")A+=" "+o.split(":").pop()+"=\""+Z[o][v]+"\"";A+=">"+(t.length==0?"":"\n");
for(var n=0;n<t.length;n++)A+=y(t[n]);if(k[v])A+=k[v];return A+"</"+L+">\n"}return r}();function hF(){}hF.ak=function(){var r,Q,W,b,X,H,u,s;
function D(l){return c.R4(r,l)}function h(l){return c.e2(r,l)}function S(l){return c.aN(r,l)}function a(l){return c.jH(r,l)}function K(l,F){var L=[];
for(var n=0;n<F;n++)L.push(S(l+n*4));return L}function Y(l,F){var L=[];for(var n=0;n<F;n++)L.push(D(l+n*8));
return L}function d(l){return S((l+1)*4096-12)}function j(l){return S((l+1)*4096-8)}function U(l,Q,F,L){if(b[l]==null)b[l]=[];
b[l].push([L,new Uint8Array(r.buffer,Q,F)])}function I(l,F,L,Z){var t=W[l],Q=t*4096;Q=Q+S(Q+4096-24-12-F*4);
var A=h(Q),o=r[Q+2],O=r[Q+3];if(F!=o)throw o;if(O==0)U(Z,Q+4,L,9);else{var x=h(Q+6),C=S(Q+8);U(Z,Q+12,A-12,9);
I(C,x,L-(A-12),Z)}}function f(){var l=S(352),F=S(l*4096+128),L=S(936);W=[];b={};X={};for(var n=0;n<1e9;
n++){var Z=S(L*4096+128+n*4);if(Z==0)break;var t=K(Z*4096+128,4096-128-12>>>2);W=W.concat(t)}for(var A=0;
A<W.length;A++){var o=W[A],O=d(o);if(O!=6)continue;var Q=o*4096,x=S(Q);Q+=4;for(var n=0;n<x;n++){var C=S(Q);
Q+=4;var J=S(Q);Q+=4;var q=S(Q);Q+=4;var fd=S(Q);Q+=4;if(C==0)X[J]=q;else{var w=q&65535,P=q>>>16;if(P==0)U(J,fd*4096,w,8);
else I(fd,P,w,J)}}}var H={};for(var fc in b){var p=b[fc],gG=p.length;if(gG==1)H[fc]=p[0][1];else{var fh=0,Q=0;
for(var n=0;n<gG;n++)fh+=p[n][1].length;var fJ=H[fc]=new Uint8Array(fh);for(var n=0;n<gG;n++){fJ.set(p[n][1],Q);
Q+=p[n][1].length}}}return H}function g(Q,l){var F=l?S(Q):h(Q),L="";Q+=l?4:2;while(L.length<F){var Z=r[Q++],t=r[Q++],A=0,o="";
Z+=(t&15)*256;t=t&240;for(var n=0;n<Z;n++){if(t==64)A=r[Q++];else if(t==128)A=r[Q++]|r[Q++]<<8;else throw t;
o+=String.fromCharCode(A)}L+=o}return[L,Q]}function _(Q,l,F){var L=K(Q,l);for(var n=0;n<l;n++){F.push(n);
if(L[n]>u)throw"e";L[n]=M(L[n],F);F.pop()}return L}var i={};function M(l,F){if(s.indexOf(l)!=-1)return H[l];
if(l==0)return null;if(H[l]==null)return null;if(!(H[l]instanceof Uint8Array))return H[l];var L=r,Q=0;
r=H[l];s.push(l);var Z=X[l].toString(16),t=H[l]={_type:v[Z]?v[Z]+":"+Z:"typ-"+Z,_eid:l};while(Q+8<r.length){var A=S(Q);
Q+=4;var o=A.toString(16),O=S(Q);Q+=4;var x=Q+O;if(Q+O>r.length){t._bin=r;break}T(o,V,t,Q,O,F);Q=x}r=L;
s.pop();return t}function T(l,F,L,Q,Z,t){var A=F[l+":"+L._type];if(A==null)A=F[l];t.push(A?A[0]==""?l:A[0]:l);
if(A){var o=A[0],O=null,x=A[1];if(o=="")o=x+"-"+l;if(k[x]&&Z!=k[x]){console.log(x);console.log(l,A);
console.log(r.slice(Q,Q+Z));throw"e"}if(x=="mat")O=Y(Q,6);else if(x=="mmat")O=[M(S(Q),t),Y(Q+6,6)];else if(x=="rect")O=Y(Q,4);
else if(x=="mrct"){O=Y(Q,4);O.push(h(Q+32))}else if(x=="doub")O=D(Q);else if(x=="pointArr"){var C=h(Q);
O=K(Q+2,C*2)}else if(x=="usrt")O=h(Q);else if(x=="uint")O=S(Q);else if(x=="pntr"||x=="ptr6"){O=M(S(Q),t)}else if(x=="bool2"){if(h(Q)!=0&&h(Q)!=1)throw h(Q);
O=h(Q)==1}else if(x=="bool4"){if(S(Q)!=0&&S(Q)!=1)throw l+","+S(Q);O=S(Q)==1}else if(x=="color"){if(Z!=38&&Z!=30)throw Z;
var J=S(Q),q=h(Q+4);O=[J];for(var n=0;n<q;n++)O.push(D(Q+6+n*8))}else if(x=="path"){var fd=Q+Z;O=[];
var w=S(Q);Q+=4;for(var n=0;n<w;n++){var P=[[]];O.push(P);var fc=S(Q);Q+=4;for(var p=0;p<fc;p++){var J=S(Q);
Q+=4;if(J<2){P[0].push([J,D(Q),D(Q+8),D(Q+16),D(Q+24),D(Q+32),D(Q+40)]);Q+=48}else if(J==2){P[0].push([J,D(Q),D(Q+8)]);
Q+=16}else throw J}P.push(h(Q));Q+=2}}else if(x=="ptrAndList"){var gG=S(Q),fh=S(Q+4);O=_(Q+8,fh,t);O.unshift(M(gG,t))}else if(x=="ptrArray"||x=="ptrArrayX"){var fJ=Z>>2;
if(x=="ptrArray"){fJ=S(Q);Q+=4;if(Z!=4+fJ*4)throw Z}O=_(Q,fJ,t)}else if(x=="ptrArray2"){var fJ=S(Q);
Q+=4;O=_(Q,fJ,t);Q+=fJ*4;fJ=S(Q);Q+=4;O.push(_(Q,fJ,t))}else if(x=="cldrn"){var cF=S(Q),j_=S(Q+4),fJ=S(Q+8);
O={c:M(cF,t),oU:M(j_,t),V6:_(Q+12,fJ,t)};if(Z!=12+fJ*4){console.log(l,sa);throw"e"}if(cF==0)throw cF}else if(x=="aprnc"){var fJ=S(Q);
Q+=4;O={};for(var n=0;n<fJ;n++){var gY=S(Q),kc=h(Q+4),el=h(Q+6);Q+=8;var iN=B[gY.toString(16)];if(iN==null)iN="prm-"+gY.toString(16);
else iN=G(iN);O[iN]=[];for(var p=0;p<el;p++){var c$=S(Q),dB=h(Q+4),aL=null;Q+=6;if(c$==28264)aL=D(Q);
else if(c$==28263)aL=S(Q);else if(c$==279)aL=M(S(Q),t);else if(c$==28261)aL=h(Q)==1;else if(c$==28265)aL=[D(Q),D(Q+4)];
else if(c$==83231)aL=g(Q+3)[0];else if(c$==28259||c$==28260||c$==23094||c$==67679){aL=r.slice(Q,Q+dB)}else throw c$.toString(16);
O[iN].push(aL);Q+=dB}}}else if(x=="lopts"){O={au6:h(Q+0)==1,show:h(Q+2)==1,a82:h(Q+4)==1,Gt:S(Q+10),name:g(Q+21)[0]}}else if(x=="origin"){var fd=Q+Z;
if(r[Q++]!=1)throw"e";var C=S(Q);Q+=4;var aB=c.zV(r,Q,C);Q+=C;if(r[Q++]!=1)throw"e";var f3=r[Q++];if(f3!=1&&f3!=53)throw f3;
var jC=h(Q);Q+=2;if(jC!=0&&jC!=1)throw jC;var bc=S(Q);Q+=4;if(bc!=0&&bc!=1)throw bc;var iA=S(Q);Q+=4;
if(iA!=0&&iA!=2&&iA!=3)throw iA;var bL=S(Q);Q+=4;var an=g(Q,!0);Q=an[1];an=an[0];var dp=S(Q),im=S(Q+4);
Q+=8;var a5=S(Q);Q+=4;if(a5!=0)throw a5;var bg=S(Q);Q+=4;Q+=3;var fM=g(Q)[0];Q+=2+2+fM.length;O={file:aB,id:an,IL:fM}}else if(x=="string")O=g(Q+3)[0];
else if(x=="relEnt"){var eT=h(Q);Q+=2;O=[];for(var n=0;n<eT;n++)O.push([S(Q+n*8),M(S(Q+n*8+4),t)])}else if(x=="textData"){var fd=Q+Z,ev=S(Q);
Q+=4;var gY=S(Q);Q+=4;var q=h(Q);Q+=2;var fU=[];for(var n=0;n<q;n++){var e8=S(Q);Q+=4;if(ev==514)fU.push(g(Q,!0)[0]);
else if(ev==515){var ej=S(Q),l=S(Q+4),fV=R(Q+8,t);fU.push([ej,M(l,t),fV])}else if(ev==516){var ej=S(Q),l=S(Q+4),he=h(Q+8),fV=R(Q+8,t);
fU.push([ej,M(l,t),fV])}else fU.push(r.slice(Q,Q+e8));Q+=e8}if(fd-Q!=12)throw fd-Q;O=fU}else if(x=="storyProps"){var gZ=S(Q);
if(h(Q+4)>1)throw"e";var hQ=M(S(Q+6),t),q=S(Q+10),aJ=M(S(Q+14+q*4),t);O={arL:gZ,auR:hQ,V6:_(Q+14,q,t),a91:aJ,arK:K(Q+14+q*4+4,4)}}else if(x=="styleProps")O=R(Q,t);
else if(x=="bounds"){var cs=Q,eT=S(Q);Q+=4;O=[];for(var n=0;n<eT;n++){var fN=[];O.push(fN);for(var p=0;
p<4;p++)fN.push(D(Q+p*8));Q+=32;fN.push(r[Q]);Q++}if(Q!=cs+Z)throw"e"}else if(x=="columnPos"){var eT=S(Q);
Q+=4;O=[Y(Q,eT),D(Q+eT*8)];Q+=eT*8+8}else if(x=="StyleName"){O=[S(Q+4)]}else if(x=="fontName"){var fd=Q+Z;
O=[h(Q)];Q+=2;for(var n=0;n<2;n++){var aB=g(Q+3);Q=aB[1];O.push(aB[0])}O.push(S(Q));Q+=4;var j4=h(Q);
Q+=2;O.push(j4);var hL=h(Q);Q+=2;var fv=[];O.push(fv);for(var al=0;al<hL;al++){var dD=[];fv.push(dD);
var aB=g(Q+3);Q=aB[1];dD.push(aB[0]);var kd=h(Q);Q+=2;var aB=c.zV(r,Q,kd);Q+=kd;dD.push(aB);for(var n=0;
n<3;n++){var aB=g(Q+3);Q=aB[1];dD.push(aB[0])}dD.push(S(Q));Q+=4;var aB=g(Q,!0);Q=aB[1];dD.push(aB[0])}if(Q+4!=fd)throw"e";
O.push(S(Q))}else throw x;if(L[o]!=null){console.log(o,L[o],O);console.log(t.slice(0));console.log(eid,l,Q,L[o],A,O);
throw"e"}L[o]=O}else{var gv=r.slice(Q,Q+Z);L["prop-"+l]=gv}t.pop()}function R(Q,l){var F=h(Q);Q+=2;var L={};
for(var n=0;n<F;n++){var Z=S(Q);Q+=4;var t=Z.toString(16),A=h(Q);Q+=2;var o=h(Q);Q+=2;for(var O=0;O<o;
O++){var x=S(Q);Q+=4;var C=h(Q);Q+=2;T(t,y,L,Q,C,l);Q+=C}}return L}function z(l){r=new Uint8Array(l);
H=f();var F=H[2147483649];F=c.CA(F,4,F.length-4);delete H[2147483649];u=0;for(var L in H)u=Math.max(u,parseInt(L));
s=[];var Z={};for(var L in H)Z[L]=H[L];for(var L in H)M(parseInt(L),[]);return H}function G(l){l=l.split(" ").join("");
return l[0].toLowerCase()+l.slice(1)}var V={"2d2":["","bool2"],"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"118":["","uint"],"119":["bitmap","uint"],"117":["","uint"],"117:Page:50f":["color","pntr"],"117:Fill:1f05":["parentFill","pntr"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],a6b:["trapPreset","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"205":["columns","ptrAndList"],"220":["obj228","ptrAndList"],"2ab":["story","ptrArrayX"],"302":["layer","ptr6"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"51a":["margins","mrct"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"140f":["mTransform","mmat"],"14527":["transform","mat"],"528":["columnPos","columnPos"],"261":["relEnt","relEnt"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"3e05":["name","fontName"],"20f":["","ptrArrayX"],"210":["","ptrArrayX"],"211":["","ptrArrayX"],"222":["stories","ptrArray2"],"223":["stoProps","storyProps"],"23f":["styProps","styleProps"],"2c6b":["bounds","bounds"],"230":["name","StyleName"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["textFrames","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},y={"1b01":["fillColor","pntr"],"1b02":["fontStyle","string"],"1b03":["FontSize","doub"],"1b11":["FontCaps","usrt"],"1b16":["StartIndent","doub"],"1b17":["EndIndent","doub"],"1b18":["FirstLineIndent","doub"],"1b1b":["leading","doub"],"1b26":["SpaceBefore","doub"],"1b27":["SpaceAfter","doub"],"1b2a":["Underline","bool2"],"1b2b":["font","pntr"],"1b3c":["FontBaseline","usrt"],"1b3d":["Strikethrough","bool2"],"1b7e":["align","usrt"]},k={mmat:54,mat:48,mrct:34,rect:32,doub:8,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2,usrt:2},B={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Object Drop Shadow","1081f":"Object Drop Shadow Blending Mode","10837":"Object Drop Shadow Color","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1084d":"Object Inner Shadow","1084f":"Object Inner Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length","14534":"name"},v={e01:"Document","301":"RESpread","236":"REParStyle","302":"Layer","401":"Group","501":"Spread","50f":"Page","227":"Column","201":"Story","205":"Style","263":"TextFrame",a32:"Trapping","1f05":"Fill","3e03":"Font","6201":"Path",ca18:"StoryText"};
return z}();function a3(){}a3.ak=function(){var r=0;function Q(K,Y){var d=hF.ak(K),G=1;r=0;var j=d[1],U=j.spreads,I=[],f=new aV;
for(var g=0;g<U.length;g++){var H=U[g],u=H.children.V6,s=b(H),_=u[0].children.V6,i=new aV;for(var M=0;
M<_.length;M++){var T=_[M],R=b(T);R.concat(s);var z=W(T);z.offset(R.rn,R.NQ);z=E.p.jq(z);i=i.Bc(z)}I.push(i);
f=f.Bc(i)}while(Math.sqrt(f.O())*G<1e3)G++;Y.e=f.e*G;Y.n=f.n*G;Y.buffer=new Uint8Array(4*Y.e*Y.n);Y.Vo=!0;
Y.dQ(U.length);for(var g=0;g<U.length;g++){var H=U[g],u=H.children.V6,V=Y.b_();V.KX=24;V.add.lsct=d1.O9;
V._J("Artboard "+(g+1));var y=I[g].clone();y.offset(-f.x,-f.y);y.x*=G;y.y*=G;y.e*=G;y.n*=G;y=E.p.jq(y);
V.NG(y);V.iX="pass";Y.B.push(Y.Tz());var s=b(H);s.translate(-f.x,-f.y);s.scale(G,G);var k={};for(var B=0;
B<u.length-1;B++){var v=u[B],l=v.children.V6,F=Y.b_(),L=v.layer.lopts;if(L.name=="Internal_pages_layer_name"||k[L.name])continue;
k[L.name]=!0;F.KX=24;F.add.lsct=d1.O9;F._J(L.name);F.ky(L.show);if(L.au6)F.add.lspf=1<<31;F.iX="pass";
Y.B.push(Y.Tz());for(var n=0;n<l.length;n++)h(l[n],Y,s,d);Y.B.push(F)}Y.B.push(V)}}function W(K){var Y=K.rect;
return new aV(Y[0],Y[1],Y[2]-Y[0],Y[3]-Y[1])}function b(K){var Y=K.transform;return new au(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5])}function X(K){var Y=K.color,d=K.parentFill,U;
if(Y==null&&d)Y=d.color;if(Y==null){console.log("strange color",K);return[0,0,0]}var j=Y[0];if(j==5)U=Y.slice(1);
else if(j==6)U=UDOC.C.cmykToRgb(Y.slice(1));else if(j==7){var I=E.BN(Y[1],Y[2],Y[3]);U=[I.o/255,I.W/255,I.k/255]}else{console.log(Y);
throw j}return U}function D(K,Y){var n=0,d=0;while(d+K[n][0]<=Y){d+=K[n][0];n++}K=K[n][1].textData;n=0;
while(d+K[n][0]<=Y){d+=K[n][0];n++}return K[n]}function h(K,Y,d,j){var U=K.transform?b(K):new au;U.concat(d);
d=U;var I=K.path,f=K.appearance,g=K.visible,H=K.children?K.children.V6:null,u=Y.b_();if(g!=null)u.ky(g);
var s=H&&H.length==1&&H[0].bitmapFill,_=K["bool2-1623"]&&H&&H.length==1&&H[0].rect&&H[0]._type.startsWith("TextFrame");
if(s){u._J("bitmap");var i=H[0],M=W(i),T=b(i);T.concat(d);var R=i.bitmapFill.bitmap;R=j[R]._bin;if(R.length!=R.buffer.byteLength)R=R.slice(0);
var z=Y.jS(R,"img.jpg",0,0);z.KX=u.KX;u=z;var G=[0,0,M.e,0,M.e,M.n,0,M.n];E.p.D(G,T,G);u.add.SoLd.Trnf=m.EA.Aa(G);
u.add.SoLd.nonAffineTransform=m.EA.Aa(G);u.vd(Y,!1);var V=i.path;if(V&&V.length!=0)u.add.vmsk=a(V,T,f);
else if(I&&I.length!=0)u.add.vmsk=a(I,d,f);u.P7();u.hR(Y)}else if(_){if(f&&f.strokeSwatch){var y=Y.b_();
S(y,Y,f,I,d);Y.B.push(y)}var k=H[0],M=W(k),T=b(k),P=0;T.concat(d);var B=k.children.V6[0],v=B.obj228,l=v[0].story[1],F=l.stoProps.auR.relEnt,L=l.stoProps.V6[0].relEnt,Z=l.stoProps.V6[1]["ptrArrayX-210"][0].textData,t=j[F[0][1].textData[0][1].name[0]],A=t?t.styProps:{};
Z=Z.join("").replace(/\r/g,"\n");var o=-1;while((o=Z.indexOf("\uFFFC"))!=-1){Z=Z.slice(0,o)+(Z[o-1]=="\n"?" ":" ")+Z.slice(o+1)}u._J(Z.slice(0,255));
u.add.lnsr="rend";u.add.TySh=aH.M6(0,0);u.add.TySh.$C=M;u.add.TySh.D=T;var O=u.add.TySh.kN;aH.ig(O,0,Z);
var x=aH.Z2(O,0,Z.length);x.jr.FontSize=10;aH.Yf(O,0,Z.length,x);var C=[];if(Z.length!=0){var J=D(F,0),q=D(L,0),fd=1;
for(var n=1;n<Z.length;n++){var I=D(F,n),w=D(L,n);if(I!=J||w!=q){C.push(fd);fd=0}J=I;q=w;fd++}if(fd!=0)C.push(fd)}for(var n=0;
n<C.length;n++){var fc=D(L,P),p=C[n],gG=Math.min(P+p,Z.length-1),fh=fc[2],fJ=fc[1].styProps;if(fJ==null)fJ={};
var cF=D(F,P),j_=cF[1].styProps,gY=cF[2],kc={};for(var el in A)kc[el]=A[el];for(var el in j_)kc[el]=j_[el];
for(var el in gY)kc[el]=gY[el];for(var el in fJ)kc[el]=fJ[el];for(var el in fh)kc[el]=fh[el];var x=aH.Z2(O,P,gG),iN=["FontSize","FontCaps","Underline","Strikethrough","FontBaseline"],c$=iN.concat(["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"]);
for(var dB=0;dB<c$.length;dB++){var el=c$[dB],aL=dB<iN.length?x.jr:x.GG;if(kc[el]!=null)aL[el]=kc[el]}if(kc.fillColor){var aB=X(kc.fillColor);
x.jr.FillColor={Type:1,Values:[1].concat(aB)}}if(kc.font){var f3=kc.font.name[5],jC=kc.fontStyle;if(jC==null)jC="Regular";
for(var bc=0;bc<f3.length;bc++)if(f3[bc][0]==jC)aH.Oz(x,f3[bc][1])}if(kc.leading!=null&&kc.leading>1){x.jr.Leading=kc.leading;
x.jr.AutoLeading=!1}if(kc.align!=null)x.GG.Justification=[0,2,1,6,3,5,4,0,0,0][kc.align];aH.Yf(O,P,gG,x);
P+=p}aH.GK(O,1);aH.Ad(O,[0,0,Math.round(M.e),Math.round(M.n)])}else if(K._type.startsWith("Path")&&(H==null||H.length==0)&&I){S(u,Y,f,I,d)}else{var iA=K["prop-14526"];
if(H==null&&iA){var bL=j[c.aN(iA,20)];H=[bL]}if(H){if(I&&I.length!=0){u.add.vmsk=a(I,d,f);u.P7();u.hR(Y)}u._J("group");
u.KX=24;u.add.lsct=d1.O9;Y.B.push(Y.Tz());for(var n=0;n<H.length;n++)h(H[n],Y,d,j)}}if(f){var an=f.objectBlendingMode,dp=f.objectOpacity,im=f.fillTint;
if(an)u.iX="norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",")[an[0]];
if(dp)u.opacity=Math.round(u.opacity*dp[0]/100);if(!s&&im)u.opacity=Math.round(u.opacity*im[0]/100)}if(K.name)u._J(K.name);
else if(f&&f.name)u._J(f.name[0]);Y.B.push(u)}function S(K,Y,d,j,U){K._J("path");K.KX|=16;var I=K.add.vstk=JSON.parse(JSON.stringify(iq.pN.default)),f=[0,0,0];
if(d){var g=d.strokeSwatch,H=d.fillSwatch,u=d.strokeWeight;I.strokeEnabled.v=g!=null;I.fillEnabled.v=H!=null;
if(g){I.strokeStyleLineWidth.v.val=u?u[0]:1;f=X(g[0]);I.strokeStyleContent.v.Clr.v=E.M.rY({o:f[0]*255,W:f[1]*255,k:f[2]*255})}if(H){f=X(H[0])}}K.add.SoCo={classID:"null",Clr:{t:"Objc",v:E.M.rY({o:f[0]*255,W:f[1]*255,k:f[2]*255})}};
K.add.vmsk=a(j,U,d);K.P7();K.hR(Y)}function a(K,Y,d){var j=new $.vL,U=j.V;for(var I=0;I<K.length;I++){var f=K[I],g=f[0].length,H=f[1]==0,u=H?0:3;
U.push({type:u,length:g,xo:0,bu:2,jM:0,eV:0});for(var n=0;n<g;n++){var s=f[0][n],_=s[0],i=new cp(s[1],s[2]),M=new cp(s[3],s[4]),T=new cp(s[5],s[6]);
if(_==0||_==1)U.push({type:u+2,f0:i,F:M,rP:T});else if(_==2)U.push({type:u+2,f0:i,F:i,rP:i});else throw _}}E.A.Zl(U,Y);
return j}return Q}();var m={};m.i=function(r){return window.devicePixelRatio||1};m.vq=function(r,Q){return(Q.auc=="touch"?12:8)*m.i()/r.u._};
m.y6=function(r,Q,W){this.name=r;this.id=Q;this.OD=null;if(W!=null)this.$d=W};m.y6.prototype.IU=function(r,Q,W,b,X){};
m.y6.prototype.enable=function(r,Q,W,b,X,D){var h=new km(e.E.L,!0);h.data={d:e.c.gc,LG:"default"};Q.$(h)};
m.y6.prototype.disable=function(r,Q,W,b,X){};m.y6.prototype.a8d=function(r,Q,W,b,X){return!1};m.y6.prototype.pZ=function(r,Q,W,b,X){};
m.y6.prototype.Mb=function(r,Q,W,b,X){};m.y6.prototype.Dc=function(r,Q,W,b,X){};m.y6.prototype.$v=function(r,Q,W,b,X,D){};
m.y6.prototype.Rc=function(r,Q,W,b,X){};m.y6.prototype.tf=function(r,Q,W,b){};m.y6.prototype.Wq=function(r,Q,W,b){};
m.y6.prototype.e4=function(r,Q){};m.y6.prototype.Zm=function(r,Q){};m.y6.prototype.Ew=function(r,Q,W,b,X){};
m.y6.prototype.VJ=function(r,Q){};m.y6.prototype.qy=function(r,Q){return!1};m.y6.prototype.YK=function(r,Q){return!1};
m.y6.prototype.ND=function(){return!1};m.y6.prototype.xZ=function(r,Q){return!0};m.y6.prototype.$Q=function(){return null};
m.y6.prototype.s_=function(r,Q,W){};m.y6.prototype.awY=function(){return!1};m.y6.prototype.C9=function(r,Q,W,b){};
m.y6.prototype.track=function(r){var Q=new km(e.E.Kk,!0);Q.data=r;r.lU=!0;this.OD.$(Q)};m.y6.FD=function(r,Q,W,b){var X=10*m.i()*(r.auc=="touch"?2:1),D=r.x+X,h=r.y-X,S=E.iZ.HE(Q.e,W.HW,b,W.e,!0),a=E.iZ.HE(Q.n,W.HW,b,W.n,!0);
while(S.length<a.length)S=" "+S;while(S.length>a.length)a=" "+a;m.y6.jD(D,h,[aA.get([12,41]).charAt(0)+": "+S,aA.get([12,42]).charAt(0)+": "+a],W)};
m.y6.jD=function(r,Q,W,b){function X(K,f,g,H,u,s){K.beginPath();K.moveTo(f,g+s);K.arcTo(f,g+u,f+s,g+u,s);
K.arcTo(f+H,g+u,f+H,g+u-s,s);K.arcTo(f+H,g,f+H-s,g,s);K.arcTo(f,g,f,g+s,s)}var D=m.i(),h=Math.round,S=h(11*D),a=m.y6.anq,Y=0;
if(a==null)a=m.y6.anq=document.createElement("canvas");var K=a.getContext("2d");K.font=S+"px monospace";
for(var n=0;n<W.length;n++)Y=Math.max(Y,K.measureText(W[n]).width);var d=h(Y+12*D),j=h((W.length*14+5)*D),U=new aV(r,Q-j,d,j);
if(a.width!=d||a.height!=j){a.width=d;a.height=j;K.font=S+"px monospace"}K.clearRect(0,0,d,j);K.fillStyle="rgba(0,0,3,0.8)";
X(K,0,0,d,j,h(4*D));K.fill();K.fillStyle="rgba(255,255,255,1)";for(var n=0;n<W.length;n++)K.fillText(W[n],h(6*D),h((n+1)*13*D));
var I=[K.getImageData(0,0,d,j).data,U.clone()];if(b)b.g.Ql=[I];return I};m.y6.anq=null;m.$t="0";m.iW="1";
m.awS="2";m.ajZ="3";m.qL="5";m.a0M="6";m.a89="7";m.cj="8";m.uS="9";m.nk="10";m.Dz="11";m.ds="12";m.Hq="13";
m.ya="14";m.pC="16";m.wO="18";m.Z8="19";m.lj="20";m.Hi="21";m.i9="22";m.Yu="23";m.sE="24";m.kz="25";
m.Rr="27";m.Ik="31";m.akW="32";m.ahi="34";m.ar_="35";m.cU="36";m.Fg="37";m.rJ="38";m.DH="39";m.EH="40";
m.uo="41";m.zv="42";m.wT="43";m.abm="44";m.st="47";m.gb="48";m.RJ="51";m.u9="52";m.aK="54";m.Xc="55";
m.vj="56";m.PL="57";m.EI="58";m.vA="59";m.LT="60";m.W9="61";m.YP="70";m.YO="100";m.f8="101";m.Uj="102";
m.K1="103";m.WP="120";m.G9="230";m.a3N="231";m.sp="232";m.M0="233";m.Wg="234";m.tQ="235";m.Op="236";
m.a61=function(r){var Q=m.uL,W=null;for(var b in Q)if(Q[b][1].indexOf(r[1].classID)!=-1)W=b;return W};
m.uL={};m.uL[m.Yu]=["tools/brush",["PbTl"]];m.uL[m.sE]=["tools/pencil",["PcTl"]];m.uL[m.Ik]=["tools/eraser",["ErTl"]];
m.AZ=function(r,Q,W){m.y6.call(this,r,Q,W);this.zi={brush:r?eW.X6():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.Ha=null;this.dU=null;this.lO=null;this.mV=null;this.XN=null;this.uf=null;this.r8=null;this.oR=null;
this.Va=null;this.KQ=null;this.GR=null;this.mo=null;this.vW=null;this.nO=1;this.Zr=!1;this.b9=null;this.caller=null};
m.AZ.prototype=new m.y6;m.AZ.prototype.YK=function(r,Q){return r.hY&&Q.j(h8.NN)};m.AZ.prototype.Mb=function(r,Q,W,b,X){if(b.j(h8._I)){this.uf=new cp(X.x,X.y);
var D=this.zi.brush.Brsh.v,h=D.Dmtr.v.val,S=D.Hrdn!=null?D.Hrdn.v.val:-1;this.r8=[h,S,!0,JSON.parse(JSON.stringify(this.zi.brush)),X];
this.SN(W)}};m.AZ.prototype.Dt=function(r,Q,W){var b=this.r8,X=r.u._,D=W.x-b[4].x,h=W.y-b[4].y,S=b[0],a=b[1],K=Math.abs(D)>Math.abs(h);
if(K&&b[2]){var Y=Math.round(2*D/X);S+=Y;W.x-=D-.5*Y*X}if(!K&&!b[2]&&a!=-1){var Y=Math.round(.25*h);
a+=Y;W.y-=h-4*Y}S=Math.max(1,S);a=b[1]==-1?-1:Math.max(0,Math.min(100,a));var d=b[3];d.Brsh.v.Dmtr.v.val=S;
if(a!=-1)d.Brsh.v.Hrdn.v.val=a;this.r8=[S,a,K,d,W];var j=hS.bd(d,Q.bY.I_,X),U=j[1];U.x=Math.round(this.uf.x-U.e/2);
U.y=Math.round(this.uf.y-U.n/2);r.g.Ii=[j];var I=r.u.GF(this.uf.x,this.uf.y);r.g.YZ={t0:[],BV:[I.x-S/2,I.y,I.x+S/2,I.y]};
if(a!=-1)r.g.YZ.BV.push(I.x+50/X,I.y-a/2,I.x+50/X,I.y+a/2);r.a9=!0};m.AZ.prototype.Rc=function(r,Q,W,b,X){if(this.id==m.lj||this.id==m.Hi)return;
if(this.uf){this.uf=null;this.zy(JSON.parse(JSON.stringify(this.r8[3])));r.g.Ii=[];r.g.YZ=null;r.a9=!0;
return}var D=new km(e.E.L,!0);D.data={d:e.c.bp,b:this.id,a27:"showBrushOpts",t4:new cp(X.e7+4,X.ID)};
Q.$(D)};m.AZ.prototype.zy=function(r){var Q=new km(e.E.L,!0);Q.data={d:e.c.bJ,Lb:d4.FY,Z$:r};this.caller.$(Q)};
m.AZ.Sj=function(r,Q,W,b,X,D){if(r==null)r="FrgC";if(Q==null)Q="norm";if(W==null)W=1;if(X==null)X=!1;
var h={classID:"Fl",Usng:{t:"enum",v:{FlCn:r}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(W*100)}},PrsT:{t:"bool",v:X},Md:{t:"enum",v:{BlnM:hG.Ra(Q)}}};
if(r=="Clr")h.Clr={t:"Objc",v:b};if(r=="contentAware")h.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(r=="Ptrn")h.Ptrn={t:"Objc",v:D};return{r7:"fill",Hf:h}};m.AZ.prototype.IU=function(r,Q,W,b,X){this.OD=Q;
var D=W.Qw.length;if(D==0&&!W.P2())return;var h=D!=0?-1-W.Qw[0]:W.I[0],S=W.B[h];if(r.d=="fromAction"){var a=r.Jb,K=a.Hf;
if(K&&K.null&&K.null.v[0]&&K.null.v[0].v.classID=="Path"){var Y=W.tt(),d=Y[0],j=Y[1],U=d[j.length==0?0:j[0]].add.vmsk;
if(a.r7=="fill"){var I=U.SS(),f=X.V8,g=this.zi,H=f>>16&255,u=f>>8&255,s=f>>0&255;this.uV(W,S,I,H,u,s,Math.round(g.opacity*255),g.bmode,"Fill Path")}else{for(var _=0;
_<1e3;_++){var i=E.A.ka(U.V,_,!0);if(i==-1){this.$v(W,Q,X,b,null);break}var M=U.V[i],T=U.V.slice(i,i+1+M.length),R=E.p.Mf(T,!0).C,z=R.slice(0,8);
for(var G=8;G<R.length;G+=6)z.push(R[G-2],R[G-1],R[G],R[G+1],R[G+2],R[G+3],R[G+4],R[G+5]);var V={};V.Points=z;
V.TextOnPathTRange=U.Sp.slice(0);var V=gH.gi(V,2),y=V[0];if(_==0)this.pZ(W,Q,X,b,W.u.Au(y[0],y[1]));
else this.dU.moveTo(y[0],y[1]);for(var n=2;n<y.length;n+=2){var k=W.u.Au(y[n],y[n+1]);k.hY=!0;this.Dc(W,Q,X,b,k,this.zi.flow)}}}}else if(a.r7=="fill"){var B=K.PrsT?K.PrsT.v:!1,v=S?S.add.lspf:0;
if(B&&S){S.add.lspf=v==null?1:v|1}var l=(K.Opct?K.Opct.v.val:100)/100,F=K.Md?hG.g9(K.Md.v.BlnM):"norm",L=K.Usng.v.FlCn;
if(L=="contentAware"){if(W.P==null){alert("Select an area to heal first.");return}if(!W.P2())return;
this.nl(W);this.o0(W,0);var Z=W.P,t=E.Q(Z.rect.O()*4);E.nV(Z.channel,t,3);this.wr(W,"sheal",t,Z.rect,Z.rect);
this.U(W,Z.rect);this.finish(W,Z.rect)}else if(L=="Ptrn"){var A=X.LB,o=W.P?W.P.rect.clone():new aV(0,0,W.e,W.n),O=E.Q(o.O()*4);
iI.iF(K,O,o,A,new cp(0,0));this._D(W,S,W.P,O,"norm",[6,48,0,2])}else{var f;if(L=="FrgC")f=X.V8;else if(L=="BckC")f=X.tB;
else if(L=="Blck")f=0;else if(L=="Wht")f=16777215;else if(L=="Gry")f=8421504;else if(L=="Clr"){var x=E.M.vf(K.Clr.v);
f=x.o<<16|x.W<<8|x.k}var H=f>>16&255,u=f>>8&255,s=f>>0&255;this.uV(W,S,W.P,H,u,s,Math.round(255*l),F,[2,3])}if(B&&S){S.add.lspf=v==null?0:v}}else if(a.r7=="delete"){var C=h<0?1:S.L$,Z=W.P,w;
if(Z==null)return;var J=h<0?W.Ev[-h-1]:C<=0?null:C==1?S.SS():S.Xg(W).z,o=C<=0?S.rect:J.rect,q=C<=0?Z.rect.ww(o):Z.rect.clone();
if(q.WB())return;var fd=q.O();if(C<=0){w=E.Q(fd*4);E.TU(S.buffer,S.rect,w,q)}else{w=E.Q(fd);J.extend(q);
E.L0(J.channel,J.rect,w,q)}if(0<=h&&S.vJ(W,Z)){if(C<=0){E.tl(w,0);E.TU(S.f7.Wr,S.f7.a$,w,q)}else{w.fill(255);
E.L0(S.f7.Wr,S.f7.a$,w,q)}}else{if(C<=0){var P=E.Q(w.length>>2);E.TX(w,P,3);E.q.ml(E.lk(Z.rect.O()),Z.rect,P,q,Z.channel,q,1);
E.nV(P,w,3)}else{var fc=E.Q(Z.rect.O()),H=X.tB>>>16&255,u=X.tB>>8&255,s=X.tB>>0&255;fc.fill(Math.round(E.f_(H,u,s)));
E.q.ml(fc,Z.rect,w,q,Z.channel,q,1)}}this.EU(W,!0,[2,2],h,C,q,w)}}if(r.d=="stroke"){var p=r.a9t,Z=W.P;
if(Z==null){Z={rect:S.rect.clone(),channel:E.Q(S.rect.O())};E.TX(S.buffer,Z.channel,3)}var gG=iI.No(p),fh=m.to.a1c(Z,Math.ceil(gG[0]),Math.ceil(gG[1])),f=E.M.vf(p.Clr.v),H=Math.round(f.o),u=Math.round(f.W),s=Math.round(f.k);
this.uV(W,S,fh,H,u,s,Math.round(255*p.Opct.v.val/100),hG.g9(p.Md.v.BlnM),[14,9])}if(r.d=="fillBMP"){this._D(W,S,W.P,r.hc,r._B,r.Cv)}if(r.d=="draw"){var fJ=r.Sv,cF=fJ.rect;
this.nl(W);var j_=W.B[W.I[0]];if(r.ahS&&j_&&j_.L$<=0&&W.Qw.length==0){cF=m.t6.aks(fJ,W);j_.buffer=fJ.buffer.slice(0);
j_.rect=cF.clone()}else{var gY=this.zi.bmode;this.zi.bmode="norm";this.wr(W,"draw",fJ.buffer,cF,cF.ww(new aV(0,0,W.e,W.n)));
this.zi.bmode=gY}this.U(W,cF);W.yV=!0;this.finish(W,cF,r.Cv,r.ahS)}};m.AZ.prototype.uV=function(r,Q,W,b,X,D,h,S,a){var K=W==null?new aV(0,0,r.e,r.n):W.rect,Y=h<<24|D<<16|X<<8|b<<0,d=E.Q(K.O()*4);
E.tl(d,Y);this._D(r,Q,W,d,S,a)};m.AZ.prototype._D=function(r,Q,W,b,X,D){var h=r.Qw.length!=0?-1-r.Qw[0]:r.I[0],S=h<0?1:Q.L$,a=h<0?r.Ev[-1-h]:S<=0?null:S==1?Q.SS():Q.Xg(r).z,K=S<=0?Q.rect:a.rect,Y=W==null?new aV(0,0,r.e,r.n):W.rect,d=W==null?E.MX(r.e*r.n):W.channel,j=Y.O(),U,I=null;
if(S<=0){U=E.Q(j*4);E.TU(Q.buffer,Q.rect,U,Y)}else{U=E.Q(j);a.extend(Y);E.L0(a.channel,a.rect,U,Y)}if(W!=null)E.DJ(d,b);
if(S>0){I=E.Q(j);E.Ou(b,I)}if(0<=h&&W&&Q.vJ(r,W)){var f=Q.f7.y7,g=Q.f7.y7.slice(0);if(S<=0)E.qr(b,g);
else E.qr(I,g);var H=new c2([2,3],this);H.data={d:"drawtemp",l:r.I[0],TN:S,axI:f,avo:g};r.C1(H);this.e4(H.data,r)}else{if(S<=0){var u;
if(Q.RV(0)){u=E.Q(Y.O());E.TX(U,u,3)}E.q.YB(X,b,Y,U,Y,Y,1);if(Q.RV(0))E.nV(u,U,3)}else E.q.ml(I,Y,U,Y,d,Y,1);
this.EU(r,!0,D,h,S,Y,U)}};m.AZ.prototype.qy=function(r){if(h8.Np.indexOf(r)!=-1)return!0;return!1};m.AZ.prototype.tf=function(r,Q,W,b){var X=this.zi.brush,D=b.j(h8._I),h=D!=this.Zr,S=m.AZ.J_(X,b);
if(S!=null)this.zy(S);if(!b.j(h8.DS)&&b.Jr()!=-1){var a=h8.rr(Math.round(this.zi.opacity*100),b.Jr())/100;
this.cz({opacity:a},Q)}if(this.id==m.cj&&h&&r!=null){var K=this.zi.qsmode;if(K==2)K=r.P==null?0:1;else K=2;
this.cz({qsmode:K},Q)}this.Zr=D;if(h){if(r)this.nO=r.u._;this.SN(W,b)}};m.AZ.J_=function(r,Q){var W=r.Brsh.v.Dmtr.v.val,b=r.Brsh.v.Hrdn!=null?r.Brsh.v.Hrdn.v.val:-1,X=W,D=b,h=Q.j(h8.NN);
if(Q.j(h8.NR)){if(h)b=25*Math.floor((b-1)/25);else{if(W<=10)W--;else if(W<=50)W=5*Math.floor((W-1)/5);
else if(W<=100)W=10*Math.floor((W-1)/10);else if(W<=200)W=25*Math.floor((W-1)/25);else if(W<=400)W=50*Math.floor((W-1)/50);
else W=100*Math.floor((W-1)/100)}}if(Q.j(h8.v6)){if(h)b=25*Math.ceil((b+1)/25);else{if(W<10)W++;else if(W<50)W=5*Math.ceil((W+1)/5);
else if(W<100)W=10*Math.ceil((W+1)/10);else if(W<200)W=25*Math.ceil((W+1)/25);else if(W<400)W=50*Math.ceil((W+1)/50);
else W=100*Math.ceil((W+1)/100)}}W=Math.max(1,W);b=Math.max(0,Math.min(100,b));if(D==-1)b=-1;if(W!=X||b!=D){var S=JSON.parse(JSON.stringify(r));
S.Brsh.v.Dmtr.v.val=W;if(D!=-1)S.Brsh.v.Hrdn.v.val=b;return S}return null};m.AZ.prototype.SN=function(r,Q,W,b){if(r.bY.list.length==0)return;
var X=this.id,D;if((X==m.Rr||X==m.Z8||X==m.Yu||X==m.sE)&&(Q!=null&&Q.j(h8._I)||this.zi.alt[0]))D="crosshair";
else{var h=this.nO,S=this.zi.brush;if((X==m.Rr||X==m.Z8)&&W&&this.mo&&this.mo.length==this.GR.O()*4){var a=W.u.GF(b.x,b.y),K=this.au8(a),Y=this.mo,d=this.GR,j=new aV(d.x+K.x,d.y+K.y,d.e,d.n),U=hS.bd(S,r.bY.I_,h),I=U[0],f=U[1],g=Math.ceil(f.e/h),H=new aV(Math.round(a.x-g/2),Math.round(a.y-g/2),g,g),u=E.Q(H.O()*4),s,_;
E.TU(Y,j,u,H);if(h==1){s=u;_=H}else{var i=new au(h,0,0,h,0,0),M=m.EA.gh([u,H],i,!0);_=f.clone();_.x=M.rect.x;
_.y=M.rect.y;if(_.s4(M.rect))s=M.buffer;else{s=E.Q(_.O()*4);E.TU(M.buffer,M.rect,s,_)}}var T=this.zi.opacity/255;
for(var n=0;n<s.length;n+=4)s[n+3]=T*(I[n+3]*s[n+3]);hS.acZ(new Uint32Array(s.buffer),_,4278190080,4294967295);
D={ov:s,nX:_,kW:new cp(_.e/2,_.n/2)}}else D=hS.AL(S,r.bY.I_,h,X==m.kz)}var R=new km(e.E.L,!0);R.data={d:e.c.gc,LG:D};
if(this.caller)this.caller.$(R)};m.AZ.prototype.enable=function(r,Q,W,b){this.Ha=W;this.caller=Q;this.zy(JSON.parse(JSON.stringify(this.zi.brush)));
if(r&&r.u._!=0)this.nO=r.u._;this.SN(W,b)};m.AZ.prototype.VJ=function(r,Q){if(Q==d4.FY){this.zi.brush=r.bY.Mr;
this.SN(r)}};m.AZ.prototype.Ew=function(r,Q,W,b,X){for(var D in r)this.zi[D]=r[D];if(this.zi.alt[0])this.SN(X,b,W)};
m.AZ.prototype.as9=function(r){var Q=r.Qw.length!=0?-1-r.Qw[0]:r.I[0],W=r.B[Q],b=Q<0?1:W.L$,X=Q<0?r.Ev[-Q-1]:b<=0?null:b==1?W.SS():W.Xg(r).z,D=X?X.channel:W.buffer,h=(X?X.rect:W.rect).clone();
return[W,b,X,D,h]};m.AZ.prototype.nl=function(r,Q){this.vW=r.P==null?null:{rect:r.P.rect.clone(),channel:r.P.channel.slice(0)};
var W=this.as9(r),b=W[0],X=W[1],D=W[2];this.KQ=W[3];this.Va=W[4];var h=new aV(0,0,r.e,r.n),S=h.Bc(this.Va);
if((this.Zc()&&X<=0||S.s4(this.Va))&&Q!=!0)this.KQ=this.KQ.slice(0);else{if(D)D.extend(S);else b.extend(S)}};
m.AZ.prototype.o0=function(r,Q){var W=this.as9(r),b=W[1],X=W[3],D=W[4],h=[X,D],S=Q!=null?Q:this.zi.sfrom;
if(b<=0&&S!=0){h[1]=new aV(0,0,r.e,r.n);h[0]=r.T6(S==1&&r.I[0]!=r.B.length-1?r.I[0]:null).slice(0)}this.GR=h[1].clone();
this.mo=h[0].slice(0)};m.AZ.prototype.ti=function(r,Q,W){if(r.j(h8._I)){var b=new km(e.E.s,!0);b.b=m.ya;
b.data={d:"pickhere",ajc:W};Q.$(b);return!0}return!1};m.AZ.prototype.Yc=function(r,Q,W,b,X,D){if(this.id!=m.cj&&!r.P2(this.caller)){this.dU=null;
return}if(this.id!=m.cj&&this.dU)return;this.nl(r);var h=new aV(0,0,r.e,r.n),S=null;if(D!=null){var a=r.Qw.length!=0?-1-r.Qw[0]:r.I[0],K=r.B[a],Y=a<0?r.Ev[-a-1]:K.L$<=0?null:K.L$==1?K.SS():K.Xg(r).z;
S=E.Q(h.O()*4);if(Y)m.AZ.m2(this.KQ,this.Va,Y.color,S,h);else E.TU(this.KQ,this.Va,S,h)}var d=this.zi;
if(this.dU&&this.id==m.cj&&d.qsmode!=0&&r.P!=null){}else{var j=Q.V8,U=Q.tB;if(this.b9=="erase"){var I=j;
j=U;U=I}var f=this.id==m.cj?this.Va:h;this.dU=new hS(d.brush,Q.bY.I_,Q.bY._v,{UA:X,yW:D,ayw:d.smth*50/r.u._,rS:this.id==m.sE||d.emode==1,c7:r.c7},j,U,f,S)}if(this.id==m.cj){this.dU.a21(d.brush,d.qsmode==2?0:16777215)}var g=r.u.GF(b.x,b.y);
if(W.j(h8.NN)&&this.lO){var H=this.lO;this.dU.moveTo(H.x,H.y,b.dl);this.dU.lineTo(.001*H.x+.999*g.x,.001*H.y+.999*g.y,b.dl);
this.dU.lineTo(g.x,g.y,b.dl)}else this.dU.moveTo(g.x,g.y,b.dl);this.lO=g;this.mV=g.clone();this.XN=new hZ(g,r.u.tA)};
m.AZ.prototype.Ak=function(r,Q,W){if(r&&r.u._!=0&&r.u._!=this.nO){this.nO=r.u._;this.SN(W)}};m.AZ.prototype.GO=function(r,Q,W,b){if(this.dU==null)return;
var X=r.B[r.I[0]],D=r.u.GF(b.x,b.y),h=this.XN.WN(D,W);if(h.s4(this.lO))return 1;this.dU.lineTo(h.x,h.y,b.dl);
this.lO=h;if(this.id==m.Rr||this.id==m.Z8){var S=this.CL(),a=11;S=r.u.Au(D.x-S.x,D.y-S.y);var K=a>>>1,Y=new aV(Math.round(S.x)-K,Math.round(S.y)-K,a,a),d=E.Q(Y.O()*4);
E.tl(16777215);for(var n=0;n<a;n++)d[(n*a+K)*4+3]=d[(a*K+n)*4+3]=255;r.g.Ql=[[d,Y]];r.a9=!0}};m.AZ.prototype.Wq=function(r,Q,W,b){if(W.at!=this.id)return;
if(this.id!=m.cj||r==null)return;if(r.P==null||r.I[0]!=this.abX){this.abX=r.I[0];this.cz({qsmode:0},Q)}};
m.AZ.prototype.U=function(r,Q){if(r.Qw.length!=0){r.a9=!0;return}var W=r.B[r.I[0]];if(Q==null){Q=this.dU.Jv();
if(this.Zc()&&W.L$<=0)Q=Q.ww(this.Va)}var b=W.L$;if(b==1||b==3){var X=Math.round((b==1?W.SS():W.Xg(r).z).$E*2.4);
Q=Q.clone();Q.sg(X,X)}if(Q.WB())return;if(b<=0){W.U(Q)}if(b==1){W.SS().eI=!0;W.hR(r,Q)}if(b==3){W.U(Q)}r.U(r.root.FS(Q,r,r.I[0],!0))};
m.AZ.prototype.$v=function(r,Q,W,b,X){if(this.dU==null)return;this.dU.finish();if(this.id!=m.wO&&this.id!=m.Z8&&this.id!=m.cj)this.eM(r);
if(this.id==m.Rr||this.id==m.Z8){r.g.Ql=[];r.a9=!0}if(this.id==m.cj){var D=r.P;r.P=this.vW;var h=new km(e.E.s,!0);
h.data={d:"setsel",Cv:this.name,P:D};h.b=m.iW;Q.$(h);if(this.zi.qsmode==0)this.cz({qsmode:1},Q)}else{this.finish(r,this.dU.fk());
this.dU=null;this.oR=null}this.dir=0};m.AZ.prototype.cz=function(r,Q){for(var W in r)this.zi[W]=r[W];
var b=new km(e.E.L,!0);b.data={d:e.c.bp,b:this.id,$A:r};Q.$(b)};m.AZ.prototype.Zc=function(){var r=this.id;
return r==m.cj||r==m.Ik||r==m.DH||r==m.EH||r==m.uo||r==m.i9};m.AZ.prototype.finish=function(r,Q,W,b,X){var D=r.Qw.length!=0?-1-r.Qw[0]:r.I[0],h=r.B[D],S=D<0?1:h.L$,a=D<0?r.Ev[-D-1]:S<=0?null:S==1?h.SS():h.Xg(r).z,K=a?a.rect:h.rect,j;
if(this.Zc()||!K.s4(this.Va)){if(a==null){if(this.Zc())h.Dg();else{var Y=Q.Bc(this.Va),d=E.Q(Y.O()*4);
E.TU(h.buffer,h.rect,d,Y);h.buffer=d;h.rect=Y}}else a.Dg();this.U(r,K)}if(S<=0){j=E.Q(Q.O()*4);E.TU(this.KQ,this.Va,j,Q)}else{j=E.Q(Q.O());
j.fill(a.color);E.L0(this.KQ,this.Va,j,Q)}this.EU(r,!1,W?W:this.name,D,S,Q,j,b,X)};m.AZ.prototype.EU=function(r,Q,W,b,X,D,h,S,a){var K=h;
if(X>0){K=E.Q(D.O()*4);m.AZ.m2(h,D,0,K,D)}var Y=new c2(W,this);Y.data=[{l:b,TN:X,nX:D,v9:K}];if(S)Y.data.hw=[r.P,null];
if(a)Y.data.hw=[this.vW,r.P];r.C1(Y);if(Q)this.e4(Y.data,r);else if(S)r.P=null;m.rm.arz(r,Y.data)};m.AZ.prototype.Zm=function(r,Q){this.aqx(r,Q,!1)};
m.AZ.prototype.e4=function(r,Q){this.aqx(r,Q,!0)};m.AZ.prototype.aqx=function(r,Q,W){if(r.d=="drawtemp"){var b=W?r.avo:r.axI,X=Q.B[r.l];
X.f7.y7=b;X.Ae(Q,0,0,Q.P);X.U();Q.yV=!0}else{m.rm.dc(Q,r);if(r.hw){Q.P=r.hw[W?1:0];Q.fi=!0}}Q.U()};m.AZ.prototype.eM=function(r){this.wr(r,this.b9,this.dU.P3(),this.dU.J4(),this.dU.Jv());
this.U(r)};m.AZ.prototype.wr=function(r,Q,W,b,X){var D=this.zi,h=r.B[r.I[0]],S=r.Qw.length!=0?r.Ev[r.Qw[0]]:h.L$<=0?null:h.L$==1?h.SS():h.Xg(r).z,a=E.Q(X.O()*4),K,Y=h.RV(0);
if(S==null){if(this.id==m.Hi&&Q=="heal")E.TU(h.buffer,h.rect,a,X);else E.TU(this.KQ,this.Va,a,X);if(Y){K=E.Q(X.O());
E.TX(a,K,3)}}else{m.AZ.m2(this.KQ,this.Va,S.color,a,X)}if(r.P&&Q!="qselect"){var d=X.ww(r.P.rect),j=E.Q(d.O()*4);
if(Q=="copy"){var U=E.Q(d.O());E.L0(r.P.channel,r.P.rect,U,d);E.TU(a,X,j,d);E.q.mA(W,b,j,d,U,d,0,d,1,!1)}else{E.TU(W,b,j,d);
E.qH(r.P.channel,r.P.rect,j,d)}W=j;b=d}function I(H,gY){var el=Math.max(gY.x,Math.min(gY.x+gY.e-1,H.x)),iN=Math.max(gY.y,Math.min(gY.y+gY.n-1,H.y));
return new cp(el,iN)}if(Q=="idraw"||Q=="ierase"){if(this.oR==null)this.oR=E.Q(this.Va.O());var f=this.zi.samp,g=this.Ha.tB,H=I(this.lO,X),u=f==0?H:this.mV,s=u.x,_=u.y,i=m.WD.ah4(this.KQ,this.Va,[u,new cp(s-2,_),new cp(s+2,_),new cp(s,_-2),new cp(s,_+2)]);
if(f==2)i=[[g>>>16&255,g>>>8&255,g>>>0&255,255]];var M=m.WD.ab9(a,X,H,i,this.zi.wconf),T=E.Q(X.O());
E.L0(this.oR,this.Va,T,X);E.Pn.Bc(M,T,T);E.L0(T,X,this.oR,this.Va);E.qH(T,X,W,b);Q=Q.slice(1)}if(Q=="erase"&&(m.rm.a7s(r)!=16777215||S))Q="draw";
if(Q=="draw")E.q.YB(D.bmode,W,b,a,X,X,D.opacity);else if(Q=="erase"){var R=E.Q(X.O()*4);E.TU(W,b,R,X);
if(S==null){var z=E.Q(X.O());E.TX(R,z,3);E.wM(z,D.opacity);E.j4(z);E.qH(z,X,a,X)}else{E.tl(R,0,4278190080);
E.q.YB("norm",R,X,a,X,X,D.opacity)}}else if(Q=="clone"||Q=="heal"){var G=this.CL(),V=this.GR.clone();
V.offset(G.x,G.y);var y=X.clone();y.sg(1,1);var k=E.Q(y.O()*4),B=E.Q(y.O());E.TU(W,b,k,y);E.TX(k,B,3);
E.tl(k,0);if(S==null){E.TU(this.mo,V,k,y);var v=E.Q(y.O());E.TX(k,v,3);E.ES(v,B)}else m.AZ.m2(this.mo,V,S.color,k,y);
if(Q=="clone"){E.nV(B,k,3);E.q.YB(D.bmode,k,y,a,X,X,D.opacity)}if(Q=="heal"){var l=B.slice(0);E.round(l,20);
var F=E.Q(y.O()*4);if(S==null)E.TU(this.KQ,this.Va,F,y);else m.AZ.m2(this.KQ,this.Va,S.color,F,y);E.q.mA(k,y,F,y,l,y,0,y,1,!1);
E.Sz.Pf(F,l,y);E.q.mA(F,y,a,X,B,y,0,X,1,!1)}}else if(Q=="dodge"||Q=="burn"){var k=E.Q(X.O()*4),t=1,A=0,o=0,O=0;
E.TU(W,b,k,X);var L=X.O()*4,Z=m.AZ.sS;if(this.Zr){if(Q=="dodge")Q="burn";else Q="dodge"}var x=D.rng;
if(Q=="dodge"){A=[1-t/2,1,1+t][x];o=[1,1/(1+t),1][x];O=[t/2,0,0][x]}if(Q=="burn"){A=[1/(1-t/2),1,1-t/2][x];
o=[1,1+t,1][x];O=[-(t/2)/(1-t/2),0,0][x]}for(var n=0;n<L;n+=4){var C=k[n+3];a[n+0]=Z(a[n+0],A,o,O,C);
a[n+1]=Z(a[n+1],A,o,O,C);a[n+2]=Z(a[n+2],A,o,O,C)}}else if(Q=="sponge"||Q=="redeye"){var k=E.Q(X.O()*4),B=E.Q(X.O());
E.TU(W,b,k,X);E.TX(k,B,3);E.qr(a,k);var J=D.smode;if(this.Zr)J=1-J;var q=jv.fp("hue2");if(Q=="sponge")ku.Q_(q,0,[0,[-50,46][J],[6,5][J]]);
else ku.Q_(q,1,{o_:[265,305,25,55],mv:[0,-90,-70]});var fd=bu.RP("hue2",q);bu.EW(fd,k,k,X);E.q.mA(k,X,a,X,B,X,0,X,1,!1)}else if(Q=="copy")E.TU(W,b,a,X);
else if(Q=="sheal"){var k=E.Q(X.O()*4),B=E.Q(X.O());E.TU(W,b,k,X);E.TX(k,B,3);k.fill(0);var w=this.mo,P=this.GR;
if(S){w=E.Q(P.O()*4);m.AZ.m2(this.mo,P,0,w,P)}var fc=E.uY.Pf(w,P,B,k,X);if(fc!=0)E.TU(w,P,k,X);if(this.zi.sfrom==0)E.TU(k,X,a,X);
else{E.TU(this.KQ,this.Va,a,X);E.nV(B,k,3);E.q.YB("norm",k,X,a,X,X,1)}}else if(Q=="qselect"){var p=this.Va,gG=p.e,fh=p.n,fJ=gG*fh,cF=this.dU.P3(),i=this.KQ,j_=m.to.Lr,B=j_.Jc;
B.fill(128);for(var n=0;n<fJ;n++){var gY=cF[n<<2],kc=cF[(n<<2)+3];if(kc==255&&(gY==0||gY==255))B[n]=gY}B[0]=B[gG-1]=0;
B[(fh>>>1)*gG]=B[(fh>>>1)*gG+gG-1]=0;m.xI.NH(j_,!0);r.P={rect:p,channel:j_.P.slice(0)};r.fi=!0}if(S==null){if(Y)E.nV(K,a,3);
E.TU(a,X,h.buffer,h.rect)}else m.AZ.sL(a,X,S)};m.AZ.CL=function(){return null};m.AZ.sS=function(r,Q,W,b,X){var D=r*(1/255),h=b+Q*Math.pow(D,W),S=Math.round(h*X+D*(255-X));
return Math.max(0,Math.min(255,S))};m.AZ.m2=function(r,Q,W,b,X){var D=E.Q(X.O());D.fill(W);E.L0(r,Q,D,X);
b.fill(255);E.BA(D,b)};m.AZ.sL=function(r,Q,W){var b=E.Q(Q.O());E.Ou(r,b);E.L0(b,Q,W.channel,W.rect)};
m.to=function(r,Q,W){m.y6.call(this,r,Q,W);this.zi={binop:0,feat:0,cstr:{HP:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.zo=new cp(-1,-1);this.Iy=new cp(-1,-1);this._r="default";this.OD=null;this.X$=!1;this.Co=new bU;
this.cS=!1;this.GJ=null;this.v2=null;this.u2=!1;this.M7=!1};m.to.prototype=new m.y6;m.to.prototype.abc=function(){var r=this.zi,Q=[r.binop,r.feat];
if(this.id==m.uS)Q.push(r.wconf);return Q};m.to.prototype.axe=function(r,Q,W){var b=this.zi;b.binop=r[0];
b.feat=r[1];b.wconf=r[2];this.Kb(W)};m.to.prototype.Kb=function(r){var Q=new km(e.E.L,!0);Q.data={d:e.c.bp,b:this.id,zi:this.zi};
r.$(Q)};m.to.Lr={key:""};m.to.$q=function(r,Q,W){var b={r7:r,Hf:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(Q)b.Hf.T=Q;if(W!=null)b.Hf.AntA={t:"bool",v:W};return b};m.to.ys=function(r,Q,W){return m.to.$q("set",{t:"Objc",v:{classID:r,Top:{t:"UntF",v:{type:"#Pxl",val:Q.y}},Left:{t:"UntF",v:{type:"#Pxl",val:Q.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:Q.y+Q.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:Q.x+Q.e}}}},W)};
m.to.qX=function(r,Q,W){var b=[],X=[],h="set";for(var n=0;n<r.length;n+=2){b.push(r[n]);X.push(r[n+1])}var D={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:b},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:X}]}}}};
if(Q)h=["set","addTo","subtractFrom","interfaceWhite"][Q];return m.to.$q(h,D,W)};m.to.axg=function(r,Q,W){var b={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:r.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:r.y}}}},X=m.to.$q("set",b);
X.Hf.Tlrn={t:"long",v:Q[0]};X.Hf.AntA={t:"bool",v:Q[1]};X.Hf.Cntg={t:"bool",v:Q[2]};if(W==!0)X.Hf.Mrgd={t:"bool",v:W};
return X};m.to.wF=function(r){return m.to.$q("set",{t:"enum",v:{Ordn:r?"Al":"None"}})};m.to.agt=function(r,Q,W){var b={classID:"null"};
if(r!="border")b.selectionModifyEffectAtCanvasBounds={t:"bool",v:W};var X={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[r[0]];
b[X]={t:"UntF",v:{type:"#Pxl",val:Q}};return{r7:r,Hf:b}};m.to.a9z=function(r,Q,W){var b={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},X={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:Q}}]};
if(W)X.v.push({t:"name",v:{classID:"Lyr",val:W}});var D=[{classID:"null",null:b,T:X},{classID:"null",null:X,T:b},{classID:"null",null:X,From:b},{classID:"null",null:X,With:b}],h=["set","add","subtract","interfaceIconFrameDimmed"];
return{r7:h[r],Hf:D[r]}};m.to.axu=function(r,Q){var W=new km(e.E.L,!0);W.data={d:e.c.bJ,Lb:d4.JY};if(!Q.EQ)r.$(W);
W.data={d:e.c.bJ,Lb:d4.x5};if(!Q.fl.lz)r.$(W)};m.to.prototype.IU=function(r,Q,W,b,X){m.to.axu(Q,X);this.OD=Q;
var D=r.d,h,S,a=new aV(0,0,W.e,W.n),dp=!1,im,a5,bg,fM;if(D=="fromAction"){var K=r.Jb,Y=K.r7,d=K.Hf,j=d?d.selectionModifyEffectAtCanvasBounds:null,U=j&&j.v;
if(Y=="colorRange"){if(d.Clrs){var I=d.Clrs.v.Clrs,f=0,g=255,H=["Shdw","Mdtn","Hghl"].indexOf(I),i=.4;
if(H==0)g=60;else if(H==1){f=100;g=150}else f=190;var u=["shadows","midtones","highlights"][H],s=d[u+"LowerLimit"],_=d[u+"UpperLimit"];
if(s)f=s.v;if(_)g=_.v;var M=d[u+"Fuzziness"];if(M)i=M.v/100;h=m.to.p5(W,f,g,i,!0)}else{var f=d.Mnm.v,g=d.Mxm.v,i;
f={HN:f.Lmnc.v,mu:f.A.v,k:f.B.v};g={HN:g.Lmnc.v,mu:g.A.v,k:g.B.v};i=d.Fzns.v/200;h=m.to.p5(W,f,g,i)}S=[7,8]}else if(Y=="inverse"){if(W.P==null){alert("No selection!");
return}h={channel:E.Q(a.O()),rect:a};E.L0(W.P.channel,W.P.rect,h.channel,h.rect);E.j4(h.channel);S=[7,2]}else if(Y=="expand"){var T=d.By.v.val,R=W.P.rect.clone();
R.sg(T,T);var z=E.Q(R.O()),G=E.Q(R.O());E.L0(W.P.channel,W.P.rect,G,R);E.style.stroke(G,z,R,T);h={channel:z,rect:R};
S=[7,4]}else if(Y=="contract"){var T=d.By.v.val,V=W.P.rect.clone();V.sg(1,1);if(!U)V=V.ww(a);var G=E.Q(V.O()),y=E.Q(G.length);
E.L0(W.P.channel,W.P.rect,G,V);E.j4(G);E.style.stroke(G,y,V,T);E.j4(y);h={channel:y,rect:V};E.Dg(h);
S=[7,5]}else if(Y=="border"){var T=d.Wdth.v.val;h=m.to.a1c(W.P,T/2,T/2);S=[7,9]}else if(Y=="feather"||Y=="smoothness"){var T=d.Rds.v.val;
h=m.to.abI(W.P,T,Y=="smoothness",a,U);S=Y=="feather"?[7,6]:[19,3,0]}else if(Y=="move"){var k=d.T.v,R=W.P.rect.clone();
R.x+=k.Hrzn.v.val;R.y+=k.Vrtc.v.val;h={channel:W.P.channel,rect:R};S=[7,7]}else{var B=d.null.v,v=d.AntA!=null&&d.AntA.v;
function l(al){var dD=al.Top.v.val,e8=al.Left.v.val;return new aV(e8,dD,al.Rght.v.val-e8,al.Btom.v.val-dD)}function F(al){var dD=al[0].arr,kd=al[1].arr,gv={C:[],H:[]};
for(var n=0;n<dD.length;n++){gv.H.push(n==0?"M":"L");gv.C.push(dD[n],kd[n])}gv.H.push("Z");return gv}var L=["set","addTo","subtractFrom","interfaceWhite"].indexOf(Y),Z=d.T?d.T.v:null;
if(Z&&Z.classID=="Elps"){h=this.anS(m.tk.adc(l(Z)));S=[10,4]}else if(Z&&Z.classID=="Rctn"){var t=l(Z);
h={channel:E.Q(t.O()),rect:t.clone()};h.channel.fill(255);S=[10,15]}else if(Z&&Z.classID=="ObSl"){var t=l(Z),A=m.to.Lr,o=A.rect,O=A.Jc,x=o.e,C=o.n,J=t.x-o.x,q=J+t.e-1,fd=Math.max(J,Math.min(q,J+q>>>1)),w=t.y-o.y,P=w+t.n-1,fc=Math.max(w,Math.min(P,w+P>>>1)),p=Math.max(J,0),gG=Math.min(q,x),fh=Math.max(w,0),fJ=Math.min(P,C);
O.fill(128);if(0<=w)for(var cF=p;cF<gG;cF++)O[w*x+cF]=0;if(P<C)for(var cF=p;cF<gG;cF++)O[P*x+cF]=0;if(0<=J)for(var j_=fh;
j_<fJ;j_++)O[j_*x+J]=0;if(q<x)for(var j_=fh;j_<fJ;j_++)O[j_*x+q]=0;var gY=m.oj.auK,kc=Math.round(t.e*gY),el=Math.round(t.n*gY);
for(var cF=Math.max(0,fd-kc);cF<Math.min(x,fd+kc);cF++)O[fc*x+cF]=255;for(var j_=Math.max(0,fc-el);j_<Math.min(C,fc+el);
j_++)O[j_*x+fd]=255;m.xI.NH(A,!0);h={channel:A.P.slice(0),rect:o.clone()};S=[10,44]}else if(Z&&Z.classID=="Plgn"){h=this.anS(F(Z.Pts.v.arr));
S=[10,9]}else if(Z&&Z.classID=="Pnt"){h=m.WD.ali(W,new cp(Z.Hrzn.v.val,Z.Vrtc.v.val),[d.Tlrn.v,v,d.Cntg==null||d.Cntg.v],d.Mrgd?d.Mrgd.v:!1);
S=[10,12]}else if(Z&&Z.Ordn=="None"){h=null;S=[7,1]}else if(Z&&Z.Ordn=="Al"){var iN=a;if(W.I.length!=0){var c$=W.root.Nn(W.I[0]);
while(c$.parent&&c$.parent.parent)c$=c$.parent;if(c$.l.add.artb)iN=c$.l.QT()}h={channel:E.Q(iN.O()),rect:iN};
h.channel.fill(255);S=[7,0]}else if(Z&&Z[0]&&Z[0].v.keyID=="WrPt"){var dB={d:"frompath",C0:[-1,0,0]};
this.IU(dB,Q,W,b,X);return}else{var aL=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(Y),aB=Y=="set"?Z:B,f3=aB[0].v.enum,dB;
if(f3=="Trsp"||f3=="Msk"||f3=="vectorMask"||f3=="Trgt"){var jC=W.I[0];if(aB.length==2)jC=cO.ic(W,aB[1]);
var bc=["Trsp","Msk","vectorMask"].indexOf(f3);if(f3=="Trgt"&&W.B[jC].L$==1)bc=1;dB={d:"fromlayer",C0:[jC,bc,aL]}}else{if(aB[0].t=="name"){var jC=0;
for(var n=0;n<W.Ev.length;n++)if(W.Ev[n].name==aB[0].v.val)jC=n;dB={d:"fromchannel",C0:[-5-jC,0,aL]}}else{var iA=["RGB","Rd","Grn","Bl"].indexOf(f3);
dB={d:"fromchannel",C0:[-1-iA,0,aL]}}}this.IU(dB,Q,W,b,X);return}if(h){if(!v)E.round(h.channel);if(d.Fthr)h=m.to.abI(h,d.Fthr.v.val,!1);
if(Y!="set"&&W.P!=null)h=E.Pn.Df(h,W.P,L)}}if(Y=="expand"||Y=="contract")if(!U&&!a.contains(h.rect)){var bL=h.rect.ww(a),an=E.Q(bL.O());
E.L0(h.channel,h.rect,an,bL);h.channel=an;h.rect=bL}}if(D=="qmask"){dp=!0;var eT=W.F0(),ev=new aV(0,0,W.e,W.n);
if(eT){h=eT.rect.s4(ev)&&E.pV(eT.channel,255)?null:{rect:eT.rect.clone(),channel:eT.channel.slice(0)};
im=eT}else{h=null;a5=new $.lA;a5.color=0;a5.name="Quick Mask";a5.Xo=!0;if(W.P){a5.rect=W.P.rect.clone();
a5.channel=W.P.channel.slice(0)}else{a5.rect=ev;a5.channel=E.Q(a5.rect.O());a5.channel.fill(255)}}S=[6,6,1];
W.yV=!0}if(D=="setsel"){h=r.P;S=r.Cv}if(D=="crange"){var f=r.zf,g=r.d7;h=m.to.p5(W,f,g,r.Ns);S=[7,8]}if(D=="fromlayer"||D=="fromchannel"||D=="frompath"){var fU=r.C0[0],bc=r.C0[1],L=r.C0[2];
if(D=="fromlayer"){if(fU==null)fU=W.I[0];var e8=W.B[fU];if(bc==0){var ej=e8.rect,fV=e8.buffer;if(ej.WB())return;
var gZ=E.Q(fV.length>>>2);E.TX(fV,gZ,3);h={channel:gZ,rect:ej.clone()}}else{if(e8.z==null)e8.hR(W);var hQ=bc==1?e8.SS():e8.z;
h=m.to.aak(hQ,a)}this.track(m.to.a9z(L,["Trsp","Msk"][bc],e8.getName()))}else if(D=="frompath"){var aJ=W.tt(),cs=aJ[1],aJ=aJ[0],hL=!0;
if(fU==null)if(aJ.length==0||cs.length==0)return;var fN=aJ[cs[0]];if(fU!=null)for(var n=0;n<aJ.length;
n++)if(aJ[n].C_==fU)fN=aJ[n];var hQ=fN.add.vmsk.SS(),j4=hQ.J4();if(j4.O()==0)return;var gZ=hQ.P8();if(r.C0[3]!=null)hL=r.C0[3];
if(!hL){gZ=gZ.slice(0);E.round(gZ)}bg=[JSON.stringify(W.Me),JSON.stringify(W.qS)];fM=["[]","[]"];W.Me=[];
W.qS=[];h={channel:gZ,rect:j4}}else{if(fU==null)fU=m.to.a2l(W);h=m.to.apC(W,fU)}if(L!=0&&W.P)h=E.Pn.Df(h,W.P,L);
S=[14,11]}if(h!=null&&E.pV(h.channel,0)){h=null;S=[7,1]}if(h)E.Dg(h);var fv=new c2(S,this);fv.data={d:"changesel",vW:W.P,yU:h,F0:dp,asC:im,an3:a5,Xn:bg,a8L:fM};
W.C1(fv);this.e4(fv.data,W)};m.to.a2l=function(r){var Q=0;if(r.Qw.length!=0)Q=-5-r.Qw[0];else if(JSON.stringify(r.u.Vu)=="[1,1,1]")Q=-1;
else Q=-2-r.u.Vu.indexOf(1);return Q};m.to.apC=function(r,Q){var W,b=new aV(0,0,r.e,r.n);if(-5<Q&Q<0){var X=-Q-1,D=r.T6(),h=E.Q(b.O());
if(X==0)E.Ou(D,h);else E.TX(D,h,X-1);W={channel:h,rect:b.clone()}}if(Q<-4){W=m.to.aak(r.Ev[-Q-5],b)}return W};
m.to.aak=function(r,Q){var W,b;if(r.vf()==0){b=r.J4().clone();if(b.O()==0)return;W=r.P8()}else{b=Q;W=E.Q(b.O());
r.Vn(b,W)}return{channel:W,rect:b}};m.to.prototype.YK=function(r){return this.cS||r.hY&&this.id!=m.qL};
m.to.prototype.mC=function(r,Q,W){var b=new km(Q,!0);b.data=W;r.$(b)};m.to.prototype.aiw=function(r,Q){var W=new km(e.E.L,!0);
W.data={d:e.c.gc,LG:Q};r.$(W)};m.to.prototype.J4=function(r,Q,W){Q=r.P==null||this.Co.XA(1)||this.Co.k$(1)?Q:null;
var b=this.zo,X=this.Iy;if(W){b.x=Math.max(0,Math.min(r.e,b.x));b.y=Math.max(0,Math.min(r.n,b.y));X.x=Math.max(0,Math.min(r.e,X.x));
X.y=Math.max(0,Math.min(r.n,X.y))}var D=m.QQ.qD(b,X,Q,!0,this.zi.cstr),h=D[0].x,S=D[0].y;return new aV(h,S,D[1].x-h,D[1].y-S)};
m.to.prototype.pZ=function(r,Q,W,b,X){this.M7=!0;if(this.$s())return;this.OD=Q;this.X$=!1;this.Co.pZ(b);
this.zo=r.u.GF(X.x,X.y);this.zo=m.iw.Bh(r,this.zo,W);if(this.avF(r,this.zo,b)){this.cS=!0;this.GJ=r.P.rect.clone();
return}this.DF(r,W,b,X);r.u.m5=new aV};m.to.prototype.avF=function(r,Q,W){var b=W.j(h8.NN),X=W.j(h8._I);
if(r.P&&!b&&!X&&this.zi.binop==0)return E.Js(Q,r.P.channel,r.P.rect);return!1};m.to.prototype.Dc=function(r,Q,W,b,X){this.OD=Q;
if(this.u2)return;var D=r.u.GF(X.x,X.y);if(cp.ks(this.zo,D)*r.u._>5){this.X$=!0;this.Co.Dc()}if(b.j(h8.ye)){if(this.v2==null)this.v2=new cp(D.x-this.zo.x,D.y-this.zo.y);
this.zo.x=D.x-this.v2.x;this.zo.y=D.y-this.v2.y}else this.v2=null;this.Iy=D;if(!this.cS)this.Iy=m.iw.Bh(r,this.Iy,W);
if(this.avF(r,this.Iy,b))this.aiw(Q,"move");else this.aiw(Q,this._r);if(this.cS){var h=this.GJ.clone();
h.x+=this.Iy.x-this.zo.x;h.y+=this.Iy.y-this.zo.y;var S=m.iw.Tf(r,h,W);r.P.rect.x=Math.round(this.Iy.x-this.zo.x+this.GJ.x+S[0]);
r.P.rect.y=Math.round(this.Iy.y-this.zo.y+this.GJ.y+S[1]);r.fi=!0;m.iw.tz(r,h,S);return}this.Fx(r,W,b,X,Q);
if(r.u.m5)r.u.m5=this.J4(r,b)};m.to.prototype.$s=function(){return!1};m.to.prototype.$v=function(r,Q,W,b,X,D){var h=this.M7;
this.M7=!1;if(D||!h)return;r.u.m5=null;this.Iy=r.u.GF(X.x,X.y);this.Iy=m.iw.Bh(r,this.Iy,W);if(this.cS){this.cS=!1;
if(r!=null&&r.g._e){r.g._e=null;r.a9=!0}if(this.Iy.s4(this.zo)&&this.PC()==0){this.mC(Q,e.E.Kk,m.to.wF());
return}this.ar0(r,this.GJ,r.P.rect.clone());return}this.Tn(r,W,b,X,Q);m.to.axu(Q,W);this.Co.$v();this.va(Q)};
m.to.prototype.ar0=function(r,Q,W){var b=r.bk();if(b!=null&&b.b==this&&b.data.d=="movesel"){}else{b=new c2([7,7],this);
b.data={d:"movesel",om:Q};r.C1(b)}b.data.mp=W;this.e4(b.data,r)};m.to.prototype.Mb=function(r,Q,W,b,X){this.u2=!0};
m.to.prototype.Rc=function(r,Q,W,b,X){var D=new km(e.E.L,!0);D.data={d:e.c.bp,b:this.id,gD:X,iG:r,zb:W};
Q.$(D);this.u2=!1};m.to.prototype.tf=function(r,Q,W,b){this.Co.tf(b);if(r!=null&&r.P!=null){var X=b.pG();
if(X.x!=0||X.y!=0){var D=r.P.rect.clone();D.x+=X.x;D.y+=X.y;this.ar0(r,r.P.rect.clone(),D)}}this.va(Q)};
m.to.prototype.va=function(r){var Q=new km(e.E.L,!0);Q.data={d:e.c.bp,b:this.id,yj:this.PC()};r.$(Q)};
m.to.prototype.PC=function(){var r=this.Co.XA(0),Q=this.Co.k$(0);return m.to.Oi(this.zi.binop,r,Q)};
m.to.Oi=function(r,Q,W){if(Q)r=1;if(W)r=2;if(Q&&W)r=3;return r};m.to.prototype.finish=function(r,Q,W,b){var X=r.P,D=this.getSelection(r,Q,W,b);
if(D==null)D=m.to.wF();else{var h=this.zi.feat,S=this.PC();if(h!=0)D.Hf.Fthr={t:"UntF",v:{type:"#Pxl",val:h}};
if(S!=0&&S!=4)D.r7=["","addTo","subtractFrom","interfaceWhite",""][S]}this.mC(this.OD,e.E.Kk,D);this.zo.DX(-1,-1);
this.Iy.DX(-1,-1)};m.to.prototype.getSelection=function(r,Q,W,b){return null};m.to.prototype.DF=function(r,Q,W,b){};
m.to.prototype.Fx=function(r,Q,W,b){};m.to.prototype.Tn=function(r,Q,W,b){};m.to.prototype.Zm=function(r,Q){var W=r.d;
if(W=="changesel")Q.P=r.vW;if(W=="movesel")Q.P.rect=r.om;if(r.F0){if(r.asC){Q.Qw=[Q.Ev.length];Q.Ev.push(r.asC)}else{Q.Ev.pop();
Q.Qw=[]}}if(r.Xn){Q.Me=JSON.parse(r.Xn[0]);Q.qS=JSON.parse(r.Xn[1])}Q.fi=!0};m.to.prototype.e4=function(r,Q){var W=r.d;
if(W=="changesel")Q.P=r.yU;if(W=="movesel")Q.P.rect=r.mp;if(r.F0){if(r.an3){Q.Qw=[Q.Ev.length];Q.Ev.push(r.an3)}else{Q.Ev.pop();
Q.Qw=[]}}if(r.Xn){Q.Me=JSON.parse(r.a8L[0]);Q.qS=JSON.parse(r.a8L[1])}Q.fi=!0};m.to.prototype.Ew=function(r){this.zi=r.zi};
m.to.prototype.anS=function(r){var Q=E.p.QL(r.C);if(Q.WB())return null;var W=E._j(Q.e,Q.n);W.save();
W.beginPath();W.translate(-Q.x,-Q.y);Typr.U.pathToContext({cmds:r.H,crds:r.C},W);W.closePath();W.fill();
W.restore();var b=E.Q(Q.O()),X=W.getImageData(0,0,Q.e,Q.n);E.TX(X.data,b,3);return{rect:Q,channel:b}};
m.to.abI=function(r,Q,W,b,X){if(W)Q=Math.round(Q*.7);var D=Math.ceil(2.6*Q),h=r.rect.clone();h.sg(D,D);
if(b&&!X)h=h.ww(b);var S=E.Q(h.O()),a=E.Q(S.length);E.L0(r.channel,r.rect,a,h);E.Cb.Ka(a,S,h,Q);if(W){var K=S.length;
for(var n=0;n<K;n++){var Y=(S[n]-128)*Q*2.5;S[n]=Math.max(0,Math.min(255,Math.round(128+Y)))}}return{channel:S,rect:h}};
m.to.a1c=function(r,Q,W){var b=Math.max(1,Math.ceil(W)),X=r.rect.clone();X.sg(b,b);var D=X.O(),h={channel:E.Q(D),rect:X},S=E.Q(D);
E.L0(r.channel,r.rect,S,h.rect);if(W!=0)E.style.stroke(S,h.channel,h.rect,W);else E.qr(S,h.channel);
var a=E.Q(D);E.j4(S);if(Q!=0)E.style.stroke(S,a,h.rect,Q);else E.qr(S,a);E.Pn.ww(h.channel,a,h.channel);
return h};m.to.p5=function(r,Q,W,b,X){var D=new aV(0,0,r.e,r.n),h=r.T6();if(r.P){var S=r.P.rect.ww(D),a=E.Q(S.O()*4);
E.TU(h,D,a,S);D=S;h=a}var K=D.O(),Y=E.Q(K),d=1/b;if(X){if(Q>=W)Q=W-1;var j=Q*(1-b),U=Q,I=W,f=W+(255-W)*b,g=j==U?0:1/(U-j),H=I==f?0:1/(f-I);
for(var n=0;n<K;n++){var u=n<<2,s=E.f_(h[u],h[u+1],h[u+2]),_=0;if(s<j)_=0;else if(s<U)_=(s-j)*g;else if(s<=I)_=1;
else if(s<=f)_=1-(s-I)*H;else _=0;Y[n]=h[u+3]*_*_}}else for(var n=0;n<K;n++){var u=n<<2,i=E.lP(h[u],h[u+1],h[u+2]),_=E.QY(i,Q,W,b,d);
Y[n]=h[u+3]*_}return{rect:D,channel:Y}};m.Xw=function(){m.AZ.call(this,[10,18],m.cU,"tools/blur");this.b9="copy"};
m.Xw.prototype=new m.AZ;m.Xw.prototype.pZ=function(r,Q,W,b,X){var D=b.j(h8._I)?hS.kn:hS.cU;this.Yc(r,W,b,X,this.zi.strn,D);
if(this.dU==null)return;this.eM(r)};m.Xw.prototype.Dc=function(r,Q,W,b,X){this.Ak(r,Q,W);if(this.uf)this.Dt(r,W,X);
if(this.dU==null)return;if(!X.hY)return;this.GO(r,W,b,X);this.eM(r)};m.eh=function(){m.AZ.call(this,[10,0],m.Yu,"tools/brush");
this.b9="draw"};m.eh.prototype=new m.AZ;m.eh.prototype.pZ=function(r,Q,W,b,X){if(this.ti(b,Q,X))return;
this.Yc(r,W,b,X,this.zi.flow);if(this.dU==null)return;this.eM(r)};m.eh.prototype.Dc=function(r,Q,W,b,X){this.Ak(r,Q,W);
if(this.uf)this.Dt(r,W,X);if(this.dU==null)return;if(!X.hY)return;this.GO(r,W,b,X);this.eM(r)};m.wL=function(){m.AZ.call(this,[10,42],m.kz,"tools/crepl");
this.b9="idraw";this.zi.bmode="hue "};m.wL.prototype=new m.AZ;m.wL.prototype.pZ=function(r,Q,W,b,X){if(this.ti(b,Q,X))return;
this.Yc(r,W,b,X,this.zi.flow);if(this.dU==null)return;this.eM(r)};m.wL.prototype.Dc=function(r,Q,W,b,X){this.Ak(r,Q,W);
if(this.uf)this.Dt(r,W,X);if(this.dU==null)return;if(!X.hY)return;this.GO(r,W,b,X);this.eM(r)};m.Ky=function(){m.AZ.call(this,[10,43],m.i9,"tools/redeye");
this.zi.smode=0;this.b9="redeye"};m.Ky.prototype=new m.AZ;m.Ky.prototype.pZ=function(r,Q,W,b,X){this.Yc(r,W,b,X,this.zi.flow);
if(this.dU==null)return;this.eM(r)};m.Ky.prototype.Dc=function(r,Q,W,b,X){this.Ak(r,Q,W);if(this.uf)this.Dt(r,W,X);
if(this.dU==null)return;if(!X.hY)return;this.GO(r,W,b,X);this.eM(r)};m.zx=function(){m.AZ.call(this,[10,38],m.sE,"tools/pencil");
this.b9="draw"};m.zx.prototype=new m.AZ;m.zx.prototype.pZ=function(r,Q,W,b,X){if(this.ti(b,Q,X))return;
this.Yc(r,W,b,X,this.zi.flow);if(this.dU==null)return;this.eM(r)};m.zx.prototype.Dc=function(r,Q,W,b,X){this.Ak(r,Q,W);
if(this.uf)this.Dt(r,W,X);if(this.dU==null)return;if(!X.hY)return;this.GO(r,W,b,X);this.eM(r)};m.Mx=function(){m.AZ.call(this,[10,22],m.EH,"tools/burn");
this.b9="burn"};m.Mx.prototype=new m.AZ;m.Mx.prototype.pZ=function(r,Q,W,b,X){this.Yc(r,W,b,X,this.zi.expo/Math.E);
if(this.dU==null)return;this.eM(r)};m.Mx.prototype.Dc=function(r,Q,W,b,X){this.Ak(r,Q,W);if(this.uf)this.Dt(r,W,X);
if(this.dU==null)return;if(!X.hY)return;this.GO(r,W,b,X);this.eM(r)};m.T5=function(r,Q,W){m.AZ.call(this,r==""?null:r?r:[10,1],Q?Q:m.Rr,W?W:"tools/clone");
this.b9="clone";this.kT=null;this.R=null};m.T5.prototype=new m.AZ;m.T5.prototype.pZ=function(r,Q,W,b,X){var D=this.zi,h=D.alt[0];
if(b.j(h8._I)||b.j(h8.DK)||h){this.kT=r.u.GF(X.x,X.y);this.R=null;if(h)this.cz({alt:[!1]},Q);this.o0(r);
this.SN(W,b,r,X);return}if(this.kT==null){alert(aA.get([15,7,0]));return}this.SN(W,b);this.Yc(r,W,b,X,this.zi.flow);
if(this.dU==null)return;this.R=this.au8(r.u.GF(X.x,X.y));this.eM(r)};m.T5.prototype.au8=function(r){var Q=this.R;
if(Q==null||!this.zi.algnd)Q=new cp(Math.round(r.x-this.kT.x),Math.round(r.y-this.kT.y));return Q};m.T5.prototype.Dc=function(r,Q,W,b,X){this.Ak(r,Q,W);
if(this.uf)this.Dt(r,W,X);if(this.dU==null){if(this.kT!=null)this.SN(W,b,r,X);return}if(!X.hY||this.kT==null)return;
this.GO(r,W,b,X);this.eM(r)};m.T5.prototype.CL=function(){return this.R};m.Fp=function(r,Q,W){m.y6.call(this,r,Q,W);
this.S1={W3:{HP:0,x:0,y:0},$_:!1};this.wY=!1;this.IC=null;this.cursor=null;this.an4=0;this.ao=null;this.zo=null;
this.xi=null;this.nH=!1};m.Fp.prototype=new m.y6;m.Fp.prototype.ND=function(){return this.IC!=null};
m.Fp.prototype.YK=function(r){return this.zo!=null||this.IC&&this.IC.axD()};m.Fp.prototype.pZ=function(r,Q,W,b,X){this.ao=X;
var D=r.u.GF(X.x,X.y),h=this.S1.W3,S=h.HP!=0?h.x/h.y:null,a=this.nH;this.nH=!1;if(this.IC){var K=this.IC.er(D,r.u._);
if(a&&K==null){this.IC.clear(r);this.IC=null}else{this.IC.pZ(r,W,b,D,S,!1,X);return}}this.zo=m.iw.Bh(r,D,W)};
m.Fp.prototype.wz=function(r,Q,W){if(W==null)W=[r.x,r.y,r.x+r.e,r.y,r.x+r.e,r.y+r.n,r.x,r.y+r.n];return new gP(W,!0,!1,this.id==m.Dz,!0,Q,this.id==m.Dz?2:0,this.id==m.Dz?4:3)};
m.Fp.prototype.SN=function(r){var Q=new km(e.E.L,!0);Q.data={d:e.c.gc,LG:this.cursor};r.$(Q)};m.Fp.prototype.enable=function(r,Q,W,b){this.OD=Q;
this.cursor="crosshair";this.SN(Q);if(r!=null&&this.IC==null){var X=r.P?{gm:"cropby",ayo:3}:{gm:"config",S1:this.S1,a1U:!0};
this.Ew(X,Q,r,b,W);if(r.P==null&&this.S1.W3.HP==0)this.nH=!0}};m.Fp.prototype.Dc=function(r,Q,W,b,X){this.ao=X;
var D=r.u.GF(X.x,X.y);if(!X.hY){var h="crosshair";if(this.IC){var S=this.IC.er(D,r.u._,null,X);if(S)h=S;
else h="default"}if(h!=this.cursor){this.cursor=h;this.SN(Q)}}if(this.IC)this.IC.Dc(r,W,b,D);else if(this.zo){if(this.wY){r.g.ac={H:["M","L"],C:[this.zo.x,this.zo.y,D.x,D.y]}}else{var a=m.QQ.qD(this.zo,m.iw.Bh(r,D,W),b,!0,this.S1.W3),K=a[0].x,Y=a[0].y,d=this.xi=new aV(K,Y,a[1].x-K,a[1].y-Y);
r.g.ac=E.p.vk(d);m.y6.FD(X,d,r,W)}r.a9=!0}};m.Fp.ak6=function(r,Q,W){var b,X,S,a;if(Q<=W){b=Q;X=W}else{b=W;
X=Q}var D=r-Math.floor((r+Math.PI)/(2*Math.PI))*2*Math.PI;D=Math.abs(D);if(D>Math.PI/2)D=Math.PI-D;var h=b/(X*Math.sin(D)+b*Math.cos(D));
if(Q<=W){S=b*h;a=X*h}else{S=X*h;a=b*h}return{Dr:S,J9:a}};m.Fp.prototype.$v=function(r,Q,W,b,X){this.ao=X;
var D=r.u.GF(X.x,X.y);if(this.IC==null){var h=this.xi;if(this.zo&&(h||this.wY)){if(this.wY){var S=this.zo,a=D;
if(S.x>a.x){var K=S;S=a;a=K}var S=Math.atan2(-(a.y-S.y),a.x-S.x),Y=m.Fp.ak6(S,r.e,r.n),d=[0,0,Y.Dr,0,Y.Dr,Y.J9,0,Y.J9],j=new au;
j.translate(-Y.Dr/2,-Y.J9/2);j.rotate(S);j.translate(r.e/2,r.n/2);E.p.D(d,j,d);this.IC=this.wz(h,!1,d);
r.g.ac=null;this.wY=!1}else{var U=this.S1.W3;this.IC=this.wz(h,U.HP!=0)}this.IC.Ju(r,W);this.xi=null;
this.mC(Q,e.E.L,{d:e.c.bp,b:this.id,dE:!0});this.zo=null;r.g.Ql=[];r.a9=!0}return}this.IC.$v(r,W,b,D);
this.mC(Q,e.E.L,{d:e.c.bp,b:this.id,dE:!0});var d=this.IC.a_();if(Math.abs(d[0]-d[4])<2&&Math.abs(d[1]-d[5])<2){this.disable(r,Q,null,b);
return}if(Date.now()-this.an4<200&&this.IC.fM(D)){this.XP(r,W);this.disable(r,Q,W,b);return}this.an4=Date.now()};
m.Fp.prototype.tf=function(r,Q,W,b){var X=this.IC;if(X==null||this.ao&&this.ao.hY)return;if(b.j(h8.Cj)){this.XP(r,W);
this.disable(r,Q,W,b)}else if(b.j(h8.V2)){this.disable(r,Q,W,b)}else X.tf(r,W,b)};m.Fp.aqs=function(r,Q,W){var b={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:r[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:r[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:r[1]+r[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:r[0]+r[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:Q!=null?Q:0}},Dlt:{t:"bool",v:W!=null?W:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{r7:"crop",Hf:b}};m.Fp.pU=function(r,Q){if(Q==null)Q=[!0,!0,!0,!0];var W={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][r]}}},b=["Top","Left","Btom","Rght"];
for(var n=0;n<4;n++)W[b[n]]={t:"bool",v:Q[n]};return{r7:"trim",Hf:W}};m.Fp.anj=function(r,Q,W,b){var X={classID:"null"};
if(b!=null){X.Wdth={t:"UntF",v:{type:"#Pxl",val:r}};X.Hght={t:"UntF",v:{type:"#Pxl",val:Q}};X.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][b]}}}if(W!=null)X.Rslt={t:"UntF",v:{type:"#Rsl",val:W}};
return{r7:"imageSize",Hf:X}};m.Fp.acb=function(r,Q,W){if(W==null)W=4;var b=Math.floor(W/3),X=W%3;return{r7:"canvasSize",Hf:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:r}},Hght:{t:"UntF",v:{type:"#Pxl",val:Q}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][X]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][b]}}}}};
m.Fp.prototype.IU=function(r,Q,W,b,X){var D=new aV(0,0,W.e,W.n),h=[11,3],S=W.HW,a=W.e/2,K=W.n/2,Y=1,C,J,q;
if(r.d=="fromAction"){var d=r.Jb,j=d.r7,U=d.Hf,I=W.e/W.n,f=U.Wdth?U.Wdth.v.val:-1,g=U.Hght?U.Hght.v.val:-1,S=U.Rslt?U.Rslt.v.val:null,H=U.Wdth?U.Wdth.v.type:U.Hght?U.Hght.v.type:-1,u=1,s;
if(H=="#Prc"){if(f!=-1)f=Math.round(W.e*f/100);if(g!=-1)g=Math.round(W.n*g/100)}if(j=="imageSize"){if(U.Intr){if(U.Intr.v.Intp=="Nrst")u=0;
if(U.Intr.v.Intp=="bicubicSharper")u=2;if(f==-1&&g==-1){var _=S/W.HW;f=Math.round(W.e*_);g=Math.round(W.n*_)}if(U.CnsP&&U.CnsP.v){if(f==-1)f=Math.round(g*I);
if(g==-1)g=Math.round(f/I)}}else{if(H=="#Prc")S=Math.round(W.HW*(W.e/f));else if(H==-1)S=Math.round(S);
else throw"e";f=W.e;g=W.n}s={d:"imgsize",XG:f,EC:g,r6:S,aH:u}}else if(j=="canvasSize"){if(f==-1)f=W.e;
if(g==-1)g=W.n;if(U.Rltv&&U.Rltv.v==!0){if(U.Wdth)f+=W.e;if(U.Hght)g+=W.n}var i=U.Vrtc?U.Vrtc.v.VrtL:"Cntr",M=U.Hrzn?U.Hrzn.v.HrzL:"Cntr";
s={d:"canvsize",XG:f,EC:g,o1:3*["Top","Cntr","Btom"].indexOf(i)+["Left","Cntr","Rght"].indexOf(M)}}else if(j=="revealAll"){s={d:"revealAll"}}else if(j=="trim"){var T={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[U.trimBasedOn.v.trimBasedOn];
if(T==null)throw"e";var R=["Top","Left","Btom","Rght"],z=[!0,!0,!0,!0];for(var n=0;n<4;n++)if(U[R[n]])z[n]=U[R[n]].v;
s={d:"trim",axY:T,Ko:z}}else if(j=="crop"){var G,V,y,k;if(U.T){var B=U.T.v,G=Math.round(B.Left.v.val),V=Math.round(B.Top.v.val),y=Math.round(B.Rght.v.val)-G,k=Math.round(B.Btom.v.val)-V}else{var v=W.B[W.I[0]],l=v.rect;
l=l.ww(new aV(0,0,W.e,W.n));G=l.x;V=l.y;y=l.e;k=l.n}s={d:"canvsize",XG:y,EC:k,R:new cp(G,V),afV:U.Dlt!=null&&U.Dlt.v}}else console.log(d);
if(s)this.IU(s,Q,W,b,X);return}else if(r.d=="imgsize"){D=new aV(0,0,r.XG,r.EC);if(r.r6)S=r.r6;Y=r.aH}else if(r.d=="canvsize"){var F=r.o1!=null?r.o1:0;
D=new aV(0,0,r.XG,r.EC);var L=W.e-r.XG,Z=W.n-r.EC,t=Math.round(L/2),A=Math.round(Z/2);if(F==1||F==4||F==7)D.x=t;
if(F==2||F==5||F==8)D.x=L;if(F==3||F==4||F==5)D.y=A;if(F==6||F==7||F==8)D.y=Z;if(r.R){D.x=r.R.x;D.y=r.R.y}}else if(r.d=="rot"&&(r.h+2*Math.PI)%(Math.PI/2)!=0){var o=E.p.vk(D).C,O=new au;
O.translate(-a,-K);O.rotate(r.h);O.translate(a,K);E.p.D(o,O,o);D=E.p.QL(o)}else if(r.d=="rot"&&r.h!=Math.PI&&r.h!=-Math.PI){D=new aV(a-W.n/2,K-W.e/2,W.n,W.e);
if((W.e+W.n&1)==1){a=Math.floor(a);K=Math.floor(K);D=new aV(a-Math.floor(W.n/2),K-Math.floor(W.e/2),W.n,W.e);
if((W.e&1)==1&&r.h!=-Math.PI/2)D.y--;if((W.n&1)==1&&r.h==-Math.PI/2)D.x--}}else if(r.d=="trim"){h=[11,12,0];
var x=W.T6(),l=new aV(0,0,W.e,W.n);D=E.cm(x,l,r.axY,r.Ko);if(D.WB())D=l}else if(r.d=="cropbysel"){h=[11,12,1];
D=W.P.rect.clone()}else if(r.d=="revealAll"){h=[11,12,2];D=W.root.J4(W,!0)}var fd=r.d=="canvsize"&&r.afV;
if(r.d=="imgsize"||r.d=="rot"||r.d=="scl"||fd){var w=new au;if(r.d=="imgsize"){h=[11,10];w.scale(r.XG/W.e,r.EC/W.n);
q=W.NO();for(var n=0;n<q[0].length;n++)q[0][n][1]*=q[0][n][0]==0?w.mu:w.HR}else if(fd){}else{w.translate(-a,-K);
if(r.d=="rot")w.rotate(r.h);if(r.d=="scl")w.scale(r.h.x,r.h.y);w.translate(a,K);h=r.Cv}J=E.K.LJ(w);C=this.Ly(W,X,!0,J,Y,fd?D:null)}else if(r.d=="auto-align"){if(W.I.length<2){alert("Select two or more layers.");
return}var P=[];for(var n=0;n<W.I.length;n++){var v=W.B[W.I[n]];if(!v.UE()&&v.add.SoLd==null){alert("Unsupported layer selected.");
return}if(v.rect.WB()){alert("Empty layer selected.");return}P.push([v.buffer,v.rect])}var fc=E.q1.de(P,0);
if(fc==null){alert("No similarity found.");return}J=fc[1];var p=W.I;W.I=W.I.slice(1);C=this.Ly(W,X,!1,fc.slice(1),Y);
W.I=p;D=W.root.J4(W,!0);h=[2,10,1]}var gG=new aV(0,0,W.e,W.n);if(!D.WB()&&(!D.s4(gG)||C!=null)){var fh=new c2(h,this);
fh.data={alH:W.HW,r6:S,cC:C,ZB:J,QW:m.Fp.a4y(W,D,gG,C!=null)};if(q){fh.data.afS=W.NO();fh.data.ac6=q}m.Fp.awz(W,fh.data,D);
W.C1(fh);this.e4(fh.data,W)}};m.Fp.a4y=function(r,Q,W,b){if(r.Pq.length==0)return null;var X=JSON.stringify(r.Pq),D=JSON.parse(X);
m.sn.aq2(D,Q,W,b);D=JSON.stringify(D);return[X,D]};m.Fp.prototype.Ly=function(r,Q,W,b,X,D){var h={B:[],x8:null,B9:null};
if(W){for(var n=0;n<r.B.length;n++)h.B.push(n);for(var n=0;n<r.ZS.length;n++)h.B.push(-1-n);for(var n=0;
n<r.Ev.length;n++)h.B.push(-1e3-n)}else h.B=r.I.slice(0);h.x8=m.EA.NZ(r,h.B,!0);m.EA.w4(r,Q,h.B,h.x8,X,b,null,!0,D);
h.B9=m.EA.NZ(r,h.B,!0);return h};m.Fp.prototype.e4=function(r,Q){if(r.r6)Q.HW=r.r6;if(r.QW)Q.Pq=JSON.parse(r.QW[1]);
if(r.cC){m.Fp.me(Q,E.K.JT(r.ZB));m.EA.Zz(Q,r.cC.B,r.cC.B9);if(r.ac6)Q.xg(r.ac6)}m.Fp.fL(Q,r)};m.Fp.prototype.Zm=function(r,Q){if(r.alH)Q.HW=r.alH;
if(r.QW)Q.Pq=JSON.parse(r.QW[0]);m.Fp.sI(Q,r);if(r.I4)Q.u.R.dd(r.I4);Q.aau();if(r.cC){var W=E.K.JT(r.ZB).clone();
W.j4();m.Fp.me(Q,W);m.EA.Zz(Q,r.cC.B,r.cC.x8);if(r.afS)Q.xg(r.afS)}};m.Fp.me=function(r,Q){for(var n=0;
n<r.B.length;n++){var W=r.B[n];if(W.add.artb==null)continue;var b=E.p.vk(W.QT()).C;E.p.D(b,Q,b);var X=E.p.QL(b);
W.NG(X)}};m.Fp.hm=function(r){var Q=new aV,W=0,b=r.root.children.length;for(var n=0;n<b;n++){var X=r.root.children[n].l;
if(X.add.artb==null)continue;Q=Q.Bc(X.QT());W++}var D=new aV(0,0,r.e,r.n);if(!Q.WB()&&!D.s4(Q))return Q;
return null};m.Fp.hh=function(r){var Q=m.Fp.hm(r);if(Q)m.Fp.$_(r,Q,!0);return Q};m.Fp.$_=function(r,Q,W){var b=r.e,X=r.n,D=Q.e,h=Q.n,S=Q.x==0&&Q.y==0;
if(S&&b==D&&X==h)return;r.e=D;r.n=h;var a=[];for(var n=0;n<r.B.length;n++)a.push(n);if(!S)m.iw.pq(r,a,null,-Q.x,-Q.y);
for(var n=0;n<r.B.length;n++){r.B[n].hR(r)}r.aau();if(W){var K=r.u.R,Y=r.u._;K.x+=Math.round((Q.x+(D-b)/2)*Y);
K.y+=Math.round((Q.y+(h-X)/2)*Y)}else r.u.R.DX(0,0);if(r.P)r.P.rect.offset(-Q.x,-Q.y);var d=r.NO();for(var j=0;
j<d[0].length;j++)if(d[1][j]==-1){var U=r.RE[j];U[1]-=U[0]==0?Q.x:Q.y}for(var n=0;n<r.Ev.length;n++)r.Ev[n].rect.offset(-Q.x,-Q.y)};
m.Fp.prototype.Ew=function(r,Q,W,b,X){if(r.gm=="commit"){this.XP(W,X);this.disable(W,Q,null,b)}else if(r.gm=="cancel"){this.disable(W,Q,null,b)}var D=null,h=new aV(0,0,W.e,W.n),S=this.S1.W3;
if(r.gm=="config"){this.S1=r.S1;S=this.S1.W3;if(W==null||!r.a1U)return;D=h;if(S.HP==1){var a=S.x/S.y;
if(D.e/a<D.n)D.n=Math.round(D.e/a);else D.e=Math.round(D.n*a)}if(S.HP==2){D.e=S.x;D.n=S.y}D.x=Math.round((W.e-D.e)/2);
D.y=Math.round((W.n-D.n)/2)}if(r.gm=="straighten"){alert("Draw a line in the image.");this.wY=!0}if(r.gm=="cropby"){if(W==null)return;
var K=r.ayo,D;if(K==0)D=W.root.J4(W,!0);if(K==1){if(W.I.length==0)alert("No layer is selected.");else{var Y=W.root.Nn(W.I[0]);
D=Y.J4(W,!0)}}if(K==2){if(W.I.length==0)alert("No layer is selected.");else{D=E.cm(W.T6(),h,0);if(D.WB())D=h.clone()}}if(K==3){if(W.P!=null)D=W.P.rect;
else alert("There is no selection.")}if(K==4){D=new aV(0,0,W.e,W.n)}}if(D&&D.WB())D=null;if(D!=null){this.IC=this.wz(D,S.HP!=0);
this.IC.Ju(W,X);this.mC(Q,e.E.L,{d:e.c.bp,b:this.id,dE:!0})}};m.Fp.prototype.XP=function(r,Q){var W=this.IC.a_(),b=E.p.QL(W),X=this.a6_(r,W),D=!1,h=this.S1.W3,S=this.S1.$_,a=h.x,K=h.y,j;
if(this.id==m.nk&&h.HP==2&&X.O()!=a*K){X=new aV(X.x,X.y,a,K);D=!0}var Y=E.K.Om(W,X);Y=E.K.j4(Y);var d=E.K.GI(Y),U=Math.atan2(Y[3],Y[0]);
if(Math.abs(U)>1e-9||!d||D||S)j=this.Ly(r,Q,!0,Y,1,b);var I=new c2(this.name,this),f=new aV(0,0,r.e,r.n);
I.data={cC:j,ZB:Y,I4:r.u.R.clone(),QW:m.Fp.a4y(r,X,f,!1)};m.Fp.awz(r,I.data,X);r.C1(I);this.e4(I.data,r);
this.track(m.Fp.aqs([b.x,b.y,b.e,b.n],null,S))};m.Fp.awz=function(r,Q,W){if(W==null)return;Q.om=new aV(0,0,r.e,r.n);
Q.mp=W};m.Fp.fL=function(r,Q){if(Q.mp==null)return;m.Fp.$_(r,Q.mp)};m.Fp.sI=function(r,Q){if(Q.mp==null)return;
var W=Q.om.clone();W.offset(-Q.mp.x,-Q.mp.y);m.Fp.$_(r,W)};m.Fp.prototype.a6_=function(r,Q){var W=E.K.Om(Q),b=E.K.GI(W),X=E.K.JT(W),D=X.rn,h=X.NQ,S=Math.atan2(X.k,X.mu);
X.rotate(S);var a=new aV(D,h,X.mu,X.HR);if(!b){function K(s,n,_){var i=s[n]-s[_],M=s[n+1]-s[_+1];return Math.sqrt(i*i+M*M)}var Y=K(Q,0,2),d=K(Q,4,6),j=Math.max(Y,d),U=K(Q,2,4),I=K(Q,6,0),f=Math.max(U,I),g=m.Fp.a45(Q,r.e/2,r.n/2),H,u;
if(isNaN(g)||g==Infinity||g==-Infinity||Math.min(g,1/g)<.1)g=(Y+d)/(U+I);if(j/f>g){H=j*1;u=H/g}else{u=f*1;
H=u*g}a.e=H;a.n=u}a.x=Math.round(a.x);a.y=Math.round(a.y);a.e=Math.round(a.e);a.n=Math.round(a.n);return a};
m.Fp.a45=function(r,Q,W){var b=r[0]-Q,X=r[1]-W,D=r[2]-Q,h=r[3]-W,S=r[6]-Q,a=r[7]-W,K=r[4]-Q,Y=r[5]-W,d=((X-Y)*S-(b-K)*a+b*Y-X*K)/((h-Y)*S-(D-K)*a+D*Y-h*K),j=((X-Y)*D-(b-K)*h+b*Y-X*K)/((a-Y)*D-(S-K)*h+S*Y-a*K),U=-((j*a-X)*(d*h-X)+(j*S-b)*(d*D-b))/((j-1)*(d-1));
function I(g){return g*g}var f=Math.sqrt((I(d-1)+I(d*h-X)/U+I(d*D-b)/U)/(I(j-1)+I(j*a-X)/U+I(j*S-b)/U));
if(d==1&&j==1)f=Math.sqrt((I(h-X)+I(D-b))/(I(a-X)+I(S-b)));return f};m.Fp.prototype.disable=function(r,Q,W,b){if(r==null)return;
if(this.IC)this.IC.clear(r);this.IC=null;this.mC(Q,e.E.L,{d:e.c.bp,b:this.id,dE:!1})};m.Fp.prototype.mC=function(r,Q,W,b){var X=new km(Q,!0);
X.data=W;if(b)X.b=b;r.$(X)};m.afQ=function(){m.Fp.call(this,[10,2],m.nk,"tools/rcrop")};m.afQ.prototype=new m.Fp;
m.axf=function(){m.Fp.call(this,[10,39],m.Dz,"tools/pcrop")};m.axf.prototype=new m.Fp;m.To=function(){m.AZ.call(this,[10,21],m.DH,"tools/dodge");
this.b9="dodge"};m.To.prototype=new m.AZ;m.To.prototype.pZ=function(r,Q,W,b,X){this.Yc(r,W,b,X,this.zi.expo/Math.PI);
if(this.dU==null)return;this.eM(r)};m.To.prototype.Dc=function(r,Q,W,b,X){this.Ak(r,Q,W);if(this.uf)this.Dt(r,W,X);
if(this.dU==null)return;if(!X.hY)return;this.GO(r,W,b,X);this.eM(r)};m.KO=function(){m.AZ.call(this,[10,3],m.Ik,"tools/eraser");
this.b9="erase"};m.KO.prototype=new m.AZ;m.KO.prototype.pZ=function(r,Q,W,b,X){this.Yc(r,W,b,X,this.zi.flow);
if(this.dU==null)return;this.eM(r)};m.KO.prototype.Dc=function(r,Q,W,b,X){this.Ak(r,Q,W);if(this.uf)this.Dt(r,W,X);
if(this.dU==null)return;if(!X.hY)return;var D=this.GO(r,W,b,X);this.eM(r)};m.g6=function(){m.AZ.call(this,[10,45],m.akW,"tools/beraser");
this.b9="ierase"};m.g6.prototype=new m.AZ;m.g6.prototype.pZ=function(r,Q,W,b,X){if(this.ti(b,Q,X))return;
this.Yc(r,W,b,X,this.zi.flow);if(this.dU==null)return;this.eM(r)};m.g6.prototype.Dc=function(r,Q,W,b,X){this.Ak(r,Q,W);
if(this.uf)this.Dt(r,W,X);if(this.dU==null)return;if(!X.hY)return;this.GO(r,W,b,X);this.eM(r)};m.mQ=function(){m.to.call(this,[10,15],m.iW,"tools/rselect");
this._r="crosshair"};m.mQ.prototype=new m.to;m.mQ.prototype.Fx=function(r,Q,W,b){if(!b.hY||!this.X$)return;
var X=this.J4(r,W,!0);r.g.ac=E.p.vk(X);r.a9=!0;m.y6.FD(b,X,r,Q)};m.mQ.prototype.Tn=function(r,Q,W,b){r.g.ac=null;
r.g.Ql=[];r.a9=!0;this.finish(r,Q,W,b)};m.mQ.prototype.getSelection=function(r,Q,W,b){if(this.zo.s4(this.Iy)||!this.X$)return null;
var X=this.J4(r,W,!0);if(X.WB())return null;return m.to.ys("Rctn",X,this.zi.anta)};m.tk=function(){m.to.call(this,[10,4],m.awS,"tools/eselect");
this._r="crosshair"};m.tk.prototype=new m.to;m.tk.prototype.Fx=function(r,Q,W,b){if(!b.hY||!this.X$)return;
var X=this.J4(r,W);r.g.ac=m.tk.adc(X);r.a9=!0;m.y6.FD(b,X,r,Q)};m.tk.prototype.Tn=function(r,Q,W,b){r.g.ac=null;
r.g.Ql=[];r.a9=!0;this.finish(r,Q,W,b)};m.tk.prototype.getSelection=function(r,Q,W,b){if(this.zo.s4(this.Iy)||!this.X$)return null;
var X=this.J4(r,W);if(!X.fs(new aV(0,0,r.e,r.n)))return null;return m.to.ys("Elps",X,this.zi.anta)};
m.tk.adc=function(r){var Q=r.x,W=r.y,b=r.x+r.e,X=r.y+r.n,D=(Q+b)/2,h=(W+X)/2,S=(Q-b)/2,a=(W-X)/2,K=.5522848,Y={C:[D,h-a],H:["M","C","C","C","C"]};
Y.C.push(D+K*S,h-a,D+S,h-K*a,D+S,h);Y.C.push(D+S,h+K*a,D+K*S,h+a,D,h+a);Y.C.push(D-K*S,h+a,D-S,h+K*a,D-S,h);
Y.C.push(D-S,h-K*a,D-K*S,h-a,D,h-a);return Y};m.fV=function(r){m.y6.call(this,[10,5],r?m.K1:m.ya,"tools/eyedropper");
this.Vz=null;this.cc=0;this.k0=null;this.Kd=1;this.dy=2;this.avJ=!0;this.wh=!1};m.fV.prototype=new m.y6;
m.fV.prototype.YK=function(r){return r.hY};m.fV.prototype.IU=function(r,Q,W,b,X){if(r.d=="pickhere")this.hZ(W,Q,X,null,r.ajc);
if(r.d=="supertool")this.Vz=r.b};m.fV.prototype.pZ=function(r,Q,W,b,X){var D=this.Vz;if(D){D.pZ(r,Q,W,b,X);
return}this.cc=W.V8;this.k0=X;var h=this.hZ(r,null,W,b,X);this.SN(r,Q,h,X)};m.fV.prototype.Dc=function(r,Q,W,b,X){var D=this.Vz;
if(D){D.Dc(r,Q,W,b,X);return}var h=this.k0;if(h){var S=X.x-h.x,a=X.y-h.y,K=1,Y=new cp(h.x+S*K,h.y+a*K),d=this.hZ(r,null,W,b,Y);
this.SN(r,Q,d,Y,new cp(S*(1-K),a*(1-K)))}};m.fV.prototype.SN=function(r,Q,W,b,X){var D=this.avJ,h=this.wh,K=12,Y=11;
if(r.u._>4)h=!1;if(!h&&!D)return;if(X==null)X=new cp(0,0);var S=new aV(0,0,r.e,r.n),a=r.T6(),d=(K*2+1)*Y,j=new cp(d/2,d/2),U=new aV(0,0,d,d),I=E.Q(U.O()*4),f=r.u.GF(b.x,b.y),g=Math.floor(f.x),H=Math.floor(f.y),u=new au;
u.scale(1/Y,1/Y);u.translate(g-K,H-K);if(h)E.scale.U_(a,S,u,I,U);var s=(K-3.4)*Y,_=(K-1.7)*Y,i=K*Y;for(var M=0;
M<d;M++)for(var T=0;T<d;T++){var R=cp.ks(new cp(T,M),j);if(R>s){if(D){var z=Math.max(0,s-R+1),G=(M*d+T)*4,V=I[G+3]<<24|I[G]<<16|I[G+1]<<8|I[G+2],y=255<<24|(M<i+Y*.5?W:this.cc);
if(R>_){z=Math.max(0,_-R+1);V=y;y=4286611584}else if(!h){V=y&16777215}I[G+0]=(1-z)*(y>>>16&255)+z*(V>>>16&255);
I[G+1]=(1-z)*(y>>>8&255)+z*(V>>>8&255);I[G+2]=(1-z)*(y>>>0&255)+z*(V>>>0&255);I[G+3]=(1-z)*(y>>>24&255)+z*(V>>>24&255)}if(R>i){I[(M*d+T)*4+3]=Math.max(0,255*(i-R+1))}}}function k(n){var J=n<<2;
I[J]=0;I[J+1]=0;I[J+2]=0;I[J+3]=255}function B(n){var J=n<<2;I[J]=255;I[J+1]=255;I[J+2]=255;I[J+3]=255}var v=this.Kd*Y+2,l=d-v>>>1,F=l+v-1;
if(h&&v<d)for(var n=0;n<v;n++){var L=l*d+l+n,Z=F*d+l+n,t=(l+n)*d+l,A=(l+n)*d+F;k(L);k(Z);k(t);k(A);if(n!=0&&n!=v-1){B(L+d);
B(Z-d);B(t+1);B(A-1)}}if(!h)for(var n=-9;n<=9;n++){if(-3<n&&n<3)continue;var o=d>>>1,T=o*d+o+n,M=(o+n)*d+o;
B(T-d);k(T);B(T+d);B(M-1);k(M);B(M+1)}var O=m.y6.jD(0,0,["#"+E.Y0(W),"RGB "+(W>>>16&255)+","+(W>>>8&255)+","+(W>>>0&255)]),S=O[1];
S.y=0;S.x=d-S.e>>>1;E.TU(O[0],S,I,U);var x={ov:I,nX:U,kW:new cp(j.x+X.x,j.y+X.y)},C=new km(e.E.L,!0);
C.data={d:e.c.gc,LG:x};Q.$(C)};m.fV.prototype.$v=function(r,Q,W,b,X,D){this.hZ(r,Q,W,b,X);var h=this.Vz;
if(h){h.$v(r,Q,W,b,X);return}if(this.k0){this.k0=null;if(D)this.hZ(r,Q,W,b,X,this.cc);var S=new km(e.E.L,!0);
S.data={d:e.c.gc,LG:"default"};Q.$(S)}};m.fV.prototype.hZ=function(r,Q,W,b,X,D){if(D==null)D=m.fV.hd(r,X,this.Kd,this.dy);
var h=new km(e.E.L);h.data={d:e.c.bJ,Lb:d4.dt,CZ:b&&b.j(h8._I)?1:0,h:D};if(Q)Q.$(h);return D};m.fV.hd=function(r,Q,W,b){if(b==null)b=2;
var X=r.u.GF(Q.x,Q.y),D,h,S=r.I.length==1&&r.B[r.I[0]].L$>0,a=r.Qw.length!=0,_=0,i=0,M=0;if(S||a){var K;
if(a)K=r.Ev[r.Qw[0]];else{var Y=r.B[r.I[0]];K=Y.L$==1?Y.SS():Y.ae7()}h=K.J4();if(!h.LS(X))return K.color==0?0:16777215;
D=E.Q(h.O()*4);D.fill(255);var d=K.P8();E.BA(d,D)}else if(b==0&&r.I.length!=0){var Y=r.B[r.I[0]];D=Y.buffer;
h=Y.rect}else{D=b==2?r.T6():r.T6(r.I[0]);h=new aV(0,0,r.e,r.n)}var j=Math.floor(X.x)-h.x,U=Math.floor(X.y)-h.y,I=(W-1)/2,f=Math.max(0,j-I),g=Math.max(0,U-I),H=Math.min(h.e,j+I+1),u=Math.min(h.n,U+I+1),s=(H-f)*(u-g);
for(var j=f;j<H;j++)for(var U=g;U<u;U++){var n=4*(U*h.e+j);_+=D[n];i+=D[n+1];M+=D[n+2]}_=Math.round(_/s);
i=Math.round(i/s);M=Math.round(M/s);return _<<16|i<<8|M};m.fV.prototype.Ew=function(r){var Q=r.zi;this.Kd=[1,3,5,11,31][Q[0]];
this.dy=Q[1];this.avJ=Q[2];this.wh=Q[3]};m.N3=function(){m.y6.call(this,[10,6],m.ahi,"tools/gradient");
this.zi={M:JSON.parse(iq.Wf.aob).v,qt:"Lnr",Lt:!1,anU:!1,avv:"norm",UA:1};this.QU=!1;this.ED=null};m.N3.prototype=new m.y6;
m.N3.prototype.enable=function(r,Q,W,b){var X=new km(e.E.L,!0);X.data={d:e.c.gc,LG:"default"};Q.$(X)};
m.N3.prototype.Ew=function(r){this.zi=r.Lb};m.N3.prototype.pZ=function(r,Q,W,b,X){if(!r.P2())return;
this.ED=r.u.GF(X.x,X.y);this.ED=m.iw.Bh(r,this.ED,W);this.QU=!0};m.N3.prototype.Dc=function(r,Q,W,b,X){if(!this.QU)return;
var D=r.u.GF(X.x,X.y);D=m.iw.Bh(r,D,W);if(b.j(h8.NN))D=m.N3.ha(this.ED,D);r.g.ac={C:[this.ED.x,this.ED.y,D.x,D.y],H:["M","L"]};
r.g.in=[this.ED.x,this.ED.y,D.x,D.y];r.a9=!0};m.N3.prototype.$v=function(r,Q,W,b,X){if(!this.QU)return;
var D=r.B[r.I[0]],h=r.u.GF(X.x,X.y);h=m.iw.Bh(r,h,W);if(b.j(h8.NN))h=m.N3.ha(this.ED,h);var S=h.eb(this.ED),a=cp.Px(this.ED,h,.5),K=Math.atan2(S.y,S.x),Y=cp.ks(this.ED,h),d=Math.sin(K),j=Math.cos(K);
if(Y>2){var U;if(r.P)U=r.P.rect;else U=new aV(0,0,r.e,r.n);var I=E.Q(U.O()*4),f=this.zi,g=f.qt;if(g!="Lnr"){Y*=2;
a=this.ED}E.M.Wu(f.M,I,U,[j*1/Y,d*1/Y,-d*1/Y,j*1/Y],a.x,a.y,f.Lt,iq.M.types.indexOf(g),W.V8,W.tB,null,f.anU);
var H=Math.round(f.UA*256),u=I.length;if(H!=256)for(var n=0;n<u;n+=4)I[n+3]=I[n+3]*H>>>8;var s=new km(e.E.s);
s.b=m.Ik;s.data={d:"fillBMP",hc:I,_B:f.avv,Cv:this.name};Q.$(s)}r.g.ac=null;r.g.in=[];r.a9=!0;this.QU=!1};
m.N3.ha=function(r,Q){if(r.s4(Q))return r;var W=Q.x-r.x,b=Q.y-r.y,X=Math.abs(W),D=Math.abs(b);if(X>D)D=X/2>D?0:X;
if(D>X)X=D/2>X?0:D;X=W>0?X:-X;D=b>0?D:-D;var h=Math.sqrt(W*W+b*b)/Math.sqrt(X*X+D*D);return new cp(r.x+X*h,r.y+D*h)};
m.N3.Rs=function(r,Q,W,b,X,D,h){var S=new aV(0,0,Q,W),a=E.Q(Q*W*4);E.w8(a,Q,W,4);var K=Math.sin(b),Y=Math.cos(b),d=E.Q(Q*W*4);
E.M.Wu(r,d,S,[Y*1/Q,K*1/Q,-K*1/W,Y*1/W],Q/2,W/2,!1,0,X,D);E.q.YB("norm",d,S,a,S,S,1);return fH.AG(a.buffer,Q,W,null,null,!0)};
m.N3.aqK=function(r,Q,W){var b=JSON.parse(JSON.stringify(r));if(b.Clrs)for(var n=0;n<b.Clrs.v.length;
n++){var X=b.Clrs.v[n].v,D=X.Type.v.Clry;if(D=="UsrS")continue;var h=D=="FrgC"?Q:W;X.Type.v.Clry="UsrS";
X.Clr={t:"Objc",v:E.M.rY({o:h>>16&255,W:h>>8&255,k:h&255})}}return b};m.nG=function(){m.y6.call(this,[10,7],m.vA,"tools/hand");
this.k0=new cp(0,0);this.wX=null;this.nW=0};m.nG.prototype=new m.y6;m.nG.prototype.IU=function(r,Q,W,b,X){var D=r.d;
if(D=="setcls"){W.u.Vu=r.Vu;W.a9=!0;W.Ca=!0}if(D=="scroll"&&!b.j(h8._I)){if(b.j(h8.DS))m.nG.H1(W,W.u.R.x-r.VG.y,W.u.R.y-r.VG.x);
else m.nG.H1(W,W.u.R.x-r.VG.x,W.u.R.y-r.VG.y)}};m.nG.prototype.enable=function(r,Q,W,b){this.wX=null;
var X=new km(e.E.L,!0);X.data={d:e.c.gc,LG:"grab"};Q.$(X);if(r&&Date.now()-this.nW<300){X.type=e.E.s;
X.b=m.W9;X.data={d:"adapt",h:"fitscr"};Q.$(X)}this.nW=Date.now()};m.nG.prototype.pZ=function(r,Q,W,b,X){this.wX=r.u.R.clone();
this.k0.DX(X.x,X.y)};m.nG.prototype.Dc=function(r,Q,W,b,X){if(!X.hY)return;if(this.wX==null)this.pZ(r,Q,W,b,X);
m.nG.H1(r,this.wX.x+(X.x-this.k0.x),this.wX.y+(X.y-this.k0.y))};m.nG.prototype.$v=function(r,Q,W,b,X){this.wX=null};
m.nG.H1=function(r,Q,W){var b=r.u._,X=r.u.qv,D=X.e,h=X.n,S=r.e*b,a=r.n*b,K=S<D&&a<h,Y=D/2+S/2-64,d=h/2+a/2-64;
r.u.R.DX(Math.max(-Y,Math.min(Y,Q)),Math.max(-d,Math.min(d,W)));r.Ca=!0};m.eK=function(){m.y6.call(this,[10,47],m.LT,"tools/rview");
this.k0=new cp(0,0);this.lO=null;this.Vj=null;this.nW=0};m.eK.prototype=new m.y6;m.eK.prototype.enable=function(r,Q,W,b){this.wX=null;
var X=new km(e.E.L,!0);X.data={d:e.c.gc,LG:"grab"};Q.$(X);if(r&&Date.now()-this.nW<300&&r.u.tA!=0){r.u.tA=0;
r.a9=!0}this.nW=Date.now();if(r)this.w9(r,Q)};m.eK.prototype.disable=function(r,Q,W,b,X){if(r)this.w9(r,Q)};
m.eK.prototype.C9=function(r,Q,W,b){if(r)this.w9(r,Q)};m.eK.prototype.pZ=function(r,Q,W,b,X){this.k0.DX(X.x,X.y);
var D=r.u;this.lO=D.GF(D.qv.e/2,D.qv.n/2);this.Vj=D.Ab();var h=D.GF(D.qv.e/2,D.qv.n/2),S=Math.min(D.qv.e,D.qv.n)*.35/D._,a=S*.2,K=h.x,Y=h.y;
r.g.ac={H:"M L L L L L".split(" "),C:[K,Y,K,Y-S,K+a,Y,K,Y+S,K-a,Y,K,Y-S]};r.a9=!0};m.eK.prototype.a0Q=function(r){var Q=r.u,W=Q.GF(Q.qv.e/2,Q.qv.n/2);
r.g.ac={H:["M","L"],C:[W.x,W.y,W.x,W.y-200]}};m.eK.prototype.Dc=function(r,Q,W,b,X){if(!X.hY)return;
var D=r.u,h=this.lO,S=this.k0,a=new cp(D.qv.e/2,D.qv.n/2),K=Math.atan2(X.y-a.y,X.x-a.x),Y=Math.atan2(S.y-a.y,S.x-a.x),d=Math.atan2(this.Vj.k,this.Vj.mu),j=K-Y,U=Math.PI/4;
if(b.j(h8.NN)){j=d+U*Math.round((j-d)/U)}this.ah8(r,Q,this.Vj.clone(),h,j)};m.eK.prototype.$v=function(r,Q,W,b,X){r.g.ac=null;
r.a9=!0};m.eK.prototype.Ew=function(r,Q,W,b){this.ah8(W,Q,null,null,r.OU-W.u.tA);W.u.tA=r.OU};m.eK.prototype.ah8=function(r,Q,W,b,X){var D=r.u;
if(W==null)W=D.Ab();if(b==null)b=D.GF(D.qv.e/2,D.qv.n/2);W.translate(-b.x,-b.y);W.rotate(X);W.translate(b.x,b.y);
D.a19(W);if(r.e*D._<D.qv.e&&r.n*D._<D.qv.n)D.R.DX(0,0);r.a9=!0;this.w9(r,Q)};m.eK.prototype.w9=function(r,Q){var W=new km(e.E.L,!0);
W.data={d:e.c.bp,b:this.id,OU:r.u.tA};Q.$(W)};m.Xx=function(){m.T5.call(this,[10,25],m.Z8,"tools/hbrush")};
m.Xx.prototype=new m.T5("");m.Xx.prototype.$v=function(r,Q,W,b,X){if(this.dU==null)return;this.wr(r,"heal",this.dU.P3(),this.dU.J4(),this.dU.fk());
this.U(r,this.dU.fk());m.AZ.prototype.$v.call(this,r,Q,W,b,X);if(!this.zi.algnd)this.R=null};m.vM=function(r){m.y6.call(this,r?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],r?m.gb:m.st,r?"tools/vtype":"tools/htype");
this.dM=[];this.zb=null;this.caller=null;this.ko=1;this.tC=null;this.ag3=0;this.Hh=0;this.agE=null;this.Xz=null;
this.wu=null;this.o7=null;this.qA=null;this.R0=null;this.a0t=null;this.ot=null;this.IC=null;this.Sw=null;
this.ai_=null;this.U1=!1;this.HV=!1;this.c6=!1;this.h6=null;this.zk=null;this.a9G=null;this.I3=!1;this.O5=!1;
this.kV=-1;this.Lc=-1;this.eA=document.createElement("textarea");this.eA.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.eA.addEventListener("input",this.Ci.bind(this),!1);this.eA.addEventListener("keydown",this.a0A.bind(this),!1);
this.eA.addEventListener("keyup",this.aba.bind(this),!1)};m.vM.prototype=new m.y6;m.vM.prototype.YK=function(r){return r.hY};
m.vM.prototype.Wq=function(r,Q,W,b){if(this.wu!=null||this.id==m.gb)return;this.caller=Q;var X=this.axP(r);
if(X.length!=0){var D=null,h=[],S=[];for(var n=0;n<X.length;n++){var a=r.B[X[n]],K=a.add.TySh,Y=0,d=aH.Wc(K.kN).length-2,j=aH.Z2(K.kN,Y,d);
aH.m3(j,K.D.mO());if(j.jr.Font!=null)j.jr.Font=j.Nk[j.jr.Font].Name;D=j.Nk;h.push(j.jr);S.push(j.GG)}var j={Nk:D,jr:aH.Se(h),GG:aH.Se(S)};
if(j.jr.Font!=null)aH.Oz(j,j.jr.Font);this.amm(Q,j,K)}};m.vM.prototype.axP=function(r){var Q=[];for(var n=0;
n<r.I.length;n++)if(r.B[r.I[n]]&&r.B[r.I[n]].add.TySh)Q.push(r.I[n]);return Q};m.vM.prototype.IU=function(r,Q,W,b,X){var D=r.d=="insertGlyph";
if((D||r.d=="insertText")&&this.wu){var h=D?String.fromCharCode(65533):r.h,S=this.eA,a=S.value,K=S.selectionStart,Y=S.selectionEnd;
S.value=a.slice(0,K)+h+a.slice(Y);S.selectionStart=S.selectionEnd=K+h.length;this.Ci(null,D?r.h:null);
S.focus()}if(r.d=="updateStyles"){if(this.wu==null){var d=this.axP(W),j=!1;if(d.length!=0){this.m8(W,Q,X,d);
for(var n=0;n<d.length;n++){var U=W.B[d[n]],I=U.add.TySh;aH.II(I,this.ko);this.wu=U;var f=aH.Wc(I.kN);
this.kV=0;this.Lc=f.length-1;aH.Yf(I.kN,this.kV,this.Lc,this.hQ(X,I));var g=this.w2(W,X);if(g==!1)j=!0}if(j){this.I3=!0;
return}this.Ea(W,Q)}return}this.a2(X)}if(r.d.startsWith("warp")){var H=this.O5;if(r.d=="warp"||r.d=="warpCancel"){if(this.wu==null)return;
if(r.d=="warp")this.wu.add.TySh.xR=r.Eu;else this.wu.add.TySh.xR=this.a0t;this.w2(W,X);if(!H)this.s5(W)}if(r.d!="warp")this.eA.focus();
if((r.d=="warpConfirm"||r.d=="warpCancel")&&H){this.O5=!1;if(r.d=="warpConfirm")this.Ea(W,Q);else this.pR(W,Q)}}if(r.d=="editCurr"){if(X.at!=m.st){this.tC=X.at;
var u=new km(e.E.L,!0);u.data={d:e.c.cf,b:m.st};Q.$(u)}if(this.wu!=null)this.disable(W,Q,X,b);this.zb=X;
this.caller=Q;this.m8(W,Q,X,[r.Bs]);var f=aH.Wc(this.wu.add.TySh.kN);this.kV=0;this.Lc=f.length-1;this.s5(W);
this.md();this.eA.focus()}if(r.d=="switchPntPrgr"){if(this.wu)return;var U=W.B[W.I[0]],I=U.add.TySh,s=I.D.mO(),_=JSON.parse(JSON.stringify(I.kN)),i=aH.yv(_),M=i==1?aH.mF(_):[0,0,Math.round(U.rect.e*1.05/s),Math.round(U.rect.n*1.25/s)],T=aH.Z2(_,0,0),R=T.Nk[T.jr.Font].Name,z=X.zl.oD(R),G=[0,M[2],M[2]/2][T.GG.Justification%3],V=z?gH.E_(z,R,T.jr):T.jr.FontSize*.8;
aH.GK(_,1-i);if(i==0){G=-G;V=-V;aH.Ad(_,[0,0,M[2],M[3]])}var y=new au(1,0,0,1,G,V);y.concat(I.D);this.IU({sm:W.I[0],d:"newED",Q6:_,D:y,a6N:[16,3,i==1?0:1]},Q,W,b,X)}if(r.d=="newED"){var U=W.B[r.sm],I=U.add.TySh,k=this.v0(W,[r.sm]);
I.kN=r.Q6;if(r.D)I.D=r.D;if(eO.rM(I,X.zl,Q)){eO.w2(U,X.zl,W);W.U()}else W.Vo=!0;var B=new c2(r.a6N?r.a6N:this.name,this);
B.data={GX:k,Lv:this.v0(W,[r.sm])};W.C1(B)}if(r.d=="fromAction"){var v=r.Jb.Hf.Usng.v,l=v.TxtC.v,F=[];
for(var n=0;n<2;n++){var L=l[n==0?"Hrzn":"Vrtc"].v,h=L.val;if(L.type=="#Prc")h=(n==0?W.e:W.n)*(h/100);
F[n]=h}this.DV(W,Q,X,b,W.u.Au(F[0],F[1]));var U=W.B[W.I[0]],I=U.add.TySh,Z=I.kN,a=aH.Wc(Z);aH.d4(Z,0,a.length-1);
aH.ig(Z,0,v.Txt.v.replace(/\r/g,"\n"));a=aH.Wc(Z);for(var i=0;i<2;i++){var t=v[i==0?"Txtt":"paragraphStyleRange"].v;
for(var n=0;n<t.length;n++){var A=t[n].v,K=A.From.v,Y=Math.min(A.T.v-1,a.length-1);A=A[i==0?"TxtS":"paragraphStyle"].v;
var o=aH.Z2(Z,K,Y),O=i==0?o.jr:o.GG;for(var x in A){var C=A[x].v;if(x=="Sz")O.FontSize=Math.round(C.val);
else if(x=="fontPostScriptName")aH.Oz(o,C);else if(x=="Algn")O.Justification={Left:1,Cntr:2}[C.Alg];
else if(x=="leading")O.Leading=A[x].v.val;else if(x=="baselineShift")O.BaselineShift=A[x].v.val;else if(x=="autoLeading")O.AutoLeading=A[x].v;
else if(x=="syntheticBold")O.FauxBold=A[x].v;else if(x=="syntheticItalic")O.FauxItalic=A[x].v;else if(x=="Trck")O.Tracking=A[x].v;
else if(x=="verticalScale")O.VerticalScale=A[x].v/100;else if(x=="horizontalScale")O.HorizontalScale=A[x].v/100;
else if(x=="Clr")O.FillColor={Type:1,Values:[1,C.Rd.v/255,C.Grn.v/255,C.Bl.v/255]}}aH.Yf(Z,K,Y,o)}}eO.w2(U,X.zl,W);
W.U();this.Ea(W,Q)}};m.vM.prototype.a2=function(r){var Q=Math.min(this.kV,this.Lc),W=Math.max(this.kV,this.Lc),b=this.wu.add.TySh;
aH.II(b,this.ko);var X=this.hQ(r,b);aH.Yf(b.kN,Q,W-1,X);var D=this.caller.wK(),h=this.w2(D,r);if(h)this.s5(D);
if(document.activeElement.tagName.toLowerCase()!="input")this.eA.focus()};m.vM.prototype.qy=function(r){return this.dM.indexOf(r)!=-1};
m.vM.prototype.enable=function(r,Q,W,b){var X=this.eA;Q.m.appendChild(X);this.ot="default";this.SN(Q)};
m.vM.prototype.ND=function(){return this.wu!=null};m.vM.L7=function(r,Q){for(var n=r.B.length-1;n>=0;
n--){var W=r.B[n];if(W.add.TySh&&W.rect.LS(Q)&&r.afr(n)){var b=W.RV(31);return b?-2:n}}return-1};m.vM.prototype.pZ=function(r,Q,W,b,X){this.zb=W;
this.caller=Q;var D=r.u.GF(X.x,X.y),h=this.wu==null;if(h){var S=m.vM.L7(r,D);if(S==-2){alert(aA.get([6,57,0]));
return}if(S>=0&&!b.j(h8.NN)){if(!eO.rM(r.B[S].add.TySh,W.zl,Q)){alert("Fonts not loaded yet");return}this.m8(r,Q,W,[S])}else{this.c6=!0;
this.h6=X;return}}var a=h?-1:aH.yv(this.wu.add.TySh.kN),K=this.Sw?this.Sw:this.IC;if(K&&K.pZ(r,W,b,D,null,null,X)&&E.Eu.fF(this.wu.add.TySh.xR)||!h&&E.p.RD(D,this.wu.rect)>20/r.u._&&(a==0||a==1)){this.U1=!0;
this.zk=D;this.a9G=this.wu.add.TySh.D.clone();if(this.kV==-1&&this.Lc==-1)this.kV=this.Lc=this.qJ(D)}else{if(this.qA==null){alert("Fonts not loaded yet");
return}this.HV=!0;this.kV=this.Lc=this.qJ(D);var Y=Date.now();if(Y-this.ag3>300)this.Hh=0;this.Hh++;
this.ag3=Y;if(this.Hh==2)this.a6I();if(this.Hh==3)this.asV();if(this.Hh>1){this.HV=!1}}this.md();this.s5(r)};
m.vM.prototype.m8=function(r,Q,W,b){var X=r.B[b[0]];this.wu=X;this.mC(Q,e.E.L,{d:e.c.bp,b:this.id,gm:"showactive"});
this.o7=b;r.I=b.slice(0);r.fb();r.mz=!0;this.R0=this.v0(r,b);this.fU(X.add.TySh);this.w2(r,W)};m.vM.prototype.fU=function(r){if(aH.yv(r.kN)!=1)return;
var Q=aH.mF(r.kN);Q=new aV(0,0,Q[2]-Q[0],Q[3]-Q[1]);var W=[Q.x,Q.y,Q.x+Q.e,Q.y,Q.x+Q.e,Q.y+Q.n,Q.x,Q.y+Q.n];
E.p.D(W,r.D,W);this.IC=new gP(W,!1,!1,!1,!0)};m.vM.prototype.a6I=function(){var r=aH.Wc(this.wu.add.TySh.kN);
this.kV=this.axm(r,this.kV);this.Lc=this.abH(r,this.kV)};m.vM.prototype.axm=function(r,Q){var W=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",b=[];
for(var n=0;n<W.length;n++)b.push(W.charAt(n));var X=b.indexOf(r[Q])==-1?!0:!1;for(var n=Q-1;n>=0;n--)if(b.indexOf(r.charAt(n))!=-1==X)return n+1;
return 0};m.vM.prototype.abH=function(r,Q){var W=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",b=[];for(var n=0;
n<W.length;n++)b.push(W.charAt(n));var X=b.indexOf(r[Q])==-1?!0:!1;for(var n=Q+1;n<r.length;n++)if(b.indexOf(r.charAt(n))!=-1==X)return n;
return r.length-1};m.vM.prototype.asV=function(){var r=this.qA.a7m(this.kV);this.kV=r[0];this.Lc=r[1]};
m.vM.prototype.SN=function(r){var Q=new km(e.E.L,!0);Q.data={d:e.c.gc,LG:this.ot};r.$(Q)};m.vM.prototype.Dc=function(r,Q,W,b,X){var D=r.u.GF(X.x,X.y),h=this.wu;
if(!X.hY){var S="default",a=this.IC,K=this.Sw?this.Sw:a;if(K&&E.Eu.fF(h.add.TySh.xR)){var Y=K.er(D,r.u._,null,X);
if(Y)S=Y;else if(K==a&&a.fM(D))S="text"}else if(h&&E.p.RD(D,h.rect)>20/r.u._)S="move";else if(m.vM.L7(r,D)>=0)S="text";
if(S!=this.ot){this.ot=S;this.SN(Q)}}var d=this.h6;if(this.c6&&Math.min(X.x-d.x,X.y-d.y)>4/r.u._){this.c6=!1;
this.DV(r,Q,W,b,X);h=this.wu;this.U1=!0;this.IC=new gP(null,!1,!1,!1,!0);var j=r.u.GF(this.h6.x,this.h6.y);
j.x=Math.round(j.x);j.y=Math.round(j.y);this.IC.pZ(r,W,b,j,null,null,X,r.u.tA)}if(this.U1){var U=h.add.TySh;
if(this.Sw){this.Sw.Dc(r,W,b,D);var I=E.K.JT(E.K.Om(this.Sw.a_(),this.ai_));U.D=I;this.w2(r,W);aH.LI(U)}else if(this.IC){this.IC.Dc(r,W,b,D);
var f=U.D.clone(),g=Math.atan2(f.k,f.mu);f.rotate(g);var I=E.K.JT(E.K.Om(this.IC.a_())),H=Math.atan2(I.k,I.mu);
I.rotate(H);if(!isNaN(I.mu)&&I.mu*I.HR-I.k*I.th!=0){var u=new aV(0,0,I.mu/f.mu,I.HR/f.HR),s=Math.round(u.e),_=Math.round(u.n),i=U.kN.Curve;
if(i){var M=aH.mF(U.kN),T=new au(s/M[2],0,0,_/M[3],0,0);E.p.D(i.Points,T,i.Points);aH.LI(U)}aH.Ad(U.kN,[0,0,s,_]);
U.D=E.K.JT(E.K.Om(this.IC.a_(),u));this.w2(r,W);aH.LI(U)}}else{var R=D.x-this.zk.x,z=D.y-this.zk.y;U.D=this.a9G.clone();
var G=new cp(U.D.rn+R,U.D.NQ+z);G=m.iw.Bh(r,G,W);U.D.rn=G.x;U.D.NQ=G.y;this.w2(r,W)}}if(this.HV)this.Lc=this.qJ(D);
if(this.U1||this.HV)this.s5(r)};m.vM.prototype.DV=function(r,Q,W,b,X){var D=r.tt(),h=D[0],S=D[1],a=r.b_();
a.add.lnsr="rend";var K=r.B.slice(0);a._J("Text layer "+K.length);this.wu=a;var Y=r.I.length==0?r.B.length-1:r.I[r.I.length-1],d=Y+1;
if(K[Y].add.lsct==d1.O9)d--;this.R0={z$:K.slice(0),vW:r.I.slice(0)};K.splice(d,0,a);r.I=[d];this.kV=this.Lc=0;
r.pY(K);this.R0.px=K.slice(0);this.R0.yU=r.I.slice(0);this.mC(Q,e.E.L,{d:e.c.bp,b:this.id,gm:"showactive"});
var j=r.u.GF(X.x,X.y),U=W.vy;console.log(U);if(this.id==m.gb){U=JSON.parse(JSON.stringify(U));U.jr.BaselineDirection=1}a.add.TySh=aH.M6(j.x,j.y,U,r.u.tA);
var I=a.add.TySh,f=I.kN;if(this.id==m.gb)f._LineOrientation=2;aH.II(I,this.ko);if(X.hY)aH.GK(f,1);else{aH.GK(f,0);
var g=h[S.pop()],H=g?g.add.vmsk:null;if(H&&!b.j(h8.NN)){H=H.clone();var u=H.V,_,i;for(var n=0;n<u.length;
n++)if(u[n].xo!=null)u[n].xo=0;var s=5/r.u._;_=E.A.Js(H.V,j,!0,s);if(_.C_==-1)_=E.A.Js(H.V,j);if(_.C_!=-1){aH.GK(f,1);
var M=E.A.ka(u,_.C_),T=E.A.Iv(u,_.C_)-1;u=H.V=u.slice(0,2).concat(u.slice(M,M+T+1));H.I=[];I.add={vmsk:H,vogk:$.P7(u)};
f.Curve={};aH.RA(I);if(_.a6!=null){var R=gH.gi(f.Curve);E.p.D(R[0],I.D,R[0]);var z=E.p.nn(R[0],j.x,j.y),G=W.vy.GG.Justification;
if(G==2||G==5){var V=(R[2][z]+R[3]*.5)%R[3];z=gH.KI(V,R[2])}var y=R[1][z];y=y%T;H.Sp=[y,y];aH.RA(I)}else this.fU(I)}}}return a};
m.vM.prototype.$v=function(r,Q,W,b,X,D){if(D){this.c6=!1;return}if(this.wu==null&&!this.c6)return;var h=r.u.GF(X.x,X.y),S=this.c6;
if(this.c6){this.c6=!1;this.DV(r,Q,W,b,X);this.HV=!0}if(this.U1||this.HV){this.s5(r);this.md();if(S)this.a2(W)}if(this.U1&&this.IC)this.IC.$v(r,W,b,h);
this.U1=this.HV=!1;this.eA.focus()};m.vM.prototype.md=function(){var r=this.wu.add.TySh,Q=Math.min(this.kV,this.Lc),W=Math.max(this.kV,this.Lc),b,X;
if(Q==W){var D=aH.Wc(r.kN);if(Q==0||D.charAt(Q-1)=="\n")b=X=Q;else b=X=Q-1}else{b=Q;X=W-1}var h=aH.Z2(r.kN,b,X);
aH.m3(h,r.D.mO());this.amm(this.caller,h,r)};m.vM.prototype.amm=function(r,Q,W){this.mC(r,e.E.L,{d:e.c.bJ,Lb:d4.ui,vy:Q});
var b=this.ko=aH.iT(W);this.mC(this.caller,e.E.L,{d:e.c.bp,b:this.id,gm:"changeAA",g2:b})};m.vM.prototype.a67=function(){var r=this.wu;
if(r&&!this.U1&&this.Sw!=null){var Q=this.caller.wK();this.Sw.$v(Q,this.zb,null,null);this.Sw=null;this.fU(r.add.TySh);
this.s5(Q)}};m.vM.prototype.disable=function(r,Q,W,b){var X=this.wu;this.Ea(r,Q)};m.vM.prototype.Ew=function(r,Q,W,b,X){if(this.O5)return;
if(r.gm=="commit")this.Ea(W,Q);if(r.gm=="cancel")this.pR(W,Q);if(r.gm=="changeAA"){this.ko=r.g2;if(W!=null)this.IU({d:"updateStyles"},Q,W,b,X)}if(r.gm=="showwarp"){if(W==null)return;
if(this.wu==null){var D=W.B[W.I[0]],h=D.add.TySh;if(h==null)return;this.m8(W,Q,X,[W.I[0]]);this.eA.focus();
this.O5=!0}this.a0t=this.wu.add.TySh.xR;var S=new km(e.E.L,!0);S.data={d:e.c.Re,wv:"textwarp"};Q.$(S)}};
m.vM.prototype.VJ=function(r,Q){if(Q!=d4.TH)return;if(this.I3){this.I3=!1;var W=this.caller.wK(),b=this.o7;
for(var n=0;n<b.length;n++){this.wu=W.B[b[n]];this.w2(W,r)}this.Ea(W,this.caller);return}if(this.wu)this.a2(r)};
m.vM.prototype.hQ=function(r,Q){var W=JSON.parse(JSON.stringify(r.vy));aH.m3(W,1/Q.D.mO());return W};
m.vM.prototype.e4=function(r,Q){if(r.GX!=null)this.W5(Q,r.Lv);else this.a8t(Q,r.px,r.yU)};m.vM.prototype.Zm=function(r,Q){if(r.GX!=null)this.W5(Q,r.GX);
else this.a8t(Q,r.z$,r.vW)};m.vM.prototype.W5=function(r,Q){for(var n=0;n<Q.length;n++){var W=Q[n],b=W.sm,X=r.B[b];
X.buffer=W.v9;X.rect=W.nX.clone();X.U();X.ix.G5=null;X.ix.path=null;var D=X.add.TySh;D.xR=W.Eu;D.$C=W.$C.clone();
D.D=W.D.clone();D.kN=JSON.parse(JSON.stringify(W.kN));X.y$()}r.U()};m.vM.prototype.v0=function(r,Q){var W=[];
for(var n=0;n<Q.length;n++){var b=Q[n],X=r.B[b],D=X.add.TySh;W.push({sm:b,D:D.D.clone(),Eu:JSON.parse(JSON.stringify(D.xR)),$C:D.$C.clone(),kN:JSON.parse(JSON.stringify(D.kN)),v9:X.buffer.slice(0),nX:X.rect.clone()})}return W};
m.vM.prototype.a8t=function(r,Q,W){r.I=W;r.pY(Q);r.U();r.yV=!0};m.vM.prototype.w2=function(r,Q,W){if(W==null)W=!1;
var b=this.wu.add.TySh;if(!eO.rM(b,Q.zl,this.caller))return!1;if(!W){var X=aH.Wc(b.kN);this.eA.value=X.slice(0,X.length-1)}var D=this.wu.rect,h=eO.w2(this.wu,Q.zl,r);
this.qA=h[0];var S=h[1];if(E.Eu.fF(b.xR))b.$C=new aV;else{if(aH.yv(b.kN)==1){var a=aH.mF(b.kN),fb=S.$C.y;
b.$C=new aV(0,fb,a[2]-a[0],a[3]-a[1]-fb)}else b.$C=S.$C}r.cW();r.U(r.root.FS(S.nX.Bc(D),r,r.B.indexOf(this.wu)));
return!0};m.vM.prototype.Ci=function(r,Q){if(this.wu==null||this.O5)return;var W=this.eA.selectionStart,b=this.wu.add.TySh,X=aH.Wc(b.kN),D=this.eA.value+"\n",h=Math.min(this.kV,this.Lc),S=Math.max(this.kV,this.Lc),j=!1;
this.kV=Math.min(W,h);if(D.length-W<X.length-this.Lc)this.Lc=X.length-D.length+W;if(X!=D){while(this.kV>0&&X.charAt(this.kV-1)!=D.charAt(this.kV-1))this.kV--}var a=X.substring(0,this.kV),K=X.substring(this.Lc,X.length),Y=D.substring(this.kV,D.length-K.length);
aH.d4(b.kN,this.kV,this.Lc);aH.ig(b.kN,this.kV,Y);if(Q!=null)aH.aiC(b.kN,this.kV,Q);var d=this.hQ(this.zb,b),U=-1,I=Array.from(Y);
for(var n=0;n<I.length;n++)U=Math.max(U,I[n].codePointAt(0));if(U!=-1&&U>128&&U!=65533&&d.jr.Font!=null){var f=d.Nk[d.jr.Font].Name,g=this.zb.zl.Hs(U,f,d.Nk);
if(f!=g){aH.Oz(d,g);j=!0}}if(this.Xz!=null&&Y==this.Xz){var H=JSON.parse(this.agE);d.jr=H.jr;d.Nk=H.Nk;
j=!0}aH.Yf(b.kN,this.kV,this.kV+Y.length-1,d);this.kV=this.Lc=a.length+Y.length;var u=this.caller.wK(),s=this.w2(u,this.zb,!0);
if(s)this.s5(u,!0);if(j)this.md()};m.vM.prototype.aba=function(r){var Q=h8;if(!r.ctrlKey)this.a67();
r.stopPropagation()};m.vM.prototype.a0A=function(r){r.stopPropagation();var Q=r.ctrlKey||r.metaKey,W=h8,a=0,K=0,_=0,v=!1;
if(this.wu==null||this.O5)return;if(this.wu==null)return;var b=this.caller.wK();if(this.Sw==null&&Q){var X=this.wu.add.TySh,D=aH.yv(X.kN),h;
if(D==1){h=aH.mF(X.kN);h=new aV(0,0,h[2]-h[0],h[3]-h[1])}else h=this.qA.kD();var S=[h.x,h.y,h.x+h.e,h.y,h.x+h.e,h.y+h.n,h.x,h.y+h.n];
E.p.D(S,X.D,S);this.Sw=new gP(S,!0,!0,!1,!1);this.ai_=h;this.s5(b)}if(W.Gx(r.code,W.VD))a=1;if(W.Gx(r.code,W.$p))a=-1;
if(W.Gx(r.code,W.Rb))K=-1;if(W.Gx(r.code,W.v1))K=1;var Y=W.Gx(r.code,h8.V3),d=W.Gx(r.code,h8.a7Z);if(W.Gx(r.code,h8.Cj)&&Q){this.Ea(b,this.caller);
return}if(W.Gx(r.code,h8.V2)){this.pR(b,this.caller);return}if(W.Gx(r.code,h8.jV)){r.preventDefault();
var j=this.eA,U=j.value,I=j.selectionStart,f=j.selectionEnd;j.value=U.substring(0,I)+"\t"+U.substring(f);
j.selectionStart=j.selectionEnd=I+1;this.Ci(null);return}var g=W.Gx(r.code,W.Ex),H=W.Gx(r.code,W.Ek);
if(Q&&(g||H)){r.preventDefault();var u=new km(e.E.s,!0);u.b=m.W9;u.data={d:"zoom",H3:g};this.caller.$(u)}if(W.Gx(r.code,W.ul))_=1;
if(W.Gx(r.code,W.sV))_=-1;var i=this.kV==this.Lc,M=Q&&r.shiftKey&&_!=0&&!i;if(M||r.altKey&&a!=0){var T=JSON.parse(JSON.stringify(this.zb.vy));
if(M){var R=T.jr.FontSize;if(R==null)R=16;T.jr.FontSize=Math.max(1,R+_*(r.altKey?5:1))}else{if(i){T.jr.Kerning+=20*a;
T.jr.AutoKerning=!1}else T.jr.Tracking+=20*a}r.preventDefault();var z=new km(e.E.L,!0);z.data={d:e.c.bJ,Lb:d4.ui,vy:T};
this.caller.$(z);var u=new km(e.E.s,!0);u.b=m.st;u.data={d:"updateStyles"};this.caller.$(u);return}if((W.Gx(r.code,W.n8)||W.Gx(r.code,W.yn))&&Q){var G=this.kV,V=this.Lc;
if(G>V){var y=G;G=V;V=y}var X=this.wu.add.TySh,k=aH.Wc(X.kN);if(G!=V){this.Xz=k.slice(G,V);this.agE=JSON.stringify(this.zb.vy)}}var B=aH.Wc(this.wu.add.TySh.kN);
if(a!=0||K!=0||Y||d){r.preventDefault();var l=this.kV;if(a!=0){if(Q&&a==-1)l=this.axm(B,this.kV-1);else if(Q&&a==1)l=this.abH(B,this.kV);
else{var j=this.eA,U=j.value;l=this.kV+a;if(l!=0&&U.codePointAt(l-1)>65535)l+=a}}else if(K!=0){var F=this.qA.cu(this.kV);
if(K==-1&&F.q3==0)l=0;else if(K==1&&F.q3==this.qA.ah1()-1)l=99999999999;else l=this.qA.ar6(new cp(F.nX.x+F.nX.e/2,0),F.q3+K)}else if(Y){var L=this.kV-1;
while(L>0&&B.charCodeAt(L)!=10)L--;l=L==0?0:L+1}else if(d){var L=this.kV;while(L<B.length-1&&B.charCodeAt(L)!=10)L++;
l=L}l=Math.max(0,Math.min(B.length-1,l));if(r.shiftKey)this.kV=l;else this.kV=this.Lc=l;v=!0}if(W.Gx(r.code,h8.c)&&Q){this.kV=0;
this.Lc=B.length-1;v=!0}if(v){this.md();this.s5(b)}};m.vM.a2I=function(r,Q){var W=r.length;if(W!=Q.length)return!1;
for(var n=0;n<W;n++)if(r[n].sm!=Q[n].sm)return!1;return!0};m.vM.prototype.Ea=function(r,Q){if(this.wu==null)return;
this.wu.y$();var W=this.R0;if(W instanceof Array){var b=this.v0(r,this.o7),X=r.bk();if(X!=null&&X.b==this&&X.data.GX&&m.vM.a2I(X.data.GX,W))X.data.Lv=b;
else{var D=new c2(this.name,this);D.data={GX:W,Lv:b};r.C1(D)}}else{var D=new c2(this.name,this);D.data={z$:W.z$,px:W.px,vW:W.vW,yU:W.yU};
r.C1(D)}this.escape(r,Q)};m.vM.prototype.pR=function(r,Q){if(this.wu==null)return;if(this.R0 instanceof Array){this.W5(r,this.R0);
if(this.wu)aH.LI(this.wu.add.TySh)}else{r.I=this.R0.vW;r.pY(this.R0.z$)}r.U();this.escape(r,Q)};m.vM.prototype.escape=function(r,Q){this.a67();
this.wu=null;this.o7=null;this.qA=null;this.IC=null;this.eA.blur();r.g.ac=null;r.g.Wd=null;r.g.in=[];
r.a9=!0;this.U1=!1;this.HV=!1;this.kV=this.Lc=-1;this.mC(Q,e.E.L,{d:e.c.bp,b:this.id,gm:"hideactive"});
if(this.tC){var W=new km(e.E.L,!0);W.data={d:e.c.cf,b:this.tC};Q.$(W);this.tC=null}};m.vM.prototype.mC=function(r,Q,W,b){var X=new km(Q,!0);
X.data=W;if(b)X.b=b;r.$(X)};m.vM.prototype.qJ=function(r){var Q=this.wu.add.TySh,W=this.qA,b=Q.D.clone();
b.j4();var X=b.lE(r),D=aH.J4(Q,W),h=E.Eu.c8(Q.xR,D),S=E.e_.a8Y(h,X);if(S==null)S=new Float64Array(2);
X=new cp(D.x+S[0]*D.e,D.y+S[1]*D.n);if(W.mn){var a=W.mn.clone();a.j4();X=a.lE(X)}var K=W.ar6(X);return K};
m.vM.prototype.s5=function(r,Q){if(Q==null)Q=!1;var W=this.wu.add.TySh,b=aH.yv(W.kN),X=this.qA,D=X?aH.J4(W,X):null;
r.g.in=[];r.g.ac=null;r.g.Wd=null;var h=this.Sw?this.Sw:this.IC;if(h){h.Ju(r,this.zb,!E.Eu.fF(W.xR));
var S=W.D.clone();S.j4();if(X&&X.mn&&X.tv==1){var a=X.mn.clone();a.j4();S.concat(a)}E.p.D(r.g.in,S,r.g.in);
E.p.D(r.g.ac.C,S,r.g.ac.C);if(X&&X.mn==null&&X.ac1()){var K=D.e-20,Y=D.n+8;r.g.ac.C.push(K,Y,K+10,Y,K+5,Y-5,K+5,Y+5);
r.g.ac.H.push("M","L","M","L")}}else if(b==0)this.amh(r,W,X);else r.g.ac={C:[],H:[]};var d=Math.min(this.kV,this.Lc),j=Math.max(this.kV,this.Lc);
if(!Q){this.eA.selectionStart=d;this.eA.selectionEnd=j}if(X!=null){var U=function(h,_){var i=h.x,M=h.y+h.n,T=new au;
T.translate(-i,-M);T.rotate(-_);T.translate(i,M);h.y+=h.n*.27;var s=E.p.vk(h);E.p.D(s.C,T,s.C);return s};
if(d==j){d=Math.max(d,0);var I=X.cu(d);if(I){var f=I.nX,g=this.zb.vy.jr.FontSize;if(g!=null&&g!=0){g/=W.D.mO();
f.y+=f.n-g;f.n=g}var H=X.alL(d);if(H!=null&&H.Gb==1)f.x+=f.e;var u=U(f,I.tA).C;r.g.ac.H.push("M","L");
r.g.ac.C.push(u[0],u[1]-1,u[6],u[7]-1)}}else{r.g.Wd={C:[],H:[]};for(var n=d;n<j;n++){var I=X.cu(n),s=U(I.nX,I.tA);
E.p.concat(r.g.Wd,s)}}}r.g.ac=eO.FA(r.g.ac,W,X);r.g.Wd=eO.FA(r.g.Wd,W,X);r.g.in=eO.FA({C:r.g.in},W,X).C;
r.a9=!0};m.vM.prototype.amh=function(r,Q,W){if(W==null)return;r.g.in.push(0,0);if(r.g.ac==null)r.g.ac={H:[],C:[]};
for(var n=0;n<W.GG.length;n++){var b=W.GG[n];for(var X=0;X<b.wZ.length;X++){var D=b.wZ[X],h=b.D_.x+D.D_.x+D.nX.x,S=b.D_.y+D.D_.y+D.nX.y+D.nX.n;
r.g.ac.H.push("M","L");r.g.ac.C.push(h,S,h+D.nX.e,S)}}r.a9=!0};m.a9i=function(){m.vM.call(this,!0)};
m.a9i.prototype=new m.vM;m.N1=function(){m.to.call(this,[10,9],m.qL,"tools/lasso");this._r="crosshair";
this.Ob=null;this.vx=null;this.zk=null};m.N1.prototype=new m.to;m.N1.prototype.DF=function(r,Q,W,b){this.Ob=this.zo;
this.vx={C:[this.Ob.x,this.Ob.y],H:["M"]}};m.N1.prototype.Fx=function(r,Q,W,b){this.zk=b;var X=this.vx;
if(X==null)return;if(!b.hY){if(this.vx!=null&&this.Ro>1&&W.j(h8._I)){X.C.pop();X.C.pop();X.C.push(this.Iy.x,this.Iy.y);
r.g.ac=X;r.a9=!0}return}X.H.push("L");X.C.push(this.Iy.x,this.Iy.y);this.Ob=this.Iy;if(this.X$){r.g.ac=X;
r.a9=!0}};m.N1.prototype.ND=function(){return this.vx!=null};m.N1.prototype.$s=function(){return this.vx!=null};
m.N1.prototype.tf=function(r,Q,W,b){m.to.prototype.tf.call(this,r,Q,W,b);if(this.vx&&this.Ro>1&&this.zk&&!this.zk.hY&&!b.j(h8._I))this.acC(r,W,b)};
m.N1.prototype.Tn=function(r,Q,W,b){this.zk=b;var X=this.vx;if(X==null)return;if(this.Ro>1&&W.j(h8._I)){X.H.push("L");
X.C.push(this.Iy.x,this.Iy.y);return}this.acC(r,Q,W)};m.N1.prototype.acC=function(r,Q,W){this.finish(r,Q,W,this.zk);
this.vx=null;r.g.ac=null;r.a9=!0};m.N1.prototype.getSelection=function(r,Q,W,b){if(this.zo.s4(this.Iy)||!this.X$)return null;
return m.to.qX(this.vx.C,null,this.zi.anta)};m.iw=function(){m.y6.call(this,[10,11],m.$t,"tools/move");
this.IP=new cp(0,0);this.kU=new cp(0,0);this.Jo=null;this.XN=null;this.Y4=new cp(0,0);this.tS=null;this.Ha=null;
this.OD=null;this.nW=0;this.BU=null;this.yp=[];this.LK=null;this.LN=null;this.QU=!1;this.d=0;this.Dh=null;
this.qf=null;this.xq=null;this.Sk=!1;this.zi={i0:!1,he:!1,YZ:!1};this.aao=!1;this.a0W=!1;this.IC=null;
this.iC=null;this.auZ=null;var r=[];for(var n=0;n<E.iZ.Rh.length;n++)r.push({name:E.iZ.Rh[n],w:function(Q,W,b){return{TC:W.fl.dp==b}}});
this.v3=new ka(r);this.v3.Z("select",this.rg,this)};m.iw.prototype=new m.y6;m.y6.prototype.YK=function(r){return this.QU&&this.d!=2};
m.iw.prototype.awY=function(){return this.QU&&(this.d==0||this.d==1)};m.iw.prototype.C9=function(r,Q,W,b){this.s$(r,-this.Y4.x,-this.Y4.y);
this.Y4.DX(0,0);this.Iz(r,null,W);this.kC(r)};m.iw.prototype.$Q=function(){var r=this.zi;return[r.i0?1:0,r.he?1:0,r.YZ?1:0]};
m.iw.prototype.s_=function(r,Q,W){var b=this.zi;if(r&&r[0]!=null)b.i0=r[0]==1;if(r&&r[1]!=null)b.he=r[1]==1;
if(r&&r[2]!=null)b.YZ=r[2]==1;var X=new km(e.E.L,!0);X.data={d:e.c.bp,b:this.id,Eb:b,atw:Q};W.$(X)};
m.iw.ads=function(r,Q,W,b,X,D,h){if(h==null)h=[!1,!0];var S=r.ZP(null,X,!0),a,K;if(r.add.artd&&r.I.length==1&&r.B[r.I[0]].add.artb){var Y=r.B[r.I[0]].QT();
a=r.xE(S,Y,Y)[0]}else{var d=new aV(0,0,r.e,r.n),a=r.xE(S,h[0]?d:null,h[1]?null:d)[0];delete a.add.artd;
if(h[1]){var j=E.cm(a.T6(),new aV(0,0,a.e,a.n),2);m.Fp.$_(a,j)}}if(W!=1){var I=new aV(0,0,Math.round(a.e*W),Math.round(a.n*W));
m.Fp.$_(a,I);var f=[];for(var n=0;n<a.B.length;n++)f.push(n);var g=m.EA.NZ(a,f,!0);m.Fp.me(a,new au(W,0,0,W,0,0));
m.EA.w4(a,b,f,g,1,E.K.LJ(new au(W,0,0,W,0,0)),null,!0);a.W4()}else if(K){a.U();a.W4()}var H=[];for(var n=0;
n<Q.length;n++)if(a.e*a.n!=0)H.push(fH.w3(a,Q[n].toUpperCase(),null,null,D?D[n]:null,b));return H};m.iw.prototype.aaW=function(r,Q,W,b,X){if(r==null||r.I.length==0)return;
var D=m.iw.ads(r,[Q],W,b,null)[0],h=new km(e.E.L,!0);h.data={d:e.c.It,data:D,name:r.B[r.I[0]].getName()+(W==1?"":"@"+W+"x")+"."+Q};
X.$(h)};m.iw.prototype.Ew=function(r,Q,W,b,X){if(r.CZ=="getPNG"){this.aaW(W,"png",r.QE,X,Q)}else if(r.CZ=="getSVG"){this.aaW(W,"svg",r.QE,X,Q)}if(r.CZ=="prms"){this.zi=r;
this.kC(W)}};m.iw.asq=function(r){var fb=r.length,W=0;r.sort(function(D,h){return D[0]+D[1]/2-(h[0]+h[1]/2)});
var Q=r[fb-1][0]+r[fb-1][1]-r[0][0];for(var n=0;n<fb;n++)W+=r[n][1];var b=Math.round((Q-W)/(fb-1)),X=r[0][0];
for(var n=0;n<fb;n++){r[n][0]=X;X+=r[n][1]+b}};m.iw.prototype.IU=function(r,Q,W,b,X){var D=r.d;if(D=="trsl"){var h=Math.round(r.Rp),S=Math.round(r.qh);
this.Y4.DX(h,S);this.pp(W,Q,b,X,!1,r.l);this.s$(W,h,S);this.Iz(W,null,X)}else if(D=="fcmy"||D=="fvec"){var a=["RGB","CMYK"][r.h]+" Color";
if(D=="fvec")a=["Raster","Vector"][r.h]+" Mode";var K=new c2(a,this);K.data={d:r.d,h$:W.add[D]==null?0:W.add[D],g2:r.h};
W.C1(K);this.e4(K.data,W)}else if(D=="pview"){var D=new c2("Pattern Preview",this);D.data={d:r.d};W.C1(D);
this.e4(D.data,W)}else if(D=="lockguides"){if(W)W.Wy=!W.Wy}else if(D=="gids"||D=="gidsFromLayer"){var Y=r.qf,d,j;
if(Y==null)Y=W.NO();if(D=="gids"){d=r.XF;var U=Y[0].length,I=d[0].length;j=U==I?[23,2]:U>I?[23,3]:[23,4];
if(I==0)j=[11,15,0]}else if(D=="gidsFromLayer"){var f=[],g=[],H=W.vE();for(var n=0;n<W.I.length;n++){var u=W.B[W.I[n]].rect;
if(u.WB())continue;f.push([0,u.x],[1,u.y],[0,u.x+u.e],[1,u.y+u.n]);g.push(H,H,H,H)}j=[11,15,1];d=W.NO();
m.iw.Rv(d,[f,g])}if(JSON.stringify(Y)==JSON.stringify(d))return;var D=new c2(j,this);D.data={d:2,qf:Y,XF:d};
W.C1(D);this.e4(D.data,W)}else if(D=="algn"){var s=r.h;if(W==null)return;if(W.I.length<2&&!(W.P!=null&&s!=3&&s!=7)){alert(aA.get([15,7,5]));
return}var _=W.P;W.P=null;var u=_?_.rect:m.EA.J4(W);this.pp(W,Q,b,X,!1);if(!this.QU)return;var i=this.BU,M={},T=[],R=[],z=[];
for(var n=0;n<i.length;n++){var G=i[n];while(W.B[G].getName()=="</Layer group>")G++;var V=W.root.Nn(G),y=V;
while(V.parent!=null){V=V.parent;if(i.indexOf(V.index)!=-1)y=V}var k=R.indexOf(y.index);if(k==-1){k=R.length;
R.push(y.index)}T[n]=k}var B=[],v=[],l=[];for(var n=0;n<R.length;n++){var F=m.EA.J4(W,W.ZP(!0,R[n]));
l.push(F);var L=s==3?[F.y,F.n]:[F.x,F.e];B[n]=L;v.push(L)}m.iw.asq(v);for(var n=0;n<R.length;n++){var F=l[n],Z=F.x,t=F.y;
if(s==0)Z=u.x;if(s==1)Z=u.x+(u.e-F.e)/2;if(s==2)Z=u.x+(u.e-F.e);if(s==3)t=B[n][0];if(s==4)t=u.y;if(s==5)t=u.y+(u.n-F.n)/2;
if(s==6)t=u.y+(u.n-F.n);if(s==7)Z=B[n][0];z.push(Math.round(Z-F.x),Math.round(t-F.y))}var A=[];for(var n=0;
n<i.length;n++){var o=T[n];A[2*n]=z[2*o];A[2*n+1]=z[2*o+1]}this.s$(W,0,0,null,A);var O=s==3||s==7?[20,4,6]:[20,4,s<3?s:s-1];
this.Iz(W,null,X,A,O);W.P=_}else if(D=="disabAuto"){this.s_([!1],null,Q)}};m.iw.Rv=function(r,Q){for(var n=0;
n<Q[0].length;n++){var W=Q[0][n],b=Q[1][n],X=!1;for(var D=0;D<r[0].length;D++){var h=r[0][D],S=r[1][D];
if(W[0]==h[0]&&W[1]==h[1]&&b==S)X=!0}if(!X){r[0].push(W.slice(0));r[1].push(b)}}};m.iw.prototype.enable=function(r,Q,W,b,X){this.Ha=W;
this.OD=Q;this.Sk=X?!0:!1;this.kC(r);this.SN("default",Q);this.tf(r,Q,W,b)};m.iw.prototype.disable=function(r,Q,W,b){this.afq(r)};
m.iw.prototype.afq=function(r){if(r==null)return;if(this.IC){this.IC.clear(r);this.IC=null}if(r.g.YZ){r.g.YZ=null;
r.a9=!0}if(r.g._e){r.g._e=null;r.a9=!0}if(r.g.aR[this.id]){delete r.g.aR[this.id];r.a9=!0}if(r.g.Ql.length!=0){r.g.Ql=[];
r.a9=!0}};m.iw.prototype.Wq=function(r,Q,W,b){if(W.at!=this.id)return;this.kC(r)};m.iw.prototype.kC=function(r,Q){if(r==null)return;
var W=this.zi;this.afq(r);if(!this.Sk){var b;if(W.he||W.YZ)b=E.p.jq(m.EA.J4(r));if(W.he&&!b.WB()){this.IC=new gP([b.x,b.y,b.x+b.e,b.y,b.x+b.e,b.y+b.n,b.x,b.y+b.n],!0);
this.IC.Ju(r,this.Ha)}if(W.YZ){var X=null,Y=null,d=!1;if(r.vE()!=-1)X=r.B[r.vE()].QT();else X=new aV(0,0,r.e,r.n);
r.g.YZ={t0:[b],BV:[]};var D=r.g.YZ.BV,h=b.x+b.e,S=b.y+b.n,a=b.x+Math.floor(b.e/2),K=b.y+Math.floor(b.n/2);
if(Q){var j=r.root.Js(new cp(Math.floor(Q.x),Math.floor(Q.y)));if(j){Y=E.p.jq(j.l.qN(r));if(Y.fs(b)){d=(Y.oN(b)||b.oN(Y))&&!b.s4(Y);
if(!d)Y=null}}}this.alr(b,D);if(Y!=null){r.g.YZ.t0.push(Y);var U=Y.x+Y.e,I=Y.y+Y.n,f=Y.x+Math.floor(Y.e/2),g=Y.y+Math.floor(Y.n/2);
if(d){var H=a,u=K;if(b.oN(Y)){H=f;u=g}D.push(b.x,u,Y.x,u);D.push(h,u,U,u);D.push(H,b.y,H,Y.y);D.push(H,S,H,I)}else{this.alr(Y,D);
var s=S<Y.y||I<b.y,_=h<Y.x||U<b.x;if(h<Y.x)D.push(h,K,Y.x,K);if(U<b.x)D.push(U,K,b.x,K);if(S<Y.y)D.push(a,S,a,Y.y);
if(I<b.y)D.push(a,I,a,b.y);if(s&&!_){if(b.x<Y.x)D.push(b.x,g,Y.x,g);if(Y.x<b.x)D.push(Y.x,K,b.x,K)}}}else{if(b.y>X.y)D.push(a,X.y,a,b.y);
if(S<X.y+X.n)D.push(a,S,a,X.y+X.n);if(b.x>X.x)D.push(X.x,K,b.x,K);if(h<X.x+X.e)D.push(h,K,X.x+X.e,K)}r.a9=!0}}if(this.d==2&&this.QU){var i=new aV(0,0,r.e,r.n),M=r.vE();
if(M!=-1){var T=r.NO(),R=T[1][this.BU];if(R==-1)R=M;i=r.B[R].QT()}var z=r.RE[this.BU],G=z[0],V=(G==0?"X":"Y")+": "+E.iZ.HE(z[1]-(G==0?i.x:i.y),r.HW,this.Ha,G==0?i.e:i.n,!0);
m.y6.jD(Math.round(this.Jo.x)+10,Math.round(this.Jo.y)-10,[V],r);r.a9=!0}if(this.d==3&&this.QU){var y=E.p.vk(this.Dh);
r.g.aR[this.id]={ac:y};r.a9=!0}};m.iw.prototype.alr=function(r,Q){var W=r.e,b=r.n,X=r.x+Math.floor(W*.2),D=r.y+Math.floor(b*.2);
Q.push(X,r.y,X,r.y+b);Q.push(r.x,D,r.x+W,D)};m.iw.prototype.SN=function(r,Q){var W={d:e.c.gc,LG:r},b=new km(e.E.L,!0);
b.data=W;Q.$(b)};m.iw.prototype.kQ=function(r){var Q=this.iC.z_()[0],W=this.tS,b=this.auZ[Q];this.a69(W,b)};
m.iw.prototype.rg=function(r){var Q=JSON.parse(JSON.stringify(this.Ha.fl));Q.dp=this.v3.z_()[0];var W=new km(e.E.L,!0);
W.data={d:e.c.bJ,Lb:d4.AQ,g2:Q};this.OD.$(W)};m.iw.prototype.Rc=function(r,Q,W,b,X){if(this.QU)this.$v(r,Q,W,b,X);
this.tS=r;this.Ha=W;this.OD=Q;var D=r.u.GF(X.x,X.y),h;if(m.iw.Nt(W,X,r.u)){h=this.v3}else{if(this.iC)this.iC.removeEventListener("select",this.kQ);
var S=[];r.root.Js(D,S);if(S.length==0)return;var a=[];this.auZ=S;for(var n=0;n<S.length;n++)a.push({name:r.B[S[n]].getName()});
h=this.iC=new ka(a);h.Z("select",this.kQ,this)}h.parent=Q;h.r();h.update(r,W);var K=new km(e.E.L,!0);
K.data={d:e.c.I2,MY:h,x:X.e7+2,y:X.ID+1};Q.$(K)};m.iw.prototype.a8d=function(r,Q,W,b,X){var D=m.iw.vD(r,X);
return D!=-1||m.iw.Nt(W,X,r.u)};m.iw.vD=function(r,Q){if(r==null||r.add.artd==null)return-1;var W=r.u.GF(Q.x,Q.y),b=12*m.i()/r.u._;
for(var n=0;n<r.B.length;n++){var X=r.B[n];if(!X.cB()||X.add.artb==null)continue;var D=X.QT(),h=new aV(D.x,D.y-1.7*b,b*X.getName().length*.5,b);
if(h.LS(W))return n}return-1};m.iw.prototype.pZ=function(r,Q,W,b,X){var D=m.iw.vD(r,X),h=m.iw.aja(r,r.u.GF(X.x,X.y));
if(D!=-1){r.I=[D];if(W.at==m.$t){var S=new km(e.E.L);S.data={d:e.c.cf,b:m.YP};Q.$(S)}return}if(h!=-1){r.u.ah=h;
r.Ca=!0;var S=new km(e.E.L,!0);S.data={d:e.c.dw,wv:h4.Ct.alx};Q.$(S);return}this.Jo=X;this.IP.DX(X.x,X.y);
this.kU=r.u.GF(X.x,X.y);this.XN=new hZ(this.kU);this.pp(r,Q,b,W,!0)};m.iw.Nt=function(r,Q,W,b){var X=E.iZ.ZR,D=W.qv.n;
return r.k2&&(0<Q.x&&Q.x<X||0<Q.y&&Q.y<X||b&&0<Q.x&&Q.x<4*X&&D-X<Q.y&&Q.y<D)};m.iw.prototype.pp=function(r,Q,W,b,X,D){var h,S=this.kU,a=!1;
if(X){var K=b.EQ&&b.fl.RE;if(m.iw.Nt(b,this.IP,r.u)){h=r.NO();var Y=r.NO(),d=null;if(this.IP.x<E.iZ.ZR){d=[0,S.x]}if(this.IP.y<E.iZ.ZR){d=[1,S.y]}Y[0].push(d);
Y[1].push(r.vE(!0));r.xg(Y);if(!K){var j=new km(e.E.L);if(!b.fl.RE){j.data={d:e.c.bJ,Lb:d4.LQ};Q.$(j)}if(!b.EQ){j.data={d:e.c.bJ,Lb:d4.JY};
Q.$(j)}K=!0}}var U=this.avC(r,S);if(K&&U!=null&&!r.Wy){this.d=2;this.qf=h?h:r.NO();this.BU=U;this.QU=!0;
this.LN=m.EA.J4(r);return}if(r.Qw.length!=0){this.d=4;this.LN=r.Ev[r.Qw[0]].rect.clone();this.QU=!0;
return}if(this.IC&&this.IC.er(S,r.u._,!0,this.Jo)!=null){var j=new km(e.E.L);j.data={d:e.c.cf,b:m.YO,al$:!0};
Q.$(j);return}if(r.P&&r.P.rect.LS(S)){var I=Math.round(S.x),f=Math.round(S.y),g=r.P.rect;a=r.P.channel[(f-g.y)*g.e+I-g.x]>128}if(!a&&(!this.Sk&&this.zi.i0||this.Sk&&this.zi.i0&&(W.j(h8.NN)||r.I.length<2))){var H=this.ahJ(r,S,W);
if(!H){r.I=[];r.qS=null;r.yV=r.Ts=!0;this.d=3;this.Dh=new aV;this.QU=!0;return}}if(W.j(h8._I)&&!a){var u=new km(e.E.s);
u.b=m.M0;u.data={d:$.fE,a74:!0};Q.$(u)}}if(r.Qw.length!=0){this.d=4;this.LN=r.Ev[r.Qw[0]].rect.clone();
this.QU=!0;return}this.BU=r.ZP(D==null,D,null,!0);for(var n=0;n<this.BU.length;n++){var s=this.BU[n],_=r.B[s];
if(_.RV(2)||_.RV(31)||r.b4(s)){alert(aA.get([6,57,0]));return}}if(r.add.artd&&X){var i=this.BU,M=!1;
for(var n=0;n<i.length;n++)if(r.B[i[n]].add.artb)M=!0;if(!M){this.LK=[r,r.B.slice(0),r.I.slice(0),-1];
this.BU.sort(function(B,v){return B-v})}}this.yp=m.iw.akB(r,this.BU);this.d=0;if(r.P&&(!X||a)&&r.I.length==1&&r.P2(!1)){if(!r.a08()){this.QU=!1;
return}var T=r.B[r.I[0]],R=W.j(h8._I);this.d=1;var z=r.history[r.Je];if(z.b==this&&z.data.d==1&&z.data.l==r.I[0]&&T.L$==T.f7.L$&&!R){this.xq=z}else{var G=T.f7,V=!1,y;
if(!T.vJ(r,r.P)||R){V=!0;T.$i(r,r.P,R)}if(T.f7.L$<=0){y=E.Q(T.f7.y7.length>>2);E.TX(T.f7.y7,y,3)}else y=r.P.channel.slice(0);
var k={rect:T.f7.AO.clone(),channel:y};this.xq=new c2(R?[12,53]:[12,54],this);this.xq.data={d:1,l:r.I[0],f7:T.f7,fB:G,_3:V,vW:r.P,yU:k,HR:new cp(0,0)};
r.C1(this.xq);r.P=k;r.fi=!0}}this.QU=!0;this.LN=m.EA.J4(r)};m.iw.prototype.ahJ=function(r,Q,W){var b=r.root.Js(new cp(Math.floor(Q.x),Math.floor(Q.y)));
if(b){if(b.l.add.vmsk)r.a9=!0;var X=r.B.indexOf(b.l);if(W.j(h8.NN)){var D=r.I.indexOf(X);if(D==-1)r.I.push(X);
else if(r.I.length>1)r.I.splice(D,1)}else if(r.I.indexOf(X)==-1){this.a69(r,X)}}return b!=null};m.iw.prototype.a69=function(r,Q){r.B[Q].L$=0;
r.I=[Q];r.qS=null;r.fb();r.mz=!0;r.yV=!0};m.iw.aja=function(r,Q){var W=r.add.Anno;if(W==null||W.length==0)return-1;
var b=30/r.u._;for(var n=0;n<W.length;n++)if(new aV(W[n][0],W[n][1],b,b).LS(Q))return n;return-1};m.iw.prototype.Dc=function(r,Q,W,b,X){this.Jo=X;
var D=r.u.GF(X.x,X.y),U,I;if(this.XN&&this.d<2)D=this.XN.WN(D,b);if(!this.QU){if(W.EQ&&W.fl.RE&&r&&!r.Wy){var h=this.avC(r,D),S="default",a=m.iw.vD(r,X);
if(h!=null)S=["col-resize","row-resize"][r.RE[h][0]];else if(this.IC){var K=this.IC.er(D,r.u._,null,X);
if(K)S=K}else if(a!=-1||m.iw.aja(r,D)!=-1){S="pointer"}this.SN(S,Q)}this.kC(r,D);return}var Y=this.kU,d=Math.round(D.x-Y.x)-this.Y4.x,j=Math.round(D.y-Y.y)-this.Y4.y;
if(this.LN){if(this.d==2){var f=[];if(r.P)f.push(r.P.rect);if(this.LN)f.push(this.LN);if(r.u.m5)f.push(r.u.m5);
D=m.iw.Bh(r,D,W,[!1,f,!0])}else{I=this.LN.clone();I.offset(this.Y4.x+d,this.Y4.y+j);U=m.iw.Tf(r,I,W);
var g=this.XN.aqV(b);if(g==1){U[0]=0;U[2]=1e9}if(g==2){U[1]=0;U[3]=1e9}d+=Math.round(U[0]);j+=Math.round(U[1])}}this.Y4.x+=d;
this.Y4.y+=j;var H=this.LK;if(H&&r==H[0]){r.pY(H[1]);r.I=H[2].slice(0);H[3]=-1}this.s$(r,d,j,D,null,b.j(h8.NN));
if(H&&r==H[0]){var u=this.LN.clone();u.offset(this.Y4.x,this.Y4.y);var s=D,a=r.vE(),_=-1;for(var n=0;
n<r.B.length;n++){var i=r.B[n];if(!i.cB()||i.add.artb==null)continue;var M=i.QT();if(M.LS(s))_=n}if(_!=-1&&_!=a){var T=m.t6.p$(r,this.BU,_,!0,null,!1);
r.pY(T[0]);r.I=T[1];H[3]=_}}this.kC(r,D);if(U)m.iw.tz(r,I,U)};m.iw.prototype.avC=function(r,Q){var W=m.vq(r,this.Jo);
Q=[Q.x,Q.y];var b=r.NO(),X=r.vE();for(var n=0;n<b[0].length;n++){var D=b[0][n],h=b[1][n];if(h!=-1&&h!=X)continue;
if(Math.abs(D[1]-Q[D[0]])<W)return n}return null};m.iw.prototype.s$=function(r,Q,W,b,X,D){if(this.d==0){if(X)m.iw._4(r,this.BU,this.yp,X);
else m.iw.pq(r,this.BU,this.yp,Q,W)}else if(this.d==1){var h=this.xq.data;h.HR.offset(Q,W);m.iw.M4(r,h.l,Q,W)}else if(this.d==2){var S=1e-5;
if(D)S=r.u._<=1?10:1;else if(r.u._<=1)S=1;var a=S*Math.round(b.x/S),K=S*Math.round(b.y/S),Y=[a,K],d=r.RE[this.BU];
d[1]=Y[d[0]]}else if(this.d==3){var j=this.kU,U=E.p.QL([j.x,j.y,b.x,b.y]);this.Dh=U;var I=[];r.root.axR(U,I);
if(JSON.stringify(r.I)!=JSON.stringify(I)){r.I=I;r.yV=r.Ts=!0}}else if(this.d==4){for(var n=0;n<r.Qw.length;
n++)r.Ev[r.Qw[n]].rect.offset(Q,W);r.a9=!0}};m.iw.M4=function(r,Q,W,b){var X=r.B[Q];r.P.rect.offset(W,b);
X.Ae(r,W,b,r.P);r.fi=!0;r.U()};m.iw.prototype.$v=function(r,Q,W,b,X,D){this.Iz(r,X,W);this.kC(r);if(Date.now()-this.nW<300&&!D){var h=m.vM.L7(r,r.u.GF(X.x,X.y));
if(m.iw.Nt(W,X,r.u,!0)){var S=new km(e.E.L);if(X.y>r.u.qv.n-20){S.data={d:e.c.Re,wv:"doczoom",h$:r.u._*100,sA:{Y:e.E.s,b:m.W9,J:{d:"pzoom"}}}}else{S.data={d:e.c.Re,wv:"preferences"}}Q.$(S)}else if(h>=0){var a=new km(e.E.s,!0);
a.b=m.st;a.data={d:"editCurr",Bs:h};Q.$(a)}}this.nW=Date.now();m.Fp.hh(r)};m.iw.prototype.Iz=function(r,Q,W,b,X){if(!this.QU)return;
this.QU=!1;if(this.d==0){if(b){this.aps(r,null,b,X)}else{if(this.Y4.x==0&&this.Y4.y==0)return;this.aps(r,this.Y4.clone())}r.Ca=!0}else if(this.d==2){var D=0;
Q=[Q.x,Q.y];var h=this.BU,S=r.RE[h],dN=this.qf[0].length,a=r.RE.length;if(W.k2&&Q[S[0]]<E.iZ.ZR){var K=r.NO();
K[0].splice(h,1);K[1].splice(h,1);r.xg(K);D=1;if(dN==a-1)return}if(dN<a)D=2;var Y=new c2([[23,2],[23,3],[23,4]][D],this);
Y.data={d:2,qf:this.qf,XF:r.NO()};r.C1(Y)}else if(this.d==4){var Y=new c2([12,54],this);Y.data={d:4,I:r.Qw.slice(0),R:this.Y4.clone()};
r.C1(Y)}this.Y4.DX(0,0)};m.iw.prototype.tf=function(r,Q,W,b){var X=b.pG(r?r.u.tA:0);if(r!=null&&(X.x!=0||X.y!=0)){if(b.j(h8._I)&&r.P==null){var D=new km(e.E.s);
D.b=m.M0;D.data={d:$.fE,a74:!0};Q.$(D)}this.Y4.DX(X.x,X.y);this.pp(r,Q,b,W,!1);if(!this.QU)return;this.s$(r,X.x,X.y);
this.Iz(r,null,W);this.kC(r)}var h=b.j(h8.DS);if(!this.Sk&&this.a0W!=h){if(h){this.aao=this.zi.i0;this.zi.i0=!0}else{this.zi.i0=this.aao}this.a0W=h;
var S=new km(e.E.L,!0);S.data={d:e.c.bp,b:this.id,Eb:this.zi};Q.$(S)}};m.iw.prototype.Zm=function(r,Q){if(r.d==0){var W=r.Gc;
if(W){Q.pY(W.z$);Q.I=W.VU.slice(0);Q.U();Q.yV=!0}m.iw._4(Q,r.I,r.Za,r.qz,!0);m.Fp.hh(Q)}else if(r.d=="fcmy"||r.d=="fvec"){if(r.h$==0)delete Q.add[r.d];
else Q.add[r.d]=r.h$;Q.a9=!0}else if(r.d=="pview"){Q.c7=!Q.c7;Q.U()}else if(r.d==2){Q.xg(r.qf);Q.a9=!0}else if(r.d==4){for(var n=0;
n<r.I.length;n++)Q.Ev[r.I[n]].rect.offset(-r.R.x,-r.R.y);Q.a9=!0}else{var b=Q.B[r.l];if(r._3){b.dP(Q,r.fB);
Q.P=r.vW;Q.fi=!0;Q.U();b.U()}else{m.iw.M4(Q,r.l,-r.HR.x,-r.HR.y)}}};m.iw.prototype.e4=function(r,Q){if(r.d==0){m.iw._4(Q,r.I,r.Za,r.qz);
var W=r.Gc;if(W){Q.pY(W.px);Q.I=W.JP.slice(0);Q.U();Q.yV=!0}m.Fp.hh(Q)}else if(r.d=="fcmy"||r.d=="fvec"){if(r.g2==0)delete Q.add[r.d];
else Q.add[r.d]=r.g2;Q.a9=!0}else if(r.d=="pview"){Q.c7=!Q.c7;Q.U()}else if(r.d==2){Q.xg(r.XF);Q.a9=!0}else if(r.d==4){for(var n=0;
n<r.I.length;n++)Q.Ev[r.I[n]].rect.offset(r.R.x,r.R.y);Q.a9=!0}else{var b=Q.B[r.l];if(r._3){b.f7=r.f7;
Q.P=r.yU;m.iw.M4(Q,r.l,0,0);b.U()}else{m.iw.M4(Q,r.l,r.HR.x,r.HR.y)}}};m.iw.prototype.aps=function(r,Q,W,b){if(W){var X=!0;
for(var n=0;n<W.length;n++)if(W[n]!=0)X=!1;if(X)return}var D=r.history[r.Je],h=this.LK,S=h!=null&&h[3]!=-1&&h[0]==r;
if(!S&&W==null&&D.data&&D.b==this&&D.data.d==0&&JSON.stringify(D.data.I)==JSON.stringify(this.BU)&&JSON.stringify(D.data.Za)==JSON.stringify(this.yp)){var a=D.data.qz,K=D.data.amL.Hf.T.v;
K.Hrzn.v.val+=Q.x;K.Vrtc.v.val+=Q.y;for(var n=0;n<a.length;n+=2){a[n]+=Q.x;a[n+1]+=Q.y}}else{if(Q==null)Q=new cp(W[0],W[1]);
var Y={r7:"move",Hf:{classID:"null",null:cO.RG("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:Q.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:Q.y}}}}}},d=null;
if(S)d={z$:h[1],VU:h[2],px:r.B.slice(0),JP:r.I.slice(0)};this.LK=null;var j=new c2(b?b:[12,54],this);
if(W)j.data={d:0,I:this.BU,Za:this.yp,Gc:d,qz:W};else j.data={d:0,I:this.BU,Za:this.yp,Gc:d,qz:m.iw.aft(this.BU,Q.x,Q.y)};
j.data.amL=Y;r.C1(j);this.track(Y)}};m.iw.aft=function(r,Q,W){var b=[];for(var n=0;n<r.length;n++)b.push(Q,W);
return b};m.iw.pq=function(r,Q,W,b,X){m.iw._4(r,Q,W,m.iw.aft(Q,b,X))};m.iw._4=function(r,Q,W,b,X){if(Q.length==0)return;
if(W==null){W=[];for(var n=0;n<Q.length;n++){W.push(r.B[Q[n]].$Z(r,!0))}}var D=new aV,h=new aV(0,0,r.e,r.n);
for(var n=0;n<Q.length;n++){var S=b[2*n],a=b[2*n+1];if(X){S=-S;a=-a}var K=r.B[Q[n]],Y=W[n];if(K.add.fxrp&&(Y.indexOf(0)!=-1||K.tN()))K.add.fxrp.offset(S,a);
for(var d=0;d<Y.length;d++){var j=Y[d];if(j==0){K.rect.offset(S,a);if(K.$Y()&&K.Xg(r))K.Xg(r).rect.offset(S,a);
if(K.add.artb){var U=K.QT();U.offset(S,a);K.NG(U);var I=K.add.artb.guideIndeces;I=I?I.v:[];for(var f=0;
f<I.length;f++){var g=r.RE[I[f].v];g[1]+=g[0]==0?S:a}}if(K.add.TySh){K.add.TySh.D.translate(S,a);if(K.add.TySh.add){K.add.TySh.add.vmsk.offset(S,a)}}if(K.add.SoLd){var H=new au(1,0,0,1,S,a),u=K.add.SoLd,s=m.EA.JS(u.Trnf),_=m.EA.JS(u.nonAffineTransform);
E.p.D(s,H,s);E.p.D(_,H,_);u.Trnf=m.EA.Aa(s);u.nonAffineTransform=m.EA.Aa(_);m.EA.ayA(u,H)}}if(j==1)K.SS().rect.offset(S,a);
if(j==2){K.add.vmsk.offset(S,a);if(K.add.vogk)E.X.D(K.add.vogk,[1,0,S,0,1,a,0,0],[]);if(K.ix.vx){var i=K.ix.vx.DM.C;
E.p.D(i,new au(1,0,0,1,S,a),i)}}if(j==3){K.Xg(r).z.rect.offset(S,a);if(Y.length==1)K.U()}}if(Y.length>0){var M=K.add.GdFl;
if(M==null)M=K.add.PtFl;if(K.tN()&&!K.Fd()&&K.add.vmsk!=null&&E.A.sq(K.add.vmsk.V)&&K.add.vmsk.Rt==255&&(M==null||M.Algn&&M.Algn.v)){K.rect.offset(S,a)}else K.hR(r);
var T=r.root.FS(K.qN(r),r,Q[n]);if(K.add.artb)T=T.Bc(K.QT());D=D.Bc(T);T.offset(-S,-a);D=D.Bc(T);if(K.UW()&&K.z&&K.z.color==255)D=D.Bc(h);
K.a5N()}}r.U(E.p.jq(D))};m.iw.akB=function(r,Q){var W=[];for(var n=0;n<Q.length;n++){var b=r.B[Q[n]];
W.push(b.$Z(r))}return W};m.iw.tz=function(r,Q,W){var b=r.g._e={C:[],H:[]},X=Q.x+W[0],D=Q.y+W[1];if(W[2]!=1e9){b.H.push("M","L");
b.C.push(W[2],D,W[2],D+Q.n)}if(W[3]!=1e9){b.H.push("M","L");b.C.push(X,W[3],X+Q.e,W[3])}r.a9=!0};m.iw.Bh=function(r,Q,W,b){var X=m.iw.a1L(r,[[Q.x],[Q.y]],W,b);
return new cp(Q.x+X[0],Q.y+X[1])};m.iw.Tf=function(r,Q,W,b,X){var D=X==!0?1:.5,h=m.iw.a1L(r,[[Q.x,Q.x+Math.round(Q.e*D),Q.x+Q.e],[Q.y,Q.y+Math.round(Q.n*D),Q.y+Q.n]],W,b);
return h};m.iw.a1L=function(r,Q,W,b){if(b==null)b=[!0,null,!0];var X=[0,0,1e9,1e9];if(!W.DB)return X;
var D=JSON.parse(JSON.stringify(Q));for(var h=0;h<2;h++){var S=1e9,a=Q[h],K=0;for(var Y=0;Y<a.length;
Y++){var d=m.iw.ait(r,a[Y],D[1-h][Y],h,W,b);if(d!=1e9)D[h][Y]=d;if(d!=1e9&&Math.abs(d-a[Y])<Math.abs(S)){S=d-a[Y];
K=d}}if(S!=1e9){X[h]=S;X[h+2]=K}}return X};m.iw.ait=function(r,Q,W,b,X,D){var h=1e9,S=X.cb,a=X.fl,K=[r.root];
while(K.length!=0&&S[2]){var Y=K.pop(),d=Y.l,j=d.rect;if(!d.cB())continue;if(Y.children)for(var n=0;
n<Y.children.length;n++)K.push(Y.children[n]);if(r.I.indexOf(Y.index)!=-1||j.WB())continue;if(b==0){var U=j.e,I=U>>>1;
if(Math.abs(j.x-Q)<Math.abs(h-Q))h=j.x;if(Math.abs(j.x+I-Q)<Math.abs(h-Q))h=j.x+I;if(Math.abs(j.x+U-Q)<Math.abs(h-Q))h=j.x+U}else{var f=j.n,g=f>>>1;
if(Math.abs(j.y-Q)<Math.abs(h-Q))h=j.y;if(Math.abs(j.y+g-Q)<Math.abs(h-Q))h=j.y+g;if(Math.abs(j.y+f-Q)<Math.abs(h-Q))h=j.y+f}}if(D[0]&&S[0]&&a.RE&&X.EQ){var H=r.NO(),u=H[0],s=H[1],_=r.vE();
for(var n=0;n<u.length;n++)if((s[n]==-1||s[n]==_)&&u[n][0]==b&&Math.abs(u[n][1]-Q)<Math.abs(h-Q))h=u[n][1]}if(S[1]&&a.Zi&&X.EQ){var i=Math.round(E.iZ.QO(a.fe,r.HW,r.e,a.K$));
if(b==1&&a.wJ==1){var M=W*.5*Math.sqrt(4/3),T;i*=Math.sqrt(4/3);T=Math.round((Q-M)/i)*i+M;if(Math.abs(T-Q)<Math.abs(h-Q))h=T;
T=Math.round((Q+M)/i)*i-M;if(Math.abs(T-Q)<Math.abs(h-Q))h=T}else{var T=Math.round(Q/i)*i;if(Math.abs(T-Q)<Math.abs(h-Q))h=T}}var R=r.Pq;
if(S[3]&&a.Pq&&X.EQ&&R.length!=0){for(var n=0;n<R.length;n++){if(!D[2]&&r.W6.indexOf(n)!=-1)continue;
var z=m.sn.DN(R,n);for(var G=0;G<3;G+=2)if(z[G+b]!=Q&&Math.abs(z[G+b]-Q)<Math.abs(h-Q))h=z[G+b]}}if(D[1])for(var V=0;
V<D[1].length;V++){var j=D[1][V],U=j.e,f=j.n,y=[j.x,j.y,j.x+(U>>>1),j.y+(f>>>1),j.x+U,j.y+f];for(var n=0;
n<6;n+=2)if(Math.abs(y[n+b]-Q)<Math.abs(h-Q))h=y[n+b]}if(S[4]){var j=new aV(0,0,r.e,r.n),_=r.vE();if(_!=-1)j=r.B[_].QT();
var U=j.e,f=j.n,y=[j.x,j.y,j.x+(U>>>1),j.y+(f>>>1),j.x+U,j.y+f];for(var n=0;n<6;n+=2)if(Math.abs(y[n+b]-Q)<Math.abs(h-Q))h=y[n+b]}var k=Math.abs(h-Q)<=4*m.i()/r.u._?h:1e9;
return k};m.WD=function(){m.to.call(this,[10,12],m.uS,"tools/mwand");this.Lx=null};m.WD.prototype=new m.to;
m.WD.prototype.$Q=m.to.prototype.abc;m.WD.prototype.s_=m.to.prototype.axe;m.WD.prototype.DF=function(r,Q,W,b){this.Lx=b;
this.aod=this.zi.wconf[0];this.finish(r,Q,W,b)};m.WD.prototype.Fx=function(r,Q,W,b,X){if(!b.hY)return;
var D=new km(e.E.s);D.b=m.sp;D.data={d:"h_stepbck"};X.$(D);var h=b.x-this.Lx.x,S=Math.max(0,Math.min(255,Math.round(this.aod+h/4)));
this.zi.wconf[0]=S;this.Kb(X);this.finish(r,Q,W,this.Lx)};m.WD.prototype.Tn=function(r,Q,W,b,X){this.zi.wconf[0]=this.aod;
this.Kb(X)};m.WD.prototype.getSelection=function(r,Q,W,b){var X=this.Iy;X=r.u.GF(b.x,b.y);var D=m.to.axg(new cp(Math.floor(X.x),Math.floor(X.y)),this.zi.wconf,this.zi.sall);
return D};m.WD.ali=function(r,Q,W,b,X){if(r.I.length!=1){alert("More than one layer selected.");return null}var D=r.B[r.I[0]],h=null,S;
if(X)h=D.L$<=0?null:D.L$==1?D.SS():D.Xg(r).z;if(h==null&&D.add.lsct!=null&&D.add.lsct!=d1.TL){alert("No layer selected.");
return null}if(Q.x<0||Q.x>r.e||Q.y<0||Q.y>r.n)return null;var a=new aV(0,0,r.e,r.n);if(b){S=r.T6()}else if(h==null&&a.s4(D.rect))S=D.buffer;
else{S=E.Q(a.O()*4);if(h==null)E.TU(D.buffer,D.rect,S,a);else m.AZ.m2(h.channel,h.rect,h.color,S,a)}var K=m.WD.ab9(S,a,Q,null,W),Y=E.ub(K,a),d=E.Q(Y.O());
E.L0(K,a,d,Y);return{rect:Y,channel:d}};m.WD.ah4=function(r,Q,W){var b=Q.e,X=Q.n,h=0,S=0,a=0,K=0;r=new Uint32Array(r.buffer);
var D=[],Y=W.length;for(var n=0;n<Y;n++){var d=W[n],j=Math.round(d.x-.5-Q.x),U=Math.round(d.y-.5-Q.y);
j=Math.max(0,Math.min(b-1,j));U=Math.max(0,Math.min(X-1,U));var I=U*b+j,f=r[I];D.push([f&255,f>>8&255,f>>16&255,f>>>24])}return D};
m.WD.ab9=function(r,Q,W,b,X){r=new Uint32Array(r.buffer);var D=Q.e,h=Q.n,S=D*h;if(b==null)b=m.WD.ah4(r,Q,[W]);
var a=Math.round(W.x-.5-Q.x),K=Math.round(W.y-.5-Q.y),Y=K*D+a,d=Date.now(),j=E.Q(D*h),U=X[0],I=1/U,f=X[1]&&U>0?255:0;
if(X[2]){var g=E.Q(j.length),H=new Uint32Array(S),u=1;H[0]=a<<16|K;g[Y]=1;while(u>0){var s=H[u-1];u--;
var _=s>>>16,i=s&65535,n=i*D+_,M=m.WD.yq(r[n],b);if(M>U){var T=f*(1-Math.max(0,Math.min(1,(M-U)*I)));
j[n]=~~T}else{j[n]=255;if(i!=h-1&&g[n+D]==0){H[u++]=_<<16|i+1;g[n+D]=1}if(i!=0&&g[n-D]==0){H[u++]=_<<16|i-1;
g[n-D]=1}if(_!=D-1&&g[n+1]==0){H[u++]=_+1<<16|i;g[n+1]=1}if(_!=0&&g[n-1]==0){H[u++]=_-1<<16|i;g[n-1]=1}}}}else{for(var n=0;
n<S;n++){var M=m.WD.yq(r[n],b);if(M<=U)j[n]=255}for(var i=0;i<h;i++)for(var _=0;_<D;_++){var n=i*D+_;
if(j[n]==0&&(_>0&&(j[n-1]==255||i>0&&j[n-D-1]==255||i<h-1&&j[n+D-1]==255)||_<D-1&&(j[n+1]==255||i>0&&j[n-D+1]==255||i<h-1&&j[n+D+1]==255)||i>0&&j[n-D]==255||i<h-1&&j[n+D]==255)){var M=m.WD.yq(r[n],b),T=f*(1-Math.max(0,Math.min(1,(M-U)*I)));
j[n]=~~T}}}return j};m.WD.yq=function(r,Q){var W=Q.length,b=m.WD.a5u(r,Q[0]),n=1;while(n!=W){b=Math.min(b,m.WD.a5u(r,Q[n]));
n++}return b};m.WD.a5u=function(r,Q){var W=r&255,b=r>>>8&255,X=r>>>16&255,D=r>>>24&255;if(Q[3]==0)return D<5?0:255;
var h=Math.max(Math.abs(W-Q[0]),Math.max(Math.abs(b-Q[1]),Math.abs(X-Q[2])));return D==0?255:h};m.C2=function(r,Q){if(Q)m.AZ.call(this);
else if(r)m.AZ.call(this,[10,49],m.Hi,"tools/camove");else m.AZ.call(this,[10,26],m.lj,"tools/patch");
this.Ob=null;this.vx=null;this.R=null;this.D_=null;this.EM=new cp;this.io=null;this.aZ=null};m.C2.prototype=new m.AZ;
m.C2.prototype.pZ=function(r,Q,W,b,X){var D=r.u.GF(X.x,X.y);if(r.P&&E.Js(D,r.P.channel,r.P.rect)){var h=new aV(0,0,r.e,r.n),S=h.ww(r.P.rect);
if(!r.P2()||S.WB())return;if(!0){var a=E.Q(S.O());E.L0(r.P.channel,r.P.rect,a,S);r.P={channel:a,rect:S}}this.nl(r);
this.o0(r);this.D_=D;this.EM=new cp(D.x-r.P.rect.x,D.y-r.P.rect.y);this.aZ=E.Q(r.P.rect.O()*4);this.aZ.fill(255);
if(this.zi.patch==1){var K=r.B[r.I[0]];K.$i(r,r.P,!0);if(K.f7==null)this.D_=null}this.io=r.P.rect.clone()}else{this.vx={C:[D.x,D.y],H:["M"]};
this.Ob=D}};m.C2.prototype.Dc=function(r,Q,W,b,X){var D=r.u.GF(X.x,X.y);if(this.D_){if(this.zi.patch==1){if(r.Qw.length==0){var h=r.B[r.I[0]].f7,S=D.x-this.EM.x,a=D.y-this.EM.y;
m.iw.M4(r,r.I[0],Math.round(S-h.AO.x),Math.round(a-h.AO.y))}}else this.a78(r,D,"clone")}if(this.Ob){this.vx.H.push("L");
this.vx.C.push(D.x,D.y);this.Ob=D;r.g.ac=this.vx;r.a9=!0}};m.C2.prototype.$v=function(r,Q,W,b,X){var D=r.u.GF(X.x,X.y);
if(this.D_){var h=r.P.rect.clone();if(this.id==m.Hi){var S=r.B[r.I[0]];S.dP(r,S.f7);r.P.rect=this.io.clone();
var a=E.Q(r.P.rect.O()*4);E.nV(r.P.channel,a,3);this.wr(r,"sheal",a,r.P.rect,r.P.rect);r.P.rect=h;h=h.Bc(this.io)}this.a78(r,D,"heal");
this.finish(r,h,null,null,!0);r.U(h);this.D_=null}if(this.Ob){var K=m.to.Oi(this.zi.setop,b.j(h8.NN),b.j(h8._I)),Y=new km(e.E.Kk,!0);
if(this.vx.C.length<=4)Y.data=m.to.wF();else Y.data=m.to.qX(this.vx.C,K);Q.$(Y);this.Ob=null;r.g.ac=null;
r.a9=!0}};m.C2.prototype.CL=function(){return this.R};m.C2.prototype.Ew=function(r,Q,W,b,X){m.AZ.prototype.Ew.call(this,r,Q,W,b,X);
this.SN(X,b)};m.C2.prototype.SN=function(r,Q){var W="auto;";if(Q!=null&&Q.j(h8.NN)&&!Q.j(h8._I)||this.zi.setop=="union")W="copy";
var b=new km(e.E.L,!0);b.data={d:e.c.gc,LG:W};if(this.caller)this.caller.$(b)};m.C2.prototype.a78=function(r,Q,W){var b=new cp(Math.round(this.D_.x-Q.x),Math.round(this.D_.y-Q.y));
if(this.zi.patch==1)b.DX(-b.x,-b.y);this.R=b;this.wr(r,W,this.aZ,r.P.rect,r.P.rect);this.U(r,r.P.rect)};
m.agS=function(){m.C2.call(this,!0);this.zi.patch=1};m.agS.prototype=new m.C2(!0,!0);m.Yx=function(){m.AZ.call(this,[10,13],m.ar_,"tools/pbucket");
this._w=!1};m.Yx.prototype=new m.AZ;m.Yx.prototype.enable=function(r,Q,W,b){var X=new km(e.E.L,!0);X.data={d:e.c.gc,LG:"default"};
Q.$(X)};m.Yx.prototype.VJ=function(r,Q){};m.Yx.prototype.pZ=function(r,Q,W,b,X){this._w=!0};m.Yx.prototype.$v=function(r,Q,W,b,X,D){var h=this._w;
this._w=!1;if(!h||D)return;if(this.ti(b,Q,X))return;if(!r.P2())return;var S=r.u.GF(X.x,X.y),a=m.WD.ali(r,S,this.zi.wconf,this.zi.sall,!0);
if(a==null)return;var K=E.Q(a.rect.O()*4);E.tl(K,(W.V8&255)<<16|(W.V8>>8&255)<<8|(W.V8>>16&255)<<0);
E.nV(a.channel,K,3);this.nl(r);this.wr(r,"draw",K,a.rect,a.rect);this.U(r,a.rect);this.finish(r,a.rect)};
m.nt=function(){m.to.call(this,[10,14],m.a0M,"tools/plasso");this._r="crosshair";this.dM=[];this.ZN=null;
this.vx=null;this.auy=0};m.nt.prototype=new m.to;m.nt.prototype.disable=function(r,Q,W,b){this.rf(r)};
m.nt.prototype.DF=function(r,Q,W,b){this.dM=[h8.ZI,h8.$G]};m.nt.prototype.qy=function(r){return this.dM.indexOf(r)!=-1};
m.nt.prototype.YK=function(r){return this.vx!=null};m.nt.prototype.$s=function(){return this.vx!=null};
m.nt.prototype.ND=function(){return this.vx!=null};m.nt.prototype.Fx=function(r,Q,W,b){if(this.vx==null)return;
var X=this.vx,D=X.C,h=D.length-2,S=this.Iy;if(this.Co.k$(1)&&W.j(h8._I)&&b.hY){D.push(0,0);X.H.push("L");
h+=2}else if(W.j(h8.NN))S=m.N3.ha(new cp(D[h-2],D[h-1]),S);D[h]=S.x;D[h+1]=S.y;r.g.ac=X;r.a9=!0};m.nt.prototype.Tn=function(r,Q,W,b){var X=Date.now();
if(this.vx==null)this.vx={C:[this.Iy.x,this.Iy.y,this.Iy.x,this.Iy.y],H:["M","L"]};else{this.Fx(r,Q,W,b);
if(X-this.auy<250||cp.ks(this.Iy,new cp(this.vx.C[0],this.vx.C[1]))<m.vq(r,b)){this.ZN=this.vx;this.finish(r,Q,W,b);
this.rf(r);return}this.vx.H.push("L");this.vx.C.push(this.Iy.x,this.Iy.y)}this.auy=X;r.g.ac=this.vx};
m.nt.prototype.rf=function(r){this.vx=null;this.dM=[];if(r!=null){r.g.ac=null;r.a9=!0}};m.nt.prototype.tf=function(r,Q,W,b){m.to.prototype.tf.call(this,r,Q,W,b);
if(b.j(h8.V2)&&this.vx==null&&this.ZN&&r.P!=null){var X=new km(e.E.s);X.b=m.sp;X.data={d:"h_stepbck"};
Q.$(X);this.DF(r,W,b,null);this.vx=this.ZN;return}if(this.vx==null)return;if(b.j(h8.ZI)||b.j(h8.$G)){this.vx.C.pop();
this.vx.C.pop();this.vx.H.pop();this.Fx(r,W,b)}if(b.j(h8.Cj)){if(this.vx.C.length>4){this.ZN=this.vx;
this.finish(r,W,b)}this.vx=null}if(b.j(h8.V2)){this.vx=null}r.g.ac=this.vx;r.a9=!0};m.nt.prototype.getSelection=function(r,Q,W,b){return m.to.qX(this.vx.C,null,this.zi.anta)};
m.jX=function(){m.to.call(this,[10,10],m.a89,"tools/mlasso");this._r="crosshair";this.dM=[];this.V=[];
this.xh=[];this.wZ=[];this.Hv=null;this.mM=null;this.h5=null;this.nW=0;this.V4=0};m.jX.prototype=new m.to;
m.jX.prototype.disable=function(r,Q,W,b){this.clear(r)};m.jX.prototype.YK=function(r){return this.V.length!=0};
m.jX.prototype.ND=function(){return this.V.length!=0};m.jX.prototype.qy=function(r){return this.dM.indexOf(r)!=-1};
m.jX.prototype.DF=function(r,Q,W,b){this.dM=[h8.ZI,h8.$G];var X=this.yx(this.zo,r);if(this.V.length!=0&&(cp.ks(X,this.V[0])<m.vq(r,b)||Date.now()-this.nW<300)){this.bT(r,this.V[0]);
this.finish(r,Q,W);this.clear(r);return}this.nW=Date.now();if(this.V.length!=0)X=this.XO(X,r);else{var D=r.e,h=r.n,S=E.Q(D*h),a=r.T6(),K=D*h*4;
for(var n=0;n<K;n+=4)S[n>>>2]=~~(.5+E.f_(a[n],a[n+1],a[n+2])*(a[n+3]*(1/255)));this.Hv=E.Ph.ahx(S,D,h);
this.h5=new Uint16Array(S.length)}this.bT(r,X);this.V4=W.j(h8._I)?1:0;this.e8(r)};m.jX.prototype.bT=function(r,Q){var W=this.V;
this.xh[W.length]=this.wZ.length;if(W.length!=0){E.Ph.zz(this.mM,Q.y*r.e+Q.x);var b=this.Hp(r,Q);b.reverse();
var X=m.jX.afM(r,b);this.wZ=this.wZ.concat(X)}W.push(Q);this.asm(r)};m.jX.prototype.asm=function(r){var Q=this.V[this.V.length-1],W=Q.y*r.e+Q.x;
this.mM=E.Ph.aj1(this.Hv.H9,this.Hv.qC,W);this.h5.fill(0)};m.jX.prototype.yx=function(r,Q){return new cp(Math.floor(Math.max(0,Math.min(Q.e-1,r.x))),Math.floor(Math.max(0,Math.min(Q.n-1,r.y))))};
m.jX.prototype.clear=function(r){this.wZ=[];this.V=[];this.xh=[];this.Hv=null;this.mM=null;this.h5=null;
if(r!=null){r.g.ac=null;r.g.in=[];r.a9=!0}this.dM=[]};m.jX.prototype.Fx=function(r,Q,W,b){var X=this.V,D=X.length;
if(D==0)return;var h=this.XO(this.yx(this.Iy,r),r),S=this.Hp(r,h);for(var n=0;n<S.length;n++){var a=S[n],K=new cp(a%r.e,Math.floor(a/r.e));
if(this.h5[a]>30&&cp.ks(K,X[D-1])>20){this.bT(r,K);return}this.h5[a]++}if(this.V4==1&&b.hY)this.bT(r,h);
this.e8(r)};m.jX.prototype.e8=function(r){var Q=this.V;if(Q.length!=0){var W=this.XO(this.yx(this.Iy,r),r),b=this.Hp(r,W);
b.reverse();var X=m.jX.afM(r,b),D=this.wZ.concat(X),h=r.g.ac={C:D,H:["M"]};for(var n=2;n<D.length;n+=2)h.H.push("L")}r.g.in=[];
for(var n=0;n<Q.length;n++)r.g.in.push(Q[n].x+.5,Q[n].y+.5);r.a9=!0};m.jX.prototype.Tn=function(r,Q,W,b){};
m.jX.prototype.tf=function(r,Q,W,b){if(this.V.length==0)return;if(b.j(h8.ZI)||b.j(h8.$G)){this.V.pop();
this.wZ=this.wZ.slice(0,this.xh[this.V.length]);this.xh.pop();if(this.V.length==0)this.clear(r);else this.asm(r);
this.e8(r)}if(b.j(h8.Cj)){var X=this.yx(this.Iy,r);this.bT(r,X);this.finish(r,W,b);this.clear(r)}if(b.j(h8.V2)){this.clear(r)}};
m.jX.prototype.getSelection=function(r,Q,W,b){return m.to.qX(this.wZ,null,this.zi.anta)};m.jX.prototype.Hp=function(r,Q){var W=this.V[this.V.length-1],b=W.y*r.e+W.x,X=Q.y*r.e+Q.x;
if(this.V4==1)return[X,b];var D=[X];while(X!=b){X=this.mM.XL[X];D.push(X);if(D.length>5e3){console.log(D);
throw"e"}}return D};m.jX.afM=function(r,Q){var W=[],b=r.e;for(var n=0;n<Q.length;n++){var X=Q[n];W.push(X%b+.5,Math.floor(X/b)+.5)}return W};
m.jX.prototype.XO=function(r,Q){var W=Q.e,b=Q.n,X=r.clone(),h=3;E.Ph.zz(this.mM,r.y*W+r.x);var D=this.mM.HM[r.y*W+r.x];
for(var S=-h+1;S<h;S++)for(var a=-h+1;a<h;a++){var K=r.x+a,Y=r.y+S;if(K<0||K>=W||Y<0||Y>=b)continue;
E.Ph.zz(this.mM,Y*W+K);if(this.mM.HM[Y*W+K]<D)X.DX(K,Y)}return X};m.mB=function(){m.y6.call(this,[10,36],m.pC,"tools/ruler");
this.Sp=null;this.hi=null;this.qb=null;this._g=null;this.JU=null};m.mB.prototype=new m.y6;m.mB.prototype.YK=function(r){return r.hY};
m.mB.prototype.enable=function(r,Q,W,b){m.y6.prototype.enable.call(this,r,Q,b,W);if(r)this.kC(r)};m.mB.prototype.disable=function(r,Q,W,b){if(r)this.rf(r)};
m.mB.prototype.IU=function(r,Q,W,b,X){this.Sp=this.qb=null;this.kC(W)};m.mB.prototype.pZ=function(r,Q,W,b,X){var D=m.vq(r,X),h=r.u.GF(X.x,X.y);
h.x=Math.round(h.x);h.y=Math.round(h.y);var S=this.Sp;this.hi=S?S.slice(0):null;var a=S&&cp.ks(h,S[0])<D,K=S&&cp.ks(h,S[1])<D,Y=S&&S[2]&&cp.ks(h,S[2])<D;
if(a||K||Y){if(b.j(h8._I)&&S.length==2){if(K){var d=S[0];S[0]=S[1];S[1]=d}S[2]=S[0].clone();this.qb=[2]}else this.qb=[a?0:K?1:2]}else if(S&&m.mB.arO(S[0],S[1],h)<D&&Math.min(S[0].x,S[1].x)-5<=h.x&&h.x<=Math.max(S[0].x,S[1].x)+5&&Math.min(S[0].y,S[1].y)-5<=h.y&&h.y<=Math.max(S[0].y,S[1].y)+5){this.qb=[];
this.JU=[];for(var n=0;n<S.length;n++){this.qb.push(n);this.JU.push(S[n].clone())}this._g=h}else{this.Sp=[h.clone(),h.clone()];
this.qb=[1]}};m.mB.prototype.Dc=function(r,Q,W,b,X){if(this.qb==null)return;var D=this.Sp,h=this.qb,S=r.u.GF(X.x,X.y);
S.x=Math.round(S.x);S.y=Math.round(S.y);if(h.length>1){var a=S.x-this._g.x,K=S.y-this._g.y;for(var n=0;
n<D.length;n++){D[n]=this.JU[n].clone();D[n].offset(a,K)}}else{D[h[0]].DX(S.x,S.y);if(b.j(h8.NN)){D[h[0]]=m.N3.ha(D[1-h[0]],D[h[0]])}}this.kC(r);
this.mC(Q,e.E.L,{d:e.c.bp,b:this.id,ap5:D[0],Ir:D[1],nx:D[2],HW:r.HW,aut:r.e});r.u.m5=E.p.QL([D[0].x,D[0].y,D[1].x,D[1].y]);
console.log(r.u.m5)};m.mB.prototype.$v=function(r,Q,W,b,X,D){this.qb=null;if(D){this.Sp=this.hi.slice(0);
this.kC(r)}};m.mB.prototype.mC=function(r,Q,W){var b=new km(Q,!0);b.data=W;r.$(b)};m.mB.prototype.kC=function(r){var Q=this.Sp;
if(Q==null)this.rf(r);else{var W=[Q[1].x,Q[1].y,Q[0].x,Q[0].y],b=["M","L"];if(Q.length>2){W.push(Q[2].x,Q[2].y);
b.push("L")}r.g.ac={H:b,C:W};r.g.in=W}r.a9=!0};m.mB.prototype.rf=function(r){r.g.ac=null;r.g.in=[]};
m.mB.arO=function(r,Q,W){var b=Q.x-r.x,X=Q.y-r.y,D=Math.abs(X*W.x-b*W.y+Q.x*r.y-Q.y*r.x),h=Math.sqrt(b*b+X*X);
return h==0?0:D/h};m.Qx=function(){m.AZ.call(this,[10,19],m.Fg,"tools/sharpen");this.b9="copy"};m.Qx.prototype=new m.AZ;
m.Qx.prototype.pZ=function(r,Q,W,b,X){var D=this.zi.pdetail?hS.kn:hS.Fg;if(b.j(h8._I))D=hS.cU;this.Yc(r,W,b,X,this.zi.strn,D);
if(this.dU==null)return;this.eM(r)};m.Qx.prototype.Dc=function(r,Q,W,b,X){this.Ak(r,Q,W);if(this.uf)this.Dt(r,W,X);
if(this.dU==null)return;if(!X.hY)return;this.GO(r,W,b,X);this.eM(r)};m.GQ=function(){m.AZ.call(this,[10,24],m.wO,"tools/shbrush");
this.b9="draw";this.zi.opacity=.5};m.GQ.prototype=new m.AZ;m.GQ.prototype.pZ=function(r,Q,W,b,X){this.Yc(r,W,b,X,1);
if(this.dU==null)return;this.o0(r);this.eM(r)};m.GQ.prototype.Dc=function(r,Q,W,b,X){this.Ak(r,Q,W);
if(this.uf)this.Dt(r,W,X);if(this.dU==null)return;if(!X.hY)return;this.GO(r,W,b,X);this.eM(r)};m.GQ.prototype.$v=function(r,Q,W,b,X){if(this.dU==null)return;
this.wr(r,"sheal",this.dU.P3(),this.dU.J4(),this.dU.fk(),null);this.U(r,this.dU.fk());m.AZ.prototype.$v.call(this,r,Q,W,b,X)};
m._G=function(){m.AZ.call(this,[10,20],m.rJ,"tools/smudge");this.b9="copy"};m._G.prototype=new m.AZ;
m._G.prototype.pZ=function(r,Q,W,b,X){this.Yc(r,W,b,X,this.zi.strn,hS.rJ);if(this.dU==null)return;this.eM(r)};
m._G.prototype.Dc=function(r,Q,W,b,X){this.Ak(r,Q,W);if(this.uf)this.Dt(r,W,X);if(this.dU==null)return;
if(!X.hY)return;this.GO(r,W,b,X);this.eM(r)};m.ra=function(){m.AZ.call(this,[10,23],m.uo,"tools/sponge");
this.b9="sponge"};m.ra.prototype=new m.AZ;m.ra.prototype.pZ=function(r,Q,W,b,X){this.Yc(r,W,b,X,this.zi.flow);
if(this.dU==null)return;this.eM(r)};m.ra.prototype.Dc=function(r,Q,W,b,X){this.Ak(r,Q,W);if(this.uf)this.Dt(r,W,X);
if(this.dU==null)return;if(!X.hY)return;this.GO(r,W,b,X);this.eM(r)};m.uj=function(){m.y6.call(this,[10,17],m.W9,"tools/zoom");
this.j4=!1;this.H3=!0;this.RH=0;this.Qb=null;this.ED=null;this.PV=0;this.I4=null;this.jW=0;this.v3=new ka([{name:[8,0],hM:"Ctrl + +"},{name:[8,1],hM:"Ctrl + -",Xe:!0},{name:[20,3],hM:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],hM:"Ctrl + 1"}],[{Y:e.E.s,b:m.W9,J:{d:"zoom",H3:!0}},{Y:e.E.s,b:m.W9,J:{d:"zoom",H3:!1}},{Y:e.E.s,b:m.W9,J:{d:"adapt",h:"fitscr"}},{Y:e.E.s,b:m.W9,J:{d:"adapt",h:"pixel"}}])};
m.uj.prototype=new m.y6;m.uj.prototype.Rc=function(r,Q,W,b,X){var D=this.v3;D.r();D.parent=Q;D.update(r,W);
var h=new km(e.E.L,!0);h.data={d:e.c.I2,MY:D,x:X.e7+2,y:X.ID+1};Q.$(h)};m.uj.prototype.enable=function(r,Q,W,b){this.D4(Q,b);
if(r&&Date.now()-this.RH<300)this.IU({d:"adapt",h:"pixel"},Q,r,b,W);this.RH=Date.now()};m.uj.prototype.pZ=function(r,Q,W,b,X){this.ED=new cp(X.x,X.y);
this.PV=r.u._;this.I4=r.u.R.clone()};m.uj.prototype.Dc=function(r,Q,W,b,X){if(this.ED==null)return;var D=Math.exp(Math.log(this.PV)+(X.x-this.ED.x)/64);
D=Math.max(.02,Math.min(m.uj.IF[0],D));r.u._=this.PV;r.u.R=this.I4.clone();this.IU({d:"zoom",_:D,Jo:this.ED},Q,r,b,W)};
m.uj.prototype.$v=function(r,Q,W,b,X){if(cp.ks(this.ED,X)<4){var D=this.axE(b);this.IU({d:"zoom",H3:D,Jo:X},Q,r,b,W)}this.ED=null};
m.uj.IF=[128,64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
m.uj.aw6=function(r,Q,W,b){var X=1;while(r*X*1/2>W||Q*X*1/2>b)X*=1/2;if(r*X*2/3>W||Q*X*2/3>b)X*=1/2;
else if(r*X>W||Q*X>b)X*=2/3;return X};m.uj.aqZ=function(r,Q){var W=m.uj.alq(r);if(Q&&W==0)return r;if(!Q&&W==m.uj.IF.length-1)return r;
return m.uj.IF[Q?W-1:W+1]};m.uj.alq=function(r){var Q=0;while(m.uj.IF[Q]>r)Q++;return Q};m.uj.Bf=function(r,Q,W,b){var X=r.gR;
if(b==0||b==null){b=m.uj.aqZ(r._,W);if(b==r._)return}var D=r.GF(Q.x,Q.y);D.x=Math.max(0,Math.min(X.e,D.x));
D.y=Math.max(0,Math.min(X.n,D.y));if(!1){}else{var h=r.Ab(),S=r._/b;h.translate(-D.x,-D.y);h.scale(S,S);
h.translate(D.x,D.y);r.a19(h)}};m.uj.prototype.IU=function(r,Q,W,b,X){if(r.d=="pzoom"){if(typeof r.h=="string")return;
r={d:"zoom",_:r.h/100}}var D=0,h=!1,S=null;if(r.d=="adapt"){var a=0;if(r.h=="pixel")a=1;if(r.h=="fitscr"){var a=0,K=W.u.qv.e,Y=W.u.qv.n,d=new aV(0,0,W.e,W.n),j=E.p.vk(d).C,U=new au;
U.rotate(W.u.tA);E.p.D(j,U,j);var I=E.p.Z3(j),f=X.k2?E.iZ.ZR+4:8;a=Math.min((K-f*2)/I.e,(Y-f*2)/I.n);
W.u.R.DX(0,0)}S=new cp(Math.round(W.u.qv.e/2),Math.round(W.u.qv.n/2));D=a;m.uj.Bf(W.u,S,h,D);W.Ca=!0}if(r.d.startsWith("multi")){function g(V){var y=V[0].x-V[1].x,k=V[0].y-V[1].y;
return Math.sqrt(y*y+k*k)}function H(V){return new cp((V[0].x+V[1].x)/2,(V[0].y+V[1].y)/2)}var u=r.ih,s=H(u);
if(r.d=="multidown"){this.Qb=[u,W.u._,W.u.GF(s.x,s.y)]}else{var _=m.uj.IF;D=this.Qb[1]*g(u)/g(this.Qb[0]);
D=Math.max(_[_.length-1],Math.min(_[0],D));if(D!=W.u._)m.uj.Bf(W.u,s,h,D);var i=this.Qb[2],M=W.u.Au(i.x,i.y),T=W.u.R;
T.x=Math.round(T.x+s.x-M.x);T.y=Math.round(T.y+s.y-M.y);W.Ca=!0}}if(r.d=="scroll"){S=r.Jo;this.jW+=r.VG.y;
var R=14;if(this.jW<-R){h=!0;this.jW=Math.max(this.jW+R,-(R-1))}else if(this.jW>R){h=!1;this.jW=Math.min(this.jW-R,R-1)}else return;
m.uj.Bf(W.u,S,h,D);W.Ca=!0}if(r.d=="zoom"){S=r.Jo?r.Jo:new cp(Math.round(W.u.qv.e/2),Math.round(W.u.qv.n/2));
if(r._!=null)D=r._;else h=r.H3;m.uj.Bf(W.u,S,h,D);W.Ca=!0}if(r.d=="mskView"){var z=W.B[W.I[0]];if(z.L$<=0){z.L$=1;
W.yV=!0}var G=z.L$==3?z.Xg(W).z:z.SS();if(r.h==0){W.u.Vu=[1,1,1];G.Xo=!1}if(r.h==1){W.u.Vu=[1,1,1];G.Xo=!0}if(r.h==2){W.u.Vu=[0,0,0];
G.Xo=!0}for(var n=0;n<W.Ev.length;n++)W.Ev[n].Xo=!1;W.Qw=[];W.a9=!0}};m.uj.prototype.tf=function(r,Q,W,b){if(this.j4!=b.j(h8._I)){this.j4=b.j(h8._I);
var X={d:e.c.bp,b:this.id,j4:this.j4},D=new km(e.E.L,!0);D.data=X;Q.$(D);this.D4(Q,b)}};m.uj.prototype.D4=function(r,Q){var W=new km(e.E.L,!0),b=this.axE(Q);
W.data={d:e.c.gc,LG:b?"zoom-in":"zoom-out"};r.$(W)};m.uj.prototype.Ew=function(r,Q,W,b){this.H3=r.H3;
this.D4(Q,b)};m.uj.prototype.axE=function(r){var Q=this.H3;if(r.j(h8.ye)&&r.j(h8.DS))Q=!0;if(this.j4)Q=!Q;
return Q};m.uj.ac0=function(r,Q){if(r.j(h8.Ex)||r.j(h8.avp)){Q.b=m.W9;Q.data={d:"zoom",H3:!0}}if(r.j(h8.Ek)){Q.b=m.W9;
Q.data={d:"zoom",H3:!1}}if(r.j(h8.DC)){Q.b=m.W9;Q.data={d:"adapt",h:"fitscr"}}if(r.j(h8.Zs)){Q.b=m.W9;
Q.data={d:"adapt",h:"pixel"}}};m.N9=function(r,Q,W){m.y6.call(this,r,Q,W);this.vY=null;this.Ha=null;
this.OD=null;this.ak3=0};m.N9.prototype=new m.y6;m.N9.nb=function(r){var Q={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},W=r==0?{classID:"null",null:Q,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:Q,Usng:{t:"type",v:{classID:"PbTl"}},__name:"Stroke"};
return{r7:r==0?"fill":"stroke",Hf:W}};m.N9.prototype.enable=function(r,Q,W,b,X){this.Ha=W;var D=new km(e.E.L,!0);
D.data={d:e.c.gc,LG:"default"};Q.$(D)};m.N9.prototype.Rc=function(r,Q,W,b,X){var D=r.tt(),h=D[0],S=D[1];
if(S.length==0)return;var a=h[S[0]],K=a.add.vmsk,Y=r.u.GF(X.x,X.y),d=4*m.i()/r.u._,j=new aV(Y.x-d,Y.y-d,d*2,d*2),U=E.A.ng(K.V,j)[0];
if(U.length!=0){K.UJ=U;r.a9=!0}var I=E.A.Js(K.V,Y).C_;if(I!=-1){K.I=[I];r.a9=!0}var f=new km(e.E.L,!0);
f.data={d:e.c.bp,b:this.id,gD:X,iG:r,zb:W};Q.$(f)};m.N9.prototype.akf=function(r,Q){var W=new km(e.E.L,!0);
W.data={d:e.c.bJ,Lb:d4.JY};if(!Q.EQ)r.$(W);W.data={d:e.c.bJ,Lb:d4.ij};if(!Q.fl.ZS)r.$(W)};m.N9.prototype.Wq=function(r,Q,W,b){if(W.at!=this.id)return;
if(r.I.length==0)return;var X=r.B[r.I[0]],D=X.add.vmsk,h=X.add.vstk,S=m.N9.f2(r,r.I[0]);this.vY=r;this.OD=Q;
if(X.tN()&&D!=null&&(JSON.stringify(h)!=JSON.stringify(W.RY)||JSON.stringify(S)!=JSON.stringify(W.aB))){this.ak3=Date.now();
var a=new km(e.E.L,!0);a.data={d:e.c.bJ,Lb:d4.Yi,h:S};Q.$(a);a.data={d:e.c.bJ,Lb:d4._L,h:h};Q.$(a)}};
m.N9.prototype.VJ=function(r,Q){if(this.vY==null)return;if(Q==d4.KF||Q==d4.Yi||Q==d4._L){if(Date.now()-this.ak3<50)return;
var W=Q==d4.Yi,b=this.vY,X=W?r.aB:r.RY,D=[],h=b.I;for(var n=0;n<h.length;n++){var S=h[n],a=b.B[S];if(!a.tN()||a.add.vmsk==null)continue;
D.push(S)}var K=new km(e.E.s,!0);K.b=m.M0;K.data={d:$.L3,Hg:D,xK:W,h:X};if(D.length!=0)this.OD.$(K)}};
m.N9.prototype.ahD=function(r){if(typeof r=="number"){var Q=new km(e.E.Kk,!0);Q.data=m.QQ.Sj(0);Q.data.Hf.Usng.v.Type.v.Clr.v=E.M.rY({o:r>>>16&255,W:r>>>8&255,k:r>>>0&255});
this.OD.$(Q)}};m.N9.prototype.IU=function(r,Q,W,b,X){this.OD=Q;if(r.d=="newfill"){if(r.tv==0){var D=new km(e.E.L,!0);
D.data={d:e.c.Re,wv:"colorpicker",Mi:X.V8,ag:this.ahD.bind(this)};Q.$(D)}}else if(r.d=="pathedit"){var h=r.CZ,S="",a=W.ZS.slice(0),K=W.Me.slice(0),Y=W.ZS.slice(0),d=W.Me.slice(0);
if(h=="rnm"){var j=-1-r.C_,U=a[j],I=bj.ei(r.name,U.add);if(j!=0)Y[j]=I;else{d=[Y.length];Y.push(I);Y[0]=bj.ei("Work Path")}S="Rename"}else if(h=="new"){var I=bj.ei("Path "+a.length);
if(r.ahL){var f=W.tt(),g=f[0],H=f[1],u=g[H[0]];I.add.vmsk=u.add.vmsk.clone();I.add.vogk=JSON.parse(JSON.stringify(u.add.vogk));
if(u.C_==-1){var _=Y[d[0]]=bj.ei("Path "+a.length);_.name=u.name;_.C_=u.C_}}Y.push(I);d=[Y.length-1];
S="New"}else if(h=="del"){if(d.length==0)return;d.sort(function(B,J){return B-J});if(d[0]==0){Y[0]=bj.ei(a[0].name);
d=d.slice(1)}var i=0;while(d.length!=0){Y.splice(d[0]-i,1);d=d.slice(1);i++}S="Delete"}else if(h=="fromsel"){var M=Y[0]=bj.ei("Work Path");
d=[0];if(W.P==null)return;var T=W.P.channel.slice(0);for(var n=0;n<T.length;n++)T[n]=T[n]>128?2:1;var R=W.P.rect.clone();
R.sg(1,1);var z=E.Q(R.O());E.L0(T,W.P.rect,z,R);var G=ed.NU(z,R.e,R.n,Math.round(R.O()*5e-4)),g=ed.tt(G),V=new au(1,0,0,1,-1+W.P.rect.x,-1+W.P.rect.y);
for(var n=0;n<g.length;n++)E.p.D(g[n].path.C,V,g[n].path.C);for(var n=0;n<g.length;n++){var y=g[n];if(y.color==1&&y.parent==-1)continue;
var k=E.p.ou(g[n].path,!1);M.add.vmsk.V=M.add.vmsk.V.concat(k.slice(2))}M.add.vogk=$.P7(M.add.vmsk.V);
S="Selection to"}var B=new c2(S+" Path",this);B.data={hi:a,HZ:K,adR:Y,Gg:d};if(h=="fromsel"){B.data.vW=W.P;
B.data.yU=null}W.C1(B);this.e4(B.data,W)}else{var v=r.Cv,f=W.tt(r.d=="append"||r.d=="fromAction"),g=f[0],H=f[1],M=g[H[0]],l=M.add.vmsk,F=M.add.vogk,L=l.clone(),Z=l.clone(),t=JSON.stringify(F);
if(r.d=="fromAction"){var A=r.Jb,o=A.r7,O=A.Hf,x=O.T;if(o=="set"){if(x){F.push(E.X.EY(x));Z.V.push({type:0,xo:1,length:0});
E.X.yE(F,Z);v=[12,76,0]}else throw O}else if(o=="draw"){F=[E.X.EY(O.Shp)];Z.V.push({type:0,xo:1,length:0});
E.X.yE(F,Z);m.N9.akX(Z.V,O.AntA.v,X.V8,Q);return}else throw o}else if(r.d=="remove"){if(r.v4&&Z.UJ.length!=0){Z.V=E.A.aas(Z.V,Z.UJ,F,r.agu);
var C=E.A.jm(Z.V);for(var n=0;n<Z.I.length;n++)if(Z.I[n]>=C){Z.I.splice(n,1);n--}Z.UJ=[];v="Delete Anchors"}else{if(Z.I.length==0)return;
var i=0;for(var n=0;n<Z.I.length;n++){F.splice(Z.I[n]+i,1);i--}Z.V=E.A.a6k(Z.V,Z.I);Z.I=[];Z.UJ=[];if(v==null)v="Delete Paths"}}if(r.d=="append"){m.N9.uE(r.abA,Z,F)}this.a4(W,M.C_,Z,F);
this.WZ(W,v,M.C_,L,Z.clone(),null,t,JSON.stringify(F))}};m.N9.akX=function(r,Q,W,b){var X=new $.vL;X.V=X.V.concat(r.slice(2));
var D=X.SS();if(!Q)E.round(D.channel);var h=E.Q(D.rect.O()*4);E.tl(h,(W&255)<<16|(W>>8&255)<<8|(W>>16&255)<<0);
E.nV(D.channel,h,3);var S=new km(e.E.s,!0);S.b=m.Yu;S.data={d:"draw",Sv:{buffer:h,rect:D.rect.clone()},Cv:this.name};
b.$(S)};m.N9.Ws=function(r,Q){var W=E.A.aet(r.V,r.I),b=[];for(var n=0;n<r.I.length;n++)b.push(JSON.parse(JSON.stringify(Q[r.I[n]])));
return[W,b]};m.N9.uE=function(r,Q,W){var b=E.A.jm(Q.V),X=E.A.jm(r[0]);Q.V=Q.V.concat(r[0].slice(2));
Q.I=[];for(var n=0;n<X;n++)Q.I.push(b+n);for(var n=0;n<X;n++)W.push(JSON.parse(JSON.stringify(r[1][n])))};
m.N9.prototype.qy=function(r,Q){if(Q==null)return!1;var W=Q.tt(),b=W[0],X=W[1];if(X.length==0)return!1;
var D=b[X[0]],h=D.add.vmsk;if(h&&h.I.length+h.UJ.length!=0)return[h8.ZI,h8.$G].indexOf(r)!=-1};m.N9.prototype.tf=function(r,Q,W,b){if(r==null)return;
var X=r.tt(),D=X[0],h=X[1];if(h.length==0)return;var S=D[h[0]],a=S.add.vmsk;if(b.j(h8.V2)||b.j(h8.Cj)||this.id==m.zv&&b.j(h8.YW)){a.UJ=[];
r.a9=!0}if(a.I.length!=0){var K=b.pG();if(K.x!=0||K.y!=0){var Y=a.clone(),d=a.clone(),j=new au(1,0,0,1,K.x,K.y),U=S.add.vogk,I=JSON.stringify(U);
if(b.j(h8._I)){var f=m.N9.Ws(d,U);m.N9.uE(f,d,U)}E.A.Zl(d.V,j,d.I);E.X.D(U,E.K.LJ(j),d.I);this.a4(r,S.C_,d,U);
this.WZ(r,"Move Paths",S.C_,Y,d.clone(),!0,I,JSON.stringify(U))}if(b.j(h8.ZI)||b.j(h8.$G))this.IU({d:"remove",v4:this.id==m.zv},Q,r,b,W)}};
m.N9.prototype.WZ=function(r,Q,W,b,X,D,h,S){var a=new c2(Q,this);a.data={GV:W,wI:b,PJ:X,a9l:D,a4F:h,xJ:S};
r.C1(a)};m.N9.prototype.e4=function(r,Q){if(r.GV!=null)this.a4(Q,r.GV,r.PJ.clone(),JSON.parse(r.xJ));
else{Q.ZS=r.adR.slice(0);Q.Me=r.Gg.slice(0);Q.a9=Q.yV=!0}if(r.vW||r.yU){Q.P=r.yU;Q.fi=!0}};m.N9.prototype.Zm=function(r,Q){if(r.GV!=null)this.a4(Q,r.GV,r.wI.clone(),JSON.parse(r.a4F));
else{Q.ZS=r.hi.slice(0);Q.Me=r.HZ.slice(0);Q.a9=Q.yV=!0}if(r.vW||r.yU){Q.P=r.vW;Q.fi=!0}};m.N9.prototype.a4=function(r,Q,W,b){var X=Q<0?r.ZS[-1-Q]:Q<1e6?r.B[Q]:r.B[Q-1e6].add.TySh,D=X.add.vmsk;
D.channel=null;D.eI=!0;if(D.U0){D.U0.channel=null;D.U0.eI=!0}X.add.vmsk=W;X.add.vogk=b;if(1e6<=Q){aH.RA(X);
var h=r.B[Q-1e6],S=X,a=this.Ha;eO.w2(h,a.zl);r.U()}else if(0<=Q){W.eI=!0;X.hR(r);r.U()}r.a9=r.yV=!0};
m.N9.f2=function(r,Q){var W=r.B[Q],b=W.add.vstk,X=null;if(b&&!b.fillEnabled.v)X={pj:0};else if(W.add.SoCo)X={pj:1,P0:W.add.SoCo};
else if(W.add.GdFl)X={pj:2,P0:W.add.GdFl};else if(W.add.PtFl)X={pj:3,P0:W.add.PtFl};return X};m.N9.Mh=function(r,Q){var W=r.add.vmsk,b=r.add.vstk,X=Q.pj;
if(b)b.fillEnabled.v=X!=0;if(X>0){var D=["SoCo","GdFl","PtFl"][X-1];for(var n=0;n<3;n++)delete r.add[["SoCo","GdFl","PtFl"][n]];
r.add[D]=Q.P0}};m.QQ=function(r,Q,W,b){m.N9.call(this,r,Q,W);this.zi={shape:fK.fp(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{HP:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.atz=b;this.jb=null;this.S0=null;this.Y8=null;this.Co=new bU};m.QQ.prototype=new m.N9;m.QQ.prototype.YK=function(r){return r.hY&&this.id!=m.wT};
m.QQ.prototype.enable=function(r,Q,W,b,X){this.Ha=W;var D=new km(e.E.L,!0);D.data={d:e.c.gc,LG:"crosshair"};
Q.$(D)};m.QQ.prototype.tf=function(r,Q,W,b){m.N9.prototype.tf.call(this,r,Q,W,b);this.Co.tf(b);this.va(Q,W)};
m.QQ.prototype.va=function(r,Q){var W=new km(e.E.L,!0);W.data={d:e.c.bp,b:this.id,yj:this.PC(Q)};r.$(W)};
m.QQ.prototype.PC=function(r){var Q=this.Co.XA(0),W=this.Co.k$(0),b=m.to.Oi(this.zi.binop,Q,W);if(r.ss==1&&b==0)b=1;
return b};m.QQ.prototype.be=function(r,Q,W,b){};m.QQ.prototype.pZ=function(r,Q,W,b,X){var D=W.ss;if(D!=2)this.akf(Q,W);
if(D==2&&!r.P2())return;var h=r.u.GF(X.x,X.y);h=m.iw.Bh(r,h,W);this.Y8=[h.x,h.y];this.jb=h;this.S0=new cp(0,0);
this.Co.pZ(b)};m.QQ.prototype.at$=function(r,Q,W,b){var X=[this.jb.clone(),Q.clone()];W=this.Co.XA(1)||W.j(h8.NN)||this.Co.k$(1)?W:null;
if(this.atz)X=m.QQ.qD(X[0],X[1],W,!0,this.zi.cstr);if(r)r.u.m5=new aV(X[0].x,X[0].y,X[1].x-X[0].x,X[1].y-X[0].y);
return this.be(X[0],X[1],this.Co.XA(1)&&W.j(h8.NN),this.Y8,r.u,b)};m.QQ.prototype.abR=function(r,Q,W){var b=r.u.GF(Q.x,Q.y);
if(this.id==m.wT)return b;var X=this.zi.cstr;if(X.HP==2){var D=new aV(b.x-X.x,b.y-X.y,X.x,X.y),h=m.iw.Tf(r,D,W);
b.x+=h[0];b.y+=h[1];m.iw.tz(r,D,h)}else b=m.iw.Bh(r,b,W);return b};m.QQ.prototype.Dc=function(r,Q,W,b,X){if(this.jb==null)return;
var D=this.Y8,h=D.length,S=X?this.abR(r,X,W):new cp(D[h-2],D[h-1]);if(b.j(h8.ye))this.jb=S.eb(this.S0);
else this.S0=S.eb(this.jb);D.push(S.x,S.y);if(this.zi.shape==null)this.zi.shape=W.bC[0];var a=this.at$(r,S,b,!0)[0],K=E.p.Mf(a);
r.g.ac=K;if(this.id!=m.wT&&this.id!=m.vj&&this.id!=m.PL)m.y6.FD(X,r.u.m5,r,W);r.a9=!0;this.Co.Dc()};
m.QQ.prototype.at4=function(r,Q,W,b){var X=r[4].clone();if(b){X.x-=Q/2;X.y-=W/2}if(this.id==m.vj){Q/=2;
W/=2;X.x+=Q;X.y+=W;W=-W;Q=0}var D=this.be(X,new cp(X.x+Q,X.y+W),!1,this.Y8);this.a3c(r[0],r[1],r[2],D)};
m.QQ.prototype.a3c=function(r,Q,W,b){var X=W.ss,D=new km(e.E.Kk,!0);if(X==0)D.data=m.QQ.atf(b[1],W);
else if(X==1){var h={__name:"Set",classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},T:b[1]};
D.data={r7:"set",Hf:h}}else{var h={__name:"Draw",classID:"Draw",AntA:{t:"bool",v:!0},Shp:b[1]};D.data={r7:"draw",Hf:h}}Q.$(D);
if(b[1].v.classID=="customShape"&&b[1].v.Nm.v.startsWith("--")){var S=r.tt(),a=S[0],K=S[1],Y=a[K.pop()],d=Y.add.vmsk,j=Y.add.vogk;
E.X.g0(j);var U=d.clone();U.V=b[0];this.a4(r,Y.C_,U,j)}};m.QQ.prototype.$v=function(r,Q,W,b,X,D){if(this.jb==null)return;
var h=this.abR(r,X,W),S=this.PC(W),a=W.ss,K=this.Y8,Y=K.length;if(this.id==m.wT&&Y<=4){}else if(Y<=4){h.x=Math.round(h.x);
h.y=Math.round(h.y);var d=new km(e.E.L);d.data={d:e.c.Re,wv:"createshape",akS:this.at4.bind(this),a6D:this.name,a6W:[r,Q,W,b,h]};
if(!D)Q.$(d)}else if(Y!=2){var j=this.at$(r,h,b),U=j[0],I=r.tt(!0),f=I[0],g=I[1],H=g.length-1;if(a==1&&U.length>2||a==0&&S!=0&&H!=-1&&f[g[H]].C_>=0){U[2].xo=[1,2,3,0][S-1];
var u=f[g.pop()],s=u.add.vmsk,_=u.add.vogk,i=s.clone(),M=s.clone(),T=JSON.stringify(_);M.V=M.V.concat(U.slice(2));
M.I=[E.A.jm(M.V)-1];var R=E.X.EY(j[1]);_.push(R?R:E.X.lk());this.a4(r,u.C_,M,_);this.WZ(r,this.name,u.C_,i,M,null,T,JSON.stringify(_))}else if(a==0){this.a3c(r,Q,W,j)}else if(a==2){m.N9.akX(U,this.zi.anta,W.V8,Q)}}this.jb=null;
r.g.ac=null;r.g._e=null;r.g.Ql=[];r.u.m5=null;r.a9=!0;this.Co.$v();this.va(Q,W)};m.QQ.prototype.Ew=function(r,Q,W,b,X){for(var W in r)this.zi[W]=r[W]};
m.QQ.qD=function(r,Q,W,b,X){var D=r.x,h=r.y,S=Q.x,a=Q.y;if(X&&X.HP==2){if(b){S=Math.round(S);a=Math.round(a)}D=S-X.x;
h=a-X.y}else{var K=0;if(X&&X.HP==1)K=X.y/X.x;else if(W&&W.j(h8.NN))K=1;if(K!=0){if(b){if(D<S)D=Math.floor(D);
else D=Math.ceil(D);if(h<a)h=Math.floor(h);else h=Math.ceil(h)}var Y=Math.abs(S-D),d=Math.abs(a-h),j=Y;
if(d/Y<K)j*=d/Y/K;S=S>D?D+j:D-j;a=a>h?h+j*K:h-j*K}if(W&&W.j(h8._I)){D-=S-D;h-=a-h}}var r=new cp(D,h),Q=new cp(S,a);
if(b)m.QQ.akw(r,Q);return[r,Q]};m.QQ.akw=function(r,Q){if(r.x>Q.x){var W=r.x;r.x=Q.x;Q.x=W}if(r.y>Q.y){var W=r.y;
r.y=Q.y;Q.y=W}r.x=Math.floor(r.x);r.y=Math.floor(r.y);Q.x=Math.ceil(Q.x);Q.y=Math.ceil(Q.y)};m.QQ.a5j=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
m.QQ.Sj=function(r,Q){var W=m.QQ.a5j(),b=W.Usng.v.Type;if(Q==null){b.v=JSON.parse(JSON.stringify(iq.$f[r]));
b.v.classID=["solidColorLayer","gradientLayer","patternLayer"][r]}else m.t6.cV(Q,b.v,r);return{r7:"make",Hf:W}};
m.QQ.atf=function(r,Q){var W=Q.aB,b=JSON.parse(JSON.stringify(Q.RY));b.fillEnabled.v=W.pj!=0;var X=m.QQ.Sj(Math.max(0,W.pj-1),W.P0);
X.Hf.Usng.v.Shp=r;X.Hf.Usng.v.strokeStyle={t:"Objc",v:b};return X};m.T8=function(r){m.N9.call(this,r==0?[10,29]:[10,51],r==0?m.zv:m.abm,r==0?"tools/pen":"tools/cpen");
this.V4=r;this.wa=null;this.jl=null;this.wn=null;this.a4B=0;this.kI=null;this.Rj=!1;this.LH=!1;this.jp=!1;
this.MS=!1;this.RH=0};m.T8.prototype=new m.N9;m.T8.prototype.YK=function(r){return this.jl!=null};m.T8.prototype.tf=function(r,Q,W,b){if(!b.j(h8._I))this.jp=!1;
if(this.V4==1&&(b.j(h8.ZI)||b.j(h8.$G))&&this.qy(h8.ZI,r)){this.IU({d:"remove",v4:!0},Q,r,b,W);return}m.N9.prototype.tf.call(this,r,Q,W,b)};
m.T8.prototype.pZ=function(r,Q,W,b,X){this.wa=X;this.akf(Q,W);var D=r.u.GF(X.x,X.y),f,g;D.x=Math.round(D.x);
D.y=Math.round(D.y);var h=m.iw.Bh(r,D,W),S=W.ss,a=this.a4B;if(S==2)S=0;var K=r.tt(S==1),Y=K[0],d=K[1],j=Y[d.pop()],U=j?j.add.vmsk:null;
if(S==0&&a!=0&&j&&j.C_>=0)S=1;var I=m.vq(r,X);if(U)f=E.A.Js(U.V,D,!0,I);var H=b.j(h8._I);if(S==0&&(U==null||U.UJ.length==0&&f.C_==-1)){var u=new km(e.E.Kk,!0),_=E.X.NI("customShape",[0,0,1,1],null,null,null,"--");
u.data=m.QQ.atf(_,W);Q.$(u);this.MS=!0;K=r.tt(!0);Y=K[0];d=K[1];j=Y[d.pop()];U=j.add.vmsk;U.V=U.V.slice(0,2)}var i=j.add.vogk;
this.jl=U.clone();this.wn=JSON.stringify(i);var M=U.V,T=E.A.jm(M);g=E.A.ng(U.V,new aV(D.x-I,D.y-I,I*2,I*2),U.UJ);
f=E.A.Js(U.V,D,!0,I);var R=g[0].length+g[1].length+g[2].length;if(f.C_!=-1&&g[0].length==0){var z=E.A.ka(M,f.C_),G=M[z].length;
while(G<=f.a6){f.a6-=G;z+=G+1}var V={type:4,f0:h.clone(),F:h.clone(),rP:h.clone()},y=z+2+f.a6,k=z+1+(1+f.a6)%G,B=M[y-1],v=M[k];
if(!B.F.s4(B.rP)||!v.f0.s4(v.F)){var l=E.p.axl(B.F,B.rP,v.f0,v.F,f.t4);B.rP=l[0];V.f0=l[1];V.F=l[2];
V.rP=l[3];v.f0=l[4]}M.splice(y,0,V);M[z].length++;U.UJ=[y];if(this.V4==1){V.f0.x+=2;this.uh(U)}}else if(R!=0&&H){var F=0;
for(var n=0;n<3;n++)if(g[n].length!=0){F=g[n][0];this.LH=n==1;break}if(g[0].length!=0){var L=U.V.length-1,Z=U.V[F];
Z.rP=Z.F.clone();var t=Z.type>=3?3:0;if(F!=L){Z.f0=Z.F.clone();Z.type=t+1;this.jp=!0}else Z.type=t+2}U.UJ=[F]}else if(g[0].length==1&&M[g[0][0]-1]&&(M[g[0][0]-1].F!=null||M[g[0][0]-1].type==0||M[g[0][0]-1].length==1)){var F=g[0][0];
if(this.V4==1){var A=M[F],o=A.F,O=Math.abs(E.p.a3j(A.f0.x,A.f0.y,o.x,o.y,A.rP.x,A.rP.y));if(O>.01){A.f0=o.clone();
A.rP=o.clone()}if(Date.now()-this.RH<300){var x=A.f0.s4(o)&&A.rP.s4(o);if(x)A.rP.offset(2,2);else{A.f0=o.clone();
A.rP=o.clone()}this.RH=0}else this.RH=Date.now();U.UJ=[F];this.uh(U)}else{var z=E.A.ka(M,E.A.tm(M,F)),_=M[z],C=z+_.length;
if(F!=C||_.type==0){M[z].length--;M.splice(F,1);C--;if(_.length==0){M.splice(z,1);C=-1}}if(C!=-1)U.UJ=[C];
else U.UJ=[]}}else{var J=0;if(U.UJ.length!=1){U.I=[T];M.push({type:3,length:1,xo:[1,2,3,0][Math.max(0,a-1)],bu:0,jM:0,eV:0});
J=M.length;i.push(E.X.lk())}else{var A=U.UJ[0],q=E.A.tm(M,A),z=E.A.ka(M,q);A=z+M[z].length;if(cp.ks(D,M[z+1].F)<I){M[z].type=0;
U.UJ=[z+1];this.kI=h;this.Rj=!0;this.a4(r,j.C_,U,i);r.a9=!0;return}M[z].length++;J=A+1;if(A==z+1&&M[z].length!=2)J=z+1}if(b.j(h8.NN)&&M[J-1]&&M[J-1].F)h=m.N3.ha(M[J-1].F,h);
var V={type:4,f0:h.clone(),F:h.clone(),rP:h.clone()};M.splice(J,0,V);U.UJ=[J];this.kI=h;if(this.V4==1){V.f0.x+=2;
this.uh(U)}this.RH=Date.now()}this.a4(r,j.C_,U,i);r.a9=!0};m.T8.prototype.uh=function(r){var Q=r.V,W=r.UJ[0],b=E.A.ka(Q,E.A.tm(Q,W))+1,X=Q[b-1].length;
if(X<3)return;var D=[],h=[];for(var n=0;n<5;n++){var S=b+(W-b-2+n+5*X)%X;h.push(S);var a=Q[S].F;D.push(a.x,a.y)}var K=E.p.alc(D);
for(var n=1;n<4;n++){var Y=n*4,d=Q[h[n]],a=d.F,j=d.f0.s4(a)&&d.rP.s4(a);if(!j){d.f0.DX(K[Y],K[Y+1]);
d.rP.DX(K[Y+2],K[Y+3])}else{d.f0=a.clone();d.rP=a.clone()}}};m.T8.prototype.Dc=function(r,Q,W,b,X){if(this.jl==null)return;
var D=this.wa;if(D&&cp.ks(D,X)<m.vq({u:{_:1}},X))return;this.wa=null;var h=r.u.GF(X.x,X.y),S=m.iw.Bh(r,h,W),a=r.tt(W.ss==1),K=a[0],Y=a[1],d=K[Y.pop()],j=d.add.vmsk,U=j.V,I=U[j.UJ[0]];
if(this.V4==1){var f=I.F.s4(I.f0)&&I.F.s4(I.rP);I.F=h.clone();I.f0=h.clone();I.rP=h.clone();if(!f)I.f0.x+=2;
this.uh(j)}else if(b.j(h8.ye)){if(b.j(h8.NN))S=m.N3.ha(this.kI,S);var g=I.F.eb(I.rP),H=I.f0.eb(I.F);
I.rP=S;I.F=S.add(g);I.f0=I.F.add(H)}else{if(b.j(h8.NN))S=m.N3.ha(I.F,S);if(this.LH){var u=I.f0;I.f0=I.rP;
I.rP=u}if(this.Rj){var s=cp.ks(I.F,S),_=s==0?0:cp.ks(I.F,I.rP)/s;I.rP.x=I.F.x+_*(S.x-I.F.x);I.rP.y=I.F.y+_*(S.y-I.F.y)}else I.rP=S;
if(b.j(h8._I)&&!this.jp)I.type=5;else{I.type=4;I.f0=I.F.add(I.F.eb(S))}this.kI=S;if(this.LH){var u=I.f0;
I.f0=I.rP;I.rP=u}}this.a4(r,d.C_,j,d.add.vogk);r.a9=!0};m.T8.prototype.$v=function(r,Q,W,b,X){if(this.jl==null)return;
var D=r.tt(W.ss==1),h=D[0],S=D[1],a=h[S.pop()],K=a.add.vmsk,Y=a.add.vogk;if(this.Rj){K.UJ=[];this.a4(r,a.C_,K,a.add.vogk)}var d=this.jl.V.length,j=K.V.length;
if(!this.MS)this.WZ(r,this.Rj?"Close Path":(d==j?"Move":d<j?"Add":"Delete")+" Anchor Point",a.C_,this.jl,K.clone(),null,this.wn,JSON.stringify(Y));
this.MS=!1;this.Rj=!1;this.LH=!1;this.jp=!1;this.jl=null};m.T8.prototype.Ew=function(r,Q,W,b,X){this.a4B=r.binop};
m.zC=function(){m.QQ.call(this,[10,30],m.wT,"tools/fpen",!1)};m.zC.prototype=new m.QQ;m.zC.prototype.be=function(r,Q,W,b,X,D){var h=b.length-1,S=Math.sqrt((b[h-1]-b[0])*(b[h-1]-b[0])+(b[h]-b[1])*(b[h]-b[1]))<6/X._;
return[E.A.XJ(b,S,D),E.X.NI("customShape",[0,0,1,1],null,null,null,"--")]};m.bR=function(){m.N9.call(this,[10,27],m.RJ,"tools/pselect");
this.vl=null;this.dx=!1;this.vx=null;this.jl=null;this.Ac=null;this.wn=null;this.IZ=null;this.LN=null;
this.Dy=null;this.XN=null};m.bR.prototype=new m.N9;m.bR.prototype.YK=function(r){return r.hY};m.bR.prototype.pZ=function(r,Q,W,b,X){var D=r.u.GF(X.x,X.y),h=r.tt(),S=h[0],a=h[1],K,Y;
for(var n=0;n<a.length;n++){var d=S[a[n]],j=d.add.vmsk,U=E.A.Js(j.V,D).C_;if(U!=-1){this.vx=K=d;Y=U}for(var I=0;
I<j.Sp.length;I++){var f=E.A.Ar(j.V,j.Sp[I]);if(f==null)continue;var g=cp.ks(f,D);if(g<4*m.i()/r.u._){var H=r.B[d.C_-1e6].add.TySh,u=H.kN.Curve,s=H.D,_=u.Reversed;
u.Reversed=!1;var u=gH.gi(H.kN.Curve);u.Reversed=_;E.p.D(u[0],s,u[0]);this.Dy=[u,I,s.mu*s.HR-s.k*s.th];
this.vx=K=d;Y=0}}if(this.Dy)break}if(K!=null){var j=K.add.vmsk;j.UJ=[];var i=j.I.indexOf(Y);if(b.j(h8.NN)){if(i==-1){j.I.push(Y);
this.dx=!0}else j.I.splice(i,1)}else{if(i==-1)j.I=[Y];this.dx=!0}this.LN=E.A.eg(j.V,j.I)}this.vl=D;this.XN=new hZ(D);
r.yV=!0;r.a9=!0};m.bR.prototype.Dc=function(r,Q,W,b,X){if(this.vl==null)return;var D=r.u.GF(X.x,X.y);
if(this.dx){D=this.XN.WN(D,b);var h=this.vx;if(this.jl==null){this.jl=this.Ac=h.add.vmsk.clone();this.wn=this.IZ=JSON.stringify(h.add.vogk);
if(b.j(h8._I)){var S=this.jl.clone(),a=JSON.parse(this.wn),K=m.N9.Ws(S,a);m.N9.uE(K,S,a);this.Ac=S;this.IZ=JSON.stringify(a)}}var S=this.Ac.clone(),a=JSON.parse(this.IZ);
if(this.Dy){var Y=this.Dy,d=Y[0][0],j=E.p.nn(d,D.x,D.y);S.Sp[Y[1]]=Y[0][1][j];var U=d[j*2],I=d[j*2+1],f=(d[j*2+2]-U)*(D.y-I)-(d[j*2+3]-I)*(D.x-U);
if(Y[2]<0)f=-f;S.Lt=f>0}else{var g=this.LN.clone(),H=g.x,u=g.y;g.offset(D.x-this.vl.x,D.y-this.vl.y);
g.x=Math.round(g.x);g.y=Math.round(g.y);var s=m.iw.Tf(r,g,W),_=new au(1,0,0,1,g.x-H+s[0],g.y-u+s[1]);
E.A.Zl(S.V,_,S.I);E.X.D(a,E.K.LJ(_),S.I);m.iw.tz(r,g,s)}this.a4(r,h.C_,S,a)}else{var i=this.vl;r.g.ac=E.p.vk(new aV(i.x,i.y,D.x-i.x,D.y-i.y));
r.a9=!0}};m.bR.prototype.$v=function(r,Q,W,b,X){if(this.vl==null)return;var D=r.u.GF(X.x,X.y),h=this.vx,S=h?h.add.vmsk:null;
if(this.dx){var a=JSON.stringify(h.add.vogk);if(!this.vl.s4(D))this.WZ(r,"Move Paths",h.C_,this.jl,S,null,this.wn,a);
if(r!=null&&r.g._e){r.g._e=null;r.a9=!0}}else{if(S){var K=this.vl,Y=new aV(K.x,K.y,D.x-K.x,D.y-K.y),d=E.A.alG(S.V,Y);
if(b.j(h8.NN)){for(var n=0;n<d.length;n++)if(S.I.indexOf(d[n])==-1)S.I.push(d[n])}else S.I=d}r.g.ac=null;
r.a9=!0}this.vl=null;this.jl=null;this.Dy=null;this.dx=!1;this.XN=null};m.bR.prototype.Wq=function(r,Q,W,b){m.N9.prototype.Wq.call(this,r,Q,W,b);
if(W.at!=this.id)return;if(r.I.length==0)return;var X=r.tt(),D=X[0],h=X[1];if(h.length==0)return;var S=D[h[0]],a=S.add.vmsk,K=S.add.vstk,Y=S.add.vogk,d=new km(e.E.L,!0);
d.data={d:e.c.bp,b:this.id,gm:"main",ok:a?a:null,X:Y};Q.$(d)};m.bR.prototype.Ew=function(r,Q,W,b,X){var D=r.C0;
if(D.ok){var h=W.tt(),S=h[0],a=h[1];if(a.length==0)return;var K=S[a[0]],Y=K.add.vmsk.clone(),d=JSON.stringify(K.add.vogk),j=D.ok;
this.a4(W,K.C_,j,D.X);var U=[18,5];if(Y.V.length==j.V.length)U=Y.I[0]==j.I[0]?"Fill Rule":"Path Order";
this.WZ(W,U,K.C_,Y,j,null,d,JSON.stringify(D.X))}};m.xU=function(){m.N9.call(this,[10,28],m.u9,"tools/dselect");
this.Z7=-1;this.mG=-1;this.hN=null;this.vl=null;this.vx=null;this.jl=null;this.wn=null;this.vY=null;
this.nW=0;this.Sc={psnap:!1};this.XN=null};m.xU.prototype=new m.N9;m.xU.prototype.YK=function(r){return r.hY};
m.xU.prototype.Ew=function(r){this.Sc=r};m.xU.prototype.IU=function(r,Q,W,b,X){if(r.d=="crnr"){if(W==null)return;
var D=W.tt(),h=D[0],S=D[1];if(S.length==0){alert("No paths selected");return}var a=h[S[0]],K=a.add.vmsk;
if(K.UJ.length==0){alert("No corners selected");return}for(var n=0;n<K.UJ.length;n++){var Y=K.V[K.UJ[n]];
if(!Y.F.s4(Y.rP)||!Y.F.s4(Y.f0)){alert("Only sharp corners can be rounded");return}}if(this.jl==null){this.jl=a.add.vmsk.clone();
this.wn=JSON.stringify(a.add.vogk);this.vx=a;this.vY=W}var d=new km(e.E.L,!0);d.data={d:e.c.Re,wv:"cornerradius",h$:5,eq:this.acx.bind(this)};
Q.$(d)}else m.N9.prototype.IU.call(this,r,Q,W,b,X)};m.xU.prototype.acx=function(r){if(r=="confirm"){var Q=this.vY,W=this.vx,b=W.add.vmsk,X=W.add.vogk;
this.WZ(Q,[12,94,0],W.C_,this.jl,b,null,this.wn,JSON.stringify(X));this.rf();return}var b=this.jl.clone(),X=JSON.parse(this.wn),D=b.UJ;
if(r=="cancel"){}else{var h=[];for(var n=0;n<D.length;n++){var S=D[n],a=E.A.tm(b.V,S,!0),d=0;if(h.indexOf(a)!=-1)continue;
h.push(a);var K=E.A.ka(b.V,a,!0),Y=b.V[K].length,j=[];for(var U=0;U<Y;U++){var I=b.UJ.indexOf(K+U+1)==-1?0:r;
j.push(I);if(I!=0)d++}E.A.o5(b.V,K,j);for(var U=0;U<D.length;U++)if(D[U]>K+Y)D[U]+=d}this.c1(b,X);b.UJ=[]}this.a4(this.vY,this.vx.C_,b,X);
if(r=="cancel")this.rf()};m.xU.prototype.disable=function(r,Q,W,b){this.t5(r)};m.xU.prototype.pZ=function(r,Q,W,b,X){this.t5(r);
var D=r.u.GF(X.x,X.y),d,j,U;this.hN=D.clone();var h=r.tt(),S=h[0],a=h[1];if(a.length==0)return;var K=m.vq(r,X),Y=new aV(D.x-K,D.y-K,K*2,K*2);
for(var I=0;I<a.length;I++){d=this.vx=S[a[I]];j=d.add.vmsk;U=E.A.ng(j.V,Y);if(U[0].length+U[1].length+U[2].length!=0)break}var f=[!1,!1,!1];
for(var n=0;n<3;n++){for(var g=0;g<U[n].length;g++){var H=U[n][g],u=j.V[H];if(j.UJ.indexOf(H)!=-1||n==1&&j.UJ.indexOf(H-1)!=-1&&!u.F.s4(u.f0)||n==2&&j.UJ.indexOf(H+1)!=-1&&!u.F.s4(u.rP)){U[n]=[H];
f[n]=!0;break}}}if(U[0].length!=0&&(f[0]||!f[1]&&!f[2])){var s=U[0][0],_=j.UJ.indexOf(s);if(b.j(h8.NN)){if(_==-1)j.UJ.push(s);
else{j.UJ.splice(_,1);r.a9=!0;return}}else if(_==-1)j.UJ=[s];this.Z7=s;this.mG=0}else if(U[1].length!=0&&f[1]){this.Z7=U[1][0];
this.mG=1}else if(U[2].length!=0&&f[2]){this.Z7=U[2][0];this.mG=2}else{var i=E.A.Js(j.V,D,!0,K);if(i.C_==-1)this.vl=D;
else{j.I=[i.C_];j.UJ=[]}}if(this.jl==null){this.jl=d.add.vmsk.clone();this.wn=JSON.stringify(d.add.vogk)}this.XN=new hZ(D);
r.a9=!0};m.xU.prototype.Dc=function(r,Q,W,b,X){if(r==null)return;var D=r.u.GF(X.x,X.y),h=this.vx;if(this.Z7!=-1){var S=this.jl.clone(),a=h.add.vogk,K=S.V[this.Z7];
K=[K.F,K.f0,K.rP][this.mG];if(b.j(h8.NN)){if(this.mG==0){D=this.XN.WN(D,b);D.x+=K.x-this.hN.x;D.y+=K.y-this.hN.y}else D=m.N3.ha(S.V[this.Z7].F,D)}else{if(this.Sc.psnap){D.x=Math.round(D.x);
D.y=Math.round(D.y)}D=m.iw.Bh(r,D,W)}if(this.mG==0){var Y=new au(1,0,0,1,D.x-K.x,D.y-K.y);E.A.Zl(S.V,Y,null,S.UJ)}else{var d=S.V[this.Z7],j=d.f0,U=d.rP;
if(this.mG==2){j=d.rP;U=d.f0}if(b.j(h8._I)&&(d.type==1||d.type==4))d.type++;j.DX(D.x,D.y);if(d.type==1||d.type==4){var I=cp.ks(j,d.F),f=cp.ks(U,d.F);
if(f!=0){U.x=d.F.x-(j.x-d.F.x)*(f/I);U.y=d.F.y-(j.y-d.F.y)*(f/I)}}}this.c1(S,a);this.a4(r,h.C_,S,a)}else if(this.vl!=null){var g=this.vl;
r.g.ac=E.p.vk(new aV(g.x,g.y,D.x-g.x,D.y-g.y));r.a9=!0}else{var H=r.tt(),u=H[0],s=H[1],h,S,M;if(s.length==0)return;
var _=m.vq(r,X),i=new aV(D.x-_,D.y-_,_*2,_*2);for(var T=0;T<s.length;T++){h=u[s[T]];S=h.add.vmsk;M=E.A.ng(S.V,i);
if(M[0].length+M[1].length+M[2].length!=0)break}this.t5(r);for(var n=0;n<3;n++){for(var R=0;R<M[n].length;
R++){var z=M[n][R],G=S.V[z];G=n==0?G.F:n==1?G.f0:G.rP;r.g.eD.push(r.g.h2.length>>>1);r.g.h2.push(G.x,G.y);
r.a9=!0}}}};m.xU.prototype.t5=function(r){if(r&&r.g.h2.length!=0){r.g.h2=[];r.g.eD=[];r.a9=!0}};m.xU.prototype.$v=function(r,Q,W,b,X){var D=r.u.GF(X.x,X.y),h=this.vx,S=h?h.add.vmsk:null,a=h?h.add.vogk:null;
if(this.Z7!=-1){if(Date.now()-this.nW<300){var K=S.V[this.Z7],Y=this.mG,d=null;if(Y==0){var j=K.f0.s4(K.F),U=K.rP.s4(K.F);
if(!j&&!U){d="Anchor Type";if(K.type==1||K.type==4)K.type++;else{K.type--;K.rP=K.F.add(K.F.eb(K.f0))}}else{d="Add Handles";
if(j&&U){K.f0.x-=30;K.rP.x+=30}else if(j)K.f0=K.F.add(K.F.eb(K.rP));else if(U)K.rP=K.F.add(K.F.eb(K.f0))}}else{d="Remove Handle";
if(Y==1)K.f0.dd(K.F);else K.rP.dd(K.F)}this.c1(S,a);this.a4(r,h.C_,S,a);this.WZ(r,d,h.C_,this.jl,S,null,this.wn,JSON.stringify(a))}else if(!this.hN.s4(D)){this.WZ(r,"Drag Anchors",h.C_,this.jl,S,null,this.wn,JSON.stringify(a))}this.nW=Date.now()}else if(this.vl!=null){var I=this.vl,f=new aV(I.x,I.y,D.x-I.x,D.y-I.y);
if(f.e<0)f.x+=f.e;if(f.n<0)f.y+=f.n;f.e=Math.abs(f.e);f.n=Math.abs(f.n);var g=E.A.ng(S.V,f);S.UJ=g[0].concat(b.j(h8.NN)?S.UJ:[]);
r.g.ac=null}this.rf();r.a9=!0};m.xU.prototype.rf=function(){this.vx=null;this.jl=null;this.vl=null;this.Z7=this.mG=-1;
this.XN=null};m.xU.prototype.c1=function(r,Q){for(var n=0;n<r.UJ.length;n++){var W=E.A.tm(r.V,r.UJ[n]);
E.X.U$(Q,W)}};m.xU.prototype.tf=function(r,Q,W,b){if(r==null)return;var X=r.tt(),D=X[0],h=X[1];if(h.length==0)return;
var S=D[h[0]],a=S.add.vmsk;if(a==null||a.UJ.length==0)return;var K=S.add.vogk,Y=JSON.stringify(K),d=b.pG();
if(d.x!=0||d.y!=0){var j=a.clone(),U=a.clone(),I=new au(1,0,0,1,d.x,d.y);E.A.Zl(U.V,I,null,U.UJ);this.c1(U,K);
this.a4(r,S.C_,U,K);this.WZ(r,"Move Anchors",r.I[0],j,U.clone(),!0,Y,JSON.stringify(K))}if(b.j(h8.ZI)||b.j(h8.$G))this.IU({d:"remove",v4:!0,agu:!0},Q,r,b,W)};
m.xU.prototype.WZ=function(r,Q,W,b,X,D,h,S){var a=r.bk();if(D&&a!=null&&a.b==this&&a.data.a9l&&a.data.GV==W&&JSON.stringify(a.data.wI.UJ)==JSON.stringify(b.UJ)){a.data.PJ=X;
a.data.xJ=S}else{var a=new c2(Q,this);a.data={GV:W,wI:b,PJ:X,a9l:D,a4F:h,xJ:S};r.C1(a)}};m.Rect=function(){m.QQ.call(this,[10,32],m.aK,"tools/rect",!0)};
m.Rect.prototype=new m.QQ;m.Rect.prototype.be=function(r,Q,W){var b=this.zi.crad,X=Q.x-r.x,D=Q.y-r.y;
return[E.A.lF.Rect(r.x,r.y,X,D,b),E.X.NI("Rctn",[r.x,r.y,Q.x,Q.y],[b,b,b,b])]};m.az=function(){m.QQ.call(this,[10,33],m.Xc,"tools/ellipse",!0)};
m.az.prototype=new m.QQ;m.az.prototype.be=function(r,Q,W){var b=Q.x-r.x,X=Q.y-r.y;return[E.A.lF.az(r.x,r.y,b,X),E.X.NI("Elps",[r.x,r.y,Q.x,Q.y])]};
m.Kw=function(){m.QQ.call(this,[10,34],m.vj,"tools/pshape",!1);this.zi.aopts=[!1,!0,50,100,0]};m.Kw.prototype=new m.QQ;
m.Kw.prototype.be=function(r,Q,W){var b=this.zi.pshape,X=this.zi.crad,D=this.zi.irad/100,h=this.zi.sides,S=this.zi.width,a=this.zi.aopts,K=this.zi.length,g;
Q=Q.clone();var Y=r.x,d=r.y,j=Q.x,U=Q.y,I=Math.sqrt((j-Y)*(j-Y)+(U-d)*(U-d)),f=Math.atan2(-U+d,j-Y);
if(W)f=Math.round(f*180/Math.PI/15)*15*Math.PI/180;if(b==0)g=E.A.lF.AC(Y,d,I,f,h,X);if(b==1)g=E.A.lF.Bt(Y,d,I,f,h,X,D);
if(b==2)g=E.A.lF.ME(r.x,r.y,Q.x,Q.y,S,a);if(b==3)g=E.A.lF.ako(Y,d,I,f,K);return[g,E.X.NI("customShape",[r.x,r.y,Q.x,Q.y],null,null,null,"--")]};
m.Kw.prototype.tf=function(r,Q,W,b){m.QQ.prototype.tf.call(this,r,Q,W,b);var X=b.pG(),D=this.zi,h,S;
if(X.y!=0){var a=-X.y,K=D.pshape;if(K<2){h="sides";S=Math.max(3,Math.min(100,D.sides+a))}else if(K==2){h="width";
S=Math.max(1,Math.min(100,D.width+a))}else if(K==3){h="length";S=Math.max(4,Math.min(40,D.length+a))}}if(X.x!=0){h="pshape";
S=Math.max(0,Math.min(3,D.pshape+X.x))}if(h){var Y=new km(e.E.L,!0),d={};d[h]=S;D[h]=S;Y.data={d:e.c.bp,b:this.id,CZ:"vals",akQ:d};
Q.$(Y);this.Dc(r,Q,W,b)}};m.fr=function(){m.QQ.call(this,[10,35],m.PL,"tools/line",!1)};m.fr.prototype=new m.QQ;
m.fr.prototype.be=function(r,Q,W){var b=this.zi.width,X=this.zi.aopts;Q=Q.clone();if(W){Q=m.N3.ha(r,Q)}return[E.A.lF.ME(r.x,r.y,Q.x,Q.y,b,X),E.X.NI("Ln",null,null,[r.x,r.y,Q.x,Q.y],b,null,X)]};
m.Rf=function(){m.QQ.call(this,[10,31],m.EI,"tools/cshape",!0)};m.Rf.prototype=new m.QQ;m.Rf.prototype.be=function(r,Q,W){var b=this.zi.shape,X=b.Wr.e/b.Wr.n,D=$.vL.Ld(b.V);
Q=Q.clone();var h=Q.x-r.x,S=Q.y-r.y;E.A.Zl(D,new au(h,0,0,S,r.x,r.y));return[D,E.X.NI("customShape",[r.x,r.y,Q.x,Q.y],null,null,null,b.iy)]};
m.EA=function(r,Q,W){m.y6.call(this,r,Q,W);this.oZ=0;this.B=null;this.ku=null;this.zb=null;this.aH=1;
this.L5=!0;this.$h=!1;this.cursor=null;this.fB=null;this.vW=null;this._3=!1;this.x8=null;this.auj=0;
this.aQ=null;this.V4=0;this.om=null;this.IC=null;this.Ve=null;this.zc=null;this.amF=null;this.GN=null};
m.EA.prototype=new m.y6;m.EA.rs=function(r,Q){var W={classID:"null",null:cO.RG("Dcmn",!0)};if(r)W.Angl={t:"UntF",v:{type:"#Ang",val:Q}};
else W.Axis={t:"enum",v:{Ornt:Q}};return{r7:r?"rotateEventEnum":"flip",Hf:W}};m.EA.prototype.Rc=function(r,Q,W,b,X){var D=new km(e.E.L,!0);
D.data={d:e.c.bp,b:this.id,gD:X,iG:r,zb:W};Q.$(D);this.u2=!1};m.EA.prototype.YK=function(r){return this.IC&&this.IC.axD()};
m.EA.prototype.IU=function(r,Q,W,b,X){this.zb=X;if(r.d=="again"&&this.aQ==null)return;if(!this.xZ(W,X))return;
if(this.IC){this.arj(r,this.IC.Ta(),Q,W,b,X);this.jU(W,X,0,!0);this.xv(W);return}this.ayM(W,r.l==null,r.l);
this.aaB(W);this.arj(r,null,Q,W,b,X);this.Ea(W,Q,r.Cv,!1)};m.EA.prototype.arj=function(r,Q,W,b,X,D){var h=this.om;
if(Q==null){var S=r.o1!=null?r.o1:4;Q=this.IC.afu()[S]}var a=Q.x,K=Q.y;if(r.d=="rot"&&r.h!=Math.PI&&(h.e+h.n&1)==1){a=Math.floor(a);
K=Math.floor(K)}var Y=new au;Y.translate(-a,-K);if(r.d=="rot")Y.rotate(r.h);if(r.d=="scl")Y.scale(r.h.x,r.h.y);
if(r.d=="mat")Y.concat(r.h);Y.translate(a,K);if(r.d=="again")Y=this.aQ;var d=this.IC.a_();E.p.D(d,Y,d);
this.IC.xN(d);if(r.vH){var j=r.vH.v;this.Ew({gm:"switchWarp"},W,b,X);this.Ew({gm:"wrp",vH:j},W,b,X)}};
m.EA.prototype.ND=function(){return!0};m.EA.prototype.xZ=function(r,Q){if(r==null)return!1;if(this.id==m.f8)return r.P!=null;
var W=r.ZP(!0,null,null,!0);if(this.id==m.Uj&&r.B[W[0]].rect.WB()){alert("Layer is empty.");return!1}for(var n=0;
n<W.length;n++){var b=r.B[W[n]];if(b.RV(2)||b.RV(31)){alert(aA.get([6,57,0]));return!1}if(b.add.artb){alert("You can not transform the whole artboard");
return!1}if(b.add.TySh)if(!eO.rM(b.add.TySh,Q.zl))return!1;if(b.add.SoLd){if(W.length==1&&!E.Eu.fF(b.add.SoLd.warp.v)&&(b.SS()&&b.SS().oh||b.add.vmsk&&b.add.vmsk.oh)){alert("Unlink masks before transforming Smart Object");
return!1}if(!r.a0E(b.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+r.JR(b.add.SoLd.Idnt.v).Ao+")");
return!1}}}if(r.P==null)return!0;if(!r.P2())return!1;return r.a08()};m.EA.prototype.pZ=function(r,Q,W,b,X){var D=this.amf(X,r),h=D[0],S=D[1],a=this.V4==0?this.IC:this.Ve;
r.u._*=S;this.$h=a.pZ(r,W,b,h,null,null,X);r.u._/=S;if(this.$h&&a.fM(h)){if(Date.now()-this.auj<250)this.Ea(r,Q,null,!0);
this.auj=Date.now()}};m.EA.prototype.SN=function(r){var Q=new km(e.E.L,!0);Q.data={d:e.c.gc,LG:this.cursor};
r.$(Q)};m.EA.prototype.amf=function(r,Q){var W=1;r=Q.u.GF(r.x,r.y);if(this.V4==1){var b=E.K.Om(this.IC.a_(),this.om);
W=E.K.JT(b).mO();var X=E.K.j4(b);r=E.K.a8_(X,r)}return[r,W]};m.EA.prototype.Dc=function(r,Q,W,b,X){var D=this.amf(X,r),h=D[0],S=D[1],a=this.V4==0?this.IC:this.Ve;
if(!X.hY){var K="default";if(a){var Y=a.er(h,r.u._*S,null,X);if(Y)K=Y}if(K!=this.cursor){this.cursor=K;
this.SN(Q)}}if(!this.$h)return;r.u._*=S;a.Dc(r,W,b,h,this.L5);r.u._/=S;this.jU(r,W,0,!0);this.xv(r);
this.D6(Q)};m.EA.prototype.$v=function(r,Q,W,b,X){var D=r.u.GF(X.x,X.y);this.IC.$v(r,W,b,D);this.$h=!1};
m.EA.prototype.tf=function(r,Q,W,b){if(b.j(h8.Cj))this.Ea(r,Q,null,!0);else if(b.j(h8.V2))this.pR(r,Q);
else{var X=this.IC.tf(r,W,b);if(X){this.jU(r,W,0,!0);this.D6(Q)}}};m.EA.prototype.Ew=function(r,Q,W,b){if(r.gm=="commit")this.Ea(W,Q,null,!0);
else if(r.gm=="cancel")this.pR(W,Q);else if(r.gm=="switchWarp"){this.V4=1-this.V4;this.aq$();this.xv(W);
this.D6(Q)}else if(r.gm=="wrp"){this.Ve.ap3(r.vH);this.xv(W);this.jU(W,this.zb,0,!0)}else if(r.gm=="ctyp"){this.IC.a9P(r.EX);
this.xv(W);this.D6(Q)}else if(r.gm=="cen"){this.IC.a3E(r.kW);this.xv(W);this.jU(W,this.zb,0,!0)}else if(r.gm=="trn"){var X=E.K.LJ(r.KN),D=this.om,h=E.K.Om(this.IC.a_(),this.om);
X[6]=h[6],X[7]=h[7];var S=[D.x,D.y,D.x+D.e,D.y,D.x+D.e,D.y+D.n,D.x,D.y+D.n];E.K.D(X,S);this.aH=r.aH;
this.L5=r.L5;this.IC.xN(S);this.xv(W);this.jU(W,this.zb,0,!0)}};m.EA.prototype.xv=function(r){if(this.V4==0)this.IC.Ju(r,this.zb);
else{this.Ve.Ju(r);var Q=E.K.Om(this.IC.a_(),this.om);E.K.D(Q,r.g.ac.C);E.K.D(Q,r.g.in)}};m.EA.prototype.Ea=function(r,Q,W,b){this.jU(r,this.zb,this.aH);
var X=new c2(W?W:this.name,this);if(this.oZ==0)X.data={type:this.oZ,B:this.B,x8:this.ku,B9:m.EA.NZ(r,this.B)};
else if(this.oZ==1){var D=r.B[this.B[0]],h;if(D.f7.L$<=0){h=E.Q(D.f7.AO.O());E.TX(D.f7.y7,h,3)}else h=r.P.channel;
var S={rect:D.f7.AO.clone(),channel:h};X.data={type:this.oZ,l:this.B[0],vW:this.vW,yU:S,fB:this.fB,_3:this._3,f7:D.f7,x8:this.x8,B9:{nX:D.f7.AO,v9:D.f7.y7}}}else if(this.oZ==2){X.data={type:this.oZ,vW:this.vW,yU:{rect:r.P.rect.clone(),channel:r.P.channel.slice(0)}}}r.C1(X);
var a=this.om,K=new cp(a.x+a.e/2,a.y+a.n/2),Y=E.K.Om(this.IC.a_(),a),d=E.K.JT(Y),j=new au;j.translate(K.x,K.y);
j.concat(d);j.translate(-K.x,-K.y);d=j.clone();var U=-Math.atan2(-d.k,d.mu),I=new au;I.rotate(U);d.concat(I);
function f(s,_){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][_],val:s}}}var g=cO.RG("Lyr",!0);if(this.id==m.f8)g.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};
var H={classID:"null",null:g,FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:f(j.rn,0),Vrtc:f(j.NQ,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:f(Math.atan(d.th)*180/Math.PI,2),Vrtc:f(0,2)}},Wdth:f(d.mu*100,1),Hght:f(d.HR*100,1),Angl:f(U*180/Math.PI,2)},u=this.Ve?this.Ve.D$():null;
if(u&&!E.Eu.fF(u)){H.warp={t:"Objc",v:u}}this.OD=Q;this.track({r7:"transform",Hf:H});this.escape(r,Q,b)};
m.EA.prototype.pR=function(r,Q){if(this.oZ==0)m.EA.Zz(r,this.B,this.ku);else if(this.oZ==1){var W=r.B[this.B[0]];
r.P=this.vW;if(!this._3){W.f7.AO=this.x8.nX;W.f7.y7=this.x8.v9;W.Ae(r,0,0,r.P)}else{W.dP(r,this.fB)}r.U();
r.fi=!0}else if(this.oZ==2){r.P=this.vW;r.fi=!0}this.escape(r,Q,!0)};m.EA.prototype.escape=function(r,Q,W){this.IC.clear(r);
this.IC=null;this.Ve=null;this.GN=null;this.V4=0;if(W)this.mC(Q,e.E.L,{d:e.c.L2})};m.EA.prototype.e4=function(r,Q){if(r.type==0)m.EA.Zz(Q,r.B,r.B9);
else{if(r.type==1){var W=Q.B[r.l];if(r._3){W.f7=r.f7}else{W.f7.AO=r.B9.nX;W.f7.y7=r.B9.v9}W.Ae(Q,0,0,Q.P);
Q.U()}Q.P={rect:r.yU.rect.clone(),channel:r.yU.channel.slice(0)};Q.fi=!0}};m.EA.prototype.Zm=function(r,Q){if(r.type==0)m.EA.Zz(Q,r.B,r.x8);
else{if(r.type==1){var W=Q.B[r.l];if(r._3){W.dP(Q,r.fB)}else{W.f7.AO=r.x8.nX;W.f7.y7=r.x8.v9;W.Ae(Q,0,0,Q.P)}Q.U()}Q.P=r.vW;
Q.fi=!0}};m.EA.prototype.ayM=function(r,Q,W){r.tt();var b=[];if(W==null)for(var n=0;n<r.Me.length;n++)if(r.ZS[r.Me[n]].add.vmsk.V.length>2)b.push(-1-r.Me[n]);
var X=[],D=r.u.Vu;if(D[0]+D[1]+D[2]==3)if(W!=null||b.length==0||r.qS!=null&&r.qS.length!=0){if(r.I.length==1){var h=r.B[r.I[0]];
if(h.wf()&&h.Uk)X=[r.I[0]]}if(X.length==0)X=r.ZP(Q,W,null,!0)}X=X.concat(b);for(var n=0;n<r.Qw.length;
n++)X.push(-1e3-r.Qw[n]);this.B=X};m.EA.prototype.enable=function(r,Q,W,b,X,D){if(this.cursor==null)this.cursor="default";
this.SN(Q);if(this.IC)return;this.zb=W;this.ayM(r,!0);this.aaB(r,D&&D.BT!=null&&D.BT!=-1?D.BT:null);
this.D6(Q);this.xv(r);if(D&&D.BT==-1)this.Ew({gm:"switchWarp"},Q,r,b)};m.EA.prototype.$Q=function(){return[this.L5?1:0]};
m.EA.prototype.s_=function(r,Q,W){if(r&&r[0]!=null)this.L5=r[0]==1};m.EA.prototype.D6=function(r){var Q={d:e.c.bp,b:this.id};
if(this.V4==0){var W=E.K.Om(this.IC.a_(),this.om),b=E.K.JT(W);Q.KN={Le:b,EX:this.IC.ae$(),kW:this.IC.Ta(),nX:this.om.clone(),L5:this.L5}}else{Q.vH=this.Ve.D$()}Q.aay=this.Ve!=null;
this.mC(r,e.E.L,Q)};m.EA.prototype.aaB=function(r,Q){var W=this.id==m.f8,b=!0,X=this.B[0],D=r.B[X],S=null,a=null;
if(W){this.oZ=2;this.vW=r.P}else if(r.P&&this.B.length==1&&X>=0&&!D.rect.WB()){this.oZ=1;this.vW=r.P;
this.fB=D.f7;this._3=!1;if(!D.vJ(r,r.P)){this._3=!0;D.$i(r,r.P,!1)}this.x8={v9:D.f7.y7,nX:D.f7.AO}}else{this.oZ=0;
this.ku=m.EA.NZ(r,this.B,null);for(var n=0;n<this.ku.length;n++)if(this.ku[n][3]!=null)b=!1}var h=this.oZ==1;
if(this.ku&&this.ku.length==1){var K=this.ku[0];if(K[2]!=null&&K[2].X){var Y=K[2].ok.I;if(Y.length<2){a=K[2].X[Y.length==0?0:Y[0]].v;
if(!E.X.am(a))a=null}}if(K[3]==null)h=!0;if(K[4]!=null){S=r.B[this.B[0]].add.SoLd;if(K[1]||K[2])h=!1}}var d=W?r.P.rect.clone():m.EA.J4(r,this.B);
this.om=d;if(!W&&S){var j=m.EA.JS(S.nonAffineTransform);this.om=E.p.Z3(E.Eu.c8(S.warp.v));if(h)this.Ve=new c7(S.warp.v);
this.zc=E.K.Om(j,this.om);this.IC=new gP(j,!0,!0,b,!1,!1,Q)}else{if(h||W)this.Ve=new c7(E.Eu.Q(this.om));
this.zc=[1,0,0,0,1,0,0,0];if(this.id==m.Uj)Q=3;this.IC=new gP([d.x,d.y,d.x+d.e,d.y,d.x+d.e,d.y+d.n,d.x,d.y+d.n],!0,!0,b,!1,!1,Q)}this.amF=[1,0,0,0,1,0,0,0];
if(this.id==m.Uj){var U,I;if(this.ku){var f=this.ku[0][0],g=f.Rn;U=g[0];I=g[1]}else if(this.x8){U=this.x8.v9;
I=this.x8.nX}this.GN=E.Br.a4n(U,I.e,I.n)}};m.EA.J4=function(r,Q){if(Q==null)Q=r.ZP(!0,null,null,!0);
var W=new aV,b=new aV;if(r.P&&Q.length==1&&Q[0]>=0)W=r.P.rect.clone();else for(var n=0;n<Q.length;n++){var X=Q[n],D=0<=X?r.B[X]:-1e3<X?r.ZS[-1-X]:r.Ev[-1e3-X],h=D.add?D.add.vmsk:null,S=0<=X?D.qN(r,Q.length==1,!1,!0):-1e3<X?E.A.eg(h.V,Q.length==1&&h.I.length!=0?h.I:null):D.rect.clone();
W=W.Bc(S);if(X>0&&D.add.artb)b=b.Bc(D.QT())}return!b.WB()?b:W};m.EA.prototype.mC=function(r,Q,W,b){var X=new km(Q,!0);
X.data=W;if(b)X.b=b;r.$(X)};m.EA.NZ=function(r,Q,W){var b=[];for(var n=0;n<Q.length;n++){var X=Q[n],D,h;
if(X>=0){D=r.B[X];h=D.$Z(r,W,!0)}else if(X>-1e3){D=r.ZS[-1-X];h=[2]}else{b.push([null,null,null,null,null,null,null,r.Ev[-1e3-X].clone()]);
continue}var S=[],a=h.indexOf(0)!=-1;if(a){var K={Rn:D.add.SoLd?null:[D.buffer.slice(0),D.rect.clone()]};
S.push(K);if(D.$Y()){var Y=D.Xg(r);K.au_=Y.buffer.slice(0);K.ajt=Y.rect.clone()}}else S.push(null);if(h.indexOf(1)!=-1)S.push(D.SS().clone());
else S.push(null);if(h.indexOf(2)!=-1)S.push({ok:D.add.vmsk.clone(),pN:D.add.vstk?JSON.parse(JSON.stringify(D.add.vstk)):null,P0:D.add.vstk?m.N9.f2(r,X):null,X:D.add.vogk?JSON.parse(JSON.stringify(D.add.vogk)):null});
else S.push(null);if(D.add.TySh&&a){aH.RA(D.add.TySh);S.push(D.add.TySh.D.clone())}else S.push(null);
if(D.add.SoLd&&a)S.push(JSON.parse(JSON.stringify(D.add.SoLd)));else S.push(null);if(h.indexOf(3)!=-1)S.push(D.Xg(r).z.clone());
else S.push(null);if(D.add.lmfx)S.push(JSON.stringify(D.add.lmfx));else S.push(null);b.push(S)}return b};
m.EA.Zz=function(r,Q,W){for(var n=0;n<Q.length;n++){var b=Q[n],X=0<=b?r.B[b]:-1e3<b?r.ZS[-1-b]:r.Ev[-1e3-b],D=W[n];
if(D[0]){if(D[0].Rn){X.rect=D[0].Rn[1].clone();X.buffer=D[0].Rn[0].slice(0)}if(X.$Y()){var h=X.Xg(r);
h.buffer=D[0].au_.slice(0);h.rect=D[0].ajt.clone()}}if(D[1]){X.SS().channel=D[1].channel.slice(0);X.SS().rect=D[1].rect.clone();
X.SS().eI=!0}if(D[2]){X.add.vmsk=D[2].ok.clone();if(D[2].P0)m.N9.Mh(X,D[2].P0);if(D[2].pN)X.add.vstk=JSON.parse(JSON.stringify(D[2].pN));
if(D[2].X)X.add.vogk=JSON.parse(JSON.stringify(D[2].X))}if(D[3]){X.add.TySh.D=D[3].clone();aH.LI(X.add.TySh)}if(D[4]){X.add.SoLd=JSON.parse(JSON.stringify(D[4]))}if(D[5]){var S=X.Xg(r).z;
S.channel=D[5].channel.slice(0);S.rect=D[5].rect.clone()}if(D[6]){X.add.lmfx=JSON.parse(D[6])}if(D[7]){X.channel=D[7].channel.slice(0);
X.rect=D[7].rect.clone();X.eI=!0}if(0<=b){X.hR(r);X.U();if(D[4])X.vd(r,!1)}}r.U()};m.EA.w4=function(r,Q,W,b,X,D,h,S,a,K){if(typeof D[0]=="number"){var Y=[];
for(var n=0;n<W.length;n++)Y[n]=D;D=Y}for(var n=0;n<W.length;n++){var d=D[n],j=E.K.JT(d),U=j.mO(),I=W[n],f=0<=I?r.B[I]:-1e3<I?r.ZS[-1-I]:r.Ev[-1e3-I],g=b[n];
if(f.add&&f.add.lmfx&&S)iI.Fr(f.add.lmfx,U);if(g[0]&&!g[3]&&!g[4]&&!g[5]){var H=g[0].Rn;if(a){var u=a.clone(),s=E.Q(u.O()*4);
E.TU(H[0],H[1],s,u);H=[s,u]}var _=m.EA.wj(H,X,d,h,X==0?f.buffer.buffer:null,null,null,K);if(_){f.rect=_.rect;
f.buffer=_.buffer}}if(g[1]){var i=f.SS();m.EA.Oh(r,g[1],i,X,d,h);if(a){var u=f.rect.ww(a),M=E.Q(u.O());
E.L0(i.channel,i.rect,M,u);i.channel=M;i.rect=u}}if(g[2]){var T=h&&!E.Eu.fF(h),R=g[2].ok.clone(),z=W.length==1&&R.I.length!=0,G=W.length==1&&R.UJ.length>1;
if(G)z=!1;var V=z?R.I:null,y=G?R.UJ:null;if(T){var k=E.Eu.c8(h);E.K.D(d,k);E.A.aoy(R.V,k,V,y)}else E.A.a4m(R.V,d,V,y);
if(f.add.vstk&&S){f.add.vstk.strokeStyleLineWidth.v.val=g[2].pN.strokeStyleLineWidth.v.val*U;var B=g[2].P0;
if(B&&B.pj==3){B=JSON.parse(JSON.stringify(B));var v=B.P0.phase.v;B.P0.Scl.v.val=Math.round(B.P0.Scl.v.val*U);
v.Hrzn.v=Math.round(v.Hrzn.v*U);v.Vrtc.v=Math.round(v.Vrtc.v*U);m.N9.Mh(f,B)}}if(f.add.vogk){f.add.vogk=JSON.parse(JSON.stringify(g[2].X));
if(T||G)E.X.g0(f.add.vogk);else E.X.D(f.add.vogk,d,W.length>1?[]:R.I,S)}R.$E*=U;f.add.vmsk=R;if(f.add.vogk)E.X.yE(f.add.vogk,f.add.vmsk)}if(g[3]){var l=g[3].clone();
l.concat(j);f.add.TySh.D=l;aH.LI(f.add.TySh);eO.w2(f,Q.zl)}if(g[4]){var F=f.add.SoLd,L=m.EA.JS(g[4].nonAffineTransform);
E.K.D(d,L);var Z=E.p.QL(L);if(gP.SU(L)){if(h){var t=E.p.Z3(E.Eu.c8(g[4].warp.v)),M=E.K.Om(L,t),A=E.p.Z3(E.Eu.c8(h));
L=[A.x,A.y,A.x+A.e,A.y,A.x+A.e,A.y+A.n,A.x,A.y+A.n];E.K.D(M,L);F.warp.v=h}var o=E.K.Om(L),O=L;if(!E.K.GI(o)){o[6]=o[7]=0;
O=[0,0,1,0,1,1,0,1];E.K.D(o,O)}F.Trnf=m.EA.Aa(O);F.nonAffineTransform=m.EA.Aa(L);if(F.filterFX)F.filterFX=JSON.parse(JSON.stringify(g[4].filterFX));
m.EA.ayA(F,j);f.vd(r,X==0,Q.zl)}}if(g[5])m.EA.Oh(r,g[5],f.Xg(r).z,X,d,h);if(g[7])m.EA.Oh(r,g[7],f,X,d,h);
if(0<=I){if(X!=0)f.Dg();f.hR(r);f.U()}}r.U()};m.EA.ar1=function(r,Q){var W=Q.mO(),b=0;E.d6(r);while(W<.45&&b<r.length-4){b+=2;
W*=2;var X=new au;X.scale(2,2);X.concat(Q);Q=X}var D=r[b],h=r[b+1],S=h.e,a=h.n,K=E.p.vk(h).C;E.p.D(K,Q,K);
var Y=E.p.QL(K),d=E.Q(Y.O()),j=Y.x,U=Y.y,I=Y.e,f=Y.n,g=Q.clone();g.j4();var H=g.lE(new cp(0,0)),u=g.lE(new cp(1,0)),s=u.x-H.x,_=u.y-H.y,i=S-.51,M=a-.51;
for(var T=0;T<f;T++){var R=g.mu*(j+.5)+g.th*(T+U+.5)+g.rn,z=g.k*(j+.5)+g.HR*(T+U+.5)+g.NQ;for(var G=0;
G<I;G++){if(R<.5||R>i||z<.5||z>M){}else d[T*I+G]=Math.floor(.5+E.K.acs(R,z,D,S,a));R+=s;z+=_}}return{rect:Y,channel:d}};
m.EA.gh=function(r,Q,W,b,X,D){if(W==null)W=!1;return m.EA.wj(r,W?0:1,E.K.LJ(Q),null,b,X,D,W)};m.EA.wj=function(r,Q,W,b,X,D,h,S){if(S==null)S=!1;
if(S&&h)throw"e";var a={},j=0,U=.3;if(b&&!E.Eu.fF(b)){var K=E.Eu.c8(b);E.K.D(W,K);a.rect=E.p.QL(K);a.buffer=E.Q(a.rect.O()*4);
E.e_.drawImage(K,r[0],r[1].e,r[1].n,a.buffer,a.rect,Q==0);return a}E.P$(r);var Y=r[0],d=r[1],I=d.O()*E.K.JT(W).mO();
if(S&&I>4e6)U=I>8e6?2.2:1.2;while(j+3<r.length&&r[j+3].O()>16&&E.K.GI(W)&&E.K.JT(W).mO()<U){j+=2;var f=r[j],g=r[j+1],H=d.e/g.e,u=d.n/g.n;
W=E.K.Se(W,[1,0,d.x,0,1,d.y,0,0]);W=E.K.Se(W,[H,0,0,0,u,0,0,0]);W=E.K.Se(W,[1,0,-d.x,0,1,-d.y,0,0]);
d=g;Y=f}var s=E.K.Se(W,E.K.LJ(new au(d.e,0,0,d.n,d.x,d.y))),_=[0,0,1,0,1,1,0,1];E.K.D(s,_);a.rect=E.p.QL(_);
if(h)a.rect=a.rect.ww(h);if(S){while((a.rect.e&3)!=0)a.rect.e++;while((a.rect.n&3)!=0)a.rect.n++}if(!gP.SU(_)||a.rect.e>1e5||a.rect.n>1e5||a.rect.O()>3e4*3e4)return null;
var i=a.rect.O()*4;if(X&&X.byteLength>=i&&i>=X.byteLength>>2){a.buffer=new Uint8Array(X)}else{a.buffer=E.Q(i)}E.K.drawImage(s,Y,d.e,d.n,a.buffer,a.rect,Q==0,D,S);
if(Q==2&&a.buffer){var M=a.rect.e,T=a.rect.n,R;R=[0,-1,0,-1,16,-1,0,-1,0];R=E.Nm.N8(R);var z=a.buffer.slice(0);
E.Nm.mT(z,a.buffer,M,T,R,255,!1,!0)}if(a.buffer)return a};m.EA.Oh=function(r,Q,W,b,X,D){if(Q.color==255)E.j4(Q.channel);
var h=Q.rect,S=E.Q(h.O()*4);E.nV(Q.channel,S,3);var a=m.EA.wj([S,h],b,X,D);if(a){W.rect=a.rect;W.channel=E.Q(a.rect.O());
E.TX(a.buffer,W.channel,3);W.eI=!0}if(Q.color==255){E.j4(Q.channel);if(a)E.j4(W.channel)}};m.EA.ayA=function(r,Q){var W=r.filterFX;
if(W)W=W.v.filterFXList;if(W)W=W.v;if(W)for(var b=0;b<W.length;b++){var X=W[b].v.Fltr;if(X==null||X.v.classID!="rigidTransform")continue;
X=X.v;console.log(X);var D=[];for(var h=0;h<4;h++)D.push(X["PuX"+h].v,X["PuY"+h].v);E.p.D(D,Q,D);for(var h=0;
h<4;h++){X["PuX"+h].v=D[h*2];X["PuY"+h].v=D[h*2+1]}var S=["PinP","posFinalPins"],a=["originalVertexArray","deformedVertexArray"],K=X.puppetShapeList.v;
for(var Y=0;Y<K.length;Y++){var d=K[Y].v;for(var j=0;j<S.length;j++){var U=m.EA.JS(d[S[j]]);E.p.D(U,Q,U);
d[S[j]]=m.EA.Aa(U);var I=new Uint8Array(d[a[j]].v),f=new Float32Array(I.buffer);E.p.D(f,Q,f);var g=[];
for(var H=0;H<I.length;H++)g[H]=I[H];d[a[j]].v=g}}}};m.EA.JS=function(r){var Q=[],W=r.v.length;for(var n=0;
n<W;n++)Q.push(r.v[n].v);return Q};m.EA.Aa=function(r){var Q={t:"VlLs",v:[]},W=r.length;for(var n=0;
n<W;n++)Q.v.push({t:"doub",v:r[n]});return Q};m.EA.prototype.aq$=function(){var r=E.p.Z3(E.Eu.c8(this.Ve.D$())),Q=E.K.Om(this.IC.a_(),this.om),W=[r.x,r.y,r.x+r.e,r.y,r.x+r.e,r.y+r.n,r.x,r.y+r.n];
E.K.D(Q,W);this.IC.xN(W);this.om=r};m.EA.prototype.jU=function(r,Q,W,b){var X=E.K.Om(this.IC.a_(),this.om);
X=E.K.Se(X,E.K.j4(this.zc));var D=this.Ve?this.Ve.D$():null;if(this.oZ==0){var h=this.aQ=E.K.JT(X);if(this.id==m.Uj){var S=this.ku[0][0],a=S.Rn,K=a[1],Y=~~(K.e*Math.max(0,h.mu)),d=~~(K.n*Math.max(0,h.HR)),j=new aV(Math.round(h.mu*K.x+h.rn),Math.round(h.HR*K.y+h.NQ),Y,d),U=E.Br.D(this.GN,j),I=r.B[this.B[0]];
I.buffer=U;I.rect=j;I.U();r.U()}else m.EA.w4(r,Q,this.B,this.ku,W,X,D,null,null,b)}else if(this.oZ==1){var f=r.B[this.B[0]],K=this.x8.nX;
if(f.L$<=0){var g=this.x8.v9,H=this.vW,u=null;if(D&&!E.Eu.fF(D)&&!H.rect.s4(K)){var U=E.Q(H.rect.O()*4);
E.TU(g,K,U,H.rect);g=U;K=H.rect}if(this.id==m.Uj){var h=this.aQ=E.K.JT(X),Y=~~(K.e*Math.max(0,h.mu)),d=~~(K.n*Math.max(0,h.HR)),j=new aV(Math.round(h.mu*K.x+h.rn),Math.round(h.HR*K.y+h.NQ),Y,d),U=E.Br.D(this.GN,j);
u={buffer:U,rect:j}}else u=m.EA.wj([g,K],W,X,D);if(u){f.f7.y7=u.buffer;f.f7.AO=u.rect;var s=E.Q(u.rect.O());
E.TX(f.f7.y7,s,3);r.P={channel:s,rect:f.f7.AO.clone()}}}else{var _=E.Q(K.O()*4);E.nV(this.x8.v9,_,3);
var u=m.EA.wj([_,K],W,X,D);if(u){f.f7.y7=E.Q(u.rect.O());E.TX(u.buffer,f.f7.y7,3);f.f7.AO=u.rect}this.a8D(r,W,X,D)}f.Ae(r,0,0,r.P);
if(W!=0){f.Dg();E.Dg(r.P)}r.fi=!0;r.U()}else if(this.oZ==2)this.a8D(r,W,X,D)};m.EA.prototype.a8D=function(r,Q,W,b){var X=this.vW.rect,D=E.Q(X.O()*4);
E.nV(this.vW.channel,D,3);var h=m.EA.wj([D,X],Q,W,b),S=E.Q(h.rect.O());E.TX(h.buffer,S,3);r.P={channel:S,rect:h.rect};
r.fi=!0};m.EA.prototype.disable=function(r,Q,W,b){if(this.IC)this.Ea(r,Q,null,!0)};m.a4X=function(){m.EA.call(this,[10,16],m.YO,"tools/transform")};
m.a4X.prototype=new m.EA;m.akC=function(){m.EA.call(this,[7,10],m.f8,"tools/transform")};m.akC.prototype=new m.EA;
m.aaD=function(){m.EA.call(this,[10,48],m.Uj,"tools/transform")};m.aaD.prototype=new m.EA;m.q7=function(r,Q,W){m.y6.call(this,[10,46],m.WP,"tools/transform");
this.Po=[1,1,2,!0];this.lv="rigidTransform";this.vI=null;this.a3q=null;this.rR=null;this.SE=null;this.zk=null;
this.L_=null;this.HJ=[]};m.q7.prototype=new m.y6;m.q7.prototype.ND=function(){return!0};m.q7.atW=function(r){if(r==null)return!1;
if(r.I.length!=1)return!1;var Q=r.B[r.I[0]];return Q.add.SoLd||r.P2(!1)};m.q7.prototype.xZ=function(r,Q){return m.q7.atW(r)};
m.q7.prototype.enable=function(r,Q,W,b,X,D,h){this.a3q=D.AK;var S=D.AK,a,f=null;if(S){var K=r.B[S.l];
if(K.add.SoLd.filterFX!=null){var Y=K.add.SoLd.filterFX.v.filterFXList.v;if(Y[S.index])a=JSON.parse(JSON.stringify(Y[S.index].v.Fltr.v))}}var d=a==null,K=r.B[r.I[0]],j=K.buffer,U=K.rect,I=K.add.SoLd;
if(I){var g=I.nonAffineTransform.v;f=[];for(var n=0;n<4;n++)f.push(g[n*2].v,g[n*2+1].v);if(d)this.e5("edit",Q);
var H=K.Xg(r);j=H.buffer;U=H.rect}this.vI={buffer:j.slice(0),rect:U.clone(),ax5:f};if(d)a=m.q7.Ib(this.vI,this.Po);
this.rR=a;this.SE=m.q7.BH(this.rR,this.Po);this.UY();this.kC(r);if(d)this.YY(Q);var u=new km(e.E.L,!0);
u.data={d:e.c.bp,b:this.id,Lb:this.Po};Q.$(u);u.data={d:e.c.gc,LG:"default"};Q.$(u)};m.q7.prototype.disable=function(r,Q,W,b){if(this.SE)this.Ea(r,Q,!0)};
m.q7.prototype.UY=function(r){var Q=this.SE;this.HJ=[];for(var n=0;n<Q.length;n++){var W=Q[n];for(var b=0;
b<W.I.length;b++)this.HJ.push([n,W.I[n]]);W.WL=E.kj.Ym(W);if(r)E.kj.zd(W)}};m.q7.prototype.Ew=function(r,Q,W,b){if(r.gm=="commit")this.Ea(W,Q,!0);
else if(r.gm=="cancel")this.pR(W,Q,!0);else if(r.gm=="prm"){var X=!1;for(var n=0;n<3;n++)if(this.Po[n]!=r.Lb[n])X=!0;
this.Po=r.Lb;if(X){this.rR=m.q7.Ib(this.vI,this.Po,this.rR);this.SE=m.q7.BH(this.rR,this.Po);this.UY(!0);
this.YY(Q)}this.kC(W)}else if(r.gm=="moveDepth"){var D=this.SE;for(var h=0;h<D.length;h++){var S=D[h];
for(var n=0;n<S.I.length;n++){var a=S.I[n];S.SM[a]+=r.aoZ?1:-1}}this.YY(Q)}};m.q7.prototype.qy=function(r,Q){return r==h8.ZI||r==h8.$G};
m.q7.prototype.tf=function(r,Q,W,b){var X=b.pG();if(b.j(h8.Cj))this.Ea(r,Q,!0);else if(b.j(h8.V2))this.pR(r,Q,!0);
else if(b.j(h8.ZI)||b.j(h8.$G)){var D=this.SE;for(var h=0;h<D.length;h++){var S=D[h];S.I.sort(function(Y,d){return d-Y});
for(var n=0;n<S.I.length;n++){var a=S.I[n],K=a*2;S.SM.splice(a,1);S.Hy.splice(a,1);S.hS.splice(a,1);
S.Ri.splice(a,1);S.B0.splice(K,2);S.PM.splice(K,2)}S.I=[];if(S.Ri.length==0){S.XU=S.VL.slice(0);S.q$=S.VL.slice(0)}}this.UY(!0);
this.YY(Q);this.kC(r)}else if(X.x!=0||X.y!=0){this.adC(r,X.x,X.y,Q);this.zj=null}};m.q7.prototype.Ea=function(r,Q,W){this.e5("confirm",Q);
this.escape(r,Q,W)};m.q7.prototype.pR=function(r,Q,W){this.e5("cancel",Q);this.escape(r,Q,W)};m.q7.prototype.escape=function(r,Q,W){r.g.ac=null;
r.g.h2=[];r.a9=!0;this.SE=null;var b=new km(e.E.L,!0);b.data={d:e.c.L2};if(W)Q.$(b)};m.q7.prototype.pZ=function(r,Q,W,b,X){var D=r.u.GF(X.x,X.y),h=D.x,S=D.y,a=this.SE,K=null,Y=[0,2,4,1.2,1.2,1.2],d=-1,j=m.vq(r,X);
for(var n=0;n<a.length;n++){var U=a[n],I=E.p.nn(U.PM,h,S,j);if(I!=-1)K=[n,I];if(d==-1&&E.kj.pz.axX(U.q$,U.XH,h,S))d=n}if(K==null&&d!=-1){var U=a[d];
m.q7.a9U(U,h,S,h,S,0);K=[d,U.Ri.length-1];U.WL=E.kj.Ym(U)}this.zk=D;if(K){var f=a[K[0]].I.indexOf(K[1])!=-1;
if(b.j(h8.NN)&&!f){a[K[0]].I.push(K[1]);this.HJ.push(K)}else if(!f){a[K[0]].I=[K[1]];this.HJ=[K]}}this.kC(r)};
m.q7.a9U=function(r,Q,W,b,X,D){var h=E.p.nn(r.q$,Q,W);r.Ri.push(h);r.PM.push(b,X);r.B0.push(r.q$[h*2]-Q,r.q$[h*2+1]-W);
r.hS.push(0);r.Hy.push(!1);r.SM.push(D)};m.q7.prototype.Dc=function(r,Q,W,b,X){var D=r.u.GF(X.x,X.y),h=this.zk;
if(h)this.adC(r,D.x-h.x,D.y-h.y,Q)};m.q7.prototype.adC=function(r,Q,W,b){var X={},D=this.HJ,h=this.SE;
if(this.zj==null){this.zj=[];for(var n=0;n<h.length;n++)this.zj.push(h[n].PM.slice(0))}for(var n=0;n<D.length;
n++){var S=this.HJ[n],a=S[0],K=h[S[0]],Y=S[1]*2;K.PM[Y+0]=this.zj[a][Y+0]+Q;K.PM[Y+1]=this.zj[a][Y+1]+W;
X[a]=a}for(var a in X)E.kj.zd(this.SE[X[a]]);this.kC(r);this.YY(b)};m.q7.prototype.e5=function(r,Q){var W=new km(e.E.s,!0);
W.b=m.tQ;W.data={d:r,AK:this.a3q,lv:this.lv,UM:this.rR};Q.$(W)};m.q7.prototype.$v=function(r,Q,W,b,X){this.zk=null;
this.zj=null};m.q7.prototype.YY=function(r){m.q7.aqv(this.SE,this.Po,this.rR);this.e5("edit",r)};m.q7.prototype.kC=function(r){var Q=this.SE,W=this.rR;
r.g.ac={C:[],H:[]};r.g.h2=[];r.g.eD=[];for(var n=0;n<Q.length;n++){var b=Q[n];for(var X=0;X<b.I.length;
X++)r.g.eD.push((r.g.h2.length>>>1)+b.I[X]);r.g.h2=r.g.h2.concat(b.PM);if(this.Po[3])E.p.concat(r.g.ac,E.p.a4p(b.q$,b.XH))}r.a9=!0};
m.q7.Ib=function(r,Q,W){var b=r.buffer,X=r.rect,D=r.ax5,h=jv.fp("rigidTransform");if(D)for(var n=0;n<4;
n++){h["PuX"+n].v=D[n*2];h["PuY"+n].v=D[n*2+1]}var S=h.puppetShapeList.v,a=E.kj.a0D(b,X.e,X.n,Q[1],Q[2]),K=[];
for(var Y=0;Y<a.length;Y++){var d={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
d.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var j=a[Y];S.push({t:"Objc",v:d});var U=j.VL.slice(0);E.p.D(U,new au(1,0,0,1,X.x,X.y),U);var I=j.XH;
for(var n=0;n<I.length;n+=3){var f=I[n+1];I[n+1]=I[n+2];I[n+2]=f}K.push({XH:I,VL:U,XU:U,q$:U,Ri:[],B0:[],PM:[],WL:null,I:[],hS:[],Hy:[],SM:[]})}if(W){var g=m.q7.BH(W,[]),H=K[0];
for(var n=0;n<g.length;n++){var u=g[n];for(var s=0;s<u.I.length;s++)H.I.push((H.PM.length>>>1)+u.I[s]);
for(var s=0;s<u.Ri.length;s++){var _=u.Ri[s]*2,i=u.VL[_]-u.B0[s*2],M=u.VL[_+1]-u.B0[s*2+1];m.q7.a9U(H,i,M,u.PM[s*2],u.PM[s*2+1],u.SM[s])}}}m.q7.aqv(K,Q,h);
return h};m.q7.BH=function(r,Q){var W=m.EA.JS,b=r.puppetShapeList.v,X=[];for(var D=0;D<b.length;D++){var h=b[D].v;
Q[0]=h.meshRigidity.v-1;Q[1]=h.meshQuality.v-1;Q[2]=h.meshExpansion.v;var S=h.pinVertexIndices.v.length,a=h.meshBoundaryPath.v.pathComponents.v;
if(a.length!=0){var K=a[0].v.SbpL.v[0].v.Pts;K.v=[]}var Y=new Uint32Array(new Uint8Array(h.indexArray.v).buffer),d=new Float32Array(new Uint8Array(h.originalVertexArray.v).buffer),j=new Float32Array(new Uint8Array(h.deformedVertexArray.v).buffer),U=[],I=[],f=[];
for(var n=0;n<Y.length;n++)U.push(Y[n]);for(var n=0;n<d.length;n++){I.push(d[n]);f.push(j[n])}var g=W(h.pinVertexIndices),H=W(h.pinOffsets),u=W(h.posFinalPins),s=W(h.PnRt),_=W(h.PnOv),i=W(h.PnDp),M=W(h.selectedPin);
X.push({XH:U,VL:I,XU:f.slice(0),q$:f,Ri:g,B0:H,PM:u,WL:null,hS:s,Hy:_,SM:i,I:M})}return X};m.q7.aqv=function(r,Q,W){function b(j,U){var I=[];
for(var n=0;n<j.length;n++)I.push({t:U,v:j[n]});return I}function X(j,U,I){var f=new(I?Uint32Array:Float32Array)(j),g=new Uint8Array(f.buffer);
for(var n=0;n<g.length;n++)U[n]=g[n]}var D=W.puppetShapeList.v;for(var h=0;h<D.length;h++){var S=r[h],a=D[h].v;
a.meshRigidity.v=Q[0]+1;a.meshQuality.v=Q[1]+1;a.meshExpansion.v=Q[2];X(S.XH,a.indexArray.v,!0);X(S.VL,a.originalVertexArray.v);
X(S.q$,a.deformedVertexArray.v);var K=[];for(var n=0;n<S.Ri.length;n++){var Y=S.Ri[n]*2,d=n*2;K[d]=S.VL[Y]-S.B0[d];
K[d+1]=S.VL[Y+1]-S.B0[d+1]}a.PinP.v=b(K,"doub");a.pinVertexIndices.v=b(S.Ri,"long");a.pinOffsets.v=b(S.B0,"doub");
a.posFinalPins.v=b(S.PM,"doub");a.PnRt.v=b(S.hS,"long");a.PnOv.v=b(S.Hy,"bool");a.PnDp.v=b(S.SM,"doub");
a.selectedPin.v=b(S.I,"long")}};m.sn=function(r,Q,W){m.y6.call(this,r?r:[10,40],Q?Q:m.ds,W?W:"tools/slice");
this.W$=null;this.OD=null;this.LR=null;this.ayx=null;this.cZ=null;this.v3=null};m.sn.prototype=new m.y6;
m.sn.Js=function(r,Q){var W=-1;for(var n=0;n<r.length;n++){var b=m.sn.DN(r,n);if(b[0]<=Q.x&&Q.x<=b[2]&&b[1]<=Q.y&&Q.y<=b[3]){W=n;
break}}return W};m.sn.prototype.IU=function(r,Q,W,b,X){if(W==null)return;this.tV(W);if(r.d=="fromAction"){var D=r.Jb,h=D.r7,S=D.Hf,a=W.NO(),K=W.vE(),Y=K==-1?new aV(0,0,W.e,W.n):W.B[K].QT();
if(h=="divide"){if(W.W6.length!=0){var d=W.W6[0],j=m.sn.DN(W.Pq,d);Y=new aV(j[0],j[1],j[2]-j[0],j[3]-j[1]);
W.Pq.splice(d,1);W.W6=[]}a=[[],[]];for(var U=0;U<2;U++){var I=["Across","Down"][U],f=S["pixels"+I]?0:1,g=S[["pixels","slices"][f]+I];
if(g==null)continue;g=g.v;var H=U==0?Y.x:Y.y,u=U==0?Y.e:Y.n;if(f==0)for(var n=1;n*g<u;n++){a[0].push([U,H+n*g]);
a[1].push(K)}else{var s=Math.floor(u/g);for(var n=1;n<g;n++){a[0].push([U,H+n*s]);a[1].push(K)}}}}var _=[Y.x,Y.x+Y.e],i=[Y.y,Y.y+Y.n];
for(var n=0;n<a[0].length;n++){var M=a[0][n],T=Math.round(M[1]),R=a[1][n];if(R!=-1&&R!=K)continue;if(M[0]==0&&_.indexOf(T)==-1)_.push(T);
if(M[0]==1&&i.indexOf(T)==-1)i.push(T)}_.sort(function(L,Z){return L-Z});i.sort(function(L,Z){return L-Z});
for(var z=1;z<i.length;z++)for(var G=1;G<_.length;G++){W.Pq.push(m.sn.rj());m.sn.zW(W.Pq,W.Pq.length-1,[_[G-1],i[z-1],_[G],i[z]]);
W.a9=!0}}else if(r.d=="reorder"){if(W.W6.length==0)return;var V=W.Pq,y=W.W6;y.sort(function(L,Z){return L-Z});
console.log(y);var k=V.slice(0),B=[],v=[];for(var n=0;n<y.length;n++){var d=y[n],l=V[d];v.push(l);k.splice(k.indexOf(l),1)}var F=Math.max(0,Math.min(k.length,y[0]-r.dir));
for(var n=0;n<v.length;n++){k.splice(F+n,0,v[n]);B.push(F+n)}W.Pq=k;W.W6=B}else if(r.d=="delete"){var V=W.Pq.slice(0);
for(var n=0;n<W.W6.length;n++)W.Pq.splice(W.Pq.indexOf(V[W.W6[n]]),1);W.W6=[]}else if(r.d=="deleteAll"){W.Pq=[];
W.W6=[]}else{W.Pq[W.W6[0]].v=r;W.a9=!0}this.mL(W)};m.sn.prototype.enable=function(r,Q,W,b,X,D){m.y6.prototype.enable.call(this,r,Q,W,b,X,D);
if(!W.fl.Pq){var h=new km(e.E.L,!0);h.data={d:e.c.bJ,Lb:d4.oW};Q.$(h)}};m.sn.prototype.disable=function(){this.W$=null;
this.OD=null};m.sn.prototype.Rc=function(r,Q,W,b,X){var D=r.u.GF(X.x,X.y),h=m.sn.Js(r.Pq,D);if(h==-1)return;
this.W$=r;this.OD=Q;r.W6=[h];r.a9=!0;if(this.v3==null){this.v3=new ka([{name:[5,4]},{name:[8,11,1],nT:!0}]);
this.v3.Z("select",this.rg,this)}var S=this.v3;S.parent=Q;S.r();S.update(r,W);var a=new km(e.E.L,!0);
a.data={d:e.c.I2,MY:S,x:X.e7+2,y:X.ID+1};Q.$(a)};m.sn.prototype.rg=function(r){var Q=this.v3.z_()[0],W=this.W$;
if(Q==0){this.tV(W);W.Pq.splice(W.W6[0],1);W.W6=[];W.a9=!0;this.mL(W)}if(Q==1){var b=new km(e.E.L,!0);
b.data={d:e.c.Re,wv:"soptions",h:W.Pq[W.W6[0]].v};this.OD.$(b)}};m.sn.prototype.pZ=function(r,Q,W,b,X){if(r==null)return;
this.tV(r);var D=r.u.GF(X.x,X.y);D=m.iw.Bh(r,D,W,[!0,null,!1]);D.x=Math.round(D.x);D.y=Math.round(D.y);
this.cZ=D;r.Pq.unshift(m.sn.rj());r.W6=[0];m.sn.zW(r.Pq,0,[D.x,D.y,D.x+20,D.y+20]);r.a9=!0};m.sn.prototype.Dc=function(r,Q,W,b,X){if(this.LR==null)return;
var D=r.u.GF(X.x,X.y),h=this.cZ;D=m.iw.Bh(r,D,W,[!0,null,!1]);D.x=Math.round(D.x);D.y=Math.round(D.y);
var S=[h.x,h.y,D.x,D.y];m.sn.ayc(S);m.sn.zW(r.Pq,0,S);r.a9=!0};m.sn.prototype.$v=function(r,Q,W,b,X){this.mL(r);
this.cZ=null};m.sn.prototype.tV=function(r){this.LR=JSON.stringify(r.Pq);this.ayx=JSON.stringify(r.W6)};
m.sn.prototype.mL=function(r){var Q=JSON.stringify(r.Pq);if(Q!=this.LR){var W=new c2(this.name,this);
W.data={x8:this.LR,B9:Q,awf:this.ayx,a7L:JSON.stringify(r.W6)};r.C1(W)}this.LR=null};m.sn.prototype.Zm=function(r,Q){Q.Pq=JSON.parse(r.x8);
Q.W6=JSON.parse(r.awf);Q.a9=!0};m.sn.prototype.e4=function(r,Q){Q.Pq=JSON.parse(r.B9);Q.W6=JSON.parse(r.a7L);
Q.a9=!0};m.sn.prototype.qy=function(r,Q){return Q!=null&&Q.W6.length!=0&&(r==h8.ZI||r==h8.$G)};m.sn.prototype.tf=function(r,Q,W,b){if(r==null)return;
if(b.j(h8.ZI)||b.j(h8.$G))this.IU({d:"delete"},Q,r,b,W);var X=b.pG();if(X.x!=0||X.y!=0){this.tV(r);m.sn.HV(r,X);
this.mL(r)}};m.sn.prototype.Ew=function(r,Q,W,b,X){};m.sn.aq2=function(r,Q,W,b){var X=new cp(-Q.x,-Q.y),D=Q.e/W.e,h=Q.n/W.n,S=[0,0,Q.e,Q.n];
for(var n=0;n<r.length;n++){var a=m.sn.DN(r,n);if(b){a[0]=Math.round(a[0]*D);a[1]=Math.round(a[1]*h);
a[2]=Math.round(a[2]*D);a[3]=Math.round(a[3]*h)}else{m.sn.wc(a,X);m.sn.al1(a,S)}if(a[0]>=a[2]||a[1]>=a[3]){r.splice(n,1);
n--;continue}m.sn.zW(r,n,a)}};m.sn.HV=function(r,Q){var W=r.Pq;for(var n=0;n<r.W6.length;n++){var b=m.sn.DN(W,r.W6[n]);
m.sn.wc(b,Q);m.sn.zW(W,r.W6[n],b)}};m.sn.al1=function(r,Q){if(r[0]<Q[0])r[0]=Q[0];if(r[1]<Q[1])r[1]=Q[1];
if(Q[2]<r[2])r[2]=Q[2];if(Q[3]<r[3])r[3]=Q[3]};m.sn.wc=function(r,Q){r[0]=Math.round(r[0]+Q.x);r[2]=Math.round(r[2]+Q.x);
r[1]=Math.round(r[1]+Q.y);r[3]=Math.round(r[3]+Q.y)};m.sn.zW=function(r,n,Q){var W=r[n].v.bounds.v;W.Left.v=Q[0];
W.Top.v=Q[1];W.Rght.v=Q[2];W.Btom.v=Q[3]};m.sn.DN=function(r,n){var Q=r[n].v.bounds.v;return[Q.Left.v,Q.Top.v,Q.Rght.v,Q.Btom.v,n]};
m.sn.ayc=function(r){if(r[2]<r[0]){var Q=r[0];r[0]=r[2];r[2]=Q}if(r[2]==r[0])r[2]++;if(r[3]<r[1]){var Q=r[1];
r[1]=r[3];r[3]=Q}if(r[3]==r[1])r[3]++};m.sn.Z3=function(r,Q){var W=1e9,b=-1e9,X=1e9,D=-1e9;for(var n=0;
n<Q.length;n++){var h=m.sn.DN(r,Q[n]);W=Math.min(W,h[0]);X=Math.min(X,h[1]);b=Math.max(b,h[2]);D=Math.max(D,h[3])}return[W,X,b,D]};
m.sn.rj=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
m.E8=function(){m.sn.call(this,[10,41],m.Hq,"tools/sselect");this.cZ=null;this.eF=null;this.Qo=null;
this.L_=null;this.My=!1};m.E8.prototype=new m.sn;m.E8.prototype.pZ=function(r,Q,W,b,X){if(r==null)return;
var D=r.u.GF(X.x,X.y),h=m.E8.afw(D,4/r.u._,r.Pq,r.W6);h.pop();if(h.length!=0){this.cZ=D;this.Qo=h;this.tV(r);
return}var S=r.Pq,a=m.sn.Js(S,D);if(a==-1)r.W6=[];else{var K=r.W6.indexOf(a);if(b.j(h8.NN)){if(K==-1)r.W6.push(a);
else r.W6.splice(K,1)}else{r.W6.sort(function(f,g){return f-g});if(K==-1)r.W6=[a];this.cZ=D;this.tV(r);
this.eF=m.sn.Z3(S,r.W6);this.L_=[];for(var n=0;n<r.W6.length;n++)this.L_.push(m.sn.DN(S,r.W6[n]));if(b.j(h8._I)){var Y=S.slice(0),d=r.W6,j=[];
for(var n=0;n<d.length;n++){var a=d[n],U=Y[a],I=S.indexOf(U);j.push(I);S.splice(I,0,JSON.parse(JSON.stringify(U)))}r.W6=j}}}r.a9=!0};
m.E8.prototype.Dc=function(r,Q,W,b,X){var D=r.u.GF(X.x,X.y);if(this.cZ==null){var h=m.E8.afw(D,4/r.u._,r.Pq,r.W6),S=h.pop(),a=h.length==0?"default":["ew","nwse","ns","nesw"][S]+"-resize",K=new km(e.E.L,!0);
K.data={d:e.c.gc,LG:a};Q.$(K);return}if(!this.My&&D.s4(this.cZ))return;this.My=!0;var Y=r.Pq,h=this.Qo;
if(h){D=m.iw.Bh(r,D,W,[!0,null,!1]);var d=Math.round(D.x),j=Math.round(D.y);for(var n=0;n<h.length;n+=2){var U=m.sn.DN(Y,h[n]),I=h[n+1];
U[I]=(I&1)==0?d:j;m.sn.ayc(U);m.sn.zW(Y,h[n],U)}}else{var f=D.eb(this.cZ),g=this.eF.slice(0);m.sn.wc(g,f);
var H=new aV(g[0],g[1],g[2]-g[0],g[3]-g[1]),u=m.iw.Tf(r,H,W,[!0,null,!1],!0);m.iw.tz(r,H,u);f.x+=u[0];
f.y+=u[1];for(var n=0;n<r.W6.length;n++)m.sn.zW(Y,r.W6[n],this.L_[n]);m.sn.HV(r,f)}r.a9=!0};m.E8.prototype.$v=function(r,Q,W,b,X){if(this.cZ==null)return;
this.mL(r);r.g._e=null;r.a9=!0;this.cZ=null;this.Qo=null;this.L_=null;this.My=!1};m.E8.afw=function(r,Q,W,b){var X=r.x,D=r.y,h=[],S=-1,a=[];
for(var n=0;n<b.length;n++){var K=b[n],Y=m.sn.DN(W,K),d=Y[0],j=Y[1],U=Y[2],I=Y[3];if(X<d-Q||U+Q<X||D<j-Q||I+Q<D)continue;
var f=[X<d+Q,D<j+Q,U-Q<X,I-Q<D],g=-1;for(var H=0;H<4;H++){if(f[H]&&f[H+1&3])g=1+2*(H&1);if(f[H])h.push(K,H)}if(g==-1){if(f[0]||f[2])g=0;
if(f[1]||f[3])g=2}if(g!=-1){S=g;a.push(K)}}var u=h.length;for(var n=0;n<u;n+=2){var K=h[n],s=h[n+1],_=m.sn.DN(W,K)[s];
for(var H=0;H<b.length;H++){var i=b[H];if(a.indexOf(i)!=-1)continue;var Y=m.sn.DN(W,i);if(Y[s&1]==_)h.push(i,s&1);
if(Y[2+(s&1)]==_)h.push(i,2+(s&1))}}h.push(S);return h};m.oj=function(){m.to.call(this,[10,44],m.ajZ,"tools/oselect");
this._r="crosshair";this.ag4=0};m.oj.prototype=new m.to;m.oj.prototype.DF=function(r,Q,W,b){if(Math.random()<1/(1+this.ag4)){alert("The cross should be fully inside the object.",3500);
this.ag4++}};m.oj.prototype.Fx=function(r,Q,W,b){m.xI.PZ(r,m.to.Lr,this.OD);if(!b.hY||!this.X$)return;
var X=this.J4(r,W,!1),D=X.e,h=X.n,S=X.x,a=X.y,K=X.x+D,Y=X.y+h,d=S+D/2,j=a+h/2,U=m.oj.auK;r.g.ac={C:[S,a,K,a,K,Y,S,Y,d-D*U,j,d+D*U,j,d,j-h*U,d,j+h*U],H:"M L L L Z M L M L".split(" ")};
r.a9=!0};m.oj.auK=.12;m.oj.prototype.Tn=function(r,Q,W,b){r.g.ac=null;r.a9=!0;this.finish(r,Q,W,b)};
m.oj.prototype.getSelection=function(r,Q,W,b){if(this.zo.s4(this.Iy)||!this.X$)return null;var X=this.J4(r,W,!1),D=r.B[r.I[0]];
if(X.WB()||!X.fs(D.rect))return null;return m.to.ys("ObSl",X)};m.xI=function(){m.AZ.call(this,[10,37],m.cj,"tools/qselect");
this.b9="qselect"};m.xI.prototype=new m.AZ;m.xI.prototype.pZ=function(r,Q,W,b,X){m.xI.PZ(r,m.to.Lr,Q,!0);
this.Yc(r,W,b,X,1);if(this.dU==null)return;this.eM(r)};m.xI.prototype.Dc=function(r,Q,W,b,X){this.Ak(r,Q,W);
m.xI.PZ(r,m.to.Lr,Q);if(this.uf)this.Dt(r,W,X);if(this.dU==null)return;if(!X.hY)return;var D=this.GO(r,W,b,X);
if(D!=1)this.eM(r)};m.xI.PZ=function(r,Q,W,b){if(r&&Q.key!=m.xI.yr(r)){Q.key=m.xI.yr(r);var X=r.B[r.I[0]].rect.O(),h="Image Analysis ...";
if(X==0)return;var D=X>1e6&&b!=!0,S=new km(e.E.L,!0);S.data={d:e.c.lr,gC:h};if(D)W.$(S);var a=function(){var K=m.xI.aaL(r);
for(var Y in K)Q[Y]=K[Y];var S=new km(e.E.L,!0);S.data={d:e.c.CB,gC:h};if(D)W.$(S)};if(b)a();else setTimeout(a,30)}};
m.xI.yr=function(r){var Q=r.I[0],W=r.B[Q],b=W.rect,X=b.e,D=b.n,h=X*D,S=W.buffer;return[Q,b.x,b.y,X,D,S[0],S[1],S[2],S[3]].join(",")};
m.xI.aaL=function(r){var Q=r.I[0],W=r.B[Q],b=W.rect,X=b.e,D=b.n,h=X*D,S=W.buffer,a=Date.now(),K=E.Q(h);
K.fill(128);var Y=E.ZG.Vf(S,X,D);console.log(Date.now()-a);var d={key:m.xI.yr(r),mx:S,rect:b.clone(),Dr:X,J9:D,Ns:12,aim:!1,Jc:K,I9:Y,P:E.Q(h),$R:null,UU:null,kX:null};
m.xI.NH(d);return d};m.xI.NH=function(r,Q){var W=r.Dr,b=r.J9,X=0,D=0,h=Date.now(),S=r.$R!=null&&E.ZG.a47(r.I9.XH,r.$R.XH,r.$R.DK,r.Jc);
X=Date.now()-h;h=Date.now();if(!S&&!r.aim){r.$R=E.ZG.XJ(r.I9,W,b,r.Jc,r.Ns);if(!E.ZG.a47(r.I9.XH,r.$R.XH,r.$R.DK,r.Jc)){r.aim=!0;
console.log("conflict")}r.UU=E.ZG.anI(r.mx,W,b,r.$R.XH,r.$R.DK);r.kX=[r.UU[0].slice(0),[]];D=Date.now()-h;
h=Date.now()}var h=Date.now();if(Q){r.kX[0].set(r.UU[0]);var a=r.UU[1],K=r.kX[1];for(var Y=0;Y<a.length;
Y++)K[Y]=a[Y].slice(0);E.ZG.a7u(r.$R.XH,W,b,r.$R.DK,r.Jc,r.P,r.kX)}};m.$N=function(){m.y6.call(this,[10,50],m.YP,"tools/artb");
this.QS=null;this.jQ=!1;this.IC=null;this.dX=!1;this.a6h=null;this.Mj=100;this.en=null;this.nW=0};m.$N.prototype=new m.y6;
m.$N.prototype.IU=function(r,Q,W,b,X){this.d3(W,r.apQ,Q,r.BT)};m.$N.alM=function(r,Q){var W=r[0],b=0,X=0;
if(W==0)X=-1;else if(W==1)b=1;else if(W==2)X=1;else b=-1;return[20/Q.Yl,r[1]+b*60/Q.Yl,r[2]+X*60/Q.Yl]};
m.$N.prototype.Ew=function(r,Q,W,b,X){this.QS=r.Lb;this.nW=Date.now()};m.$N.prototype.Wq=function(r,Q,W,b){if(W.at!=this.id)return;
if(r==null||r.I.length!=1){this.rf(r);return}var X=r.I[0],D=r.B[X],h=D.add.artb;if(h==null){this.rf(r);
return}if(this.dX)return;if(Date.now()-this.nW>50){this.QS={};var S=["artboardBackgroundType","Clr"];
for(var n=0;n<S.length;n++)if(h[S[n]])this.QS[S[n]]=JSON.parse(JSON.stringify(h[S[n]]));var a=new km(e.E.L,!0);
a.data={d:e.c.bp,b:this.id,Eb:this.QS};Q.$(a)}var K=D.QT(),Y=E.p.vk(K).C,d=this.IC=new gP(Y,!0,!1,!1,!0,!1,3,!1);
d.Ju(r,W,!1);var j={C:[1,0],H:["M"]};for(var n=1;n<30;n++){var U=Math.PI*2*n/30;j.C.push(Math.cos(U),Math.sin(U));
j.H.push("L")}j.H.push("Z","M","L","M","L");j.C.push(-.5,0,.5,0,0,-.5,0,.5);var I=K.x+K.e/2,f=K.y+K.n/2,g=this.Mj*1.1,H=this.a6h=[I,K.y,K.x+K.e,f,I,K.y+K.n,K.x,f],u=[0,-g,g,0,0,g,-g,0],_=r.root.children;
r.g.Gi=[];for(var n=0;n<4;n++){var i=new cp(H[n*2]+u[n*2],H[n*2+1]+u[n*2+1]),M=!1;for(var T=0;T<_.length;
T++){var D=_[T].l;if(D.add.artb==null)continue;var K=D.QT();if(K.LS(i))M=!0}if(M){H[n*2]=1e9;continue}r.g.Gi.push([n,H[n*2],H[n*2+1]])}};
m.$N.prototype.disable=function(r,Q,W,b,X){this.rf(r)};m.$N.prototype.rf=function(r){if(this.IC){this.IC.clear(r);
this.IC=null;r.g.Gi=null}};m.$N.prototype.pZ=function(r,Q,W,b,X){this.nW=Date.now();var D=r.u.GF(X.x,X.y),h=this.IC;
if(h){var S=new km(e.E.s),a=h.ais(null,D,r,X);if(a<9){this.dX=h.pZ(r,W,b,D,null,!0,X);return}else if(h.fM(D)){S.b=m.$t;
S.data={d:"disabAuto"};Q.$(S);var K=new km(e.E.L);K.data={d:e.c.cf,b:m.$t,al$:!0};Q.$(K);return}else{var Y=-1,d=r.g.Gi;
for(var n=0;n<d.length;n++){var j=m.$N.alM(d[n],r.u);if(cp.ks(D,new cp(j[1],j[2]))<j[0])Y=d[n][0]}if(Y!=-1){var U=r.B[r.I[0]].QT(),I=U.clone(),f=(Y==0||Y==2?U.n:U.e)+this.Mj;
if(Y==0||Y==3)f=-f;if(Y==0||Y==2)U.y+=f;else U.x+=f;if(b.j(h8._I)){var g=new aV(0,0,r.e,r.n);S.b=m.M0;
S.data={d:$.fE};Q.$(S);m.iw.pq(r,r.ZP(null,r.I[0],null,!0),null,U.x-I.x,U.y-I.y);var H=m.Fp.hh(r);if(H){var u=r.bk();
u.data.om=g;u.data.mp=H}r.I=u.data.JP=r.I.slice(r.I.length-1)}else this.d3(r,U,Q);return}}}this.en=m.iw.Bh(r,D,W)};
m.$N.prototype.d3=function(r,Q,W,b){if(b==null)b=0;var X=r.B.slice(0),D=[r.B.length+1],h=r.b_();h._J(aA.get([1,16,0])+" "+(r.add.artd==null?1:r.root.children.length+1));
h.add.lsct=d1.O9;h.NG(Q);if(this.QS){var S=h.add.artb,a=this.QS;for(var K in a)S[K]=a[K]}h.iX="pass";
h.KX=24;if(b==0){if(r.add.artd||Q.ww(new aV(0,0,r.e,r.n)).WB())X.push(r.Tz());else X.unshift(r.Tz())}else{var Y=r.ZP();
Y.sort(function(f,g){return f-g});var d=m.t6.p$(r,Y,X.length-1,!1,null,!1),j=d.pop(),U=d.pop();X=d.pop();
X.splice(r.B.length-Y.length,0,r.Tz())}X.push(h);var I=new km(e.E.s);I.b=m.M0;I.data={d:$.Nd,px:X,yU:D,Cv:[1,16,2]};
W.$(I)};m.$N.prototype.Dc=function(r,Q,W,b,X){var D=r.u.GF(X.x,X.y),h=this.IC,S=this.en;if(h){if(this.dX){h.Dc(r,W,b,D)}else{var a=h.er(D,r.u._,null,X);
if(a==null)a="default";var K=new km(e.E.L,!0);K.data={d:e.c.gc,LG:a};Q.$(K)}}if(S){var Y=this.DN(r,D,b,W);
r.g.ac=E.p.vk(Y);r.a9=!0;m.y6.FD(X,Y,r,W)}};m.$N.prototype.$v=function(r,Q,W,b,X){var D=r.u.GF(X.x,X.y),h=this.en;
if(this.dX){this.IC.$v(r,W,b,D);this.dX=!1;var S=E.p.QL(this.IC.a_()),a=$.M5(S),K=r.B[r.I[0]],Y=JSON.parse(JSON.stringify(K.add.artb));
Y.artboardRect.v=a;var d=new km(e.E.s,!0);d.b=m.M0;d.data={d:$.nP,Uy:Y};Q.$(d)}if(h){var j=this.DN(r,D,b,W);
if(j.O()>20)this.d3(r,j,Q);r.g.ac=null;r.a9=!0;this.en=null;r.g.Ql=[]}};m.$N.prototype.DN=function(r,Q,W,b){var X=this.en,D=m.iw.Bh(r,Q,b),h=m.QQ.qD(X,D,W,!0);
X=h[0];D=h[1];return E.p.QL([X.x,X.y,D.x,D.y])};function gP(r,Q,W,b,X,D,h,S){this.hi=null;this.Sp=r?r.slice(0):null;
this.q4=4;this.Iy=null;this.zU=null;this.YN=null;this.j$=-1;this.td=null;this.akO=!1;this.ash=[];for(var n=0;
n<8;n++)this.ash.push(fH.acT(0,PIMG.rotate,-.5,-.5,-45-n*45));this.adB=Q;this.ayD=W;this.alV=b;this.a6c=X;
this.FV=D;this.BT=h;this.aeu=S==null?1:S}gP.prototype.axD=function(){return this.j$!=-1};gP.prototype.a_=function(){return this.Sp.slice(0)};
gP.prototype.xN=function(r){this.Sp=r};gP.prototype.afu=function(){return this.lR(this.Sp)};gP.prototype.ae$=function(){return this.q4};
gP.prototype.a9P=function(r){this.q4=r};gP.prototype.Ta=function(r){if(r==null)r=this.Sp;if(this.q4==9)return this.Iy;
else return this.lR(r)[this.q4]};gP.prototype.a3E=function(r){if(this.q4==9)this.Iy=r.clone();else{var Q=this.Ta(),W=new au(1,0,0,1,r.x-Q.x,r.y-Q.y);
E.p.D(this.Sp,W,this.Sp)}};gP.prototype.er=function(r,Q,W,b){var X=this.Hx(null,r,Q,b),D;if(X==9)return"default";
if(X==10){if(W)return null;return!this.adB?"move":null}if(X==-1||X==4)return null;if(X==11){var h=this.Ta().eb(r);
D=90-Math.atan2(h.y,h.x)*180/Math.PI;var S=Math.round(8*(D/360));S=(S+8)%8;return this.ash[S]}else{var a=this.T1(r,this.Sp);
D=[135,90,45,180,0,0,225,270,315][X];var K=E.K.Om(this.Sp);D+=Math.atan2(-K[3],K[0])*180/Math.PI;var Y="ew nesw ns nwse ew nesw ns nwse".split(" "),S=Math.round(8*(D/360));
S=(S+8)%8;return Y[S]+"-resize"}};gP.prototype.T1=function(r,Q){var W=E.K.j4(E.K.Om(Q)),b=new Float64Array(2);
E.K.nv(r.x,r.y,W,b);return new cp(b[0],b[1])};gP.prototype.fM=function(r){var Q=this.T1(r,this.Sp);return 0<=Q.x&&Q.x<=1&&0<=Q.y&&Q.y<=1};
gP.prototype.pZ=function(r,Q,W,b,X,D,h,S){this.akO=D;this.td=b;var a=r.u._,K;if(this.Sp==null)b=m.iw.Bh(r,b,Q);
this.YN=b.clone();if(this.Sp==null){if(S==null)S=0;var Y=new au;Y.rotate(S);var d=Y.lE(new cp(1,1));
this.YN.offset(d.x,d.y);var j=X==null?1:1/X,U=this.Sp=[0,0,1,0,1,j,0,j];Y.translate(b.x,b.y);E.p.D(this.Sp,Y,this.Sp);
K=8}else{K=this.Hx(W,b,a,h);if(0<=K&&K<=8)this.YN=this.lR(this.Sp)[K];if(K==9){this.q4=9;this.Iy=b.clone()}}this.hi=this.Sp.slice(0);
this.j$=K;this.Ju(r,Q);this.zU=this.Ta();return K!=-1};gP.prototype.ais=function(r,Q,W,b){return this.Hx(r,Q,W.u._,b)};
gP.prototype.Hx=function(r,Q,W,b){var X=-1,D=this.lR(),h=[0,2,6,8,1,3,5,7],S=b?m.vq({u:{_:W}},b):8*m.i()/W,a=cp.ks(D[0],D[2]),K=cp.ks(D[0],D[6]),Y=this.T1(Q,this.Sp);
Y.x*=a;Y.y*=K;var d=new aV(0,0,a,K);d.sg(S,S);if(X==-1)if(cp.ks(this.Ta(),Q)<S)X=9;if(X==-1)for(var n=0;
n<h.length;n++)if(cp.ks(D[h[n]],Q)<S)X=h[n];if(X==-1&&d.LS(Y)){if(Math.abs(Y.y-0)<S)X=1;if(Math.abs(Y.x-0)<S)X=3;
if(Math.abs(Y.y-K)<S)X=7;if(Math.abs(Y.x-a)<S)X=5}if(X==-1&&r&&r.j(h8._I))X=9;if(X==-1||this.BT==4){if(this.fM(Q)){if(this.adB)X=10}else{d.sg(3*S,3*S);
X=d.LS(Y)&&this.BT!=3?11:10}}return X};gP.prototype.Dc=function(r,Q,W,b,X){if(this.j$==-1)return;this.td=b;
var D=W.j(h8.NN),h=W.j(h8._I),S=W.j(h8.DS),a=r.u._,K=this.YN,Y=this.j$,d=this.lR(),j=m.iw.Bh(r,K,Q),U=m.iw.Bh(r,b,Q),I,f;
if(Y==9){var d=this.lR(),g=-1;for(var n=0;n<d.length;n++)if(cp.ks(d[n],U)*a<10)g=n;this.q4=g==-1?9:g;
this.Iy=D?m.N3.ha(j,U):U.clone()}else if(Y==10){f=E.p.Z3(this.hi);var H=f.x,u=f.y;f.offset(b.x-K.x,b.y-K.y);
if(this.a3i()){f.x=Math.round(f.x);f.y=Math.round(f.y)}I=m.iw.Tf(r,f,Q);var s=new au(1,0,0,1,f.x-H+I[0],f.y-u+I[1]);
E.p.D(this.hi,s,this.Sp)}else if(Y==11){var _=this.Ta(this.hi),i=_.eb(b),M=_.eb(K),T=Math.atan2(i.y,i.x),R=Math.atan2(M.y,M.x),s=new au(1,0,0,1,-_.x,-_.y),z=Math.PI/12;
if(D)s.rotate(Math.round((R-T)/z)*z);else s.rotate(R-T);s.translate(_.x,_.y);E.p.D(this.hi,s,this.Sp)}else{if(X&&!S)D=!D;
var G,V=this.hi,y=Y==0||Y==2||Y==6||Y==8;if(this.BT==1){if(y)D=h=S=!0}else if(this.BT==2&&y&&this.akO!=!0)S=!0;
if(this.BT==3)S=!1;if(this.alV&&y&&S){var n=[0,0,2,0,0,0,6,0,4,0][Y],k=-1,B=U.x,v=U.y;if(D){var l=n+6&7,F=n+10&7,L=gP.aj$(V[n],V[n+1],V[l],V[l+1],U.x,U.y),Z=gP.aj$(V[n],V[n+1],V[F],V[F+1],U.x,U.y),t=L[2]<Z[2]?L:Z;
B=t[0];v=t[1];if(h)k=L[2]<Z[2]?l:F}else if(h)k=n+4&7;G=V.slice(0);if(k!=-1){var A=V[k],o=V[k+1],O=(V[n]+A)/2,x=(V[n+1]+o)/2;
G[k]=O-(B-O);G[k+1]=x-(v-x)}G[n]=B;G[n+1]=v}else if(y&&h){var _=this.zU,C=_.x,J=_.y,q=j.x-C,fd=j.y-J,w=1,P=1;
if(Math.abs(q)>=1)w=(U.x-C)/q;if(Math.abs(fd)>=1)P=(U.y-J)/fd;if(D||this.FV)w=P=(w+P)/2;var s=new au;
s.translate(-C,-J);s.scale(w,P);s.translate(C,J);G=V.slice(0);E.p.D(G,s,G)}else{if(this.a3i()){U.x=Math.round(U.x);
U.y=Math.round(U.y)}var fc=[0,1,2,5,8,7,6,3],p=fc[(fc.indexOf(Y)+4)%8],gG=[];for(var n=0;n<3;n++)for(var k=0;
k<3;k++)gG.push(new cp(k/2,n/2));var _=this.zU,fh=this.T1(U,V),fJ=this.T1(K,V),cF=h&&(this.q4==4||this.q4==9)?this.T1(_,V):gG[p],j_=new au,gY=new au,w=(fh.x-cF.x)/(fJ.x-cF.x);
if(w==0)w=1e-4;var P=(fh.y-cF.y)/(fJ.y-cF.y);if(P==0)P=1e-4;if(this.a6c){w=Math.max(w,0);P=Math.max(P,0)}if(Y==0||Y==2||Y==6||Y==8){if(D||this.FV)j_.scale(w,w);
else j_.scale(w,P)}if(Y==1||Y==3||Y==5||Y==7){var kc=this.FV||D,el=S&&D;if(Y==1||Y==7)j_.scale(kc?P:1,el?1:P);
else j_.scale(el?1:w,kc?w:1);if(this.ayD&&S){if(Y==1||Y==7)gY.th=(fh.x-cF.x)/(fh.y-cF.y);else gY.k=(fh.y-cF.y)/(fh.x-cF.x)}}var s=new au;
s.translate(-cF.x,-cF.y);s.concat(j_);s.concat(gY);s.translate(cF.x,cF.y);G=[0,0,1,0,1,1,0,1];E.p.D(G,s,G);
var t=E.K.Om(V);E.K.D(t,G)}if(gP.SU(G))this.Sp=G}this.Ju(r,Q);if(I)m.iw.tz(r,f,I)};gP.aj$=function(r,Q,W,b,X,D){var h=W-r,S=b-Q,a=X-r,K=D-Q,Y=h*h+S*S,d=a*h+K*S,j=d/Y,U=r+j*h,I=Q+j*S,f=X-U,g=D-I;
return[U,I,Math.sqrt(f*f+g*g)]};gP.prototype.a3i=function(){var r=this.Sp;return Math.abs(r[1]-r[3])<1e-6&&Math.abs(r[2]-r[4])<1e-6||Math.abs(r[0]-r[2])<1e-6&&Math.abs(r[3]-r[5])<1e-6};
gP.SU=function(r){return E.p.Im(r)||E.p.Im([r[6],r[7],r[4],r[5],r[2],r[3],r[0],r[1]])};gP.prototype.$v=function(r,Q,W,b){this.j$=-1;
this.td=null;r.g._e=null;r.g.Ql=[];r.a9=!0};gP.prototype.tf=function(r,Q,W){var b=W.pG();if(b.x||b.y){var X=new au(1,0,0,1,b.x,b.y);
E.p.D(this.Sp,X,this.Sp);this.Ju(r,Q);return!0}return!1};gP.prototype.lR=function(r){if(r==null)r=this.Sp;
var Q=r[6]-r[0],W=r[7]-r[1],b=r[4]-r[2],X=r[5]-r[3],D=[r[0],r[1],r[2],r[3],r[0]+Q/2,r[1]+W/2,r[2]+b/2,r[3]+X/2,r[6],r[7],r[4],r[5]],h=[];
for(var n=0;n<3;n++){var S=n*4,a=D[S+0],K=D[S+1],Y=D[S+2],d=D[S+3];h.push(new cp(a,K));h.push(new cp(a+(Y-a)/2,K+(d-K)/2));
h.push(new cp(Y,d))}return h};gP.prototype.Ju=function(r,Q,W){if(W==null)W=!1;var b=this.lR(),X=b[0],D=b[2],h=b[6],S=b[8];
r.g.ac={H:[],C:[]};r.g.ac.H.push("M","L","L","L","Z");r.g.ac.C.push(X.x,X.y,D.x,D.y,S.x,S.y,h.x,h.y);
var a=this.aeu;if(a>1){r.g.E1=JSON.parse(JSON.stringify(r.g.ac));var K=D.eb(X),Y=h.eb(X),d=S.eb(D),j=S.eb(h);
for(var n=1;n<a;n++){r.g.ac.H.push("M","L","M","L");var U=n/a;r.g.ac.C.push(X.x+K.x*U,X.y+K.y*U,h.x+j.x*U,h.y+j.y*U);
r.g.ac.C.push(X.x+Y.x*U,X.y+Y.y*U,D.x+d.x*U,D.y+d.y*U)}}r.u.m5=new aV(0,0,cp.ks(b[0],b[2]),cp.ks(b[0],b[6]));
if(this.j$!=-1&&this.j$<9&&this.td){var I=r.u.Au(this.td.x,this.td.y);m.y6.FD(I,r.u.m5,r,Q)}if(!W){r.g.in=[];
for(var n=0;n<b.length;n++)if(n!=4)r.g.in.push(b[n].x,b[n].y);var f=this.Ta();r.g.in.push(f.x,f.y)}r.a9=!0};
gP.prototype.clear=function(r){r.u.m5=null;r.g._e=null;r.g.ac=null;r.g.E1=null;r.g.in=[];r.a9=!0};function c7(r,Q){this.Eu=null;
this.j$=-1;this.ap3(r)}c7.prototype.D$=function(){return JSON.parse(JSON.stringify(this.Eu))};c7.prototype.ap3=function(r){this.Eu=JSON.parse(JSON.stringify(r))};
c7.prototype.fM=function(r){return!0};c7.prototype.er=function(r,Q,W,b){var X=this.Hx(r,Q,b);if(X==-1)return"default";
return"pointer"};c7.prototype.pZ=function(r,Q,W,b,X,D,h){this.j$=this.Hx(b,r.u._,h);return this.j$!=-1};
c7.prototype.Hx=function(r,Q,W){var b=this.a1D(),X=-1,D=1e6;for(var n=0;n<b.length;n++){var h=cp.ks(b[n],r);
if(h<D){X=n;D=h}}return D<(W?m.vq({u:{_:Q}},W)*2:20*m.i()/Q)?X:-1};c7.prototype.Dc=function(r,Q,W,b){if(this.j$==-1)return;
var X=r.u._,D=this.j$,h=E.Eu.c8(this.Eu);h[D*2]=b.x;h[D*2+1]=b.y;E.Eu.Fa(h,this.Eu)};c7.prototype.$v=function(r,Q,W,b){this.j$=-1;
r.a9=!0};c7.prototype.tf=function(r,Q,W){var b=W.pG();if(b.x||b.y){var X=new au(1,0,0,1,b.x,b.y);E.p.D(this.Sp,X,this.Sp);
this.Ju(r)}};c7.prototype.a1D=function(r){var Q=E.Eu.c8(this.Eu),W=[];for(var n=0;n<Q.length;n+=2)W.push(new cp(Q[n],Q[n+1]));
return W};c7.prototype.Ju=function(r){var Q=this.a1D();r.g.ac={H:[],C:[]};r.g.ac.H.push("M","C","C","C","C");
var W=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var n=0;n<W.length;n++)r.g.ac.C.push(Q[W[n]].x,Q[W[n]].y);
r.g.ac.H.push("M","L","L","M","L","L","M","L","L","M","L","L");W=[4,0,1,2,3,7,11,15,14,13,12,8];for(var n=0;
n<W.length;n++)r.g.ac.C.push(Q[W[n]].x,Q[W[n]].y);r.g.in=[];for(var n=0;n<Q.length;n++)r.g.in.push(Q[n].x,Q[n].y);
r.a9=!0};c7.prototype.clear=function(r){r.g.ac=null;r.g.in=[];r.a9=!0};function bU(){this.iL=!1;this.xz=!1;
this.a3a=!1;this.avX=!1;this.xn=!1;this.Zr=!1;this.lq=0;this.Ro=0}bU.prototype.pZ=function(r){this.iL=!0;
this.xz=!1;this.xn=r.j(h8.NN);this.Zr=r.j(h8._I);this.lq=this.xn?0:1;this.Ro=this.Zr?0:1};bU.prototype.tf=function(r){var Q=this.avX=r.j(h8.NN),W=this.a3a=r.j(h8._I);
if(this.xz){if(this.lq==0&&!Q)this.lq++;if(this.lq==1&&Q)this.lq++;if(this.Ro==0&&!W)this.Ro++;if(this.Ro==1&&W)this.Ro++}};
bU.prototype.Dc=function(){this.xz=!0};bU.prototype.$v=function(){this.iL=!1};bU.prototype.k$=function(n){if(n==0)return this.iL?this.Zr:this.a3a;
if(n==1)return this.xz?this.Ro==2:!1};bU.prototype.XA=function(n){if(n==0)return this.iL?this.xn:this.avX;
if(n==1)return this.xz?this.lq==2:!1};m.History=function(){m.y6.call(this,"History",m.sp);this.wE=!0;
this.alk=0};m.History.prototype=new m.y6;m.History.prototype.IU=function(r,Q,W,b){W.Ca=!0;if(r.d=="h_itemchange"){if(r.index<W.Je)for(var n=W.Je;
n>r.index;n--)this.nC(W);if(r.index>W.Je)for(var n=W.Je;n<r.index;n++)this.Gq(W)}if(r.d=="h_stepfwd")this.Gq(W);
if(r.d=="h_stepbck")this.nC(W);if(r.d=="h_undoredo"){var X=this.wE||this.alk!=W.Je;if(X){this.nC(W);
X=!1}else{this.Gq(W);X=!0}this.wE=X;this.alk=W.Je}if(r.d=="h_clear"){if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
W.history=[new c2([1,0],null)];W.Je=0}else this.wE=!0};m.History.prototype.nC=function(r){if(r.Je==0)return;
var Q=r.history[r.Je];Q.b.Zm(Q.data,r);r.Je--};m.History.prototype.Gq=function(r){if(r.Je==r.history.length-1)return;
var Q=r.history[r.Je+1];Q.b.e4(Q.data,r);r.Je++};m.t6=function(){m.y6.call(this,"Layers",m.M0);this.OD=null};
m.t6.prototype=new m.y6;m.t6.prototype.IU=function(r,Q,W,b,X){this.OD=Q;var D=r.d,h=r.l!=null?r.l:W.I.length!=0?W.I[0]:W.B.length-1,S=W.B[h];
W.yV=!0;var a=b.j(h8._I),K=b.j(h8.NN),Y=b.j(h8.DS);if(D==$.iO&&W.P==null&&(W.I.length>1||!W.P2(!1)))D=$.fE;
if(D==$.zq){var d=new c2([6,33],this),j=S.wf()?["pass"].concat(hG.Av):hG.Av,U=j[r.g2],I=r.l!=null?[r.l]:W.I,f=JSON.stringify(I),g=[];
for(var n=0;n<I.length;n++)g.push(W.B[I[n]].iX);d.data={d:D,Hg:f,xp:g,g2:U};W.C1(d);this.e4(d.data,W);
this.track(cO.sT("Md",{t:"enum",v:{BlnM:hG.Ra(U)}}))}if(D==$.lo){var d,H=W.bk(),I=r.l!=null?[r.l]:W.I,f=JSON.stringify(I);
if(H&&H.data&&H.data.d==D&&H.data.Hg==f)d=H;else{var u=cO.sT("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(u);var g=[];for(var n=0;n<I.length;n++)g.push(W.B[I[n]].opacity);d=new c2([6,32],this);d.data={d:D,Hg:f,xp:g,g2:r.g2,E4:u.Hf};
W.C1(d)}d.data.g2=r.g2;d.data.E4.T.v.Opct.v.val=Math.round(r.g2*100/255);this.e4(d.data,W)}if(D==$.ql){if(S.add.iOpa==null)S.add.iOpa=255;
var d,H=W.bk();if(H&&H.data&&H.data.d==D&&H.data.l==h)d=H;else{d=new c2("Fill Opacity Change",this);
d.data={d:D,l:h,xp:S.add.iOpa,g2:r.g2};W.C1(d)}d.data.g2=r.g2;this.e4(d.data,W)}if(D==$.Vi){var s=r.g2,_=r.l!=null?[r.l]:W.I.slice(0),i=[],M=[],d;
for(var T=0;T<_.length;T++){var R=W.B[_[T]];if(R.add.lspf==null)R.add.lspf=0;var g=R.add.lspf,U=g;for(var n=0;
n<s[0].length;n++){var z=s[1][n],G=1<<z;if((U&G)==0&&s[0][n])U^=G;else if((U&G)!=0&&!s[0][n])U^=G}i.push(g);
M.push(U)}var H=W.bk(),I=JSON.stringify(_);if(H&&H.data&&H.data.d==D&&JSON.stringify(H.data.Hg)==I){d=H;
d.data.g2=M}else{var d=new c2([6,57,1],this);d.data={d:D,Hg:I,xp:i,g2:M};W.C1(d)}this.e4(d.data,W)}if(D==$.MG){var V="----",y=r.te,U=null;
for(var n=0;n<b7._9.Ut.length;n++)if(S.add[b7._9.Ut[n]])V=b7._9.Ut[n];var k=S.add[V];if(y=="TySh")U=aH.M6(50,50,X.vy);
var d=new c2("Layer Type",this);d.data={d:D,l:h,ano:[V,k],te:[y,U]};W.C1(d);this.e4(d.data,W)}if(D==$.yu){var _=[];
if(a){var B=W.bk(),v=B?B.data:null;if(B!=null&&B.b==this&&v.d==$.yu&&v.Hg.length!=1){var l=new km(e.E.s);
l.b=m.sp;l.data={d:"h_stepbck"};Q.$(l);if(v.l==h)return}var F=W.root.Nn(h),L=F,Z=[r.l];while(L.parent!=W.root){Z.push(L.parent.index);
L=L.parent}for(var n=0;n<W.B.length;n++){var t=W.B[n],L=W.root.Nn(n),A=Z.indexOf(n)!=-1?!0:t.cB()&&F.depth<L.depth;
if(A!=t.cB())_.push(n)}}else if(r.Hg)_=r.Hg;else{_.push(h);var o=W.B[h].cB(),u={r7:o?"hide":"show",Hf:{classID:o?"Hd":"Shw",null:{t:"VlLs",v:[cO.RG("Lyr",!0)]}}};
this.track(u)}var d=new c2("Layer visibility",this,!0);d.data={d:D,Hg:_,l:h};W.C1(d);this.e4(d.data,W)}if(D==$.OB){if(X.at==m.YP){var O=new km(e.E.L);
O.data={d:e.c.cf,b:m.$t};Q.$(O)}var x=r.a1r,C=r.zA,fd,escape=!1,w=!1;if(r.eW){if(Y&&(C==0||C==1||C==2)){var J=0;
if(K)J++;if(a)J+=2;var q=new km(e.E.s,!0);q.b=m.iW;q.data={d:"fromlayer",C0:[r.l,C,J]};Q.$(q);return}}var u={r7:"select",Hf:{classID:"null",MkVs:{t:"bool",v:!1}}};
W.agO();if(b.j(h8.DS)||r.hV==0){var P=W.I.indexOf(h);if(P==-1)W.I.push(h);else if(W.I.length>1){if(r.hV!=0)W.I.splice(P,1)}W.I.sort(function(d,bm){return d-bm});
u.Hf.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};fd=h}else if(K&&!a&&C>0){D=C==1?$.uK:C==2?$.TQ:$.HS;
escape=!0}else if((K||r.hV==1)&&W.I.length>0){var fc=Math.min(h,W.I[0]),p=Math.max(h,W.I[W.I.length-1]);
W.I=[];for(var n=fc;n<=p;n++)if(W.B[n].add.lsct!=d1.kJ)W.I.push(n);u.Hf.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
fd=h}else{fd=h;if(h>=W.B.length)return;var t=W.B[h];if(t&&t.wf()&&r.a7X)t.add.lsct=d1.O9;else if(W.I.length==1&&W.I[0]==h&&Math.max(0,C)==t.L$){w=!0;
W.yV=!1}if(!w){W.I=[h];W.fb()}}if(!w){if(fd!=null&&fd<W.B.length){u.Hf.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:W.B[fd].getName()}}]},this.track(u)}if(!escape){console.log("no escape");
if(W.I.length==1){var gG=W.I[0];for(var n=0;n<W.B.length;n++){if(n==gG)continue;var R=W.B[n];R.L$=0;
R.Uk=!1}var S=W.B[gG];if(C==2){S.Uk=!S.Uk;W.Me=[]}else if(S){S.L$=C<=0?0:C}}else for(var n=0;n<W.B.length;
n++){var R=W.B[n];R.L$=0;R.Uk=!1}W.qS=null;W.Ca=!0}}if(r.eW&&a){if((C==1||C==3)&&x!=null){var q=new km(e.E.s,!0);
q.b=m.W9;q.data={d:"mskView",h:x!=0?0:K?1:2};Q.$(q)}else{this.IU({d:$.$u,l:r.l},Q,W,b,X)}}}if(D==$.uK||D==$.HS){var fh=D==$.uK,fJ=fh?S.SS():S.Xg(W).z;
if(fJ==null)return;var d=new c2(fJ.isEnabled?fh?[6,15]:[6,42]:fh?[6,14]:[6,41],this);d.data={d:D,l:h};
W.C1(d);this.e4(d.data,W)}if(D==$.TQ){var fJ=S.add.vmsk;if(fJ==null)return;var d=new c2(fJ.isEnabled?[6,17]:[6,16],this);
d.data={d:D,l:h};W.C1(d);this.e4(d.data,W)}if(D==$.ayp){var cF=S.add.lsct==d1.O9?d1.$B:d1.O9,L=W.root.Nn(W.B.indexOf(S)),kc=!1;
console.log(L);if(b.j(h8.DS)){var j_=L.parent;for(var n=0;n<j_.children.length;n++){var gY=j_.children[n].l;
if(gY.wf())gY.add.lsct=cF}}else S.add.lsct=cF;for(var n=0;n<W.I.length;n++){var el=W.I[n];if(L.IW<el&&el<L.index)kc=!0}if(kc)W.I=[L.index];
W.Ca=!0}if(D==$.$u){if(!W.ib(h))return;var d=new c2(S.Cw?[6,19]:[6,18],this);d.data={d:D,l:h};W.C1(d);
if(r.g2==null||r.g2!=S.Cw)this.e4(d.data,W)}if(D==$.aho){if(S.By())S.KX-=32;else S.KX+=32;W.Ca=!0}if(D==$.Rq||D==$.AH){var d;
if(D==$.Rq)d=new c2(S.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);if(D==$.AH)d=new c2(S.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);
d.data={d:D,l:h};W.C1(d);this.e4(d.data,W)}if(D==$.BI||D==$.wy){var gG=r.index,d;if(D==$.BI)d=new c2(S.add.lmfx[iq.lY[gG[0]]].v[gG[1]].v.enab.v?[6,30]:[6,29],this);
if(D==$.wy)d=new c2(S.add.SoLd.filterFX.v.filterFXList.v[gG].v.enab.v?[6,44]:[6,43],this);d.data={d:D,l:h,index:r.index};
W.C1(d);this.e4(d.data,W)}if(D==$.tn){if(r.src==r.aS)return;var iN=W.B[r.src],c$=W.B[r.aS],dB=iN.add.lmfx?JSON.stringify(iN.add.lmfx):"",aL=c$.add.lmfx?JSON.stringify(c$.add.lmfx):"";
if(c$.add.lmfx==null){c$.add.lmfx=JSON.parse(iq.default);for(var n=0;n<iq.order.length;n++)c$.add.lmfx[iq.lY[n]]={t:"VlLs",v:[]}}if(r.JL==null){c$.add.lmfx=JSON.parse(dB);
if(!a)delete iN.add.lmfx}else{var aB=r.JL[0],f3=iq.lY[aB];if(iq.aro.indexOf(iq.order[aB])==-1)c$.add.lmfx[f3].v=[];
c$.add.lmfx[f3].v.push(iN.add.lmfx[f3].v[r.JL[1]]);if(!a)iN.add.lmfx[f3].v.splice(r.JL[1],1)}var jC=iN.add.lmfx?JSON.stringify(iN.add.lmfx):"",bc=c$.add.lmfx?JSON.stringify(c$.add.lmfx):"";
if(!c$.By())c$.KX+=32;var d=new c2("Move Layer Styles",this);d.data={d:D,wV:r.src,VS:r.aS,axh:dB,akF:aL,a9b:jC,a1v:bc};
W.C1(d);this.e4(d.data,W)}if(D==$.Cp){if(r.src!=null)h=r.src;var R=W.B[h],iA=JSON.stringify(R.add.SoLd),bL=JSON.parse(iA),an=bL.filterFX.v.filterFXList.v;
an.splice(r.JL,1);var d=new c2([6,53],this);d.data={d:$.$M,Za:[{GV:h,jP:[iA,JSON.stringify(bL)]}]};W.C1(d);
this.e4(d.data,W)}if(D==$.api){var dp=a,iN=W.B[r.src],c$=W.B[r.aS],im=[];if(iN!=c$&&c$.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(iN==c$&&!dp&&(r.JL==r.UO||r.JL==-1))return;var a5=iN.Xg(W),iA=JSON.stringify(iN.add.SoLd),bL=JSON.parse(iA),an=bL.filterFX.v.filterFXList.v;
if(iN==c$){an.splice(r.UO,0,an[r.JL]);if(!dp)an.splice(r.JL+(r.JL<r.UO?0:1),1);im.push({GV:r.src,jP:[iA,JSON.stringify(bL)]})}else if(r.JL==-1){var bg=bL.filterFX;
if(!dp){delete bL.filterFX;im.push({GV:r.src,jP:[iA,JSON.stringify(bL)],ht:[a5,null]})}var fM=c$.$Y()?c$.Xg(W):null,eT=bj.a3I(a5),ev=JSON.stringify(c$.add.SoLd),fU=JSON.parse(ev);
fU.placed.v=eT.id;fU.filterFX=bg;im.push({GV:r.aS,jP:[ev,JSON.stringify(fU)],ht:[fM,eT]})}else{var e8=an[r.JL];
if(!dp){an.splice(r.JL,1);im.push({GV:r.src,jP:[iA,JSON.stringify(bL)]})}var ev=JSON.stringify(c$.add.SoLd),fU=JSON.parse(ev);
if(fU.filterFX==null)fU.filterFX=jv.qQ();var ej=fU.filterFX.v.filterFXList.v;ej.splice(r.UO,0,e8);var fV={GV:r.aS,jP:[ev,JSON.stringify(fU)]};
if(!c$.$Y()){var eT=bj.a6P(c$.add.SoLd.placed.v);fV.ht=[null,eT]}im.push(fV)}var d=new c2([6,52],this);
d.data={d:$.$M,Za:im};W.C1(d);this.e4(d.data,W)}if(D==$.eJ){var fJ=S.SS(),d=new c2(fJ.oh?[6,26]:[6,25],this);
d.data={d:D,l:h};W.C1(d);this.e4(d.data,W);this.track({r7:"set",Hf:{classID:"setd",null:{t:"obj ",v:[cO.RG("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:fJ.oh}}}}})}if(D==$.K2){var fJ=S.add.vmsk,d=new c2(fJ.oh?[6,28]:[6,27],this);
d.data={d:D,l:h};W.C1(d);this.e4(d.data,W)}if(D==$.JD){var d=new c2("Variables / Datasets",this),he=JSON.stringify([W.AR,W.NA]);
if(he==r.h)return;d.data={d:D,atF:he,adt:r.h};W.C1(d);this.e4(d.data,W)}if(D==$.lW){var gZ=[],d;for(var n=0;
n<W.I.length;n++){var T=W.I[n],t=W.B[T];if(t.add.vogk)gZ.push(T,JSON.stringify(t.add.vogk))}for(var n=0;
n<W.Me.length;n++){var T=W.Me[n],t=W.ZS[T];if(t.add.vogk)gZ.push(-1-T,JSON.stringify(t.add.vogk))}E.X.aqq(W,r.h,r.ava);
var hQ=[];for(var n=0;n<W.I.length;n++){var T=W.I[n],t=W.B[T];if(t.add.vogk)hQ.push(T,JSON.stringify(t.add.vogk))}for(var n=0;
n<W.Me.length;n++){var T=W.Me[n],t=W.ZS[T];if(t.add.vogk)hQ.push(-1-T,JSON.stringify(t.add.vogk))}var H=W.bk();
if(H&&H.data&&H.data.d==D){var aJ=!0;for(var n=0;n<gZ.length;n+=2)if(gZ[n]!=H.data.Ip[n])aJ=!1;if(aJ){d=H;
d.data.$A=hQ}}if(d==null){var d=new c2([12,91,1],this);d.data={d:D,Ip:gZ,$A:hQ};W.C1(d)}this.e4(d.data,W)}if(D==$.nP){var cs=JSON.stringify(S.add.artb),fN=JSON.stringify(r.Uy),d;
W.B[h].add.artb=JSON.parse(fN);var j4=new aV(0,0,W.e,W.n),hL=m.Fp.hm(W),H=W.bk();if(H&&H.data&&H.data.d==D&&H.data.l==h){d=H;
d.data.Uy=fN}if(d==null){var d=new c2("Editing Artboard",this);d.data={d:D,l:h,akl:cs,Uy:fN,om:j4};W.C1(d)}d.data.mp=hL;
this.e4(d.data,W)}if(D==$.BC){var hQ=W.Ev.slice(0),fv=W.Qw.slice(0),al=W.P,dD=W.P;if(r.CZ=="fromAction"){var kd=r.h.r7,gv=r.h.Hf;
if(kd=="make"||kd=="duplicate"){var j$=hQ.length,bv=!1,jk=!1;if(W.F0())j$--;var i9=new $.lA;i9.name="Alpha "+(j$+1);
if(kd=="make"){var cM=gv.Nw.v;i9.color=255;fv=[j$];i9.Xo=!0;i9.VT=cM.Opct.v;if(cM.Nm)i9.name=cM.Nm.v;
if(cM.classID=="SCch"){bv=!0;dD=null;i9.tv=1}}else{var iW=gv.null.v[0].v;if(iW.keyID=="fsel")bv=!0;else{var ft=m.to.a2l(W);
dD=m.to.apC(W,ft);i9.color=0;i9.rect=dD.rect;i9.channel=dD.channel}}if(bv){i9.color=0;if(W.P){i9.rect=W.P.rect.clone();
i9.channel=W.P.channel.slice(0)}if(jk){i9.color=255-i9.color;E.j4(i9.channel)}}hQ.splice(j$,0,i9)}else if(kd=="delete"){if(S&&S.SS()&&S.L$==1){this.IU({d:$.bQ},Q,W,b,X);
return}var b0=W.Qw;b0.sort(function(d,bm){return bm-d});if(b0.length==0)return;for(var n=0;n<b0.length;
n++)hQ.splice(b0[n],1);fv=[]}else if(kd=="hide"){hQ[fv[0]]=hQ[fv[0]].clone();hQ[fv[0]].Xo=!1}}if(r.CZ=="rnm"){hQ[r.C_]=hQ[r.C_].clone();
hQ[r.C_].name=r.name}var d=new c2("Channel Edit",this);d.data={d:D,Ip:W.Ev.slice(0),HZ:W.Qw.slice(0),$A:hQ,Gg:fv,vW:al,yU:dD};
this.e4(d.data,W);W.C1(d)}if(D==$.Nd){var ko=new aV(0,0,W.e,W.n),d=new c2(r.Cv,this);d.data={d:$.Nd,z$:W.B.slice(0),px:r.px,VU:W.I.slice(0),JP:r.yU};
W.C1(d);this.e4(d.data,W);var co=m.Fp.hh(W);if(co){d.data.om=ko;d.data.mp=co}}if(D==$.YL){var gr=W.ZP(null,r.l),bh=1e10;
if(gr.length==0)return;if(W.B.length==gr.length){alert("Project must have at least 1 layer");return}var ib=[];
for(var n=0;n<W.B.length;n++)if(gr.indexOf(n)==-1)ib.push(W.B[n]);for(var n=0;n<gr.length;n++)bh=Math.min(bh,gr[n]);
bh=Math.max(bh-1,0);while(ib[bh].name=="</Layer group>")bh++;this.track({r7:"delete",Hf:{classID:"Dlt",null:cO.RG("Lyr",!0)}});
var j4=new aV(0,0,W.e,W.n),d=new c2([6,31],this);d.data={d:$.Nd,z$:W.B.slice(0),px:ib,VU:W.I.slice(0),JP:[bh]};
W.C1(d);this.e4(d.data,W);var hL=m.Fp.hm(W);if(hL){d.data.mp=hL;d.data.om=j4;m.Fp.hh(W)}}if(D==$.wk){if(!b.j(h8.NN))return;
var d=new c2("Switch Layer Link",this);d.data={d:D,l:r.l};W.C1(d);this.e4(d.data,W)}if(D==$.oY){var b0=r.acX?r.acX:W.I,bM=0,dE=!1;
if(b0.length==0)return;if(b0.length==1&&W.B[b0[0]].dS==0){alert(aA.get([15,7,5]));return}var bR=[];for(var n=0;
n<W.B.length;n++){var c5=W.B[n].dS;bR.push(c5);bM=Math.max(bM,c5)}var ix=-1,f2=-1;for(var n=0;n<b0.length;
n++){var c5=W.B[b0[n]].dS;if(c5==0)dE=!0;else if(ix==-1||ix==c5)ix=c5;else f2=c5}if(!dE)for(var n=0;
n<b0.length;n++)W.B[b0[n]].dS=0;else if(ix!=-1&&f2==-1)for(var n=0;n<b0.length;n++)W.B[b0[n]].dS=ix;
else for(var n=0;n<b0.length;n++)W.B[b0[n]].dS=bM+1;var a$=[];for(var n=0;n<W.B.length;n++){var c5=W.B[n].dS;
if(a$[c5]==null)a$[c5]=0;a$[c5]++}for(var n=0;n<W.B.length;n++){var c5=W.B[n].dS;if(a$[c5]==1)W.B[n].dS=0}var fl=bR;
bR=[];for(var n=0;n<W.B.length;n++){var c5=W.B[n].dS;bR.push(c5);bM=Math.max(bM,c5)}var d=new c2(dE?[6,54,0]:[6,54,1],this);
d.data={d:$.oY,aeC:fl,atQ:bR};W.C1(d);this.e4(d.data,W)}if(D==$.fE&&(r.l!=null||W.I.length!=0)||D==$.H2){var cW=W.P4(D==$.fE?r.l:h,null,r.a74),i7;
if(D==$.H2){var R=cW[0],kd=R.add.SoLd.Idnt.v,fA=W.JR(kd).clone();R.add.SoLd.Idnt.v=fA.c5=bj.zQ()+kd.slice(8);
W.add.lnk2.push(fA)}if(D==$.fE){var iG={r7:"duplicate",Hf:{classID:"null",null:cO.RG("Lyr",!0)}};if(r.Ft){cW[0]._J(r.Ft);
iG.Nm={t:"TEXT",v:r.Ft}}this.track(iG);r.ad0=r.l}D=$.fc;r.B=cW;r.fS=W;r.mw=W}if(D==$.fc){var i$,ic,e4=r.fS,kt=r.mw,jN=0,cU=0,iu=!1,hv,eC=0,dV=0;
if(e4!=kt){console.log("ADDLAYERS different projs");var i$=new aV(0,0,e4.e,e4.n),ic=new aV(0,0,kt.e,kt.n),jn=[],ah=[];
for(var n=0;n<r.B.length;n++){var R=r.B[n];if(R.add.SoLd==null)continue;var kd=R.add.SoLd.Idnt.v;if(jn.indexOf(kd)==-1){jn.push(kd);
ah.push(bj.zQ()+kd.slice(8))}R.add.SoLd.Idnt.v=ah[jn.indexOf(kd)];var a5=R.Xg(e4);if(a5){e4.jt(a5);kt.jJ(a5)}}if(jn.length>0){if(kt.add.lnk2==null)kt.add.lnk2=[];
for(var n=0;n<jn.length;n++){var h6=e4.JR(jn[n]),fA=h6.clone();fA.c5=ah[n];kt.add.lnk2.push(fA)}}}var al=kt.I.slice(0);
al.sort(function(d,bm){return d-bm});var ib=kt.B.slice(0),dD=[],br=-1;for(var n=0;n<al.length;n++)br=Math.max(br,al[n]);
if(r.ad0!=null)br=r.ad0;var bY=e4.vE();if(r.ty){br=r.ty-1;var by=kt.B[r.ty].QT();jN+=by.x;cU+=by.y}if(bY!=-1&&(e4!=kt||r.ty)){var g1=e4.B[bY].QT();
jN-=g1.x;cU-=g1.y}var eq=kt.NO();br++;for(var n=0;n<r.B.length;n++){var t=r.B[n],iP=t.add.artb;ib.splice(br,0,t);
dD.push(br);br++;if(iP){hv=!0;var b1=iP.guideIndeces;if(b1){b1=b1.v;console.log(b1);for(var ew=0;ew<b1.length;
ew++){eq[0].push(e4.RE[b1[ew].v].slice(0));eq[1].push(ib.indexOf(t));iu=!0}}}}for(var n=0;n<r.B.length;
n++){var t=r.B[n];if(t.add.lsct==d1.kJ){if(eC==0)dV++;eC++}else if(t.wf())eC--}if(dV==1)dD=[br-1];var d=new c2([6,0],this);
d.data={d:$.Nd,z$:kt.B.slice(0),px:ib,VU:al,JP:dD};if(iu){d.data.iz=[kt.NO(),eq]}kt.C1(d);this.e4(d.data,kt);
if(jN!=0||cU!=0)m.iw.pq(kt,kt.ZP(),null,jN,cU);if(hv){d.data.om=new aV(0,0,kt.e,kt.n);d.data.mp=m.Fp.hm(kt);
m.Fp.hh(kt)}}if(D==$.a2y){var i6=r.l!=null?[r.l]:W.ZP(),ib=W.B.slice(0);for(var n=0;n<i6.length;n++){var t=W.B[i6[n]].clone();
t.fw(W);ib.splice(i6[n],1,t)}var d=new c2([6,8],this);d.data={d:$.Nd,z$:W.B.slice(0),px:ib,VU:W.I.slice(0),JP:W.I.slice(0)};
W.C1(d);this.e4(d.data,W)}if(D==$.a10){var ib=W.B.slice(0),t=ib[W.I[0]]=ib[W.I[0]].clone(),hr=t.add.lmfx,jH,by;
delete t.add.lmfx;var eF=W.I[0],g4=eF+1;if(t.wf()){var hT=W.B[W.I[0]].ix;by=hT.aoH;jH=hT.XZ;var L=W.root.Nn(eF);
eF=L.IW}else{by=t.rect;jH=E.Q(by.O());E.TX(t.buffer,jH,3)}var ar=iI.pX(hr,t.add.fxrp,jH,by,W,by).type;
for(var n=0;n<iq.order.length;n++){var a7=iq.order[n],iX=ar[a7];iX.reverse();for(var ew=0;ew<iX.length;
ew++){var k8=iX[ew],I=W.b_(),gb=n>7;if(a7=="ebbl"){if(k8.uX||k8.gu){var jf=k8.uX?k8.uX:k8.gu;if(k8.uX)delete k8.uX;
else delete k8.gu;if(k8.gu||k8.Uv)ew--}else if(k8.Uv||k8.Ml){var jf=k8.Ml?k8.Ml:k8.Uv;if(k8.Ml){delete k8.Ml;
if(k8.Uv)ew--}gb=!0}k8=jf}I.iX=k8._B;I.opacity=Math.round(255*k8.yj);I.buffer=k8.NP;I.rect=k8.Ix.clone();
I.rect.offset(by.x,by.y);if(a7=="FrFX"){I.buffer=I.buffer.slice(0);E.nV(k8.fG?k8.fG:k8.Ty,I.buffer,3);
if(k8.fG){gb=!0;delete k8.fG;if(k8.Ty)ew--}}I.Cw=!gb;I._J(t.getName()+"'s "+aA.get(iq.names[n]));ib.splice(gb?eF:g4,0,I);
if(gb)g4++}}var d=new c2("Styles to Layers",this);d.data={d:$.Nd,z$:W.B.slice(0),px:ib,VU:W.I.slice(0),JP:[g4-1]};
W.C1(d);this.e4(d.data,W)}if(D==$.ej){var i6=W.ZP(),ib=W.B.slice(0),aN=new aV(0,0,W.e,W.n);for(var n=0;
n<i6.length;n++){var fE=W.B[i6[n]],jG=fE.cB();fE.ky(!0);var h0=W.root.Nn(i6[n]);if(fE.wf())continue;
if(h0==null)continue;var t=fE.clone();t.fw(W);var gp=h0.J4(W,!0),aq=W.B;W.pY([fE]);W.U();W.W4();t.buffer=E.Q(gp.O()*4);
E.TU(W.T6(),aN,t.buffer,gp);t.rect=gp;t.opacity=255;t.add.iOpa=255;t.iX="norm";t.U();t.ix.Tq=!0;W.pY(aq);
if(t.add.lmfx)delete t.add.lmfx;t.z=t.U0=null;ib.splice(i6[n],1,t);t.ky(jG);fE.ky(jG)}var d=new c2([6,34],this);
d.data={d:$.Nd,z$:W.B.slice(0),px:ib,VU:W.I.slice(0),JP:W.I.slice(0)};W.C1(d);this.e4(d.data,W)}if(D==$.auP){var i6=W.ZP(),ib=W.B.slice(0);
for(var n=0;n<i6.length;n++){var t=W.B[i6[n]],cg=t.add.TySh;if(cg==null)continue;var R=new gH(cg.kN,X.zl),gC=E.p.ea(eO.pD(R,cg));
for(var bH in gC){var hP=gC[bH],gY=t.clone();delete gY.add.TySh;gY.KX=gY.KX|1<<4;gY.add.SoCo=JSON.parse(JSON.stringify(iq.$f[0]));
var bd=gY.add.SoCo.Clr.v;bd.Rd.v=parseInt(bH.slice(1,3),16);bd.Grn.v=parseInt(bH.slice(3,5),16);bd.Bl.v=parseInt(bH.slice(5,7),16);
var il=new $.vL;il.V=E.p.ou(hP,!1);if(gY.add.vmsk!=null){gY.add.vmsk.aah();il.concat(gY.add.vmsk)}gY.add.vmsk=il;
gY.add.vstk=JSON.parse(JSON.stringify(iq.pN.default));gY.P7();gY.hR(W);ib.splice(ib.indexOf(t),0,gY)}ib.splice(ib.indexOf(t),1)}var dD=W.I.slice(0);
for(var n=dD.length-1;n>=0;n--)if(dD[n]>=ib.length)dD.splice(n,1);var d=new c2([6,40],this);d.data={d:$.Nd,z$:W.B.slice(0),px:ib,VU:W.I.slice(0),JP:dD};
W.C1(d);this.e4(d.data,W)}if(D==$.abO){var jI=W.I.length;if(jI<2){alert("Select two or more layers.");
return}if(!W.Fv())return;var gY=W.B[W.I[0]].clone(),ib=[];for(var n=0;n<W.B.length;n++)if(W.I.indexOf(n)==-1)ib.push(W.B[n]);
ib.splice(W.I[0],0,gY);for(var n=1;n<jI;n++)if(W.B[W.I[n]].rect.O()>2e6){alert("Blended areas are too large.");
return}for(var n=1;n<jI;n++){var t=W.B[W.I[n]],hq=t.rect.clone();hq.sg(1,1);var bm=E.Q(hq.O()*4);E.TU(t.buffer,t.rect,bm,hq);
gY.extend(hq);var hd=E.Q(hq.O()*4);E.TU(gY.buffer,gY.rect,hd,hq);var d=E.Q(hq.O());E.TX(bm,d,3);E.round(d,200);
E.nV(d,bm,3);E.q.YB("norm",bm,hq,hd,hq,hq,1);E.Sz.Pf(hd,d,hq);E.TU(hd,hq,gY.buffer,gY.rect)}var d=new c2([2,10,0],this);
d.data={d:$.Nd,z$:W.B.slice(0),px:ib,VU:W.I.slice(0),JP:[W.I[0]]};W.C1(d);this.e4(d.data,W)}if(D==$.wp){var ib=W.B.slice(0),fv=W.I.slice(0);
for(var n=0;n<ib.length;n++){var t=ib[n],k6=t.add.vmsk;if(t.tN()&&k6&&t.add.vstk.strokeEnabled.v&&!t.add.vstk.fillEnabled.v){var gu=k6.V,jh=0,k9=-1;
for(var ew=0;ew<gu.length;ew++){if((gu[ew].type==0||gu[ew].type==3)&&gu[ew].xo!=-1){jh++;if(gu[ew].type==3&&k9==-1){gu[ew].bu=gu[ew].xo=1;
k9=ew}}}if(jh>1&&k9!=-1&&jh<10){console.log("separating an open path into a new layer");t=t.clone();
k6=t.add.vmsk;gu=k6.V;var I=gu[k9].length,da=t.clone();da.add.lyid=W.D5();k6.V=gu.slice(0,2).concat(gu.slice(k9,k9+I+1));
k6.I=[];t.hR(W);t.U();var hW=da.add.vmsk.V;da.add.vmsk.V=hW.slice(0,k9).concat(hW.slice(k9+I+1,hW.length));
da.add.vmsk.I=[];da.hR(W);ib[n]=t;ib.splice(n+1,0,da);for(var ew=0;ew<fv.length;ew++)if(fv[ew]>n)fv[ew]++;
var bB=fv.indexOf(n);if(bB!=-1){fv.splice(bB+1,0,n+1)}}}}if(ib.length!=W.B.length){var d=new c2("Splitting open paths",this);
d.data={d:$.Nd,z$:W.B.slice(0),px:ib,VU:W.I.slice(0),JP:fv};W.C1(d);this.e4(d.data,W)}}if(D==$.CC){this.IU({d:$.wp},Q,W,b,X);
var al=W.I.slice(0),aq=W.B.slice(0),i6=W.ZP();if(i6.length==0)return;W.avP(i6,!1,r.IL);var d=new c2([6,36,0],this);
d.data={d:$.Nd,z$:aq,px:W.B.slice(),VU:al,JP:W.I.slice(0)};W.C1(d);this.e4(d.data,W)}if(D==$.a3R){var iA=S.add.SoLd;
if(iA==null)return;var kd=iA.Idnt.v,jZ=W.JR(kd);jZ.T6(!1);var cy=jZ.EJ[0],hq=jZ.EJ[1];if(E.vR(cy)){alert("The smart object contains transparency.");
return}var hh=fH.Qt("jpg").Al([[cy.buffer]],hq.e,hq.n,[90]);this.IU({d:$.t2,data:new Uint8Array(hh),Ao:"image.jpg"},Q,W,b,X);
console.log(W.add);return}if(D==$.t2){var aN=r.gR,kd=r.id;if(aN==null)aN=W;if(kd==null)kd=S.add.SoLd.Idnt.v;
var h6=aN.JR(kd),fA=h6.clone();fA.raw=r.data;fA.Ao=r.Ao;var eQ=fH.E$(r.data.buffer);if(eQ=="psd"){fA.C3="8BIM";
fA.pj="8BPB"}else{fA.C3="    ";fA.pj="    "}fA.T6(!1);h6.T6(!1);var d=new c2([6,36,1],this);d.data={d:$.t2,id:kd,s3:h6,kv:fA};
aN.C1(d);this.e4(d.data,aN)}if(D==$.gp){var d=new c2([6,36,4],this);d.data={d:D,l:h,h$:S.add.SoLd.Impr.v.classID,g2:r.g2};
W.C1(d);this.e4(d.data,W)}if(D==$.af6){var aF,cd;if(r.Yy){aF=r.gR;cd=r.Yy}else{r.gR.cW();r.gR.qk();r.gR.U();
r.gR.W4();r.gR.T6();aF=fH.Qt("PSD").Al(r.gR,0,0,[!0,!0]);cd=r.gR.name}if(!(aF instanceof ArrayBuffer))throw"e";
aF=new Uint8Array(aF);var P=r.Bs;if(P==null){if(W.I.length==0)P=W.I.length;else{var el=W.I[W.I.length-1],I=W.B[el];
P=I.wf()?el:el+1}}var hi=new aV(0,0,W.e,W.n),cx=W.vE();if(cx!=-1)hi=W.B[cx].QT();var ju=W.jS(aF,cd,0,0,hi,X.zl,Q),ib=W.B.slice(0);
ib.splice(P,0,ju);var d=new c2([6,36,2],this);d.data={d:$.Nd,z$:W.B.slice(),px:ib,VU:W.I.slice(0),JP:[ib.indexOf(ju)]};
W.C1(d);this.e4(d.data,W)}if(D==$.oO&&r.CZ=="merge"){var gz=[],e7=W.root.children,it=0;for(var n=0;n<e7.length;
n++){var L=e7[n],t=L.l,ip=L.children,hy=!0;if(!t.wf()||ip.length==0)continue;for(var ew=0;ew<ip.length;
ew++)if(!ip[ew].l.getName().startsWith("_a_")){hy=!1;break}if(hy)gz.push(W.B.indexOf(t))}var iB=[];for(var n=0;
n<gz.length;n++)if(W.I.indexOf(gz[n])!=-1)iB.push(gz[n]);if(iB.length>=2)gz=iB;if(gz.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var jb=[];for(var n=0;n<gz.length;n++)jb.push(W.B[gz[n]].getName());var iX=[];for(var aC=0;aC<gz.length;
aC++){var L=W.root.Nn(gz[aC]),fV=[[],[],0,aC];iX.push(fV);for(var n=0;n<L.children.length;n++){var T=L.children[n].index,t=L.children[n].l,i9=t.getName(),fw=20,aT=i9.split(",");
if(aT.length>1){var fD=parseInt(aT.pop());if(!isNaN(fD)&&fD!=0)fw=fD}fV[0].push(t);fV[1].push(fw);fV[2]+=fw}}iX.sort(function(d,bm){return bm[2]-d[2]});
var bs=iX[0],aM=bs[2];for(var js=1;js<iX.length;js++){var fV=iX[js],gA=1,aY=fV[1].slice(0),ef=0;while((gA+1)*fV[2]<=bs[2]){gA++;
aY=aY.concat(fV[1])}fV[1]=aY;fV[2]*=gA;var cj=bs[2]/fV[2];for(var n=0;n<fV[1].length;n++){var e1=Math.floor(fV[1][n]*cj);
fV[1][n]=e1;ef+=e1}while(ef<aM){ef++;fV[1][fV[1].length-1]++}fV[2]=ef}var jO=[],i1=[],e1=[];for(var n=0;
n<iX.length;n++){jO.push(0);i1.push(0)}while(it<aM){var eB=1e9,j$=-1;for(var n=0;n<iX.length;n++){var cL=iX[n][1],eF=jO[n];
if(eF!=cL.length&&i1[n]+cL[eF]<it+eB){j$=n;eB=i1[n]+cL[eF]-it}}i1[j$]+=iX[j$][1][jO[j$]];jO[j$]++;if(eB!=0){e1.push(eB);
it+=eB}}for(var n=1;n<e1.length;n++){var fF=e1[n];if(fF<16&&(e1[n-1]<16||n<e1.length-1&&16<=e1[n+1])){e1[n-1]+=fF;
e1.splice(n,1);n--}}var jG=[],aN=new aV(0,0,W.e,W.n);for(var n=0;n<W.B.length;n++){jG[n]=W.B[n].cB();
W.B[n].ky(!1)}var jc=W.I.slice(0);W.I=gz;var gr=W.ZP();gr.sort(function(d,bm){return d-bm});var ib=[];
for(var n=0;n<W.B.length;n++){if(gr.indexOf(n)==-1)ib.push(W.B[n])}iX.sort(function(d,bm){return d[3]-bm[3]});
function iv(cL,dG){var n=0,d0=0;while(d0+cL[n]<=dG){d0+=cL[n];n++}return n}it=0;ib.splice(gr[0],0,W.Tz());
for(var ga=0;ga<e1.length;ga++){var _=[];for(var n=0;n<iX.length;n++){var eF=iv(iX[n][1],it)%iX[n][0].length,t=iX[n][0][eF];
_.push(t)}var t=W.b_();for(var n=0;n<iX.length;n++){var gB=_[n],j_=W.B[gz[n]];gB.ky(!0);j_.ky(!0)}W.U();
W.W4();var cy=W.T6();t.rect=E.cm(cy,aN,2);t.buffer=E.Q(t.rect.O()*4);E.TU(cy,aN,t.buffer,t.rect);for(var n=0;
n<iX.length;n++){var gB=_[n],j_=W.B[gz[n]];gB.ky(!1);j_.ky(!1)}t.ky(ga==0);t._J("_a_frm"+ga+","+e1[ga]);
ib.splice(gr[0]+1+ga,0,t);it+=e1[ga]}var t=W.b_();t._J(jb.join(" + "));t.iX="pass";t.add.lsct=d1.$B;
t.KX=24;ib.splice(gr[0]+1+e1.length,0,t);for(var n=0;n<W.B.length;n++)W.B[n].ky(jG[n]);var d=new c2([6,12,0],this);
d.data={d:$.Nd,z$:W.B,px:ib,VU:jc,JP:[gr[0]+1+e1.length]};W.C1(d);this.e4(d.data,W)}if(D==$.Qd||D==$.Qr){var aD=W.I.length==1,h_=!0,ju=null,dD;
if(aD&&W.I[0]==0)return;var aq=W.B.slice(0),al=W.I.slice(0);if(aD)W.I=[h,h-1];if(D==$.Qr){W.I=[];for(var n=0;
n<W.B.length;n++)if(W.B[n].cB())W.I.push(n)}var i6=W.ZP();i6.sort(function(d,bm){return d-bm});var dP=new aV,aN=new aV(0,0,W.e,W.n);
for(var n=0;n<i6.length;n++){var T=i6[n],t=W.B[T];if(t.wf()||t.getName()=="</Layer group>")continue;
h_=h_&&t.tN()&&t.add.vmsk!=null;dP=dP.Bc(W.root.Nn(T).J4(W,!0))}if(h_){var k6=null;for(var n=0;n<i6.length;
n++){var I=W.B[i6[n]];if(I.rect.O()==0)continue;if(ju==null){ju=I.clone();k6=ju.add.vmsk}else{var I=W.B[i6[n]],hW=$.vL.Ld(I.add.vmsk.V);
k6.V=k6.V.concat(hW.slice(2));ju.add.vogk=ju.add.vogk.concat(JSON.parse(JSON.stringify(I.add.vogk)))}}ju.add.vmsk.eI=!0;
ju.hR(W)}else if(aN.oN(dP)){ju=W.b_();ju._J(W.B[i6[i6.length-1]].getName());ju.rect=dP;ju.buffer=E.Q(dP.O()*4);
var kq=W.add.artd;delete W.add.artd;var jp=W.T6(i6);if(kq)W.add.artd=kq;E.TU(jp,aN,ju.buffer,dP);ju.Dg();
ju.U()}else{W.avP(i6,!0);ju=W.B[W.I[0]];W.B.splice(W.I[0],1);var gd=W.JR(ju.add.SoLd.Idnt.v);W.add.lnk2.splice(W.add.lnk2.indexOf(gd),1);
delete ju.add.SoLd}var cT=a,bb=-1;if(r.Hf&&r.Hf.Dplc&&r.Hf.Dplc.v)cT=!0;if(cT&&D==$.Qr&&W.B[al[0]].UE()&&W.B[al[0]].rect.WB()){bb=al[0]}if(bb!=-1||aD){var e9=W.B[bb!=-1?bb:h-1];
ju._J(e9.getName());ju.add.lclr=e9.add.lclr}var ib=[];for(var n=0;n<W.B.length;n++)if(cT||i6.indexOf(n)==-1)if(n!=bb)ib.push(W.B[n]);
var bD=i6[i6.length-1],fe=bD==W.B.length-1?null:W.B[bD+1],hC=fe?ib.indexOf(fe):ib.length;ib.splice(hC,0,ju);
dD=[hC];var d=new c2([6,12,0],this);d.data={d:$.Nd,z$:aq,px:ib,VU:al,JP:dD};W.C1(d);this.e4(d.data,W)}if(D==$.a2N){var gY=W.b_();
gY.rect=new aV(0,0,W.e,W.n);gY.buffer=E.Q(gY.rect.O()*4);E.tl(gY.buffer,4294967295);E.q.YB("norm",W.T6(),gY.rect,gY.buffer,gY.rect,gY.rect,1);
gY._J("Background");gY.add.lspf=1<<2;var d=new c2([6,12,1],this);d.data={d:$.Nd,z$:W.B.slice(),px:[gY],VU:W.I.slice(0),JP:[0]};
W.C1(d);this.e4(d.data,W)}var eu=D==$.iO||D==$.QB;if(D==$.Vl||D==$._P||D==$.g1||D==$.cT||eu){var t=eu?W.P4()[0]:W.b_(),eI=aA.get([0,3]),bZ=r.Ft,fC=!1,cG,jQ;
if(D==$.g1)eI=aA.get([12,76,1]);if(eu){if(W.P){var fE=W.B[W.I[0]],ik=fE.aG(W,W.P);if(ik==null){alert("Copied area is empty");
return}t.rect=ik.rect;t.buffer=ik.v9;t.fw(W);t.ky(!0)}else bZ=t.getName();t.add.lspf=0;t.Cw=!1;if((t.KX&1)!=0)t.KX--}if(D==$.cT){t.rect=m.t6.aks(r.Sv,W);
t.buffer=r.Sv.buffer.slice(0);if(r.Xf&&W.P){t.z=new $.lA;t.z.rect=W.P.rect;t.z.color=0;t.z.channel=W.P.channel.slice(0)}}if(D==$.Vl){this.track({r7:"make",Hf:{classID:"Mk",null:cO.RG("Lyr")}})}if(D==$._P){t.KX|=16;
var fy=r.Hf.Usng.v,jX=fy.Type.v,cv=bu.v_[jX.classID];eI=aA.get(bu.names[cv]);if(fy.Nm)bZ=fy.Nm.v;t.add[cv]=jv.fp(cv);
if(t.add[cv]==null)t.add[cv]={};for(var fX in jX)t.add[cv][fX]=JSON.parse(JSON.stringify(jX[fX]));t.z=m.t6.a5K(W);
t.L$=1}if(D==$.g1){t.KX|=16;var gv=r.Hf,fy=gv.Usng.v,fj=fy.Type.v,eP=fy.Shp;if(fy.Nm)bZ=fy.Nm.v;if(eP==null){var k4=W.tt(),gC=k4[0],cQ=k4[1];
if(cQ.length!=0&&gC[cQ[0]].C_<0){var a0=gC[cQ[0]].add;t.add.vmsk=a0.vmsk.clone();t.add.vstk=JSON.parse(JSON.stringify(iq.pN.default));
t.add.vogk=JSON.parse(JSON.stringify(a0.vogk));W.Me=[]}else t.z=m.t6.a5K(W)}else{t.add.vmsk=new $.vL;
t.add.vstk=JSON.parse(JSON.stringify(fy.strokeStyle?fy.strokeStyle.v:iq.pN.default));t.add.vogk=[];if(eP){var iK=E.X.EY(eP);
if(iK){t.add.vogk=[iK];t.add.vmsk.V.push({type:0,xo:1,length:0});E.X.yE(t.add.vogk,t.add.vmsk)}else{eP=eP.v;
var hX=eP.classID;if(hX=="Plgn"){var fP=eP.Cntr.v,g1=eP.corner.v;fP=new cp(fP.Hrzn.v.val,fP.Vrtc.v.val);
g1=new cp(g1.Hrzn.v.val,g1.Vrtc.v.val);t.add.vmsk.V=E.A.lF.AC(fP.x,fP.y,Math.sqrt(g1.x*g1.x+g1.y*g1.y),Math.atan2(g1.y,g1.x),eP.sides.v,0)}else if(hX=="customShape"){var jF=E.X.gz(eP),ac=jF[2]-jF[0],dJ=jF[3]-jF[1],af=X.bC,ao,be;
for(var n=0;n<af.length;n++)if(af[n].iy==eP.Nm.v)ao=af[n];if(ao){be=$.vL.Ld(ao.V);E.A.Zl(be,new au(ac,0,0,dJ,jF[0],jF[1]))}else be=E.A.lF.Rect(jF[0],jF[1],ac,dJ,0);
t.add.vmsk.V=be}t.P7()}}}var fo={solidColorLayer:0,gradientLayer:1,patternLayer:2}[fj.classID],dQ=["SoCo","GdFl","PtFl"][fo];
t.add[dQ]=JSON.parse(JSON.stringify(iq.$f[fo]));m.t6.cV(fj,t.add[dQ],fo);if(eP==null)eI=aA.get([6,48,0,fo]);
if(dQ=="PtFl"){var gS=t.add[dQ].Ptrn.v,aT=iI.ZZ(gS,X.LB);if(aT==null)aT=iI.ZZ(gS,W.add.Patt);gS.Idnt.v=aT.id;
W.PT(aT)}t.hR(W)}var jI=m.t6.G0(W,eI+" ");t._J(eI+" "+(jI+1));if(bZ)t._J(bZ);var jE=W.I.length==0?W.B.length-1:W.I[W.I.length-1],kr=W.B[jE];
if(D==$.g1&&kr.UE()&&kr.rect.WB()){fC=!0;t._J(kr.getName());cG=jE}else{cG=jE+(D==$.Vl&&Y&&!K?0:1);if(kr&&kr.add.lsct==d1.O9)cG--}if(r.a7M)cG=Math.max(0,cG-1);
var ib=W.B.slice(0);if(D==$.QB){var dA=ib[W.I[0]]=ib[W.I[0]].clone(),dY=W.P.channel.slice(0);E.j4(dY);
E.qH(dY,W.P.rect,dA.buffer,dA.rect)}ib.splice(cG,fC?1:0,t);var dg=[5,2];if(D==$.Vl)dg=[6,13];if(D==$._P)dg=[6,1];
if(D==$.g1){dg=[6,48,1];var eP=r.Hf.Usng.v.Shp;if(eP){var kk={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[eP.v.classID];
if(kk)dg=kk}}if(eu){dg=[6,49,D==$.iO?0:1]}if(eu||D==$.g1||D==$.cT||D==$._P)if(W.P)jQ=[W.P,null];var d=new c2(dg,this);
d.data={d:$.Nd,z$:W.B.slice(0),px:ib,VU:W.I.slice(0),JP:[cG],YR:jQ};W.C1(d);this.e4(d.data,W);if(D==$.g1&&eP==null&&fo!=0||D==$._P){var O=new km(e.E.L);
O.data={d:e.c.dw,wv:h4.Ct.Lf};Q.$(O)}}if(D==$.b$){var t=W.b_(),eI=aA.get([0,4]),jI=m.t6.G0(W,eI+" ");
t._J(eI+" "+(jI+1));t.iX="pass";t.add.lsct=d1.O9;t.KX=24;if(r.Ft)t._J(r.Ft);if(r.k1!=null)t.add.lclr=r.k1;
var hM=W.Tz(),jE=h,cG=jE+(Y?0:1),ib=W.B.slice(0);ib.splice(cG,0,hM,t);var d=new c2([6,20],this);d.data={d:$.Nd,z$:W.B.slice(0),px:ib,VU:W.I.slice(0),JP:[cG+1]};
W.C1(d);this.e4(d.data,W)}if(D==$.HX||D==$.e9){var gD=D==$.HX?r.source:W.I[0],k7,ck,ho=W.I.indexOf(gD)!=-1,bE=a|r.a2Z,dz,eB=null;
if(ho)dz=W.ZP();else dz=W.B2(gD);dz.sort(function(d,bm){return d-bm});if(D==$.HX){k7=r.target;ck=r.r1>.5}else if(r.target!=null){k7=Math.min(r.target,W.B.length-1);
ck=r.target<W.B.length;W.mz=!0}else{var gJ=r.CZ;ck=gJ>1;if(gJ==0){k7=W.B.length-1}if(gJ==1){k7=dz[dz.length-1]+1;
var I=W.B2(k7);if(I.indexOf(gD)==-1)k7+=I.length-1}if(gJ==2){k7=dz[0]-1;var I=W.B2(k7);if(I.indexOf(gD)==-1)k7-=I.length-1}if(gJ==3){k7=0;
if(W.B[0].add.lnsr=="bgnd")k7++}if(k7<0||k7>W.B.length-1)return;W.mz=!0}if(dz.indexOf(k7)!=-1&&!bE)return;
var dm=m.t6.p$(W,dz,k7,ck,bE?W.P4(ho?null:gD):null,D==$.HX&&r.r1>.8),jo=dm.pop(),fv=dm.pop(),ib=dm.pop(),az=W.I;
W.I=[gD];var bY=W.vE();W.I=[k7];var aO=W.vE();if(aO==k7&&!ck)aO=-1;W.I=az;if(gD==bY){}else if(bY!=aO){var eB=new cp(0,0);
if(bY!=-1){var hq=W.B[bY].QT();eB.x-=hq.x;eB.y-=hq.y}if(aO!=-1){var hq=W.B[aO].QT();eB.x+=hq.x;eB.y+=hq.y}}var d=new c2(bE?[6,0]:[6,35],this);
d.data={d:$.Nd,z$:W.B.slice(0),px:ib,VU:W.I.slice(0),JP:fv,yl:eB};W.C1(d);this.e4(d.data,W);var gv={classID:"move",null:cO.RG("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:jo+(ck?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:bE}};
this.track({r7:"move",Hf:gv})}if(D==$.bm){if(r.h1){if(S==null||!S.wf())return;var L=W.root.Nn(h),cE=W.B.indexOf(L.a4a),ib=W.B.slice(0);
ib.splice(h,1);ib.splice(cE,1);var fv=[];for(var n=cE;n<h-1;n++)fv.push(n);var d=new c2("Ungroup Layers",this);
d.data={d:$.Nd,z$:W.B.slice(0),px:ib,VU:W.I.slice(0),JP:fv};W.C1(d);this.e4(d.data,W)}else{var t=W.b_(),c3=aA.get([0,4])+" ";
t._J(c3+(m.t6.G0(W,c3)+1));t.iX="pass";if(r.Ft)t._J(r.Ft);if(r.k1!=null)t.add.lclr=r.k1;t.add.lsct=W.I.length==1?d1.O9:d1.$B;
t.KX=24;var hM=W.Tz(),dz=W.ZP();if(dz.length==0)return;dz.sort(function(d,bm){return d-bm});var ib=[];
for(var n=0;n<W.B.length;n++)if(dz.indexOf(n)==-1)ib.push(W.B[n]);var jE=W.I[W.I.length-1]-dz.length;
ib.splice(jE+1,0,hM);for(var n=0;n<dz.length;n++)ib.splice(jE+2+n,0,W.B[dz[n]]);ib.splice(jE+2+dz.length,0,t);
var d=new c2([6,9],this);d.data={d:$.Nd,z$:W.B.slice(0),px:ib,VU:W.I.slice(0),JP:[ib.indexOf(t)]};W.C1(d);
this.e4(d.data,W);var u={r7:"make",lU:!0};u.Hf={classID:"Mk",null:cO.RG("layerSection"),From:cO.RG("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:t.getName()}}}};
this.track(u)}}if(D==$.aeU){if(W.I.length!=1)return;var P=W.I[0],ae=a;if(W.B[P].SS()==null&&!b.j(h8.DS)){D=$.HT;
r.BT=W.P?!ae?"RvlS":"HdSl":!ae?"RvlA":"HdAl"}else{D=$.sj;r.acn=!0}}if(D==$.HT){if(W.I.length!=1)return;
var P=W.I[0],t=W.B[P];if(t.add.vmsk&&t.z==null)t.hR(W);var j0=t.SS();if(j0==null||r.ahr){var d=new c2([6,21],this),jM=new $.lA,e2=r.BT,e$=e2=="RvlS"||e2=="HdSl";
if(e2=="RvlS"||e2=="HdAl"||e2=="Trns")jM.color=0;if(e$){jM.channel=W.P.channel.slice(0);jM.rect=W.P.rect.clone();
if(e2=="HdSl")E.j4(jM.channel)}if(e2=="Trns"){jM.rect=t.rect.clone();jM.channel=E.Q(t.rect.O());E.TX(t.buffer,jM.channel,3)}d.data={d:$.lX,A$:[P,j0,jM],YR:e$?[W.P,null]:null};
W.C1(d);this.e4(d.data,W);W.B[P].L$=1;this.track({r7:"make",Hf:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:e2}}}})}}else if(D==$.auk){var iN=W.B[r.src],c$=W.B[r.aS],d=new c2([6,21],this),bo=iN.SS(),eh=c$.SS(),fJ=[r.src,bo,null,r.aS,eh,bo];
if(a||K){var i9=bo.clone();if(a)fJ=[r.aS,eh,i9];else fJ[5]=i9;if(K){E.j4(i9.channel);i9.color=255-i9.color}}d.data={d:$.lX,A$:fJ};
W.C1(d);this.e4(d.data,W)}if(D==$.bQ){if(W.I.length!=1)return;var P=h,j6=W.B[P].SS();if(j6!=null){var d=new c2([6,22],this);
d.data={d:$.lX,A$:[h,j6,null]};W.C1(d);this.e4(d.data,W)}}if(D==$.sR){var aq=W.B.slice(0),gY=S.clone(),cC=gY.SS();
E.qH(cC.Vn(gY.rect),gY.rect,gY.buffer,gY.rect);m.t6.zJ(W,gY);gY.Dg();W.B[W.I[0]]=gY;var d=new c2([5,8],this);
d.data={d:$.Nd,z$:aq,px:W.B.slice(),VU:W.I.slice(0),JP:W.I.slice(0)};W.C1(d);this.e4(d.data,W)}if(D==$.H0){if(W.I.length!=1)return;
var P=W.I[0];if(W.B[P].Xg(W).z==null){var d=new c2([6,45],this);d.data={d:D,l:P,z:new $.lA};W.C1(d);
this.e4(d.data,W)}}if(D==$.S4){if(W.I.length!=1)return;var P=W.I[0];if(W.B[P].Xg(W).z!=null){var d=new c2([6,46],this);
d.data={d:D,l:P,z:W.B[P].Xg(W).z};W.C1(d);this.e4(d.data,W)}}if(D==$.H$){if(r.src==null&&W.I.length!=1)return;
if(r.src!=null)h=r.src;if(W.B[h].$Y()){var d=new c2([6,47],this),iA=JSON.stringify(W.B[h].add.SoLd),bL=JSON.parse(iA);
delete bL.filterFX;d.data={d:$.$M,Za:[{GV:h,jP:[iA,JSON.stringify(bL)],ht:[W.B[h].Xg(W),null]}]};W.C1(d);
this.e4(d.data,W)}}if(D==$.sj){if(W.I.length!=1)return;if(S.add.vmsk==null){var d=new c2([6,23],this),gu=W.tt(),b0=gu[1],gu=gu[0],jM,iK;
if(r.acn&&b0.length!=0){var a0=gu[b0[0]].add;jM=a0.vmsk.clone();iK=a0.vogk}else{jM=new $.vL;iK=[];jM.V[1].all=r.av4?0:1}d.data={d:D,l:h,Jl:!0,z:jM,X:JSON.stringify(iK),pN:null};
if(S.tN()){d.data.pN=JSON.stringify(iq.pN.default)}W.C1(d);this.e4(d.data,W)}}if(D==$.mg){var iN=W.B[r.src],c$=W.B[r.aS];
if(c$.add.vmsk)return;var d=new c2([6,23],this),k6=iN.add.vmsk;d.data={l:r.aS,Jl:iN.Uk,z:k6.clone(),X:JSON.stringify(iN.add.vogk),pN:iN.add.vstk?JSON.stringify(iN.add.vstk):null};
if(a){d.data.d=$.sj}else{d.data.d=D;d.data.src=r.src;d.data.aS=r.aS}W.C1(d);this.e4(d.data,W)}if(D==$.sD||D==$.Xi){if(W.I.length!=1)return;
var t=W.B[h],k6=t.add.vmsk;if(k6!=null){var eV=D==$.Xi,d=new c2(eV?[6,8]:[6,24],this);d.data={d:$.sD,l:h,Jl:t.Uk,z:k6,X:JSON.stringify(t.add.vogk),pN:t.add.vstk?JSON.stringify(t.add.vstk):null};
if(eV){d.data.U0=k6.SS(t.add.vstk)}W.C1(d);this.e4(d.data,W)}}if(D==$.Fi){var d=new c2("Metadata",this);
d.data={d:D,x8:JSON.stringify(W.L8),B9:JSON.stringify(r.B9)};W.C1(d);this.e4(d.data,W)}if(D==$.FW){var eb=r.aS?r.aS:W,dr=eb.name,bZ=r.h+".psd";
if(dr==bZ)return;var d=new c2([6,37],this);d.data={d:D,a6R:dr,Ft:bZ};if(r.ahP!=!0)eb.C1(d);this.e4(d.data,eb)}if(D==$.oO&&r.CZ.endsWith("makeframes")){var fm=[],e5=r.CZ.startsWith("make");
for(var n=0;n<W.I.length;n++){var T=W.I[n],t=W.B[T],hz=t.getName(),j5=hz.startsWith("_a_");if(e5==j5||t.add.lsct==d1.kJ)continue;
var aw=e5?"_a_"+hz:hz.slice(3);fm.push([T,hz,aw,t.add.lnsr,null])}var d=new c2([6,37],this);d.data={d:$.rT,Lb:fm};
W.C1(d);this.e4(d.data,W)}if(D==$.rT){var dr=S.getName(),bZ=r.name.substring(0,255);if(dr==bZ)return;
var d=new c2([6,37],this);d.data={d:D,Lb:[[h,dr,bZ,S.add.lnsr,null]]};W.C1(d);this.e4(d.data,W);this.track(cO.sT("Nm",{t:"TEXT",v:bZ}))}if(D==$.gT){var f$=W.ZP(),d3=[],eo=[];
for(var n=0;n<f$.length;n++){d3.push(W.B[f$[n]].add.lclr);eo.push(r.ag$)}var d=new c2([6,38],this);d.data={d:D,B:f$,a3$:d3,k1:eo};
W.C1(d);this.e4(d.data,W)}if(D==$.sK){var d=W.history[W.Je];if(d!=null&&d.b==this&&d.data.d==D&&d.data.l==r.FL&&d.data.g2.uT==r.D8.uT)d.data.g2=r.D8;
else{d=new c2("Mask Density / Feather",this);d.data={d:D,l:r.FL,h$:W.B[r.FL].YU(r.D8.uT),g2:r.D8};W.C1(d)}this.e4(d.data,W)}if(D==$.L3){var jt=JSON.stringify(r.h),gm=JSON.parse(jt),d=W.history[W.Je];
if(d!=null&&d.b==this&&d.data.d==D&&d.data.xK==r.xK&&d.data.Hg.join(",")==r.Hg.join(",")){for(var n=0;
n<r.Hg.length;n++)d.data.z8[n]=gm;if(d.data.Hf&&gm.pj!=0)m.t6.cV(gm.P0,d.data.Hf.T.v,gm.pj-1)}else{d=new c2([11,6],this);
d.data={d:D,Hg:r.Hg,xK:r.xK,acj:[],z8:[]};var a9=!1;for(var n=0;n<r.Hg.length;n++){var T=r.Hg[n],t=W.B[T],iy=r.xK?m.N9.f2(W,T):JSON.parse(JSON.stringify(t.add.vstk));
d.data.acj.push(iy);d.data.z8.push(gm);if(JSON.stringify(iy)!=jt)a9=!0}if(!a9)return;W.C1(d);if(r.xK&&gm.pj>0){var gv=d.data.Hf={classID:"setd",null:cO.RG("contentLayer",!0),T:{t:"Objc",v:{}}},dQ=["SoCo","GdFl","PtFl"][gm.pj-1];
m.t6.cV(gm.P0,gv.T.v,gm.pj-1);this.track({r7:"set",Hf:gv})}}if(r.xK&&gm.pj==3)W.PT(iI.ZZ(gm.P0.Ptrn.v,X.LB));
if(!r.xK){var i_=gm.strokeStyleContent.v;if(i_.classID==iq.pN.W8[2])W.PT(iI.ZZ(i_.Ptrn.v,X.LB))}this.e4(d.data,W)}};
m.t6.p$=function(r,Q,W,b,X,D){var h=r.B[W],S=[];if(X)S=r.B.slice(0);else for(var n=0;n<r.B.length;n++)if(Q.indexOf(n)==-1)S.push(r.B[n]);
var a=S.indexOf(h);if(D&&h.wf()&&h.add.lsct==d1.$B)a-=r.B2(W).length-1;var K=[];for(var n=0;n<Q.length;
n++){var Y=a+(b?0:1)+n,d=X?X[n]:r.B[Q[n]];S.splice(Y,0,d);K.push(Y)}return[S,K,a]};m.t6.cV=function(r,Q,W){var b=[iq.i4,iq.uc,iq.Ej][W];
if(Q.classID==null)Q.classID=["solidColorLayer","gradientLayer","patternLayer"][W];for(var n=0;n<b.length;
n++)if(r[b[n]])Q[b[n]]=JSON.parse(JSON.stringify(r[b[n]]))};m.t6.a5K=function(r){var Q=new $.lA;if(r.P!=null){Q.color=0;
Q.channel=r.P.channel.slice(0);Q.rect=r.P.rect.clone()}return Q};m.t6.Nc=function(r,Q,W,b,X){var D=b.e/W.e,h=b.n/W.n,S=b.e/2,a=b.n/2,K=E.p.vk(b).C;
for(var n=0;n<r.B.length;n++){var Y=r.B[n],d=Y.add.SoLd;if(d==null||d.Idnt.v!=Q)continue;if(D!=1||h!=1){var j=m.EA.JS(d.nonAffineTransform),U=E.K.Om(j,b),I=new au;
I.translate(-S,-a);I.scale(D,h);I.translate(S,a);var f=E.K.Se(U,E.K.LJ(I)),g=K.slice(0);E.K.D(f,g);d.Trnf=m.EA.Aa(g);
d.nonAffineTransform=m.EA.Aa(g);if(E.Eu.fF(d.warp.v)){var H=d.warp.v.bounds.v;H.Rght.v.val=b.e;H.Btom.v.val=b.n}}Y.vd(r,null,X)}r.U()};
m.t6.ajy=function(r,Q,W){Q.color=255-Q.color;E.j4(Q.channel);Q.eI=!0;r.hR(W);W.U()};m.t6.prototype.Zm=function(r,Q){var W=r.d,b=Q.B[r.l];
Q.yV=!0;if(W==$.t2){Q.add.lnk2.splice(Q.add.lnk2.indexOf(r.kv),1,r.s3);m.t6.Nc(Q,r.id,r.kv.EJ[1],r.s3.EJ[1])}if(W==$.gp){b.add.SoLd.Impr.v.classID=r.h$;
b.vd(Q)}if(W==$.zq){var X=JSON.parse(r.Hg);for(var n=0;n<X.length;n++)Q.B[X[n]].iX=r.xp[n];Q.U()}if(W==$.lo){var X=JSON.parse(r.Hg);
for(var n=0;n<X.length;n++)Q.B[X[n]].opacity=r.xp[n];Q.U()}if(W==$.Vi){var X=JSON.parse(r.Hg);for(var n=0;
n<X.length;n++)if(Q.B[X[n]].add.lsct!=d1.kJ)Q.B[X[n]].add.lspf=r.xp[n]}if(W==$.MG){var D=r.te,h=r.ano;
delete b.add[D[0]];if(h[0]!="----")b.add[h[0]]=h[1]}if(W==$.ql){b.add.iOpa=r.xp;Q.U()}if(W==$.yu){for(var n=0;
n<r.Hg.length;n++){var S=Q.B[r.Hg[n]];S.ky(!S.cB())}Q.U()}if(W==$.uK){var a=b.SS();a.isEnabled=!a.isEnabled;
b.hR(Q);Q.U()}if(W==$.HS){var a=b.Xg(Q).z;a.isEnabled=!a.isEnabled;b.U();Q.U()}if(W==$.TQ){var a=b.add.vmsk;
a.isEnabled=!a.isEnabled;if(!a.isEnabled){if(b.U0){b.z=b.U0;b.U0=null}else b.z=null}else if(b.z){b.U0=b.z;
b.z=null}b.hR(Q);Q.U()}if(W==$.$u){b.Cw=!b.Cw;Q.U()}if(W==$.Rq){b.add.lmfx.masterFXSwitch.v=!b.add.lmfx.masterFXSwitch.v;
b.ix.Tq=!0;Q.U()}if(W==$.AH){b.add.SoLd.filterFX.v.enab.v=!b.add.SoLd.filterFX.v.enab.v;b.wl(Q);Q.U()}if(W==$.BI){var K=r.index,Y=b.add.lmfx[iq.lY[K[0]]].v[K[1]].v;
Y.enab.v=!Y.enab.v;b.ix.Tq=!0;Q.U()}if(W==$.tn){var d=Q.B[r.wV],j=Q.B[r.VS],U=r.axh,I=r.akF;if(U=="")delete d.add.lmfx;
else d.add.lmfx=JSON.parse(U);if(I=="")delete j.add.lmfx;else j.add.lmfx=JSON.parse(I);d.ix.Tq=!0;j.ix.Tq=!0;
Q.U()}if(W==$.wy){var f=b.add.SoLd.filterFX.v.filterFXList.v[r.index].v;f.enab.v=!f.enab.v;b.wl(Q);Q.U()}if(W==$.ag1){b.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(r.asB));
b.wl(Q);Q.U()}if(W==$.eJ){var a=b.SS();a.oh=!a.oh}if(W==$.K2){var a=b.add.vmsk;a.oh=!a.oh}if(W==$.JD){var g=JSON.parse(r.atF);
Q.AR=g[0];Q.NA=g[1]}if(W==$.lW){var g=r.Ip;for(var n=0;n<g.length;n+=2){var H=g[n],S=H>=0?Q.B[H]:Q.ZS[-1-H];
S.add.vogk=JSON.parse(g[n+1]);E.X.yE(S.add.vogk,S.add.vmsk);if(H>=0)S.hR(Q)}Q.U()}if(W==$.nP){b.add.artb=JSON.parse(r.akl);
Q.U();m.Fp.sI(Q,r)}if(W==$.BC){Q.P=r.vW;Q.Ev=r.Ip.slice(0);Q.Qw=r.HZ.slice(0);Q.a9=Q.Ca=!0}if(W==$.wk){b.J8=!b.J8}if(W==$.oY){var u=r.aeC;
for(var n=0;n<u.length;n++)Q.B[n].dS=u[n]}if(W==$.Nd){if(r.yl)m.iw.pq(Q,Q.I,null,-r.yl.x,-r.yl.y);if(r.VU)Q.I=r.VU;
if(r.YR)Q.P=r.YR[0];Q.qS=null;Q.U();Q.pY(r.z$);m.Fp.sI(Q,r);if(r.iz)Q.xg(r.iz[0])}if(W==$.lX){for(var n=0;
n<r.A$.length;n+=3)m.t6.zJ(Q,Q.B[r.A$[n]],r.A$[n+1]);if(r.YR){var s=r.YR[0];if(s==null)delete Q.P;else Q.P=s}}if(W==$.H0){b.Xg(Q).z=null;
b.U();Q.U()}if(W==$.S4){b.Xg(Q).z=r.z;b.U();Q.U()}if(W==$.$M){m.t6.aoM(Q,r.Za,0)}if(W==$.sj){m.t6.pf(Q,b,!0)}if(W==$.mg){m.t6.pf(Q,Q.B[r.aS],r.z.isEnabled);
m.t6.tE(Q,Q.B[r.src],r)}if(W==$.sD){if(r.U0)m.t6.zJ(Q,b,null);m.t6.tE(Q,b,r)}if(W==$.Fi){Q.L8=JSON.parse(r.x8)}if(W==$.FW){Q.name=r.a6R}if(W==$.rT){for(var n=0;
n<r.Lb.length;n++){var _=r.Lb[n],S=Q.B[_[0]];S._J(_[1]);if(_[3])S.add.lnsr=_[3];else delete S.add.lnsr}}if(W==$.gT){for(var n=0;
n<r.B.length;n++)Q.B[r.B[n]].add.lclr=r.a3$[n]}if(W==$.L3){var i=r.acj;for(var n=0;n<r.Hg.length;n++){var S=Q.B[r.Hg[n]],M=i[n];
if(!r.xK)S.add.vstk=JSON.parse(JSON.stringify(M));else m.N9.Mh(S,JSON.parse(JSON.stringify(M)));S.sW(Q)}Q.U()}if(W==$.sK){b.aa9(r.h$);
b.hR(Q);Q.U()}Q.Ca=!0};m.t6.prototype.e4=function(r,Q){var W=r.d,b=Q.B[r.l];Q.yV=!0;if(W==$.t2){Q.add.lnk2.splice(Q.add.lnk2.indexOf(r.s3),1,r.kv);
m.t6.Nc(Q,r.id,r.s3.EJ[1],r.kv.EJ[1])}if(W==$.gp){b.add.SoLd.Impr.v.classID=r.g2;b.vd(Q)}if(W==$.zq){var X=JSON.parse(r.Hg);
for(var n=0;n<X.length;n++)Q.B[X[n]].iX=r.g2;Q.U()}if(W==$.lo){var X=JSON.parse(r.Hg);for(var n=0;n<X.length;
n++)Q.B[X[n]].opacity=r.g2;Q.U()}if(W==$.Vi){var X=JSON.parse(r.Hg);for(var n=0;n<X.length;n++)if(Q.B[X[n]].add.lsct!=d1.kJ)Q.B[X[n]].add.lspf=r.g2[n]}if(W==$.MG){var D=r.ano,h=r.te;
delete b.add[D[0]];if(h[0]!="----")b.add[h[0]]=h[1]}if(W==$.ql){b.add.iOpa=r.g2;Q.U()}if(W==$.yu){for(var n=0;
n<r.Hg.length;n++){var S=Q.B[r.Hg[n]];S.ky(!S.cB())}Q.U()}if(W==$.uK){var a=b.SS();a.isEnabled=!a.isEnabled;
b.hR(Q);Q.U()}if(W==$.HS){var a=b.Xg(Q).z;a.isEnabled=!a.isEnabled;b.U();Q.U()}if(W==$.TQ){var a=b.add.vmsk;
a.isEnabled=!a.isEnabled;if(!a.isEnabled){if(b.U0){b.z=b.U0;b.U0=null}else b.z=null}else if(b.z){b.U0=b.z;
b.z=null}b.hR(Q);Q.U()}if(W==$.$u){b.Cw=!b.Cw;Q.U()}if(W==$.Rq){b.add.lmfx.masterFXSwitch.v=!b.add.lmfx.masterFXSwitch.v;
b.ix.Tq=!0;Q.U()}if(W==$.AH){b.add.SoLd.filterFX.v.enab.v=!b.add.SoLd.filterFX.v.enab.v;b.wl(Q);Q.U()}if(W==$.BI){var K=r.index,Y=b.add.lmfx[iq.lY[K[0]]].v[K[1]].v;
Y.enab.v=!Y.enab.v;b.ix.Tq=!0;Q.U()}if(W==$.tn){var d=Q.B[r.wV],j=Q.B[r.VS],U=r.a9b,I=r.a1v;if(U=="")delete d.add.lmfx;
else d.add.lmfx=JSON.parse(U);if(I=="")delete j.add.lmfx;else j.add.lmfx=JSON.parse(I);d.ix.Tq=!0;j.ix.Tq=!0;
Q.U()}if(W==$.wy){var f=b.add.SoLd.filterFX.v.filterFXList.v[r.index].v;f.enab.v=!f.enab.v;b.wl(Q);Q.U()}if(W==$.ag1){b.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(r.aot));
b.wl(Q);Q.U()}if(W==$.eJ){var a=b.SS();a.oh=!a.oh}if(W==$.K2){var a=b.add.vmsk;a.oh=!a.oh}if(W==$.JD){var g=JSON.parse(r.adt);
Q.AR=g[0];Q.NA=g[1]}if(W==$.lW){var g=r.$A;for(var n=0;n<g.length;n+=2){var H=g[n],S=H>=0?Q.B[H]:Q.ZS[-1-H];
S.add.vogk=JSON.parse(g[n+1]);E.X.yE(S.add.vogk,S.add.vmsk);if(H>=0)S.hR(Q)}Q.U()}if(W==$.nP){b.add.artb=JSON.parse(r.Uy);
Q.U();m.Fp.fL(Q,r)}if(W==$.BC){Q.P=r.yU;Q.Ev=r.$A.slice(0);Q.Qw=r.Gg.slice(0);Q.a9=Q.Ca=!0}if(W==$.wk){b.J8=!b.J8}if(W==$.oY){var u=r.atQ;
for(var n=0;n<u.length;n++)Q.B[n].dS=u[n]}if(W==$.Nd){Q.agO();var s=r.px,_=0,i;for(var n=0;n<s.length;
n++){var S=s[n],M=S.add.lsct;if(M==d1.kJ)_++;else if(M==d1.O9||M==d1.$B)_--;if(S.add.artb&&_!=0)i="Artboards can not be inside folders."}if(i){Q.history.pop();
Q.Je--;alert(i);return}m.Fp.fL(Q,r);if(r.JP)Q.I=r.JP;if(r.YR)Q.P=r.YR[1];Q.qS=null;Q.U();Q.pY(r.px);
if(r.yl)m.iw.pq(Q,Q.I,null,r.yl.x,r.yl.y);if(r.iz)Q.xg(r.iz[1])}if(W==$.lX){for(var n=0;n<r.A$.length;
n+=3)m.t6.zJ(Q,Q.B[r.A$[n]],r.A$[n+2]);if(r.YR){var T=r.YR[1];if(T==null)delete Q.P;else Q.P=T}}if(W==$.H0){b.Xg(Q).z=r.z;
b.L$=0;b.U();Q.U()}if(W==$.S4){b.Xg(Q).z=null;b.L$=0;b.U();Q.U()}if(W==$.$M){m.t6.aoM(Q,r.Za,1)}if(W==$.sj){m.t6.tE(Q,b,r)}if(W==$.mg){m.t6.pf(Q,Q.B[r.src],r.z.isEnabled);
m.t6.tE(Q,Q.B[r.aS],r)}if(W==$.sD){m.t6.pf(Q,b,r.z.isEnabled);if(r.U0)m.t6.zJ(Q,b,r.U0)}if(W==$.Fi){Q.L8=JSON.parse(r.B9)}if(W==$.FW){Q.name=r.Ft}if(W==$.rT){for(var n=0;
n<r.Lb.length;n++){var R=r.Lb[n],S=Q.B[R[0]];S._J(R[2]);if(R[4])S.add.lnsr=R[4];else delete S.add.lnsr}}if(W==$.gT){for(var n=0;
n<r.B.length;n++)Q.B[r.B[n]].add.lclr=r.k1[n]}if(W==$.L3){var z=r.z8;for(var n=0;n<r.Hg.length;n++){var S=Q.B[r.Hg[n]],G=z[n];
if(!r.xK)S.add.vstk=JSON.parse(JSON.stringify(G));else m.N9.Mh(S,JSON.parse(JSON.stringify(G)));S.sW(Q)}Q.U()}if(W==$.sK){b.aa9(r.g2);
b.hR(Q);Q.U()}Q.Ca=!0};m.t6.G0=function(r,Q){var W=0;for(var n=0;n<r.B.length;n++){var b=r.B[n].getName();
if(b.startsWith(Q)){var X=b.slice(Q.length).trim(),D=parseInt(X);if(!isNaN(D)&&D+""==X&&D>W)W=D}}return W};
m.t6.aoM=function(r,Q,W){for(var n=0;n<Q.length;n++){var b=Q[n],X=r.B[b.GV];if(b.jP){X.add.SoLd=JSON.parse(b.jP[W])}if(b.ht){if(b.ht[1-W]!=null)r.jt(b.ht[1-W]);
if(b.ht[W]!=null)r.jJ(b.ht[W]);else X.L$=0}X.vd(r)}};m.t6.aks=function(r,Q){var W=r.Va,b=r.rect.clone();
if(W!=null&&(W.x!=Q.e||W.y!=Q.n)){b.x=Math.floor((Q.e-b.e)/2);b.y=Math.floor((Q.n-b.n)/2)}else if(W==null){var X=new aV(0,0,Q.e,Q.n),D=Q.vE();
if(D!=-1)X=Q.B[D].QT();b.x+=X.x;b.y+=X.y}return b};m.t6.awO=function(r,Q){if(Q.U0)Q.U0=null;else Q.z=null;
Q.hR(r);r.U();Q.L$=0};m.t6.zJ=function(r,Q,W){var b=Q.SS();if(b==null&&W==null)return;if(b)m.t6.awO(r,Q);
if(W==null)return;if(Q.z)Q.U0=W;else Q.z=W;Q.hR(r);r.U()};m.t6.pf=function(r,Q,W){if(Q.U0&&W){Q.z=Q.U0;
Q.U0=null}else if(Q.z&&W){Q.z=null}delete Q.add.vogk;delete Q.add.vstk;delete Q.add.vmsk;Q.hR(r);Q.Uk=!1;
r.qS=[];r.U()};m.t6.tE=function(r,Q,W){Q.add.vogk=JSON.parse(W.X);if(W.pN)Q.add.vstk=JSON.parse(W.pN);
else delete Q.add.vstk;Q.add.vmsk=W.z.clone();if(Q.z&&Q.add.vmsk.isEnabled)Q.U0=Q.z;Q.hR(r);Q.Uk=W.Jl;
r.qS=[r.B.indexOf(Q)];r.Me=[];r.U()};m._E=function(){m.y6.call(this,"Layer Styles",m.Wg);this.cs=null;
this.Ai=null;this.ze=null;this.WS=[];this.CU=null};m._E.prototype=new m.y6;m._E.prototype.IU=function(r,Q,W,b,X){var D=r.l;
if(D==null)D=W.I[0];var h=W.B[D],S=r.C_;if(this.cs==null){this.ze=m._E.R$(W,h);this.cs=JSON.stringify(this.ze);
if(h.add.lmfx)this.Ai=JSON.stringify(h.add.lmfx)}if(h.add.lmfx==null){h.add.lmfx=JSON.parse(iq.default);
for(var n=0;n<iq.order.length;n++)h.add.lmfx[iq.lY[n]]={t:"VlLs",v:[]}}if(r.d=="scaleeffects"){if(r.h=="confirm"||r.h=="cancel"){this.IU({d:r.h},Q,W,b,X);
return}h.add.lmfx=JSON.parse(this.Ai);iI.Fr(h.add.lmfx,r.h/100)}else if(r.d=="changeprop"){var a=null;
if(S!=0){var K=this.WS[S[0]];if(K==null)K=iq.WS[S[0]];K=JSON.parse(K);var Y=h.add.lmfx[iq.lY[S[0]]].v;
if(Y[S[1]]==null)Y[S[1]]={t:"Objc",v:K};a=Y[S[1]].v;for(var d in K)if(a[d]==null)a[d]=K[d]}if(r.d=="changeprop"){if(S==0){this.ze[r.Iu].v=r.h;
m._E.xt(W,h,this.ze)}else if(r.Iu=="lagl"){if(a.uglg&&a.uglg.v){W.Pz(r.h.val);this.ze.gagl.v.val=W.QR()}else a[r.Iu].v=r.h}else if(r.Iu=="Lald"){if(a.uglg.v){W.pJ(r.h.val);
this.ze.aqp=W.SJ()}else a[r.Iu].v=r.h}else if((S[0]==3||S[0]==8)&&(r.Iu=="Clr"||r.Iu=="Grad")){if(r.Iu=="Clr"){a.Clr={t:"Objc",v:r.h};
delete a.Grad}if(r.Iu=="Grad"){a.Grad={t:"Objc",v:r.h};delete a.Clr}}else{a[r.Iu].v=r.h}if(S!=0)this.WS[S[0]]=JSON.stringify(a)}if(S!=0)if(a.Ptrn)W.PT(iI.ZZ(a.Ptrn.v,X.LB))}else if(r.d=="setstl"){var j=r.h.Lefx;
if(j)iI.anb(j,W,X.LB);iI.al_(r.h,h,null,W);this.ze=m._E.R$(W,h)}else if(r.d=="st_dupsingle"){var U=h.add.lmfx[iq.lY[r.sk[0]]].v;
if(U[r.sk[1]]==null)return;var I=JSON.parse(JSON.stringify(U[r.sk[1]]));U.splice(r.sk[1],0,I)}else if(r.d=="st_movsingle"){var f=r.sk[1],U=h.add.lmfx[iq.lY[r.sk[0]]].v;
if(U[r.sk[1]]==null)return;var g=Math.max(0,Math.min(U.length-1,f+r.ag6)),H=U[g];U[g]=U[f];U[f]=H}else if(r.d=="cancel"){if(this.Ai==null)delete h.add.lmfx;
else h.add.lmfx=JSON.parse(this.Ai);m._E.xt(W,h,JSON.parse(this.cs));this.cs=null;this.Ai=null}else if(r.d=="confirm"){var u=JSON.stringify(h.add.lmfx),s=new c2([11,6],this);
s.data={B:[D],Fl:[this.Ai],nM:[u],rv:[this.cs],xA:[JSON.stringify(this.ze)]};W.C1(s);this.cs=null;this.Ai=null;
if(u!=null){var _=JSON.parse(u);bK.Cq(_);_.classID="Lefx";delete _.masterFXSwitch;var i=new km(e.E.Kk);
i.YI=!0;i.data={r7:"set",lU:!0};var M=cO.RG("Lyr",!0);M.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
i.data.Hf={__name:"Set",classID:"setd",null:M,T:{t:"Objc",v:_}};Q.$(i)}}else if(r.d=="st_copy"){this.CU=[this.cs,this.Ai];
this.cs=null;this.Ai=null}else if(r.d=="st_paste"||r.d=="st_clear"){if(r.d=="st_paste"&&this.CU==null)return;
var T=r.l!=null?[r.l]:W.I.slice(0),R=[],z=[],G=[],V=[];for(var n=0;n<T.length;n++){var h=W.B[T[n]],y=m._E.R$(W,h);
R.push(h.add.lmfx?JSON.stringify(h.add.lmfx):null);G.push(JSON.stringify(y));if(r.d=="st_paste"){z.push(this.CU[1]);
V.push(this.CU[0])}else{z.push(null);y.lrMd.v=0;y.Opct.v.val=100;y.iOpa.v.val=100;y.blIf={v:[]};for(var k=0;
k<10;k++)y.blIf.v.push(0,0,255,255);V.push(JSON.stringify(y))}}var s=new c2([11,6],this);s.data={B:T,Fl:R,nM:z,rv:G,xA:V};
this.e4(s.data,W);W.C1(s);this.cs=null;this.Ai=null}else{var B=this.ze,_=null;if(r.d=="st_delsingle"){_=JSON.parse(this.Ai);
_[iq.lY[r.sk[0]]].v.splice(r.sk[1],1);_=JSON.stringify(_)}if(_==null)delete h.add.lmfx;else h.add.lmfx=JSON.parse(_);
if(B!=null)m._E.xt(W,h,B);var s=new c2([11,6],this);s.data={B:[r.l],Fl:[this.Ai],nM:[_],rv:[this.cs],xA:[JSON.stringify(B)]};
W.C1(s);this.cs=null;this.Ai=null}h.ix.Tq=!0;W.yV=!0;W.U()};m._E.R$=function(r,Q){if(Q.add.iOpa==null)Q.add.iOpa=255;
if(Q.add.brst==null)Q.add.brst=[1,1,1];var W=Q.wf()?["pass"].concat(hG.Av):hG.Av;return{lrMd:{v:W.indexOf(Q.iX)},Opct:{v:{type:"#Prc",val:Math.round(Q.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(Q.add.iOpa*100/255)},t:"UntF"},blIf:{v:Q.vG.slice(0)},brst:{v:Q.add.brst},gagl:{t:"UntF",v:{type:"#Ang",val:r.QR()}},aqp:r.SJ(),wf:Q.wf()}};
m._E.xt=function(r,Q,W){var b=Q.wf()?["pass"].concat(hG.Av):hG.Av;Q.iX=b[W.lrMd.v];Q.opacity=Math.round(W.Opct.v.val*255/100);
Q.add.iOpa=Math.round(W.iOpa.v.val*255/100);Q.vG=W.blIf.v.slice(0);Q.add.brst=W.brst.v.slice(0);r.Pz(W.gagl.v.val);
r.pJ(W.aqp)};m._E.prototype.Zm=function(r,Q){for(var n=0;n<r.B.length;n++){var W=Q.B[r.B[n]],b=r.Fl[n];
if(b==null)delete W.add.lmfx;else W.add.lmfx=JSON.parse(b);m._E.xt(Q,W,JSON.parse(r.rv[n]));W.ix.Tq=!0}Q.yV=!0;
Q.U()};m._E.prototype.e4=function(r,Q){for(var n=0;n<r.B.length;n++){var W=Q.B[r.B[n]],b=r.nM[n];if(b==null)delete W.add.lmfx;
else W.add.lmfx=JSON.parse(b);m._E.xt(Q,W,JSON.parse(r.xA[n]));W.ix.Tq=!0}Q.yV=!0;Q.U()};m.tK=function(){m.y6.call(this,"Layer Comps",m.Op)};
m.tK.prototype=new m.y6;m.tK.prototype.IU=function(r,Q,W,b){var X=JSON.parse(JSON.stringify(W.nU)),D=JSON.parse(JSON.stringify(W.nU)),h=null,S=null,a=null,K=-1,Y=!1;
if(r.d=="delLC"){var d=m.tK.kg(W.nU,r.C_),j=W.nU.lastAppliedComp?W.nU.lastAppliedComp.v:0;D.list.v.splice(d,1);
if(j==r.C_)delete D.lastAppliedComp;h="Delete Layer Comp"}if(r.d=="editLC"){var d=m.tK.kg(W.nU,r.C_),U=D.list.v[d].v;
if(r.Ft!=null)U.Nm.v=r.Ft;if(r.a0J!=null){var I=r.a0J,f=U.capturedInfo.v,g=f&(1<<I)-1;f=f>>I;if((f&1)==1)f--;
else f++;U.capturedInfo.v=(f<<I)+g}h="Layer Comp properties"}if(r.d=="setLC"){m.tK.UT(W);if(r.C_==0)delete D.lastAppliedComp;
else D.lastAppliedComp={t:"long",v:r.C_};h="Switch Layer Comp";Y=!0}if(r.d=="updLC"){m.tK.UT(W);S=m.tK.aoi(W,r.C_);
a=m.tK.PK(W,r.C_);D.lastAppliedComp={t:"long",v:r.C_};h="Update Layer Comp";K=r.C_;Y=!0}if(r.d=="addLC"){m.tK.UT(W);
var H=1;for(var n=0;n<D.list.v.length;n++)H=Math.max(H,D.list.v[n].v.compID.v)+1;H+=Math.floor(Math.random()*1e4);
var u={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(D.list.v.length+1)},compID:{t:"long",v:H},capturedInfo:{t:"long",v:7}}};
D.list.v.push(u);D.lastAppliedComp={t:"long",v:H};h="New Layer Comp";var s=m.tK.PK(W,H);m.tK.i3(W,s,H)}var _=new c2(h,this);
_.data={a8w:X,apS:D,a0r:S,awN:a,C_:K,e8:Y};this.e4(_.data,W);W.C1(_)};m.tK.prototype.e4=function(r,Q){Q.nU=r.apS;
Q.yV=!0;if(r.awN)m.tK.i3(Q,r.awN,r.C_);if(r.e8){var W=Q.nU.lastAppliedComp?Q.nU.lastAppliedComp.v:0,b=m.tK.kg(Q.nU,W),X=b==-1?null:Q.nU.list.v[b].v,D=X?X.capturedInfo.v:7;
m.tK.Nb(Q,W,D);Q.U()}};m.tK.prototype.Zm=function(r,Q){Q.nU=r.a8w;Q.yV=!0;if(r.a0r)m.tK.i3(Q,r.a0r,r.C_);
if(r.e8){var W=Q.nU.lastAppliedComp?Q.nU.lastAppliedComp.v:0,b=m.tK.kg(Q.nU,W),X=b==-1?null:Q.nU.list.v[b].v,D=X?X.capturedInfo.v:7;
m.tK.Nb(Q,W,D);Q.U()}};m.tK.UT=function(r){if(r.nU.lastAppliedComp!=null||!r.Lu)return;var Q=m.tK.PK(r,0);
m.tK.i3(r,Q,0);r.Lu=!1};m.tK.m9=function(r,Q,W){r.v.Hrzn.v+=Q;r.v.Vrtc.v+=W};m.tK.kg=function(r,Q){var W=r.list.v;
for(var n=0;n<W.length;n++)if(W[n].v.compID.v==Q)return n;return-1};m.tK.a8z=function(r){var Q=r.layerSettings.v,X=null;
if(Q.length==0)return;var W="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),b=Q[0].v;
if(b.enab==null)b.enab={t:"bool",v:!0};if(b.Ofst==null)b.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var n=0;n<Q.length;n++){var D=Q[n].v;if(X==null)X=JSON.parse(JSON.stringify(D));else for(var h=0;
h<W.length;h++){var S=W[h];if(D[S])X[S]=JSON.parse(JSON.stringify(D[S]))}Q[n].v=JSON.parse(JSON.stringify(X))}};
m.tK.at7=function(r,Q){var W=r.add.shmd.cmls,b=W.layerSettings.v;for(var X=0;X<b.length;X++){var D=b[X].v,h=D.compList.v[0].v;
if(h==Q)return X}return-1};m.tK.aju=function(r,Q){var W=m.tK.at7(r,Q);return W==-1?null:r.add.shmd.cmls.layerSettings.v[W].v};
m.tK.Nb=function(r,Q,W){for(var n=0;n<r.B.length;n++){var b=r.B[n],X=b.add.shmd.cmls;if(X==null)continue;
var D=X.layerSettings.v,h=m.tK.aju(b,Q);if(h==null){b.ky(!1);continue}if((W&1)!=0){if(h.enab)b.ky(h.enab.v);
else b.ky(!0)}if((W&2)!=0){if(h.Ofst){var S=h.Ofst.v,a=b.qN(r),K=Math.round(S.Hrzn.v-a.x),Y=Math.round(S.Vrtc.v-a.y);
if(K!=0||Y!=0)m.iw.pq(r,[n],null,K,Y)}}if((W&4)!=0){if(h.Lefx){var d=JSON.parse(JSON.stringify(h.Lefx.v));
bK.kc(d);if(JSON.stringify(d)!=JSON.stringify(b.add.lmfx)){b.add.lmfx=d;b.ix.Tq=!0}}else delete b.add.lmfx;
if(h.blendOptions){var j=h.blendOptions.v;if(j.Opct)b.opacity=Math.round(255*j.Opct.v.val/100);if(j.fillOpacity)b.add.iOpa=Math.round(255*j.fillOpacity.v.val/100);
if(j.Md)b.iX=b.add.lsct==d1.kJ?"norm":hG.g9(j.Md.v.BlnM)}else{b.opacity=255;b.iX=b.wf()?"pass":"norm";
b.add.iOpa=255}}}};m.tK.aoi=function(r,Q){var W={};for(var n=0;n<r.B.length;n++){var b=r.B[n];if(b.add.shmd==null||b.add.shmd.cmls==null)continue;
W["l"+b.add.lyid]=JSON.parse(JSON.stringify(m.tK.aju(b,Q)))}return W};m.tK.PK=function(r,Q){var W={};
for(var n=0;n<r.B.length;n++){var b=r.B[n],X=b.add.lyid;W["l"+X]=m.tK.asv(r,b,Q)}return W};m.tK.asv=function(r,Q,W){var b=Q.add.shmd?Q.add.shmd.cmls:null,X={classID:"null"},D=Q.qN(r),h={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:D.x},Vrtc:{t:"long",v:D.y}}};
X.compList={t:"VlLs",v:[{t:"long",v:W}]};X.enab={t:"bool",v:Q.cB()};X.Ofst=JSON.parse(JSON.stringify(h));
X.FXRefPoint=JSON.parse(JSON.stringify(b&&b.origFXRefPoint?b.origFXRefPoint:h));X.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:hG.Ra(Q.iX)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*Q.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:Q.add.iOpa!=null?100*Q.add.iOpa/255:100}}}};
if(Q.add.vmsk){X.vectorMask={t:"Objc",v:{classID:"null"}};X.vectorMask.v.Ofst=JSON.parse(JSON.stringify(h))}if(Q.add.lmfx){X.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(Q.add.lmfx))};
bK.Cq(X.Lefx.v)}return X};m.tK.a76=function(r,Q){var W=Q.add.lyid;if(Q.add.shmd==null)Q.add.shmd={};
if(Q.add.shmd.cmls==null){Q.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:W},layerSettings:{t:"VlLs",v:[{t:"Objc",v:m.tK.asv(r,Q,0)}]}}}};
m.tK.i3=function(r,Q,W){for(var n=0;n<r.B.length;n++){var b=r.B[n],X=b.add.lyid;m.tK.a76(r,b);var D=b.add.shmd.cmls,h=D.layerSettings.v,S=Q["l"+X];
if(S!=null)S={t:"Objc",v:JSON.parse(JSON.stringify(S))};var a=m.tK.at7(b,W);if(a==-1){if(S==null)continue;
else h.push(S)}else{if(S==null)h.splice(a,1);else h[a]=S}}};m.tK.Uf=function(r,Q){for(var n=0;n<r.B.length;
n++){var W=r.B[n],b=W.add.lyid;if(W.add.shmd==null||W.add.shmd.cmls==null)continue;var X=W.qN(r),D=Math.round(X.x),h=Math.round(X.y);
if(!Q){D=-D;h=-h}var S=W.add.shmd.cmls,a=S.layerSettings.v;if(S.origFXRefPoint)m.tK.m9(S.origFXRefPoint,-D,-h);
for(var K=0;K<a.length;K++){var Y=a[K].v;m.tK.m9(Y.Ofst,D,h);var d=Y.imageMask,j=Y.vectorMask;if(d&&d.v.Ofst)m.tK.m9(d.v.Ofst,D,h);
if(j&&j.v.Ofst)m.tK.m9(j.v.Ofst,D,h)}}};m.rm=function(){m.y6.call(this,"Adjust Edit",m.G9);this.B9=null;
this.cr=null};m.rm.prototype=new m.y6;m.rm.T$=function(r,Q,W,b){if(b)Q/=4;var X=0,D=0,h=255,S=0,a=0,K=255;
while(D+r[X]<Q){D+=r[X];X++}while(S+r[h]<Q){S+=r[h];h--}if(b){X-=Math.round(r[X]/(W/32));h+=Math.round(r[h]/(W/32));
if(X<0)a=Math.round(-X*255/(h-X));if(h>255)K=255-Math.round((h-255)*255/(h-X))}return[Math.max(X,0),Math.min(h,255),a,K,100]};
m.rm.prototype.IU=function(r,Q,W,b,X){var D=r.d;if(D=="auto"){var h=r.lm,S=m.rm.getData(W);for(var n=0;
n<S.length;n++){var a=S[n],K;if(h<3){}else{var Y=jv.fp("hue2");ku.Q_(Y,0,[0,-100,0]);K=bu.RP("hue2",Y)}bu.EW(K,a.v9,a.Od,a.nX)}m.rm.ro(W,S);
m.rm.g8(W,S,h<3?[4,16,h]:[19,7,0],this);W.U()}if(D=="edit_layer")this.auO(r,Q,W,b);if(D=="edit"||D=="confirm"||D=="cancel")this.s2(r,Q,W,X,!0);
if(D=="start"){if(W.I.length==0)return;var d=W.B[W.I[0]];if(d.add.SoLd&&d.L$<=0&&W.Qw.length==0){var j=new km(e.E.s,!0);
j.b=m.tQ;j.data={d:"start",lv:r.cM,UM:r.UM};Q.$(j);return}if(!W.Fv(Q,null,!0))return;if(i3[r.cM]&&r.UM==null){if(W.I.length!=1)alert("Will be applied to "+W.I.length+" layers.");
var j=new km(e.E.L,!0);j.data={d:e.c.Re,wv:"afw_"+r.cM};Q.$(j)}else{this.s2({d:"edit",UM:r.UM,lv:r.cM},Q,W,X);
this.s2({d:"confirm",lv:r.cM},Q,W,X)}}};m.rm.prototype.auO=function(r,Q,W,b){var X=r.d,D=W.I[0],h=W.B[D],S=bu.get(h.add),a=JSON.parse(JSON.stringify(h.add[S])),j;
for(var K in r.h)a[K]=r.h[K];var Y=JSON.parse(JSON.stringify(a));for(var K in bu.v_)if(bu.v_[K]==S)Y.classID=K;
var d=W.history[W.Je];if(d&&d.b==this&&d.data.h$!=null&&d.data.l==D)j=d;else{var U=new km(e.E.Kk,!0),I={classID:"setd",null:cO.RG("AdjL",!0),T:{t:"Objc",v:Y}};
U.data={lU:!0,r7:"set",Hf:I};Q.$(U);var j=new c2([6,39],this);j.data={l:D,h$:h.add[S],g2:a,E4:I};W.C1(j)}j.data.g2=a;
j.data.E4.T.v=Y;this.e4(j.data,W)};m.rm.getData=function(r,Q,W){var b=[],X=new aV(0,0,r.e,r.n),D=r.Qw.length!=0?[-1-r.Qw[0]]:r.I;
for(var n=0;n<D.length;n++){var h=D[n],S=h<0?null:r.B[h],a={l:h,TN:h<0?1:S.L$};b.push(a);var K=r.Ev[-1-h];
if(0<=h)K=S.L$<=0?null:S.L$==1?S.SS():S.Xg(r).z;var Y=K?K.rect:S.rect;if(r.P)a.nX=K!=null?r.P.rect.ww(X):r.P.rect.ww(Y);
else a.nX=Q||K!=null?Y.Bc(X):Y.clone();if(W)a.nX=W[n].nX.clone();var d=a.nX.O();a.v9=E.Q(d*4);if(K)m.AZ.m2(K.channel,K.rect,K.color,a.v9,a.nX);
else E.TU(S.buffer,Y,a.v9,a.nX);a.Od=a.v9.slice(0);if(r.P){a.A$=E.Q(d);E.L0(r.P.channel,r.P.rect,a.A$,a.nX)}}return b};
m.rm.akI=function(r,Q,W){if(Q==null)return Q;var b=bu.ZC(r,Q),D;if(b==-1)return Q;var X=W.length>>>2,h=E.hg(W),S=.001*X;
if(b==0||b==2)D=[[0,255,0,255,100],m.rm.T$(h[1],S,X,b==2),m.rm.T$(h[2],S,X,b==2),m.rm.T$(h[3],S,X,b==2)];
if(b==1)D=[m.rm.T$(h[0],S*.33,X,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var a=jv.fp("levl");
for(var n=0;n<4;n++)fB.Q_(a,n,D[n]);return a};m.rm.aev=function(r,Q,W,b){var X,D;if(W.t=="name"){var h=0;
for(var S=0;S<r.B.length;S++)if(r.B[S].getName()==W.v.val)h=S;if(r==Q&&h==b.l){X=b.v9;D=b.nX}else{var a=r.B[h];
X=a.buffer;D=a.rect}}else{D=new aV(0,0,r.e,r.n);X=r==Q?b.ov:r.T6()}return[X,D]};m.rm.prototype.s2=function(r,Q,W,b){if(this.B9==null){if(r.lv=="aply")W.B[W.I[0]].extend(new aV(0,0,W.e,W.n));
this.B9=m.rm.getData(W,null,r.lv=="fade"?W.bk().data:null);if(r.lv=="aply"||r.lv=="matc")this.B9[0].ov=W.T6()}if(r.d=="edit"){this.cr=[r.lv,r.UM];
var X=this.B9[0],D=m.rm.akI(r.lv,r.UM,X.v9),h=bu.RP(r.lv,D);if(r.lv=="fade"||r.lv=="matc"||r.lv=="aply")h=r.UM;
if(h!=null){for(var S=0;S<this.B9.length;S++){var a=this.B9[S];if(r.TO)E.qr(a.v9,a.Od);else if(r.lv=="fade"){var K=hG.g9(r.UM.Md.v.BlnM),Y=r.UM.Opct.v.val/100,d=W.bk().data[S];
E.qr(d.v9,a.Od);if(K=="norm")E.q.mA(a.v9,a.nX,a.Od,a.nX,null,null,null,a.nX,Y);else{var j=iI.O1();j.QV=!0;
for(var n=0;n<d.v9.length;n+=4)if(d.v9[n+3]!=a.v9[n+3]){j=null;break}E.q.YB(K,a.v9,a.nX,a.Od,a.nX,a.nX,Y,j)}}else if(r.lv=="matc"){var U;
if(h.noReference&&h.noReference.v)U=a.v9;else{var I=h.Srce.v,f=I[1].v.val,g=Q.JN,H=W;for(var n=0;n<g.length;
n++)if(g[n].name==f)H=g[n];var u=m.rm.aev(H,W,I[0],a);U=u[0]}gQ(a.v9,a.nX.e,a.nX.n,U,a.Od,[h.Lght.v,h.ClrR.v,h.Fade.v,h.neutralizeColor?h.neutralizeColor.v:!1])}else if(r.lv=="aply"){h=h.With.v;
var s=h.T.v,u=m.rm.aev(W,W,s[1],a),U=u[0],_=u[1],i=h.Clcl?h.Clcl.v.Clcn:null,K=i?hG.g9(i):"norm",Y=h.Opct?h.Opct.v.val/100:1,M=["RGB","Rd","Grn","Bl","Trsp"].indexOf(s[0].v.enum),D=h.Invr&&h.Invr.v;
if(D||M!=0){U=U.slice(0);if(D)E.afG(U);if(M!=0){var T=E.Q(_.O());E.TX(U,T,M-1);if(M==4)E.j4(T);for(var R=0;
R<3;R++)E.nV(T,U,R)}}if(i=="Add"||i=="Sbtr"){var z=1/h.Scl.v,G=h.Ofst.v,V=i=="Add"?1:-1,y=new Uint8ClampedArray(a.Od.buffer);
for(var n=0;n<U.length;n+=4){y[n]=(a.v9[n]+V*U[n])*z+G;y[n+1]=(a.v9[n+1]+V*U[n+1])*z+G;y[n+2]=(a.v9[n+2]+V*U[n+2])*z+G}}else{var j=iI.O1();
j.QV=h.PrsT&&h.PrsT.v;a.Od.fill(0);a.Od.set(a.v9);E.q.YB(K,U,_,a.Od,a.nX,a.nX,Y,j)}}else bu.EW(h,a.v9,a.Od,a.nX)}m.rm.ro(W,this.B9)}}if(r.d=="cancel"){m.rm.avW(W,this.B9);
this.B9=null}if(r.d=="confirm"){var k={fade:[2,11],aply:[2,12],matc:[4,18]},B=k[r.lv];if(B==null)B=bu.names[r.lv];
var v=bu.ZC(r.lv,this.cr[1]);if(v!=-1)B=[4,16,v];m.rm.g8(W,this.B9,B,this);this.B9=null;if(v==-1)m.rm.Wv(Q,this.cr)}W.U()};
m.rm.Wv=function(r,Q){var W=Q[0],b=Q[1],X,D;if(bu.Pr[W]){X=bu.Pr[W];if(i3[W])D=b}if(jv.Pr[W]){X=jv.Pr[W];
if(i3[W])D=b}if(W=="fade"){X="fade";D=b}if(W=="matc"){X="matchColor";D=b}if(W=="aply"){X="applyImageEvent";
D=b}if(X==null)return;var h=new km(e.E.Kk,!0);h.data={lU:!0,r7:X};if(D){D=JSON.parse(JSON.stringify(D));
D.classID="null";delete D.__name;h.data.Hf=D}r.$(h)};m.rm.avW=function(r,Q){m.rm.dc(r,Q)};m.rm.g8=function(r,Q,W,b){for(var n=0;
n<Q.length;n++){var X=Q[n],D=r.B[X.l],h=X.l<0?r.Ev[-1-X.l]:X.TN<=0?null:X.TN==1?D.SS():D.Xg(r).z;if(h){h.Dg();
h.eI=!0;if(D)D.hR(r)}else{D.Dg();D.U()}delete X.Od;delete X.A$}var S=new c2(W,b);S.data=Q;r.C1(S);r.yV=!0};
m.rm.ro=function(r,Q,W){for(var n=0;n<Q.length;n++){var b=Q[n],X=r.B[b.l],D=W?b.v9:b.Od,h=b.nX;if(b.TN==0){X.extend(h);
if(b.A$){E.TU(b.v9,h,X.buffer,X.rect);E.q.mA(D,h,X.buffer,X.rect,b.A$,h,0,h,1)}else E.TU(D,h,X.buffer,X.rect)}else{var S=b.l<0?r.Ev[-1-b.l]:b.TN==1?X.SS():X.Xg(r).z;
S.extend(h);if(b.A$){var a=E.Q(h.O()*4);E.qr(b.v9,a);E.q.mA(D,h,a,h,b.A$,h,0,h,1);m.AZ.sL(a,h,S)}else m.AZ.sL(D,h,S);
S.eI=!0;if(X)X.hR(r)}if(X)X.U()}if(!W)m.rm.arz(r,Q)};m.rm.dc=function(r,Q){for(var n=0;n<Q.length;n++){var W=Q[n],b=r.B[W.l],X=W.nX,D=E.Q(X.O()*4);
if(W.TN==0){E.TU(b.buffer,b.rect,D,X);b.extend(X);E.TU(W.v9,X,b.buffer,b.rect);b.Dg()}else{var h=W.l<0?r.Ev[-1-W.l]:W.TN==1?b.SS():b.Xg(r).z;
m.AZ.m2(h.channel,h.rect,h.color,D,X);h.extend(X);m.AZ.sL(W.v9,X,h);h.Dg();h.eI=!0;if(b)b.hR(r)}W.v9=D;
if(b)b.U()}r.yV=!0};m.rm.arz=function(r,Q){var W=m.rm.a7s(r),b=~W;if(W==16777215)return;for(var n=0;
n<Q.length;n++){var X=Q[n],D=r.B[X.l],h=X.nX;if(X.TN!=0)continue;D.extend(h);var S=h.x-D.rect.x,a=h.y-D.rect.y,K=D.rect.e,Y=new Uint32Array(X.v9.buffer),d=new Uint32Array(D.buffer.buffer);
for(var j=0;j<h.n;j++)for(var U=0;U<h.e;U++){var I=j*h.e+U,f=(j+a)*K+(U+S);d[f]=d[f]&W|Y[I]&b}D.Dg();
D.U()}r.U()};m.rm.a7s=function(r){var Q=r.u.Vu;return Q[2]*16711680|Q[1]*65280|Q[0]*255};m.rm.prototype.Zm=function(r,Q){var W=Q.B[r.l];
if(r.h$!=null)W.add[bu.get(W.add)]=r.h$;else m.rm.dc(Q,r);Q.U()};m.rm.prototype.e4=function(r,Q){var W=Q.B[r.l];
if(r.h$!=null)W.add[bu.get(W.add)]=r.g2;else m.rm.dc(Q,r);Q.U()};m.M3=function(){m.y6.call(this,"Filter Edit",m.tQ);
this.B9=null;this.q8=null;this.d=null;this.cr=null};m.M3.prototype=new m.y6;m.M3.prototype.IU=function(r,Q,W,b,X){if(r.d=="start"){if(W.I.length==0)return;
var D=W.B[W.I[0]];if(D.add.SoLd&&D.L$<=0&&W.Qw.length==0){}else if(!W.Fv(Q,null,!0))return;var h=r.lv;
if((i3[h]||jv.a[h])&&r.UM==null){if(W.I.length!=1)alert("Will be applied to "+W.I.length+" layers.");
var S=new km(e.E.L,!0);S.data=m.M3.ai9(h,this.Ox(W,h));Q.$(S)}else{var a={d:"edit",lv:h,UM:r.UM,AK:this.Ox(W)};
this.IU(a,Q,W,b,X);a.d="confirm";delete a.UM;this.IU(a,Q,W,b,X)}}if(r.d=="edit"||r.d=="cancel"||r.d=="confirm"){if(r.d=="edit")this.cr=[r.lv,r.UM];
if(r.AK)this.a0j(r,Q,W,X);else this.a7y(r,Q,W,X)}if(r.d=="applylast"&&this.cr!=null){var a={d:"edit",lv:this.cr[0],UM:this.cr[1],AK:this.Ox(W)};
this.IU(a,Q,W,b,X);a.d="confirm";delete a.UM;this.IU(a,Q,W,b,X)}};m.M3.ai9=function(r,Q){var W=jv.a[r];
if(W)return{d:e.c.cf,b:W,Eb:{AK:Q}};else return{d:e.c.Re,wv:"afw_"+r,AK:Q}};m.M3.prototype.Ox=function(r,Q){var W=r.B[r.I[0]],b;
if(W.add.SoLd&&W.L$<=0&&r.Qw.length==0){b={l:r.I[0],index:0};if(W.add.SoLd.filterFX!=null){var X=W.add.SoLd.filterFX.v.filterFXList.v;
b.index=X.length;for(var n=0;n<X.length;n++)if(jv.hn(X[n].v)==Q&&jv.a[Q])b.index=n}}return b};m.M3.prototype.a0j=function(r,Q,W,b){var X=W.B[r.AK.l],D=r.lv;
if(r.d=="edit"){if(this.d==null){var h=jv.names[D];if(h==null)h=bu.names[D];if(D=="blendOptions")h=[14,10];
this.d=new c2(h,this);this.d.data={AK:r.AK,awl:JSON.parse(JSON.stringify(X.add.SoLd))}}if(!X.$Y()){X.add.SoLd.filterFX=jv.qQ();
this.d.data.ht=bj.a6P(X.add.SoLd.placed.v);W.jJ(this.d.data.ht);X.vd(W)}var S=X.add.SoLd.filterFX.v.filterFXList.v;
if(S[r.AK.index]==null){S.push(jv.gj(D,b))}if(r.UM){S[r.AK.index].v.enab.v=r.TO!=!0;if(D=="blendOptions")S[r.AK.index].v.blendOptions.v=r.UM;
else S[r.AK.index].v.Fltr.v=r.UM}this.d.data.ale=JSON.parse(JSON.stringify(X.add.SoLd));this.e4(this.d.data,W)}if(r.d=="cancel"){if(this.d)this.Zm(this.d.data,W);
this.d=null}if(r.d=="confirm"){if(this.d)W.C1(this.d);m.rm.Wv(Q,this.cr);this.d=null}};m.M3.prototype.n8=function(r){return{o:r>>>16,W:r>>>8&255,k:r&255}};
m.M3.prototype.a7y=function(r,Q,W,b){if(this.B9==null){var X=jv.U3(r.lv,r.UM);this.B9=m.rm.getData(W,X.x!=0||X.y!=0)}if(r.d=="edit"){var D=JSON.stringify(r.UM);
if((r.UM==null||D!=this.q8)&&r.TO!=!0)for(var n=0;n<this.B9.length;n++){var h=this.B9[n],S={rect:h.nX,buffer:h.v9},a={rect:h.nX,buffer:h.Od};
if(r.lv=="Avrg"&&h.A$){S.buffer=h.v9.slice(0);E.DJ(h.A$,S.buffer)}jv.EW(r.lv,S,r.UM,this.n8(b.V8),this.n8(b.tB),a,[W.add.lnk2?W.add.lnk2:[],W.B[W.I[0]].SS(),W.Ev,W.tt()]);
if(r.lv=="Avrg"&&h.A$){var K=h.v9.length;for(var n=0;n<K;n+=4)h.Od[n+3]=h.v9[n+3]}this.q8=D}m.rm.ro(W,this.B9,r.TO)}if(r.d=="cancel"){m.rm.avW(W,this.B9);
this.B9=null;this.q8=null}if(r.d=="confirm"){m.rm.g8(W,this.B9,jv.names[r.lv],this);this.B9=null;this.q8=null;
m.rm.Wv(Q,this.cr)}W.U();W.yV=!0};m.M3.prototype.Zm=function(r,Q){if(r.AK){var W=Q.B[r.AK.l];if(r.ht)Q.jt(r.ht);
W.add.SoLd=JSON.parse(JSON.stringify(r.awl));if(W.$Y())W.wl(Q);else{W.vd(Q);W.L$=0}}else m.rm.dc(Q,r);
Q.U();Q.yV=!0};m.M3.prototype.e4=function(r,Q){if(r.AK){var W=Q.B[r.AK.l];if(r.ht)Q.jJ(r.ht);W.add.SoLd=JSON.parse(JSON.stringify(r.ale));
if(W.$Y())W.wl(Q);else W.vd(Q);if(!W.By())W.KX+=32}else m.rm.dc(Q,r);Q.U();Q.yV=!0};var d4={KF:"0",Yu:"1",GY:"2",iE:"3",WK:"3.5",Ec:"4",vP:"5",z1:"6",$m:"7",s:"8",HU:"8.5",sw:"8.8",Sd:"9",TH:"10",ui:"11",Yi:"12",_L:"13",FY:"14",fm:"15",On:"16",Sq:"17",dt:"21",aM:"22",JY:"23",AQ:"23.0",LQ:"23.1",vb:"23.2",ij:"23.3",ta:"23.4",oW:"23.5",x5:"23.6",atd:"30",r0:"31",$V:"40",cp:"41",x3:"42"};
d4.vN={};d4.vN[d4.Yu]=["abr","brushes",k5,[9,3],3];d4.vN[d4.GY]=["grd","gradients",d9,[12,37],4];d4.vN[d4.iE]=["shc","contours",i2,[12,21],0];
d4.vN[d4.WK]=["acv","curves",f0,[4,2],0];d4.vN[d4.Ec]=["asl","styles",iz,[12,22],5];d4.vN[d4.vP]=["pat","patterns",dh,[12,62],6];
d4.vN[d4.z1]=["csh","shapes",fK,[12,77],7];d4.vN[d4.$m]=["aco","swatches",ia,[9,8],0];d4.vN[d4.s]=["atn","actions",gj,[9,9],2];
d4.vN[d4.HU]=["tpl","tpresets",c1,[9,12],0];d4.vN[d4.sw]=["icc","profiles",cf,"ICCs",8];function c2(r,Q,W){if(W==null)W=!1;
this.name=r;this.b=Q;this.pF=W;this.data=null;this.aoN=Date.now()}var cO={};cO.RG=function(r,Q){var W={t:"Clss",v:{classID:r}};
if(Q)W={t:"Enmr",v:{classID:r,typeID:"Ordn",enum:"Trgt"}};return{t:"obj ",v:[W]}};cO.sT=function(r,Q){var W={classID:"Lyr"};
W[r]=Q;return{r7:"set",Hf:{classID:"null",null:cO.RG("Lyr",!0),T:{t:"Objc",v:W}}}};cO.aqJ=function(r,Q,W,b,X){var D=new km(e.E.Kk,!0),h=[],n=0,S=cO.Lj(Q,W,b,h);
while(h.length!=0){var a=h.pop();n++;if(!a.w)continue;console.log(n-1);if(a.r7=="conditional"){var K=r.B[r.I[0]],Y=a.Hf.null.v.Cndt,d=!1;
if(Y=="Bckg")d=!1;else if(Y=="Pxel"&&r.P2(!1))d=!0;else if(Y=="Adjs"&&bu.get(K.add))d=!0;else if(Y=="Shp"&&K.add.vogk)d=!0;
else if(Y=="Grup"&&K.wf())d=!0;else if(Y=="Opn"&&r!=null)d=!0;else if(Y=="32Bt")d=!1;else if(Y=="RGB")d=!0;
var j=a.Hf.then,U=a.Hf.else;if(d&&j)cO.Lj(Q,j.v[0].v.val,j.v[1].v.val,h);if(!d&&U)cO.Lj(Q,U.v[0].v.val,U.v[1].v.val,h)}else if(a.r7=="stop"){if(a.Hf.Cntn&&a.Hf.Cntn.v==!0)window.confirm(a.Hf.Msge.v);
else{alert(a.Hf.Msge.v);break}}else if(a.r7=="play"){var I=a.Hf.null.v,f=new km(e.E.L,!0);f.data={d:e.c.Sx,C0:[I[0].v.val,I[1].v.val]};
X.$(f)}else{D.data={r7:a.r7,Hf:a.Hf};X.$(D)}}};cO.Lj=function(r,Q,W,b){var X;for(var n=0;n<r.length;
n++){if(r[n].Cv!=W)continue;var D=r[n].qv;for(var h=0;h<D.length;h++){if(D[h].Cv!=Q)continue;X=D[h].qv}}var S=X.length;
for(var n=0;n<S;n++)b.push(X[S-1-n])};cO.a2q=function(r){var Q=r.r7,W=r.Hf,b,h,S,a,K;if(W&&W.null)b=W.null.v[0];
if(W&&b==null&&W.At)b=W.At.v[0];if(b&&b.t=="obj ")b=b.v[0];var X=b?b.v.classID:null,D=["purge"];if(D.indexOf(Q)!=-1)return Q[0].toUpperCase()+Q.slice(1);
if(Q=="GEfc"||Q=="paintDaubs")return jA.names[W.GEfk.v.GEft][1];K=bu.Pr;for(h in K)if(K[h]==Q)S=h;K=jv.Pr;
for(h in K)if(K[h]==Q)a=h;if(S){var Y=bu.ZC(S,W);if(Y!=-1)return[4,16,Y];return bu.names[S]}if(a)return jv.names[a];
var d=cO.a2M;if(Q=="make"){if(b){if(X=="AdjL")return[6,1];else if(X=="layerSection")return W.From?[6,9]:[6,20];
else if(X=="Lyr")return[6,13];else if(X=="Chnl"&&b.v.enum=="Msk")return[6,2];else if(X=="contentLayer")return[6,48,1];
else if(X=="BckL")return"Make Background Layer";else if(X=="Path")return"Make Path";else if(X=="TxLr")return"Make Text Layer";
else if(X=="slice")return"Make Slices";else if(X=="Dcmn")return[11,7];else if(X=="Gd")return[23,4]}if(W.Nw){X=W.Nw.v.classID;
if(X=="Dcmn")return[11,7];else if(X=="Chnl"||X=="SCch")return"New Channel"}}else if(Q=="deselect"){if(X=="Path")return"Deselect current path";
else throw X}else if(Q=="draw"){return"Draw"}else if(Q=="select"){if(X=="Chnl")return"Select "+(b.v.enum=="Msk"?"Mask ":"")+"Channel";
else if(X=="Mn")return"Select Panel \""+b.v.enum+"\"";else if(X=="Lyr"){if(b.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[b.v.enum]+" Layer";
return"Select Layer \""+b.v.val+"\""}else if(X=="Path")return"Select Path";else if(X=="Brsh")return"Select Brush";
else if(X=="Dcmn")return"Select Document"}else if(d[Q]&&X=="Chnl"){var j=b.v.keyID=="fsel";return d[Q]+" "+(j?"Selection":"Channel")}else if(Q=="set"){if(X=="Lyr")return"Set Current Layer";
else if(X=="AdjL")return[6,39];else if(X=="contentLayer")return[6,48,2];else if(X=="Prpr"){var U=b.v.keyID;
if(U=="TxtS")return"Set Text Style";else if(U=="paragraphStyle")return"Set Paragraph Style";else if(U=="Lefx")return[11,6];
else console.log(U)}else if(X=="Clr")return"Set "+(b.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(X=="Brsh")return"Set Brush";else if(X=="Path")return"Set Work Path";else console.log(X)}else if(Q=="move"){if(X=="Lyr")return"Move Layer";
else if(X=="Chnl"&&b.v.keyID=="fsel")return[7,7];else console.log(X)}else if(Q=="show"||Q=="hide"){var I="";
if(X=="Lyr")+"Layer";if(X=="Chnl")+"Channel";return(Q=="show"?"Show":"Hide")+" "+I}else if(Q=="reset"){if(X=="Clr")return"Reset Colors"}else if(Q=="exchange"){if(X=="Clr")return[22,7,0]}else if(Q=="rotateEventEnum")return[2,5];
else if(Q=="flip"){var f=W.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,f?2:3]]}if(X=="Chnl"){if(Q=="duplicate"){if(b.v.keyID=="fsel")return"Selection to Channel";
else return"Duplicate Channel"}if(Q=="delete")return"Delete Channel"}if(Q=="transform")return b&&b.v.keyID=="fsel"?[7,10]:[10,16];
var g={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],delete:W?X=="Lyr"?[6,31]:"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",placedLayerExportContents:"Export Contents",placedLayerReplaceContents:"Replace Contents",convertMode:"Convert Mode",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],divide:"Divide Current Slice",collapseAllGroupsEvent:"Collapse All Groups",conditional:"If"},H=g[Q];
if(H==null)H=cO.a7R[Q];if(H)return H;return Q};cO.a7R={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
cO.a2M={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
cO.amr=function(r,Q,W,b){var X=r.r7,D=r.Hf,h=!1,S=new km(e.E.s,!0),Y,d,j,U;S.b=m.M0;var a=new km(e.E.L,!0),K=["purge","updatePlacedLayer","convertMode","convertToProfile"];
if(K.indexOf(X)!=-1)return;U=bu.Pr;for(Y in U)if(U[Y]==X)d=Y;U=jv.Pr;for(Y in U)if(U[Y]==X)j=Y;if(X=="fade")d=X;
if(X=="matchColor")d="matc";if(X=="applyImageEvent")d="aply";if(d){S.b=m.G9;S.data={d:"start",cM:d,UM:D}}else if(j){S.b=m.tQ;
S.data={d:"start",lv:j,UM:D}}else if(X=="GEfc"||X=="paintDaubs"){S.b=m.tQ;S.data={d:"start",lv:"GEfc",UM:D}}else if(X=="imageSize"||X=="canvasSize"||X=="revealAll"||X=="trim"||X=="crop"){S.b=m.nk;
S.data={d:"fromAction",Jb:r}}else if(X=="fill"||X=="stroke"||X=="delete"&&D==null){S.b=W.at==m.sE?m.sE:m.Yu;
S.data={d:"fromAction",Jb:r}}else if(X=="colorRange"){S.b=m.iW;S.data={d:"fromAction",Jb:r}}else if(cO.a7R[X]||cO.a2M[X]&&(!1||D.With&&D.With.v[0].v.keyID=="fsel"||D.From&&D.From.v[0].v.keyID=="fsel"||D.null&&D.null.v[0].v.keyID=="fsel"||D.T.v[0]&&D.T.v[0].v.keyID=="fsel")){S.b=m.iW;
S.data={d:"fromAction",Jb:r}}var I={copyToLayer:$.iO,cutToLayer:$.QB,mergeLayersNew:$.Qd,rasterizeLayer:$.a2y,mergeVisible:$.Qr,flattenImage:$.a2N,newPlacedLayer:$.CC};
if(I[X])S.data={d:I[X],Hf:D};if(S.data){Q.$(S);return}if(X=="collapseAllGroupsEvent"){for(var n=0;n<b.B.length;
n++){var f=b.B[n];if(f.wf())f.add.lsct=d1.$B}b.Ca=!0;return}if(X=="desaturate"){S.b=m.G9;S.data={d:"auto",lm:3};
if(b&&b.B[b.I[0]].add.SoLd==null)Q.$(S);return}if(X=="close"){if(D.Svng.v.YsN=="Ys"){a.data={d:e.c.EV};
Q.$(a)}a.data={d:e.c.$S,M_:b};Q.$(a);return}if(X=="save"){a.data={d:e.c.EV};Q.$(a);return}if(X=="copyMerged"){a.data={d:e.c.jz,eU:!0,zh:!0};
Q.$(a);return}if(X=="placedLayerReplaceContents")a.data={d:e.c.VX,Gn:!0};var I={placedLayerEditContents:e.c.a0l,placedLayerExportContents:e.c.a0I,copyEvent:e.c.jz,paste:e.c.t7};
if(I[X])a.data={d:I[X],zh:!0};if(a.data){Q.$(a);return}var g=D.null?D.null.v:null,H=g?g[0].v.classID:"";
if(X=="make"){if(D.null==null&&D.Nw)H=D.Nw.v.classID;if(H=="AdjL"){S.data={d:$._P,Hf:D}}else if(H=="layerSection"){S.data=D.From?{d:$.bm}:{d:$.b$};
if(D.Usng){var u=D.Usng.v;if(u.Nm)S.data.Ft=u.Nm.v;if(u.Clr)S.data.k1=cO.xl(u)}}else if(H=="Lyr"){if(D.Usng&&D.Usng.v.length==2)S.data={d:$.a10};
else{S.data={d:$.Vl};if(D.Usng)S.data.Ft=D.Usng.v.Nm.v;if(D.below&&D.below.v)S.data.a7M=!0}}else if(H=="Chnl"&&D.At&&D.At.v[0].v.enum=="Msk"){S.data={d:$.HT,BT:D.Usng.v.UsrM}}else if(H=="Chnl"||H=="SCch"){S.data={d:$.BC,CZ:"fromAction",h:r}}else if(H=="contentLayer"){S.data={d:$.g1,Hf:D}}else if(H=="BckL"){b.B[b.I[0]].afX();
return}else if(H=="Dcmn"){if(D.Nw==null)return;var _=D.Nw.v;a.data={d:e.c.kp,gR:bj.ae4(_,W)}}else if(H=="Ptrn")a.data={d:e.c.fh,Lb:0};
else if(H=="Path"){S.b=m.RJ;S.data={d:"pathedit",CZ:"fromsel"}}else if(H=="TxLr"){S.b=m.st;S.data={d:"fromAction",Jb:r}}else if(H=="slice"){S.b=m.ds;
S.data={d:"fromAction",Jb:r}}else if(H=="Gd"){var i=[[],[]],_=D.Nw.v;i[_.Ornt.v.Ornt=="Vrtc"?0:1].push(_.Pstn.v.val);
var M=a_.Cu(i);m.iw.Rv(M,b.NO());S.b=m.$t;S.data={d:"gids",XF:M}}else{console.log(X,H,D);throw"e"}}else if(X=="divide"){S.b=m.ds;
S.data={d:"fromAction",Jb:r}}else if(X=="deselect"){if(H=="Path"){b.Me=[];b.qS=[];b.Ca=b.a9=!0;return}else throw H}else if(X=="selectNoLayers"){b.I=[];
b.yV=!0}else if(X=="select"){var T={PcTl:m.sE,PbTl:m.Yu,moveTool:m.$t,cloneStampTool:m.Rr,typeCreateOrEditTool:m.st,artboardTool:m.YP,marqueeRectTool:m.iW,typeVerticalCreateOrEditTool:m.gb,perspectiveCropTool:m.Dz,marqueeEllipTool:m.awS,eyedropperTool:m.ya,eraserTool:m.Ik,pathComponentSelectTool:m.RJ,lassoTool:m.qL,backgroundEraserTool:m.akW,directSelectTool:m.u9,polySelTool:m.a0M,rectangleTool:m.aK,magneticLassoTool:m.a89,gradientTool:m.ahi,quickSelectTool:m.cj,bucketTool:m.ar_,ellipseTool:m.Xc,magicWandTool:m.uS,blurTool:m.cU,polygonTool:m.vj,cropTool:m.nk,sharpenTool:m.Fg,lineTool:m.PL,sliceTool:m.ds,smudgeTool:m.rJ,customShapeTool:m.EI,sliceSelectTool:m.Hq,dodgeTool:m.DH,spotHealingBrushTool:m.wO,burnInTool:m.EH,saturationTool:m.uo,penTool:m.zv,redEyeTool:m.i9,freeformPenTool:m.wT,rulerTool:m.pC,paintbrushTool:m.Yu,handTool:m.vA,pencilTool:m.sE,zoomTool:m.W9,objectSelectTool:m.ajZ,healingBrushTool:m.Z8,patchTool:m.lj,contentAwareMoveTool:m.Hi,colorReplacementBrushTool:m.kz,curvaturePenTool:m.abm,rotareViewTool:m.LT};
if(H=="Lyr"){var R=D.selectionModifier,z=R?R.v.selectionModifierType:null,G=cO.ic(b,g[0]);if(G==-1){alert("Layer "+g[0].v.val+" does not exist.");
return}S.data={d:$.OB,l:G,hV:z?["addToSelection","addToSelectionContinuous"].indexOf(z):null,zA:0}}else if(H=="Path"){if(g[0].v.keyID=="WrPt"){b.Me=[0];
b.Ca=b.a9=!0;return}else throw g[0]}else if(H=="Chnl"){S.data={d:$.OB,l:G,zA:1}}else if(H=="Dcmn"){if(Q.JN.length<2)return;
a.data={d:e.c.amD,dir:D.null.v[0].v.val}}else if(H=="Brsh"){var V=W.bY.list,y;for(var n=0;n<V.length;
n++){if(V[n].v.Nm.v==g[0].v.val)y=V[n].v}a.data={d:e.c.bJ,Lb:d4.FY,Z$:y}}else if(H=="Mn"){if(g[0].v.enum=="Scl")a.data={d:e.c.cf,b:m.YO,Eb:{BT:3}};
if(g[0].v.enum=="Plce")a.data={d:e.c.VX,agy:!0};if(g[0].v.enum=="ZmIn"){S.b=m.W9;S.data={d:"zoom",H3:!0}}if(g[0].v.enum=="ZmOt"){S.b=m.W9;
S.data={d:"zoom",H3:!1}}if(g[0].v.enum=="FtOn"){S.b=m.W9;S.data={d:"adapt",h:"fitscr"}}}else if(T[H]){a.data={d:e.c.cf,b:T[H]}}else throw H}else if(X=="draw"){S.b=m.RJ;
S.data={d:"fromAction",Jb:r}}else if((X=="set"||X=="reset"||X=="exchange")&&H=="Clr"){a.data={d:e.c.bJ,Lb:d4.dt,CZ:X=="reset"?3:2};
if(X=="set"){a.data.CZ=g[0].v.keyID=="FrgC"?0:1;var k=E.M.vf(D.T.v);a.data.h=k.o<<16|k.W<<8|k.k}}else if(X=="set"){if(H=="AdjL"){var B=D.T.v.classID;
B=bu.v_[B];S.b=m.G9;if(B)S.data={d:"edit_layer",h:D.T.v}}else if(H=="Lyr"){var v=D.T.v,G=cO.ic(b,g[0]);
for(var l in v){if(l=="classID")continue;S.b=m.M0;if(l=="Nm")S.data={d:$.rT,name:v.Nm.v};else if(l=="Opct")S.data={d:$.lo,g2:Math.round(v.Opct.v.val*255/100)};
else if(l=="fillOpacity")S.data={d:$.ql,g2:Math.round(v.fillOpacity.v.val*255/100)};else if(l=="Md")S.data={d:$.zq,g2:hG.it.indexOf(v.Md.v.BlnM)+(b.B[G].wf()?1:0)};
else if(l=="Usrs")S.data={d:$.eJ,l:G};else if(l=="Blnd"){S.b=m.Wg;S.data={d:"setstl",l:G,h:{blendOptions:{t:"objc",v:v}}};
Q.$(S);S.data={d:"confirm",l:G}}else if(l=="userMaskFeather"||l=="userMaskDensity"){var F=v.userMaskFeather,L=v.userMaskDensity,G=b.I[0],Z=b.B[G].YU(0);
if(F)Z.SL=F.v.val;if(L)Z.JM=L.v.val;S.data={d:$.sK,FL:G,D8:Z}}else if(l=="Clr"){var t=cO.xl(v);S.data={d:$.gT,ag$:t}}else if(l=="Lefx")cO.asn(Q,G,v.Lefx.v,W);
else{console.log(D);throw l}if(S.data){Q.$(S);delete S.data}}S.data={};var f=b.B[G];f.aal()}else if(H=="Prpr"){var v=JSON.parse(JSON.stringify(D.T.v)),G=cO.ic(b,D.null.v[1]),f=b.B[G],A=g[0].v.keyID;
if(A=="TxtS"||A=="paragraphStyle"){var o=f.add.TySh,O=JSON.parse(JSON.stringify(o.kN)),x=aH.Wc(O),C=aH.Z2(O,0,x.length-2);
if(A=="TxtS")aH.aw3(v,C);else aH.avm(v,C);aH.Yf(O,0,x.length-1,C);S.b=m.st;S.data={d:"newED",sm:G,Q6:O}}else if(A=="Lefx"){for(var J in v)if(v[J].v){if(J=="Scl")v[J].v.val=100}cO.asn(Q,G,v,W);
S.data={}}else throw A}else if(H=="contentLayer"){var G=cO.ic(b,g[0]),v=D.T.v;if(v.classID=="shapeStyle")v=v.FlCn.v;
var q={solidColorLayer:0,gradientLayer:1,patternLayer:2}[v.classID],fd=m.N9.f2(b,G),j=fd.pj==q+1?fd.P0:iq.$f[q];
j=JSON.parse(JSON.stringify(j));m.t6.cV(v,j,q);S.data={d:$.L3,Hg:[G],xK:!0,h:{pj:q+1,P0:j}}}else if(H=="Brsh"){var y=JSON.parse(JSON.stringify(W.bY.Mr)),w=D.T.v;
if(w.masterDiameter)y.Brsh.v.Dmtr.v.val=w.masterDiameter.v.val;else console.log("unknown brush parameters");
a.data={d:e.c.bJ,Lb:d4.FY,Z$:y}}else if(H=="Path"){S.b=m.RJ;S.data={d:"fromAction",Jb:r}}else{console.log(g[0],D);
throw H}}else if(X=="move"){if(H=="Lyr"){var v=D.T.v;if(v.classID=="Ofst"){S.data={d:"trsl",Rp:v.Hrzn.v.val,qh:v.Vrtc.v.val};
S.b=m.$t}else{var P,fc;if(v[0].t=="Enmr"){if(v[0].v.enum=="Frnt")fc=0;else if(v[0].v.enum=="Nxt")fc=1;
else if(v[0].v.enum=="Prvs")fc=2;else if(v[0].v.enum=="Back")fc=3;else throw"e"}else P=v[0].v.val;S.data={d:$.e9,target:P,CZ:fc,a2Z:D.Dplc?D.Dplc.v:!1}}}else if(H=="Chnl"&&g[0].v.keyID=="fsel"){S.b=m.iW;
S.data={d:"fromAction",Jb:r}}}else if(X=="groupEvent"||X=="ungroup")S.data={d:$.$u};else if(X=="show"||X=="hide"){var p=g[0].v;
for(var n=0;n<p.length;n++){var gG=p[n],H=gG.v.classID;if(H=="Lyr"){if(S.data==null)S.data={d:$.yu,Hg:[]};
var G=cO.ic(b,gG);if(G==-1)continue;var fh=b.B[G].cB();if(X=="show"&&fh||X=="hide"&&!fh)continue;S.data.Hg.push(G)}else if(H=="Chnl"){S.data={d:$.BC,CZ:"fromAction",h:r}}else if(H=="filterFX"){if(gG.v.val!=null)S.data={d:$.wy,index:gG.v.val-1};
S.data={d:$.AH}}}}else if(X=="rotateEventEnum"){S.b=m.nk;var fJ=D.Angl.v.val;S.data={d:"rot",Cv:[2,5],h:-fJ*Math.PI/180}}else if(X=="flip"){S.b=m.nk;
var cF=D.Axis.v.Ornt=="Hrzn",j_=cF?new cp(-1,1):new cp(1,-1);S.data={d:"scl",Cv:[[2,6],[22,4,cF?2:3]],h:j_}}else if(X=="transform"){var gY=1,kc=1,el=0,iN=0,c$=0,dB=0,aL=0;
if(D.Wdth)gY=D.Wdth.v.val/100;if(D.Hght)kc=D.Hght.v.val/100;if(D.Skew){var aB=D.Skew.v;el=aB.Hrzn.v.val;
iN=aB.Vrtc.v.val}if(D.Ofst){var f3=D.Ofst.v;dB=f3.Hrzn.v.val;aL=f3.Vrtc.v.val}if(D.Angl)c$=D.Angl.v.val;
var jC=new au;jC.concat(new au(gY,gY*Math.tan(iN*Math.PI/180),kc*Math.tan(el*Math.PI/180),kc,0,0));jC.rotate(-c$*Math.PI/180);
jC.translate(dB,aL);var bc={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3}[D.FTcs.v.QCSt];
if(bc==null)throw D.FTcs.v.QCSt;var g=D.null;if(g&&g.v instanceof Array)g=g.v[0];var G=g?cO.ic(b,g):null;
if(G==-1)G=null;S.b=g&&g.v.keyID=="fsel"?m.f8:m.YO;S.data={d:"mat",o1:bc,h:jC,vH:D.warp}}else if(X=="duplicate"){if(H=="Chnl")S.data={d:$.BC,CZ:"fromAction",h:r};
else S.data={d:$.fE,Ft:D.Nm?D.Nm.v:null}}else if(X=="delete"){if(H=="filterFX"){if(g[0].v.val!=null)S.data={d:$.Cp,JL:g[0].v.val-1};
else S.data={d:$.H$}}else if(H=="Path"){S.b=m.RJ;S.data={d:"pathedit",CZ:"del"}}else if(H=="Lyr")S.data={d:$.YL};
else if(H=="Chnl"&&g[0].v.enum=="Msk")S.data={d:$.bQ};else if(H=="Chnl")S.data={d:$.BC,CZ:"fromAction",h:r};
else throw H}else if(X=="align"){if(D.Aply&&D.Aply.v.projection=="Auto"){S.b=m.nk;S.data={d:"auto-align"}}else{S.b=m.$t;
var iA=D.Usng.v.ADSt,d={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[iA];if(d==null)throw iA;S.data={d:"algn",h:d}}}else if(X=="applyLocking"){var an=D.layerLocking.v,dp;
if(an.protectTransparency)dp=[[an.protectTransparency.v],[0]];else if(an.protectNone)dp=[[!1,!1,!1,!1],[0,1,2,31]];
else{console.log(an);throw"e"}S.data={d:$.Vi,g2:dp}}if(S.data)Q.$(S);else if(a.data)Q.$(a);else{console.log(r);
alert("Unknown action \""+X+"\"");throw"e"}};cO.asn=function(r,Q,W,b){W=JSON.parse(JSON.stringify(W));
bK.kc(W);if(W.masterFXSwitch==null)W.masterFXSwitch={t:"bool",v:!0};console.log(W);var X=iq.lY;for(var D=0;
D<X.length;D++)if(W[X[D]]){for(var n=0;n<W[X[D]].v.length;n++){var h=W[X[D]].v[n].v,S=h.TrnS;if(S==null)S=h.MpgS;
if(S&&S.v.Crv==null){var a=S.v,K=a.Nm.v.split("=").pop(),Y=b.yd;for(var d=0;d<Y.length;d++){var j=Y[d].Nm.v.split("=").pop();
if(j==K)a.Crv=JSON.parse(JSON.stringify(Y[d].Crv))}if(S.v.Crv==null){console.log(S);throw"e"}}}}var U=new km(e.E.s,!0);
U.b=m.Wg;U.data={d:"setstl",l:Q,h:{Lefx:{t:"objc",v:W}}};r.$(U);U.data={d:"confirm",l:Q};r.$(U)};cO.xl=function(r){var Q={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[r.Clr.v.Clr];
if(Q==null)throw r.Clr.v.Clr;return Q};cO.ic=function(r,Q){var W=1e6,b=0,X=r.B.length;for(var n=0;n<r.I.length;
n++){W=Math.min(W,r.I[n]);b=Math.max(b,r.I[n])}var D=Q.t,h=-1;if(D=="name"){var S=Q.v.val,h=-1;for(var n=0;
n<X;n++)if(r.B[n].getName()==S){h=n;break}}else if(D=="Enmr"){if(r.I.length!=0)h=r.I[0];if(Q.v.enum=="Frwr")h=b+1;
if(Q.v.enum=="Bckw")h=W-1;if(Q.v.enum=="Back")h=0;if(Q.v.enum=="Frnt")h=X-1;h=(h+X)%X}else if(D=="prop"){if(Q.v.keyID=="Bckg")h=0}return h};
var bu={};bu.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
bu.as7=["expA","clrL","selc"];bu.R_=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];bu.afF=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
bu._K=[[13,1,1],[13,1,4],[13,1,5]];bu._6={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
bu.v_=function(){var r=JSON.parse(JSON.stringify(bu._6));delete r.GrMp;r.GdMp="grdm";return r}();bu.Pr={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
bu.keys={levl:[h8.DS,h8.HN],curv:[h8.DS,h8.k4],hue2:[h8.DS,h8.Zv],nvrt:[h8.DS,h8.Kj],blnc:[h8.DS,h8.oU]};
bu.awD=function(r){var Q=jv.fp("mixr");Q.Mnch={t:"bool",v:r.Dx};function W(b,n){var X={classID:"ChMx"},D={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var h in D)X[h]={t:"UntF",v:{type:"#Prc",val:b[n+D[h]]}};return{t:"Objc",v:X}}if(r.Dx)Q.Gry=W(r.h,0);
else{Q.Rd=W(r.h,0);Q.Grn=W(r.h,5);Q.Bl=W(r.h,10)}return Q};bu.iI=function(r){function Q(b,X,n){var D={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var h in D)if(b[h])X[n+D[h]]=b[h].v.val}var W={Dx:!1,h:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(r.Mnch&&r.Mnch.v)W.Dx=!0;if(W.Dx)Q(r.Gry.v,W.h,0);else{Q(r.Rd.v,W.h,0);Q(r.Grn.v,W.h,5);Q(r.Bl.v,W.h,10)}return W};
bu.get=function(r){for(var Q in bu.names)if(r[Q]!=null)return Q;return null};bu.RP=function(r,Q){var W=bu.fa,b;
if(r=="brit"){var X=Q.Brgh?Q.Brgh.v:0,D=Q.Cntr?Q.Cntr.v:0,h=Q.useLegacy?Q.useLegacy.v:!1;if(h){var S=X/255,a=1+D/100;
if(a>1)a=1+Math.tan(Math.PI/2*D/101);var K=(1-a)/2,Y=E.B1.q0(S,S,S),d=[a,0,0,K,0,a,0,K,0,0,a,K,0,0,0,1],j=E.B1.multiply(Y,d),U=new E.yC(256);
for(var n=0;n<256;n++)U.o[n]=n;E.B1.transform(U,U,j);b={type:W.cn,mn:U.o,aE:U.o,_B:U.o,tR:!1,ee:!1}}else{var I=1024,f=-30+60*(D+100)/200,g=[];
for(var n=0;n<4;n++)g.push(E.FB.gt(n/3*255,n/3*255,!0));g[1].v.Hrzn.v=64;g[1].v.Vrtc.v=64-f;g[2].v.Hrzn.v=128+64;
g[2].v.Vrtc.v=128+64+f;g.sort(function(jN,cU){return jN.v.Hrzn.v-cU.v.Hrzn.v});var H=E.FB.ki(g,I);function u(jN,I){var g=[],fb=3;
for(var n=0;n<fb+1;n++)g.push(E.FB.gt(n/fb*255,n/fb*255,!0));g[1].v.Hrzn.v=130-jN*26;g[1].v.Vrtc.v=130+jN*51;
g[2].v.Hrzn.v=233-jN*48;g[2].v.Vrtc.v=233+jN*10;return E.FB.ki(g,I)}var s=u(Math.abs(X)/100,I);if(X<0){var _=[],i=1/I;
for(var n=0;n<I;n++){var M=n*i,T=n;while(s[T]>M&&T>1)T--;_[n]=T*i}s=_}var R=new Uint8Array(I);for(var n=0;
n<I;n++){var z=Math.round((I-1)*s[n]);R[n]=Math.round(255*H[z])}b={type:W.cn,mn:R,aE:R,_B:R,tR:!1,ee:!1}}}if(r=="levl"){var G=[],V,y,Y,k,B,v;
for(var n=0;n<4;n++)G.push(fB.S5(Q,n));V=-G[0][0]/255;y=1/(G[0][1]/255-G[0][0]/255);Y=E.B1.multiply(E.B1.lT(y,y,y),E.B1.q0(V,V,V));
k=E.B1.lT(1/(G[1][1]/255-G[1][0]/255),1/(G[2][1]/255-G[2][0]/255),1/(G[3][1]/255-G[3][0]/255));B=E.B1.q0(-G[1][0]/255,-G[2][0]/255,-G[3][0]/255);
v=E.B1.multiply(k,B);var R=new E.yC(256);for(var n=0;n<256;n++)R.o[n]=R.W[n]=R.k[n]=n;var l=1/(G[0][4]/100),F=1/(G[1][4]/100),L=1/(G[2][4]/100),Z=1/(G[3][4]/100);
E.B1.transform(R,R,v);for(var n=0;n<256;n++){R.o[n]=Math.round(Math.max(0,Math.min(255,255*Math.pow(R.o[n]/255,F))));
R.W[n]=Math.round(Math.max(0,Math.min(255,255*Math.pow(R.W[n]/255,L))));R.k[n]=Math.round(Math.max(0,Math.min(255,255*Math.pow(R.k[n]/255,Z))))}E.B1.transform(R,R,Y);
for(var n=0;n<256;n++){R.o[n]=Math.round(Math.max(0,Math.min(255,255*Math.pow(R.o[n]/255,l))));R.W[n]=Math.round(Math.max(0,Math.min(255,255*Math.pow(R.W[n]/255,l))));
R.k[n]=Math.round(Math.max(0,Math.min(255,255*Math.pow(R.k[n]/255,l))))}V=G[0][2]/255;y=G[0][3]/255-G[0][2]/255;
Y=E.B1.multiply(E.B1.q0(V,V,V),E.B1.lT(y,y,y));k=E.B1.lT(G[1][3]/255-G[1][2]/255,G[2][3]/255-G[2][2]/255,G[3][3]/255-G[3][2]/255);
B=E.B1.q0(G[1][2]/255,G[2][2]/255,G[3][2]/255);v=E.B1.multiply(B,k);E.B1.transform(R,R,E.B1.multiply(Y,v));
b={type:W.cn,mn:R.o,aE:R.W,_B:R.k,tR:!1,ee:!1}}if(r=="curv"){var t=f0.S5(Q,0).length==256?1:0,A=[];if(t==0){var o=E.FB.yO(f0.S5(Q,0),256);
for(var n=1;n<4;n++){var O=E.FB.yO(f0.S5(Q,n),256);A.push(E.FB.s8(O,o))}}else{var x=[];for(var n=0;n<4;
n++){var C=new Uint8Array(256);x.push(C);var J=f0.S5(Q,n);for(var T=0;T<256;T++)C[T]=J[T]}for(var n=1;
n<4;n++)A.push(E.FB.s8(x[n],x[0]))}b={type:W.cn,mn:A[0],aE:A[1],_B:A[2],tR:!1,ee:!1}}if(r=="expA"){var q=Q.Exps,fd=Q.Ofst,w=Q.gammaCorrection,P=q?q.v:0,fc=fd?fd.v:0,p=w?w.v:1,R=new Uint8Array(256);
for(var n=0;n<256;n++){var Q=n/255,gG=Math.pow(Math.abs(fc),1/(Math.PI/2));if(fc>0){Q=Math.max(fc/Math.E,Q);
Q=Q*Math.exp(fc/1.75+P/Math.PI);Q=(1-gG)*Q+gG*1}else{Q=Q*Math.exp(-fc*1.75+P/Math.PI);Q=Q+-gG*1.14}Q=Math.pow(Q,1/p);
Q=Math.max(0,Math.min(1,Q));R[n]=Math.round(Q*255)}b={type:W.cn,mn:R,aE:R,_B:R,tR:!1,ee:!1}}if(r=="vibA"){var fh=(Q.vibrance?Q.vibrance.v:0)/100,fJ=(Q.Strt?Q.Strt.v:0)/100,gG=1+fh*(fh>0?.25:.5),cF=.8+.2/gG;
b={type:W.qE,Lb:[fh,fJ,cF,gG]}}if(r=="hue2"){var j_=[],gY=[],kc=[],el=Q.Clrz?Q.Clrz.v:!1;for(var n=0;
n<256;n++){j_[n]=n/255;gY[n]=0;kc[n]=0}var iN=ku.S5(Q,0),c$=bu.u$(iN[1]/100);if(el){var dB=iN[0]/360;
for(var n=0;n<256;n++){j_[n]=dB;gY[n]=c$}}else{for(var n=0;n<256;n++){var aL=j_[n],aB=gY[n];j_[n]+=iN[0]/360;
for(var T=0;T<6;T++){var f3=ku.S5(Q,T+1),jC=f3.mv,bc=f3.o_,gG=0;for(var iA=1;iA<4;iA++)if(bc[iA]<bc[0])bc[iA]+=360;
var bL=bc[0],an=bc[1],dp=bc[2],im=bc[3],a5=aL*360;if(a5<bc[0])a5+=360;var bg=(a5-bL)/(an-bL),fM=(a5-dp)/(im-dp);
if(bg<0)gG=0;else if(bg<1)gG=bg;else if(fM<0)gG=1;else if(fM<1)gG=1-fM;else gG=0;var a=bu.u$(jC[1]/100);
j_[n]+=gG*jC[0]/360;gY[n]+=gG*a;kc[n]+=gG*jC[2]/100}}for(var n=0;n<256;n++){gY[n]=(1+gY[n])*(1+c$)-1;
kc[n]=Math.max(-1,Math.min(1,kc[n]))}}var eT=new Uint8Array(256),ev=new Uint8Array(256),fU=new Uint8Array(256);
for(var n=0;n<256;n++){var e8=j_[n],fJ=gY[n],ej=kc[n];if(e8>1)e8--;if(e8<0)e8++;fJ=bu.af$(fJ);fJ=(1+fJ)*.5;
ej=(1+ej)*.5;eT[n]=Math.round(255*e8);ev[n]=Math.round(255*fJ);fU[n]=Math.round(255*ej)}var fV=iN[2]/100,he=fV<0?-fV:fV,gZ=fV<0?0:1;
b={type:W.w$,aiT:eT,AD:ev,anx:fU,afy:he*gZ,TW:1-he,aib:iN[2]/100,aj4:el?1:0}}if(r=="nvrt"){var R=new Uint8Array(256);
for(var n=0;n<256;n++)R[n]=255-n;b={type:W.cn,mn:R,aE:R,_B:R,tR:!1,ee:!1}}if(r=="post"){var hQ=Q.Lvls.v,R=new Uint8Array(256),gG=hQ/255.001,aJ=255/(hQ-1);
for(var n=0;n<256;n++)R[n]=Math.floor(n*gG)*aJ;b={type:W.cn,mn:R,aE:R,_B:R,tR:!1,ee:!1}}if(r=="grdm"){var cs=Q.Grad.v,fN=Q.Rvrs,I=1024,j4;
if(cs.Clrs){var hL=E.M.c3(cs,0,0);j4=E.M.$D(cs,hL,I,fN?fN.v:!1)}else{j4=E.M.XK(cs,I,fN?fN.v:!1)}var fv=E.Q(I),al=E.Q(I),dD=E.Q(I);
E.TX(j4,fv,0);E.TX(j4,al,1);E.TX(j4,dD,2);b={type:W.cn,mn:fv,aE:al,_B:dD,tR:!0,ee:!1}}if(r=="selc"){var kd=new Float32Array(9*3*2),gv=Q.p1,j$=Q.Mthd?Q.Mthd.v.CrcM=="Absl":!1;
for(var T=0;T<9;T++){var i9=T*6,bv=b3.S5(Q,T),jk=bv[0]/100,cM=bv[1]/100,iW=bv[2]/100,ft=bv[3]/100;if(j$){kd[i9]=kd[i9+1]=kd[i9+2]=1;
kd[i9+3]=jk*(1+ft)+ft;kd[i9+4]=cM*(1+ft)+ft;kd[i9+5]=iW*(1+ft)+ft}else{kd[i9+0]=(1+jk)*(1+ft);kd[i9+1]=(1+cM)*(1+ft);
kd[i9+2]=(1+iW)*(1+ft)}}b={type:W.yy,a8C:kd}}if(r=="blwh"){var b0="Rd Yllw Grn Cyn Bl Mgnt".split(" "),b=[],bh=0,bM=0;
for(var n=0;n<6;n++)b.push(Q[b0[n]].v);b.push(Q.useTint.v,Q.tintColor.v);var ko=[];for(var n=0;n<6;n++)ko.push((b[n]-50)/50);
var co=E.M.vf(b[7]);co.o/=255;co.W/=255;co.k/=255;var gr=E.kd(co.o,co.W,co.k),ej=E.H7(E._0(gr.J9,1,.5)),ib=gr.Am*gr.UM;
if(ej==.5)bh=bM=.5;else{bh=ib*(.5-ej)/(.5/ej-1);bM=1-ib*(.5-ej)-1/(2*(1-ej));bM/=1-1/(2*(1-ej))}b={type:W.Ol,aqa:ko,Xt:b[6]?1:0,asA:gr.J9,H7:ej,aj5:ib,Py:bh,a1Y:bM}}if(r=="blnc"){var G=[],bR=["ShdL","MdtL","HghL"];
for(var n=0;n<3;n++){if(Q[bR[n]]==null){G[n]=[0,0,0];continue}var hQ=Q[bR[n]].v,c5=hQ[0].v/100,dE=hQ[1].v/100,ix=hQ[2].v/100,f2=Q.PrsL==null||Q.PrsL.v?(Math.min(c5,dE,ix)+Math.max(c5,dE,ix))/2:0;
G[n]=[c5-f2,dE-f2,ix-f2]}var A=[E.Q(256),E.Q(256),E.Q(256)];for(var T=0;T<3;T++)for(var n=0;n<256;n++){var M=n*(1/255),a$=0,f=0,fl=0;
f=G[2][T];fl=Math.abs(f);if(f<0)a$=Math.pow(M,Math.SQRT2);else a$=1.63*(Math.pow(M+.04,.5)-.2);M=fl*a$+(1-fl)*M;
f=G[1][T];fl=Math.abs(f);if(f<0)a$=Math.pow(M,2);else a$=Math.min(2.35*(Math.pow(M+.09,.5)-.3),Math.pow(M,1/2));
M=fl*a$+(1-fl)*M;f=G[0][T];fl=Math.abs(f);if(f<0)a$=M<.4?0:Math.pow((M-.4)/.6,Math.SQRT2);else a$=Math.pow(M,Math.SQRT2/2);
M=fl*a$+(1-fl)*M;M=Math.max(0,Math.min(1,M));A[T][n]=Math.round(M*255)}b={type:W.cn,mn:A[0],aE:A[1],_B:A[2],tR:!1,ee:!1}}if(r=="phfl"){var cW=E.M.vf(Q.Clr.v),i7=[cW.o/255,cW.W/255,cW.k/255],fA=Q.Dnst.v/100,A=[E.Q(256),E.Q(256),E.Q(256)];
for(var T=0;T<3;T++)for(var n=0;n<256;n++){var M=n*(1/255),iG=M*i7[T];iG=Math.max(0,Math.min(1,iG));
M=fA*iG+(1-fA)*M;A[T][n]=Math.round(M*255)}b={type:W.cn,mn:A[0],aE:A[1],_B:A[2],tR:!1,ee:Q.PrsL.v}}if(r=="thrs"){var R=E.Q(256);
for(var n=Q.Lvl.v;n<256;n++)R[n]=255;b={type:W.cn,mn:R,aE:R,_B:R,tR:!0,ee:!1}}if(r=="mixr"){var i$=bu.iI(Q),j=[];
for(var n=0;n<i$.h.length;n++)if(n%5!=3)j.push(i$.h[n]/100);if(i$.Dx){for(var ic=1;ic<3;ic++)for(var M=0;
M<4;M++)j[ic*4+M]=j[M]}b={type:W.k3,Le:j}}if(r=="rplc"){var e4=Q.Mnm.v,kt=Q.Mxm.v;b={type:W.xj,zf:[e4.Lmnc.v,e4.A.v,e4.B.v],d7:[kt.Lmnc.v,kt.A.v,kt.B.v],shift:[Q.H.v/360,Q.Strt.v/100,Q.Lght.v/100],Ns:Q.Fzns.v/150}}if(r=="clrL"&&Q.profile){var jn=new Uint8Array(Q.profile.v),ah=ICC.R(jn.buffer),h6=[],br=17,h6=ICC.U.sampleLUT(ah,br);
b={type:W.Dd,v9:ICC.U.rgba8LUT(h6,br),a7D:h6,H9:br}}return b};bu.ZC=function(r,Q){var W=-1;if(r!="levl"||Q==null)W=-1;
else if(Q.Auto)W=0;else if(Q.AuCo)W=1;else if(Q.autoBlackWhite)W=2;return W};bu.fa={cn:0,w$:1,qE:2,yy:3,Ol:4,k3:5,xj:6,Dd:7};
bu.u$=function(r){if(r<0)return r;return Math.pow(Math.tan(Math.PI/2*r),1.3)};bu.af$=function(r){if(r<0)return r;
r=Math.pow(r,1/1.3);return Math.atan2(r,1)/(Math.PI/2)};bu.EW=function(r,Q,W,b){var X=bu.fa,D=Date.now();
if(gn.Kz&&b.O()>300*300&&r.type!=X.cn&&r.type!=X.Dd){b=b.clone();b.x=b.y=0;var h=gn.Y9(0,b.e,b.n);h.set(Q);
gn._h(h,b);h.x7(b);bu.CJ(r,h.mr,b);h.get(W);return}if(r.type==X.Dd){var S=r.a7D,a=r.H9;ICC.U.applyLUT(S,a,Q,W);
var K=Q.length;for(var n=0;n<K;n+=4)W[n+3]=Q[n+3]}if(r.type==X.k3)E.B1.Lw(Q,W,r.Le);if(r.type==X.Ol){var Y=r.aj5,d=r.H7,j=r.Py,U=r.a1Y,K=Q.length;
for(var n=0;n<K;n+=4){var b=Q[n]*(1/255),I=Q[n+1]*(1/255),f=Q[n+2]*(1/255),g=E.jh(b,I,f),H=0;for(var u=0;
u<6;u++)H+=Math.min(1,1.7*(1-g.qC))*g.Am*r.aqa[u]*bu.agg(g.J9,u*(1/6));var s=Math.max(0,Math.min(1,g.qC*(1+H)));
if(r.Xt==1){var _=0;if(s<j)_=s*(.5/d);else if(s<U)_=s+Y*(.5-d);else _=1-(1-s)*.5/(1-d);g.J9=r.asA;g.Am=Math.min(1,Y+3*Y*Math.abs(s-.5*(j+U)));
g.qC=_}else{g.J9=0;g.Am=0;g.qC=s}var i=E._0(g.J9,g.Am,g.qC);W[n]=Math.round(i.o*255);W[n+1]=Math.round(i.W*255);
W[n+2]=Math.round(i.k*255)}}if(r.type==X.yy){var M=r.a8C,K=Q.length,T=1/255;for(var n=0;n<K;n+=4){var b=Q[n]*T,I=Q[n+1]*T,f=Q[n+2]*T,g=E.jh(b,I,f),R=Math.max(b,Math.max(I,f)),z=Math.min(b,Math.min(I,f)),G=1-b,V=1-I,y=1-f,k=0,B=0,v=0;
for(var u=0;u<9;u++){var l=u*6,t=0;if(M[l]==1&&M[l+1]==1&&M[l+2]==1&&M[l+3]==0&&M[l+4]==0&&M[l+5]==0)continue;
var F=G*M[l]+M[l+3],L=V*M[l+1]+M[l+4],Z=y*M[l+2]+M[l+5];if(u<6)t=bu.agg(g.J9,u*(1/6))*g.Am*2*Math.min(g.qC,1-g.qC);
else if(u==6)t=Math.max(0,z-.5)*2;else if(u==7)t=1-(Math.abs(R-.5)+Math.abs(z-.5));else t=Math.max(0,.5-R)*2;
k+=(Math.max(0,Math.min(1,F))-G)*t;B+=(Math.max(0,Math.min(1,L))-V)*t;v+=(Math.max(0,Math.min(1,Z))-y)*t}G=Math.max(0,Math.min(1,G+k));
V=Math.max(0,Math.min(1,V+B));y=Math.max(0,Math.min(1,y+v));b=1-G;I=1-V;f=1-y;W[n]=Math.round(b*255);
W[n+1]=Math.round(I*255);W[n+2]=Math.round(f*255)}}if(r.type==X.cn){E.abr(Q,W,r.mn,r.aE,r._B,r.tR,r.ee)}if(r.type==X.w$){var A=new Uint32Array(Q.buffer),o=new Uint32Array(W.buffer),K=A.length;
if(bu.Tt==null){bu.Tt=new Float64Array(256);for(var n=0;n<256;n++)bu.Tt[n]=bu.u$(-1+2*n/255)}var O=bu.Tt;
for(var n=0;n<K;n++){var x=A[n],b=(x&255)*(1/255),I=(x>>>8&255)*(1/255),f=(x>>>16&255)*(1/255),C=x>>>24,J=Math.min(b,I,f),q=Math.max(b,I,f),fd=0,w=0,P=0;
fd=E.jh(b,I,f).J9;var fc=~~(fd*255+.5),p=r.aiT[fc]*(1/255),gG=r.AD[fc]*(1/255)*2-1,fh=r.anx[fc]*(1/255)*2-1,H=-fh,fJ=J;
if(0<fh){H=fh;fJ=q}var cF=r.afy+r.TW*H*fJ,j_=r.TW*(1-H);b=cF+j_*b;I=cF+j_*I;f=cF+j_*f;q=Math.max(b,I,f);
J=Math.min(b,I,f);P=(q+J)*.5;if(q!=J){var gY=q-J;w=P>.5?gY/(2-(q+J)):gY/(q+J)}var kc=gG;if(r.aj4==0){gG=O[Math.floor((1+gG)*127.5)];
kc=Math.min(w*(1+gG),1)}var i=E._0(p,kc,P);b=i.o;I=i.W;f=i.k;o[n]=C<<24|f*255<<16|I*255<<8|b*255}}if(r.type==X.xj){E.qr(Q,W);
var A=new Uint32Array(Q.buffer),o=new Uint32Array(W.buffer),K=A.length,el=r.Ns,iN=1/el,c$={HN:r.zf[0],mu:r.zf[1],k:r.zf[2]},dB={HN:r.d7[0],mu:r.d7[1],k:r.d7[2]};
for(var n=0;n<K;n++){var x=A[n],aL=x&255,aB=x>>>8&255,f3=x>>>16&255,b=aL*(1/255),I=aB*(1/255),f=f3*(1/255),C=x>>>24,jC=E.lP(aL,aB,f3),bc=E.QY(jC,c$,dB,el,iN);
if(bc==0)continue;var g=E.jh(b,I,f),p=2+g.J9+r.shift[0];g.J9=p-~~p;g.Am=Math.max(0,Math.min(1,g.Am+r.shift[1]));
g.qC=Math.max(0,Math.min(1,g.qC+r.shift[2]));var i=E._0(g.J9,g.Am,g.qC);b=(1-bc)*b+bc*i.o;I=(1-bc)*I+bc*i.W;
f=(1-bc)*f+bc*i.k;o[n]=C<<24|f*255<<16|I*255<<8|b*255}}if(r.type==X.qE){var A=new Uint32Array(Q.buffer),o=new Uint32Array(W.buffer),K=A.length,iA=r.Lb[0],bL=r.Lb[1],an=r.Lb[2],H=r.Lb[3],dp=E.B1.uP([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),im=E.B1.j4(dp),a5=2.4;
function a(fU){return Math.max(0,Math.min(1,fU))}function bg(fU){return Math.pow(fU,a5)}function fM(fU){return Math.pow(fU,1/a5)}function eT(b,I,f,fU){b=bg(b);
I=bg(I);f=bg(f);var e8=E.B1.lK(dp,[b,I,f,1]);e8[0]*=an;e8[1]*=H;e8[2]*=H;var i=E.B1.lK(im,e8);i[0]=fM(a(i[0]));
i[1]=fM(a(i[1]));i[2]=fM(a(i[2]));return i}for(var n=0;n<K;n++){var x=A[n],b=(x&255)*(1/255),I=(x>>>8&255)*(1/255),f=(x>>>16&255)*(1/255),C=x>>>24,i=eT(b,I,f,iA);
b=i[0];I=i[1];f=i[2];var ev=E.jh(b,I,f);ev.Am=Math.max(0,Math.min(1,ev.Am*(1+bL)));i=E._0(ev.J9,ev.Am,ev.qC);
b=i.o;I=i.W;f=i.k;o[n]=C<<24|f*255<<16|I*255<<8|b*255}}};bu.CJ=function(r,Q,W){gn.cM.CJ(r,Q)};bu.agg=function(r,Q){var W=E._5(Q,r)*6;
return Math.max(0,Math.min(1,W<0?1+W:1-W))};var jv={};jv.hn=function(r){var Q=r.filterID.v;return Q>16777215?c.ahe(Q):r.Fltr.v.classID};
jv.bD=[{P0:"GEfc"},{P0:"LnCr"},{P0:"Adobe Camera Raw Filter"},{P0:"LqFy",Xe:!0},{VZ:"3D",dZ:["lightFilterGradient","Dila"]},{VZ:[24,2],dZ:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{VZ:[24,4],dZ:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{VZ:[24,6],dZ:["AdNs","Dspc","DstS","Mdn ","denoise"]},{VZ:[24,8],dZ:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{VZ:[24,10],dZ:["Flam","Clds","DfrC","Fbrs","LnsF"]},{VZ:[24,12],dZ:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{VZ:[24,14],dZ:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{VZ:[24,16],dZ:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{VZ:"Fourier",dZ:["dDFT","iDFT"]}];
jv.Pr={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"",Frgm:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Flam:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",FndE:"findEdges",oilPaint:"oilPaint","Adobe Camera Raw Filter":"Adobe Camera Raw Filter",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
jv.h4={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM",Wave:"Wave",BrightnessContrast:"brit"};
jv.a={rigidTransform:m.WP};jv.names={lightFilterGradient:[24,17,8],rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:[24,5,7],Kale:[24,5,8],AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:[24,7,4],ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Flam:[24,11,3],Fbrs:[24,11,4],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:[24,15,5],TrcC:[24,15,6],"Wnd ":[24,15,7],HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:[24,17,6],Dthr:[12,23,3],Part:[24,17,7],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:"Defringe",Dila:"Texture Dilation",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]],"Adobe Camera Raw Filter":"Camera Raw"};
jv.fp=function(r){var Q=null;if(r=="GEfc")Q={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:jA.fp("GlwE")}]}};
if(r=="LqFy"){var W={Dr:5,J9:5,map:new Float32Array(5*5*2)},b=new Uint8Array(jd.T4(W)),X=[];for(var n=0;
n<b.length;n++)X.push(b[n]);Q={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:X}}}if(r=="rigidTransform"){Q={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(r=="LnCr")Q={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(r=="adaptCorrect")Q={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(r=="Dfs ")Q={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(r=="Fbrs")Q={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(r=="Embs")Q={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(r=="oilPaint")Q={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(r=="TrcC")Q={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(r=="Wnd ")Q={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(r=="lightFilterGradient")Q={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(r=="boxblur")Q={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(r=="GsnB")Q={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(r=="Bokh")Q={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(r=="MtnB")Q={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(r=="RdlB")Q={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(r=="surfaceBlur")Q={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(r=="denoise")Q={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(r=="Dspl")Q={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(r=="Pnch")Q={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(r=="Plr ")Q={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(r=="Rple")Q={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(r=="Shr ")Q={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(r=="Sphr")Q={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(r=="Twrl")Q={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(r=="Wave")Q={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(r=="ZgZg")Q={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(r=="AdNs")Q={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(r=="DstS")Q={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(r=="Mdn ")Q={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(r=="ClrH")Q={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(r=="Crst")Q={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(r=="Mztn")Q={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(r=="Msc ")Q={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(r=="Pntl")Q={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(r=="LnsF")Q={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(r=="Dthr")Q={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0}};if(r=="Part")Q={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(r=="Adobe Camera Raw Filter")Q={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(r=="smartSharpen")Q={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(r=="UnsM")Q={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(r=="HghP")Q={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(r=="HsbP")Q={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(r=="Mxm ")Q={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(r=="Mnm ")Q={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(r=="Ofst")Q={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(r=="Kale")Q={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(r=="Rept")Q={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(r=="Flam")Q={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(r=="Ctoa")Q={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(r=="brit")Q={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(r=="levl")Q={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(r=="curv")Q={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(r=="expA")Q={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(r=="vibA")Q={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(r=="hue2")Q={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(r=="blnc")Q={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(r=="blwh")Q={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(r=="phfl")Q={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(r=="grdm")Q={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(iq.WS[6]).Grad};
if(r=="selc")Q={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(r=="thrs")Q={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(r=="mixr")Q={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(r=="clrL")Q={__name:"Color Lookup",classID:"colorLookup"};if(r=="post")Q={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(r=="rplc")Q={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(r=="fade")Q={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(r=="aply")Q={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(r=="matc"){Q={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(r=="Dila")Q={__name:"Texture Dilation",classID:"Dila",Crop:{t:"UntF",v:{type:"#Pxl",val:0}},Rds:{t:"UntF",v:{type:"#Pxl",val:10}}};
if(r=="blendOptions")Q={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return Q};jv.lN={sFlam:function(r,Q){Q[0]=r.Type.v;Q[1]=r.Leng.v;Q[2]=r.RndL.v;Q[3]=r.Widt.v;Q[4]=r.Angl.v;
Q[5]=r.Intr.v;Q[6]=r.Adpt.v;Q[7]=r.Clr.v;Q[8]=r.Qual.v;Q[9]=r.Turb.v;Q[10]=r.Jag.v;Q[11]=r.Opct.v.val;
Q[12]=r.Lins.v;Q[13]=r.Botm.v;Q[14]=r.Styl.v;Q[15]=r.Shap.v;Q[16]=r.RnSh.v;Q[17]=r.Arng.v},gFlam:function(r,Q){r.Type.v=Q[0];
r.Leng.v=Q[1];r.RndL.v=Q[2];r.Widt.v=Q[3];r.Angl.v=Q[4];r.Intr.v=Q[5];r.Adpt.v=Q[6];r.Clr.v=Q[7];r.Qual.v=Q[8];
r.Turb.v=Q[9];r.Jag.v=Q[10];r.Opct.v.val=Q[11];r.Lins.v=Q[12];r.Botm.v=Q[13];r.Styl.v=Q[14];r.Shap.v=Q[15];
r.RnSh.v=Q[16];r.Arng.v=Q[17]},sAdNs:function(r,Q){Q[0]=r.Nose.v.val;Q[1]=["Gsn","Unfr"].indexOf(r.Dstr.v.Dstr);
Q[2]=r.Mnch.v},gAdNs:function(r,Q){r.Nose.v.val=Q[0];r.Dstr.v.Dstr=["Gsn","Unfr"][Q[1]];r.Mnch.v=Q[2]},sDstS:function(r,Q){Q[0]=r.Rds.v;
Q[1]=r.Thsh.v},gDstS:function(r,Q){r.Rds.v=Q[0];r.Thsh.v=Q[1]},sGsnB:function(r,Q){Q[0]=r.Rds.v.val},gGsnB:function(r,Q){r.Rds.v.val=Q[0]},sDila:function(r,Q){Q[0]=r.Crop.v.val;
Q[1]=r.Rds.v.val},gDila:function(r,Q){r.Crop.v.val=Q[0];r.Rds.v.val=Q[1]},sHghP:function(r,Q){Q[0]=r.Rds.v.val},gHghP:function(r,Q){r.Rds.v.val=Q[0]},sHsbP:function(r,Q){var W=["RGBC","HSBl","HSLC"];
Q[0]=W.indexOf(r.Inpt.v.ClrS);Q[1]=W.indexOf(r.Otpt.v.ClrS)},gHsbP:function(r,Q){var W=["RGBC","HSBl","HSLC"];
r.Inpt.v.ClrS=W[Q[0]];r.Otpt.v.ClrS=W[Q[1]]},"sMxm ":function(r,Q){var W="preserveShape";Q[0]=r.Rds.v.val;
Q[1]=r[W]?["squareness","Rndn"].indexOf(r[W].v[W]):0},"gMxm ":function(r,Q){var W="preserveShape";r.Rds.v.val=Q[0];
r[W]={t:"enum",v:{preserveShape:["squareness","Rndn"][Q[1]]}}},"sMnm ":function(r,Q){var W="preserveShape";
Q[0]=r.Rds.v.val;Q[1]=r[W]?["squareness","Rndn"].indexOf(r[W].v[W]):0},"gMnm ":function(r,Q){var W="preserveShape";
r.Rds.v.val=Q[0];r[W]={t:"enum",v:{preserveShape:["squareness","Rndn"][Q[1]]}}},sMtnB:function(r,Q){Q[0]=[r.Angl.v];
Q[1]=r.Dstn.v.val;console.log(Q)},gMtnB:function(r,Q){r.Angl.v=typeof Q[0]=="number"?Q[0]:Q[0][0];r.Dstn.v.val=Q[1]},sOfst:function(r,Q){Q[0]=r.Hrzn.v;
Q[1]=r.Vrtc.v;Q[2]=["Rpt","Bckg","Wrp"].indexOf(r.Fl.v.FlMd)},gOfst:function(r,Q){r.Hrzn.v=Q[0];r.Vrtc.v=Q[1];
r.Fl.v.FlMd=["Rpt","Bckg","Wrp"][Q[2]]},sPnch:function(r,Q){Q[0]=r.Amnt.v},gPnch:function(r,Q){r.Amnt.v=Q[0]},"sPlr ":function(r,Q){Q[0]=["RctP","PlrR"].indexOf(r.Cnvr.v.Cnvr)},"gPlr ":function(r,Q){r.Cnvr.v.Cnvr=["RctP","PlrR"][Q[0]]},sRple:function(r,Q){Q[0]=r.Amnt.v;
Q[1]=["Sml","Mdm","Lrg"].indexOf(r.RplS.v.RplS)},gRple:function(r,Q){r.Amnt.v=Q[0];r.RplS.v.RplS=["Sml","Mdm","Lrg"][Q[1]]},sTwrl:function(r,Q){Q[0]=r.Angl.v},gTwrl:function(r,Q){r.Angl.v=Q[0]},sZgZg:function(r,Q){Q[0]=r.Amnt.v;
Q[1]=r.NmbR.v;Q[2]=["ArnC","OtFr","PndR"].indexOf(r.ZZTy.v.ZZTy)},gZgZg:function(r,Q){r.Amnt.v=Q[0];
r.NmbR.v=Q[1];r.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][Q[2]]},sUnsM:function(r,Q){Q[0]=r.Amnt.v.val;Q[1]=r.Rds.v.val;
Q[2]=r.Thsh.v},gUnsM:function(r,Q){r.Amnt.v.val=Q[0];r.Rds.v.val=Q[1];r.Thsh.v=Q[2]},sWave:function(r,Q){Q[0]=r.NmbG.v;
Q[1]=r.WLMn.v;Q[2]=r.WLMx.v;Q[3]=r.AmMn.v;Q[4]=r.AmMx.v;Q[5]=r.SclH.v;Q[6]=r.SclV.v;Q[7]=["WvSn","WvTr","WvSq"].indexOf(r.Wvtp.v.Wvtp);
Q[8]=["WrpA","RptE"].indexOf(r.UndA.v.UndA);Q[9]=r.RndS.v},gWave:function(r,Q){r.NmbG.v=Q[0];r.WLMn.v=Q[1];
r.WLMx.v=Q[2];r.AmMn.v=Q[3];r.AmMx.v=Q[4];r.SclH.v=Q[5];r.SclV.v=Q[6];r.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][Q[7]];
r.UndA.v.UndA=["WrpA","RptE"][Q[8]];if(Q[9]!=null){var W=parseInt(Q[9]);if(isNaN(W))W=248325464;W=Math.max(0,Math.min(268435455,W));
r.RndS.v=W}},sbrit:function(r,Q){Q[0]=r.Brgh?r.Brgh.v:0;Q[1]=r.Cntr?r.Cntr.v:0;Q[2]=r.useLegacy?r.useLegacy.v:!1},gbrit:function(r,Q){r.Brgh.v=Q[0];
r.Cntr.v=Q[1];if(Q[2]!=null)r.useLegacy.v=Q[2]}};jv.alw=function(r){var Q=new cp(0,0);if(r.enab.v==!1)return Q;
var W=r.filterFXList.v;for(var n=0;n<W.length;n++){var b=W[n].v;if(b.enab.v==!1)continue;var X=jv.hn(b),D=jv.U3(X,b.Fltr?b.Fltr.v:null);
if(D.x>Q.x)Q.x=D.x;if(D.y>Q.y)Q.y=D.y}return Q};jv.U3=function(r,Q){var W=0,b=0;if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(r)!=-1){var X=Q.Rds?Q.Rds.v.val:1;
W=b=X*2.57}if(r=="MtnB")W=b=Q.Dstn.v.val;if("Dila,Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(r)!=-1){W=b=1e4}if(r=="GEfc")return jA.U3(Q);
return new cp(Math.ceil(W),Math.ceil(b))};jv.qQ=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
jv.gj=function(r,Q){var W={o:Q.V8>>16,W:Q.V8>>8&255,k:Q.V8&255},b={o:Q.tB>>16,W:Q.tB>>8&255,k:Q.tB&255},X=jv.names[r];
if(X==null)X=bu.names[r];var D=r;for(var h in bu._6)if(bu._6[h]==r)D=h;var S={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:aA.get(X)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:E.M.rY(W)},BckC:{t:"Objc",v:E.M.rY(b)},filterID:{t:"long",v:D.length==4?c.acg(D):777}}},a=jv.fp(r);
if(a)S.v.Fltr={t:"Objc",v:a};return S};jv.rG=function(r,Q,W,b){var X=Date.now(),D=gn.Kz&&Math.max(b.e,b.n)<=gn.hA.getParameter(gn.hA.MAX_TEXTURE_SIZE);
if(r<1){var h=Math.round(r*5),S=[1,2,1,2,[40,26,13,6,4,2][h],2,1,2,1];S=E.Nm.N8(S);if(!D){E.oL(W);var a=W.slice(0);
E.Nm.mT(a,W,b.e,b.n,S,255);E.IQ(W)}else{var K=b.e,Y=b.n,d=gn.Y9(0,K,Y);d.set(W);var j=gn.Y9(1,K,Y),U=new Float32Array([1/K,1/Y]);
gn._h(j);gn.filter.CJ({type:gn.filter.a7O,yg:U,apA:new Float32Array(S)},d.G6);j.get(W)}}else{var I=Q==E.Cb.dH?0:Q==E.Cb.d_?1:2,f=[];
while(I!=2&&r*[1,2.4][I]>20&&f.length<4){var g=E.mJ(W,b);f.push(W,b);W=g.NP;b=g.rect;r/=2}var K=b.e,Y=b.n;
if(!D||I==2&&r>15){E.oL(W);Q(W,b,r);E.IQ(W)}else{var d=gn.Y9(0,K,Y);d.set(W);var j=gn.Y9(1,K,Y),U=new Float32Array([1/K,1/Y]);
if(I==0){var H=1;while(H<r)H<<=1;gn._h(j);gn.filter.CJ({type:gn.filter.cU,yg:U,JF:r,Eb:[0,0,H]},d.G6);
gn._h(d);gn.filter.CJ({type:gn.filter.cU,yg:U,JF:r,Eb:[0,1,H]},j.G6);d.get(W)}else if(I==1){var u=3,s=E.Cb.VH(r,u);
for(var n=0;n<u;n++){var _=s[n]>>>1,i=1;while(i<_)i<<=1;if(_==0)continue;gn._h(j);gn.filter.CJ({type:gn.filter.cU,yg:U,JF:_,Eb:[0,0,i]},d.G6);
gn._h(d);gn.filter.CJ({type:gn.filter.cU,yg:U,JF:_,Eb:[0,1,i]},j.G6)}d.get(W)}else{var H=1;while(H<r)H<<=1;
gn._h(j);gn.filter.CJ({type:gn.filter.cU,yg:U,JF:r,Eb:[0,0,H]},d.G6);j.get(W)}}var M=Date.now();while(f.length!=0){var T=f.pop(),R=f.pop();
E.scale.ahq(W,b.e,b.n,R,T.e,T.n);W=R;b=T}}};jv.ay1=function(r,Q,W,b){for(var n=0;n<r.length;n++){W[n]=r[n]*(1/255);
b[n]=0}FFT.fft2d(W,b);var X=Q>>>1,D=16384,h=128,a=100;while(h<Q){h<<=1;D<<=2}var S=255/Math.log(D),K=-100;
for(var Y=0;Y<Q;Y++)for(var d=0;d<X;d++){var j=Q+X+Y&Q-1,U=W[j*Q+d],I=b[j*Q+d],f=Math.sqrt(U*U+I*I),g=Math.atan2(I,U);
r[Y*Q+d]=Math.round(S*Math.log(f+1));r[Y*Q+X+d]=Math.round((Math.PI+g)*(255*.5/Math.PI))}};jv.ajX=function(r,Q,W,b){W.fill(0);
b.fill(0);var X=Q>>>1,D=16384,h=128;while(h<Q){h<<=1;D<<=2}var S=255/Math.log(D),a=[],K=[],Y=[];for(var n=0;
n<256;n++){a[n]=Math.exp(n/S)-1;var d=n*(2*Math.PI/255)-Math.PI;K[n]=Math.sin(d);Y[n]=Math.cos(d)}for(var j=0;
j<Q;j++)for(var U=0;U<X;U++){var I=Q+X+j&Q-1,f=a[r[j*Q+U]],d=r[j*Q+X+U],g=f*Y[d],H=f*K[d];W[I*Q+U]=g;
b[I*Q+U]=H;if(U!=0){var u=I==0?I*Q+Q-U:(Q-I)*Q+(Q-U);W[u]=g;b[u]=-H}}FFT.ifft2d(W,b);for(var n=0;n<r.length;
n++){r[n]=Math.max(0,Math.min(255,~~(.5+255*W[n])))}};jv.apR=new ArrayBuffer(512);jv.apF=function(r){var Q=jv.apR,W=r.length;
if(Q.byteLength<W)jv.apR=Q=new ArrayBuffer(W);var b=new Uint8Array(Q);for(var n=0;n<W;n+=4){b[n]=r[n];
b[n+1]=r[n+1];b[n+2]=r[n+2];b[n+3]=r[n+3]}return Q};jv.EW=function(r,Q,W,b,X,D,h){if(D==null)D={buffer:E.Q(Q.buffer.length),rect:Q.rect.clone()};
D.buffer.set(Q.buffer);var S=W&&W.RndS?W.RndS.v>>>1:0;if(r=="GEfc"){var a=[];if(W.GEfs){var K=W.GEfs.v;
for(var n=0;n<K.length;n++){var Y=K[n].v;if(Y.GELv&&Y.GELv.v==!1)continue;a.push(Y)}}else a=[W];for(var n=0;
n<a.length;n++){var d;if(n==0)jA.EW(r,Q,a[n],b,X,D,h);else{if(d==null)d={buffer:E.Q(Q.buffer.length),rect:Q.rect.clone()};
E.qr(D.buffer,d.buffer);jA.EW(r,d,a[n],b,X,D,h)}}}if(r=="Dila"){var j=W.Crop.v.val,U=W.Rds.v.val+j;U=U*U;
if(U==0)return;var I=Q.rect,f=I.e,g=I.n,H=f*g,u=Q.buffer,d=D.buffer,s=E.Q(H);E.TX(u,s,3);if(j!=0){var _=I.clone();
_.sg(1,1);var i=E.Q(_.O());E.L0(s,I,i,_);E.j4(i);E.style.stroke(i,i,_,j);E.j4(i);E.L0(i,_,s,I)}var M=E.style.tO(s,f,g);
d.fill(0);for(var T=0;T<g;T++)for(var R=0;R<f;R++){var n=T*f+R,z=n<<1,G=n<<2,V=M[z],y=M[z+1];if(V*V+y*y<U){var k=(T+y)*f+(R+V)<<2;
d[G]=u[k];d[G+1]=u[k+1];d[G+2]=u[k+2];d[G+3]=255}}}if(r=="Adobe Camera Raw Filter"){var I=Q.rect,f=I.e,g=I.n,H=f*g,B=H*4,v=H*3,l=new Float32Array(f*g*3),F=Q.buffer;
for(var n=0;n<H;n++){var L=n*3,G=n*4;l[L]=F[G]*(1/255);l[L+1]=F[G+1]*(1/255);l[L+2]=F[G+2]*(1/255)}var Z=JSON.parse(JSON.stringify(W));
delete Z.Upri;delete Z.GuUr;var t=l.slice(0);fs(l,f,g,t,Z);l=t;F=D.buffer;for(var n=0;n<H;n++){var L=n*3,G=n*4;
F[G]=255*Math.max(0,Math.min(1,l[L]));F[G+1]=255*Math.max(0,Math.min(1,l[L+1]));F[G+2]=255*Math.max(0,Math.min(1,l[L+2]))}}if(r=="Fct "){var I=Q.rect,f=I.e,g=I.n,H=f*g,B=H*4;
function A(jQ){var im=jQ.slice(0);for(var T=0;T<3;T++)for(var R=0;R<3;R++)im[T*3+R]=jQ[(2-R)*3+T];return im}function o(jX,fi,ae,j0){var hh=0;
for(var T=0;T<3;T++)for(var R=0;R<3;R++)hh+=fi[T*3+R]*jX[(j0-1+T)*f+ae-1+R];return hh}var O=[8,5,2,5,2,-1,2,-1,-4],x=[5,5,5,2,2,2,-1,-1,-1],C=[2,2,2,2,2,2,2,2,2],J=[];
J.push(O);for(var n=0;n<3;n++)J.push(A(J[J.length-1]));J.push(x);for(var n=0;n<3;n++)J.push(A(J[J.length-1]));
J.push(C);for(var n=0;n<9;n++)J[n]=E.Nm.N8(J[n]);var q=[-f-1,-f,-f+1,-1,0,1,f-1,f,f+1],fd=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],w=E.Q(H),P=new Float32Array(H),t=E.Q(H);
for(var fc=0;fc<3;fc++){E.TX(Q.buffer,w,fc);for(var p=0;p<1;p++){for(var T=1;T<g-1;T++)for(var R=1;R<f-1;
R++){var gG=T*f+R,fh=w[gG];P[gG]=1e9;for(var n=0;n<9;n++){var fJ=o(w,J[n],R,T),cF=(fJ-fh)*(fJ-fh);if(cF<P[gG])P[gG]=cF}}for(var T=1;
T<g-1;T++)for(var R=1;R<f-1;R++){var j_=0,gY=1e9;for(var n=0;n<9;n++){var kc=T*f+R+q[n],cF=P[kc];if(cF<gY){gY=cF;
j_=w[kc]}}t[T*f+R]=j_}w.set(t)}E.nV(t,D.buffer,fc)}}if(r=="adaptCorrect"){var I=Q.rect,f=I.e,g=I.n,H=f*g,B=H*4,el=W.sdwM.v,iN=el.Amnt.v.val/100,c$=el.Wdth.v.val/100,dB=el.Rds.v,aL=W.hglM.v,aB=aL.Amnt.v.val/100,f3=aL.Wdth.v.val/100,jC=aL.Rds.v;
E.ux.a3O(Q.buffer,D.buffer,f,g,iN,c$,dB,aB,f3,jC,W.ClrC.v/100,W.Cntr.v/100)}if(r=="denoise"){var I=Q.rect,f=I.e,g=I.n,iA=W.channelDenoise.v[0].v;
E.VK.a1e(Q.buffer,f,g,D.buffer,iA.Amnt.v/10,iA.EdgF.v/100)}if(r=="HsbP"){var bL=W.Inpt.v.ClrS,an=W.Otpt.v.ClrS,I=Q.rect,f=I.e,g=I.n,H=f*g;
for(var n=0;n<H;n++){var G=n*4,p=Q.buffer[G]*(1/255),dp=Q.buffer[G+1]*(1/255),im=Q.buffer[G+2]*(1/255);
if(bL=="RGBC"){}else if(bL=="HSLC"){var t=E._0(p,dp,im);p=t.o;dp=t.W;im=t.k}else if(bL=="HSBl"){var t=E.aor(p,dp,im);
p=t.o;dp=t.W;im=t.k}var a5=p,bg=dp,fM=im;if(an=="RGBC"){}else if(an=="HSLC"){var t=E.jh(p,dp,im);a5=t.J9;
bg=t.Am;fM=t.qC}else if(an=="HSBl"){var t=E.agY(p,dp,im);a5=t.J9;bg=t.Am;fM=t.k}D.buffer[G]=~~(255*a5);
D.buffer[G+1]=~~(255*bg);D.buffer[G+2]=~~(255*fM)}}if(r=="Fbrs"){var I=Q.rect,f=I.e,g=I.n;E.N.d8(Q.buffer,f,g,D.buffer,[W.Vrnc.v,W.Strg.v,S]);
var eT=E.Q(f*g);E.TX(D.buffer,eT,0);E.j4(eT);jA.MK(eT,D.buffer,b,X)}if(r=="Frgm"){var I=Q.rect,f=I.e,g=I.n,ev=Q.buffer.slice(0);
E.oL(ev);E.N.adn(ev,f,g,D.buffer);E.IQ(D.buffer)}if(r=="Flam"){var I=Q.rect,f=I.e,g=I.n,fU=W.Clr.v,e8={type:W.Type.v+1,length:W.Leng.v,a2f:W.RndL.v,NF:W.Widt.v,anF:W.Angl.v,anv:W.Intr.v,ary:W.Adpt.v,color:{o:fU.Rd.v,W:fU.Grn.v,k:fU.Bl.v},Of:W.Qual.v+1,yS:W.Turb.v,rH:W.Jag.v,opacity:W.Opct.v.val,_b:W.Lins.v,aoe:W.Botm.v,style:W.Styl.v+1,shape:W.Shap.v+1,a3C:W.RnSh.v,ad9:W.Arng.v,avh:!1},ej=h[3],fV=ej[0],he=ej[1],gZ=fV[he.length!=0?he[0]:0];
if(gZ==null){alert("Make a path first");return}var hQ=gZ.add.vmsk.V,aJ=E.A.jm(hQ),cs=[];for(var k=0;
k<aJ;k++){var fN=E.A.ka(hQ,k),j4=hQ[fN];if(j4.length<2)continue;var hL=[];cs.push(hL);var fv=j4.length-(j4.type==3?1:0);
for(var gG=0;gG<fv;gG++){var al=hQ[fN+1+gG],dD=gG==j4.length-1?hQ[fN+1]:hQ[fN+1+gG+1],kd=al.F,gv=al.rP,O=dD.f0,j$=dD.F,i9=Math.round(cp.ks(kd,j$)/5);
for(var bv=0;bv<i9;bv++){var jk=bv/i9,cM=1-jk,R=cM*cM*cM*kd.x+3*cM*cM*jk*gv.x+3*cM*jk*jk*O.x+jk*jk*jk*j$.x,T=cM*cM*cM*kd.y+3*cM*cM*jk*gv.y+3*cM*jk*jk*O.y+jk*jk*jk*j$.y;
hL.push(R,T)}}}var iW=[cs,e8],ft=Date.now(),b0=bn(iW);bS(Q.buffer,f,g,D.buffer,b0,iW)}if(r=="Dfs "){var I=Q.rect,f=I.e,g=I.n,ko=["Nrml","DrkO","LghO","anisotropic"].indexOf(W.Md.v.DfsM);
if(ko<3)E.N.atA(Q.buffer,f,g,D.buffer,[ko]);else{var iW=[1.4,1.6,1,4,!1,2,[0,0,.001]],I=Q.rect.clone();
I.x=I.y=0;E.vS.filter(Q.buffer,I,D.buffer,iW)}}if(r=="TrcC"){var I=Q.rect,f=I.e,co=f<<2,g=I.n,gr=W.Lvl.v,ib=W.Edg.v.CntE=="Lwr",bh=Q.buffer,bM=D.buffer;
E.tl(bM,16777215,4278190080);function bR(hJ,bA){dE(hJ,bA);dE(hJ+1,bA+1);dE(hJ+2,bA+2)}function c5(hJ,bA){ix(hJ,bA);
ix(hJ+1,bA+1);ix(hJ+2,bA+2)}function dE(hJ,bA){var a5=bh[hJ],bg=bh[bA];if(a5>=gr&&bg<gr)bM[hJ]=0;if(a5<gr&&bg>=gr)bM[bA]=0}function ix(hJ,bA){var a5=bh[hJ],bg=bh[bA];
if(a5>gr&&bg<=gr)bM[bA]=0;if(a5<=gr&&bg>gr)bM[hJ]=0}if(ib)for(var T=1;T<g;T++)for(var R=1;R<f;R++){var G=T*f+R<<2;
bR(G,G-4);bR(G,G-co)}else for(var T=1;T<g;T++)for(var R=1;R<f;R++){var G=T*f+R<<2;c5(G,G-4);c5(G,G-co)}}if(r=="Embs"){var I=Q.rect,f=I.e,g=I.n,f2=-W.Angl.v*Math.PI/180,a$=W.Hght.v,fl=W.Amnt.v/100;
a$/=2;var V=Math.cos(f2)*a$,y=Math.sin(f2)*a$,bh=Q.buffer,bM=D.buffer;bM.fill(0);var cW=new Uint32Array(bh.buffer),t=new Uint8Array(4),i7=new Uint32Array(t.buffer);
for(var T=0;T<g;T++)for(var R=0;R<f;R++){var fA=0,iG=0,i$=0;if(0<=R+V&&R+V<f&&0<=T+y&&T+y<g){E.K.rC(R+V+.5,T+y+.5,cW,f,g,i7,0,0);
fA+=t[0]-128;iG+=t[1]-128;i$+=t[2]-128}if(0<=R-V&&R-V<f&&0<=T-y&&T-y<g){E.K.rC(R-V+.5,T-y+.5,cW,f,g,i7,0,0);
fA-=t[0]-128;iG-=t[1]-128;i$-=t[2]-128}var G=T*f+R<<2;bM[G]=Math.max(0,Math.min(255,fA*fl+128));bM[G+1]=Math.max(0,Math.min(255,iG*fl+128));
bM[G+2]=Math.max(0,Math.min(255,i$*fl+128));bM[G+3]=bh[G+3]}}if(r=="ShrE"){var I=Q.rect,f=I.e,g=I.n;
E.N.ax2(Q.buffer,f,g,D.buffer)}if(r=="Dspc"){var I=Q.rect,f=I.e,g=I.n;E.N.auW(Q.buffer,f,g,D.buffer)}if(r=="Slrz"){var ic=D.buffer,e4=128;
for(var n=0;n<ic.length;n+=4){if(ic[n]>e4)ic[n]=255-ic[n];if(ic[n+1]>e4)ic[n+1]=255-ic[n+1];if(ic[n+2]>e4)ic[n+2]=255-ic[n+2]}}if(r=="Wnd "){var I=Q.rect,f=I.e,g=I.n,kt=["Wnd","Blst","Stgr"],jn=W.WndM.v.WndM;
E.N.wv(Q.buffer,f,g,D.buffer,[kt.indexOf(jn),W.Drct.v.Drct!="Left"])}if(r=="Bokh"){var I=Q.rect,f=I.e,g=I.n,H=f*g,B=H*4,ah=Q.buffer.slice(0),h6=W.BkDi.v.BtDi,br=W.BkDc,jN=W.BkDs.v,cU=W.BkDp.v/255;
if(h6=="BeIn")cU=0;var bY=57*(.3+.7*((f+g)/2)/1750)*(W.BkIb.v/100)*(1+.2*Math.pow(cU,.1)),fb=parseInt(W.BkIs.v.BtIs.slice(3)),by=-W.BkIr.v*Math.PI/180,g1=[];
for(var n=0;n<8;n++){var eq=by+n*(Math.PI*2/fb),iu=by+(n+1)*(Math.PI*2/fb),hv=Math.cos(eq),iP=Math.sin(eq),b1=Math.cos(iu),ew=Math.sin(iu),eC=[0,0,0];
E.Le.nw([[hv,iP,1,0],[b1,ew,1,0],[1,1,1,1]],eC);if(eC[2]>0){eC[0]*=-1;eC[1]*=-1;eC[2]*=-1}g1.push(eC[0],eC[1],eC[2],0)}if(h6=="BeIn"){E.tl(ah,0,16777215);
cU=1}else if(h6=="BeIt"&&br.v.BtDc=="BeCt"){}else{var dV;if(h6=="BeIt"&&br.v.BtDc=="BeCm")dV=h[1];else if(h6=="BeIa")dV=h[2][br.v];
if(dV==null){E.tl(ah,0,16777215)}else{var w;if(dV.rect.s4(I))w=dV.channel;else w=dV.Vn(I);E.nV(w,ah,3)}}if(jN)for(var n=0;
n<B;n+=4)ah[n+3]=255-ah[n+3];if(gn.Kz){var i6=ah,hr=f,jH=g,eF=1,g4=(W.BkSb.v==0||W.BkSt.v==255)&&h6=="BeIn";
if(!g4){var cw=0;for(var n=0;n<B;n+=4)cw+=Math.abs(cU-ah[n+3]*(1/255));cw=cw/H*bY;var hT=3.14*cw*cw*f*g/3e6;
if(hT>2e3){alert("too large radius");return}}while(g4&&3*(bY/eF)*(bY/eF)*f*g>500*2e3*2e3){var ar=E.cx(ah,new aV(0,0,hr,jH));
ah=ar.NP;hr=ar.rect.e;jH=ar.rect.n;eF*=2}var ft=Date.now(),u=gn.Y9(0,hr,jH);u.set(ah);var a7=gn.Y9(1,f,g);
gn._h(a7);gn.filter.CJ({type:gn.filter.ayC,yg:new Float32Array([1/hr,1/jH]),a9y:cU,Aj:bY/eF,a7J:new Float32Array([W.BkSb.v/100,W.BkSt.v/255]),aqG:new Float32Array([W.BkNa.v/100,W.BkNt.v.BtNt=="BeNu"?0:1,W.BkNm.v?1:0]),a9X:new Float32Array(g1.slice(0,16)),agD:new Float32Array(g1.slice(16))},u.G6);
a7.get(D.buffer);var iX=D.buffer;for(var n=0;n<B;n+=4)iX[n+3]=Q.buffer[n+3]}}if(r=="rigidTransform"){var ft=Date.now(),k8=jv.apF,u=Q.buffer.slice(0),h0=0,gp=0;
E.oL(u);E.tl(D.buffer,0);var f=Q.rect.e,g=Q.rect.n,gb=W.puppetShapeList.v,jf=[],aN=[],fE=[],jG=[];for(var gG=0;
gG<gb.length;gG++){var aq=gb[gG].v,z=h0*2,L=gp*3,cg=aq.originalVertexArray.v.length>>>2,gC=aq.indexArray.v.length>>>2,bH=new Float32Array(k8(aq.originalVertexArray.v));
for(var n=0;n<cg;n++)jf[z+n]=bH[n];var hP=new Float32Array(k8(aq.deformedVertexArray.v));for(var n=0;
n<cg;n++)aN[z+n]=hP[n];var bd=new Uint32Array(k8(aq.indexArray.v));for(var n=0;n<gC;n++)fE[L+n]=h0+bd[n];
var il=[],jI=[],hq=aq.PnDp.v;for(var n=0;n<hq.length;n++){il.push(aq.pinVertexIndices.v[n].v);jI.push(hq[n].v)}var bm=E.kj.amv(bH,bd,il,jI);
for(var n=0;n<bm.length;n++)jG[h0+n]=bm[n];h0+=cg>>>1;gp+=~~(gC/3)}var p=Q.rect,f=p.e,g=p.n;E.kj.Hd(u,f,g,D.buffer,f,g,jf,aN,jG,fE);
E.IQ(D.buffer)}if(r=="lightFilterGradient"){function hd(kd){var fi=1/Math.sqrt(kd[0]*kd[0]+kd[1]*kd[1]+kd[2]*kd[2]);
kd[0]*=fi;kd[1]*=fi;kd[2]*=fi}var f=Q.rect.e,g=Q.rect.n,H=f*g,ft=Date.now(),k6=E.Q(H),bg=.3,fM=.7;E.Ou(D.buffer,k6);
var gu=E.Q(H);E.Cb.Ka(k6,gu,D.rect,16);var jh=E.Q(H);E.Cb.Ka(k6,jh,D.rect,8);var k9=k6,da=new Float32Array(H),hW=W.Dtl.v,bB=hW[2].v,jZ=hW[1].v,cy=hW[0].v,hh=W.Scl.v*40*W.textureScale.v/(bB+jZ+cy);
bB*=hh;jZ*=hh;cy*=hh;for(var n=0;n<H;n++){var eQ=gu[n]*(1/255),aF=jh[n]*(1/255),cd=k9[n]*(1/255);cd=cd*cd;
da[n]=bB*eQ+jZ*aF+cy*cd}var hi=W.blur.v;if(hi!=0){var cx=da.slice(0);E.Cb.hs(cx,da,D.rect,hi)}var ju=f-1,gz=g-1;
for(var T=0;T<g;T++)for(var R=0;R<f;R++){var n=T*f+R,G=n*4,e7=da[n],V=bg*(da[n+(R==ju?0:1)]-e7)+fM*(e7-da[n-(R==0?0:1)]),y=bg*(da[n+(T==gz?0:f)]-e7)+fM*(e7-da[n-(T==0?0:f)]),kd=[1,0,V],gv=[0,1,y];
hd(kd);hd(gv);var iu=kd[0],ip=kd[2],hy=gv[1],iB=gv[2],jb=-ip*hy,aC=-iu*iB,fw=iu*hy;D.buffer[G]=~~(127.5+jb*127.5);
D.buffer[G+1]=~~(127.5+aC*127.5);D.buffer[G+2]=~~(127.5+fw*127.5)}}if(r=="defr"){var f=Q.rect.e,g=Q.rect.n;
jL(Q.buffer,f,g,D.buffer)}if(r=="dDFT"||r=="iDFT"){function aT(fb){if(fb==0)return 1;fb--;fb|=fb>>1;
fb|=fb>>2;fb|=fb>>4;fb|=fb>>8;fb|=fb>>16;return fb+1}var f=Q.rect.e,g=Q.rect.n,fD=aT(Math.max(f,g)),bs=fD>>>1,aM=new aV(0,0,fD,fD),js=new aV(0,0,f,g);
js.y=fD-g>>>1;var gA=f>>>1,cj=new aV(0,js.y,gA,g),ef=new E.yC(f*g);E.q_(Q.buffer,ef);var e1=new Float64Array(fD*fD),it=new Float64Array(fD*fD),w=E.Q(fD*fD);
FFT.init(fD);var jO=[ef.o,ef.W,ef.k];for(var n=0;n<3;n++){var i1=jO[n];w.fill(0);if(r=="dDFT"){E.L0(i1,js,w,aM);
jv.ay1(w,fD,e1,it);E.L0(w,aM,i1,js,cj);cj.x+=gA;aM.x-=bs-gA;E.L0(w,aM,i1,js,cj);cj.x-=gA;aM.x+=bs-gA}else{E.L0(i1,js,w,aM,cj);
cj.x+=bs;js.x+=bs-gA;E.L0(i1,js,w,aM,cj);cj.x-=bs;js.x-=bs-gA;jv.ajX(w,fD,e1,it);E.L0(w,aM,i1,js)}}E.b8(ef,D.buffer)}if(r=="Avrg"){var eB=0,cL=0,fF=0,jc=0,ga=1;
for(var n=0;n<Q.buffer.length;n+=4){var s=Q.buffer[n+3];fF+=Q.buffer[n]*s;cL+=Q.buffer[n+1]*s;eB+=Q.buffer[n+2]*s;
jc+=s}var gB=1/jc;eB=Math.round(ga*(eB*gB)+(1-ga)*255);cL=Math.round(ga*(cL*gB)+(1-ga)*255);fF=Math.round(ga*(fF*gB)+(1-ga)*255);
E.tl(D.buffer,eB<<16|cL<<8|fF,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(r)!=-1){var aD=W.Rds?W.Rds.v.val:1,h_=r=="boxblur"?E.Cb.dH:E.Cb.d_;
jv.rG(aD,h_,D.buffer,D.rect);if(r=="UnsM"||r=="smartSharpen"){var fl=(W.Amnt?W.Amnt.v.val:200)/100,dP=0;
if(r=="UnsM")dP=W.Thsh.v;else fl*=.75;for(var n=0;n<Q.buffer.length;n++){if((n&3)==3){D.buffer[n]=Q.buffer[n];
continue}var fh=Q.buffer[n],fJ=D.buffer[n],kq=fl*(fh-fJ);if(kq>0)kq=Math.max(0,kq-dP);else kq=Math.min(0,kq+dP);
D.buffer[n]=Math.max(0,Math.min(255,fh+kq))}}if(r=="HghP")for(var n=0;n<Q.buffer.length;n++){if((n&3)==3){D.buffer[n]=Q.buffer[n];
continue}var fh=Q.buffer[n],fJ=D.buffer[n];D.buffer[n]=Math.max(0,Math.min(255,128+fh-fJ))}}if(r=="AdNs"){var jp=new Uint8ClampedArray(D.buffer.buffer),gd=255*W.Nose.v.val/100,cT;
if(W.Dstr.v.Dstr=="Gsn")cT=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else cT=function(){return Math.random()*2-1};for(var n=0;n<jp.length;n+=4){var p=jp[n],dp=jp[n+1],im=jp[n+2],bb,e9,bD;
if(W.Mnch.v){bb=e9=bD=cT()}else{bb=cT();e9=cT();bD=cT()}p+=gd*bb;dp+=gd*e9;im+=gd*bD;jp[n]=p;jp[n+1]=dp;
jp[n+2]=im}}var ft=Date.now();if(r=="Mdn "||r=="DstS"||r=="Mxm "||r=="Mnm "||r=="surfaceBlur"){var p=0,fe=W.Thsh,aq=0;
if(fe)fe=fe.v;else fe=0;if(r=="Mdn "||r=="Mxm "||r=="Mnm "||r=="surfaceBlur")p=W.Rds.v.val;else p=W.Rds.v;
var hC=W.preserveShape;if(hC&&hC.v.preserveShape=="Rndn")aq=1;var f=Q.rect.e,g=Q.rect.n,eu=["Mnm ","Mxm ","surfaceBlur"].indexOf(r),eI=(aq==0?1:.75)*[.73,.73,1][eu]*(f*g*p*p)/1722387,bZ=[.73,.9,1.4][eu]*(f*g*Math.sqrt(p))/6500;
if(gn.Kz&&eu!=-1&&(eI<bZ||aq==1)&&eI<1500){var u=gn.Y9(0,f,g);u.set(Q.buffer);var d=gn.Y9(1,f,g);gn._h(d);
gn.filter.CJ({type:gn.filter.abi,yg:new Float32Array([1/f,1/g]),Aj:p,alI:fe/255,Eb:[aq,eu,10*Math.ceil(p/10)]},u.G6);
d.get(D.buffer)}else{p=Math.round(p);E.a0.Ys=.5;var h_=E.a0.ms;if(r=="Mxm ")h_=E.a0.lH;if(r=="Mnm ")h_=E.a0.BS;
if(r=="surfaceBlur")h_=E.a0.tx;E.a0.Cn(Q.buffer,D.buffer,f,g,p,h_,[fe]);if(r=="DstS")for(var n=0;n<f*g*4;
n++){var ik=Math.abs(Q.buffer[n]-D.buffer[n]);if(ik<=fe)D.buffer[n]=Q.buffer[n]}}}if(r=="ClrH"){var cj=Q.rect.clone();
cj.x=cj.y=0;var p=W.Rds.v;p=Math.round(p*Math.sqrt(2));var f=cj.e,g=cj.n,ef=new E.yC(f*g);E.q_(Q.buffer,ef);
E.j4(ef.o);E.j4(ef.W);E.j4(ef.k);var fy=E._j(f,g),iX=E.Q(f*g*4);for(var jX=0;jX<3;jX++){var w=jX==0?ef.o:jX==1?ef.W:ef.k,f2=Math.PI*W["Ang"+(jX+1)].v/180,cv=new au(1/p,0,0,1/p,0,0);
cv.rotate(f2);E.nV(w,iX,3);var t=m.EA.gh([iX,cj],cv,!0),js=t.rect;fy.clearRect(0,0,f,g);var fX=Math.sin(f2),fj=Math.cos(f2);
for(var n=0;n<js.n;n++)for(var bv=0;bv<js.e;bv++){var R=(bv+js.x+.5)*p,T=(n+js.y+.5)*p,eP=R,cQ=T;R=fj*eP-fX*cQ;
T=fX*eP+fj*cQ;var H=t.buffer[(n*js.e+bv<<2)+3]*(1/255),aD=p*Math.sqrt(H*(1/Math.PI));fy.beginPath();
fy.arc(R,T,aD,0,2*Math.PI);fy.fill()}var iK=fy.getImageData(0,0,f,g);E.TX(iK.data,w,3)}E.j4(ef.o);E.j4(ef.W);
E.j4(ef.k);E.b8(ef,D.buffer)}if(r=="Crst"||r=="Pntl"){var f=Q.rect.e,g=Q.rect.n,h_=r=="Crst"?E.dG.ahZ:E.dG.aup;
h_(Q.buffer,f,g,D.buffer,W.ClSz.v,[Math.round(X.o),Math.round(X.W),Math.round(X.k)])}if(r=="Mztn"){var f=Q.rect.e,g=Q.rect.n,H=f*g,ef=new E.yC(H),hX=[ef.o,ef.W,ef.k];
E.q_(Q.buffer,ef);var jn=W.MztT.v.MztT,fP={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[jn],ft=Date.now(),jF=[];
for(var n=0;n<H;n++){jF[n]=Math.random()}var H=f*g,ac=Math.round(H*fP[0]),dJ=H-f-1;for(var n=0;n<ac;
n++){var af=Math.random(),ao=1;if(af<.5){ao=f;af*=2}else af=2*(af-.5);var hJ=Math.floor(af*dJ),bA=hJ+ao;
jF[hJ]=jF[bA]}var be=Math.round(f*fP[1]);for(var T=0;T<g;T++)for(var n=0;n<be;n++){var af=E.q.hH(T*H+n),hJ=T*f+Math.floor(af*(f-1));
jF[hJ]=jF[hJ+1]}var fo=new Float64Array(256);for(var n=0;n<256;n++){var dQ=n/255,gS=2*(dQ<.5?dQ:1-dQ);
gS=fP[2]+Math.pow(gS,fP[3])*(1-fP[2]);dQ=dQ<.5?gS*.5:1-gS*.5;fo[n]=dQ}for(var fc=0;fc<3;fc++){var w=hX[fc];
for(var T=0;T<g;T++){for(var R=0;R<f;R++){var n=T*f+R,jE=w[n],dQ=fo[jE],af=jF[n];w[n]=af>dQ?0:255}}}E.b8(ef,D.buffer)}if(r=="Msc "){var aJ=W.ClSz.v.val,f=Q.rect.e,g=Q.rect.n,kr=Math.ceil(f/aJ),fC=Math.ceil(g/aJ),cG=E.Q(kr*fC*4);
E.scale.mD(Q.buffer,f,g,cG,kr,fC,1/aJ);E.scale.mD(cG,kr,fC,D.buffer,f,g,aJ)}if(r=="Clds"||r=="DfrC"){var f=D.rect.e,g=D.rect.n,H=f*g,dg=E.Q(H);
if(r=="Clds")E.tl(D.buffer,4278190080);var cr=E.Q(256*4);for(var n=0;n<256;n++){var G=n<<2,jQ=n/255,bd=1-jQ;
cr[G]=Math.round(jQ*b.o+bd*X.o);cr[G+1]=Math.round(jQ*b.W+bd*X.W);cr[G+2]=Math.round(jQ*b.k+bd*X.k)}E.N.a8A(Q.buffer,f,g,dg);
var kk=D.buffer;for(var n=0;n<H;n++){var G=n<<2,fc=dg[n]<<2,p=cr[fc],dp=cr[fc+1],im=cr[fc+2];if(r=="Clds"){kk[G]=p;
kk[G+1]=dp;kk[G+2]=im}else{kk[G]=Math.abs(kk[4*n]-p);kk[G+1]=Math.abs(kk[4*n+1]-dp);kk[G+2]=Math.abs(kk[4*n+2]-im)}}}if(r=="LnsF"){var f=Q.rect.e,g=Q.rect.n,jn=["Zm","Nkn","Nkn1","PnVs"].indexOf(W.Lns.v.Lns),hM=W.FlrC.v,gD=[Math.min(jn,2),W.Brgh.v/100,hM.Hrzn.v,hM.Vrtc.v],ft=Date.now();
E.a6f(Q.buffer,f,g,D.buffer,gD)}var k7=["Blr ","BlrM","Shrp","ShrM"].indexOf(r);if(k7!=-1){var ck=k7>1,f=Q.rect.e,g=Q.rect.n,ho=E.Nm.O2[k7],dz=Q.buffer.slice(0);
if(!ck)E.oL(dz);E.Nm.mT(dz,D.buffer,f,g,ho,255,!1,ck);if(!ck)E.IQ(D.buffer)}if(r=="MtnB"){var gJ=-W.Angl.v*Math.PI/180,dm=W.Dstn.v.val/2,ft=Date.now(),f=Q.rect.e,g=Q.rect.n,I=Q.rect.clone();
I.x=I.y=0;if(gn.Kz){var ft=Date.now(),jo=D.buffer;jo.set(Q.buffer);E.oL(jo);var cK=gn.Y9(0,f,g);cK.set(jo);
var bh=E.Q(4);bh[0]=Math.round(128+127*Math.cos(gJ));bh[1]=Math.round(128+127*Math.sin(gJ));new Uint32Array(jo.buffer).fill(new Uint32Array(bh.buffer)[0]);
var aO=gn.Y9(1,f,g);aO.set(jo);gn._h(cK,I);cK.x7(I);gn.filter.CJ({type:gn.filter.U5,n0:aO.G6,yg:new Float32Array([1/f,1/g]),ae5:dm/2,asS:1},cK.mr);
cK.get(jo);E.IQ(jo)}else{var cv=new au;cv.rotate(gJ);var t=m.EA.gh([Q.buffer,Q.rect],cv,!1,null,!0);
jv.rG(dm,E.Cb.mU,t.buffer,t.rect);cv.j4();t=m.EA.gh([t.buffer,t.rect],cv,!1,D.buffer.buffer,!0,D.rect)}console.log(Date.now()-ft)}if(r=="RdlB"){var f=Q.rect.e,g=Q.rect.n,fl=W.Amnt.v,c3=W.BlrM.v.BlrM=="Zm",jX=W.Cntr.v,ae=jX.Hrzn.v,j0=jX.Vrtc.v,V=Math.max(ae,1-ae)*f,y=Math.max(j0,1-j0)*g,aD=Math.sqrt(V*V+y*y),jM=2*Math.PI*aD*1.5,e2=Math.round(jM),e$=Math.round(aD),cj=new aV(0,0,e2,e$),bo=E.Q(e2*e$*4),eh=c3?4:1,j6=c3?.6:8*((f+g)/2)/1400,cC=.1,eF=1,eV=1;
E.K._s(Q.buffer,f,g,bo,e2,e$,ae,j0,eh,cC,eF,eV);var eb=c3?E.Q(e2*e$*4):null;if(c3){E.K.ob(bo,eb,e2,e$);
var jk=eb;eb=bo;bo=jk;cj.e=e$;cj.n=e2}jv.rG(j6*fl,E.Cb.mU,bo,cj);if(c3){E.K.ob(bo,eb,e$,e2);var jk=eb;
eb=bo;bo=jk;cj.e=e2;cj.n=e$}E.K.wN(bo,e2,e$,D.buffer,f,g,ae,j0,eh,cC,eF,eV)}if(r=="Plr "){var f=Q.rect.e,g=Q.rect.n;
if(W.Cnvr.v.Cnvr=="RctP")E.K.wN(Q.buffer,f,g,D.buffer,f,g,.5,.5,1,0,2,f/g);else E.K._s(Q.buffer,f,g,D.buffer,f,g,.5,.5,1,0,2,f/g)}if(r=="FndE"){var f=Q.rect.e,g=Q.rect.n;
E.Nm.y5(Q.buffer,D.buffer,f,g)}if(r=="oilPaint"){var f2=W.LghD.v*Math.PI/180,dr=[Math.cos(f2),Math.sin(f2),.001],iW=[W.stylization.v,W.cleanliness.v,W.brushScale.v,W.microBrush.v,W.lightingOn.v,W.specularity.v,dr],I=Q.rect.clone();
I.x=I.y=0;E.vS.filter(Q.buffer,I,D.buffer,iW)}if(r=="Ofst"){var f=Q.rect.e,g=Q.rect.n,fm=new Uint32Array(Q.buffer.buffer),e5=new Uint32Array(D.buffer.buffer),eP=W.Hrzn.v,cQ=W.Vrtc.v,hz=W.Fl.v.FlMd;
E.tl(e5,0);if(hz=="Bckg"||hz=="Rpt"){var cj=Q.rect.clone();cj.offset(eP,cQ);E.TU(fm,cj,e5,D.rect)}if(hz=="Rpt"){var hv,iP,b1,ew,j5;
eP=Math.max(-f,Math.min(f,eP));cQ=Math.max(-g,Math.min(g,cQ));hv=eP>0?eP:0;b1=eP>0?f:f+eP;iP=cQ>0?0:cQ+g;
ew=cQ>0?cQ:g;j5=cQ>0?0:f*(g-1);for(var T=iP;T<ew;T++)for(var R=hv;R<b1;R++)e5[T*f+R]=fm[j5+R-eP];hv=eP>0?0:f+eP;
b1=eP>0?eP:f;iP=cQ>0?cQ:0;ew=cQ>0?g:g+cQ;j5=eP>0?0:f-1;for(var T=iP;T<ew;T++)for(var R=hv;R<b1;R++)e5[T*f+R]=fm[j5+f*(T-cQ)];
if(eP>=0&&cQ>=0){hv=0;b1=eP;iP=0;ew=cQ;j5=0}if(eP>=0&&cQ<0){hv=0;b1=eP;iP=g+cQ;ew=g;j5=f*(g-1)}if(eP<0&&cQ>=0){hv=f+eP;
b1=f;iP=0;ew=cQ;j5=f-1}if(eP<0&&cQ<0){hv=f+eP;b1=f;iP=g+cQ;ew=g;j5=f*g-1}for(var T=iP;T<ew;T++)for(var R=hv;
R<b1;R++)e5[T*f+R]=fm[j5]}if(hz=="Wrp"){eP=(eP+100*f)%f;cQ=(cQ+100*g)%g;var cj=new aV(eP-f,cQ-g,f,g);
E.TU(fm,cj,e5,D.rect);cj.offset(f,0);E.TU(fm,cj,e5,D.rect);cj.offset(0,g);E.TU(fm,cj,e5,D.rect);cj.offset(-f,0);
E.TU(fm,cj,e5,D.rect)}}if(r=="Rept"){var aw=W.Rsft.v.val/100,f$=W.SpcX.v.val/100;f$=Math.max(f$,-.99);
var d3=W.SpcY.v.val/100;d3=Math.max(d3,-.99);var eF=W.Scl.v.val/100,cv=new au;cv.rotate(W.Angl.v*Math.PI/180);
cv.scale(eF,eF);var eo={buffer:Q.buffer,rect:Q.rect};E.qM(eo);if(eo.rect.WB()){eo.buffer=Q.buffer;eo.rect=Q.rect}var kk=eo.buffer,cj=eo.rect,jt=E.cm(kk,cj,0),gm=new Uint32Array(kk.buffer)[0];
if(!jt.WB()&&!jt.s4(cj)){var a9=E.Q(jt.O()*4);E.TU(kk,cj,a9,jt);kk=a9;cj=jt}cj.x=cj.y=0;gm=f$==0&&d3==0||W.SpcC.v?gm:0;
function iy(R){return R<0?Math.ceil(R):Math.floor(R)}var i_=cv.lE(new cp(cj.e,0));i_.x=iy(i_.x);i_.y=iy(i_.y);
var dG=cv.lE(new cp(0,cj.n));dG.x=iy(dG.x);dG.y=iy(dG.y);var t=m.EA.gh([kk,cj],cv,!1),js=t.rect,bM=t.buffer,d0=Math.round(js.x),hx=Math.round(js.y),bw=Math.max(D.rect.e,D.rect.n)/Math.min(cj.e*eF*(1+f$),cj.n*eF*(1+d3));
bw=Math.ceil(bw*1.7);E.tl(D.buffer,gm);for(var T=-bw;T<bw;T++){for(var R=-bw;R<bw;R++){var kv=(R+T*aw)*(1+f$),iT=T*(1+d3);
js.x=d0+Math.round(kv*i_.x+iT*dG.x);js.y=hx+Math.round(kv*i_.y+iT*dG.y);if(js.fs(D.rect))E.q.YB("norm",bM,js,D.buffer,D.rect,js,1)}}}if(r=="Ctoa"){var X=E.M.vf(W.Clr.v),fe=W.Trsp.v.val/100,ez=W.Opct.v.val/100;
fe=ez==0?0:fe/ez;var f=Q.rect.e,g=Q.rect.n,dv=~~X.o,hs=~~X.W,gt=~~X.k,j5=Q.buffer,kc=D.buffer;for(var T=0;
T<g;T++)for(var R=0;R<f;R++){var n=T*f+R,G=n<<2,cj=j5[G],jS=j5[G+1],kk=j5[G+2],fT=Math.abs(dv-cj),dc=Math.abs(hs-jS),fg=Math.abs(gt-kk),id=Math.max(fT,dc,fg)*(1/255);
id=Math.max(0,Math.min(1,id/ez));var hp=id==0?0:1/id,dw=fe==1?1:Math.max(0,Math.min(1,(id-fe)/(1-fe)));
kc[G]=Math.max(0,Math.min(255,(cj-dv*(1-id))*hp));kc[G+1]=Math.max(0,Math.min(255,(jS-hs*(1-id))*hp));
kc[G+2]=Math.max(0,Math.min(255,(kk-gt*(1-id))*hp));kc[G+3]=~~(.5+dw*255)}}if(r=="Dthr"){function jz(R){return~~(.5+255*E.cE(R/255))}var gG=W.Plte.v,cP;
if(gG==0)cP=[4278190080,4294967295];else{var eY=[[1,1,1],[2,2,2],[3,3,2]][gG-1],hf=[1<<eY[0],1<<eY[1],1<<eY[2]],fW=[~~(255/(hf[0]-1)),~~(255/(hf[1]-1)),~~(255/(hf[2]-1))];
cP=[];for(var p=0;p<hf[0];p++)for(var dp=0;dp<hf[1];dp++)for(var im=0;im<hf[2];im++)cP.push(255<<24|jz(im*fW[2])<<16|jz(dp*fW[1])<<8|jz(p*fW[0]))}var f=Q.rect.e,g=Q.rect.n,H=f*g,fr=H*4,i$=Q.buffer.slice(0),dK=D.buffer;
for(var n=0;n<fr;n++)i$[n]=~~(.5+255*E.cE(i$[n]/255));var gV=E.Q(f*g);UPNG.encode.dither(i$,f,g,cP,dK,gV);
for(var n=0;n<fr;n++)dK[n]=~~(.5+255*E.Lz(dK[n]/255))}if(r=="Part"){var hD=[W.RndS.v,W.Cont.v/100,W.Size.v,W.Dpth.v/100,W.Brgh.v/100,E.M.vf(W.Clr.v),W.Time.v,W.Blnk.v,W.Fall.v,W.Turb.v/100];
E.fu.bU(D.buffer,Q.rect.e,Q.rect.n,hD)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(r)!=-1){var a4=h[0],f=Q.rect.e,g=Q.rect.n,fo,ex=0;
if(r=="LqFy")fo=jd.ak(new Uint8Array(W.LqMe.v).buffer);else{var f_=3;fo={Dr:Math.floor(f/f_),J9:Math.floor(g/f_)};
fo.map=new Float32Array(fo.Dr*fo.J9*2);if(r=="LnCr"){var ae=.5*(fo.Dr-1),j0=.5*(fo.J9-1),bJ=Math.max(Math.abs(0-ae),Math.abs(1-ae)),b_=Math.max(Math.abs(0-j0),Math.abs(1-j0)),eN=Math.sqrt(bJ*bJ+b_*b_),jV=0,jl=0,ek=-1,f7=2,eF=W.LnSi.v/100,c3=1/eF,ie=W.LnIa.v/100,e0=ie==0?1e-6:ie*4.6,iw=c3/eN;
for(var T=0;T<fo.J9;T++){for(var R=0;R<fo.Dr;R++){var V=(R-ae)*iw,y=(T-j0)*iw,p=Math.sqrt(V*V+y*y)*e0,fp=Math.atan(p),gO=ie>0?fp/p:p/fp,eV=ae+eN*gO*V,eG=j0+eN*gO*y,n=T*fo.Dr+R<<1;
fo.map[n]=eV-R;fo.map[n+1]=eG-T}}}else if(r=="Kale"){var kr=fo.Dr,fC=fo.J9,b9=(kr-1)*.5,gz=(fC-1)*.5,d6=W.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,av=W.Mirr.v,aI=Math.PI*2/av,cq=.5*aI;
for(var T=0;T<fC;T++)for(var R=0;R<kr;R++){var V=R-b9,y=T-gz,e6=Math.sqrt(V*V+y*y),f2=Math.atan2(y,V)+d6;
f2=f2%aI;if(f2>cq)f2=aI-f2;var eV=b9+Math.cos(f2-d6)*e6,eG=gz+Math.sin(f2-d6)*e6,n=(T*kr+R)*2;fo.map[n]=eV-R;
fo.map[n+1]=eG-T}}else if(r=="Dspl"&&a4.length!=0){ex=W.UndA.v.UndA=="WrpA"?2:1;var cS=W.DspF.v.pth,kg;
for(var n=0;n<a4.length;n++)if(a4[n].c5==cS)kg=a4[n];if(kg==null)kg=a4[0];kg.T6();var fT=kg.EJ[1],dF=E.Q(fT.O());
E.Ou(kg.EJ[0],dF);var jK=fT.e,fn=fT.n;fo={Dr:jK,J9:fn};fo.map=new Float32Array(fo.Dr*fo.J9*2);var ax=2.54*W.HrzS.v*jK/f,jR=2.54*W.VrtS.v*fn/g;
for(var T=0;T<fo.J9;T++){for(var R=0;R<fo.Dr;R++){var ik=-.5+dF[T*jK+R]*(1/255),n=T*fo.Dr+R<<1;fo.map[n]=ik*ax;
fo.map[n+1]=ik*jR}}}else if(r=="Pnch"||r=="Twrl"||r=="Sphr"||r=="ZgZg"){var fl=1,gJ=Math.PI,gR=0,ch=1,dC=0,jX=3,aJ=1.53,gO=1;
if(r=="Pnch"||r=="Sphr"||r=="ZgZg")fl=W.Amnt.v/100;if(r=="ZgZg"){ch=W.NmbR.v;dC=["ArnC","OtFr","PndR"].indexOf(W.ZZTy.v.ZZTy)}if(r=="Twrl")gJ=W.Angl.v*Math.PI/180;
if(r=="Sphr")gR=["Nrml","HrzO","VrtO"].indexOf(W.SphM.v.SphM);function h_(R){R=Math.pow(R,1-R*.3-R*R*(R*R)*.5);
return-.225*Math.sin(R*Math.PI)}function ce(g,fi,p,hv,iP,b1,ew,gO){var V=b1-hv,y=ew-iP,hN=hv-g,du=iP-fi,jQ=V*V+y*y,im=2*(V*hN+y*du),jX=hN*hN+du*du-p*p,ii=Math.sqrt(im*im-4*jQ*jX),e3=gO/(2*jQ),aW=(-im+ii)*e3,hR=(-im-ii)*e3;
return gO*Math.min(aW,hR)}var kr=fo.Dr,fC=fo.J9,b9=fo.Dr/2,gz=fo.J9/2,dq=1/b9,p=Math.sqrt(jX*jX+1)/jX,i1=jX+Math.sqrt(1/(jX*jX));
if(fl<0){jX=1.72;p=1;i1=jX;aJ=-1;gO=-1}for(var T=0;T<fC;T++){var y=(T-gz)/gz;for(var R=0;R<kr;R++){var V=(R-b9)*dq;
if(gR==1)y=0;else if(gR==2)V=0;var g3=Math.sqrt(V*V+y*y);if(g3<1&&g3!=0){var n=T*fo.Dr+R<<1;if(r=="Pnch"){var bq=-fl*h_(g3)/g3;
fo.map[n]=V*bq*b9;fo.map[n+1]=y*bq*gz}else if(r=="Sphr"){var jk=ce(0,i1,p,0,0,g3,jX,gO),fS=aJ*fl*(jk-1);
fo.map[n]=V*fS*b9;fo.map[n+1]=y*fS*gz}else if(r=="Twrl"){var f2=Math.atan2(y,V)-gJ*(1-g3)*(1-g3),ji=Math.cos(f2),kl=Math.sin(f2);
fo.map[n]=(g3*ji-V)*b9;fo.map[n+1]=(g3*kl-y)*gz}else if(r=="ZgZg"){var ji=0,kl=0,h9=fl*(.5-.5*Math.cos(g3*ch*2*Math.PI))*(1-g3);
if(dC==0){var f2=Math.atan2(y,V)-3.5*h9;ji=g3*Math.cos(f2);kl=g3*Math.sin(f2)}if(dC==1){h9=100/f*h9/g3;
ji=(1-h9)*V;kl=(1-h9)*y}if(dC==2){var C=512/f*h9*Math.PI/4;ji=C+V;kl=C+y}fo.map[n]=(ji-V)*b9;fo.map[n+1]=(kl-y)*gz}}}}}else if(r=="Shr "){var hQ=JSON.parse(JSON.stringify(W.ShrP.v));
E.FB.D(hQ,new au(0,255/127,255/127,0,-2,0));var as=E.FB.ki(hQ,fo.J9,!0);ex=W.UndA.v.UndA=="WrpA"?2:1;
for(var T=0;T<fo.J9;T++){var V=-as[T]*fo.Dr;for(var R=0;R<fo.Dr;R++){var n=T*fo.Dr+R<<1;fo.map[n]=V}}}else if(r=="Wave"){var gI=W.NmbG.v,gF=W.WLMn.v,bx=W.WLMx.v,jW=W.AmMn.v*(Math.PI/4),ab=W.AmMx.v*(Math.PI/4),ha=W.SclH.v/100,iY=W.SclV.v/100,jn=W.Wvtp.v.Wvtp,h9=Math.sin;
if(jn=="WvTr")h9=function(R){R*=2/Math.PI;return-.5+Math.abs(R%2-1)};if(jn=="WvSq")h9=function(R){R*=2/Math.PI;
return 1+2*Math.floor(R%2-1)};var iE=[],jq=new E.q.rq(W.RndS.v);for(var n=0;n<gI;n++){iE.push(jq.get()*10);
iE.push(Math.PI*f_/(gF+jq.get()*(bx-gF)));iE.push(ha*(jW+jq.get()*(ab-jW))/f_);iE.push(jq.get()*10);
iE.push(Math.PI*f_/(gF+jq.get()*(bx-gF)));iE.push(iY*(jW+jq.get()*(ab-jW))/f_)}var cn=[],ap=[],jy=Math.max(fo.Dr,fo.J9);
for(var n=0;n<jy;n++){var V=0,y=0;for(var bv=0;bv<gI;bv++){var f1=bv*6;V+=iE[f1+2]*h9(iE[f1]+n*iE[f1+1]);
y+=iE[f1+5]*h9(iE[f1+3]+n*iE[f1+4])}cn[n]=y;ap[n]=V}for(var T=0;T<fo.J9;T++){for(var R=0;R<fo.Dr;R++){var n=T*fo.Dr+R<<1;
fo.map[n]=ap[T];fo.map[n+1]=cn[R]}}ex=W.UndA.v.UndA=="WrpA"?2:1}else if(r=="Rple"){ex=1;var fl=W.Amnt.v/100,dy=4,e_=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],gg=1,c0=1,hN=0,jx=["Sml","Mdm","Lrg"].indexOf(W.RplS.v.RplS);
if(jx==0){gg=1;c0=.2;hN=3}if(jx==2){gg=1;c0=2;hN=-1;e_=e_.reverse()}var ff=function(R,T){var jX=Math.cos,hh=0;
for(var n=0;n<dy;n++)for(var bv=0;bv<dy;bv++)hh+=e_[n*dy+bv]*jX(R*(n+hN)-T*(bv+hN));return hh},a8=Math.floor(50/f_),g6=new Float32Array(a8*a8*2),em=c0*fl*.5/f_;
for(var T=0;T<a8;T++)for(var R=0;R<a8;R++){var ae=gg*R*2*Math.PI/a8,j0=gg*T*2*Math.PI/a8,h3=ff(ae,j0),V=(ff(ae+.01,j0)-h3)*100,y=(ff(ae,j0+.01)-h3)*100,n=(T*a8+R)*2;
g6[n]=V*em;g6[n+1]=y*em}for(var T=0;T<fo.J9;T++)for(var R=0;R<fo.Dr;R++){var kl=T%a8,ji=R%a8,n=T*fo.Dr+R<<1,iH=kl*a8+ji<<1;
fo.map[n]=g6[iH];fo.map[n+1]=g6[iH+1]}}}E.m4.UL(Q.buffer,D.buffer,f,g,null,fo.map,fo.Dr,fo.J9,ex)}return D};
var jA={};jA.a8X="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");jA.b7="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
jA.eT=["ScrC","ScrD","ScrL"];jA.EG=["SDRD","SDHz","SDLD","SDVt"];jA.LP="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
jA.ad="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");jA.IX="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
jA.bD=[[24,19,0],[24,19,1],[24,4],[24,19,2],[24,14],[12,67]];jA.names={ClrP:[0,[24,20,0]],Ct:[0,[24,20,1]],DryB:[0,[24,20,2]],FlmG:[0,[24,20,3]],Frsc:[0,[24,20,4]],NGlw:[0,[24,20,5]],PntD:[0,[24,20,6]],PltK:[0,[24,20,7]],PlsW:[0,[24,20,8]],PstE:[0,[24,20,9]],RghP:[0,[24,20,10]],SmdS:[0,[24,20,11]],Spng:[0,[24,20,12]],Undr:[0,[24,20,13]],Wtrc:[0,[24,20,14]],AccE:[1,[24,20,15]],AngS:[1,[24,20,16]],Crsh:[1,[24,20,17]],DrkS:[1,[24,20,18]],InkO:[1,[24,20,19]],Spt:[1,[24,20,20]],SprS:[1,[24,20,21]],Smie:[1,[24,20,22]],DfsG:[2,[24,20,23]],Gls:[2,[24,20,24]],OcnR:[2,[24,20,25]],BsRl:[3,[24,20,26]],ChlC:[3,[24,20,27]],Chrc:[3,[24,20,28]],Chrm:[3,[24,20,29]],CntC:[3,[24,20,30]],GraP:[3,[24,20,31]],HlfS:[3,[24,20,32]],NtPr:[3,[24,20,33]],Phtc:[3,[24,20,34]],Plst:[3,[24,20,35]],Rtcl:[3,[24,20,36]],Stmp:[3,[24,20,37]],TrnE:[3,[24,20,38]],WtrP:[3,[24,20,39]],GlwE:[4,[24,20,40]],Crql:[5,[24,20,41]],Grn:[5,[24,20,42]],MscT:[5,[24,20,43]],Ptch:[5,[24,20,44]],StnG:[5,[24,20,45]],Txtz:[5,[24,20,46]]};
jA.fp=function(r){var Q;if(r=="ClrP")Q={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(r=="Ct")Q={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(r=="DryB")Q={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(r=="FlmG")Q={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(r=="Frsc")Q={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(r=="NGlw")Q={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(r=="PntD")Q={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(r=="PltK")Q={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(r=="PlsW")Q={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(r=="PstE")Q={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(r=="RghP")Q={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(r=="SmdS")Q={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(r=="Spng")Q={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(r=="Undr")Q={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(r=="Wtrc")Q={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(r=="AccE")Q={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(r=="AngS")Q={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(r=="Crsh")Q={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(r=="DrkS")Q={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(r=="InkO")Q={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(r=="Smie")Q={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(r=="Spt")Q={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(r=="SprS")Q={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(r=="DfsG")Q={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(r=="Gls")Q={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(r=="OcnR")Q={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(r=="BsRl")Q={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(r=="ChlC")Q={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(r=="Chrc")Q={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(r=="Chrm")Q={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(r=="CntC")Q={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(r=="GraP")Q={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(r=="HlfS")Q={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(r=="NtPr")Q={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(r=="Phtc")Q={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(r=="Plst")Q={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(r=="Rtcl")Q={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(r=="Stmp")Q={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(r=="TrnE")Q={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(r=="WtrP")Q={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(r=="GlwE")Q={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(r=="Crql")Q={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(r=="Grn")Q={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(r=="MscT")Q={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(r=="Ptch")Q={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(r=="StnG")Q={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(r=="Txtz")Q={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
Q.__name="Filter Gallery";Q.classID="GEfc";Q.GEfk={t:"enum",v:{GEft:r}};Q.GELv={t:"bool",v:!0};return Q};
jA.tR=function(r,Q){for(var n=0;n<Q.length;n++)~~(Q[n]=(r[4*n]+r[4*n+1]+r[4*n+2])*(1/3))};jA.ac$=function(r,Q,W,b){var X=UPNG.quantize(r,Q);
X={XH:X.inds,$R:X.plte};var D=Math.floor((W+b)*.015);if(D!=0)E.ZG.ass(X.XH,W,b,D);return X};jA.EW=function(r,Q,W,b,X,D,h){r=W.GEfk.v.GEft;
var S=Q.rect,a=S.e,K=S.n,Y=a*K,d=W.FlRs?W.FlRs.v>>>1:0;function j(i){return i.o<<24|i.W<<16|i.k<<8|255}if(r=="ClrP")E.N.av8(Q.buffer,a,K,D.buffer,[W.Pncl.v,W.StrP.v,W.PprB.v]);
if(r=="Ct"){var U=W.NmbL.v,I=W.EdgS.v,f=jA.ac$(Q.buffer.buffer,U*2,a,K);for(var n=0;n<f.XH.length;n++)f.XH[n]++;
var g=new Uint8Array((a+2)*(K+2));E.L0(f.XH,new aV(1,1,a,K),g,new aV(0,0,a+2,K+2));var H=E.p.JV(g,a+2,K+2,I,!1),u=new au(1,0,0,1,-1,-1);
for(var n=0;n<H.length;n++)E.p.D(H[n].path.C,u,H[n].path.C);var s=[],_=f.$R;for(var n=0;n<_.length;n++){var i=_[n].est.q;
s.push({o:Math.round(255*i[0]),W:Math.round(255*i[1]),k:Math.round(255*i[2]),mu:Math.round(255*i[3])})}var M=E._j(a,K);
for(var n=0;n<H.length;n++){var T=H[n],i=s[T.color-1];if(i.mu==0)continue;M.fillStyle="rgba("+i.o+","+i.W+","+i.k+","+i.mu/255+")";
M.beginPath();Typr.U.pathToContext({crds:T.path.C,cmds:T.path.H},M);M.fill()}if(!S.WB()){var R=M.getImageData(0,0,a,K);
E.qr(R.data,D.buffer)}}if(r=="DryB")E.N.agX(Q.buffer,a,K,D.buffer,[W.BrsS.v,W.BrsD.v,W.Txtr.v]);if(r=="FlmG")E.N.a1W(Q.buffer,a,K,D.buffer,[W.Grn.v,W.HghA.v,W.Intn.v,d]);
if(r=="Frsc")E.N.aq7(Q.buffer,a,K,D.buffer,[W.BrsS.v,W.BrsD.v,W.Txtr.v]);if(r=="NGlw")E.N.af9(Q.buffer,a,K,D.buffer,[W.Sz.v,W.Brgh.v,j(E.M.vf(W.Clr.v)),j(b),j(X)]);
if(r=="PltK")E.N.a35(Q.buffer,a,K,D.buffer,[W.StrS.v,W.StDt.v,W.Sftn.v]);if(r=="PstE")E.N.ahj(Q.buffer,a,K,D.buffer,[W.EdgT.v,W.EdgI.v,W.Pstr.v]);
if(r=="RghP")E.N.af1(Q.buffer,a,K,D.buffer,[W.StrL.v,W.StDt.v,jA.LP.indexOf(W.TxtT.v.TxtT),W.Scln.v,W.Rlf.v,jA.b7.indexOf(W.LghD.v.LghD),W.InvT.v]);
if(r=="SmdS")E.N.aeS(Q.buffer,a,K,D.buffer,[W.StrL.v,W.HghA.v,W.Intn.v,W.FlRs.v,d]);if(r=="Spng")E.N.a1g(Q.buffer,a,K,D.buffer,[W.BrsS.v,W.Dfnt.v,W.Smth.v,W.FlRs.v,d]);
if(r=="Undr")E.N.ar5(Q.buffer,a,K,D.buffer,[W.BrsS.v,W.TxtC.v,jA.LP.indexOf(W.TxtT.v.TxtT),W.Scln.v,W.Rlf.v,jA.b7.indexOf(W.LghD.v.LghD),W.InvT.v]);
if(r=="Wtrc")E.N.ap1(Q.buffer,a,K,D.buffer,[W.BrsD.v,W.ShdI.v,W.Txtr.v]);if(r=="AccE")E.N.ajH(Q.buffer,a,K,D.buffer,[W.EdgW.v,W.EdgB.v,W.Smth.v]);
if(r=="AngS")E.N.any(Q.buffer,a,K,D.buffer,[W.DrcB.v,W.StrL.v,W.Shrp.v]);if(r=="Crsh")E.N.ay9(Q.buffer,a,K,D.buffer,[W.StrL.v,W.Shrp.v,W.Strg.v]);
if(r=="DrkS")E.N.ajD(Q.buffer,a,K,D.buffer,[W.Blnc.v,W.BlcI.v,W.WhtI.v]);if(r=="InkO")E.N.a4e(Q.buffer,a,K,D.buffer,[W.StrL.v,W.DrkI.v,W.LghI.v]);
if(r=="Smie")E.N.ajF(Q.buffer,a,K,D.buffer,[W.StrW.v,W.StrP.v,W.Cntr.v]);if(r=="DfsG")E.N.awo(Q.buffer,a,K,D.buffer,[W.Grns.v,W.GlwA.v,W.ClrA.v,j(X),d]);
if(r=="CntC")E.N.arW(Q.buffer,a,K,D.buffer,[W.FrgL.v,W.BckL.v,jA.LP.indexOf(W.TxtT.v.TxtT),W.Scln.v,W.Rlf.v,jA.b7.indexOf(W.LghD.v.LghD),W.InvT.v,j(X),j(b)]);
if(r=="ChlC")E.N.acy(Q.buffer,a,K,D.buffer,[W.ChrA.v,W.ChlA.v,W.StrP.v,d,j(X),j(b)]);var z=r=="GraP"||r=="Chrc"||r=="Plst"||r=="Rtcl"||r=="Stmp"||r=="TrnE";
if(z){var G=E.Q(a*K);if(r=="GraP")E.N.aeJ(Q.buffer,a,K,D.buffer,[W.StrL.v,W.LgDr.v,jA.EG.indexOf(W.SDir.v.StrD),d]);
if(r=="Chrc")E.N.a9R(Q.buffer,a,K,D.buffer,[W.ChAm.v,W.Dtl.v,W.LgDr.v]);if(r=="Plst")E.N.aq1(Q.buffer,a,K,D.buffer,[W.ImgB.v,jA.ad.indexOf(W.LghP.v.LghP),W.Smth.v]);
if(r=="Rtcl")E.N.amn(Q.buffer,a,K,D.buffer,[W.Dnst.v,W.BlcL.v,W.WhtL.v,d]);if(r=="Stmp")E.N.avr(Q.buffer,a,K,D.buffer,[W.LgDr.v,W.Smth.v]);
if(r=="TrnE")E.N.auu(Q.buffer,a,K,D.buffer,[W.ImgB.v,W.Smth.v,W.Cntr.v,d]);E.TX(D.buffer,G,0);jA.MK(G,D.buffer,b,X)}if(r=="NtPr")E.N.arP(Q.buffer,a,K,D.buffer,[W.ImgB.v,W.Grns.v,W.Rlf.v,j(b),j(X),d]);
if(r=="WtrP")E.N.a04(Q.buffer,a,K,D.buffer,[W.FbrL.v,W.Brgh.v,W.Cntr.v,d>>>1]);if(r=="Crql")E.N.a6o(Q.buffer,a,K,D.buffer,[W.CrcS.v,W.CrcD.v,W.CrcB.v,d]);
if(r=="Grn")E.N.agI(Q.buffer,a,K,D.buffer,[W.Intn.v,jA.IX.indexOf(W.Grnt.v.Grnt),W.Cntr.v,j(b),j(X),d]);
if(r=="MscT")E.N.a2J(Q.buffer,a,K,D.buffer,[W.TlSz.v,W.GrtW.v,W.LghG.v,d]);if(r=="Ptch")E.N.avk(Q.buffer,a,K,D.buffer,[W.SqrS.v,W.Rlf.v,d]);
if(r=="Phtc"){function V(hQ,aJ,S,f2){E.Cb.O4(hQ,aJ,S,f2);for(var n=0;n<Y;n++)aJ[n]=Math.max(0,Math.min(255,128+hQ[n]-aJ[n]))}var y=W.Dtl.v,k=W.Drkn.v,B=E.Q(Y);
E.Ou(Q.buffer,B);var v=E.Q(Y);V(B,v,S,1);if(y==1){y=2;k=Math.round(k/4)}var l=E.Q(Y);V(B,l,S,y);for(var n=0;
n<Y;n++)B[n]=Math.max(0,Math.min(255,255-(v[n]-l[n])*k));jA.MK(B,D.buffer,b,X)}if(r=="Spt"||r=="SprS"){var F,L=1,Z=1;
F={Dr:Math.floor(a/Z),J9:Math.floor(K/Z)};F.map=new Float32Array(F.Dr*F.J9*2);var t=new E.q.rq(W.FlRs.v),A=new Float32Array(8192),o=W.SprR.v,O=o<20?.018*o:.36+(o-20)*.128;
if(r=="SprS"){O=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][o]}for(var n=0;
n<8192;n++)A[n]=(-1+2*t.get())*O*70;for(var x=0;x<K;x++)for(var C=0;C<a;C++){var J=x*a+C<<1;F.map[J]=A[J%7919];
F.map[J+1]=A[(J+1)%7919]}var q=F.map.slice(0),fd=r=="Spt"?W.Smth.v-1:1;if(r=="Spt"&&fd!=0){jA.a5T(F.map,q,a,K,fd);
jA.a5R(q,F.map,a,K,fd)}if(r=="SprS"){var w=W.StrL.v>>>1,P=w==0?2:1;jA.a5T(F.map,q,a,K,P);jA.a5R(q,F.map,a,K,P);
if(w!=0){var fc=jA.EG.indexOf(W.SDir.v.StrD),p=[1,1,1,0][fc],gG=[-1,0,1,1][fc],fh=2*w+1,fJ=1/fh;for(var x=0;
x<K;x++)for(var C=0;C<a;C++){var J=x*a+C<<1,cF=0,j_=0;for(var n=0;n<fh;n++){var gY=Math.max(0,Math.min(a-1,C-(w+n)*p)),kc=Math.max(0,Math.min(K-1,x-(w+n)*gG)),el=kc*a+gY<<1;
cF+=F.map[el];j_+=F.map[el+1]}q[J]=cF*fJ;q[J+1]=j_*fJ}F.map=q}}E.m4.UL(Q.buffer,D.buffer,a,K,null,F.map,F.Dr,F.J9,L)}if(r=="BsRl"||r=="PlsW"||r=="Chrm"){var iN=Date.now(),c$=E.Q(Y),dB=c$.slice(0);
E.Ou(Q.buffer,c$);var y=W.Dtl.v,aL=W.Smth.v;if(y!=15){E.Cb.Ka(c$,dB,S,Math.round((15-y)*.5));E.qr(dB,c$)}var aB=1.4/a,f3=1.4/K,jC=new Float32Array(Y),iA=new Float32Array(Y),bL=new Float32Array(D.buffer.buffer);
for(var x=0;x<K;x++)for(var C=0;C<a;C++){var n=x*a+C,p=C==a-1?c$[n]-c$[n-1]:c$[n+1]-c$[n],gG=x==K-1?c$[n]-c$[n-a]:c$[n+a]-c$[n],an=C*aB-.7,dp=x*f3-.7;
jC[n]=p==0?an:p*.4;iA[n]=gG==0?dp:gG*.4}if(r=="BsRl"){var im=(2+jA.b7.indexOf(W.LghD.v.LghD))*Math.PI*.25,cF=Math.cos(im);
if(Math.abs(cF)<.1)cF=0;cF=Math.sign(cF);var j_=Math.sin(im);if(Math.abs(j_)<.1)j_=0;j_=Math.sign(j_);
var a5=1/(cF*cF+j_*j_);for(var x=0;x<K;x++)for(var C=0;C<a;C++){var n=x*a+C,bg=Math.max(-1,Math.min(1,cF*jC[n])),fM=Math.max(-1,Math.min(1,j_*iA[n]));
dB[n]=128+127*(bg+fM)*a5}if(aL!=1){E.Cb.Ka(dB,c$,S,Math.round((aL-1)*.5));E.qr(c$,dB)}jA.MK(dB,D.buffer,b,X)}else{if(r=="Chrm")aL=5+aL;
if(aL>1)jA.rG(jC,iA,bL,S,aL-1);if(r=="PlsW"){var eT=new Uint8Array(jC.buffer);for(var n=0;n<Y;n++){var ev=n<<2,p=jC[n],gG=iA[n],fU=1/(Math.sqrt(1+p*p)*Math.sqrt(1+gG*gG)),e8=fU*fU,ej=e8*e8,i=~~(255*(ej*ej*e8));
eT[ev+0]=i;eT[ev+1]=i;eT[ev+2]=i;eT[ev+3]=i}D.buffer.set(Q.buffer);E.q.YB("norm",eT,S,D.buffer,S,S,W.HghS.v/20)}else if(r=="Chrm"){var fV=D.buffer,he=a>>>1,gZ=K>>>1;
for(var n=0;n<Y;n++){var ev=n<<2,p=jC[n],gG=iA[n],hQ={x:1,y:0,QC:p};iI.QF(hQ);var aJ={x:0,y:1,QC:gG};
iI.QF(aJ);var cs=iI.aqI(hQ,aJ),fN=1/cs.QC,j4=~~Math.max(0,Math.min(a-1,he-cs.x*fN*he)),hL=~~Math.max(0,Math.min(K-1,gZ-cs.y*fN*gZ)),i=c$[hL*a+j4];
fV[ev+0]=i;fV[ev+1]=i;fV[ev+2]=i}}}}if(r=="Gls"||r=="OcnR"||r=="Txtz"){var fv=r=="OcnR"?2:jA.LP.indexOf(W.TxtT.v.TxtT),al=jA.iV(fv),dD=al[0],c$=al[1],kd=dD.e,gv=dD.n,fh=24,ko=0,co,gr;
function j$(dV,i6,hr){return~~(i9*(dV+i6)+8192)&127}var jC=new Float32Array(Y),iA=new Float32Array(Y),bL=new Float32Array(D.buffer.buffer),i9=r=="OcnR"?1/(1+(W.RplS.v-1)*.1):100/W.Scln.v;
if(fv==3)i9*=32/22.2;var iN=Date.now(),bv=i9,aB=1.4/a,f3=1.4/K;if(r=="Txtz"){bv*=1/255;fh=256}for(var x=0;
x<K;x++){var jk=j$(x,S.y,gv),kc=jk+1&127;for(var C=0;C<a;C++){var n=x*a+C,cM=j$(C,S.x,kd),gY=cM+1&127,iW=0,ft=0,b0=0;
if(r=="Txtz"){iW=E.K.Km(i9*C,i9*x,c$,128,128);ft=E.K.Km(i9*C,i9*x+1,c$,128,128);b0=E.K.Km(i9*C+1,i9*x,c$,128,128)}else{iW=c$[jk*kd+cM];
ft=c$[kc*kd+cM];b0=c$[jk*kd+gY]}jC[n]=Math.max(-fh,Math.min((b0-iW)*bv,fh));iA[n]=Math.max(-fh,Math.min((ft-iW)*bv,fh))}}if(r=="Txtz")jA.aeP(jC,iA,bL,S,6);
else jA.rG(jC,iA,bL,S,r=="Txtz"?1:r=="OcnR"?3.5/i9:W.Smth.v);if(r=="Txtz")ko=W.InvT.v?-1:1;else if(r=="Gls"){ko=[1,.4,.5,.5][fv]*(Math.exp(W.Dstr.v*.155)-1);
if(W.InvT.v)ko=-ko}else{ko=.5*(Math.exp(W.RplM.v*.155)-1)}var fV=D.buffer;if(r=="Txtz"){var im=(2+jA.b7.indexOf(W.LghD.v.LghD))*Math.PI*.25,cF=Math.cos(im),j_=Math.sin(im);
co={x:cF,y:j_,QC:0};iI.QF(co);gr=W.Rlf.v;gr=gr/4+Math.max(0,(gr-35)*2)}function ib(hQ,aJ,bM){var i$=E.q.overF(aJ,hQ,1),dV=(1-bM)*hQ+bM*(bM*aJ+(1-bM)*i$);
return dV*255}for(var x=0;x<K;x++)for(var C=0;C<a;C++){var n=x*a+C,ev=n<<2,p=jC[n],gG=iA[n],hQ={x:1,y:0,QC:p};
iI.QF(hQ);var aJ={x:0,y:1,QC:gG};iI.QF(aJ);var cs=iI.aqI(hQ,aJ);if(r=="Txtz"){var bh=iI.a0N(cs,co)*ko,bM=1,i=1;
if(bh<0){i=0;bh=-bh}bM=Math.min(1,bh*gr);fV[ev+0]=~~ib(Q.buffer[ev]*(1/255),i,bM);fV[ev+1]=~~ib(Q.buffer[ev+1]*(1/255),i,bM);
fV[ev+2]=~~ib(Q.buffer[ev+2]*(1/255),i,bM)}else{var fN=ko/cs.QC,j4=~~Math.max(0,Math.min(a-1,C-cs.x*fN)),hL=~~Math.max(0,Math.min(K-1,x-cs.y*fN)),bR=hL*a+j4<<2;
fV[ev+0]=Q.buffer[bR];fV[ev+1]=Q.buffer[bR+1];fV[ev+2]=Q.buffer[bR+2]}}}if(r=="PntD"){var c5=W.Shrp.v*.4,dE=W.BrsT.v.BrsT,ix={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[dE],f2=Math.round(W.Sz.v*.5);
E.a0.Ys=ix[0];var a$=E.a0.ms;E.a0.Cn(Q.buffer,D.buffer,a,K,f2,a$,[]);var fl=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];
fl=E.Nm.N8(fl);var cW=D.buffer.slice(0);E.Nm.mT(cW,D.buffer,a,K,fl,0);for(var n=0;n<Q.buffer.length;
n++){var i7=D.buffer[n]-cW[n];D.buffer[n]=Math.max(0,Math.min(255,cW[n]+c5*i7))}}if(r=="GlwE"){var fA=D.buffer.slice(0);
E.a0.Ys=.5;var a$=E.a0.ms;E.a0.Cn(Q.buffer,fA,a,K,W.Smth.v>>>1,a$,[]);E.Nm.y5(fA,D.buffer,a,K);E.qr(D.buffer,fA);
E.j4(fA);E.tl(fA,4278190080,16777215);E.a0.Cn(fA,D.buffer,a,K,W.EdgW.v>>>1,E.a0.lH,[]);var iG=W.EdgB.v/10;
for(var n=0;n<fA.length;n++){if((n&3)==3)continue;var i$=D.buffer[n];D.buffer[n]=Math.max(0,Math.min(255,i$*iG))}}if(r=="StnG"){E.dG.ajk(Q.buffer,a,K,D.buffer,W.ClSz.v,[Math.round(b.o),Math.round(b.W),Math.round(b.k)],W.BrdT.v)}if(r=="HlfS"){var ic=W.HlSz.v,e4=ic*2+1,kt=W.Cntr.v,jn=jA.eT.indexOf(W.ScrT.v.ScrT),Y=a*K,ah=Y*4,h6=E.Q(Y),br=Q.buffer,g1=0,eq=0;
jA.tR(br,h6);var jN=h6.slice(0);E.Cb.Vk(jN,h6,S,ic);var cU=Math.PI/e4,bY=new Float64Array(a),cF=new Float64Array(a),by=new Float64Array(2*a);
for(var C=0;C<a;C++){var cM=(C-(a>>>1))*cU;bY[C]=cM*cM;cF[C]=Math.cos(cM);var p=C<<1;by[p]=Math.sin(p*(1/4.5));
by[p+1]=Math.sin((p+1)*(1/4.5))}for(var x=0;x<K;x++){var jk=(x-(K>>>1))*cU,j_=Math.cos(jk),iu=jk*jk;
for(var C=0;C<a;C++){var i=j_;if(jn==0){var hv=.5+Math.sqrt(bY[C]+iu)*4.5;i=by[~~hv]}else if(jn==1){i=cF[C]*j_}var n=x*a+C,iP=h6[n]*(.75+.25*i),bM=br[(n<<2)+3]*(1/255),b1=Math.max(0,Math.min(255,~~iP));
g1+=b1*bM,eq+=bM;h6[n]=b1}}g1/=eq;var ew=128+1.26*(g1-128),iG=.08+.25*Math.abs((128-g1)/128),eC=1+iG*kt;
for(var n=0;n<Y;n++){var iP=ew+(h6[n]-ew)*eC;h6[n]=Math.max(0,Math.min(255,~~iP))}if(kt>46)E.round(h6);
jA.MK(h6,D.buffer,b,X)}for(var n=0;n<Q.buffer.length;n+=4)D.buffer[n+3]=Q.buffer[n+3]};jA.MK=function(r,Q,W,b){var X=r.length,D=W.o,h=W.W,S=W.k,a=b.o,K=b.W,Y=b.k;
for(var n=0;n<X;n++){var d=r[n]*(1/255),j=1-d,U=n<<2;Q[U]=~~(D*j+a*d);Q[U+1]=~~(h*j+K*d);Q[U+2]=~~(S*j+Y*d)}};
jA.iV=function(r){if(r==6)r=2;var Q="blocks canvas frosted tinylens brick burlap".split(" ")[r];if(jA.lx==null)jA.lx=[];
if(jA.lx[r]==null){var W,b;if(r==2){b=new aV(0,0,128,128);var X=jv.fp("AdNs");X.Mnch.v=!0;X.Dstr.v.Dstr="Gsn";
X.Nose.v.val=50;var W=E.Q(b.O()*4),D=W.slice(0);new Uint32Array(D.buffer).fill(4286611584);jv.EW("AdNs",{buffer:D,rect:b},X,0,0,{buffer:W,rect:b})}else{var h=fH.vC.get("tex/"+Q,!0)[0];
b=h.Kx;W=new Uint8Array(h.data)}var S=E.Q(b.O());E.TX(W,S,0);jA.lx[r]=[b,S]}return jA.lx[r]};jA.rG=function(r,Q,W,b,X){if(X<=1){X=Math.round(X);
jA.aeP(r,Q,W,b,[1,16,4][X]);return}var D=X*.42;if(r){E.Cb.hs(r,W,b,D,3);r.set(W)}if(Q){E.Cb.hs(Q,W,b,D,3);
Q.set(W)}};jA.aeP=function(r,Q,W,b,X){var D=E.Nm.N8([1,2,1,2,X,2,1,2,1]);if(r){W.set(r);E.Nm.m$(r,W,b.e,b.n,D);
r.set(W)}if(Q){W.set(Q);E.Nm.m$(Q,W,b.e,b.n,D);Q.set(W)}};jA.U3=function(r){if(r==null)return new cp(0,0);
var Q=0,W=r.GEfs?r.GEfs.v:[{v:r}];for(var n=0;n<W.length;n++){var b=W[n].v,D=1e4;if(b.GELv&&!b.GELv.v)continue;
var X=b.GEfk.v.GEft;if(X=="GlwE"||X=="Phtc"||X=="BsRl"||X=="PlsW"||X=="Chrm"||X=="Gls"||X=="OcnR")D=0;
Q=Math.max(Q,D)}return new cp(Q,Q)};jA.avc=function(r){var Q=[0,0,0,0,0,0,0,0,0,0,0,0,0],W=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][r];
for(var n=0;n<13;n++){var b=n-6;Q[n]=1/(W*Math.sqrt(2*Math.PI))*Math.exp(-.5*(b/W)*(b/W))}return Q};
jA.a5T=function(r,Q,W,b,X){var D=jA.avc(X),h=6,S=13;for(var a=0;a<b;a++)for(var K=0;K<W;K++){var Y=a*W+K<<1,d=0,j=0;
for(var n=0;n<S;n++){var U=K+n-h,I=U<0?0:U>=W?W-1:U,f=(a*W+I)*2,g=D[n];d+=g*r[f];j+=g*r[f+1]}Q[Y]=d;
Q[Y+1]=j}};jA.a5R=function(r,Q,W,b,X){var D=jA.avc(X),h=6,S=13;for(var a=0;a<b;a++)for(var K=0;K<W;K++){var Y=a*W+K<<1,d=0,j=0;
for(var n=0;n<S;n++){var U=a+n-h,I=U<0?0:U>=b?b-1:U,f=(I*W+K)*2,g=D[n];d+=g*r[f];j+=g*r[f+1]}Q[Y]=d;
Q[Y+1]=j}};function hG(){}hG.WU=[2,5,5,7,4,4];hG.Av="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
hG.it="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
hG.tJ=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
hG.o9=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
hG.g9=function(r){if(r=="passThrough")return"pass";return hG.Av[hG.it.indexOf(r)]};hG.Ra=function(r){if(r=="pass")return"passThrough";
return hG.it[hG.Av.indexOf(r)]};hG.getName=function(r){return hG.tJ[hG.Av.indexOf(r)]};function $(){this.rect=null;
this.buffer=null;this.iX="norm";this.opacity=255;this.Cw=!1;this.KX=0;this.dS=0;this.J8=!0;this.vG=[];
for(var n=0;n<10;n++)this.vG.push(0,0,255,255);this.name=null;this.add={};this.Gd=null;this.Zj=null;
this.z=null;this.U0=null;this.a99=30;this.Kq=null;this.K_=null;this.$l=null;this.IG=null;this.L$=0;this.Uk=!1;
this.f7=null;this.ix=new $.go}$.go=function(){this.x9=!0;this.Tq=!0;this.XZ=E.Q(0);this.axr=E.Q(0);this.YH=null;
this.b5={};this.a94=null;this.Zd=null;this.af=null;this.kM=null;this.hK=null;this.h0=null;this.xy=null;
this.RS=null;this.xx=null;this.Y3=null;this._X=null;this.bE=null;this.VE=!1};$.go.prototype.ael=function(){this.x9=null;
this.Tq=!1;this.YH=null;this.VE=gn.Kz};$.go.prototype.asi=function(){iI.ap6(this.b5);this.XZ=E.Q(0);
this.axr=E.Q(0);if(this.kM)this.kM.delete();if(this.hK)this.hK.delete();this.kM=null;this.hK=null;var r=[this.h0,this.xy,this.RS,this.xx,this.Y3,this._X];
for(var n=0;n<6;n++)if(r[n]!=null&&r[n]instanceof gn.yC)r[n].delete();this.h0=null;this.xy=null;this.RS=null;
this.xx=null;this.Y3=null;this._X=null};$.prototype.U=function(r){if(r==null)r=this.rect.clone();if(this.ix.YH==null)this.ix.YH=r;
else this.ix.YH=this.ix.YH.Bc(r)};$.prototype.wf=function(){return this.add.lsct==d1.O9||this.add.lsct==d1.$B};
$.prototype.tN=function(){var r=this.add;return r.SoCo!=null||r.GdFl!=null||r.PtFl!=null};$.prototype.a5N=function(){var r=this.add.lmfx;
if(r==null)return;var Q=["GrFl","patternFill"];for(var n=0;n<Q.length;n++){var W=iq.lY[iq.order.indexOf(Q[n])],b=r[W].v;
if(b.length==0)continue;for(var X=0;X<b.length;X++){var D=b[X].v;if(D.enab.v&&(D.Algn==null||!D.Algn.v))this.ix.Tq=!0}}};
$.prototype.a0p=function(){var r=this.z,Q=this.ix.x9;if(this.tN())r=this.SS();if(!gn.Kz)return r.P8();
if(this.ix.hK==null||Q||gn.Kz!=this.ix.VE){var W=r.J4(),b=this.ix.hK,X=null;if(Q!=!0&&Q!=null){X=Q.clone();
X.offset(-W.x,-W.y)}if(b==null||b.e!=W.e||b.n!=W.n){b=this.ix.hK=new gn.P5(W.e,W.n);X=null}b.set(r.P8(),X)}return this.ix.hK};
$.prototype.a8J=function(r){var Q=this.rect,W=this.buffer;if(!gn.Kz){var b=this.qT(r,W,Q);if(b){W=b.NP;
Q=b.rect}return W}if(this.ix.YH!=null||gn.Kz!=this.ix.VE){var b=this.qT(r,W,Q);if(b){W=b.NP;Q=b.rect}var X=Q;
if(gn.Kz!=this.ix.VE||this.ix.kM==null||this.ix.kM.e!=X.e||this.ix.kM.n!=X.n){if(this.ix.kM)this.ix.kM.delete();
this.ix.kM=new gn.yC(X.e,X.n);this.ix.kM.set(W)}else{var D=this.ix.YH.clone();D.offset(-Q.x,-Q.y);this.ix.kM.set(W,D)}}return this.ix.kM};
$.prototype.Fd=function(){var r=this.z;if(this.tN())r=this.SS();return r!=null&&r.isEnabled&&(!r.rect.WB()||r.vf()!=255)};
$.prototype.qT=function(r,Q,W){if(this.$Y()){var b=this.Xg(r);if(b.z&&b.z.isEnabled&&(!b.z.rect.WB()||b.z.color==0)){var X=this.add.SoLd.filterFX.v;
b.z.Rt=X.filterMaskDensity?X.filterMaskDensity.v:255;b.z.$E=X.filterMaskFeather?X.filterMaskFeather.v:0;
var D=b.buffer,h=b.rect;if(h.O()<W.O()){h=W;D=E.Q(h.O()*4);E.TU(b.buffer,b.rect,D,h)}var S=b.z.Vn(W);
E.j4(S);Q=Q.slice(0);E.q.mA(D,h,Q,W,S,W,0,W,1);return{NP:Q,rect:W}}}};$.prototype.amq=function(){var r={gE:!1,Ok:!1,IO:0,bi:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)r.Ok=!0;if(this.SS()&&this.SS().isEnabled)r.gE=!0;if(r.gE&&r.Ok){r.IO=this.SS().rect.x-this.add.vmsk.SS().rect.x;
r.bi=this.SS().rect.y-this.add.vmsk.SS().rect.y}return r};$.prototype.hR=function(r,Q){this.ix.vx=null;
if(Q&&this.SS().$E!=0){Q=Q.clone();var W=Math.round(this.SS().$E*2.4);Q.sg(W,W)}var b=!1;if(this.add.lsct==d1.kJ)return;
var X=this,D=this.SS()!=null&&this.SS().eI,h=this.add.vmsk!=null&&this.add.vmsk.eI,S=this.amq(),a=JSON.stringify(S)!=this.ix.a94||S.gE&&D||S.Ok&&h;
if(a){if(S.Ok){var K=this.add.vmsk.SS();if(S.gE){this.z=this.SS().Se(K);this.ix.Zd=new cp(this.z.rect.x-this.SS().rect.x,this.z.rect.y-this.SS().rect.y)}else this.z=K}if(this.z)b=!0;
if(this.z)this.ix.af=new cp(this.rect.x-this.z.rect.x,this.rect.y-this.z.rect.y);if(S.gE)this.SS().eI=!1;
if(S.Ok)this.add.vmsk.eI=!1;this.U(Q)}else{if(S.gE&&S.Ok){this.z.rect.x=this.SS().rect.x+this.ix.Zd.x;
this.z.rect.y=this.SS().rect.y+this.ix.Zd.y}}if(X.tN()){this.sW(r)}if(X.UE()){var Y;if(this.z)Y=new cp(this.rect.x-this.z.rect.x,this.rect.y-this.z.rect.y);
if(this.z&&this.z.isEnabled&&(this.ix.af==null||!Y.s4(this.ix.af))){this.ix.af=Y;this.U(Q);b=!0}}if(bu.get(X.add)!=null)b=!0;
if(b){var d=this.ix.x9;if(Q&&d&&d!=!0)d=d.Bc(Q);else d=Q?Q:!0;this.ix.x9=d}this.ix.a94=JSON.stringify(S)};
$.prototype.sW=function(r){var Q=this,W=Q.add.vstk,b=new aV(0,0,r.e,r.n),X,D=Q.add.vmsk?this.add.vmsk.SS():null,a=!0,d;
if(D&&D.isEnabled&&D.vf()==0)X=D.J4().clone();else X=b;var h=Q.SS();if(h&&h.isEnabled&&h.vf()==0)X=X.ww(Q.z.J4());
var S=D&&W;if(W&&(!W.strokeEnabled.v||W.strokeStyleLineWidth.v.val==0))S=!1;if(W&&!W.fillEnabled.v&&S)a=!1;
var K=E.Q(X.O()*4);if(a){if(Q.add.SoCo)iI.ax(K,Q.add.SoCo.Clr.v);if(Q.add.GdFl){var Y=D&&D.color==0?E.A.eg(Q.add.vmsk.V,null,!0):null;
iI.fI(Q.add.GdFl,K,X,r,null,Y)}if(Q.add.PtFl)iI.iF(Q.add.PtFl,K,X,r.add.Patt,Q.add.fxrp)}if(S)d=iq.pN.Ba.indexOf(W.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(D){var j=D.Rt;if(S)D.Rt=255;var U=E.Q(X.O());if(D.vf()!=0)U.fill(Math.round(D.vf()));if(D&&D.isEnabled){var I=D.J4(),f=D.P8();
if(I.s4(X))E.qr(f,U);else E.L0(f,I,U,X)}if(S&&d==2){}else{if(Q.add.SoCo&&a){E.nV(U,K,3)}else E.qH(U,X,K,X)}if(S)D.Rt=j}Q.buffer=K;
Q.rect=X;if(S){var g=W.strokeStyleContent.v,H=iq.pN.W8.indexOf(g.classID),u=this.add.vmsk.SS(W);if(d!=0&&!Q.rect.s4(b))Q.extend(Q.rect.Bc(u.J4()));
var j=u.Rt;u.Rt=255;var s=u.Vn(Q.rect);u.Rt=j;if(u.color==255)E.j4(s);var _=E.Q(Q.rect.O()*4);if(H==0)iI.ax(_,g.Clr.v);
if(H==1)iI.fI(g,_,Q.rect,r,null,D.color==0?D.rect:null);if(H==2)iI.iF(g,_,Q.rect,r.add.Patt,Q.add.fxrp);
var i=W.strokeStyleOpacity.v.val/100;if(i!=1)E.wM(s,i);if(u.color==255)d=2-d;if(d<2){E.q.mA(_,Q.rect,Q.buffer,Q.rect,s,Q.rect,255,Q.rect,1,!1);
if(d==0)E.DJ(U,Q.buffer)}if(d==2){E.DJ(s,_);E.j4(U);E.q.mA(_,Q.rect,Q.buffer,Q.rect,U,X,255,Q.rect,1,!1);
E.j4(U)}if(u.Rt!=255){var M=_.slice(0);E.tl(M,4278190080,16777215);E.q.YB("norm",M,Q.rect,Q.buffer,Q.rect,Q.rect,1-u.Rt/255)}j=D.Rt;
D.Rt=255;this.axr=D.Vn(Q.rect);D.Rt=j}this.U()};$.prototype.vd=function(r,Q,W){var b=this,X=b.add.SoLd.Idnt.v,D=b.add.SoLd,h=E.p.Z3(m.EA.JS(D.nonAffineTransform)),S=r.Fu(X,D.Crop?D.Crop.v:null,[h.e,h.n],D.Impr.v.classID,W),U=1;
if(S==null)return;var a=S.EJ;D.Sz.v.Wdth.v=a[1].e;D.Sz.v.Hght.v=a[1].n;var K=S.HW==null?D.Rslt.v.val:S.HW,Y=D.warp.v,d=m.EA.JS(D.nonAffineTransform),j=a[1].clone();
j.e*=U;j.n*=U;j.x=(a[1].e-j.e)/2;j.y=(a[1].n-j.n)/2;var I=E.K.Om(d,j);if(Y&&!E.Eu.fF(Y)){var h=E.p.Z3(E.Eu.c8(Y)),f=h.x,g=h.y,H=1/h.e,u=1/h.n;
I=E.K.Om(d);I=E.K.Se(I,[H,0,-f*H,0,u,-g*u,0,0])}var s=m.EA.wj(a,Q?0:1,I,Y,null,null,null,Q);if(s==null){b.buffer=E.Q();
b.rect=new aV}else if(b.$Y()){var _=b.Xg(r);_.buffer=s.buffer;_.rect=s.rect.clone();this.wl(r,Q)}else{b.buffer=s.buffer;
b.rect=s.rect}b.hR(r);b.U();r.U()};$.prototype.wl=function(r,Q){if(Q==null)Q=!1;var W=this.Xg(r),b=this.add.SoLd.filterFX.v,X=jv.alw(b),D=new aV(0,0,r.e,r.n),h=W.rect.Bc(D),S=W.rect.clone();
S.sg(X.x,X.y);var a={buffer:null,rect:h.ww(S)};a.buffer=E.Q(a.rect.O()*4);E.TU(W.buffer,W.rect,a.buffer,a.rect);
if(b.enab.v&&Q==!1){var K=b.filterFXList.v;for(var n=0;n<K.length;n++){var Y=K[n].v;if(Y.enab.v==!1)continue;
var d=Y.blendOptions.v,j=hG.g9(d.Md.v.BlnM),U=d.Opct.v.val/100,I=E.M.vf(Y.FrgC.v),f=E.M.vf(Y.BckC.v),g=jv.hn(Y),H={buffer:E.Q(a.buffer.length),rect:a.rect.clone()},u=Y.Fltr?Y.Fltr.v:null;
if(bu._6[g]!=null){var s=bu._6[g],_=bu.RP(s,u);if(_)bu.EW(_,a.buffer,H.buffer,a.rect)}else jv.EW(g,a,u,I,f,H,[r.add.lnk2?r.add.lnk2:[],this.SS(),r.Ev]);
if(j=="norm"&&U==1)a=H;else if(j=="norm"){E.q.mA(H.buffer,H.rect,a.buffer,a.rect,null,null,null,a.rect,U)}else{E.q.YB(j,H.buffer,H.rect,a.buffer,a.rect,a.rect,U)}}}this.rect=a.rect;
this.buffer=a.buffer;this.Dg();this.U();r.U()};$.prototype.$i=function(r,Q,W){this.f7=this.a7Q(r,Q,W)};
$.prototype.aG=function(r,Q){var W=this.a7Q(r,Q,!0);if(W==null)return null;var b={zA:W.L$,v9:W.y7,rect:W.AO};
if(b.zA==1||b.zA==3){var X=b.rect,D=E.Q(X.e*X.n*4);E.nV(b.v9,D,0);E.nV(b.v9,D,1);E.nV(b.v9,D,2);E.yZ(r.P.channel,r.P.rect,D,X);
b.v9=D}return b};$.prototype.a7Q=function(r,Q,W){var b,X,D,h,S,a,K;if(this.L$<=0){var Y=E.Q(this.rect.O());
E.TX(this.buffer,Y,3);b=E.Pn.Df(Q,{channel:Y,rect:this.rect},3);if(b==null)return null;var d=E.ub(b.channel,b.rect);
h=b.rect.clone();S=this.rect.clone();X=E.Q(h.O()*4);E.TU(this.buffer,S,X,h);E.nV(b.channel,X,3);D=this.buffer.slice(0);
if(!W){var j=Q.channel.slice(0);E.j4(j);E.qH(j,Q.rect,D,S)}a=this.buffer.slice(0);K=this.rect.clone()}if(this.L$==1||this.L$==3){var U=this.L$==1?this.SS():this.Xg(r).z;
h=Q.rect.clone();S=U.rect.clone();X=U.aq3(h);var D=U.channel.slice(0);if(!W)E.q.ml(U.color==255?E.MX(h.O()):E.lk(h.O()),h,D,S,Q.channel,h,1);
a=U.channel.slice(0);K=U.rect.clone()}return{L$:this.L$,y7:X,AO:h,Wr:D,a$:S,qO:a,iS:K}};$.prototype.dP=function(r,Q){var W=this.f7;
if(W.L$==0){this.rect=W.iS;this.buffer=W.qO;this.U()}if(W.L$==1||W.L$==3){var b=W.L$==1?this.SS():this.Xg(r).z;
b.channel=W.qO;b.rect=W.iS;if(this.L$==1){b.eI=!0;this.hR(r)}if(this.L$==3)this.U()}this.f7=Q};$.prototype.vJ=function(r,Q){if(this.L$<=0&&Q.rect.s4(this.rect)){var W=E.Q(this.rect.O());
E.TX(this.buffer,W,3);if(E.s4(r.P.channel,W)){var b=this.rect,X=this.buffer;this.f7={L$:this.L$,y7:X.slice(0),AO:b.clone(),Wr:E.Q(0),a$:new aV,qO:E.Q(0),iS:new aV};
return!0}}var D=this.f7;if(D==null)return!1;if(D.L$!=this.L$)return!1;if(!Q.rect.s4(D.AO))return!1;var h=D.a$.Bc(D.AO);
if(D.L$<=0){if(!h.s4(this.rect))return!1;var S=E.Q(D.y7.length>>2);E.TX(D.y7,S,3);if(!E.s4(Q.channel,S))return!1;
var a=E.Q(h.e*h.n*4);E.TU(D.Wr,D.a$,a,h);E.q.YB("norm",D.y7,D.AO,a,h,h,1);return E.s4(a,this.buffer)}if(D.L$==1||D.L$==3){var K=D.L$==1?this.SS():this.Xg(r).z;
if(!h.s4(K.rect))return!1;var Y=E.Q(h.O());Y.fill(K.color);E.L0(D.Wr,D.a$,Y,h);E.q.ml(D.y7,D.AO,Y,h,Q.channel,h,1);
return E.s4(Y,K.channel)}};$.prototype.Ae=function(r,Q,W,b){var X=this.f7;X.AO.offset(Q,W);var D=X.a$.Bc(X.AO);
if(X.L$<=0){var h=E.Q(D.O()*4);E.TU(X.Wr,X.a$,h,D);E.q.YB("norm",X.y7,X.AO,h,D,D,1);this.buffer=h;this.rect=D;
this.U()}else{var S=this.L$==1?this.SS():this.Xg(r).z,a=E.Q(D.O());a.fill(S.color);E.L0(X.Wr,X.a$,a,D);
E.q.ml(X.y7,X.AO,a,D,b.channel,D,1);S.channel=a;S.rect=D.clone();if(this.L$==1){S.eI=!0;this.hR(r)}if(this.L$==3)this.U()}};
$.prototype.arU=function(){var r=[-1,0,1,2];if(this.z)r.push(-2);if(this.U0)r.push(-3);return r};$.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
$.prototype._J=function(fb){this.add.luni=this.name=fb};$.prototype.y$=function(r){var Q=this.add.lnsr,W=this.add.TySh;
if(Q=="rend"&&W){var b=aH.Wc(W.kN);this._J(b.slice(0,b.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
$.prototype.cB=function(){return(this.KX&1<<1)==0};$.prototype.UE=function(){return(this.KX&1<<4)==0};
$.prototype.By=function(){return(this.KX&1<<5)!=0};$.prototype.afX=function(){var r=this;if(r.add.lnsr!="bgnd"){r.add.lnsr="bgnd";
r._J("Background");r.add.lspf=1<<2}};$.prototype.aal=function(){var r=this;if(r.add.lnsr=="bgnd"){delete r.add.lnsr;
r._J("Layer 0");r.add.lspf=0}};$.prototype.RV=function(r){var Q=this.add.lspf;return Q==null?!1:(Q>>r&1)!=0};
$.prototype.ky=function(r){if(r&&!this.cB())this.KX-=2;if(!r&&this.cB())this.KX+=2};$.prototype.gw=function(){var r=this.add.lmfx;
if(r==null)return!1;for(var Q in r){if(Q=="masterFXSwitch")continue;if(Q=="Scl")continue;if(Q=="classID")continue;
if(r[Q].v.length>0)return!0}return!1};$.prototype.$Y=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
$.prototype.UW=function(){var r=this.add.lmfx;if(r==null)return!1;if(!r.masterFXSwitch.v)return!1;for(var Q in r){if(Q=="masterFXSwitch")continue;
if(Q=="Scl")continue;if(Q=="classID")continue;var W=r[Q].v;for(var n=0;n<W.length;n++)if(W[n].v.enab.v)return!0}return!1};
$.prototype.qN=function(r,Q,W,b){var X=new aV,D=this.$Z(r,W,b);if(D.indexOf(0)!=-1)X=X.Bc(this.rect);
if(D.indexOf(1)!=-1){var h=this.SS(),S=h.J4();X=W&&h.vf()==0?X.WB()?S:X.ww(S):X.Bc(S)}if(D.indexOf(2)!=-1){var a=this.add.vmsk,K=this.add.vstk,Y;
if(Q){Y=E.A.eg(a.V,a.I.length!=0?a.I:null)}else Y=E.A.eg(a.V);if(!b&&K&&K.strokeEnabled.v){var d=K.strokeStyleLineAlignment.v.strokeStyleLineAlignment,j=K.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(d!="strokeStyleAlignInside"){var U=K.strokeStyleLineWidth.v.val;if(j=="strokeStyleMiterJoin")Y=new aV(0,0,r.e,r.n);
else Y.sg(U,U)}}X=X.Bc(Y)}if(D.indexOf(3)!=-1)X=X.Bc(this.Xg(r).z.J4());if(D.length==0&&this.tN())X=b?new aV(0,0,0,0):new aV(0,0,r.e,r.n);
return X};$.prototype.Qs=function(){var r=this.add.artb,Q=r.artboardBackgroundType.v,W=0;if(Q==1)W=4294967295;
else if(Q==2)W=4278190080;else if(Q==3)W=0;else if(Q==4){W=r.Clr.v;W=255<<24|W.Bl.v<<16|W.Grn.v<<8|W.Rd.v}else throw Q;
return W};$.prototype.QT=function(){var r=this.add.artb.artboardRect.v,Q=r.Btom.v,W=r.Left.v,b=r.Rght.v,top=r.Top.v;
return new aV(W,top,b-W,Q-top)};$.prototype.NG=function(r){var Q=$.M5(r);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=Q};$.M5=function(r){var Q={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
Q.Btom.v=r.y+r.n;Q.Left.v=r.x;Q.Rght.v=r.x+r.e;Q.Top.v=r.y;return Q};$.prototype.$Z=function(r,Q,W){var b=[],X=this;
if(!Q&&X.Uk&&W){b.push(2)}else if(X.L$<=0||Q){if(X.UE())if(!this.rect.WB())b.push(0);if(X.SS()&&!X.SS().rect.WB())if(X.SS().oh||Q)b.push(1);
if(X.add.vmsk)if(X.add.vmsk.oh||Q)b.push(2);if(X.$Y()&&X.Xg(r).z&&!X.Xg(r).z.rect.WB())b.push(3)}else if(X.L$==1){b.push(1);
if(X.SS().oh&&!X.SS().rect.WB()){if(X.UE())if(!this.rect.WB())b.push(0);if(X.add.vmsk)if(X.add.vmsk.oh)b.push(2)}}else if(X.L$==3&&!X.Xg(r).z.rect.WB())b.push(3);
if(X.add.artb&&b.indexOf(0)==-1)b.push(0);b.sort();return b};$.prototype.SS=function(){var r=this;return r.U0?r.U0:r.add.vmsk&&r.add.vmsk.isEnabled?null:r.z};
$.prototype.Xg=function(r){var Q=this.add.SoLd.placed.v,W=r.add.FEid;if(W==null)return null;for(var n=0;
n<W.length;n++)if(W[n].id==Q)return W[n];return null};$.prototype.extend=function(r){E.am2(this,r)};
$.prototype.a98=function(r,Q,W){var b=r.clone();if(this.UW()){var X=this.add.lmfx,D=Q.root.Nn(Q.B.indexOf(this)),h=X.gradientFillMulti.v,S=!1;
for(var n=0;n<h.length;n++)if(h[n].v.enab.v&&h[n].v.Algn.v)S=!0;if(S)b=b.Bc(D.J4(Q,!1));var a=iI.aeB(this.add.lmfx,Q,W);
b.offset(a.x,a.y);b.e+=a.e;b.n+=a.n}return b};$.prototype.Dg=function(){if(this.UE())E.qM(this);var r=this.SS();
if(r)r.Dg()};$.prototype.clone=function(){var r=new $;r.rect=this.rect.clone();r.buffer=this.buffer.slice(0);
r.iX=this.iX;r.opacity=this.opacity;r.Cw=this.Cw;r.KX=this.KX;r.name=this.name;r.vG=this.vG.slice(0);
if(this.z)r.z=this.z.clone();if(this.U0)r.U0=this.U0.clone();for(var Q in this.add)r.add[Q]=bK.clone(Q,this.add[Q]);
return r};$.prototype.fw=function(r){var Q=this;if(Q.add.TySh)delete Q.add.TySh;if(Q.add.SoLd){var W=this.qT(r,this.buffer,this.rect);
if(W){this.buffer=W.NP;this.rect=W.rect;this.U()}delete Q.add.SoLd}if(Q.add.SoCo||Q.add.GdFl||Q.add.PtFl){if(Q.add.vogk)delete Q.add.vogk;
if(Q.add.SoCo)delete Q.add.SoCo;if(Q.add.GdFl)delete Q.add.GdFl;if(Q.add.PtFl)delete Q.add.PtFl;if(Q.add.vmsk){console.log(Q.U0,Q.z);
delete Q.add.vmsk;if(Q.U0==null&&Q.z)delete Q.z;else if(Q.U0!=null&&Q.z!=null){Q.z=Q.U0;delete Q.U0}}}if(!Q.wf()&&bu.get(Q.add)==null&&!this.UE())this.KX-=16};
$.prototype.YU=function(r){var Q=255,W=0;if(r==2){var b=this.add.SoLd.filterFX.v;if(b.filterMaskDensity)Q=b.filterMaskDensity.v;
if(b.filterMaskFeather)W=b.filterMaskFeather.v}else{var X=r==0?this.SS():this.add.vmsk;Q=X.Rt;W=X.$E}return{uT:r,JM:Q,SL:W}};
$.prototype.aa9=function(r){if(r.uT==2){var Q=this.add.SoLd.filterFX.v;if(r.JM==255)delete Q.filterMaskDensity;
else Q.filterMaskDensity={t:"long",v:r.JM};if(r.SL==0)delete Q.filterMaskFeather;else Q.filterMaskFeather={t:"doub",v:r.SL};
this.U()}else{var W=r.uT==0?this.SS():this.add.vmsk;W.Rt=r.JM;W.$E=r.SL;W.eI=!0}};$.prototype.P7=function(){var r=this,Q=r.add.vmsk;
if(Q==null)return;r.add.vogk=E.X.a5G(Q.V)};$.P7=function(r){var Q=[],W=E.A.jm(r);for(var b=0;b<W;b++)Q.push(E.X.lk());
return Q};var d1={TL:0,O9:1,$B:2,kJ:3};$.lA=function(){this.name="Mask";this.Xo=!1;this.Mi={o:255,W:0,k:0};
this.VT=50;this.tv=0;this.color=255;this.oh=!0;this.isEnabled=!0;this.dk=!1;this.Rt=255;this.$E=0;this.rect=new aV;
this.channel=E.Q(0);this.Sw=null;this.awj=null;this.eI=!0};$.lA.prototype.Se=function(r){if(!this.isEnabled)return r;
var Q=new $.lA;Q.color=Math.round(this.vf()*r.vf()/255);if(this.vf()==0&&r.vf()==0)Q.rect=this.J4().ww(r.J4());
else if(r.vf()==0)Q.rect=r.J4().clone();else if(this.vf()==0)Q.rect=this.J4().clone();else Q.rect=this.J4().Bc(r.J4());
Q.channel=this.Vn(Q.rect);Q.Rt=255;Q.$E=0;var W=r.Vn(Q.rect);E.axn(W,Q.rect,Q.channel,Q.rect);return Q};
$.lA.prototype.J4=function(){if(this.$E==0)return this.rect;var r=Math.ceil(this.$E*2.2),Q=this.rect.clone();
if(Q.y==0){if(Q.x==0)Q.e+=r;else Q.sg(r,0);Q.n+=r}else Q.sg(r,r);return Q};$.lA.prototype.P8=function(){if(this.$E==0&&this.Rt==255)return this.channel;
if(this.$E==0){var r=this.channel.slice(0);E.j4(r);E.wM(r,this.Rt/255);E.j4(r);return r}var Q=this.J4(),W=this.aq3(Q),r=E.Q(Q.O());
E.Cb.Ka(W,r,Q,this.$E);if(this.Rt!=255){E.j4(r);E.wM(r,this.Rt/255);E.j4(r)}return r};$.lA.prototype.vf=function(){return Math.round(255-(255-this.color)*(this.Rt/255))};
$.lA.prototype.extend=function(r){E.extend(this,r,this.color)};$.lA.prototype.Dg=function(){if(this.color==255)E.j4(this.channel);
E.Dg(this);if(this.color==255)E.j4(this.channel)};$.lA.prototype.clone=function(){var r=new $.lA;r.name=this.name;
r.Xo=this.Xo;r.Mi=this.Mi;r.VT=this.VT;r.tv=this.tv;r.color=this.color;r.oh=this.oh;r.isEnabled=this.isEnabled;
r.dk=this.dk;r.Rt=this.Rt;r.$E=this.$E;r.rect=this.rect.clone();r.channel=this.channel.slice(0);return r};
$.lA.prototype.aq3=function(r,Q){if(Q==null)Q=E.Q(r.O());Q.fill(this.color);E.L0(this.channel,this.rect,Q,r);
return Q};$.lA.prototype.Vn=function(r,Q){var W=this.J4(),b=this.P8();if(Q==null)Q=E.Q(r.O());Q.fill(this.vf());
E.L0(b,W,Q,r);return Q};$.vL=function(){this.oh=!0;this.isEnabled=!0;this.Rt=255;this.$E=0;this.V=[{type:6},{type:8,all:0}];
this.Sp=[-3,-3];this.Lt=!1;this.U0=null;this.eI=!0;this.I=[];this.UJ=[]};$.vL.prototype.offset=function(r,Q){this.U0=this.SS();
E.A.Zl(this.V,new au(1,0,0,1,r,Q));this.U0.rect.offset(r,Q)};$.vL.prototype.SS=function(r){if(!this.eI&&this.U0&&r==null){this.U0.isEnabled=this.isEnabled;
return this.U0}var Q=E.A.eg(this.V),W="strokeStyleLineAlignment",b="strokeStyleLineJoinType";if(Q.O()>3e4*3e4)Q=new aV(0,0,100,100);
if(r&&r[W].v[W]!="strokeStyleAlignInside"){var X=1;if(r[b].v[b]=="strokeStyleMiterJoin"){var D=E.A.abF(this.V),h=D/2,S=Math.sin(h),a=Math.cos(h);
a/=S;S=1;var X=Math.sqrt(a*a+S*S);if(isNaN(X)||X<1)X=1}X*=r[W].v[W]=="strokeStyleAlignOutside"?1:.5;
var K=Math.ceil(r.strokeStyleLineWidth.v.val*X);K=Math.min(K,600);Q.sg(K,K)}Q=E.p.jq(Q);var Y=new $.lA;
Y.color=E.A.sq(this.V)?0:255;Y.oh=this.oh;Y.isEnabled=this.isEnabled;Y.dk=!0;Y.rect=Q;Y.Rt=this.Rt;Y.$E=this.$E;
Y.channel=E.Q(Y.rect.O());if(!Q.WB())E.A.a9Y(this.V,Y.channel,Y.rect,r);if(r==null){this.U0=Y;this.eI=!1}return Y};
$.vL.prototype.clone=function(){var r=new $.vL;r.oh=this.oh;r.isEnabled=this.isEnabled;r.Rt=this.Rt;
r.$E=this.$E;r.V=$.vL.Ld(this.V);r.Sp=this.Sp.slice(0);r.Lt=this.Lt;r.I=this.I.slice(0);r.UJ=this.UJ.slice(0);
return r};$.vL.prototype.concat=function(r){var Q=r.V.slice(2);if(Q.length==0)return;Q[0].xo=3;this.V=this.V.concat(Q)};
$.vL.Ld=function(r){var Q=[];for(var n=0;n<r.length;n++){var W=r[n];if(W.type>5||W.type==0||W.type==3)Q.push(JSON.parse(JSON.stringify(W)));
else Q.push({type:W.type,f0:W.f0.clone(),F:W.F.clone(),rP:W.rP.clone()})}return Q};$.vL.a1P=function(r,Q,W){if(r.length!=Q.length)return!1;
for(var n=2;n<r.length;n++){var b=r[n],X=Q[n];if(b.type!=X.type)return!1;if(b.type==0||b.type==3){if(b.length!=X.length||!W&&b.xo!=X.xo)return!1}else if(!b.f0.s4(X.f0)||!b.F.s4(X.F)||!b.rP.s4(X.rP))return!1}return!0};
$.vL.prototype.aah=function(){var r=this.V;for(var n=3;n<r.length;n++)if(r[n].type==0||r[n].type==3)r[n].xo=-1};
$.Uw=function(){this.type=null;this.Vc=2;this.c5=null;this.Ao="";this.pj="";this.C3="";this.open=0;this.raw=null;
this.EJ=null;this.a1J="";this.Vo=!1};$.Uw.prototype.clone=function(){var r=new $.Uw;r.type=this.type;
r.Vc=this.Vc;r.c5=this.c5;r.Ao=this.Ao;r.pj=this.pj;r.C3=this.C3;r.open=this.open;r.raw=new Uint8Array(this.raw.buffer.slice(0));
return r};$.Uw.prototype.T6=function(r,Q,W,b,X){if(W==null)W="none";var D=this,h=fH.E$(D.raw.buffer),S=h=="svg"||h=="pdf";
if(D.EJ){var a=Q&&S&&Math.max(D.EJ[1].e,D.EJ[1].n)<Math.max(Q[0],Q[1]);if(!a&&W==this.a1J&&!D.Vo)return}this.a1J=W;
if(!S)r=0;if(h==null){alert("Unsupported format: "+c.zV(D.raw,0,4));return null}var K=fH.Qt(h);if(K.gF){var Y=new bj(name+(h=="psd"?"":"-"+h)+".psd"),d;
K.ni(D.raw.buffer,Y,Q);var j=new aV(0,0,Y.e,Y.n);if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(W)!=-1){var U=[];
for(var n=0;n<Y.B.length;n++){var I=Y.B[n],f=I.buffer;if(!I.rect.s4(j)){f=E.Q(j.O()*4);E.TU(I.buffer,I.rect,f,j);
console.log("resizing")}U.push(f)}d=E.Q(j.O()*4);E.stack.stack(U,d,W)}else{for(var n=0;n<Y.B.length;
n++)if(Y.B[n].tN())Y.B[n].hR(Y);if(b&&Y.Vo){var g=eO.ajB(Y,b,X);D.Vo=!g;if(g)eO.a2B(Y,b,X)}Y.cW();Y.U();
Y.W4();d=Y.T6()}D.EJ=[d,j];D.HW=Y.HW!=null&&Y.HW!=0?Y.HW:72}else if(K){var H=K.ni(D.raw.buffer)[0];D.EJ=[new Uint8Array(H.data),H.Kx];
D.HW=H.HW!=null&&H.HW!=0?H.HW:72}if(D.EJ){if(r==1){var f=D.EJ[0],u=D.EJ[1],s=E.Q(u.O());E.TX(f,s,3);
var _=E.ub(s,u),i=E.Q(_.O()*4);E.TU(f,u,i,_);D.EJ=[i,_]}E.P$(D.EJ)}};$.fE="0";$.YL="2";$.oY="2.5";$.wk="2.6";
$.CC="3";$.t2="4";$.gp="4.5";$.a3R="4.6";$.af6="5";$.H2="5.5";$.a2y="6";$.ej="7";$.a10="8";$.Qd="9";
$.Qr="9.3";$.a2N="9.5";$.oO="9.6";$.uK="10";$.TQ="11";$.HS="12";$.HT="13";$.bQ="13.1";$.auk="13.2";$.sR="13.3";
$.lX="13.4";$.sj="14";$.sD="14.1";$.mg="14.2";$.Xi="14.3";$.eJ="17";$.K2="18";$.aeU="19";$.lW="19.5";
$.BC="19.6";$.nP="19.7";$.JD="19.8";$.zq="20";$.lo="21";$.Vi="21.5";$.ql="22";$.MG="22.5";$.yu="23";
$.aaZ="24";$.OB="25";$.ayp="26";$.aho="27";$.Rq="28";$.BI="29";$.fc="30";$.$u="31";$.Vl="32";$.b$="33";
$._P="34";$.cT="35";$.HX="36";$.tn="36.5";$.bm="37";$.e9="37.5";$.a8M="37.6";$.rT="38";$.FW="38.5";$.Fi="38.6";
$.Nd="39";$.gT="40";$.auP="41";$.abO="42";$.AH="50";$.wy="51";$.H0="52";$.S4="53";$.H$="54";$.api="54.5";
$.Cp="54.6";$.ag1="54.7";$.$M="54.8";$.L3="55";$.g1="56";$.iO="57";$.QB="58";$.sK="59";$.wp="60";function a2(){this.depth=0;
this.index=-1;this.l=null;this.a4a=null;this.IW=-1;this.children=null;this.parent=null;this.oC=null}a2.prototype.auQ=function(r,Q){if(this.depth!=0)r.push(this.l.getName());
if(this.children)for(var n=0;n<this.children.length;n++)this.children[n].auQ(r,Q);if(r.length>Q.UM.length)Q.UM=r.slice(0);
if(this.depth!=0)r.pop()};a2.prototype.awk=function(){var r=0;if(this.l.wf()){for(var n=0;n<this.children.length;
n++)r+=this.children[n].awk()}else if(this.l.buffer)r+=this.l.buffer.length;return r};a2.prototype.Nn=function(r){var Q=this.oC[r];
return this.oC[r]};a2.prototype.axR=function(r,Q){var W=this.l;if(!W.cB()||W.RV(2)||W.RV(31))return null;
if(W.Fd()){var b=W.z.rect.fs(r);if(!b&&W.z.color==0)return}if(W.wf()){for(var n=0;n<this.children.length;
n++){var fb=this.children[n];fb.axR(r,Q)}}else if(W.rect.fs(r))Q.push(this.index)};a2.prototype.Js=function(r,Q){var W=this.l;
if(!W.cB()||W.RV(2)||W.RV(31))return null;if(W.Fd()){if(W.z.rect.LS(r)){if(!E.Js(r,W.z.channel,W.z.rect))return null}else if(W.z.color==0)return null}if(W.wf()){if(W.add.artb&&!W.QT().LS(r))return null;
for(var n=this.children.length-1;n>=0;n--){var fb=this.children[n],b=fb.Js(r,Q);if(b&&Q==null)return b}return null}else if(W.add.TySh&&W.rect.LS(r)||E.a58(r,W.buffer,W.rect)){if(Q==null)return this;
else Q.push(this.index)}return null};a2.prototype.avV=function(r){var Q=this.l;if(!Q.cB()||Q.RV(2)||Q.RV(31))return null;
var W=Q.add.vmsk;if(W&&W.isEnabled){var b=E.A.Js(W.V,r).C_;if(b!=-1)return{acp:this,a1A:b}}if(Q.wf()){if(Q.add.artb&&!Q.QT().LS(r))return null;
for(var n=this.children.length-1;n>=0;n--){var fb=this.children[n],X=fb.avV(r);if(X)return X}return null}return null};
a2.prototype.a1l=function(r,Q){r.push(this.index);if(this.l.wf()){r.push(this.IW);if(Q)if(this.l.L$==1&&this.l.SS().oh==!1)return;
for(var n=0;n<this.children.length;n++)this.children[n].a1l(r)}};a2.sv=function(){var r=document.createElement("canvas");
return r.getContext("2d")};a2.ahY=function(r,Q){var W,b;if(r.e>r.n){W=Q;b=Math.floor(Q*(r.n/r.e))}else{W=Math.floor(Q*(r.e/r.n));
b=Q}return new cp(W,b)};a2.Ds=32;a2.Q$=1;a2.prototype.Rs=function(r,Q,W){var b=a2.Q$,X=this.l;if(X.wf()&&X.add.artb!=null)Q=X.QT();
var D=b==0?X.rect:Q;if(D.WB()||X.add.TySh)D=Q;var h=a2.Ds*m.i(),S=a2.ahY(D,h),a=S.x,K=S.y,Y=a2.ahY(Q,h);
if(X.tN()&&X.add.vmsk==null||X.add.TySh)a=K=Math.max(K,16);else if(X.wf()){a=K=16}else{a=Math.max(a,6);
K=Math.max(K,6)}if(W&&X.Kq==null){X.Kq=a2.sv();X.K_=a2.sv();X.$l=a2.sv();X.IG=a2.sv()}var d=X.tN()&&X.add.vmsk;
if(d){if(W&&X.add.vstk)E.JA.IT(X.Kq,a,K,D,X.buffer,X.rect,!1,null,!X.add.vstk.fillEnabled.v&&!X.add.vstk.strokeEnabled.v);
if(W)E.JA.abD(X.Kq,a,K)}else if(X.add.TySh){if(W)E.JA.aoR(X.Kq,K,K,X.add.TySh)}else if(X.add.SoCo){if(W)E.JA.a6A(X.Kq,K,K,X.add.SoCo)}else if(X.add.GdFl){if(W)E.JA.atj(X.Kq,K,K,X.add.GdFl)}else if(X.add.PtFl){if(W)E.JA.a44(X.Kq,K,K,X.add.PtFl,r)}else if(bu.get(X.add)!=null){if(W)E.JA.anN(X.Kq,K,K,X.add)}else if(X.add.SoLd){if(W)E.JA.IT(X.Kq,a,K,D,X.buffer,X.rect,!1);
if(W)E.JA.a3T(X.Kq,a,K,X.add.SoLd)}else if(X.wf()){}else{if(W){if(X.UE())E.JA.IT(X.Kq,a,K,D,X.buffer,X.rect,!1);
else{E.JA.atZ(X.Kq,K,K)}}}var j=X.SS();if(W){if(j)E.JA.Qm(X.K_,Y.x,Y.y,Q,j);if(X.$Y()&&X.Xg(r)&&X.Xg(r).z){var U=X.Xg(r).z;
E.JA.Qm(X.IG,Y.x,Y.y,Q,U)}if(!d&&X.add.vmsk){E.JA.Qm(X.$l,Y.x,Y.y,Q,X.add.vmsk.SS(),!0)}}if(j||X.add.vmsk)K=Math.max(K,Y.y);
X.a99=Math.max(K,16);if(W!=!0&&X.wf()&&(X.add.lsct==d1.O9||r.B.length<4e3))for(var n=0;n<this.children.length;
n++)this.children[n].Rs(r,Q)};a2.prototype.adW=function(r,Q,W,b){this.depth=W;var X=r[Q];if(b==null)b=[];
this.oC=b;if(X.add.lsct==d1.kJ){this.a4a=X;this.IW=Q-1;this.children=[];var n=Q+1;while(!0){var D=r[n];
if(D==null)console.log(n,r.length);if(D.add.lsct==d1.O9||D.add.lsct==d1.$B){if(X.add.lyid==D.add.lyid)X.add.lyid+=16777215;
this.l=D;this.index=n-1;b[this.index]=this;b[Q-1]=this;break}var h=new a2;h.parent=this;n=h.adW(r,n,W+1,b);
this.children.push(h)}return n+1}else{this.l=X;this.index=Q-1;b[this.index]=this;return Q+1}};a2.prototype.FS=function(r,Q,W,b){var X=this.Nn(W),D=r;
while(X.parent!=null){D=X.l.a98(D,Q,b);X=X.parent}return D};a2.prototype.J4=function(r,Q){var W=this.l,b=new aV;
if(!W.cB())return b;var X=W.SS();if(W.wf())for(var n=0;n<this.children.length;n++){var D=this.children[n].J4(r,!0);
b=b.Bc(D)}else if(bu.get(W.add)!=null)b=W.Fd()&&W.z.color==0?W.z.J4().clone():new aV(0,0,r.e,r.n);else if(W.tN()&&W.add.vmsk&&W.add.vmsk.isEnabled&&W.add.vstk){b=W.rect.clone()}else if(W.tN()&&X&&X.isEnabled&&X.vf()!=0)b=new aV(0,0,r.e,r.n);
else{b=W.qN(r,!1,!0);if(W.add.vmsk)b=E.p.jq(b)}return Q?W.a98(b,r):b};a2.Zv={delete:function(r){if(r&&r.e)r.delete()},Q:function(r,Q){return gn.Kz?new gn.yC(r,Q):E.Q(r*Q*4)},Em:function(r,Q,W){if(gn.Kz){if(r==null||r.e!=Q||r.n!=W){a2.Zv.delete(r);
return new gn.yC(Q,W)}}else{if(r==null||!(r instanceof Uint8Array)||r.length!=Q*W*4){a2.Zv.delete(r);
return E.Q(Q*W*4)}}return r},L0:function(r,Q,W,b,X){(gn.Kz?gn.ow:E.TU)(r,Q,W,b,X)},mA:function(r,Q,W,b,X,D,h,S,n,a,K){(gn.Kz?gn.q.pP:E.q.mA)(r,Q,W,b,X,D,h,S,n,a,K)},aeW:function(r,Q,W,b,X,D,h,S){var a=W.clone(),K=X.e,Y=X.n,d=a.x,j=a.y,U=a.x+a.e>K?-1:0,I=a.x<0?2:1,f=a.y+a.n>Y?-1:0,g=a.y<0?2:1;
for(var H=f;H<g;H++)for(var u=U;u<I;u++){a.x=d+u*K;a.y=j+H*Y;a2.Zv.YB(r,Q,a,b,X,D,h,S)}},YB:function(r,Q,W,b,X,D,h,S){if(gn.Kz)gn.q.N2(r,Q,W,b,X,D,h,S);
else E.q.YB(r,Q,W,b,X,D,h,S)},tl:function(r,Q,W){if(gn.Kz){gn._h(r);gn.YM(Q,W)}else E.tl(r,Q,W)},a3Z:function(r,Q,W,b,X){if(gn.Kz){gn.q.pP(null,null,b,X,r,Q,W,X,1,!1)}else{if(W==255)E.qH(r,Q,b,X);
else{var D=E.Q(Q.O());E.my(b,X,D,Q);E.ES(r,D);E.tl(b,0,16777215);E.yZ(D,Q,b,X)}}},Zn:function(r,Q,W,b){if(gn.Kz)gn.q.pP(null,null,W,b,r,Q,0,b,1,!1);
else E.Zn(r,Q,W,b)}};a2.prototype.tD=function(r,Q,W,b,X,D){var h=typeof D=="number";if(!this.l.wf()&&(h&&this.index>D||!h&&D.indexOf(this.index)==-1)){return}var S=this.l,a=iI.R$(S),K=a2.Zv,Y=S.tN()?S.SS():S.z;
if(!S.cB())return;if(S.Fd()&&Y.rect.WB()&&Y.vf()==0){return}if(S.add.vstk==null&&this.J4(b,!1).WB()){return}var d=this.J4(b,!0).ww(W);
if(!Q.s4(W)&&!W.fs(d))return;if(S.wf()&&S.add.artb){var j=S.QT();W=W.ww(j)}var U=a2.a1N(S,X,a);if(!U){this.aqT(r,Q,W,b,X,D);
return}S.ix.h0=K.Em(S.ix.h0,d.e,d.n);K.L0(r,Q,S.ix.h0,d,W);this.aqT(S.ix.h0,d,W,b,X,D);K.mA(S.ix.h0,d,r,Q,null,null,0,W,S.opacity/255,S.iX=="diss",a.KY)};
a2.a1N=function(r,Q,W){if(W.KY[0]*W.KY[1]*W.KY[2]==0)return!0;return r.opacity!=255&&(Q.length!=0||r.wf()||r.UW())};
a2.aoP={ix:{}};a2.prototype.aqT=function(r,Q,W,b,X,D){var h=this.l,S=iI.R$(h),a=bu.get(h.add)!=null,K=a2.Zv,Y=a2.a1N(h,X,S),d=Y?1:h.opacity/255,j=h.tN()?h.SS():h.z,U=h.wf()&&S.jB==null&&(h.iX=="pass"||h.add.artb)&&!(X.length>0||S.fill!=1||h.UW()),I=!h.wf()&&!a&&!h.UW()&&X.length==0,f=a&&!h.UW()&&X.length==0,i=null,M=null,T=null,y;
if(U||I||f){var g=r,H=Q;if(h.Fd()){H=this.J4(b,!1);g=h.ix.xx=K.Em(h.ix.xx,H.e,H.n);K.L0(r,Q,h.ix.xx,H)}if(U)this.qg(g,H,W,b,D);
if(I)K.YB(h.iX,h.a8J(b),h.rect,g,H,W,d,S);if(f){var u=h.Fd()&&j.vf()==0?j.J4().clone():H.clone(),s=h.ix;
if(u.s4(new aV(0,0,b.e,b.n)))s=a2.aoP;s.RS=this.ax8(g,H,s.RS,u,h.add);S.QV=!0;K.YB(h.iX,s.RS,u,g,H,W,d,S)}if(h.Fd())K.mA(g,H,r,Q,h.a0p(),j.J4(),j.vf(),W,1,h.iX=="diss");
h.ix.ael();return}var _=h.wf()&&h.iX=="pass"&&(X.length>0||S.fill!=1||h.UW()),u=h.rect;if(h.wf()){u=this.J4(b,!1);
T=h.ix.RS=K.Em(h.ix.RS,u.e,u.n);K.tl(T,0);this.qg(T,u,u,b,D);M=K.Em(h.ix.xy,u.e,u.n);K.L0(T,u,M,u)}else if(a){u=h.Fd()&&j.vf()==0?j.J4().clone():Q.clone();
M=K.Em(h.ix.xy,u.e,u.n);K.tl(M,4294967295)}else{u=h.rect;i=h.a8J(b);M=K.Em(h.ix.xy,u.e,u.n);K.L0(i,u,M,u)}h.ix.xy=M;
if(h.Fd())K.a3Z(h.a0p(),j.J4(),j.vf(),M,u);if(h.UW())if(h.ix.YH||h.ix.Tq||h.ix.VE!=gn.Kz||h.ix.x9||h.wf()){var R=h.add.vmsk,z=E.Q(u.O());
if(iI.aqF(h.add.lmfx)){if(gn.Kz){if(!h.wf()&&h.SS()==null&&h.rect.s4(u)&&R==null)E.TX(h.buffer,z,3);
else{var G=E.Q(u.O()*4);M.get(G);E.TX(G,z,3)}}else E.TX(M,z,3)}if(h.ix.Tq||h.ix.VE!=gn.Kz||!E.s4(z,h.ix.XZ)){var V=null;
if(h.tN()&&R&&R.isEnabled&&R.SS().color==0)V=R.SS().rect;iI.ap6(h.ix.b5);h.ix.b5=iI.agp(z,u,h.add.lmfx,h.add.fxrp,b,V);
h.ix.XZ=z;h.ix.aoH=u}}if(h.UW())iI.acS(h.add.lmfx,h.ix.b5,u,r,Q,W);if(h.wf()){i=K.Em(h.ix.xx,u.e,u.n);
K.tl(i,0);if(h.iX=="pass")K.L0(r,Q,i,u);if(_)K.Zn(T,u,i,u);this.qg(i,u,W,b,D);h.ix.xx=i}if(a){i=h.ix.xx=this.ax8(r,Q,h.ix.xx,u,h.add)}if(h.wf()||a)y=i;
else{y=K.Em(h.ix.xx,u.e,u.n);K.L0(i,u,y,u,W);h.ix.xx=y}K.tl(y,4278190080,16777215);for(var n=0;n<X.length;
n++)X[n].tD(y,u,W,b,[],D);var k=h.ix.Y3=K.Em(h.ix.Y3,u.e,u.n);K.L0(r,Q,k,u,W);if(a)S.QV=!0;K.YB(h.iX=="pass"?"norm":h.iX,y,u,k,u,W,1,S);
if(h.UW()){var B=h.ix.b5.type.FrFX,v=null;if(B.length!=0){v=B[0];for(var n=0;n<B.length;n++)if(B[n].h3.e>v.h3.e)v=B[n];
h.ix._X=K.Em(h.ix._X,v.h3.e,v.h3.n);K.L0(r,Q,h.ix._X,v.h3,W);h.ix.bE=K.Em(h.ix.bE,v.h3.e,v.h3.n)}iI.ahR(h.add.lmfx,h.ix.b5,u,r,Q,W,k,h.ix._X,h.ix.bE,v?v.h3:null)}if(!gn.Kz){var l=E.Q(u.O());
E.TX(M,l,3);M=l}K.mA(k,u,r,Q,M,u,0,W,1,h.iX=="diss");h.ix.ael()};a2.prototype.aou=function(r,Q,W,b){var X=this.l,D=X.add.lmfx,h=X.add.TySh,S=X.add.SoLd;
if(!X.cB())return;if(!X.rect.WB()&&!X.rect.fs(b))return;Q.save();if(X.add.artb){var a=X.QT();Q.beginPath();
Q.rect(a.x,a.y,a.e,a.n);Q.clip();b=b.ww(a);var K=X.Qs();if(K!=0){var a=K>>>16&255,Y=K>>>8&255,d=K&255;
Q.fillStyle="#"+E.Y0(d<<16|Y<<8|a);Q.fillRect(b.x,b.y,b.e,b.n)}}var j=X.opacity/255*(X.add.iOpa?X.add.iOpa/255:1);
Q.globalAlpha*=j;Q.globalCompositeOperation=hG.o9[hG.Av.indexOf(X.iX)];function U(L,Z){return CSS.qp({o:L[0]*255,W:L[1]*255,k:L[2]*255},Z)}function I(z){var L=h2.We(z,new au,X.rect);
if(L.length==3)return U(L);else{var Z,t=L.crds,A=L.grad;if(L.typ=="lin")Z=Q.createLinearGradient(t[0],t[1],t[2],t[3]);
else Z=Q.createRadialGradient(t[0],t[1],t[2],t[3],t[4],t[5]);for(var n=0;n<A.length;n++)Z.addColorStop(A[n][0],U(A[n][1],A[n][2]));
return Z}}function f(L,Z){var u=L.ix.vx;if(u==null)u=L.ix.vx=E.p._i(L.add.vmsk.V,Z);return u}var g=CSS.a4V(r,D);
if(!X.wf())for(var n=0;n<g.length;n++){var H=g[n];if(H.startsWith("drop-shadow")){H=H.slice(12,-1).split(" ");
Q.shadowOffsetX=parseFloat(H[0])*r.u._;Q.shadowOffsetY=parseFloat(H[1])*r.u._;Q.shadowBlur=parseFloat(H[2])*r.u._*2.4;
Q.shadowColor=H[3]}}if(X.wf()){if(X.add.vmsk){var u=f(X,!1),s=u.DM;Q.beginPath();Typr.U.pathToContext({cmds:s.H,crds:s.C},Q);
Q.clip()}for(var n=0;n<this.children.length;n++)this.children[n].aou(r,Q,W,b)}else if(h){var _=!0;if(X.ix.path==null){_=eO.rM(h,W.zl);
if(_)eO.w2(X,W.zl,!1)}if(_){if(r.u._<1)a2.apk(r,X,Q,new au(1,0,0,1,X.rect.x,X.rect.y),X.ix.G5);else if(X.ix.path)eO.axd(X.ix.path,Q)}}else if(X.tN()&&X.add.vmsk){var i=X.add.vmsk,M=X.add.vstk,D=X.add.lmfx,T=M.fillEnabled.v;
if(!M.strokeEnabled.v)M=iI.XQ(D);var R=M?iq.pN.Ba.indexOf(M.strokeStyleLineAlignment.v.strokeStyleLineAlignment):-1,u=f(X,R!=-1),s=u.DM;
if(M){Q.strokeStyle=I(M.strokeStyleContent.v);E.A.Ku(M,Q)}if(T&&X.add.PtFl==null){var z=iI.k5(D,X.add),G=z[0],V=z[1];
Q.fillStyle=I(G?G:V)}if(i.$E!=0)Q.filter="blur("+i.$E*r.u._+"px)";Q.beginPath();Typr.U.pathToContext({cmds:s.H,crds:s.C},Q);
if(R==2){Q.stroke()}if(T){Q.fill(["nonzero","evenodd"][X.ix.vx.AO]);if(R==0)Q.clip()}if(R==0||R==1){Q.stroke()}}else if(!X.rect.WB()){var y=null,k=null;
if(S){var B=S.filterFX;if(B){var z=B.v.filterFXList.v;for(var n=0;n<z.length;n++){var H=z[n].v;if(!H.enab.v)continue;
var v=jv.hn(H);if(v=="GsnB"){Q.filter="blur("+H.Fltr.v.Rds.v.val*r.u._+"px)"}}}var l=S.Idnt.v,F=r.Fu(l,S.Crop?S.Crop.v:null);
y=E.K.sB(S);k=F.EJ}a2.apk(r,X,Q,y,k)}Q.globalAlpha/=j;Q.globalCompositeOperation="source-over";Q.restore()};
a2.apk=function(r,Q,W,b,X){if(b==null)b=new au;var D=Q.buffer,h=Q.rect;if(X){var S=b.mO()*r.u._,a=0;
while(1<<a/2<.5/S&&a+2<X.length)a+=2;D=X[a];h=X[a+1];h=h.clone();h.x=h.y=0;var S=1<<a/2,K=new au;K.scale(S,S);
K.concat(b);b=K}if(h.WB())return;var Y=document.createElement("canvas");Y.width=h.e;Y.height=h.n;var d=Y.getContext("2d");
d.putImageData(new ImageData(new Uint8ClampedArray(D.buffer),h.e,h.n),0,0);W.transform(b.mu,b.k,b.th,b.HR,b.rn,b.NQ);
W.drawImage(Y,h.x,h.y);b.j4();W.transform(b.mu,b.k,b.th,b.HR,b.rn,b.NQ)};a2.prototype.ax8=function(r,Q,W,b,X){var D=bu.get(X),h;
if(D)h=bu.RP(D,X[D]);var S=a2.Zv;W=S.Em(W,b.e,b.n);if(!(gn.Kz&&Q.s4(b)))S.L0(r,Q,W,b);if(h){if(gn.Kz){var a=b.clone();
a.x=a.y=0;if(Q.s4(b)){gn._h(W,a);bu.CJ(h,r.G6,a)}else{gn._h(W,b);W.x7(b);bu.CJ(h,W.mr,a)}}else bu.EW(h,W,W,b)}return W};
a2.prototype.qg=function(r,Q,W,b,X){var D=Q,h=D.e,S=D.n,a=D.x,K=D.y,fb=W,Y=fb.x,d=fb.y,j=-1,U=-1,I=2,f=2;
if(!b.c7){j=U=0;I=f=1}var g=this.children;for(var n=0;n<g.length;n++){var H=[];for(var u=n+1;u<g.length;
u++)if(g[u].l.Cw)H.push(g[u]);else break;for(var s=U;s<f;s++)for(var _=j;_<I;_++){D.x=a+_*h;D.y=K+s*S;
fb.x=Y+_*h;fb.y=d+s*S;g[n].tD(r,D,fb,b,H,X)}n+=H.length}D.x=a;D.y=K;fb.x=Y;fb.y=d};function bj(r){this.EB="psd";
this.sz=!1;this.name=r;this.CN=-1;this.c7=!1;this.FX=null;this.wG=null;this.AW=null;this.VQ=null;this.e=0;
this.n=0;this.buffer=null;this.B=[];this.NT={};this.add={};this.Rk=4;this.Tr=null;this.HW=72;this.L8={};
this.I=[];this.RE=[];this.Wy=!1;this.Pq=[];this.W6=[];this.ZS=[bj.ei("Work Path")];this.Me=[];this.qS=null;
this.nU={classID:"CompList",list:{t:"VlLs",v:[]}};this.AR=[];this.NA=[];this.root=null;this.ZU=null;
this.Vo=!1;this.alv=!1;this.a84=!1;this.Lu=!1;this.fi=!1;this.a9=!1;this.Ca=!1;this.yV=!1;this.Ts=!1;
this.mz=!1;this.YH=null;this.bl=null;this.P=null;this.Ev=[];this.Qw=[];this.g={aR:{},in:[],aj_:[],h2:[],eD:[],ac:null,Wd:null,_e:null,E1:null,YZ:null,Ii:[],Ql:[],Gi:null};
this.history=[new c2([1,0],null)];this.Je=0;this.Vq=0;this.sP=0;this.u=new cD(this);this.W1=null;this.BD=null}bj.Ah=function(){var r=8,Q=[0,0,0,.145,.051,.051,.263,.071,.067,.416,.051,.055,.573,.102,.11,.71,.122,.141,.851,.122,.149,.929,.122,.141,.075,.149,.078,.153,.153,.078,.275,.153,.055,.424,.157,.071,.569,.153,.114,.706,.165,.141,.855,.161,.153,.933,.196,.141,.118,.282,.133,.18,.29,.129,.286,.29,.122,.427,.294,.114,.573,.298,.129,.71,.294,.149,.855,.298,.153,.941,.306,.133,.035,.431,.224,.157,.427,.212,.294,.431,.204,.427,.435,.18,.569,.431,.165,.71,.435,.161,.851,.431,.153,.953,.435,.133,.012,.576,.278,.145,.569,.271,.29,.576,.259,.427,.576,.239,.569,.576,.212,.706,.573,.184,.855,.576,.157,.969,.569,.118,.114,.698,.294,.165,.702,.29,.29,.714,.286,.424,.714,.271,.573,.718,.243,.71,.714,.204,.855,.714,.153,.988,.714,.078,.314,.722,.282,.329,.722,.278,.392,.737,.275,.478,.757,.259,.584,.788,.239,.714,.827,.2,.859,.859,.125,.996,.855,0,.412,.741,.271,.427,.745,.267,.471,.753,.259,.533,.773,.251,.624,.8,.227,.725,.835,.2,.843,.875,.137,.973,.925,.075,.055,.059,.137,.141,.059,.141,.271,.059,.149,.424,.043,.149,.576,.098,.157,.714,.122,.153,.859,.122,.153,.929,.114,.176,.02,.145,.141,.137,.137,.137,.282,.141,.137,.431,.141,.145,.576,.145,.141,.714,.149,.145,.859,.141,.153,.933,.192,.184,.012,.286,.145,.145,.286,.141,.286,.286,.141,.431,.29,.141,.576,.286,.141,.714,.286,.149,.855,.286,.153,.941,.302,.176,.027,.427,.22,.153,.431,.216,.29,.427,.2,.427,.431,.18,.576,.431,.165,.714,.427,.161,.859,.431,.153,.949,.427,.165,.039,.576,.278,.153,.573,.271,.282,.573,.259,.431,.576,.239,.569,.573,.212,.71,.573,.184,.859,.576,.153,.969,.569,.165,.114,.698,.294,.165,.702,.29,.286,.718,.286,.424,.714,.267,.576,.722,.243,.714,.714,.204,.855,.714,.153,.988,.71,.137,.314,.722,.282,.341,.725,.278,.396,.737,.275,.486,.761,.259,.588,.788,.239,.714,.831,.2,.859,.855,.145,.996,.859,.129,.416,.741,.271,.439,.749,.271,.482,.757,.263,.537,.776,.251,.631,.804,.231,.725,.831,.196,.851,.878,.133,.969,.925,.18,.075,.075,.278,.145,.063,.29,.282,.067,.286,.424,.082,.294,.573,.102,.298,.714,.118,.298,.855,.11,.298,.933,.11,.306,.063,.141,.278,.137,.141,.286,.286,.137,.282,.427,.145,.286,.573,.141,.286,.714,.141,.29,.863,.149,.294,.937,.188,.302,0,.29,.29,.141,.286,.286,.29,.286,.286,.427,.29,.29,.573,.29,.29,.718,.29,.286,.859,.282,.286,.941,.302,.302,0,.427,.286,.145,.431,.29,.286,.427,.29,.424,.427,.286,.573,.427,.29,.718,.427,.286,.859,.427,.282,.953,.431,.302,0,.573,.282,.145,.576,.282,.286,.573,.282,.427,.573,.282,.576,.573,.282,.71,.569,.282,.859,.573,.278,.969,.569,.306,.114,.698,.294,.176,.702,.29,.286,.718,.286,.427,.718,.282,.576,.714,.278,.718,.722,.294,.855,.71,.278,.988,.71,.286,.329,.725,.282,.349,.729,.278,.4,.737,.278,.486,.761,.29,.592,.792,.298,.714,.835,.306,.859,.859,.278,1,.855,.286,.431,.745,.267,.451,.749,.267,.482,.757,.259,.549,.776,.247,.639,.804,.224,.733,.839,.224,.855,.882,.275,.973,.929,.306,.141,.133,.392,.165,.133,.408,.29,.141,.42,.416,.141,.424,.561,.133,.431,.71,.122,.439,.859,.082,.435,.929,.098,.431,.137,.184,.408,.176,.169,.424,.282,.157,.431,.424,.145,.424,.573,.141,.427,.714,.145,.427,.859,.137,.427,.929,.173,.427,0,.286,.427,.141,.29,.431,.29,.29,.431,.427,.29,.427,.576,.286,.427,.718,.29,.431,.859,.286,.427,.941,.298,.431,0,.427,.424,.145,.427,.427,.286,.427,.427,.427,.427,.427,.569,.427,.424,.718,.431,.431,.863,.427,.427,.949,.424,.431,0,.573,.427,.125,.573,.427,.282,.573,.427,.431,.576,.431,.569,.573,.427,.714,.573,.424,.851,.569,.424,.965,.569,.431,.082,.706,.427,.133,.71,.427,.282,.71,.424,.424,.714,.424,.576,.718,.427,.714,.714,.424,.863,.718,.427,.984,.71,.427,.322,.729,.404,.345,.733,.408,.404,.745,.412,.478,.765,.42,.588,.796,.424,.718,.843,.431,.863,.863,.435,1,.863,.435,.439,.749,.341,.455,.753,.341,.494,.765,.345,.557,.784,.349,.643,.812,.373,.733,.843,.388,.851,.89,.424,.976,.941,.451,.169,.184,.51,.176,.176,.522,.298,.176,.537,.416,.169,.541,.553,.153,.557,.698,.118,.553,.847,.094,.557,.929,.133,.565,.161,.212,.529,.18,.184,.541,.294,.184,.553,.427,.173,.561,.565,.153,.561,.718,.157,.565,.851,.157,.565,.933,.196,.565,.075,.29,.561,.141,.286,.573,.286,.29,.576,.424,.286,.573,.576,.29,.576,.718,.29,.576,.859,.286,.573,.933,.298,.569,0,.427,.573,.141,.427,.573,.286,.427,.573,.427,.427,.569,.573,.427,.573,.718,.431,.576,.859,.427,.573,.945,.424,.569,0,.573,.573,.149,.576,.576,.286,.573,.576,.427,.573,.573,.573,.573,.573,.718,.576,.576,.859,.573,.573,.961,.565,.573,0,.714,.573,.133,.714,.573,.278,.71,.573,.427,.714,.576,.573,.718,.573,.718,.714,.573,.859,.714,.576,.98,.71,.576,.325,.741,.537,.345,.745,.537,.404,.757,.545,.482,.78,.553,.588,.808,.565,.718,.851,.573,.859,.859,.569,1,.863,.573,.439,.761,.49,.451,.761,.486,.49,.776,.498,.557,.796,.51,.635,.82,.518,.737,.855,.537,.863,.906,.561,.976,.953,.588,.165,.231,.588,.227,.231,.592,.31,.235,.592,.408,.227,.588,.525,.227,.588,.635,.227,.584,.761,.239,.588,.878,.243,.588,.173,.255,.608,.216,.255,.604,.314,.255,.604,.408,.255,.6,.525,.255,.6,.643,.255,.596,.761,.267,.6,.882,.267,.596,.141,.314,.639,.208,.318,.639,.306,.318,.639,.42,.314,.631,.541,.318,.631,.659,.318,.624,.784,.325,.62,.91,.337,.624,.012,.431,.718,.149,.431,.714,.294,.431,.71,.431,.431,.702,.573,.427,.69,.71,.431,.678,.835,.435,.671,.945,.435,.667,0,.573,.714,.145,.573,.718,.29,.576,.718,.427,.573,.714,.576,.573,.714,.71,.569,.71,.859,.573,.714,.957,.569,.71,0,.71,.71,.129,.714,.714,.278,.714,.71,.427,.714,.714,.576,.718,.718,.714,.714,.714,.859,.718,.714,.973,.706,.714,.322,.753,.667,.337,.757,.667,.4,.769,.671,.482,.792,.686,.588,.824,.698,.714,.867,.718,.859,.863,.714,.996,.855,.714,.435,.773,.62,.459,.78,.627,.49,.788,.631,.557,.808,.643,.647,.835,.659,.749,.875,.675,.867,.918,.702,.988,.969,.725,.212,.29,.624,.243,.29,.62,.318,.29,.62,.396,.286,.62,.486,.286,.616,.58,.282,.608,.686,.282,.608,.788,.29,.608,.216,.306,.631,.251,.306,.631,.314,.306,.627,.392,.306,.627,.49,.302,.624,.58,.302,.62,.686,.302,.616,.796,.314,.616,.224,.345,.655,.255,.345,.659,.318,.345,.651,.396,.345,.651,.494,.345,.643,.592,.345,.639,.702,.353,.635,.816,.373,.643,.212,.424,.71,.247,.424,.706,.318,.424,.702,.412,.42,.694,.525,.431,.694,.635,.447,.698,.749,.459,.69,.859,.467,.69,.133,.569,.816,.2,.565,.812,.31,.569,.808,.443,.569,.792,.576,.569,.78,.694,.569,.765,.812,.58,.761,.914,.584,.753,0,.714,.855,.133,.714,.859,.286,.714,.863,.431,.714,.859,.573,.714,.859,.718,.714,.863,.859,.714,.839,.969,.706,.82,.302,.765,.796,.329,.769,.796,.392,.784,.808,.471,.804,.82,.588,.839,.847,.718,.859,.859,.859,.859,.859,.988,.855,.855,.439,.788,.749,.451,.792,.749,.498,.804,.757,.553,.82,.769,.647,.851,.784,.753,.886,.812,.871,.933,.839,.996,.984,.863,.224,.325,.643,.251,.325,.643,.306,.322,.639,.38,.322,.635,.459,.318,.631,.545,.318,.631,.631,.314,.624,.725,.322,.624,.235,.333,.647,.263,.337,.651,.31,.333,.647,.38,.333,.643,.463,.333,.639,.545,.333,.635,.631,.325,.627,.737,.337,.627,.251,.365,.671,.275,.365,.667,.318,.365,.667,.384,.361,.659,.467,.361,.655,.549,.361,.651,.651,.376,.651,.757,.4,.659,.255,.427,.71,.275,.42,.702,.329,.42,.702,.4,.42,.694,.486,.431,.698,.58,.447,.698,.686,.467,.702,.8,.494,.71,.278,.529,.78,.306,.533,.78,.373,.541,.78,.455,.545,.776,.553,.557,.776,.643,.569,.773,.749,.592,.776,.843,.604,.773,.275,.694,.898,.302,.694,.894,.384,.69,.886,.49,.698,.878,.604,.706,.871,.718,.706,.855,.812,.714,.847,.898,.722,.839,.31,.784,.925,.333,.788,.925,.388,.8,.941,.471,.824,.961,.592,.855,.973,.725,.851,.949,.859,.851,.929,.957,.855,.914,.435,.8,.867,.443,.804,.867,.494,.816,.875,.557,.835,.886,.651,.867,.91,.757,.906,.933,.878,.953,.969,1,1,1];
Q=cf.Mo(r,Q);return[r,Q]}();bj.prototype.Fj=function(r){if(r){if(r.length==30240){this.Fj(null);return}this.NT.r1039=r;
var Q=ICC.R(r.buffer),X=null,D=17,a,K;if(Q==null){this.Fj(null);return}var W=Q.header.spaceIn.toLowerCase(),b=JSON.stringify(Q.tags.desc).toLowerCase();
try{X=ICC.U.profileName(Q)}catch(aA){}if(W!="rgb "||X==null||b.indexOf("srgb")!=-1){this.Fj(null);return}console.log("We got an ICC profile!",Q,X);
try{var h=ICC.U.sampleLUT(Q,D)}catch(aA){this.Fj(null);return}var S=h.slice(0),Y=E.Q(4),d=bj.Ah[0],j=bj.Ah[1];
for(var n=0;n<h.length;n+=3){Y[0]=h[n]*255;Y[1]=h[n+1]*255;Y[2]=h[n+2]*255;ICC.U.applyLUT(j,d,Y,Y);S[n]=Y[0]/255;
S[n+1]=Y[1]/255;S[n+2]=Y[2]/255}if(gn.Kz){a=new gn.yC(D,D*D);a.set(ICC.U.rgba8LUT(h,D));K=new gn.yC(D,D*D);
K.set(ICC.U.rgba8LUT(S,D))}this.W1=[r,Q,D,h,a,S,K]}else{delete this.NT.r1039;this.W1=null}};bj.prototype.NE=function(){return this.W1};
bj.prototype.eC=function(){if(this.W1)return this.W1;if(this.add.fcmy==1){if(this.BD==null){var r=bj.Ah[0],Q=bj.Ah[1],W;
if(gn.Kz){W=new gn.yC(r,r*r);W.set(ICC.U.rgba8LUT(Q,r))}this.BD=[null,null,r,null,null,Q,W]}return this.BD}};
bj.prototype.agO=function(){var r=this;if(r.u.Vu.join("")!="111"){r.u.Vu=[1,1,1];r.a9=!0}for(var n=0;
n<r.B.length;n++){var Q=r.B[n],W=Q.add.vmsk;if(Q.$Y()){var b=Q.Xg(r);if(b&&b.z&&b.z.Xo){b.z.Xo=!1;r.a9=!0}}var X=Q.SS();
if(X&&X.Xo){X.Xo=!1;r.a9=!0}if(W){if(W.I.length!=0)W.I=[];if(W.UJ.length!=0)W.UJ=[]}}};bj.prototype.dL=function(){var r=this;
return r.P!=null||r.tt()[1].length!=0||r.I.length>1};bj.prototype.NO=function(){var r=this.RE,Q=[];for(var n=0;
n<r.length;n++)Q[n]=-1;var W=this.root.children;for(var n=0;n<W.length;n++){var b=W[n],X=b.l.add.artb;
if(X==null)continue;var D=X.guideIndeces;D=D?D.v:[];for(var h=0;h<D.length;h++)Q[D[h].v]=b.index}return[JSON.parse(JSON.stringify(r)),Q]};
bj.prototype.xg=function(r){this.RE=JSON.parse(JSON.stringify(r[0]));var Q=r[1],W=this.root.children;
for(var n=0;n<W.length;n++){var b=W[n],X=b.l.add.artb;if(X==null)continue;X.guideIndeces={t:"VlLs",v:[]}}for(var n=0;
n<Q.length;n++)if(Q[n]!=-1)this.B[Q[n]].add.artb.guideIndeces.v.push({t:"long",v:n})};bj.prototype.aqb=function(r){var Q=this;
if(r[0])Q.add.lnk2=r[0];else delete Q.add.lnk2;if(r[1])Q.add.FEid=r[1];else delete Q.add.FEid;if(r[2])Q.add.Patt=r[2];
else delete Q.add.Patt};bj.prototype.abf=function(r){var Q=this,W=[],b=[],X=[],I=null,f=null,g=null;
for(var n=0;n<r.length;n++){var D=r[n];if(D.add.SoLd){W.push(D.add.SoLd.Idnt.v);b.push(D.add.SoLd.placed.v)}if(D.add.PtFl)X.push(D.add.PtFl.Ptrn.v.Idnt.v);
if(D.add.lmfx){for(var h=0;h<iq.lY.length;h++){var S=D.add.lmfx[iq.lY[h]].v;for(var a=0;a<S.length;a++)if(S[a].v.Ptrn){var K=S[a].v;
if(K.classID=="FrFX"&&K.PntT.v.FrFl!="Ptrn")continue;X.push(K.Ptrn.v.Idnt.v)}}}var Y=D.add.vstk;if(Y&&Y.strokeStyleContent.v.classID=="patternLayer"){X.push(Y.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var d=Q.add.lnk2,j=Q.add.FEid,U=Q.add.Patt;
if(d){I=[];for(var n=0;n<d.length;n++)if(W.indexOf(d[n].c5)!=-1)I.push(d[n]);if(I.length==0)I=null}if(j){f=[];
for(var n=0;n<j.length;n++)if(b.indexOf(j[n].id)!=-1)f.push(j[n]);if(f.length==0)f=null}if(U){g=[];for(var n=0;
n<U.length;n++)if(X.indexOf(U[n].id)!=-1)g.push(U[n]);if(g.length==0)g=null}return[I,f,g]};bj.prototype.b4=function(r){var Q=this,W=Q.root.Nn(r==null?Q.I[0]:r),b=!1;
while(W.parent!=null){b=b||W.l.RV(31);W=W.parent}return b};bj.prototype.F0=function(){var r=this.Ev,Q=this.Ev.length;
if(Q!=0&&r[Q-1].name=="Quick Mask")return r[Q-1]};bj.prototype.uO=function(){return this.EB==ec.JW("% |/!)")||this.EB==ec.ez("gP")};
bj.prototype.dQ=function(r){var Q=this.add.artd;if(r!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:r},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};bj.prototype.jJ=function(r){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(r)==-1)this.add.FEid.push(r)};
bj.prototype.jt=function(r){var Q=this.add.FEid.indexOf(r);this.add.FEid.splice(Q,1);if(this.add.FEid.length==0)delete this.add.FEid};
bj.prototype.U=function(r){if(r==null)r=new aV(0,0,this.e,this.n);if(this.YH==null)this.YH=r;else this.YH=this.YH.Bc(r)};
bj.prototype.adI=function(r){return this.YH!=null};bj.prototype.ib=function(r){var Q=this.B[r],W=this.root.Nn(r);
if(W==null)return!1;if(Q.wf()||W.parent.children.indexOf(W)==0)return!1;return!0};bj.ada=function(r){if(r.add.lnk2)for(var n=0;
n<r.add.lnk2.length;n++){var Q=r.add.lnk2[n].c5;r.add.lnk2[n].c5=bj.zQ()+Q.slice(8);for(var W=0;W<r.B.length;
W++){var b=r.B[W].add.SoLd;if(b&&b.Idnt.v==Q)b.Idnt.v=r.add.lnk2[n].c5}}};bj.prototype.xE=function(r,Q,W){r.sort(function(d,j){return d-j});
var top=r[r.length-1],b=this.B.slice(0),X=this.I.slice(0),D=[],h=[];for(var n=0;n<this.B.length;n++){if(r.indexOf(n)!=-1)h.push(this.B[n]);
else D.push(this.B[n])}this.pY(h);this.I=[];var S=this.root.J4(this,!0);if(Q)S=S.ww(Q);if(W)S=S.Bc(W);
if(S.WB())S=new aV(0,0,100,100);var a=new aV(-S.x,-S.y,this.e,this.n),K=new Uint8Array(fH.Qt("PSD").Al(this,0,0,[!0,!1]));
this.pY(b);this.I=X;var Y=new bj(this.B[top].getName());fH.Qt("PSD").ni(K.buffer,Y);delete Y.add.artd;
Y.Pq=[];Y.pY(Y.B);Y.xg([[],[]]);bj.ada(Y);m.Fp.$_(Y,S);Y.U();Y.W4();Y.T6();return[Y,S,D,top]};bj.prototype.avP=function(r,Q,W){var b=this.xE(r),X=b[0],D=b[1],h=b[2],top=b[3],S;
if(W=="jpg")S=new Uint8Array(fH.Qt("JPG").Al([[X.T6().buffer]],X.e,X.n,[80]));else S=new Uint8Array(fH.Qt("PSD").Al(X,null,null,[!0,!1]));
if(Q)h=this.B.slice(0);var a=this.jS(S,X.name,D.x,D.y);if(top==this.B.length-1)h.push(a);else h.splice(Q?top+1:top-r.length+1,0,a);
this.pY(h);this.I=[h.indexOf(a)]};bj.zQ=function(r){if(r==null)r="";var Q="";while(Q==""||Q==r){Q="";
for(var n=0;n<8;n++)Q+=Math.floor(Math.random()*16).toString(16)}return Q};bj.prototype.PT=function(r){if(r==null)return;
if(this.add.Patt==null)this.add.Patt=[];var Q=this.add.Patt;for(var n=0;n<Q.length;n++)if(Q[n].id==r.id)return;
Q.push(r)};bj.prototype.jS=function(r,Q,W,b,X,D,h){if(this.add.lnk2==null)this.add.lnk2=[];var S=null,U=!1;
for(var n=0;n<this.add.lnk2.length;n++)if(E.s4(r,this.add.lnk2[n].raw)){S=this.add.lnk2[n].c5;break}if(S==null){var a=fH.E$(r.buffer);
S=bj.zQ()+"-d71c-11e5-b1ae-a548a96e5f9f";var K=new $.Uw;K.c5=S;K.C3=a=="psd"?"8BIM":"    ";K.Ao=Q+"."+a;
K.pj=a=="psd"?"8BPB":"    ";K.open=0;K.raw=r;K.type="liFD";K.Vc=2;this.add.lnk2.push(K)}var Y=this.Fu(S,null,null,null,D,h),d=bj.zQ()+"-d71c-11e5-b1ae-a548a96e5f9f",j=this.b_();
j._J(Q);if(Y!=null){var I=0,f=0,g=this.e,H=this.n;if(X){I=X.x;f=X.y;g=X.e;H=X.n}var u=j.rect=Y.EJ[1].clone();
u.offset(I+W,f+b);var s=Math.max(u.e/g,u.n/H),U=X!=null&&s>1.0001;if(U){u.e=Math.round(u.e/s);u.n=Math.round(u.n/s);
u.x=Math.round(I+(g-u.e)/2);u.y=Math.round(f+(H-u.n)/2)}else if(X!=null&&fH.E$(r.buffer)=="pdf"&&this.HW!=144){var s=144/this.HW;
u.e=Math.round(u.e/s);u.n=Math.round(u.n/s);U=!0}j.buffer=E.Q(u.O()*4);if(!U)E.qr(Y.EJ[0],j.buffer)}j.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:S},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:d},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:E.Eu.Q(Y?Y.EJ[1]:j.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:j.rect.e},Hght:{t:"doub",v:j.rect.n}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:Y?Y.HW:72}}};
var _=E.p.vk(j.rect).C;j.add.SoLd.Trnf=m.EA.Aa(_);j.add.SoLd.nonAffineTransform=m.EA.Aa(_);if(U)j.vd(this,!1);
return j};bj.prototype.T6=function(r){if(r!=null){this.U();this.W4(r);var Q=this.buffer;if(gn.Kz)this.ZU.get(Q);
else Q=Q.slice(0);this.U();this.W4();return Q}if(this.YH){this.W4();this.YH=null}if(gn.Kz&&this.bl){this.ZU.get(this.buffer);
this.bl=null;this.Ca=!0}return this.buffer};bj.prototype.aau=function(){for(var n=0;n<this.B.length;
n++)this.B[n].a5N();this.U()};bj.prototype.acW=function(){for(var n=0;n<this.B.length;n++)if(this.B[n].add.lmfx)this.B[n].ix.Tq=!0};
bj.prototype.D5=function(){var r=this.NT.r1044;if(r==null){r=this.NT.r1044=new Uint8Array(4);var Q=0;
for(var n=0;n<this.B.length;n++)Q=Math.max(Q,this.B[n].add.lyid);c.hC(r,0,Q)}var W=c.v(r,0);c.hC(r,0,W+1);
return W+1};bj.prototype.P2=function(r,Q,W){if(r==null)r=!0;var b=this;if(b.Qw.length!=0)return!0;if(b.I.length!=1){if(r)alert(b.I.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.Fv(r,Q,W)};bj.prototype.Fv=function(r,Q,W){if(r==null)r=!0;if(Q==null)Q=!1;var b=this;
if(b.Qw.length!=0)return!0;for(var n=0;n<b.I.length;n++){var X=b.B[b.I[n]],D=Q||X.L$<=0;if(X.add.lsct!=null&&X.add.lsct!=d1.TL&&X.L$!=1){if(r)alert(aA.get([15,7,2]));
return!1}if(D&&!X.UE()){if(r)alert(aA.get([15,7,2]));return!1}if(D&&X.add.TySh){return this.amN(r,[15,7,3],W)}if(D&&X.add.SoLd){return this.amN(r,[15,7,4],W)}if(X.RV(1)||b.b4(b.I[n])){if(r)alert(aA.get([6,57,0]));
return!1}}return!0};bj.prototype.amN=function(r,Q,W){if(r&&typeof r=="object"){var b=new km(e.E.L);b.data={d:e.c.Re,wv:"confirm"};
b.data.h=aA.get(Q)+". "+aA.get([6,8])+"?";var X=r;b.data.eq=function(){var D=new km(e.E.Kk,!0);D.data={r7:"rasterizeLayer",Hf:{classID:"rasterizeLayer",null:cO.RG("Lyr",!0)}};
X.$(D)};r.$(b);return!1}if(r)alert(aA.get(Q));return!1};bj.prototype.afr=function(r){var Q=this.root.Nn(r);
if(Q.parent)return Q.l.cB()&&this.afr(Q.parent.index);else return Q.l.cB()};bj.prototype.vE=function(r){var Q=this;
if(r){var W=0;for(var n=0;n<Q.I.length;n++)if(Q.B[Q.I[n]].add.artb)W++;if(W>1)return-1}if(Q.add.artd&&Q.I.length!=0){var b=Q.root.Nn(Q.I[0]);
while(b.parent.parent)b=b.parent;if(b.l.add.artb)return b.index}return-1};bj.prototype.a08=function(){var r=this.B[this.I[0]];
if(r.L$<=0&&!r.rect.fs(this.P.rect)){alert("Selected area is empty.");return!1}if(this.I.length==1&&this.P){var Q=E.Q(this.P.channel.length);
E.my(r.buffer,r.rect,Q,this.P.rect);E.ES(this.P.channel,Q);if(E.pV(Q,0)){alert("Selected area is empty.");
return!1}}return!0};bj.prototype.QR=function(){if(this.NT["r"+1037]==null)this.Pz(30);return c.Kv(this.NT["r"+1037],0)};
bj.prototype.Pz=function(r){if(this.NT["r"+1037]==null)this.NT["r"+1037]=new Uint8Array(4);if(c.Kv(this.NT["r"+1037],0)==r)return;
c.iH(this.NT["r"+1037],0,r);this.acW()};bj.prototype.SJ=function(){if(this.NT["r"+1049]==null)this.pJ(30);
return c.Kv(this.NT["r"+1049],0)};bj.prototype.pJ=function(r){if(this.NT["r"+1049]==null)this.NT["r"+1049]=new Uint8Array(4);
if(c.Kv(this.NT["r"+1049],0)==r)return;c.iH(this.NT["r"+1049],0,r);this.acW()};bj.prototype.JR=function(r){if(this.add.lnk2==null)return null;
for(var n=0;n<this.add.lnk2.length;n++)if(this.add.lnk2[n].c5==r)return this.add.lnk2[n];return null};
bj.prototype.a0E=function(r){var Q=this.JR(r);if(Q==null)return!1;var W=fH.E$(Q.raw.buffer);if(W==null)return!1;
if(fH.Qt(W)!=null||W=="psd")return!0;return!1};bj.prototype.Fu=function(r,Q,W,b,X,D){var h=this.JR(r);
if(h==null)return null;h.T6(Q,W,b,X,D);if(h.EJ)return h};bj.prototype.ayb=function(){var r=this.e,Q=this.n;
if(gn.Kz&&this.ZU==null)this.ZU=new gn.yC(r,Q,!0);if(this.buffer==null||this.buffer.length!=r*Q*4||gn.Kz&&(this.ZU.e!=r||this.ZU.n!=Q)){this.buffer=E.Q(r*Q*4);
if(this.ZU)this.ZU.delete();if(gn.Kz)this.ZU=new gn.yC(r,Q,!0)}};bj.prototype.ahv=function(){this.ayb();
if(gn.Kz){this.ZU.set(this.buffer)}};bj.prototype.W4=function(r){var Q=this.e,W=this.n,b=new aV(0,0,Q,W),X=this.c7?b:b.ww(this.YH);
this.ayb();if(X.WB())return;if(!X.s4(b)){if(!gn.Kz){var D=E.lk(X.O()*4);E.TU(D,X,this.buffer,b)}if(gn.Kz){gn._h(this.ZU,X);
gn.YM(0)}}else{if(gn.Kz){this.ZU.set(null)}else{this.buffer.fill(0)}}var h=Date.now(),S=gn.Kz?this.ZU:this.buffer;
if(r==null)r=1e9;var a=this.root.children;for(var n=0;n<a.length;n++){var K=a[n].l;if(K.cB()&&K.add.artb&&this.add.artd){var Y=K.QT(),d=X.ww(Y),j=K.Qs();
if(j!=0){if(gn.Kz){gn._h(S,d);gn.YM(j);gn.YM(j)}else E.aaw(S,b,d,j)}}}this.root.tD(S,b,X,this,[],r);
this.bl=this.YH.clone()};bj.prototype.b_=function(r){var Q=new $;Q.rect=new aV(0,0,0,0);Q.buffer=E.Q(1);
Q.add.luni=new cp(0,0);if(r!=!0)Q.add.lyid=this.D5();Q.add.lsct=d1.TL;Q.add.lclr=0;Q.add.fxrp=new cp(0,0);
return Q};bj.prototype.Tz=function(r){var Q=this.b_(r);Q._J("</Layer group>");Q.add.lsct=d1.kJ;Q.KX=24;
return Q};bj.prototype.u1=function(){return this.Je!=this.Vq};bj.prototype.C1=function(r){while(this.history.length>this.Je+1)this.history.pop();
if(this.Vq>this.Je)this.Vq=-1;if(r.b.id!=m.Op){this.Lu=!0;if(this.nU.lastAppliedComp){delete this.nU.lastAppliedComp;
this.Ca=!0}}this.history.push(r);this.Je++;this.Ca=!0;var Q=b6.KJ()?60:30,W=0;for(var n=this.history.length-1;
n>=0;n--){var b=this.history[n];if(b.pF)continue;W++;if(W==Q){this.Je-=n;this.history=this.history.slice(n);
break}}};bj.prototype.bk=function(){if(this.Je!=this.history.length-1)return null;return this.history[this.history.length-1]};
bj.prototype.ZP=function(r,Q,W,b){if(r==null)r=!1;var X=Q!=null?[Q]:this.I.slice(0);if(b){var D=[];for(var n=0;
n<X.length;n++){var h=this.B[X[n]],S=h.dS;if(h.J8&&S!=0&&D.indexOf(S)==-1)D.push(S)}if(D.length!=0)for(var n=0;
n<this.B.length;n++){var h=this.B[n],S=h.dS;if(h.J8&&S!=0&&D.indexOf(S)!=-1&&X.indexOf(n)==-1)X.push(n)}}var a=[];
for(var n=0;n<X.length;n++){var K=this.B2(X[n],r);for(var Y=0;Y<K.length;Y++)if(a.indexOf(K[Y])==-1)a.push(K[Y]);
if(W){var fb=this.root.Nn(X[n]);while(fb.parent!=null&&fb.parent.parent!=null){fb=fb.parent;if(a.indexOf(fb.index)==-1){a.push(fb.index,fb.IW)}}}}return a};
bj.prototype.P4=function(r,Q,W){var b=this,X=b.ZP(!1,r,null,W);X.sort(function(s,_){return s-_});var D={};
for(var h=0;h<b.B.length;h++){var S=b.B[h].getName();D[S]=!0}var a=[];for(var n=0;n<X.length;n++){var K=b.B[X[n]].clone(),g,H;
K.add.lyid=b.D5();K.add.lspf=0;if(K.$Y()){var Y=K.Xg(b),d=bj.a3I(Y);b.jJ(d);K.add.SoLd.placed.v=d.id}else if(K.add.SoLd){var j=K.add.SoLd.placed.v;
K.add.SoLd.placed.v=bj.zQ(j.slice(0,8))+j.slice(8)}K.hR(b);var U=K.getName(),I=U.length;while(48<=U.charCodeAt(I-1)&&U.charCodeAt(I-1)<=57)I--;
var f=parseInt(U.slice(I));if(isNaN(f)){if(U.endsWith(" copy")){f=1;g=U.slice(0,U.length-5)}else{f=0;
g=U}}else if(U.slice(0,I).endsWith(" copy ")){f=f;g=U.slice(0,I-6)}else{f=0;g=U}f++;while(!0){H=g+" copy"+(f==1?"":" "+f);
if(D[H]==null)break;f++}var u=X.indexOf(this.root.Nn(X[n]).parent.index)!=-1;if(U=="Background"&&b.B.length==1)H="Layer 1";
if(Q!=!0&&!u)K._J(H);D[H]=!0;a.push(K)}return a};bj.a3I=function(r){return{id:bj.zQ(r.id.slice(0,8))+r.id.slice(8),buffer:r.buffer.slice(0),rect:r.rect.clone(),z:r.z?r.z.clone():null}};
bj.a6P=function(r){return{id:r,rect:new aV,buffer:E.Q(1),z:new $.lA}};bj.ei=function(r,Q){if(Q==null)Q={vmsk:new $.vL};
if(Q.vogk==null){Q.vogk=[];var W=E.A.jm(Q.vmsk.V);for(var b=0;b<W;b++)Q.vogk.push(E.X.lk())}return{name:r,C_:0,add:Q}};
bj.prototype.tt=function(r){var Q=[],W=[],b=this,D=0;for(var n=1;n<b.ZS.length;n++){var X=b.ZS[n];X.C_=-1-n;
Q.push(X);if(b.Me.indexOf(n)!=-1)W.push(Q.length-1)}if(b.ZS[0].add.vmsk.V.length>2){var X=b.ZS[0];X.C_=-1;
Q.push(X);if(b.Me.indexOf(0)!=-1)W.push(Q.length-1)}var h=b.qS==null;if(h)b.qS=[];for(var n=b.I.length-1;
n>=0;n--){var S=b.B[b.I[n]],a=S.add.TySh;if(S.add.vmsk!=null&&(S.Uk||S.tN())){var X=bj.ei("\""+S.getName()+"\" Shape Path",S.add);
X.C_=b.I[n];Q.push(X);if(h)b.qS.push(D);if(b.qS.indexOf(D)!=-1)W.push(Q.length-1);D++}if(r!=!0&&a&&a.add&&E.Eu.fF(a.xR)){var X=bj.ei("\""+S.getName().slice(0,10)+"..\" Text Path",a.add);
X.C_=1e6+b.I[n];Q.push(X);W.push(Q.length-1);D++}}if(W.length==0&&r){b.ZS[0].C_=-1;b.Me=[0];W.push(Q.length);
Q.push(b.ZS[0])}return[Q,W]};bj.prototype.B2=function(n,r){var Q=[],fb=this.root.Nn(n);if(fb)fb.a1l(Q,r);
return Q};bj.prototype.qk=function(){this.root.Rs(this,new aV(0,0,this.e,this.n))};bj.prototype.pY=function(r){for(var n=0;
n<this.B.length;n++){var Q=this.B[n];if(r.indexOf(Q)==-1){Q.ix.asi();Q.U()}}var W=0;for(var n=0;n<r.length;
n++)if(r[n].add.artb)W++;this.dQ(W);this.B=r.slice(0);this.cW()};bj.prototype.cW=function(){var r=this.B,Q=r.length;
this.root=new a2;var W=this.b_(!0);W.iX="pass";W.add.lsct=d1.O9;W._J("");var b=this.Tz(!0),X=[b];for(var n=0;
n<Q;n++)X.push(r[n]);X.push(W);this.root.adW(X,0,0);if(this.I.length==0)this.I=[Q-1]};bj.prototype.fb=function(){if(this.I.length!=1)return;
var r=this.root.Nn(this.I[0]);while(r.parent!=null){var Q=r.parent.l;Q.add.lsct=d1.O9;r=r.parent}this.a9=this.a6X=!0};
bj.prototype.a9Q=function(){this.cW();var r=[this.root],dN=0;while(r.length!=0){var top=r.pop();dN++;
if(top.l.add.lsct==d1.O9)for(var n=0;n<top.children.length;n++)r.push(top.children[n])}if(dN>1e3){var Q=this.root.children;
for(var n=0;n<Q.length;n++)if(Q[n].l.add.lsct==d1.O9)Q[n].l.add.lsct=d1.$B}};bj.Nz=function(r,Q,W,b,X,D,h,S){if(S==null)S="sRGB IEC61966-2.1";
var a={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:b},artboard:{t:"bool",v:D},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:r}},Hght:{t:"UntF",v:{type:"#Rlt",val:Q}},Rslt:{t:"UntF",v:{type:"#Rsl",val:W}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:X}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:S}}}};
if(X=="Clr")a.Nw.v.FlCl={t:"Objc",v:h};return{r7:"make",Hf:a}};bj.ae4=function(r,Q){var W=0,b=0,X=72,D=Q.aiR,h=r.preset&&r.preset.v=="Clipboard";
if(h){W=D.e;b=D.n}else{W=r.Wdth.v.val;b=r.Hght.v.val;X=r.Rslt.v.val}var S=new bj((r.Nm?r.Nm.v:aA.get([11,7]))+".psd");
S.e=W;S.n=b;S.HW=X;var a=r.Fl?r.Fl.v.Fl:"Wht";if(r.artboard&&r.artboard.v){var K=S.b_();K._J(aA.get([1,16,0])+" 1");
K.add.lsct=d1.O9;K.NG(new aV(0,0,W,b));K.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[a]};
if(a=="Clr")K.add.artb.Clr={t:"Objc",v:E.M.rY(E.M.vf(r.FlCl.v))};K.iX="pass";K.KX=24;var Y=S.b_();Y._J("Layer 1");
S.pY([S.Tz(),Y,K]);S.dQ(1);S.I=[1]}else{var d=S.b_(),j=0;d._J("Background");S.pY([d]);d.add.lspf=1<<2;
if(a=="Clr"){j=E.M.vf(r.FlCl.v);j=255<<24|Math.round(j.k)<<16|Math.round(j.W)<<8|Math.round(j.o)}else{var U=Q.tB;
U=(U&255)<<16|(U>>>8&255)<<8|U>>>16;j={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|U}[a]}d.rect=new aV(0,0,W,b);
d.buffer=E.Q(W*b*4);E.tl(d.buffer,j)}S.buffer=E.Q(W*b*4);var I=r.profile;if(I){var f={"Adobe RGB (1998)":"icc/adobe","ProPhoto RGB":"icc/prophoto","image P3":"icc/displayp3"}[I.v];
if(f)S.Fj(fH.vC.get(f))}return S};function cD(r){this.gR=r;this._=0;this.Yl=1;this.R=new cp(0,0);this.ur=new cp(0,0);
this.tA=0;this.Vu=[1,1,1];this.ah=0;this.qv=new aV(0,0,1,1);this.am3=new aV(0,0,r.e,r.n);this.m5=null;
this.ST=null;this.l$=new Uint32Array(0);this.Rz=null;this.P1=null;this.uD=E.Q(0);this.$o=null;this.mR=null}cD.prototype.Ab=function(r){var Q=new au,W=this.qv,b=this.gR,X=r?this.Yl:this._,D=r?this.ur:this.R,h=Math.round((W.e-b.e*X)/2+D.x),S=Math.round((W.n-b.n*X)/2+D.y);
Q.translate(-h,-S);Q.scale(1/X,1/X);var a=b.e/2,K=b.n/2;Q.translate(-a,-K);Q.rotate(this.tA);Q.translate(a,K);
return Q};cD.prototype.a19=function(r){var Q=this.qv,W=this.gR,b=Math.atan2(-r.k,r.mu),X=W.e/2,D=W.n/2;
r.translate(-X,-D);r.rotate(-b);r.translate(X,D);var h=1/r.mO();r.scale(h,h);var S=-r.rn,a=-r.NQ,K=Math.round(S-(Q.e-W.e*h)/2),Y=Math.round(a-(Q.n-W.n*h)/2);
if(Math.abs(h-Math.round(h))<1e-6)h=Math.round(h);this.tA=b;this._=h;this.R=new cp(K,Y)};cD.prototype.GF=function(r,Q){var W=this.Ab();
return W.lE(new cp(r,Q))};cD.prototype.Au=function(r,Q){var W=this.Ab();W.j4();return W.lE(new cp(r,Q))};
function iq(){}iq.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");iq.lY="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
iq.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];iq.aro=["DrSh","IrSh","SoFi","GrFl","FrFX"];
iq.i4=["Clr"];iq.uc="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");iq.Ej=["Ptrn","Angl","Scl","Algn","phase"];
iq.Wf={Gt:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",ady:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",aob:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",axZ:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",ay:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"};
iq.Wf.Gt="\"Clr\": "+iq.Wf.Gt;iq.Wf.M="\"Grad\":"+iq.Wf.ady+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
iq.Wf.ay="\"Ptrn\":"+iq.Wf.ay+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
iq.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
iq.WS=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+iq.Wf.Gt+","+iq.Wf.M+","+iq.Wf.ay+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+iq.Wf.Gt+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+iq.Wf.M+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+iq.Wf.ay+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
iq.M={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
iq.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],Sf:["SClr","GrFl","Ptrn"],a1f:[[13,0],[12,37],[12,62]]};
iq.KW={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],ap$:["SrcC","SrcE"],aya:[[19,5,1],[12,69]]};iq.hD={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],amQ:["SfBL","PrBL","Slmt"],ajz:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
iq.pN={Nj:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],Ba:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],W8:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+iq.Wf.Gt+"}")},strokeStyleResolution:{t:"doub",v:72}}};
iq.$f=[{classID:"null",Clr:JSON.parse(iq.WS[5]).Clr},{classID:"null",Grad:JSON.parse(iq.WS[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(iq.WS[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var iI={};iI.k5=function(r,Q){function W(r,j){if(r==null||!r.masterFXSwitch.v)return null;var U=r[j].v,I;
if(U.length!=0){I=U[0].v;if(!I.enab.v)I=null}return I}var b=Q.SoCo,X=Q.GdFl,D=W(r,"solidFillMulti"),h=W(r,"gradientFillMulti");
if(D==null&&h==null)return[b,X];var S=iI.acl;if(b&&D&&h==null){var a=JSON.parse(JSON.stringify(b));a.Clr.v=S(D.Clr.v,b.Clr.v,D);
return[a,null]}if(X&&D&&h==null){var K=JSON.parse(JSON.stringify(X)),Y=K.Grad.v.Clrs.v;for(var n=0;n<Y.length;
n++){var d=Y[n].v.Clr;d.v=S(D.Clr.v,d.v,D)}return[null,K]}if(b&&h){var K=JSON.parse(JSON.stringify(h)),Y=K.Grad.v.Clrs.v;
for(var n=0;n<Y.length;n++){var d=Y[n].v.Clr;d.v=S(d.v,b.Clr.v,h)}return[null,K]}return[D,h]};iI.a0T={ZO:E.Q(4),_Y:E.Q(4),o:new aV(0,0,1,1)};
iI.acl=function(r,Q,W){var b=hG.g9(W.Md.v.BlnM),X=W.Opct.v.val/100,D=iI.a0T;r=E.M.vf(r);Q=E.M.vf(Q);
D.ZO[0]=r.o;D.ZO[1]=r.W;D.ZO[2]=r.k;D.ZO[3]=255;D._Y[0]=Q.o;D._Y[1]=Q.W;D._Y[2]=Q.k;D._Y[3]=255;E.q.YB(b,D.ZO,D.o,D._Y,D.o,D.o,X);
return{classID:"RGBC",Rd:{t:"doub",v:D._Y[0]},Grn:{t:"doub",v:D._Y[1]},Bl:{t:"doub",v:D._Y[2]}}};iI.ats=function(r,Q,W){var b=r;
r=r.slice(0);var X=hG.Av[hG.it.indexOf(Q.Md.v.BlnM)],D=E.M.vf(Q.Clr.v),h=4278190080|Math.round(D.k)<<16|Math.round(D.W)<<8|Math.round(D.o),S=E.Q(W.O()*4);
E.tl(S,h);E.q.YB(X,S,W,r,W,W,Q.Opct.v.val/100);for(var n=0;n<r.length;n+=4)r[n+3]=b[n+3];return r};iI.Fr=function(r,Q){var W=["Sz","blur","Sftn","Dstn"];
for(var n=0;n<iq.order.length;n++){var b=iq.order[n],X=r[iq.lY[n]].v;for(var D=0;D<X.length;D++){var h=X[D].v;
for(var S=0;S<W.length;S++){var a=h[W[S]];if(a){var K=a.v.val,Y=K;Y=Math.max(K==0?0:1,Y*Q);if(b=="ChFX")Y=Math.min(Y,250);
if(b=="ebbl"){if(W[S]=="blur")Y=Math.min(Y,250);if(W[S]=="Sftn")Y=Math.min(Y,16)}a.v.val=Math.round(Y)}}if(b=="ebbl"||b=="patternFill"||b=="FrFX")if(h.Ptrn&&h.Scl)h.Scl.v.val=Math.max(1,Math.min(1e3,h.Scl.v.val*Q))}}};
iI.aeB=function(r,Q,W){var b=new aV(-.5,-.5,1,1);for(var n=0;n<iq.order.length;n++){var X=iq.order[n],D=r[iq.lY[n]].v;
for(var h=0;h<D.length;h++){var S=D[h].v,d;if(!S.enab.v)continue;var a=S.blur?S.blur.v.val+1:0,K=S.Ckmt?S.Ckmt.v.val/100:0,Y=Math.round(a*K);
if(X=="DrSh"||X=="IrSh"&&W){d=new aV(-.5,-.5,1,1);d.sg(a,a);iI.H6(d,S,Q,0)}if(X=="OrGl"||X=="IrGl"&&W){d=new aV(-.5,-.5,1,1);
d.sg(a,a)}if(X=="FrFX"){var j=iI.No(S),U=j[1];if(W)U=Math.max(j[0],U);d=new aV(-.5,-.5,1,1);d.sg(Math.ceil(U),Math.ceil(U))}if(X=="ebbl"){var a=S.blur.v.val,I=S.bvlS.v.BESl;
if(I=="Embs"||I=="PlEb")a/=2;var f=["OtrB","InrB","Embs","PlEb","strokeEmboss"],g=["SfBL","PrBL","Slmt"],H=["In","Out"],u=S.bvlT.v.bvlT!="SfBL"?a:a*.43,s=Math.round(a);
d=new aV(-s-1,-s-1,2*s+2,2*s+2)}if(W&&X=="ChFX"){d=new aV(-.5,-.5,1,1);d.sg(a,a);var _=d.clone();iI.H6(d,S,Q,0);
iI.H6(_,S,Q,Math.PI);d=d.Bc(_)}if(d)b=b.Bc(d)}}if(b.x!=Math.ceil(b.x)){b.x=Math.ceil(b.x);b.e-=1}if(b.y!=Math.ceil(b.y)){b.y=Math.ceil(b.y);
b.n-=1}b.e=Math.floor(b.e);b.n=Math.floor(b.n);return b};iI.No=function(r){var Q=0,W=0,b=r.Styl.v.FStl,X=r.Sz.v.val;
if(b=="OutF")W=X;if(b=="InsF")Q=X;if(b=="CtrF")Q=W=X/2;return[Q,W]};iI.a2H=function(r){if(gn.Kz&&r.E0==null){r.E0=new gn.yC(r.Ix.e,r.Ix.n);
r.E0.set(r.NP);delete r.NP;if(r.Ty){r.GP=new gn.P5(r.Ix.e,r.Ix.n);r.GP.set(r.Ty);delete r.Ty}if(r.fG){r.wt=new gn.P5(r.Ix.e,r.Ix.n);
r.wt.set(r.fG);delete r.fG}}};iI.a8u=function(r){if(r.E0)r.E0.delete();if(r.GP)r.GP.delete();if(r.wt)r.wt.delete()};
iI.ap6=function(r){if(r.all==null)return;for(var n=0;n<r.all.length;n++){iI.a8u(r.all[n])}};iI.agp=function(r,Q,W,b,X,D){var h=iI.pX(W,b,r,Q,X,D);
for(var n=0;n<h.all.length;n++)iI.a2H(h.all[n]);return h};iI.aqF=function(r){for(var n=0;n<iq.order.length;
n++){var Q=iq.order[n],W=iq.lY[n],b=r[W].v;for(var X=0;X<b.length;X++){var D=b[X].v;if(D.enab.v&&["patternFill","GrFl","SoFi"].indexOf(Q)==-1)return!0}}return!1};
iI.pX=function(r,Q,W,b,X,D){if(D==null)D=b;var h=0,S=0;for(var n=0;n<iq.order.length;n++){var a=iq.order[n],K=iq.lY[n],Y=r[K].v;
for(var d=0;d<Y.length;d++){var j=Y[d].v;if(a=="DrSh"&&j.enab.v&&j.Ckmt.v.val>0&&j.blur.v.val>0)h=Math.max(h,Math.ceil(j.Ckmt.v.val*j.blur.v.val/100));
if(a=="OrGl"&&j.enab.v&&j.Ckmt.v.val>0&&j.blur.v.val>0&&j.GlwT.v.BETE=="SfBL")h=Math.max(h,Math.ceil(j.Ckmt.v.val*j.blur.v.val/100));
if(a=="OrGl"&&j.enab.v&&j.blur.v.val>0&&j.GlwT.v.BETE=="PrBL")h=Math.max(h,j.blur.v.val);if(a=="FrFX"&&j.enab.v&&j.Sz.v.val>0){if(j.Styl.v.FStl=="OutF")h=Math.max(h,j.Sz.v.val);
if(j.Styl.v.FStl=="CtrF")h=Math.max(h,Math.ceil(j.Sz.v.val/2));S=Math.max(S,iI.No(j)[1])}}}var U=new iI.nD(W,b,h,iI.aqF(r)),I=-b.x,f=-b.y,g={type:{},all:[]};
for(var H=0;H<iq.order.length;H++){var a=iq.order[H],K=iq.lY[H];g.type[a]=[];for(var u=r[K].v.length-1;
u>=0;u--){var s=r[K].v[u].v,T;if(!s.enab.v)continue;var _=s.blur?s.blur.v.val:0,i=s.Ckmt?s.Ckmt.v.val/100:0,M=_*i;
if(a=="DrSh"){var R=U.ir(M,_-M,!0),z=R.nq,G=R.nX;G.offset(I,f);iI.t$(z,s,!1);iI.H6(G,s,X,0);var V=E.Q(G.O()*4);
iI.ax(V,s.Clr.v);E.nV(z,V,3);T={NP:V,Ix:G,a4H:s.layerConceals.v}}else if(a=="IrSh"){var R=U.ir(M,_-M,!1);
iI.H6(R.nX,s,X,0);var G=U.rect().clone(),z=E.Q(G.O());z.fill(255);E.L0(R.nq,R.nX,z,G);iI.t$(z,s,!0,!0);
var V=E.Q(G.O()*4);iI.ax(V,s.Clr.v);E.nV(z,V,3);G.offset(I,f);T={NP:V,Ix:G}}else if(a=="GrFl"){var V=E.Q(U.rect().O()*4);
iI.fI(s,V,U.rect(),X,null,D);var G=U.rect().clone();G.offset(I,f);T={NP:V,Ix:G}}else if(a=="SoFi"){var V=E.Q(U.nq().length*4);
iI.ax(V,s.Clr.v);var G=U.rect().clone();G.offset(I,f);T={NP:V,Ix:G}}else if(a=="ebbl"){var y=!1;if(y)console.log(s);
var k=Date.now(),B=s.bvlS.v.BESl;if(B=="strokeEmboss"){var v=r.frameFXMulti.v;if(v.length==0)continue;
v=v[0].v;if(!v.enab.v)continue;var l=v.Styl.v.FStl;if(l=="OutF")B="OtrB";if(l=="CtrF")B="Embs";if(l=="InsF")B="InrB"}var _=s.blur.v.val;
if(_==0)_=.7;if(B=="Embs"||B=="PlEb")_/=2;var F=["OtrB","InrB","Embs","PlEb","strokeEmboss"],L=["SfBL","PrBL","Slmt"],Z=["In","Out"],t=s.bvlT.v.bvlT!="SfBL"?_:_*.45,A=Math.round(_),o=U.rect().clone(),O=o.clone();
O.sg(A,A);var x=O.e,C=O.n,J=x*C,q=E.Q(J);E.L0(U.nq(),o,q,O);var fd=new Float64Array(J),w=new Float64Array(J);
E.style.SQ(q,fd,x,C);E.j4(q);E.style.SQ(q,w,x,C);if(y)console.log("distTransform computed",Date.now()-k);
for(var n=0;n<J;n++)w[n]=w[n]-fd[n];for(var n=0;n<J;n++){var P=w[n];if(P<-t)w[n]=-t;else if(P>t)w[n]=t}if(y)console.log("summing + cropping",Date.now()-k);
if(s.bvlT.v.bvlT=="SfBL"){var fc=Math.pow(_*.21,1.22);if(!0)fc=Math.max(fc,2);var p=E.Cb.VH(fc,2);E.Cb.$a(w,fd,O,p[0]>>>1);
E.Cb.$a(fd,w,O,p[1]>>>1)}if(y)console.log("blurring",Date.now()-k);var gG=w,fh=gG.slice(0);if(s.useShape.v){var fJ=Math.min(100,s.Inpr.v.val+1)/100;
if(B!="OtrB"&&B!="InrB")fJ=1;var cF=E.FB.ki(s.MpgS.v.Crv.v,2e3),j_=Math.round(2e3/fJ);cF=E.FB.av6(cF,j_,B=="InrB");
var gY=.5/t;for(var n=0;n<J;n++){var kc=gG[n],el=.99999*(kc+t)*gY;gG[n]=-t+2*t*cF[~~(el*(j_-1))]}if(y)console.log("applying shape",Date.now()-k)}if(s.useTexture.v){var iN=E.Q(x*C*4);
iI.iF(s,iN,O,X.add.Patt,Q);var c$=E.Q(x*C);E.Ou(iN,c$);var dB=E.Q(x*C);E.Cb.Vk(c$,dB,O,1);c$=dB;var aL=_*s.textureDepth.v.val*(1/100)*(1/255);
if(s.InvT.v)aL=-aL;for(var n=0;n<J;n++)gG[n]+=-aL*c$[n];if(y)console.log("applying texture",Date.now()-k)}var aB=(s.bvlT.v.bvlT=="SfBL"?1:.5)*(s.bvlD.v.BESs=="In"?1:-1)*s.srgR.v.val/100;
for(var n=0;n<J;n++)gG[n]*=aB;if(y)console.log("scaling",Date.now()-k);var f3=s.uglg&&s.uglg.v?X.QR():s.lagl.v.val;
f3=f3*(Math.PI/180);var jC=s.uglg&&s.uglg.v?X.SJ():s.Lald.v.val;jC=jC*(Math.PI/180);var bc=Math.cos(f3)*Math.cos(jC),iA=-Math.sin(f3)*Math.cos(jC),bL=Math.sin(jC),an=new Float64Array(J),dp=new Float64Array(J),im=B=="PlEb";
for(var a5=0;a5<C;a5++)for(var bg=0;bg<x;bg++){var n=a5*x+bg,fM=0,eT=0,ev=1;if(a5!=0&&a5!=C-1&&bg!=0&&bg!=x-1){var fU=gG[n-x-1],e8=gG[n-x+1],ej=gG[n+x-1],fV=gG[n+x+1];
fM=-.125*(e8+2*gG[n+1]+fV-(fU+2*gG[n-1]+ej));eT=-.125*(ej+2*gG[n+x]+fV-(fU+2*gG[n-x]+e8))}else{var he=gG[n];
eT=-(a5==0?gG[n+x]-he:a5==C-1?he-gG[n-x]:.5*(gG[n+x]-gG[n-x]));fM=-(bg==0?gG[n+1]-he:bg==x-1?he-gG[n-1]:.5*(gG[n+1]-gG[n-1]))}var gZ=1/Math.sqrt(fM*fM+eT*eT+1);
fM*=gZ;eT*=gZ;ev*=gZ;var hQ=fM*bc+eT*iA+ev*bL,aJ=hQ;if(im)aJ=-fM*bc-eT*iA+ev*bL;if(hQ>0)an[n]=hQ;if(aJ>0)dp[n]=aJ}if(y)console.log("raycasting",Date.now()-k);
if(s.Sftn.v.val!=0){E.Cb.hs(an,fd,O,s.Sftn.v.val*.43);var cs=fd,fd=an,an=cs;if(im){E.Cb.hs(dp,fd,O,s.Sftn.v.val*.43);
var cs=fd,fd=dp,dp=cs}else E.qr(an,dp)}if(y)console.log("softening",Date.now()-k);var cF=E.FB.ki(s.TrnS.v.Crv.v,1024);
for(var n=0;n<J;n++){an[n]=cF[~~(an[n]*1024)];dp[n]=cF[~~(dp[n]*1024)]}if(y)console.log("contour remap",Date.now()-k);
x=Math.round(x);C=Math.round(C);var fN=E.Q(x*C*4);iI.ax(fN,s.hglC.v);var j4=E.Q(x*C*4);iI.ax(j4,s.sdwC.v);
var hL=E.Q(x*C*4);iI.ax(hL,s.hglC.v);var fv=E.Q(x*C*4);iI.ax(fv,s.sdwC.v);var al=1/bL,dD=1/(1-bL),gY=1/t,kd=new Float64Array(1e3);
for(var n=0;n<1e3;n++)kd[n]=Math.pow(n*.001,.2);for(var a5=0;a5<C;a5++)for(var bg=0;bg<x;bg++){var n=a5*x+bg,gv=4*n+3,j$=0,i9=0;
j$=an[n];i9=dp[n];var bv=Math.max(0,Math.min(.9999,(fh[n]+t*.993)*gY));bv=kd[Math.floor(bv*1e3)];var jk=bv*(1-Math.min(1,j$*al)),cM=bv*(1-Math.min(1,(1-j$)*dD)),iW=bv*(1-Math.min(1,i9*al)),ft=bv*(1-Math.min(1,(1-i9)*dD));
j4[gv]=Math.round(255*jk);fN[gv]=Math.round(255*cM);fv[gv]=Math.round(255*iW);hL[gv]=Math.round(255*ft)}if(y)console.log("baking textures",Date.now()-k);
O=U.rect().clone();O.sg(A,A);O.offset(I,f);T={ah_:s.bvlS.v.BESl=="strokeEmboss"};var b0=hG.g9(s.hglM.v.BlnM),ko=s.hglO.v.val/100,co=hG.g9(s.sdwM.v.BlnM),gr=s.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(B)!=-1){T.gu={NP:fN,Ix:O,_B:b0,yj:ko};T.uX={NP:j4,Ix:O,_B:co,yj:gr}}if(["OtrB","Embs","PlEb"].indexOf(B)!=-1){T.Uv={NP:hL,Ix:O,_B:b0,yj:ko};
T.Ml={NP:fv,Ix:O,_B:co,yj:gr}}if(y)console.log(Date.now()-k)}else if(a=="patternFill"){var ib=U.rect(),V=E.Q(ib.O()*4);
iI.iF(s,V,ib,X.add.Patt,Q);var G=ib.clone();G.offset(I,f);T={NP:V,Ix:G}}else if(a=="ChFX"){var V=E.Q(U.nq().length*4);
iI.ax(V,s.Clr.v);var _=s.blur.v.val,bh=U.rect().clone();bh.sg(_,_);var bM=E.Q(bh.O()),bR=E.Q(bh.O());
E.L0(U.nq(),U.rect(),bR,bh);E.Cb.Ka(bR,bM,bh,_*.43);var c5=E.FB.yO(s.MpgS.v.Crv.v,256,!0);E.xu(bM,c5);
var dE=E.Q(U.nq().length),ix=E.Q(U.nq().length),f2=U.rect().clone();iI.H6(f2,s,X,0);E.L0(bM,bh,dE,f2);
f2=U.rect().clone();iI.H6(f2,s,X,Math.PI);E.L0(bM,bh,ix,f2);var a$=dE.length;for(var n=0;n<a$;n++)V[4*n+3]=Math.abs(dE[n]-ix[n]);
if(s.Invr.v)for(var n=0;n<a$;n++)V[4*n+3]=255-V[4*n+3];var G=U.rect().clone();G.offset(I,f);T={NP:V,Ix:G}}else if(a=="OrGl"){var R;
if(s.GlwT.v.BETE=="SfBL")R=U.ir(M,_-M,!0);else R=U.afB(_,i,!0);var z=R.nq,G=R.nX,fl=z.slice(0);iI.ahA(z,s);
var V=E.Q(G.O()*4);if(s.Grad==null){iI.ax(V,s.Clr.v);iI.t$(z,s,!1)}else{iI.t$(z,s,null);var cW={Mj:z,tu:255,H8:0,CE:G};
iI.fI(s,V,G,X,cW);var i7=s.Nose.v.val/100,fA=G.e;for(var n=0;n<fl.length;n++){var iG=255,i$=fl[n];if(i$<32){var ic=(i$+fl[n-1]+fl[n+1]+fl[n-fA]+fl[n+fA])*.2-1;
iG=Math.min(255,Math.round(Math.max(0,ic)*8))}z[n]=iG}iI.as$(z,s)}E.nV(z,V,3);G.offset(I,f);T={NP:V,Ix:G}}else if(a=="IrGl"){var R;
if(s.GlwT.v.BETE=="SfBL")R=U.ir(M,_-M,!1);else R=U.afB(_,i,!1);var z=R.nq,G=R.nX;iI.ahA(z,s);if(s.glwS.v.IGSr=="SrcC")E.j4(z);
var V=E.Q(G.O()*4);if(s.Grad==null){iI.ax(V,s.Clr.v);iI.t$(z,s,!0)}else{iI.t$(z,s,null);var cW={Mj:z,tu:255,H8:0,CE:G};
iI.fI(s,V,G,X,cW);z.fill(255);iI.as$(z,s)}E.nV(z,V,3);G.offset(I,f);T={NP:V,Ix:G}}else if(a=="FrFX"){var e4=iI.No(s),kt=e4[0],jn=e4[1],G=U.rect().clone(),ah=null,h6=null;
G.sg(Math.ceil(S),Math.ceil(S));if(jn>0){var R=U.ir(jn,0,!0);h6=R.nq;if(h6.length<G.O()){h6=E.Q(G.O());
E.L0(R.nq,R.nX,h6,G)}}if(kt>0){var R=U.ir(kt,0,!1);ah=E.Q(G.O());ah.fill(255);E.L0(R.nq,R.nX,ah,G)}G.offset(I,f);
var V=E.Q(G.O()*4),br=s.PntT.v.FrFl;if(br=="SClr")iI.ax(V,s.Clr.v);if(br=="GrFl")iI.fI(s,V,G,X,U.a1d(kt,jn));
if(br=="Ptrn")iI.iF(s,V,G,X.add.Patt,Q);T={NP:V,Ix:G,fG:h6,Ty:ah}}g.type[a].push(T);if(a=="ebbl"){if(T.gu)g.all.push(T.gu,T.uX);
if(T.Uv)g.all.push(T.Uv,T.Ml)}else{T._B=hG.g9(s.Md.v.BlnM);T.yj=s.Opct.v.val/100,g.all.push(T)}}}return g};
iI.QF=function(r){var Q=1/Math.sqrt(r.x*r.x+r.y*r.y+r.QC*r.QC);r.x*=Q;r.y*=Q;r.QC*=Q};iI.aqI=function(r,Q){return{x:r.y*Q.QC-r.QC*Q.y,y:r.QC*Q.x-r.x*Q.QC,QC:r.x*Q.y-r.y*Q.x}};
iI.a0N=function(r,Q){return r.x*Q.x+r.y*Q.y+r.QC*Q.QC};iI.as$=function(r,Q){var W=Q.Nose.v.val/100;if(W>0)for(var n=0;
n<r.length;n++){var b=r[n];b=Math.min(510-(1+W)*E.style.hH(n),b);r[n]=b}};iI.R$=function(r){var Q=iI.O1(),W=r.vG,b=!1;
for(var n=0;n<32;n+=8)if(W[n]+W[n+1]+W[n+4]+W[n+5]!=0||W[n+2]+W[n+3]+W[n+6]+W[n+7]!=1020)b=!0;if(b){W=W.slice(0);
for(var n=0;n<40;n+=4){var X=W[n]/255,D=W[n+1]/255,h=W[n+2]/255,S=W[n+3]/255;W[n]=X-.001;W[n+1]=X==D?1e6:1/(D-X);
W[n+2]=h==S?-1e6:1/(h-S);W[n+3]=S+.001}}var a=r.add.iOpa!=null?r.add.iOpa/255:Q.fill,K=r.add.vstk;if(K&&!K.fillEnabled.v&&(!K.strokeEnabled.v||K.strokeStyleLineWidth.v.val==0))a=0;
return{fill:a,jB:b?W:null,KY:r.add.brst!=null?r.add.brst:Q.KY,a0w:r.add.knko!=null?r.add.knko:Q.a0w,style:!1,QV:!1}};
iI.O1=function(){return{fill:1,jB:null,KY:[1,1,1],a0w:0,style:!1,QV:!1}};iI.a3r=function(r,Q,W,b,X,D,h,S){if(S==null)S=1;
if(h==null)h=new au;var a=r.G5[1].e,K=r.G5[1].n,Y=new au,d=X<2;if(d)Y.translate(-a/2,-K/2);if(X==0){S*=Math.max(W/a,b/K)}else if(X==1){S*=Math.min(W/a,b/K)}else if(X==2){Y.scale(1/a,1/K);
Y.concat(h);Y.scale(W,b)}else if(X==3){S=S}Y.scale(S,S);if(d)Y.translate(W/2,b/2);Y.concat(D);Q.Ptrn.v.Idnt.v=r.id;
Q.Scl.v.val=Math.round(100*Y.mO());Q.Angl.v.val=Math.round(180*Math.atan2(-Y.k,Y.mu)/Math.PI);Q.Algn.v=!0;
var j=Q.phase.v;j.Hrzn.v=Math.round(Y.rn);j.Vrtc.v=Math.round(Y.NQ)};iI.ZZ=function(r,Q){if(Q==null)return null;
var W=r.Idnt.v,b=r.Nm.v;for(var n=0;n<Q.length;n++)if(Q[n].id==W)return Q[n];for(var n=0;n<Q.length;
n++)if(Q[n].name==b)return Q[n];return null};iI.anb=function(r,Q,W){var b=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var n=0;n<b.length;n++){var X=r.v[b[n]].v;for(var D=0;D<X.length;D++)if(X[D].v.Ptrn)Q.PT(iI.ZZ(X[D].v.Ptrn.v,W))}};
iI.aqg=function(r,Q,W){var b=["patternFillMulti","ebblMulti","frameFXMulti"];for(var n=0;n<b.length;
n++){var X=r.v[b[n]].v;for(var D=0;D<X.length;D++)if(X[D].v.Ptrn){var h=X[D].v.Ptrn.v,S=iI.ZZ(h,W),a=iI.ZZ(h,Q.add.Patt);
if(S==null&&a)W.push(a)}}};iI.iF=function(r,Q,W,b,X){var D=iI.ZZ(r.Ptrn.v,b);if(D!=null&&!W.WB()){var h=D.G5,S=h[0],a=h[1],K=0;
E.P$(h);var Y=(r.Scl?r.Scl.v.val:100)/100;while((Y<.3||Y==.5)&&h[K+2]){Y*=a.e/h[K+3].e;K+=2;S=h[K];a=h[K+1]}var d=E.scale.iF(S,a.e,a.n),j=r.phase?r.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},U=r.Angl?r.Angl.v.val:0,I=-W.x+j.Hrzn.v-1,f=-W.y+j.Vrtc.v-1;
if(r.Algn!=null&&!r.Algn.v){}else{I+=X.x;f+=X.y}E.scale.Xd(d,Q,W.e,W.n,Y,Y,I+1,f+1,U*Math.PI/180)}};
iI.fI=function(r,Q,W,b,X,D){if(D==null)D=W;var h=r.Type?r.Type.v.GrdT:"shapeburst",S=r.Algn&&r.Algn.v?D:new aV(0,0,b.e,b.n),a=r.Angl?E.M.eQ(r,S):[new cp(0,0),new cp(100,0)],K=a[0].x,Y=a[0].y,d=a[1].x-K,j=a[1].y-Y,U=Math.sqrt(d*d+j*j);
U=1/(2*U*U);var I=[d*U,j*U,-j*U,d*U],f=r.Rvrs?r.Rvrs.v:!1,g=r.Dthr?r.Dthr.v:!1;E.M.Wu(r.Grad.v,Q,W,I,K,Y,f,iq.M.types.indexOf(h),0,0,X,g)};
iI.a5U=function(r,Q,W){for(var n=0;n<r.all.length;n++){var b=r.all[n];b.h3=b.Ix.clone();b.h3.offset(Q,W)}};
iI.acS=function(r,Q,W,b,X,D){var h=gn.Kz?iI.adw:iI.a0$;iI.a5U(Q,W.x,W.y);var S=Q.type.DrSh;for(var n=0;
n<S.length;n++)if(!S[n].a4H)h(S[n],b,X,D)};iI.ahR=function(r,Q,W,b,X,D,h,S,a,K){var Y=W,d=gn.Kz?iI.adw:iI.a0$,j=gn.Kz?gn.q.pP:E.q.mA,U;
U=Q.type.DrSh;for(var n=0;n<U.length;n++)if(U[n].a4H)d(U[n],b,X,D);U=Q.type.OrGl;for(var n=0;n<U.length;
n++)d(U[n],b,X,D);var I="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var f=0;f<I.length;f++){var U=Q.type[I[f]];
for(var n=0;n<U.length;n++)d(U[n],h,Y,D)}var g=Q.type.ebbl[0],H=g!=null&&g.ah_;U=Q.type.FrFX;for(var n=0;
n<U.length;n++){var u=U[n];a2.Zv.L0(S,K,a,K,D);d(u,a,K,D);if(H&&n==U.length-1){if(g.Ml)d(g.Ml,a,K,D);
if(g.Uv)d(g.Uv,a,K,D);if(g.uX)d(g.uX,a,K,D);if(g.gu)d(g.gu,a,K,D)}if(u.Ty||u.GP)j(a,K,h,Y,gn.Kz?u.GP:u.Ty,u.h3,0,D,1);
if(u.fG||u.wt)j(a,K,b,X,gn.Kz?u.wt:u.fG,u.h3,0,D,1)}if(!H&&g!=null){if(g.Ml)d(g.Ml,b,X,D);if(g.Uv)d(g.Uv,b,X,D);
if(g.uX)d(g.uX,h,Y,D);if(g.gu)d(g.gu,h,Y,D)}};iI.a0$=function(r,Q,W,b){var X=iI.O1();X.fill=r.yj;X.style=!0;
E.q.YB(r._B,r.NP,r.h3,Q,W,b,1,X)};iI.adw=function(r,Q,W,b){var X=iI.O1();X.fill=r.yj;X.style=!0;gn.q.N2(r._B,r.E0,r.h3,Q,W,b,1,X)};
iI.ahA=function(r,Q){var W=1-Q.Inpr.v.val/100,b=1+Math.tan(W*(Math.PI/2)),X=r.length;for(var n=0;n<X;
n++)r[n]=Math.min(255,Math.round(r[n]*b))};iI.t$=function(r,Q,W,b){var X=Q.blur.v.val,D=Math.round(X*(Q.Ckmt.v.val/100));
if(X>D){var h=E.FB.yO(Q.TrnS.v.Crv.v,256,b!=!0);E.xu(r,h)}if(W!=null&&Q.Nose.v.val>0)E.style.A9(r,Q.Nose.v.val/100,W)};
iI.ax=function(r,Q,W){if(W==null)W=255;var b=E.M.vf(Q),X=W<<24|b.k<<16|b.W<<8|b.o,D=new Uint32Array(r.buffer);
D.fill(X)};iI.H6=function(r,Q,W,b){var X=Q.uglg&&Q.uglg.v?W.QR():Q.lagl.v.val;X=X*Math.PI/180+b;var D=Math.cos(X)*Q.Dstn.v.val,h=Math.sin(X)*Q.Dstn.v.val;
r.x-=Math.round(D);r.y+=Math.round(h)};iI.XQ=function(r){if(r==null)return null;var Q=r.frameFXMulti.v;
if(Q.length==0)return null;Q=Q[0].v;var W=JSON.parse(JSON.stringify(iq.pN.default));iI.ao_(Q,W);return W};
iI.ao_=function(r,Q){var W=iq.stroke.Sf.indexOf(r.PntT.v.FrFl),b=[iq.i4,iq.uc,iq.Ej][W],X=Q.strokeStyleContent.v={classID:iq.pN.W8[W]};
for(var n=0;n<b.length;n++)X[b[n]]=r[b[n]];Q.strokeEnabled=r.enab;Q.strokeStyleLineWidth=r.Sz;Q.strokeStyleLineAlignment.v.strokeStyleLineAlignment=iq.pN.Ba[iq.stroke.types.indexOf(r.Styl.v.FStl)];
Q.strokeStyleOpacity=r.Opct;Q.strokeStyleBlendMode=r.Md;Q.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
iI.Gp=function(r,Q){var W=[];for(var n=0;n<r.length;n++)W.push({t:"UntF",v:{type:"#Nne",val:Math.round(r[n]*Q)}});
return W};iI.nD=function(r,Q,W,b){this.G7=Q.clone();this.ajL=Q.clone();this.ajL.sg(W,W);if(b){this.G7.sg(1,1);
this.HF=E.Q(this.G7.O());E.L0(r,Q,this.HF,this.G7)}else this.HF=r;this.pE=null;this.nr=null;this.sU=null};
iI.nD.prototype.nq=function(){return this.HF};iI.nD.prototype.rect=function(){return this.G7};iI.nD.prototype.vO=function(){return this.ajL};
iI.nD.prototype.h1=function(){if(this.pE)return this.pE;this.pE=this.nq().slice(0);E.j4(this.pE);return this.pE};
iI.nD.prototype._$=function(){if(this.nr)return this.nr;this.nr=new Float64Array(this.rect().O());E.style.SQ(this.h1(),this.nr,this.rect().e,this.rect().n);
return this.nr};iI.nD.prototype.iY=function(){if(this.sU)return this.sU;var r=this.vO(),Q=E.Q(r.O());
E.L0(this.nq(),this.rect(),Q,r);this.sU=new Float64Array(r.O());E.style.SQ(Q,this.sU,r.e,r.n);return this.sU};
iI.nD.prototype.a1d=function(r,Q){var W={tu:-Q,H8:r,CE:null,Mj:null};if(Q==0){W.CE=this.rect();W.Mj=this._$();
return W}var b=this.iY().slice(0),X=this.vO();W.CE=X;W.Mj=b;for(var n=0;n<b.length;n++)b[n]=-b[n];if(r==0)return W;
var D=this._$(),h=this.rect();for(var S=0;S<h.n;S++)for(var a=0;a<h.e;a++){var K=S*h.e+a,Y=(S+h.y-X.y)*X.e+a+h.x-X.x;
b[Y]+=D[K]}return W};iI.nD.prototype.ir=function(r,Q,W){var b=Math.ceil(r+Q),X={nX:this.rect().clone(),nq:null};
X.nX.sg(b,b);X.nq=E.Q(X.nX.O());if(r==0&&Q==0)E.qr(W?this.nq():this.h1(),X.nq);else{var D=E.Q(X.nX.O());
E.L0(this.nq(),this.rect(),D,X.nX);if(!W)E.j4(D);if(r!=0){if(W)E.style.mb(D,X.nX,this.iY(),this.vO(),r);
else E.style.mb(D,X.nX,this._$(),this.rect(),r)}if(Q!=0)E.Cb.Ka(D,X.nq,X.nX,Math.max(1,Q*.43));else X.nq=D}return X};
iI.nD.prototype.afB=function(r,Q,W){var b=r*(Q-.5),X={nX:this.rect().clone(),nq:null};if(W)X.nX.sg(r,r);
X.nq=E.Q(X.nX.O());var D=X.nX.e,h=X.nX.n,S=W?this.iY():this._$(),a=W?this.vO():this.rect(),K=X.nX,Y=K.ww(a),D=Y.e,h=Y.n,d=Y.x-K.x,j=Y.y-K.y,U=Y.x-a.x,I=Y.y-a.y,f=1-Q*2;
for(var g=0;g<h;g++)for(var H=0;H<D;H++){var u=S[(g+I)*a.e+H+U],s=u/r;X.nq[(g+j)*K.e+H+d]=Math.max(0,Math.min(255,255-255*((s+f)/(1+f))))}return X};
iI.al_=function(r,Q,W,b){var X=r.Lefx,D=r.blendOptions;if(X){var h=Q.add.lmfx;if(W==null)W=h?h.Scl.v.val:100;
Q.add.lmfx=JSON.parse(JSON.stringify(X.v));if(Q.add.lmfx.Scl==null)Q.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
iI.Fr(Q.add.lmfx,W/Q.add.lmfx.Scl.v.val);if(h)Q.add.lmfx.Scl.v.val=h.Scl.v.val;var S=X.v.gagl;if(S&&b)b.Pz(S.v.val)}else delete Q.add.lmfx;
if(D){D=D.v;if(D.Md)Q.iX=hG.g9(D.Md.v.BlnM);if(D.Opct)Q.opacity=Math.round(D.Opct.v.val*255/100);if(D.fillOpacity)Q.add.iOpa=Math.round(D.fillOpacity.v.val*255/100);
if(D.Blnd){var a=[];for(var n=0;n<10;n++)a.push(0,0,255,255);var K=D.Blnd.v,Y="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var n=0;n<K.length;n++){var d=K[n].v,j=8*["Gry","Rd","Grn","Bl"].indexOf(d.Chnl.v[0].v.enum);for(var U=0;
U<8;U++){a[j+U]=d[Y[U]].v}}Q.vG=a}}};iI.am8=function(r){var Q="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),W=[],b=r.vG;
for(var n=0;n<4;n++){var X=n*8;if(b[X]+b[X+1]+b[X+4]+b[X+5]==0&&b[X+2]+b[X+3]+b[X+6]+b[X+7]==4*255)continue;
var D={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][n]}}]}}};
W.push(D);for(var h=0;h<8;h++)D.v[Q[h]]={t:"long",v:b[n*8+h]}}var S={classID:"blendOptions"};if(r.iX!="norm")S.Md={t:"enum",v:{BlnM:hG.Ra(r.iX)}};
if(r.opacity!=255)S.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(r.opacity*100/255)}};if(r.add.iOpa!=null)S.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(r.add.iOpa*100/255)}};
if(W.length!=0)S.Blnd={t:"VlLs",v:W};var a={F_:{classID:"null",Idnt:{t:"TEXT",v:bj.zQ()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},qt:{classID:"Styl",blendOptions:{t:"Objc",v:S}}},K=r.add.lmfx;
if(K)a.qt.Lefx={t:"Objc",v:K};return a};function eW(){}eW.f4=function(r){return JSON.parse(JSON.stringify(r))};
eW.X6=function(r){var Q=eW.f4(eW.aoD),W=Q.Brsh.v;if(r!=null){delete W.Hrdn;W.classID="sampledBrush";
W.Nm={t:"TEXT",v:"layer.png"},W.sampledData={t:"TEXT",v:r}}return Q};eW.aoD={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
eW.QF={};eW.QF.check=function(r){var Q=eW.QF.Sr;for(var n=0;n<Q.length;n++)if(r[Q[n]]==null)r[Q[n]]=JSON.parse(eW.QF.nN[Q[n]]);
var W=[];for(var n=0;n<Q.length;n++)W.push(Q[n]);var b=eW.QF.aa6;for(var n=0;n<b.length;n++){var X=b[n][0],D=b[n][1],h=!0;
for(var S=0;S<X.length;S++)h=h&&r[X[S]].v==!0;if(h)for(var S=0;S<D.length;S++){if(r[D[S]]==null)console.log("Missing conditional parameter "+D[S]);
else W.push(D[S])}}for(var a in r)if(W.indexOf(a)==-1)console.log("Extra parameter "+a);r=r.Brsh.v;Q=eW.QF.Z$.Sr;
for(var n=0;n<Q.length;n++)if(r[Q[n]]==null)r[Q[n]]=JSON.parse(eW.QF.Z$.nN[Q[n]]);W=[];for(var n=0;n<Q.length;
n++)if(r[Q[n]])W.push(Q[n]);else console.log("Missing default parameter "+Q[n]);b=eW.QF.Z$.anp[r.classID];
for(var n=0;n<b.length;n++)if(r[b[n]]==null&&b[n]!="dtipsGridSize"&&b[n]!="dtipsErodibleTipHeightMap"&&r.ar4!=1)console.log("Missing conditional parameter "+b[n]);
else W.push(b[n]);for(var a in r)if(W.indexOf(a)==-1)console.log("Extra parameter "+a)};eW.QF.agR=function(r){var Q=eW.QF.aa6;
for(var n=0;n<Q.length;n++){var W=Q[n][0],b=Q[n][1],X=!0;for(var D=0;D<W.length;D++)X=X&&r[W[D]]&&r[W[D]].v==!0;
if(X){for(var D=0;D<b.length;D++)if(r[b[D]]==null){r[b[D]]=JSON.parse(eW.QF.nN[b[D]])}}else for(var D=0;
D<b.length;D++)if(r[b[D]]!=null){delete r[b[D]]}}};eW.QF.Z$={};eW.QF.Z$.Sr="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
eW.QF.Z$.nN={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};eW.QF.Z$.anp={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
eW.QF.aa6=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
eW.QF.Sr="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
eW.QF.nN={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\": 1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function hZ(r,Q){this.a8O=r;this.tA=Q==null?0:Q;this.dir=0}hZ.prototype.WN=function(r,Q){var W=this.a8O,b=new cp(r.x-W.x,r.y-W.y),X=new au;
X.rotate(-this.tA);b=X.lE(b);if(this.dir==0&&!W.s4(r))this.dir=Math.abs(b.x)<Math.abs(b.y)?1:2;if(Q.j(h8.NN)){if(this.dir==1)b.x=0;
if(this.dir==2)b.y=0}X.j4();b=X.lE(b);var D=new cp(W.x+b.x,W.y+b.y);return D};hZ.prototype.aqV=function(r){if(r.j(h8.NN))return this.dir;
return 0};var cB=function(){function r(){this.acR={}}r.ars=function(Q,W){var b=Q.clone();b.rn-=Math.floor(b.rn);
b.NQ-=Math.floor(b.NQ);var X=new cp(W,0),D=new cp(0,W),h=b.lE(X),S=b.lE(D),a=new cp(b.rn,b.NQ);return[h,S,a]};
r.apa=function(Q,W){var b=cp.ks;return b(Q[0],W[0])+b(Q[1],W[1])+b(Q[2],W[2]);return dsum};r.prototype.aai=function(Q){var W=this.acR,b=W[Q];
if(b==null)b=W[Q]={ie:[],VP:0,O:0,amE:0,aw2:0};b.VP=Date.now();while(Object.keys(W).length>3){var X="",D=Date.now();
for(var h in W){var S=W[h].VP;if(S<D){D=S;X=h}}delete W[X]}return b};r.prototype.agG=function(Q,W){var b=Q.ie,X,D=1e6;
for(var n=0;n<b.length;n++){var h=b[n],S=r.apa(h.$E,W);if(S<D){X=h;D=S}}return X};r.prototype.aam=function(Q,W){var b=Q.ie;
b.push(W);Q.O+=W.rect.O();if(b.length>1e3||Q.O>100*100*1600){console.log("pruning",Q.O,b.length);b.sort(function(D,h){return h.VP-D.VP});
while(b.length>500||Q.O>100*100*800){var X=b.pop();Q.O-=X.rect.O()}}};return r}();function hS(r,Q,W,b,X,D,h,S,a){this.I_=Q;
this._v=W;this.tB=D;this.C0=b;this.mV=null;this.lO=null;this.p7=0;this.aqO=0;this.aur=0;this.Ag=0;this.el=a==null?Math.floor(Math.random()*16777215):a;
this.BK=a==null?Math.floor(Math.random()*16777215):a;this.Kx=new aV;this._y=new aV;if(S!=null){this.NP=S}else{var K=hS.afJ;
if(K.length!=h.O()*4)K=E.Q(h.O()*4);else K.fill(0);this.NP=hS.afJ=K}this.rect=h.clone();this.hW=[];this.J3=[];
this.Iy=null;this.V8=0;this.k=null;this.afA="";this.e3=null;this.a21(r,X)}hS.afJ=E.Q(16);hS.prototype.a21=function(r,Q){this.V8=Q;
this.k=r;this.afA=JSON.stringify(r)+JSON.stringify(this.C0.rS);this.e3=hS.auB(this.k,this.I_,this._v)};
hS.prototype.moveTo=function(r,Q,W){W=this.abt(W);this.p7=W;var b=new cp(r,Q),X=this.k.Brsh.v.Dmtr.v.val;
this.mV=b.clone();this.lO=b.clone();this.Iy=b.clone();this.hW=[r,Q];this.J3=[W];if(this.C0.yW!=hS.rJ){var D=this.k.angleDynamics,h=D?D.v.bVTy.v==6:!1;
this.BQ(h?new aV:this.a0h(b,this.a8G(W),W,new cp(0,0)))}this.Ag=b.clone()};hS.prototype.lineTo=function(r,Q,W){W=this.abt(W);
var b=this.hW,X=b.length,D=b[X-2],h=b[X-1];if(r==D&&Q==h)return;var S=this.k.Brsh.v.Dmtr.v.val,a=Math.ceil(S)+1,K=new aV(Math.round(D),Math.round(h),0,0);
K.sg(a,a);var Y=new aV(Math.round(r),Math.round(Q),0,0);Y.sg(a,a);this.hW.push(r,Q);this.J3.push(W);
X+=2;if(X>=6)this.BQ(this.awZ(X))};hS.prototype.abt=function(r){if(r==null)r=1;r=Math.max(.05,Math.min(5,r));
if(isNaN(r)){alert("Pressure is not a number");throw"e"}return r};hS.prototype.BQ=function(r){this.Kx=r;
this._y=this._y.Bc(r)};hS.prototype.finish=function(){var r=this.hW,Q=r.length,W;if(Q==4)W=this.a8o(r[Q-2],r[Q-1],this.J3[(Q>>1)-1],!0);
if(Q>4)W=this.awZ(Q+2);if(W)this.BQ(W)};hS.prototype.J4=function(){return this.rect.clone()};hS.prototype.Jv=function(){return this.Kx.ww(this.rect)};
hS.prototype.fk=function(){return this._y.ww(this.rect)};hS.prototype.P3=function(){return this.NP};
hS.prototype.awZ=function(r){var Q=this.hW,W=this.J3,b=Q[r-6],X=Q[r-5],D=Q[r-4],h=Q[r-3],S=W[(r>>1)-3],a=W[(r>>1)-2],K=new cp(0,0),Y=new cp(0,0);
if(8<=r)K=hS.akK(Q[r-8],Q[r-7],b,X,D,h);if(r<=Q.length)Y=hS.akK(Q[r-2],Q[r-1],D,h,b,X);var d=b+K.x,j=X+K.y,U=D+Y.x,I=h+Y.y,f=new aV;
for(var n=0;n<10;n++){var g=(n+1)*.1,H=1-g,u=H*H*H*b+3*g*H*H*d+3*g*g*H*U+g*g*g*D,s=H*H*H*X+3*g*H*H*j+3*g*g*H*I+g*g*g*h,_=this.a8o(u,s,S+g*(a-S));
f=f.Bc(_)}return f};hS.akK=function(r,Q,W,b,X,D){var h=r-W,S=Q-b,a=X-W,K=D-b,Y=Math.sqrt(h*h+S*S),d=Math.sqrt(a*a+K*K),j=Math.acos((h*a+S*K)/(Y*d))/Math.PI,U=.35,I=.1;
j=I+j*(U-I);var f=X-r,g=D-Q,H=Math.sqrt(f*f+g*g),u=j*d/H;return new cp(f*u,g*u)};hS.prototype.a8o=function(r,Q,W,b){var X=new aV,D=this.C0.ayw;
if(D==null)D=0;if(D==0||b){X=this.a7d(r,Q,W);return X}var h=this.Iy,S=r-h.x,a=Q-h.y,K=Math.sqrt(S*S+a*a);
S/=K;a/=K;if(K>D){var Y=h.x+S*(K-D),d=h.y+a*(K-D);X=this.a7d(Y,d,W);this.Iy.DX(Y,d)}return X};hS.prototype.a7d=function(r,Q,W){var b=new aV,X=new cp(r,Q),D=this.k.Brsh.v.Dmtr.v.val,h=this.C0.yW,S=X.eb(this.lO);
S.normalize(1);var a=cp.ks(this.lO,X),K=-this.aqO,Y=this.lO.clone();while(!0){var d=this.p7+(W-this.p7)*(Math.max(0,K)/a),j=this.a8G(d),U=this.afi()*(j+this.aur)/2*this.e3.a4N;
if(h==hS.rJ)U=1;if(K+U<a){K+=U;var I=new cp(this.lO.x+S.x*K,this.lO.y+S.y*K),H=1;if(h==hS.rJ){var f=Y.clone();
f.x+=S.x>0?1:-1;var g=Y.clone();g.y+=S.y>0?1:-1;if(cp.ks(f,I)<cp.ks(g,I))I=f;else I=g;K=cp.ks(I,this.lO)}if(this.k.useScatter.v==!0){H=this.k.Cnt.v;
var u=this.k.countDynamics.v.jitter.v.val/100,s=u*(-1+2*this.cA());H+=Math.round(H*s)}for(var n=0;n<H;
n++){var _=this.a0h(I,j,W,S);b=b.Bc(_)}Y=I}else break}this.aqO=a-K;this.lO=X;this.p7=W;return b};hS.prototype.afi=function(){var r=this.k.Brsh.v,Q=r.Spcn.v.val,W=Math.max(5,r.Rndn.v.val);
return W/100*(Q/100)};hS.prototype.a8G=function(r){var Q=this.k,W=Q.Brsh.v.Dmtr.v.val;if(Q.useTipDynamics.v){var b=W*(Q.minimumDiameter.v.val/100);
W=b+(W-b)*(1-this.cA(this.BK)*(Q.szVr.v.jitter.v.val/100));if(Q.szVr.v.bVTy.v==2)W*=r}return W};hS.prototype.a0h=function(r,Q,W,b){var X=this.C0.UA;
X=Math.min(1,X);var D=this.k,h=this.k.Brsh.v,S=h.Dmtr.v.val,a=this.C0,K=a.yW,Y=a.al4,d=this.e3.G5[1],j=new au;
j.translate(-d.e/2,-d.n/2);j.scale(1/this.e3.a1O,1/this.e3.a1O);j.scale(Q/S,Q/S);j.scale(1,Math.max(5,h.Rndn.v.val)/100);
if(D.usePaintDynamics&&D.usePaintDynamics.v){var U=D.opVr.v.jitter.v.val/100,I=D.prVr.v.jitter.v.val/100;
X*=1-this.cA()*U;X*=1-this.cA()*I;if(D.opVr.v.bVTy.v==2)X*=W;if(D.prVr.v.bVTy.v==2)X*=W}if(D.useTipDynamics.v){var f=D.angleDynamics.v,g=D.minimumRoundness.v.val/100;
j.scale(1,g+(1-g)*Math.round(100-this.cA()*D.roundnessDynamics.v.jitter.v.val)/100);j.rotate((-.5+this.cA())*4*Math.PI*(f.jitter.v.val/100));
if(f.bVTy.v==6)j.rotate(Math.atan2(-b.y,b.x))}j.rotate(h.Angl.v.val*(Math.PI/180));if(D.useScatter.v){var H=(-1+2*this.cA())*D.scatterDynamics.v.jitter.v.val/100;
j.translate(-H*Q*b.y,H*Q*b.x)}j.translate(r.x,r.y);var u=this.aov(j,r,Q),s=u.rect.clone();if(K==null){var _=this.xl(D);
E.tl(u.QP,Math.round(_.k*255)<<16|Math.round(_.W*255)<<8|Math.round(_.o*255)<<0,4278190080);if(this._y.WB()&&this.rect.s4(u.rect)&&X==1)this.NP=u.QP.slice(0);
else{var i=-1,M=2,T=-1,R=2;if(!a.c7){i=T=0;M=R=1}for(var z=T;z<R;z++)for(var G=i;G<M;G++){var V=u.rect.clone();
V.x+=G*this.rect.e;V.y+=z*this.rect.n;if(V.fs(this.rect)){s=s.Bc(V);E.q.aef(u.QP,V,this.NP,this.rect,V,X)}}}}if(K==hS.rJ){var y=new cp(u.rect.x+u.rect.e/2,u.rect.y+u.rect.n/2),k=Math.round(y.x-this.Ag.x),B=Math.round(y.y-this.Ag.y),v=u.rect.clone();
v.offset(-k,-B);var l=v.ww(this.rect);l.offset(k,B);E.TU(this.NP,this.rect,u.QP,v);E.q.QD(u.QP,u.rect,this.NP,this.rect,u.Jc,u.rect,X)}if(K==hS.cU||K==hS.Fg||K==hS.kn){var F=u.rect.ww(this.rect),L;
if(F.s4(u.rect))L=u.Jc;else{L=E.Q(F.O());E.L0(u.Jc,u.rect,L,F)}var Z=E.Q(F.O()*4);E.TU(this.NP,this.rect,Z,F);
if(K==hS.Fg){var t=Z.slice(0),A=E.Nm.N8([-1,-1,-1,-1,25,-1,-1,-1,-1]);E.Nm.mT(Z,t,F.e,F.n,A,0);E.qr(t,Z)}else if(K==hS.kn){var o=jv.fp("UnsM");
o.Amnt.v.val=15;o.Thsh.v=0;o.Rds.v.val=5;var t=E.Q(Z.length);jv.EW("UnsM",{buffer:Z,rect:F},o,0,0,{buffer:t,rect:F});
E.qr(t,Z)}else{jv.rG(1,E.Cb.dH,Z,F)}E.q.QD(Z,F,this.NP,this.rect,L,F,X)}this.aur=Q;this.Ag=y;this.BK++;
return s};hS.prototype.xl=function(r){var Q=hS.awv(this.V8);if(r.useColorDynamics&&r.useColorDynamics.v){var W=1-this.cA()*r.clVr.v.jitter.v.val/100,b=hS.awv(this.tB);
Q.o=W*Q.o+(1-W)*b.o;Q.W=W*Q.W+(1-W)*b.W;Q.k=W*Q.k+(1-W)*b.k;var X=(-.5+this.cA())*r.H.v.val/100,D=(-1+2*this.cA())*r.Strt.v.val/100,h=(-1+2*this.cA())*r.Brgh.v.val/100,S=E.kd(Q.o,Q.W,Q.k);
S.J9=(S.J9+X+1)%1;S.Am=S.Am+D;if(S.Am<0)S.Am=-S.Am;if(S.Am>1)S.Am=1-(S.Am-1);S.UM=S.UM+h;if(S.UM<0)S.UM=-S.UM;
if(S.UM>1)S.UM=1-(S.UM-1);Q=E.gB(S.J9,S.Am,S.UM)}return Q};hS.prototype.QF=function(r){return Math.max(0,Math.min(1,r))};
hS.prototype.cA=function(r){if(r==null){r=this.el++}return hS.hash(r)};hS.awv=function(r){return{o:(r>>16&255)/255,W:(r>>8&255)/255,k:(r>>0&255)/255}};
hS.hash=function(r){r=r^61^r>>16;r=r+(r<<3);r=r^r>>4;r=r*668265261;r=r^r>>15;return(r&16777215)/16777215};
hS.a7w=new cB;hS.prototype.aov=function(r,Q,W){var b=Math.sqrt(this.e3.G5[1].O()),X=b*r.mO(),D=X<10?1:X<50?1.5:X<200?3:8;
if(X<30)D=0;var h=hS.a7w,S=h.aai(this.afA),a=this.C0.rS;if(a){r=r.clone();r.rn=Math.floor(r.rn);r.NQ=Math.floor(r.NQ)}var K=cB.ars(r,b),Y=h.agG(S,K);
if(Y&&cB.apa(Y.$E,K)>D)Y=null;if(Y){Y.rect.x=Math.round(Y.a86.x+r.rn);Y.rect.y=Math.round(Y.a86.y+r.NQ);
if(a){Y.rect.x=Math.round(Q.x-Y.rect.e/2);Y.rect.y=Math.round(Q.y-Y.rect.n/2)}Y.VP=Date.now()}else{var d=Math.round(this.k.Brsh.v.Dmtr.v.val),j;
if(a&&d<=3){j={channel:E.Q(d*d),rect:new aV(Math.round(Q.x-d/2),Math.round(Q.y-d/2),d,d)};j.channel.fill(255)}else if(r.mu==1&&r.k==0&&r.th==0&&r.HR==1){j={channel:this.e3.G5[0],rect:this.e3.G5[1].clone()};
j.rect.x=Math.round(r.rn);j.rect.y=Math.round(r.NQ)}else{j=m.EA.ar1(this.e3.G5,r)}if(a){for(var n=0;
n<j.channel.length;n++)j.channel[n]=j.channel[n]>127?255:0}if(j==null)j={channel:E.Q(0),rect:new aV};
Y={QP:E.Q(j.rect.O()*4),Jc:j.channel,rect:j.rect,a86:new cp(j.rect.x-r.rn,j.rect.y-r.NQ),$E:K,VP:Date.now()};
E.nV(Y.Jc,Y.QP,3);if(S)h.aam(S,Y)}return Y};hS.auB=function(r,Q,W){var b,X,D,h=r.Brsh.v.Dmtr.v.val,S=r.Brsh.v.classID;
if(S=="computedBrush"){var a=r.Brsh.v.Hrdn.v.val/100;X=h<100?1.4:1;D=1;b=E.a5w.ap2(h,a,X)}if(S=="sampledBrush"){var K;
for(var n=0;n<Q.length;n++)if(Q[n].id==r.Brsh.v.sampledData.v)K=Q[n];b=K.G5;var Y=b[1];X=Math.max(Y.e,Y.n)/h;
D=Math.min(Y.e,Y.n)/Math.max(Y.e,Y.n)}return{a1O:X,a4N:D,G5:b}};hS.T=null;hS.hA=null;hS.Rs=function(r,Q,W,b,X,D){var h=hS.T,S=hS.hA;
if(h==null){hS.T=h=document.createElement("canvas");hS.hA=S=h.getContext("2d")}if(D==null)D=b;if(h.width!=D||h.height!=X){h.width=D;
h.height=X}else S.clearRect(0,0,D,X);S.fillStyle="#000000";S.font=Math.floor(10*m.i())+"px sans-serif";
var a=r.Brsh.v.Dmtr.v.val,K=""+a,Y=r.useBrushSize;if(Y&&Y.v)K="---";var d=S.measureText(K);S.fillText(K,(b-d.width)/2,X-2);
var j=b,U=X-10*m.i(),I=Math.min(j,U),f=r.Brsh.v.classID;if(f=="computedBrush"){S.translate(j/2,U/2);
S.rotate(-r.Brsh.v.Angl.v.val*Math.PI/180);S.scale(1,.1+.9*r.Brsh.v.Rndn.v.val/100);var g=Math.min(.95*I/2,a/2)+.5,H=.9*r.Brsh.v.Hrdn.v.val/100,u=S.createRadialGradient(0,0,0,0,0,g);
u.addColorStop(H,"rgba(0,0,0,1)");u.addColorStop((.5+H)/1.5,"rgba(0,0,0,.5)");u.addColorStop(1,"rgba(0,0,0,0)");
S.fillStyle=u;S.fillRect(-g,-g,2*g,2*g);S.setTransform(1,0,0,1,0,0)}else if(f=="sampledBrush"){var s,z=0;
for(var n=0;n<Q.length;n++)if(Q[n].id==r.Brsh.v.sampledData.v)s=Q[n];var i=s.G5;E.d6(i);var M=i[0],T=i[1].e,R=i[1].n;
while((T>j||R>U)&&i[z+2]){z+=2;M=i[z];T=i[z+1].e;R=i[z+1].n}if(T*R!=0){var G=E.Q(T*R*4);E.nV(M,G,3);
var V=new ImageData(new Uint8ClampedArray(G.buffer),T,R);S.putImageData(V,Math.round((j-T)/2),Math.round((U-R)/2))}}else{}return h.toDataURL()};
hS.bd=function(r,Q,W,b){if(W==0)W=1;var X=r.Brsh.v,D=X.Dmtr.v.val,h=X.Dmtr.v.val=Math.min(b!=null?Math.round(b*2.6):3e3,D*W),S=X.Hrdn?X.Hrdn.v.val/100:1,a=b!=null?b:Math.round(h*(1+.55*(1-S)))+4,d;
a=Math.max(15,Math.min(a,3e3));var K=new aV(0,0,a,a),Y=new hS(r,Q,null,{UA:1},16711712,0,K);X.Dmtr.v.val=D;
Y.moveTo(K.e/2,K.n/2);var j=Y.P3(),U=Y.J4();if(K.s4(U))d=j;else{d=E.Q(K.O()*4);E.TU(j,U,d,K)}return[d,K,h]};
hS.acZ=function(r,Q,W,b){var X=Q.e,D=X>>>1;for(var n=0;n<4;n++){var h=6-n;r[X*(D-h)+D-1]=b;r[X*(D-h)+D]=W;
r[X*(D-h)+D+1]=b;r[X*(D+h)+D-1]=b;r[X*(D+h)+D]=W;r[X*(D+h)+D+1]=b;r[X*(D-1)+D-h]=b;r[X*D+D-h]=W;r[X*(D+1)+D-h]=b;
r[X*(D-1)+D+h]=b;r[X*D+D+h]=W;r[X*(D+1)+D+h]=b}};hS.AL=function(r,Q,W,b){var X=hS.bd(r,Q,W),D=X[0].slice(0),h=X[1],S=X[2],a=h.O(),K=E.Q(a);
E.TX(D,K,3);var Y=E.Q(a);E.P.a5S(K,Y,h,m.i()>1.9);if(S<3||E.pV(Y,0)||b&&S>12){hS.acZ(Y,h,255,0)}var d=[3,5,3,4,8,4,3,5,3];
d=E.Nm.N8(d);E.Nm.Af(Y,K,h.e,h.n,d);E.tl(D,4294967295);E.nV(K,D,3);for(var n=0;n<a;n++)if(Y[n]==255){D[n<<2]=D[(n<<2)+1]=D[(n<<2)+2]=0;
D[(n<<2)+3]=255}return{ov:D,nX:h,kW:new cp(h.e/2,h.n/2)}};hS.rJ="0";hS.cU="1";hS.Fg="2";hS.kn="3";var eO={};
eO.w2=function(r,Q,W){if(W==null)W=!0;var b=r.add.TySh,X=new gH(b.kN,Q),D=eO.Hd(X,b);r.ix.path=D.path;
r.ix.G5=[D.NP,D.nX];E.P$(r.ix.G5);if(W){r.rect=D.nX;r.buffer=D.NP;r.U()}return[X,D]};eO.Hd=function(r,Q){var W=r.kD(),h=0,K;
if(W.x==Infinity||W.WB())return{NP:E.Q(0),nX:new aV,$C:new aV};var b=r.kD(),X=eO.pD(r,Q),D=E.p.QL(X.C);
for(var n=0;n<r.jr.length;n++){var S=r.jr[n].km;if(S.StrokeFlag&&S._LineWidth)h=Math.max(h,Math.ceil(Q.D.mO()*S._LineWidth/2))}D.sg(h,h);
if(D.WB())return{NP:E.Q(0),nX:new aV,$C:new aV};var a=E._j(D.e,D.n);a.translate(-D.x,-D.y);eO.axd(X,a);
if(r.jr.length!=0){var Y=aH.iT(Q),d=a.getImageData(0,0,D.e,D.n);K=new Uint8Array(d.data.buffer);if(Y==0)for(var n=0;
n<K.length;n+=4)K[n+3]=K[n+3]>80?255:0;if(Y==3)for(var n=0;n<K.length;n+=4)K[n+3]=Math.min(255,K[n+3]*1.5)}else K=E.Q(D.O()*4);
a.resetTransform();a.beginPath();return{NP:K,nX:D,$C:b,path:X}};eO.pD=function(r,Q){var W=Q.D,b=Q.kN;
eO.bH=W.mO();var X=aH.iT(Q),D=Math.max(W.k*W.k,W.th*W.th)<1e-9?W:null;if(X==3||X==4)D=null;var h={H:[],C:[]};
eO.a8c(r,h,D,!0);eO.a8c(r,h,D,!1);h=eO.FA(h,Q,r);return h};eO.bH=1;eO.FA=function(r,Q,W){if(r==null)return r;
if(W&&W.mn)E.p.D(r.C,W.mn,r.C);if(W&&!E.Eu.fF(Q.xR)){var b=aH.J4(Q,W);if(!b.WB()){if(r.H){r=E.p.BF(r);
var X=Math.min(b.e,b.n)/8;if(X<1)X=1;r=E.p.sb(r,X)}var D=E.Eu.c8(Q.xR,b);E.e_.D(D,r.C,b)}}var h=Q.D;
E.p.D(r.C,h,r.C);return r};eO.axd=function(r,Q){Q.save();Q.miterLimit=2;Typr.U.pathToContext({crds:r.C,cmds:r.H},Q);
Q.restore()};eO.rM=function(r,Q,W){var b=gH.ayg(W),X=r.kN,D=X.ResourceDict.FontSet,h=X.ResourceDict.StyleSheetSet[0].StyleSheetData,S=X.EngineDict.StyleRun.RunLengthArray,a=X.EngineDict.StyleRun.RunArray,K=aH.Wc(X),Y=!0,d={},j=0;
for(var n=0;n<a.length;n++){var U=a[n].StyleSheet.StyleSheetData.Font;if(U==null)U=h.Font;for(var I=0;
I<S[n];I++){var f=K.charCodeAt(j+I),g=U+","+(f>128?f:-1);if(d[g]==null){d[g]=1;if(Q.oD(D[U].Name,f)==null)Y=!1}}j+=S[n]}return Y&&b};
eO.ajB=function(r,Q,W){var b=!0;for(var X=0;X<r.B.length;X++){var D=r.B[X],h=D.add.TySh;if(h!=null&&!eO.rM(h,Q,W))b=!1}return b};
eO.a2B=function(r,Q,W){for(var b=0;b<r.B.length;b++){var X=r.B[b],D=X.add.TySh;if(D!=null&&eO.rM(D,Q,W)){eO.w2(X,Q);
r.U()}}};eO.a8c=function(r,Q,W,b){var X=new au;for(var n=0;n<r.GG.length;n++)eO.aiW(r.jr,r.GG[n],Q,X,W,b)};
eO.aiW=function(r,Q,W,b,X,D){b.translate(Q.D_.x,Q.D_.y);for(var n=0;n<Q.wZ.length;n++){var h={},S=Q.wZ[n];
if(!S.Vg)break;var a=b.clone();a.translate(S.D_.x,S.D_.y);if(X){var K=X.NQ+a.NQ*X.HR;a.NQ=(Math.round(K)-X.NQ)/X.HR}for(var Y=S.start;
Y<S.end;Y++)eO.abT(r,Q.OI[Y],Q,h,W,a,D)}b.translate(-Q.D_.x,-Q.D_.y)};eO.agx="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
eO.abT=function(r,Q,W,b,X,D,h){D.translate(Q.D_.x,Q.D_.y);for(var S=Q.zB;S<=Q.mP;S++){var a=W.Dk[S],K=a.nX.e,Y=r[W.atl+a.zZ],d=Y.km._FillBackgroundFlag;
if(Y.ry=="\n"||h&&!d)continue;var j=Y.km.FontSize/Y.ox.head.unitsPerEm,U=D.clone();U.translate(a.D_.x+a.IO*j,a.D_.y-a.bi*j);
var I=new au;I.scale(j,-j);if(Y.Gb==1&&eO.agx.indexOf(Y.ry)!=-1)I.concat(new au(-1,0,0,1,K,0));if(Y.km.FauxItalic)I.concat(new au(1,0,-Math.tan(.18),1,0,0));
I.translate(0,Y.Pu);I.scale(Y.scale.x,Y.scale.y);if(Y.km.BaselineShift!=null)I.translate(0,-Y.km.BaselineShift);
if(a.tA!=0){I.rotate(-a.tA)}I.concat(U);var f=(Y.km._LineWidth?Y.km._LineWidth:1)*eO.bH;if(h){X.H.push(eO.xl(Y.km._FillBackgroundColor));
var g=1.005*a.nX.n/j,H=new aV(-a.IO,-g*.27,1.03*a.nX.e/(j*Y.scale.x),g);if(Y.km.StrokeFlag)H.sg(f/j,f/j);
E.p.concat(X,E.p.vk(H),I);X.H.push("X");continue}if(Y.km.FillFlag)X.H.push(eO.xl(Y.km.FillColor));if(Y.km.StrokeFlag)X.H.push("O-"+eO.xl(Y.km.StrokeColor)+"-"+f);
if(a.path.H.length!=0&&Y.ry!="\t"){if(Y.km.FauxBold){var u=Y.km.FontSize/2048*27*Y.scale.x;I.rn+=u;E.p.concat(X,a.path,I);
I.rn-=u+u;E.p.concat(X,a.path,I)}else E.p.concat(X,a.path,I)}if(Y.ry!="\n"){if(Y.km.Underline){if(b.og==null)b.og=Y.ox.post.underlineThickness;
if(b.akk==null)b.akk=Y.ox.post.underlinePosition;var s=0,_=b.akk-b.og/2,i=a.e7*1.05,M=-b.og;E.p.concat(X,{H:["M","L","L","L","Z"],C:[s,_,s+i,_,s+i,_+M,s,_+M]},I)}if(Y.km.Strikethrough){var T=Y.ox["OS/2"].yStrikeoutSize,R=Y.ox["OS/2"].yStrikeoutPosition,s=0,_=R+T/2,i=a.e7*1.05,M=-T;
E.p.concat(X,{H:["M","L","L","L","Z"],C:[s,_,s+i,_,s+i,_+M,s,_+M]},I)}}if(Y.km.FillFlag)X.H.push("X");
if(Y.km.StrokeFlag)X.H.push("OX")}D.translate(-Q.D_.x,-Q.D_.y)};eO.xl=function(r){var Q=aH.vf(r),W=(Math.round(Q.o)<<16)+(Math.round(Q.W)<<8)+Math.round(Q.k);
return"#"+E.Y0(W)};function gH(r,W){var b=aH.yv(r),X,D,h=aH.mF(r),S=r._LineOrientation==2?new au:null,d,U;
if(r.Curve)D=gH.gi(r.Curve);if(b!=0){X=new aV(h[0],h[1],h[2],h[3]);if(S){var a=X.e;X.e=X.n;X.n=a;S.translate(0,-h[2])}if(b==2){X.e=D[5]-D[4];
X.n=9999}}this.GG=[];this.jr=[];this.tv=b;this.mn=S;var K=this.a5d=aH.Wc(r),Y=-1,j=-1;for(var n=0;n<K.length;
n++){var I=d,f=aH.axj(r,n);if(f!=Y){Y=f;I=d=aH.akz(r,f)}var g=U,f=aH.atq(r,n);if(f!=j){j=f;g=U=aH.a30(r,f)}var H={ry:K.charAt(n),km:I,ox:null,Tx:-1,Lo:aH.alF(r,n),Pu:0,scale:new cp(0,0),E_:0,lineHeight:0,Gb:0},u=r.ResourceDict.FontSet[I.Font].Name,s=H.ox=W.oD(u,K.charCodeAt(n));
H.scale.x=I.HorizontalScale==null?1:I.HorizontalScale;H.scale.y=I.VerticalScale==null?1:I.VerticalScale;
var _=s["OS/2"],i=s.hhea;if(I.FontCaps==1&&H.ry!=H.ry.toUpperCase()){var M=_.sxHeight?_.sxHeight/_.sTypoAscender:.76;
H.scale.x*=M;H.scale.y*=M}var T=1/s.head.unitsPerEm*I.FontSize;if(I.FontBaseline==1){var M=r.ResourceDict.SuperscriptSize;
H.scale.x*=M;H.scale.y*=M;H.Pu-=r.ResourceDict.SuperscriptPosition*I.FontSize}if(I.FontBaseline==2){var M=r.ResourceDict.SubscriptSize;
H.scale.x*=M;H.scale.y*=M;H.Pu+=r.ResourceDict.SubscriptPosition*I.FontSize}H.E_=gH.E_(s)*I.FontSize;
var R=g.AutoLeading;H.lineHeight=I.FontSize*(R==null?1.2:R);if(I.AutoLeading==!1)H.lineHeight=I.Leading;
if(H.lineHeight==0)H.lineHeight=.01;this.jr.push(H)}var z=this.GG,G=[0];for(var n=0;n<r.EngineDict.ParagraphRun.RunLengthArray.length;
n++){var V=new gH.c_(r,W,this.jr,n,X,G,b==1?D:null);z.push(V)}if(S){if(b==0)S.translate(0,z[0].OI[0].E_/2);
S.rotate(-Math.PI/2)}if(b==2){var y=r.Curve.Points,k=D[0],B=D[1],v=D[2],l=D[3],F=D[4],L=D[5];for(var n=0;
n<z.length;n++)for(var Z=0;Z<z[n].wZ.length;Z++)if(!(n==0&&Z==0))z[n].wZ[Z].Vg=!1;var V=z[0],t=V.wZ[0];
V.D_.DX(0,0);t.D_.DX(0,0);for(var Z=t.start;Z<t.end;Z++){var A=V.OI[Z],o=A.D_.x;A.D_.x=0;for(var O=A.zB;
O<=A.mP;O++){var x=V.Dk[O],C=x.nX.e/2;x.D_.x+=o;var J=gH.akp(k,(F+x.D_.x+C)%l);x.D_.x=J[0]-C*J[2];x.D_.y=J[1]-C*J[3];
x.tA=Math.atan2(J[3],J[2])}}}}gH.E_=function(r){var Q=r._hh;if(Q==null){var W=Typr.U,b=W.codeToGlyph(r,104),X=E.p.Z3(Typr.U.glyphToPath(r,b).crds).n;
Q=r._hh=X*(1/r.head.unitsPerEm)}return Q};gH.prototype.ac1=function(){return!this.ajP(0)};gH.prototype.ah1=function(){return this.ajP(1)};
gH.prototype.ajP=function(r){var Q=this.GG,W=!0,b=0;for(var n=0;n<Q.length;n++){var X=Q[n].wZ,D=X.length;
b+=D;for(var h=0;h<D;h++)W&=X[h].Vg}return[W,b][r]};gH.gi=function(r,Q){if(Q==null)Q=.25;var W=r.Points,b=W.length,X=b>>>3,D=r.TextOnPathTRange,h=r.Reversed,d=0,j=0;
if(h){var S=W.slice(0);for(var n=0;n<b;n+=2){S[n]=W[b-2-n];S[n+1]=W[b-1-n]}W=S;D=[X-D[1]%X,X-D[0]%X]}var a=[],K=[0],Y=[0];
for(var n=0;n<b;n+=8){var U=W[n+6]-W[n+0],I=W[n+7]-W[n+1],f=Math.round(1/Q*Math.sqrt(U*U+I*I));for(var g=0;
g<f;g++){var H=g/f,u=1-H,s=u*u*u*W[n+0]+3*u*u*H*W[n+2]+3*u*H*H*W[n+4]+H*H*H*W[n+6],_=u*u*u*W[n+1]+3*u*u*H*W[n+3]+3*u*H*H*W[n+5]+H*H*H*W[n+7];
a.push(s,_);if(n+g!=0){var U=s-d,I=_-j;Y.push(Y[Y.length-1]+Math.sqrt(U*U+I*I));K.push((n>>>3)+H)}d=s;
j=_}}var Q=Y.length,i=Y[Q-1],M=gH.KI(D[0]%X,K),T=gH.KI(D[1]%X,K),R=Y[M%Q],z=Y[T%Q];if(R>=z)z+=i;return[a,K,Y,i,R,z]};
gH.KI=function(r,Q){var n=0;while(Q[n]<r)n++;return n};gH.akp=function(r,Q){var W=0,n=0,b,X,D;while(W<Q){b=r[n+2]-r[n];
X=r[n+3]-r[n+1];D=Math.sqrt(b*b+X*X);W+=D;n+=2}return[r[n],r[n+1],b/D,X/D]};gH.prototype.alL=function(r){return this.jr[r]};
gH.prototype.a7m=function(r){for(var Q=0;Q<this.GG.length;Q++){var W=this.GG[Q];for(var b=0;b<W.wZ.length;
b++){var X=W.wZ[b],D=W.OI[X.start].start,h=W.OI[X.end-1].end;if(D<r&&r<h)return[D,h-1]}}return[0,1]};
gH.prototype.ar6=function(r,Q){var W=-1,b=this.GG;if(this.tv==2){var X=1e9,D=0,h=b[0],S=h.wZ[0];for(var a=S.start;
a<S.end;a++){var K=h.OI[a];for(var Y=K.zB;Y<=K.mP;Y++){var d=h.Dk[Y],j=d.nX.e,U=r.x-d.D_.x,I=r.y-d.D_.y,f=U*U+I*I;
if(f<X){X=f;D=d.zZ}}}if(D!=0&&this.a5d.codePointAt(D-1)>65535)D--;return D}for(var g=0;g<b.length;g++){var h=b[g];
for(var H=0;H<h.wZ.length;H++){W++;var S=h.wZ[H],u=h.wZ[H+1];if(u==null&&g<b.length-1)u=b[g+1].wZ[0];
if(Q!=null){if(W!=Q)continue}else{if(u!=null&&h.D_.y+S.D_.y<r.y)continue}for(var a=S.start;a<S.end;a++){var K=h.OI[a];
for(var Y=K.zB;Y<=K.mP;Y++){var d=h.Dk[Y],j=d.nX.e,s=h.D_.x+S.D_.x+K.D_.x,_=s+d.D_.x,i=s+(Y<K.mP?h.Dk[Y+1].D_.x:d.D_.x+j);
if(r.x<=i||a+1==S.end&&Y==K.mP){var M=h.atl+d.zZ,T=this.jr[M],R=T.Gb&1;if(T.ry!="\n"&&(R==0&&r.x>_+j/2||R==1&&r.x<_+j/2))M+=this.a5d.codePointAt(M)>65535?2:1;
return M}}}}}};gH.prototype.cu=function(r){var Q={nX:new aV,q3:0},W=0;for(var b=0;b<this.GG.length;b++){var X=this.GG[b];
for(var D=0;D<X.wZ.length;D++){var h=X.wZ[D];Q.q3=W;W++;for(var S=h.start;S<h.end;S++){var a=X.OI[S];
for(var K=a.start;K<a.end;K++){if(K==r){var Y=this.jr[K],d=Y.Tx,j=X.Dk[d].zZ,U=1;while(X.Dk[d]!=null&&X.Dk[d].zZ==j){var I=X.Dk[d],f=X.D_.x+h.D_.x+a.D_.x+I.D_.x,g=X.D_.y+h.D_.y+a.D_.y+I.D_.y;
Q.nX=Q.nX.Bc(new aV(f,g-Y.lineHeight,I.nX.e,Y.lineHeight));Q.tA=I.tA;d+=U}return Q}}}}}};gH.prototype.kD=function(){var r=Infinity,Q=Infinity,W=-Infinity,b=-Infinity;
for(var n=0;n<this.GG.length;n++){var X=this.GG[n];for(var D=0;D<X.wZ.length;D++){var h=X.wZ[D];if(!h.Vg)break;
for(var S=h.start;S<h.end;S++){var a=X.OI[S];for(var K=a.zB;K<=a.mP;K++){var Y=X.Dk[K],d=Y.nX,j=X.D_.x+h.D_.x+a.D_.x+Y.D_.x,U=X.D_.y+h.D_.y+a.D_.y+Y.D_.y;
r=Math.min(r,j+d.x);Q=Math.min(Q,U+d.y);W=Math.max(W,j+d.x+d.e);b=Math.max(b,U+d.y+d.n)}}}}return new aV(r,Q,W-r,b-Q)};
gH.jL=function(r){return 19968<=r&&r<=40959||12288<=r&&r<=12543};gH.ac4=function(r,W,b,X,D,h,S){var a=[h],K=0;
for(var n=h;n<S;n++){if(b[n]==null)console.log(n,h,S,b);var Y=b[n].ry,d=Y.charCodeAt(0);if(d==32||d==9){a.push(K,n,1,n+1);
K=0}else if(d==3851){a.push(K+1,n+1);K=0}else if(gH.jL(d)){a.push(K,n);K=1}else if(n!=h&&b[n].Gb!=b[n-1].Gb){a.push(K,n);
K=1}else K++}a.push(K);var j=[];for(var n=0;n<a.length;n+=2){var U=a[n],I=a[n+1];if(I==0)continue;j.push(new gH.a1y(r,W,b,X,D,U,I))}return j};
gH.acu=function(r,Q,W,b,X,D,h){var S=[0,Q?Q.e:1e9],a=[];if(b){var K=r[D].E_,Y=X+(X==0?K:r[D].lineHeight),d=Y-K*.9,j=E.p.zX(b[0],d),U=j.length,I=E.p.zX(b[0],Y),f=I.length;
if(U!=0&&f!=0){var g=0,H=0,u=[];while(g<U&&H<f){var s=Math.max(j[g],I[H]),_=j[g+1],i=I[H+1],M=Math.min(_,i);
if(s<M)u.push(s,M);if(_<i)g+=2;else H+=2}if(u.length!=0)S=u}}for(var T=0;T<S.length;T+=2){var R=0,z=D,G=Q?S[T+1]-S[T]-W.StartIndent-W.EndIndent-(D==0?W.FirstLineIndent:0):Infinity;
while(D!=r.length){var V=r[D],y=R==0||(V.j8||V.Kg)||R+V.nX.e<G;if(!y)break;R+=V.nX.e;D++}a.push(D-z)}h[0]=a;
h[1]=S;h[2]=D};gH.ag5=function(r,Q){var W=r.length,b=new Uint32Array(W),X=new Uint8Array(W),D=0;for(var n=0;
n<W;n++){X[n]=0;var h=r.charCodeAt(n);b[n]=h;if(h>D)D=h}if(D>1424)X=gH.a4k(b,Q);return X};gH.a9J=function(r){return r=="\xDF"?r:r.toUpperCase()};
gH.c_=function(r,W,b,X,D,h,S){this.OI=[];this.wZ=[];this.D_=new cp(0,0);this.Dk=null;this.OI=null;this.km=aH.a30(r,X);
var a=this.km,j=0,f="",_=0,i=1,x=0;if(X!=0){var K=a.SpaceBefore;if(K!=null)h[0]+=K}var Y=r.EngineDict.ParagraphRun.RunLengthArray,d=Y[X];
for(var n=0;n<X;n++)j+=Y[n];var U=a._Direction?a._Direction:0;this.atl=j;var I=aH.Wc(r).slice(j,j+d);
for(var g=0;g<I.length;g++){var H=I.charAt(g);f+=b[j+g].km.FontCaps==0?H:gH.a9J(H)}I=f;var u=gH.ag5(I,U),s=[],M=u[n]&1,T=b[j].ox;
b[j].Gb=u[0];for(var n=1;n<I.length;n++){var H=b[j+n],R=u[n];H.Gb=R;if(R!=M||H.ox!=T){s.push(_,i);_=n;
i=1;M=R;T=H.ox}else i++}s.push(_,i);var z=this.Dk=[];for(var n=0;n<s.length;n+=2){var G=s[n],V=s[n+1],y=(b[j+G].Gb&1)==0,k=I.slice(G,G+V),B=Typr.U.shapeHB(b[j+G].ox,k,y),v=[],L=0;
for(var g=0;g<B.length;g++){var l=B[g];v.push({W:l.g,zZ:l.cl,e7:l.ax,ID:l.ay,IO:l.dx,bi:l.dy})}B=v;var F=B.slice(0);
if(!y)F.reverse();for(var g=0;g<k.length;g++){while(L+1<F.length&&F[L+1].zZ<=g){L++}while(L>0&&F[L-1].zZ==g)L--;
b[j+G+g].Tx=z.length+(y?L:F.length-L-1)}for(var g=0;g<B.length;g++){z.push(B[g]);B[g].zZ+=G;var H=b[j+B[g].zZ];
if(H.Lo!=-1){B[g].W=H.Lo;var Z=H.ox.hmtx;if(Z){var t=Object.keys(Z)[0];B[g].e7=Z[t][H.Lo]}}if(H.ry=="\n")B[g].e7=0;
if(H.ry=="\t")B[g].e7=H.ox.head.unitsPerEm*36/H.km.FontSize}}var A=aH.r3(a),o=this.OI=gH.ac4(r,W,b,j,z,j,j+d),O=this.wZ,C=-1,f=[null,null,0];
while(x<o.length){gH.acu(o,D,a,S,h[0],x,f);C++;var J={start:x,end:0,nX:new aV,D_:new cp(0,0),Vg:!0},c$=0,dB=0;
O.push(J);J.end=f[2];if(J.start==J.end)throw"e";var q=J.end==o.length;function fd(F,G,f3){var jC=f3-G>>>1;
for(var n=0;n<jC;n++){var bc=F[G+n];F[G+n]=F[f3-1-n];F[f3-1-n]=bc}}for(var w=1;w<5;w++){var P=-1;for(var n=J.start;
n<J.end;n++){var R=b[o[n].start].Gb;if(P==-1&&R>=w)P=n;else if(P!=-1&&R<w){fd(o,P,n);P=-1}}var fc=J.end;
if(U==0&&o[fc-1].j8)fc--;if(P!=-1)fd(o,P,fc)}var p=f[0],gG=f[1],P=x,fh=x;for(var fJ=0;fJ<p.length;fJ+=2){var cF=D?gG[fJ+1]-gG[fJ]-a.StartIndent-a.EndIndent-(x==0?a.FirstLineIndent:0):Infinity,j_=0;
P=fh;fh+=p[fJ];var gY=this.ahM(P,fh,o,U,D!=null);if(D){if(A==1||q&&A==4)j_=gY[1]+(cF-gY[0]);if(A==2||q&&A==5)j_=gY[1]+(cF-gY[0])/2;
if(fh-P==1&&o[P].nX.e>cF)j_=0;if(C==0)j_+=a.FirstLineIndent;j_+=a.StartIndent}else{if(A==0)j_=a.StartIndent+a.FirstLineIndent;
if(A==1)j_=-gY[0]-a.EndIndent;if(A==2)j_=-gY[0]/2}j_+=gG[fJ];if(D&&A>2&&(A==6||!q))this.ay6(P,fh,o,cF,U,j_);
else{var kc=j_;for(var n=P;n<fh;n++){var el=o[n],iN=el.nX.e;el.D_.x=kc;if(el.Nv=="\t")iN=Math.ceil((kc+4)/36)*36-kc;
kc+=iN}}}x=J.end;for(var n=J.start;n<J.end;n++){var aL=o[n].nX.clone();aL.Yq(o[n].D_);J.nX=J.nX.Bc(aL);
c$=Math.max(c$,o[n].E_);dB=Math.max(dB,o[n].lineHeight)}J.D_.y=C==0?0:O[C-1].D_.y+dB;if(C==0){if(X==0&&D)h[0]+=c$;
if(X!=0)h[0]+=dB;this.D_.y=h[0]}else h[0]+=dB;if(D)J.Vg=this.D_.y+J.D_.y<D.y+D.n||C==0}var aB=a.SpaceAfter;
if(aB!=null)h[0]+=aB};gH.c_.prototype.ahM=function(r,Q,W,b,X){var D=0,h=0;for(var n=r;n<Q;n++)D+=W[n].nX.e;
if(X){if(b==0)for(var n=Q-1;n>=r;n--)if(W[n].j8||W[n].Kg)D-=W[n].nX.e;else break;if(b==1)for(var n=r;
n<Q;n++)if(W[n].j8||W[n].Kg){var S=W[n].nX.e;D-=S;h-=S}else break}return[D,h]};gH.c_.prototype.ay6=function(r,Q,W,b,X,D){var h=0,S=0,a=0,K=0;
for(var n=r;n<Q;n++)if(W[n].j8)a++;else{h+=W[n].nX.e;S++}if(X==0)for(var n=Q-1;n>=r;n--)if(W[n].j8||W[n].Kg){if(W[n].j8){a--}}else break;
if(X==1)for(var n=r;n<Q;n++)if(W[n].j8||W[n].Kg){if(W[n].j8){a--;K++}}else break;if(S<=1||a==0){if(S==1)W[r].D_.x=D;
return}var Y=(b-h)/a,d=-K*Y;for(var n=r;n<Q;n++){if(W[n].j8)this.Dk[W[n].zB].nX.e=W[n].nX.e=Y;W[n].D_.x=D+d;
d+=W[n].nX.e}};gH.a1y=function(r,W,b,X,D,h,S){this.Nv="";for(var n=0;n<S;n++)this.Nv+=b[h+n].ry;this.j8=S==1&&(b[h].ry==" "||b[h].ry=="\t");
this.Kg=S==1&&b[h].ry=="\n";this.start=h;this.end=h+S;this.nX=new aV;this.D_=new cp(0,0);this.E_=0;this.lineHeight=0;
var a=0,K=0;if(S==0){this.lineHeight=b[h].lineHeight;this.E_=b[h].E_;this.nX=new aV(0,-b[h].lineHeight,0,b[h].lineHeight)}var Y=b[h].Tx,d=b[h+S-1].Tx;
if(d<Y){var j=Y;Y=d;d=j}while(d+1<D.length&&D[d].zZ==D[d+1].zZ){d++}this.zB=Y;this.mP=d;for(var U=Y;
U<=d;U++){var I=D[U],f=b[X+I.zZ],g=r._LineOrientation==2&&(f.km.BaselineDirection!=2||gH.jL(f.ry.charCodeAt(0))),H=Typr.U.glyphToPath(f.ox,I.W),M=0;
I.path={H:H.cmds,C:H.crds};var u=f.km.FontSize,s=1/f.ox.head.unitsPerEm*u;if(!f.km.AutoKerning)a+=f.km.Kerning*2*s*f.scale.x;
I.D_=new cp(a,0);I.tA=0;if(g&&I.path.C.length>0){I.tA=-Math.PI/2;I.D_.x+=u*.83;I.D_.y=-u*.3+I.e7*s/2;
I.e7=u/s}var _=I.e7*s*f.scale.x;I.nX=new aV(0,-f.lineHeight,_,f.lineHeight);var i=I.nX.clone();i.Yq(I.D_);
if(f.km.Tracking!=null)M=f.km.Tracking*.001*u;if(f.km.FauxBold==!0)M+=.027*u;a+=_+M;if(S==1&&f.ry==" ")i.e+=2*M;
else if(S==1&&f.ry!=null&&gH.jL(f.ry.charCodeAt(0)))i.e+=M;this.nX=this.nX.Bc(i);this.E_=Math.max(this.E_,f.E_);
this.lineHeight=Math.max(this.lineHeight,f.lineHeight)}};gH.PE=0;gH.ayg=function(r){if(gH.PE==2)return!0;
if(gH.PE==1)return!1;gH.PE=1;function Q(){fetch("code/ext/fribidi.wasm").then(function(W){return W.arrayBuffer()}).then(function(W){return WebAssembly.instantiate(W)}).then(function(W){var b=W.instance.exports,X=b.memory,D=16,h=256,S=1,a=D|h,K=D|h|S;
gH.a4k=function(d,j){var U=d.length,I=U*4+4+U*4+U*4+U;fH._Q(b,I+U+1e7);var f=new Uint8Array(X.buffer),g=new Uint32Array(X.buffer),H=b.calloc(I,1),u=H+U*4,_=u+4,i=_+U*4,M=i+U*4;
g.set(d,H>>>2);g[u>>>2]=j==0?a:K;b.fribidi_get_bidi_types(H,U,_);b.fribidi_get_bracket_types(H,U,_,i);
b.fribidi_get_par_embedding_levels_ex(_,i,U,u,M);var T=f.slice(M,M+U);b.free(H);return T};gH.PE=2;var Y=new km(e.E.L,!0);
Y.data={d:e.c.bJ,FX:"add",Lb:d4.TH,t_:null};r.$(Y)})}Typr.U.initHB("code/ext/hb.wasm",Q);return!1};function aH(){}aH.f4=function(r){return JSON.parse(JSON.stringify(r))};
aH.y4=function(r,Q){for(var W in Q)r[W]=Q[W]};aH.M6=function(r,Q,W,b){var X=aH.a3f();if(W)aH.Yf(X,0,0,W);
var D=new au;if(b!=null)D.rotate(b);D.translate(Math.round(r),Math.round(Q));var h={D:D,kN:X};h.pn=aH.ap8();
h.xR=E.Eu.Q();h.$C=new aV;return h};aH.aeD=function(r){var Q=["CharacterDirection",0];for(var n=0;n<Q.length;
n+=2){if(r[Q[n]]!=null&&r[Q[n]]!=Q[n+1]){throw"e";console.log(Q[n],r[Q[n]])}}if(r instanceof Array)for(var n=0;
n<r.length;n++)aH.aeD(r[n]);else if(r instanceof Object)for(var W in r)aH.aeD(r[W])};aH.r3=function(r,Q){if(Q==null)Q=r.Justification;
var W=r._Direction?r._Direction:0;if(W==1){if(Q==0||Q==3)Q++;else if(Q==1||Q==4)Q--}return Q};aH.RA=function(r){if(r.add==null)return;
var Q=r.kN,W=Q.Curve,b=r.add.vmsk,X=b.V,D=E.p.Mf(X,!0).C,h=r.D.clone();h.j4();E.p.D(D,h,D);var S=D.slice(0,8);
for(var a=8;a<D.length;a+=6)S.push(D[a-2],D[a-1],D[a],D[a+1],D[a+2],D[a+3],D[a+4],D[a+5]);W.Points=S;
W.TextOnPathTRange=b.Sp.slice(0);W.Reversed=b.Lt;if(aH.yv(Q)==1){var W=gH.gi(Q.Curve),K=E.p.Z3(W[0]);
aH.Ad(Q,[0,0,K.e,K.n].map(Math.round));for(var n=0;n<S.length;n+=2){S[n]-=K.x;S[n+1]-=K.y}var Y=new au(1,0,0,1,K.x,K.y);
Y.concat(r.D);r.D=Y}};aH.LI=function(r){if(r.add==null)return;var Q=r.add.vmsk,W=r.kN.Curve,b=W.Points,X={H:["M"],C:[b[0],b[1]]};
for(var n=0;n<b.length;n+=8){X.H.push("C");X.C.push(b[n+2],b[n+3],b[n+4],b[n+5],b[n+6],b[n+7])}E.p.D(X.C,r.D,X.C);
var D=E.p.ou(X,!0);Q.V=D;Q.Lt=W.Reversed;Q.Sp=W.TextOnPathTRange.slice(0);r.add.vogk=$.P7(D)};aH.vf=function(r){var Q={o:0,W:0,k:0};
if(r){var W=r.Values;if(r.Type==1)Q={o:W[1]*255,W:W[2]*255,k:W[3]*255};else if(r.Type==2){var b={classID:"CMYC",Cyn:{t:"doub",v:W[1]*100},Mgnt:{t:"doub",v:W[2]*100},Ylw:{t:"doub",v:W[3]*100},Blck:{t:"doub",v:W[4]*100}};
Q=E.M.vf(b)}else console.log("Unknown color type")}return Q};aH.aqu=function(r){for(var n=0;n<r.length;
n++){var Q=r[n].StyleSheet.StyleSheetData,W=Q.FillColor;if(W&&W.Type==2){var b=aH.vf(W);W.Type=1;W.Values=[1,b.o/255,b.W/255,b.k/255]}}};
aH.J4=function(r,Q){var W;if(aH.yv(r.kN)==1){var b=aH.mF(r.kN);W=new aV(0,0,b[2]-b[0],b[3]-b[1])}else{W=Q.kD();
if(Q.mn){var X=Q.mn.clone(),D=E.p.vk(W);E.p.D(D.C,X,D.C);W=E.p.Z3(D.C)}}return W};aH.Se=function(r){var Q=r[0];
for(var n=0;n<r.length;n++)Q=aH.a2O(Q,r[n]);return Q};aH.a2O=function(r,Q){var W={};for(var b in r)if(JSON.stringify(r[b])==JSON.stringify(Q[b]))W[b]=r[b];
return W};aH.Oz=function(r,Q){var W=r.Nk,b=-1;for(var n=0;n<W.length;n++)if(W[n].Name==Q)b=n;if(b==-1){b=W.length;
W.push({FontType:1,Name:Q,Script:0,Synthetic:0})}r.jr.Font=b};aH.Wc=function(r){return r.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
aH.Q1=function(r,W){r.EngineDict.Editor.Text=W.replace(/\n/g,"\r")};aH.yv=function(r){return r.Curve&&r.Curve.TextOnPathTRange[0]>=0?2:r.EngineDict.Rendered.Shapes.Children[0].ShapeType};
aH.GK=function(r,W){var b=r.EngineDict.Rendered.Shapes.Children[0];b.ShapeType=W;var X=b.Cookie.Photoshop;
X.ShapeType=W;X.Base.ShapeType=W;if(W==0){delete X.BoxBounds;X.PointBase=[0,0]}if(W==1){delete X.PointBase;
X.BoxBounds=[0,0,1,1]}};aH.mF=function(r){return r.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
aH.Ad=function(r,W){r.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=W};aH.alF=function(r,W){var b=r.EngineDict.AlternateGlyphRun;
if(b==null)return-1;var X=aH.as(b.RunLengthArray,W).p4;if(b.RunArray[X]==null)return-1;var D=b.RunArray[X].Glyph;
return D==null?-1:D};aH.aiC=function(r,W,b){var X=r.EngineDict.AlternateGlyphRun;if(X==null){X=r.EngineDict.AlternateGlyphRun=aH.a7U();
X.RunArray.push({});X.RunLengthArray.push(aH.Wc(r).length)}var D=aH.as(X.RunLengthArray,W),h=D.p4,S=W-D.g4,a=X.RunArray[h],K=JSON.stringify(a),Y=X.RunLengthArray[h];
if(S!=0){X.RunArray.splice(h,0,JSON.parse(K));X.RunLengthArray.splice(h,0,S);X.RunLengthArray[h+1]-=S;
h++;Y-=S;S=0}if(Y!=1){X.RunArray.splice(h+1,0,JSON.parse(K));X.RunLengthArray.splice(h+1,0,Y-1);X.RunLengthArray[h]=1;
Y=1}a.Glyph=b};aH.axj=function(r,W){var b=r.EngineDict.StyleRun.RunLengthArray;return aH.as(b,W).p4};
aH.akz=function(r,W){var b=r.ResourceDict.StyleSheetSet[0].StyleSheetData,X={};for(var D in b)X[D]=b[D];
var h=r.EngineDict.StyleRun.RunArray[W].StyleSheet.StyleSheetData;aH.y4(X,h);return X};aH.atq=function(r,W){var b=r.EngineDict.ParagraphRun.RunLengthArray;
return aH.as(b,W).p4};aH.a30=function(r,W){var b=r.ResourceDict.ParagraphSheetSet[0].Properties,X={};
for(var D in b)X[D]=b[D];var h=r.EngineDict.ParagraphRun.RunArray[W].ParagraphSheet.Properties;aH.y4(X,h);
var S=["StartIndent","EndIndent","FirstLineIndent"];for(var n=0;n<3;n++)if(X[S[n]]==null)X[S[n]]=0;return X};
aH.ig=function(r,W,b){if(b=="")return;var X=aH.Wc(r);aH.Q1(r,X.substring(0,W)+b+X.substring(W,X.length));
var D=r.EngineDict.StyleRun,h=D.RunLengthArray,S=aH.as(h,W-1);h[S.p4]+=b.length;var a=r.EngineDict.AlternateGlyphRun;
if(a){var h=a.RunLengthArray,S=aH.as(h,W-1);h[S.p4]+=b.length}var K=r.EngineDict.ParagraphRun,h=K.RunLengthArray,Y=aH.as(h,W),d=b.split("\n");
if(d.length==1){h[Y.p4]+=b.length;return}h.splice(Y.p4+1,0,h[Y.p4]-(W-Y.g4));K.RunArray.splice(Y.p4+1,0,aH.f4(K.RunArray[Y.p4]));
h[Y.p4]-=h[Y.p4+1];h[Y.p4]+=d[0].length+1;for(var n=1;n<d.length-1;n++){K.RunArray.splice(Y.p4+n,0,aH.f4(K.RunArray[Y.p4+n-1]));
K.RunLengthArray.splice(Y.p4+n,0,d[n].length+1)}h[Y.p4+d.length-1]+=d[d.length-1].length};aH.d4=function(r,W,b){var X=aH.Wc(r);
aH.Q1(r,X.substring(0,W)+X.substring(b,X.length));aH.bz(r.EngineDict.ParagraphRun,W,b,!0);aH.bz(r.EngineDict.StyleRun,W,b,!1);
var D=r.EngineDict.AlternateGlyphRun;if(D)aH.bz(D,W,b,!1)};aH.bz=function(r,Q,W,b){var X=r.RunLengthArray,D=aH.as(X,Q),h=aH.as(X,W),S=[];
for(var n=0;n<X.length;n++)for(var a=0;a<X[n];a++)S.push(n);S.splice(Q,W-Q);var K=[];for(var n=0;n<X.length;
n++)K.push(0);for(var n=0;n<S.length;n++)K[S[n]]++;for(var n=0;n<X.length;n++){if(K[n]==0){K.splice(n,1);
X.splice(n,1);r.RunArray.splice(n,1);n--}else if(K[n]<X[n])X[n]=K[n]}if(b&&D.p4!=h.p4&&D.g4!=Q){X[D.p4]+=X[D.p4+1];
X.splice(D.p4+1,1);r.RunArray.splice(D.p4+1,1)}};aH.Yf=function(r,W,b,X){var D=r.EngineDict.Editor.Text.length;
if(b==D-2)b++;if(X.jr.Font!=null)r.ResourceDict.FontSet=X.Nk.slice(0);if(W<=b)aH.ag0(r.EngineDict.StyleRun,X.jr,W,b,!0);
aH.ag0(r.EngineDict.ParagraphRun,X.GG,W,b,!1)};aH.Z2=function(r,W,b){var X={Nk:r.ResourceDict.FontSet.slice(0),jr:[],GG:[]},D=r.EngineDict.StyleRun.RunLengthArray,h=aH.as(D,W).p4,S=aH.as(D,b).p4;
for(var n=h;n<=S;n++){var a=aH.f4(r.ResourceDict.StyleSheetSet[0].StyleSheetData),K=r.EngineDict.StyleRun.RunArray;
if(K.length==0)continue;var Y=K[n].StyleSheet.StyleSheetData;aH.y4(a,Y);X.jr.push(a)}var d=r.EngineDict.ParagraphRun.RunLengthArray,j=aH.as(d,W).p4,U=aH.as(d,b).p4;
for(var n=j;n<=U;n++){var I=r.EngineDict.ParagraphRun.RunArray;if(I.length==0)continue;X.GG.push(aH.f4(I[n].ParagraphSheet.Properties))}X.jr=X.jr.length==0?{}:aH.Se(X.jr);
X.GG=X.GG.length==0?{}:aH.Se(X.GG);return X};aH.ag0=function(r,Q,W,b,X){var D=r.RunLengthArray;if(X){var h=aH.as(D,W);
if(h.g4!=W){var S=D[h.p4];D.splice(h.p4,0,W-h.g4);D[h.p4+1]=S-D[h.p4];r.RunArray.splice(h.p4+1,0,aH.f4(r.RunArray[h.p4]))}var a=aH.as(D,b);
if(a.g4+D[a.p4]-1!=b){var S=D[a.p4];D.splice(a.p4,0,b-a.g4+1);D[a.p4+1]=S-D[a.p4];r.RunArray.splice(a.p4+1,0,aH.f4(r.RunArray[a.p4]))}}var h=aH.as(D,W),a=aH.as(D,b);
if(X)for(var n=h.p4;n<=a.p4;n++)aH.y4(r.RunArray[n].StyleSheet.StyleSheetData,Q);else for(var n=h.p4;
n<=a.p4;n++)aH.y4(r.RunArray[n].ParagraphSheet.Properties,Q)};aH.axO=function(r,W,b){var X=r.EngineDict.StyleRun.RunLengthArray,D=[],h=0;
for(var n=0;n<X.length;n++){var S=X[n];for(var a=0;a<S;a++)if(W<=h+a&&h+a<b)D.push(n);h+=S}var K=D[0],Y=[];
for(var n=0;n<D.length;n++){var d=D[n]-K;if(d==Y.length)Y.push(0);Y[d]++}return Y};aH.a52=function(r){var W=r.EngineDict.StyleRun,b=W.RunArray,X=W.RunLengthArray;
for(var n=0;n<X.length-1;n++){var D=b[n].StyleSheet.StyleSheetData,h=b[n+1].StyleSheet.StyleSheetData;
if(JSON.stringify(D)==JSON.stringify(h)){b.splice(n+1,1);X[n]+=X[n+1];X.splice(n+1,1);n--}}};aH.iT=function(r){var Q=r.pn.AntA.v.Annt;
Q=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(Q);if(Q==-1)Q=1;return Q};aH.II=function(r,Q){r.pn.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][Q]};
aH.m3=function(r,Q){var W,b;W=["FontSize","Leading","BaselineShift","_LineWidth"];b=r.jr;for(var n=0;
n<W.length;n++)if(b[W[n]]!=null)b[W[n]]*=Q;W=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
b=r.GG;for(var n=0;n<W.length;n++)if(b[W[n]]!=null)b[W[n]]*=Q};aH.ajY=function(){return aH.Z2(aH.a3k,0,0)};
aH.ap8=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
aH.as=function(r,Q){var W=0,n=0;while(W+r[n]<=Q){W+=r[n];n++}return{p4:n,g4:W}};aH.a3f=function(){var r=aH.f4(this.a3k);
return r};aH.avm=function(r,Q){var W=Q.GG};aH.aw3=function(r,Q){var W=Q.jr,b;b=r.Undl;if(b&&b.v.Undl=="underlineOnLeftInVertical")W.Underline=!0;
b=r.syntheticItalic;if(b)W.FauxItalic=b.v};aH.a8W={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
aH.a53={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,_LineWidth:1,_FillBackgroundFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
aH.a7U=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};aH.a3k={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(aH.a8W))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(aH.a8W))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(aH.a53))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var de={};de.a9L=function(r){var Q=de.adb(r._0,r._1);de.aqB(Q,r._0);return Q};de.apW=function(r,Q,W){var b={};
b._98={_0:"i7"};b._0=de.aph(r,Q,W?W._0:null);b._1=de.a48(r,Q,b._0,W?W._1:null);return b};de.aph=function(r,Q,W){var b={};
b._1=de.ac7(r,W?W._1:null);b._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};b._3=JSON.parse(JSON.stringify(de.akq));
b._4=JSON.parse(JSON.stringify(de.a68));b._5=de.ame(r,b._1._0,W?W._5:null);b._6=de.aw5(r,W?W._6:null);
b._8=de.aby(r,Q,W?W._8:null);b._9=de.ato;return b};de.aqB=function(r,Q){de.aaX(r,Q._5,Q._1._0)};de.ac7=function(r,Q){var W=[],b=[];
for(var n=0;n<r.length;n++){var X=r[n].ResourceDict.FontSet;for(var D=0;D<X.length;D++){var h=X[D];if(b.indexOf(h.Name)!=-1)continue;
W.push(h);b.push(h.Name)}}var S={_0:[]};for(var n=0;n<W.length;n++){var a=W[n],K={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+a.Name,_1:"i"+a.Script,_2:"i"+a.FontType}}};
if(a.Script==0)delete K._0._0._1;S._0.push(K)}return S};de.ame=function(r,Q,W){var b={_0:[],_1:[]},X={_0:JSON.parse(JSON.stringify(de.auG))};
de.aug(X._0,r[0].ResourceDict.StyleSheetSet[0],Q,r[0].ResourceDict.FontSet);b._0.push(X);b._1.push({_0:"i0"});
b._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});b._1.push({_0:"i1"});return b};de.aaX=function(r,Q,W){var b=Q._0[0];
for(var n=0;n<r.length;n++)de.awW(b._0,r[n].ResourceDict.StyleSheetSet[0],W,r[n].ResourceDict.FontSet)};
de.aw5=function(r,Q){var W={_0:[],_1:[]},b={_0:JSON.parse(JSON.stringify(de.GS))};de.bg(b._0,r[0].ResourceDict.ParagraphSheetSet[0]);
W._0.push(b);W._1.push({_0:"i0"});b={_0:JSON.parse(JSON.stringify(de.GS))};de.bg(b._0,r[0].ResourceDict.ParagraphSheetSet[0]);
b._0._0="sBasic Paragraph";b._0._6="i0";W._0.push(b);W._1.push({_0:"i1"});return W};de.aby=function(r,Q,W){var b={_0:[]};
for(var n=0;n<r.length;n++){var X=r[n].Curve,D={};b._0.push({_0:D});var h=aH.yv(r[n]);D._2={};D._2._0="i"+h;
if(r[n]._LineOrientation==2)D._2._1="i2";if(h==0){D._2._6=["f-1","f-1"];D._2._11={_4:"i-1",_7:!1}}else if(h==1&&X==null){var S=aH.mF(r[n]),a=S[2],K=S[3];
D._1={_0:de.BX("f",[0,0,0,0,a,0,a,0,a,0,a,0,a,K,a,K,a,K,a,K,0,K,0,K,0,K,0,K,0,0,0,0])};D._2._6=["f-2","f-2"];
D._2._11={_4:"i-2",_7:!1}}else if(h==1){var S=aH.mF(r[n]),a=S[2],K=S[3];D._1={_0:de.BX("f",X.Points)};
D._2._6=["f-3","f-3"];D._2._11={_4:"i-3",_7:!1}}else if(h==2){D._1={_0:de.BX("f",X.Points)};D._2._6=de.BX("f",X.TextOnPathTRange);
D._2._11={_0:X.Reversed,_3:"i0",_5:"f0",_7:!1}}}return b};de.a48=function(r,Q,W,b){var X={};X._0=JSON.parse(JSON.stringify(de.ajR));
X._1=de.ajp(r,Q,W,b?b._1:null);X._2=JSON.parse(JSON.stringify(de.auG._6));X._3=JSON.parse(JSON.stringify(de.GS._5));
return X};de.adb=function(r,Q){return de.auX(r,Q._1)};de.ajp=function(r,Q,W,b){var X=[],D=W._1._0;for(var n=0;
n<r.length;n++){var h=r[n],S={_0:{}};X.push(S);S._0._0="s"+h.EngineDict.Editor.Text;S._0._0=S._0._0;
var a=S._0._5={_0:[]},K=h.EngineDict.ParagraphRun;for(var Y=0;Y<K.RunArray.length;Y++){var d={_0:{}};
a._0.push(d);d._0._0={_0:"s",_5:{},_6:"i1"};de.bg(d._0._0,K.RunArray[Y].ParagraphSheet);d._1="i"+K.RunLengthArray[Y]}var j=S._0._6={_0:[]};
K=h.EngineDict.StyleRun;for(var Y=0;Y<K.RunArray.length;Y++){var U={_0:{}};j._0.push(U);U._0._0={_0:"s",_5:"i1",_6:{}};
de.aug(U._0._0,K.RunArray[Y].StyleSheet,D,h.ResourceDict.FontSet);U._1="i"+K.RunLengthArray[Y]}K=h.EngineDict.AlternateGlyphRun;
if(K){var I=S._0._9={_0:[]};for(var Y=0;Y<K.RunArray.length;Y++){var f={_0:{}};I._0.push(f);var g=K.RunArray[Y];
if(g.Glyph!=null){f._0._0={_0:"i"+g.Glyph,_1:"e"}}f._1="i"+K.RunLengthArray[Y]}}S._0._10={_0:"i4",_2:!0};
S._1=de.view.ai$(h,null,n,null)}return X};de.auX=function(r,Q){var W=[],b=r._1._0;for(var n=0;n<Q.length;
n++){var X=aH.a3f();W.push(X);var D=Q[n];X.EngineDict.Editor.Text=D._0._0.slice(1);var h=X.EngineDict.ParagraphRun.RunArray[0],S=X.EngineDict.ParagraphRun,a=D._0._5;
if(a)for(var K=0;K<a._0.length;K++){var Y=a._0[K];S.RunLengthArray[K]=parseInt(Y._1.slice(1));S.RunArray[K]=JSON.parse(JSON.stringify(h));
de.a3n(Y._0._0,S.RunArray[K].ParagraphSheet)}else{S.RunLengthArray[0]=aH.Wc(X).length}var d=D._0._6;
S=X.EngineDict.StyleRun;if(d)for(var K=0;K<d._0.length;K++){var j=d._0[K];S.RunLengthArray[K]=parseInt(j._1.slice(1));
S.RunArray[K]={StyleSheet:{StyleSheetData:{}}};de.awW(j._0._0,S.RunArray[K].StyleSheet,b,X.ResourceDict.FontSet)}else{S.RunLengthArray[0]=aH.Wc(X).length;
S.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return W};de.aug=function(r,Q,W,b,X){r._0="s"+(Q.Name?Q.Name:"");
var D=r._6,h=X?X._6:null,S=Q.StyleSheetData;if(S.Font==null)return;var a=b[S.Font].Name,K=-1;for(var n=0;
n<W.length;n++)if("s"+a==W[n]._0._0._0){K=n;break}D._0="i"+K;if(S.FontSize!=null)D._1="f"+S.FontSize;
if(S.FauxBold!=null)D._2=S.FauxBold;if(S.FauxItalic!=null)D._3=S.FauxItalic;if(S.AutoLeading!=null)D._4=S.AutoLeading;
if(S.Leading!=null)D._5="f"+S.Leading;if(S.HorizontalScale!=null)D._6="f"+S.HorizontalScale;if(S.VerticalScale!=null)D._7="f"+S.VerticalScale;
if(S.Tracking!=null)D._8="i"+S.Tracking;if(S.BaselineShift!=null)D._9="f"+S.BaselineShift;if(S.AutoKerning!=null)D._11="i"+(S.AutoKerning?1:0);
if(S.FontCaps!=null)D._12="i"+S.FontCaps;if(S.FontBaseline!=null)D._13="i"+S.FontBaseline;if(S.Strikethrough!=null)D._15="i"+(S.Strikethrough?1:0);
if(S.Underline!=null)D._16="i"+(S.Underline?2:0);if(S.Ligatures!=null)D._18=S.Ligatures;if(S.DLigatures!=null)D._19=S.DLigatures;
if(S.BaselineDirection!=null)D._35="i"+S.BaselineDirection;if(S.Language!=null)D._38="i"+S.Language;
if(S.FillColor!=null)D._53=de.xl(S.FillColor);if(S.StrokeColor!=null)D._54=de.xl(S.StrokeColor);if(S.FillFlag!=null)D._56=S.FillFlag;
if(S.StrokeFlag!=null)D._57=S.StrokeFlag;if(S._LineWidth!=null)D._63="f"+S._LineWidth;if(S._FillBackgroundColor!=null)D._79=de.xl(S._FillBackgroundColor);
if(S._FillBackgroundFlag!=null)D._80=S._FillBackgroundFlag};de.xl=function(r){return{_99:"/SimplePaint",_0:{_0:"i1",_1:de.BX("f",r.Values)}}};
de.awW=function(r,Q,W,b){var X=r._6;if(X==null)return;var D=Q.StyleSheetData;if(X._0){var h=parseInt(X._0.slice(1)),S=W[h]._0._0._0.slice(1);
aH.Oz({jr:D,Nk:b},S)}if(X._1!=null)D.FontSize=parseFloat(X._1.slice(1));if(X._2!=null)D.FauxBold=X._2;
if(X._3!=null)D.FauxItalic=X._3;if(X._4!=null)D.AutoLeading=X._4;if(X._5!=null)D.Leading=parseFloat(X._5.slice(1));
if(X._6!=null)D.HorizontalScale=parseFloat(X._6.slice(1));if(X._7!=null)D.VerticalScale=parseFloat(X._7.slice(1));
if(X._8!=null)D.Tracking=parseFloat(X._8.slice(1));if(X._9!=null)D.BaselineShift=parseFloat(X._9.slice(1));
if(X._11!=null)D.AutoKerning=parseFloat(X._11.slice(1))==1;if(X._12!=null)D.FontCaps=parseFloat(X._12.slice(1));
if(X._13!=null)D.FontBaseline=parseFloat(X._13.slice(1));if(X._15!=null)D.Strikethrough=parseFloat(X._15.slice(1))==1;
if(X._16!=null)D.Underline=parseFloat(X._16.slice(1))==1;if(X._18!=null)D.Ligatures=X._18;if(X._19!=null)D.DLigatures=X._19;
if(X._35!=null)D.BaselineDirection=parseFloat(X._35.slice(1));if(X._38!=null)D.Language=parseFloat(X._38.slice(1));
if(X._53!=null)D.FillColor=de._S(X._53);if(X._54!=null)D.StrokeColor=de._S(X._54);if(X._56!=null)D.FillFlag=X._56;
if(X._57!=null)D.StrokeFlag=X._57;if(X._63!=null)D._LineWidth=parseFloat(X._63.slice(1));if(X._79!=null)D._FillBackgroundColor=de._S(X._79);
if(X._80!=null)D._FillBackgroundFlag=X._80};de._S=function(r){var Q=r._0._0,W=r._0._1,b=[1,0,0,0],X=[];
for(var n=0;n<W.length;n++)X[n]=parseFloat(W[n].slice(1));if(Q=="i0")b[1]=b[2]=b[3]=X[1];else if(Q=="i1")b=X;
else if(Q=="i2")b=[1].concat(UDOC.C.cmykToRgb(X.slice(1)));else console.log("unknown color type",Q,X);
return{Type:1,Values:b}};de.bg=function(r,Q){r._0="s"+(Q.Name?Q.Name:"");var W=r._5,b=Q.Properties;if(b.Justification!=null)W._0="i"+b.Justification;
if(b.FirstLineIndent!=null)W._1="f"+b.FirstLineIndent;if(b.StartIndent!=null)W._2="f"+b.StartIndent;
if(b.EndIndent!=null)W._3="f"+b.EndIndent;if(b.SpaceBefore!=null)W._4="f"+b.SpaceBefore;if(b.SpaceAfter!=null)W._5="f"+b.SpaceAfter;
if(b.AutoLeading!=null)W._7="f"+b.AutoLeading;if(b.AutoHyphenate!=null)W._9=b.AutoHyphenate;if(b._Direction!=null)W._33="i"+b._Direction;
if(b._ComposerEngine!=null)W._35="i"+b._ComposerEngine};de.a3n=function(r,Q){var W=r._5;if(W==null)return;
var b=Q.Properties;if(W._0)b.Justification=parseInt(W._0.slice(1))};de.BX=function(r,Q){var W=[];for(var n=0;
n<Q.length;n++)W.push(r+Q[n]);return W};de.akq={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
de.a68={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
de.auG={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
de.GS={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
de.ato={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
de.ajR={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var kw={};kw.ap_=function(r){return kw.w_(r,kw.wH,0)};kw.ane=function(r){return kw.hf(r,kw.wH)};kw.w_=function(r,Q,W){var b;
if(typeof r=="string")return r;if(r instanceof Array){b=[];for(var n=0;n<r.length;n++)b[n]=kw.w_(r[n],Q,W+1)}else{b={};
var X={};for(var D in Q){var h=Q[D],S="_"+h[0];if(r[S]!=null){b[D]=h[1]?kw.w_(r[S],h[1],W+1):r[S];X[S]=!0}}for(var D in r){if(X[D]==null){if(D.length>3)continue;
console.log(Q,X);console.log(D,r);throw"e"}}}return b};kw.hf=function(r,Q){var W;if(typeof r=="string")return r;
else if(r instanceof Array){W=[];for(var n=0;n<r.length;n++)W[n]=kw.hf(r[n],Q)}else{W={};var b={};for(var X in Q){var D=Q[X],h="_"+D[0];
if(r[X]!=null){W[h]=D[1]?kw.hf(r[X],D[1]):r[X];b[X]=!0}}for(var X in r){if(b[X]==null){console.log(Q,b);
console.log(X,r);throw"e"}}}return W};kw.oA={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
kw.it={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,kw.oA],_StrokeColor:[54,kw.oA],_Blend:[55,{_1:[1],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,kw.oA],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90]};
kw.asY={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,kw.it],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
kw.ai7={_Name:[0],_Features:[5,kw.asY],_Parent:[6],_UUID:[97]};kw.aml={_Name:[0],_Parent:[5],_Features:[6,kw.it],_UUID:[97]};
kw.wH={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,kw.aml]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,kw.ai7]}],_DisplayList:[1,{_Resource:[0]}]}],_7:[7,{_Resources:[0,{_Resource:[0,{_0:[0,{_0:[0],_1:[1,{_0:[0]}]}],_1:[1]}]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_4:[4],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18]}],_12:[12],_13:[13]}],_3:[3,{_0:[0]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,kw.ai7]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,kw.aml]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,kw.it],_OriginalNormalParagraphFeatures:[3,kw.asY]}]};
de.view={};de.view.ai$=function(r,W,b,X){var D={},h=aH.yv(r);D._0=[{_0:"i"+b}];return D};function CSS(){}CSS.ayj=function(r,Q){var W=r.add,b=W.vmsk,X=W.vstk,D=W.lmfx,h=W.TySh,S=[],a=CSS.a4A(D,W);
if(r.tN()&&b){var K=E.A.eg(b.V);if(!K.WB()){S.push("width: "+Math.round(K.e)+"px");S.push("height: "+Math.round(K.n)+"px")}var Y=E.A.a9x(b.V);
if(Y>0)S.push("border-radius: "+Math.round(Y)+"px")}else if(h){var d=h.kN;if(aH.yv(d)==1){var K=aH.mF(d);
S.push("width: "+Math.round(K[2])+"px");S.push("height: "+Math.round(K[3])+"px")}CSS.at3(S,aH.Z2(d,0,0),h.D,!1,!1,a[0])}var j=CSS.a4V(Q,D);
if(j.length!=0)S.push("filter: "+j.join(" "));if(h==null)CSS.abG(a,S);if(X==null||!X.strokeEnabled.v)X=iI.XQ(D);
if(X&&X.strokeEnabled.v){var U=X.strokeStyleContent.v,I=U.classID,f=iq.pN.Nj.indexOf(X.strokeStyleLineCapType.v.strokeStyleLineCapType),g=iq.pN.join.indexOf(X.strokeStyleLineJoinType.v.strokeStyleLineJoinType),H=X.strokeStyleOpacity.v.val/100,u=X.strokeStyleLineWidth.v.val,s="";
if(I=="solidColorLayer")s=CSS.nh(U.Clr.v,H);S.push("border: "+u+"px solid "+s)}return S};CSS.a4V=function(r,Q){var W=[];
if(Q==null||!Q.masterFXSwitch.v)return[];var b=Q?Q.dropShadowMulti.v:[];for(var n=0;n<b.length;n++){var X=b[n].v;
if(X.enab.v){var D=X.Dstn.v.val,h=X.lagl.v.val*Math.PI/180;if(X.uglg&&X.uglg.v)h=r.QR()*Math.PI/180;
var S=D*Math.cos(h),a=D*Math.sin(h);W.push("drop-shadow("+(S==0?"0 ":CSS.akn(-S)+"px ")+(a==0?"0 ":CSS.akn(a)+"px ")+X.blur.v.val/2+"px "+CSS.nh(X.Clr.v,X.Opct.v.val/100)+")")}}return W};
CSS.a4A=function(r,Q){var W=iI.k5(r,Q),b=W[0],X=W[1],D,h;if(b){D=CSS.nh(b.Clr.v,Q.iOpa!=null?Q.iOpa/255:1)}else if(X){h=CSS.a5i(X)}return[D,h]};
CSS.abG=function(r,Q){if(r[0])Q.push("background-color: "+r[0]);if(r[1])Q.push("background-image: "+r[1])};
CSS.Q8={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.akn=function(fb){return""+parseFloat(fb.toFixed(3))};CSS.cG=function(r){if(r==null)return{o:0,W:0,k:0};
var Q=r.indexOf("(");if(Q!=-1){var W=r.slice(Q+1,r.length-1).split(",");for(var n=0;n<W.length;n++){var b=W[n].trim();
W[n]=parseFloat(b)*(b.endsWith("%")?255/100:1)}return{o:W[0],W:W[1],k:W[2]}}if(r.charAt(0)!="#"){var X=CSS.Q8;
if(X[r])r=X[r];else console.log("unknown color "+r)}r=r.slice(1);if(r.length==4)r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]+r[3]+r[3];
if(r.length==3)r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2];var D=-1;if(r.length==8){D=parseInt(r.slice(6),16);r=r.slice(0,6)}r=parseInt(r,16);
var h={o:r>>16&255,W:r>>8&255,k:r&255};if(D!=-1)h.mu=D;return h};CSS.nh=function(r,Q){return CSS.qp(E.M.vf(r),Q)};
CSS.qp=function(r,Q){if(Q==null)Q=1;var W=Math.round(r.o),b=Math.round(r.W),X=Math.round(r.k),D=W<<16|b<<8|X;
return Q==1?"#"+E.Y0(D):"rgba("+W+","+b+","+X+","+Q+")"};CSS.a5i=function(r){var Q=r.Grad.v;if(Q.Clrs==null)return"";
var W=Q.Clrs.v.slice(0),b=Q.Trns.v.slice(0),X=r.Ofst.v,D=r.Type.v.GrdT=="Rdl"?1:0,h=(D==1?"radial":"linear")+"-gradient",S=D==0?Math.round(-r.Angl.v.val+90)+"deg":"circle at center",a=r.Rvrs.v,K=E.M.D0(Q,a);
for(var n=0;n<K.length;n++){var Y=K[n],d=Y[1];S+=", "+CSS.qp({o:d[0]*255,W:d[1]*255,k:d[2]*255},Y[2])+" "+Math.round(Y[0]*100)+"%"}return h+"("+S+")"};
CSS.at3=function(r,Q,W,b,X,D){var h=Q.jr,S=b?1:W.mO(),a=Math.round(h.FontSize*S);r.push("font-size: "+a+"px");
var K=h.Tracking;if(!b&&K!=null&&K!=0)r.push("letter-spacing: "+Math.round(K*a/1e3)+"px");if(!h.AutoLeading)r.push("line-height: "+Math.round(h.Leading*S)+"px");
if(h.Strikethrough)r.push("text-decoration: line-through");if(h.Underline)r.push("text-decoration: underline");
var Y=aH.vf(h.FillColor);Y=[Y.o,Y.W,Y.k].map(Math.round);r.push((b?"fill: ":"color: ")+(D?D:"#"+E.Y0(Y[0]<<16|Y[1]<<8|Y[2])));
var d=Q.Nk[h.Font].Name;if(d){var j=aG.Ow.oD(d),U="",I=null,f=null;if(j!=null&&d!=aG.OS(j))j=null;if(X&&j)U+="\""+d+"\", ";
var g=d.toLowerCase();if(j){I=aG.I7(j)[0];if(j["OS/2"])f=j["OS/2"].usWeightClass}else{I=CSS.auC(d);if(g.indexOf("light")!=-1)f=300;
else if(g.indexOf("medium")!=-1)f=500;else if(g.indexOf("black")!=-1||g.indexOf("extrabold")!=-1)f=800;
else if(g.indexOf("bold")!=-1)f="bold"}if(I!=null)U+="\""+I+"\"";if(f!=null)r.push("font-weight: "+f);
if(g.indexOf("italic")!=-1||g.indexOf("oblique")!=-1)r.push("font-style: italic");if(U)r.push("font-family: "+U)}var H=Q.GG.Justification;
if(H!=null&&H!=0)if(b){}else r.push("text-align: "+["left","right","center"][H%3])};CSS.auC=function(r){r=r.split("-")[0];
while(r.endsWith("MT")||r.endsWith("PS"))r=r.slice(0,r.length-2);var Q=!0;for(var n=0;n<r.length;n++){var W=r.charAt(n);
if(!Q&&W.toLowerCase()!=W){r=r.slice(0,n)+" "+r.slice(n);n++;Q=!0}else Q=!1}return r};function b7(){}b7.GB={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
b7.KL=function(r,Q){var W=Date.now(),b=r.split("\n"),X;for(var n=0;n<b.length;n++)if(b[n].trim()[0]=="#"){b[n]=""}r=b.join("\n");
try{X=acorn.parse(r)}catch(aA){console.log(aA);return}var D=JSON.parse(JSON.stringify(b7._9.pT));D.__return=!1;
D.__continue=!1;D.__break=!1;D.__throw=!1;D.__fs={};D.__window={};b7.eval(X,Q,D);var h=D.__fs;if(Object.keys(h).length!=0){var S=UZIP.encode(h);
dR.save(S,"output.zip")}};b7.eval=function(r,Q,W){var b=r.type;if(!1){}else if(b=="Program"||b=="BlockStatement"){var X=r.body;
for(var n=0;n<X.length;n++){var D=X[n].type;if(D=="FunctionDeclaration")W[X[n].id.name]=X[n]}for(var n=0;
n<X.length;n++){var D=X[n].type,h=b7.eval(X[n],Q,W);if(W.__continue){W.__continue=!1;return h}if(W.__return||W.__break||W.__throw)return h}}else if(b=="ReturnStatement"){W.__return=!0;
return r.argument?b7.uk(r.argument,Q,W):null}else if(b=="BreakStatement"){W.__break=!0}else if(b=="ContinueStatement"){W.__continue=!0}else if(b=="VariableDeclaration"){var S=r.declarations;
for(var n=0;n<S.length;n++)b7.eval(S[n],Q,W)}else if(b=="VariableDeclarator"){W[r.id.name]=r.init?b7.uk(r.init,Q,W):null}else if(b=="FunctionDeclaration"){W[r.id.name]=r}else if(b=="MemberExpression"){var a=b7.uk(r.object,Q,W),K=r.computed?b7.uk(r.property,Q,W):b7.eval(r.property,Q,W),h;
if(a.Vu!=null)h=b7._9.Iu(a,K,Q,W);else if(a==window&&b7.GB[K]){}else h=a[K];return h}else if(b=="ArrayExpression"){var Y=[],d=r.elements;
for(var n=0;n<d.length;n++)Y.push(b7.uk(d[n],Q,W));return Y}else if(b=="ObjectExpression"){var Y={},d=r.properties;
for(var n=0;n<d.length;n++){var j=d[n],U=d[n].key.name?d[n].key.name:d[n].key.value;Y[U]=b7.uk(d[n].value,Q,W)}return Y}else if(b=="ExpressionStatement"){return b7.eval(r.expression,Q,W)}else if(b=="NewExpression"){var I=r.arguments,f=r.callee,g=f.type,H=f.name,u=[],Y=null;
for(var n=0;n<I.length;n++)u.push(b7.uk(I[n],Q,W));if(H=="Array")Y=new window[H];else if(g=="Identifier")Y=b7._9.aso(H,u,Q,W);
else throw"e";if(Y==null)throw"new "+H;return Y}else if(b=="CallExpression"){var I=r.arguments,f=r.callee,g=f.type,s={};
for(var _ in W)s[_]=W[_];var u=[];for(var n=0;n<I.length;n++)u.push(b7.uk(I[n],Q,W));if(g=="Identifier"){var i=f.name,M=W[i];
if(M){if(M.params){var T=M.params;for(var n=0;n<T.length;n++)s[T[n].name]=u[n];return b7.eval(M.body,Q,s)}else{return M.apply(null,u)}}else if(b7._9.agv.indexOf(i)!=-1)return b7._9.sS({Vu:"Application"},i,u,Q,W);
else if(window[i]==null)console.log("Unknown function "+i);else if(b7.GB[i])alert(i+"() not available");
else{var R=window[i].apply(window,u);return R}}else if(g=="MemberExpression"){var a=b7.uk(f.object,Q,W),K=f.computed?b7.uk(f.property,Q,W):b7.eval(f.property,Q,W);
if(a==window&&b7.GB[K])return;if(a.Vu!=null)return b7._9.sS(a,K,u,Q,W);else if(K=="sort"&&a[0]&&a[0].Vu=="Layer"){return a.sort(function(C,J){return C.h.getName()>J.h.getName()?1:-1})}else return a[K].apply(a,u)}else if(g=="FunctionExpression"){return b7.eval(f.body,Q,W)}else console.log(r)}else if(b=="AssignmentExpression"){var z=r.operator,G=r.left,V=G.type,y=b7.uk(G,Q,W),k=b7.uk(r.right,Q,W),h=null;
if(!1){}else if(z=="=")h=k;else if(z=="+=")h=y+k;else if(z=="-=")h=y-k;else if(z=="*=")h=y*k;else if(z=="/=")h=y/k;
else if(z=="%=")h=y%k;else if(z=="&=")h=y&k;else if(z=="|=")h=y|k;else if(z=="&&=")h=y&&k;else if(z=="||=")h=y||k;
else console.log(r);if(V=="Identifier"){var B=G.name;if(W.hasOwnProperty(B))W[B]=h;else W.__window[B]=h}else if(V=="MemberExpression"){var v=b7.eval(G.property,Q,W),l=b7.uk(G.object,Q,W);
if(l.Vu!=null)b7._9.apY(l,v,h,Q,W);else l[v]=h}else console.log(r)}else if(b=="Identifier")return r.name;
else if(b=="Literal")return r.value;else if(b=="UpdateExpression"){var z=r.operator,F=r.argument.name,Y=b7.uk(r.argument,Q,W),L=W;
if(L[F]==null)L=W.__window;if(!1){}else if(z=="++"){L[F]++;return r.prefix?L[F]:L[F]-1}else if(z=="--"){L[F]--;
return r.prefix?L[F]:L[F]+1}else console.log(r)}else if(b=="UnaryExpression"){var z=r.operator,Z=b7.uk(r.argument,Q,W);
if(Z.Vu=="UnitValue"){if(z=="-")return-Z.h;else return b7.a1m(Z.h,z)}else return b7.a1m(Z,z)}else if(b=="BinaryExpression"||b=="LogicalExpression"){var z=r.operator,G=b7.uk(r.left,Q,W),Z=b7.uk(r.right,Q,W);
if(G==null||Z==null)return b7.Go(G,Z,z);else if(G.Vu=="UnitValue"&&Z.Vu=="UnitValue")return b7.Go(G.h,Z.h,z);
else if(G.Vu=="UnitValue")return b7.Go(G.h,Z,z);else if(Z.Vu=="UnitValue"){if(z=="-")return-(G-Z.h);
else return b7.Go(G,Z.h,z)}else return b7.Go(G,Z,z)}else if(b=="IfStatement"){var t=b7.uk(r.test,Q,W);
if(t)return b7.eval(r.consequent,Q,W);else if(r.alternate)return b7.eval(r.alternate,Q,W)}else if(b=="ConditionalExpression"){var t=b7.uk(r.test,Q,W);
if(t)return b7.uk(r.consequent,Q,W);else if(r.alternate)return b7.uk(r.alternate,Q,W)}else if(b=="ForInStatement"){b7.eval(r.left,Q,W);
var A=r.left.declarations[0].id.name,o=b7.uk(r.right,Q,W);for(var _ in o){W[A]=_;var O=b7.eval(r.body,Q,W);
if(W.__break)break;if(W.__return)return O}W.__break=!1}else if(b=="ForStatement"){b7.eval(r.init,Q,W);
while(b7.eval(r.test,Q,W)){var O=b7.eval(r.body,Q,W);if(W.__break)break;if(W.__return)return O;b7.eval(r.update,Q,W)}W.__break=!1}else if(b=="DoWhileStatement"){do{var O=b7.eval(r.body,Q,W);
if(W.__break)break;if(W.__return)return O}while(b7.eval(r.test,Q,W));W.__break=!1}else if(b=="TryStatement"){b7.eval(r.block,Q,W);
if(W.__throw){var x=r.handler;W[x.param.name]=W.__throw;W.__throw=!1;b7.eval(x.body,Q,W);delete W[x.param.name]}}else if(b=="EmptyStatement"){}else console.log(r)};
b7.Go=function(r,Q,W){if(W=="+")return r+Q;else if(W=="-")return r-Q;else if(W=="*")return r*Q;else if(W=="/")return r/Q;
else if(W=="%")return r%Q;else if(W=="^")return r^Q;else if(W=="&")return r&Q;else if(W=="&&")return r&&Q;
else if(W=="|")return r|Q;else if(W=="||")return r||Q;else if(W=="<")return r<Q;else if(W==">")return r>Q;
else if(W=="=="){if(r.Vu&&Q.Vu)return r.h==Q.h;return r==Q}else if(W=="===")return r===Q;else if(W=="<=")return r<=Q;
else if(W==">=")return r>=Q;else if(W=="!=")return r!=Q;else if(W=="!==")return r!==Q;else if(W=="<<")return r<<Q;
else if(W==">>")return r>>Q;else console.log(W)};b7.a1m=function(r,Q){if(Q=="-")return-r;else if(Q=="!")return!r;
else if(Q=="~")return~r;else if(Q=="+")return r;else if(Q=="typeof")return typeof r;else console.log(Q,r)};
b7.uk=function(r,Q,W){var b=r.type;if(b=="Identifier")return b7.a1C(r.name,Q,W);else return b7.eval(r,Q,W)};
b7.a1C=function(r,Q,W){if(r=="undefined")return undefined;else if(W.hasOwnProperty(r))return W[r];else if(r=="app")return{Vu:"Application"};
else if(r=="$")return{Vu:"$"};else if(b7._9.amH.indexOf(r)!=-1)return b7._9.Iu({Vu:"Application"},r,Q,W);
else if(W.__window.hasOwnProperty(r))return W.__window[r];else if(window[r]&&!b7.GB[r])return window[r];
else{W[r]=null;return null}};b7._9={};b7._9.aso=function(r,Q,W,b){var X;if(r=="SolidColor")X={Vu:r,h:[1,0,0,0]};
if(r=="RGBColor")X={Vu:r,h:[1,0,0,0]};if(r=="Window")X={Vu:r,h:new g0(Q[0],Q[1],Q[2])};if(r=="ExportOptionsSaveForWeb")X={Vu:r,h:{IL:"png",X8:100}};
if(r=="PhotoshopSaveOptions")X={Vu:r,h:{IL:"psd"}};if(r=="PNGSaveOptions")X={Vu:r,h:{IL:"png",X8:100}};
if(r=="JPEGSaveOptions")X={Vu:r,h:{IL:"jpg",X8:100}};if(r=="PDFSaveOptions")X={Vu:r,h:{IL:"pdf",aj6:""}};
if(r=="File")X={Vu:r,h:Q[0]};if(r=="ActionReference")X={Vu:r,h:[]};if(r=="ActionDescriptor")X={Vu:r,h:{}};
if(r=="ActionList")X={Vu:r,h:[]};if(r=="UnitValue")X={Vu:r,h:Q.length==0?0:parseFloat(Q[0])};return X};
b7._9.amH="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor version".split(" ");
b7._9.agv="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction".split(" ");
b7._9.Iu=function(r,Q,W,b){var X=W.LZ,D=W.wK();if(!1){}else if(Q=="typename"){if(r.Vu=="Layer")return r.h.wf()?"LayerSet":"ArtLayer";
else return r.Vu}else if(["Document","Layer"].indexOf(r.Vu)!=-1&&["layers","artLayers","layerSets"].indexOf(Q)!=-1){var h=D;
if(r.Vu=="Document")h=r.h;else h=r.as8;var S=h.root,a={Vu:"Layers",apP:Q,h:[]};if(r.Vu=="Layer")S=h.root.Nn(h.B.indexOf(r.h));
if(S.children==null)return null;for(var n=0;n<S.children.length;n++){var K=S.children[n].l,Y=K.wf();
if(Y&&Q=="artLayers"||!Y&&Q=="layerSets")continue;a.h.push({Vu:"Layer",h:K,as8:h})}a.h.reverse();return a}else if(r.Vu=="Documents"||r.Vu=="Layers"||r.Vu=="HistoryStates"||r.Vu=="LayerComps"){if(!1){}else if(Q=="length")return r.h.length;
else if(Number.isInteger(Q))return r.h[Q];else console.log(r.Vu+": unknown property ",Q)}else if(r.Vu=="Application"){if(!1){}else if(Q=="activeDocument")return{Vu:"Document",h:W.wK()};
else if(Q=="documents"){var a={Vu:"Documents",h:[]};for(var n=0;n<W.JN.length;n++)a.h.push({Vu:"Document",h:W.JN[n]});
return a}else if(Q=="fonts")return{Vu:"TextFonts"};else if(Q=="preferences")return{Vu:"Preferences"};
else if(Q=="displayDialogs")return{Vu:"DialogModes"};else if(Q=="foregroundColor"||Q=="backgroundColor"){var d=Q[0]=="f"?X.V8:X.tB;
return{Vu:"SolidColor",h:[1,(d>>>16&255)/255,(d>>>8&255)/255,(d>>>0&255)/255]}}else if(Q=="UI")return{Vu:"UI"};
else if(Q=="version")return 30;else console.log(r,Q)}else if(r.Vu=="Document"){var D=r.h;if(!1){}else if(Q=="activeLayer"){var K=D.B[D.I[0]];
return{Vu:"Layer",h:K}}else if(Q=="resolution")return D.HW;else if(Q=="width")return D.e;else if(Q=="height")return D.n;
else if(Q=="name")return D.name;else if(Q=="saved")return!D.u1();else if(Q=="selection")return{Vu:"Selection"};
else if(Q=="activeHistoryState")return{Vu:"HistoryState",C_:D.Je};else if(Q=="source")return D.wG;else if(Q=="layerComps"){var j=D.nU.list.v,U=[];
for(var n=0;n<j.length;n++)U.push({Vu:"LayerComp",h:n});return{Vu:"LayerComps",h:U}}else if(Q=="historyStates"){var I=[];
for(var n=0;n<D.history.length;n++)I.push({Vu:"HistoryState",C_:n});return{Vu:"HistoryStates",h:I}}else if(Q=="mode")return 7;
else console.log(r,Q)}else if(r.Vu=="LayerComp"){if(Q=="name")return D.nU.list.v[r.h].v.Nm.v;else throw Q}else if(r.Vu=="Layer"){var f={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},K=r.h;
if(!1){}else if(Q=="visible")return K.cB();else if(Q=="selected")return D.I.indexOf(D.B.indexOf(K))!=-1;
else if(Q=="grouped")return K.Cw;else if(f[Q]!=null)return K.RV(f[Q]);else if(Q=="opacity")return K.opacity*100/255;
else if(Q=="blendMode")return K.iX;else if(Q=="name")return K.getName();else if(Q=="textItem")return{Vu:"TextItem",h:K};
else if(Q=="bounds"){var g=m.EA.J4(D,[D.B.indexOf(K)]);return b7._9.alQ(g,D)}else if(Q=="parent"){var H=W.JN;
for(var n=0;n<H.length;n++)if(H[n].B.indexOf(K)!=-1)return{Vu:"Document",h:H[n]}}else if(Q=="kind"){var u=b7._9.Ut;
for(var n=0;n<u.length;n++)if(K.add[u[n]]!=null)return n;return 0}else if(Q=="isBackgroundLayer")return K.add.lnsr="bgnd";
else console.log(r,Q)}else if(r.Vu=="Selection"){if(!1){}else if(Q=="bounds"){if(D.P==null)b.__throw={message:"no selection"};
else return b7._9.alQ(D.P.rect,D)}else console.log(r,Q)}else if(r.Vu=="TextItem"){var s=r.h.add.TySh,_=s.kN,i=aH.Wc(_),M=s.D.mO(),T=aH.Z2(_,0,Math.max(0,i.length-2));
if(Q=="contents")return i.slice(0,i.length-1).replace(/\n/g,"\r");else if(Q=="font")return T.jr.Font!=null?T.Nk[T.jr.Font].Name:null;
else if(Q=="size")return b7._9.yI(T.jr.FontSize*M,D);else if(Q=="leading")return b7._9.yI(T.jr.Leading*M,D);
else if(Q=="tracking")return b7._9.yI(T.jr.Tracking);else if(Q=="baselineShift")return b7._9.yI(T.jr.BaselineShift);
else if(Q=="fauxBold")return T.jr.FauxBold;else if(Q=="fauxItalic")return T.jr.FauxItalic;else if(Q=="kind")return 1-aH.yv(_);
else if(Q=="useAutoLeading")return T.GG.AutoLeading;else if(Q=="hyphenation")return T.GG.AutoHyphenate;
else if(Q=="justification")return b7._9.yI(T.GG.Justification);else if(Q=="color")return{Vu:"SolidColor",h:T.jr.FillColor.Values.slice(0)};
else if(Q=="width"||Q=="height"){var R=aH.mF(_),z=(R[2]-R[0])*M,G=(R[3]-R[1])*M;return b7._9.yI(Q=="width"?z:G,D)}else if(Q=="position"){var V=s.D;
return b7._9.atP([V.rn,V.NQ],D)}else if(Q=="horizontalScale"||Q=="verticalScale"){var y=Q[0].toUpperCase()+Q.slice(1);
return Math.round(T.jr[y]*100)}else if(Q=="antiAliasMethod")aH.iT(s);else if(Q=="totalTextStyle"){var a={};
for(var k=0;k<2;k++){var B=["Style","Paragraph"][k],v=_.EngineDict[B+"Run"].RunLengthArray,l=[],F=0;
for(var n=0;n<v.length;n++){var L=aH.Z2(_,F,Math.min(F+v[n],i.length-2));F+=v[n];l.push(k==0?L.jr:L.GG);
a.fontSet=L.Nk}a[B]={runs:v,styles:l}}return JSON.stringify(a)}else if(Q=="transform"){var V=s.D;return JSON.stringify([V.mu,V.k,V.th,V.HR,V.rn,V.NQ])}else console.log(r,Q)}else if(r.Vu=="Preferences"){if(Q=="rulerUnits")return X.fl.dp;
else console.log(r,Q)}else if(r.Vu=="SolidColor"){if(Q=="rgb")return{Vu:"RGBColor",h:r.h};else console.log(r,Q)}else if(r.Vu=="RGBColor"){var g=Math.round(255*r.h[1]),Z=Math.round(255*r.h[2]),t=Math.round(255*r.h[3]);
if(!1){}else if(Q=="red")return g;else if(Q=="green")return Z;else if(Q=="blue")return t;else if(Q=="hexValue")return"#"+E.Y0(g<<16|Z<<8|t).toUpperCase();
else console.log(r,Q)}else if(r.Vu=="UnitValue"){if(Q=="value")return r.h;else throw"e"}else if(r.Vu=="ExportOptionsSaveForWeb"){if(Q=="format")return r.h.IL;
else if(Q=="PNG8"||Q=="interlaced")return!1;else if(Q=="quality")return r.h.X8;else if(Q=="transparency")return!0;
else throw Q}else if(r.Vu=="PNGSaveOptions"||r.Vu=="JPEGSaveOptions"||r.Vu=="PDFSaveOptions"){return 0}else if(r.Vu=="$"){if(Q=="localize")return!1}else if(r.Vu=="ActionList"){if(Q=="count")return r.GH.length;
else throw Q}else console.log(r,Q)};b7._9.alQ=function(r,Q){return b7._9.atP([r.x,r.y,r.x+r.e,r.y+r.n],Q)};
b7._9.atP=function(r,Q){var W=[];for(var n=0;n<r.length;n++)W.push(b7._9.yI(r[n],Q));return W};b7._9.atT=function(r){var Q=[];
for(var n=0;n<r.length;n++)Q.push(r[n].Vu?r[n].h:r[n]);return Q};b7._9.yI=function(r,Q){return{Vu:"UnitValue",h:r}};
b7._9.a8h=function(r,Q){if(r.Vu=="UnitValue")return r.h;return r};b7._9.apY=function(r,Q,W,b,X){var D=new km(e.E.s,!0),h=new km(e.E.L,!0),S=b.wK(),a=b.LZ;
if(!1){}else if(r.Vu=="Application"){if(!1){}else if(Q=="activeDocument"){h.data={d:e.c.kp,gR:W.h};b.$(h)}else if(Q=="displayDialogs"){}else if(Q=="foregroundColor"||Q=="backgroundColor"){var K=W.h,Y=K[1]*255<<16|K[2]*255<<8|K[3]*255<<0;
h.data={d:e.c.bJ,Lb:d4.dt,CZ:Q=="foregroundColor"?0:1,h:Y};b.$(h)}else console.log(r,Q,W)}else if(r.Vu=="Document"){var d=r.h;
if(!1){}else if(Q=="name"){D.b=m.M0;D.data={d:$.FW,h:W,ahP:!0,aS:d};S.Ca=!0}else if(Q=="source")d.wG=W;
else if(Q=="activeLayer"){d.I=[d.B.indexOf(W.h)]}else if(Q=="activeHistoryState"){D.b=m.sp;D.data={d:"h_itemchange",index:W.C_}}else console.log(r,Q)}else if(r.Vu=="Layer"){D.b=m.M0;
var j={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},U=r.h,I=S.B.indexOf(U);
if(!1){}else if(Q=="visible"){if(U.cB()!=W)D.data={d:$.yu,l:I}}else if(Q=="opacity"){D.data={d:$.lo,l:I,g2:Math.round(255*W/100)}}else if(Q=="blendMode"){D.data={d:$.zq,l:I,g2:hG.Av.indexOf(W)}}else if(Q=="name"){D.data={d:$.rT,l:I,name:W}}else if(j[Q]!=null){D.data={d:$.Vi,l:I,g2:[[W],[j[Q]]]}}else if(Q=="kind"){D.data={d:$.MG,l:I,te:b7._9.Ut[W]}}else if(Q=="grouped"){D.data={d:$.$u,l:I,g2:W}}else console.log(r,Q,W)}else if(r.Vu=="TextItem"){D.b=m.st;
var U=r.h,f=U.add.TySh,g=JSON.parse(JSON.stringify(f.kN)),H=f.D.clone(),u=f.D.mO(),_=aH.Wc(g),i=aH.Z2(g,0,_.length-2),M=!1;
if(!1){}else if(Q=="contents"){aH.d4(g,0,_.length-1);aH.ig(g,0,W.replace(/\r/g,"\n"))}else if(Q=="size"){i.jr.FontSize=(W.h!=null?W.h:W)/u;
M=!0}else if(Q=="leading"){i.jr.Leading=(W.h!=null?W.h:W)/u;M=!0}else if(Q=="tracking"){i.jr.Tracking=W.h!=null?W.h:W;
M=!0}else if(Q=="baselineShift"){i.jr.BaselineShift=W.h!=null?W.h:W;M=!0}else if(Q=="fauxBold"){i.jr.FauxBold=W;
M=!0}else if(Q=="fauxItalic"){i.jr.FauxItalic=W;M=!0}else if(Q=="kind"){var T=aH.yv(g);if(T==1&&W==1){var R=new gH(g,b.LZ.zl).GG[0],z=R.wZ[0].end,G=R.OI[z-1].end;
aH.d4(g,0,_.length-1);aH.ig(g,0,_.slice(0,G-1))}if(T==W)aH.GK(g,1-W)}else if(Q=="useAutoLeading"){i.GG.AutoLeading=W;
M=!0}else if(Q=="hyphenation"){i.GG.AutoHyphenate=W;M=!0}else if(Q=="justification"){i.GG.Justification=W;
M=!0}else if(Q=="font"){aH.Oz(i,W);M=!0}else if(Q=="color"){i.jr.FillColor.Values=W.h.slice(0);M=!0}else if(Q=="width"||Q=="height"){var V=aH.mF(g).slice(0),y=b7._9.a8h(W);
if(Q=="width")V[2]=Math.round(V[0]+y/u);else V[3]=Math.round(V[1]+y/u);aH.Ad(g,V)}else if(Q=="position"){H.rn=W[0];
H.NQ=W[1]}else if(Q=="horizontalScale"||Q=="verticalScale"){var k=Q[0].toUpperCase()+Q.slice(1);i.jr[k]=W/100;
M=!0}else if(Q=="antiAliasMethod")aH.II(f,W);else console.log(r,Q,W);if(M)aH.Yf(g,0,_.length-1,i);D.data={d:"newED",sm:S.B.indexOf(U),Q6:g,D:H}}else if(r.Vu=="Preferences"){if(!1){}else if(Q=="rulerUnits"){var B=JSON.parse(JSON.stringify(a.fl));
B.dp=W;h.data={d:e.c.bJ,Lb:d4.AQ,g2:B};b.$(h)}else console.log(r,Q,W)}else if(r.Vu=="SolidColor"){if(Q=="rgb")r.h=W.h;
else throw Q}else if(r.Vu=="RGBColor"){if(!1){}else if(Q=="red")r.h[1]=W/255;else if(Q=="green")r.h[2]=W/255;
else if(Q=="blue")r.h[3]=W/255;else if(Q=="hexValue"){var v=E.yM(W.slice(1));r.h[1]=(v>>>16&255)/255;
r.h[2]=(v>>>8&255)/255;r.h[3]=(v>>>0&255)/255}else console.log(r,Q)}else if(r.Vu=="ExportOptionsSaveForWeb"){if(Q=="format")r.h.IL=W;
else if(Q=="PNG8"||Q=="transparency"||Q=="interlaced"){}else if(Q=="quality")r.h.X8=W;else throw Q}else if(r.Vu=="PNGSaveOptions"||r.Vu=="JPEGSaveOptions"){if(Q=="quality")r.h.X8=Math.round(100*W/12)}else if(r.Vu=="PDFSaveOptions"){if(Q=="preset")r.h.aj6=W}else if(r.Vu=="$"){if(Q=="localize"){}}else console.log(r,Q,W);
if(D.data!=null)b.$(D)};b7._9.sS=function(r,Q,W,b,X){var D=r.Vu,h=null,S=new km(e.E.s,!0),a=new km(e.E.Kk,!0),K=new km(e.E.L,!0),Y=b.wK(),d=b.JN;
if(!1){}else if(D=="Application"){if(!1){}else if(Q=="charIDToTypeID"){var j=W[0].trim(),U={slct:"select",Dlt:"delete",Mk:"make"};
return U[j]?U[j]:j}else if(Q=="stringIDToTypeID"){var I=W[0].trim(),U={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},f=U[I];
return f==null?I:f}else if(Q=="typeIDToStringID"){return W[0].trim()}else if(Q=="executeAction"){console.log(W);
var g;if(W[1]){g=W[1].h;g.classID=W[0]}var H={setd:"set"},u=H[W[0]];if(u==null)u=W[0];var _=bu._6[W[0]];
if(_&&bu.Pr[_])u=bu.Pr[_];a.data={r7:u,Hf:g}}else if(Q=="executeActionGet"){return{Vu:"ActionDescriptor",h:{classID:"null",null:{t:"obj ",v:W[0].h}},GH:Y.B[Y.I[0]]}}else if(Q=="doAction"){K.data={d:e.c.Sx,C0:[W[0],W[1]]}}else if(Q=="bringToFront"){}else if(Q=="open"){K.data={d:e.c.Es,Lb:{url:W[0]}};
if(W[2]&&d.length!=0)K.data.Lb.cy=d.indexOf(Y)}else if(Q=="echoToOE"){K.data={d:e.c.Mk,Lb:W[0]}}else console.log(Q)}else if(D=="LayerComp"){if(Q=="apply"){S.b=m.Op;
S.data={d:"setLC",C_:Y.nU.list.v[r.h].v.compID.v}}else throw Q}else if(D=="Document"){var Y=r.h;if(!1){}else if(Q=="crop"){a.data=m.Fp.aqs(W[0])}else if(Q=="trim"){var i=[];
for(var n=0;n<4;n++)i.push(W[n+1]!=null?W[n+1]:!0);a.data=m.Fp.pU(W[0]!=null?W[0]:0,i)}else if(Q=="suspendHistory"){var M=acorn.parse(W[1]);
b7.eval(M,b,X)}else if(Q=="save"){K.data={d:e.c.EV}}else if(Q=="saveToOE"){K.data={d:e.c.EV,Tm:W}}else if(Q=="rotateCanvas"){a.data=m.EA.rs(!0,W[0])}else if(Q=="resizeImage"||Q=="resizeCanvas"){var T=W[0],R=W[1];
if(typeof T!="number"){T=Y.e*parseFloat(T.slice(0,T.length-1))/100;R=Y.n*parseFloat(R.slice(0,R.length-1))/100}if(Q=="resizeCanvas")a.data=m.Fp.acb(Math.round(T),Math.round(R),W[2]);
else a.data=m.Fp.anj(Math.round(T),Math.round(R),null,1)}else if(Q=="paste"){K.data={d:e.c.t7,Xf:W.length!=0&&W[0],zh:!0}}else if(Q=="close"){K.data={d:e.c.$S,M_:Y}}else if(Q=="exportDocument"||Q=="saveAs"){var z=X.__fs,G=W[0].h.replace(":","").replace("~/",""),V=Q=="exportDocument"?W[2].h:W[1].h,y=fH.w3(Y,V.IL,null,null,V.IL=="pdf"?null:[V.X8],b.LZ);
z[G]=new Uint8Array(y)}else if(Q=="flatten"){a.data={r7:"flattenImage"}}else console.log(r,Q,W)}else if(D=="Layer"){var k=r.h,B=Y.B.indexOf(k);
if(!1){}else if(Q=="copy"){b7._9.dJ(Y,b,0);K.data={d:e.c.jz,eU:W[0],GV:B,zh:!0};b.$(K);delete K.data;
b7._9.dJ(Y,b,1)}else if(Q=="clear"){b7._9.dJ(Y,b,0);a.data={r7:"delete"};b.$(a);delete a.data;b7._9.dJ(Y,b,1)}else if(Q=="duplicate"){if(W.length==0){var v=Y.I.slice(0);
S.data={d:$.fE,l:B};S.b=m.M0;b.$(S);S.data=null;h={Vu:"Layer",h:Y.B[Y.I[0]]};Y.I=v}else if(W[0].Vu=="Document"){S.data={d:$.fc,B:Y.P4(B),fS:Y,mw:W[0].h};
S.b=m.M0}}else if(Q=="merge"||Q=="remove"){S.data={d:Q=="merge"?$.Qd:$.YL,l:B};S.b=m.M0;if(Q!="remove")h={Vu:"Layer",h:Y.B[Y.I[0]]}}else if(Q=="move"){S.data={d:$.HX,source:B,target:Y.B.indexOf(W[0].h),r1:W[1]!=3?.6:.3};
S.b=m.M0}else if(Q=="rasterize"){a.data={r7:"rasterizeLayer",Hf:{classID:"rasterizeLayer",null:cO.RG("Lyr",!0)}}}else if(Q=="rotate"){S.data={d:"rot",Cv:[2,5],h:-W[0]*Math.PI/180,o1:W[1],l:B};
S.b=m.YO}else if(Q=="resize"){S.data={d:"scl",Cv:[2,4],h:new cp(W[0]/100,W[1]/100),o1:W[2],l:B};S.b=m.YO}else if(Q=="translate"){var l=b7._9.atT(W);
S.data={d:"trsl",l:B,Rp:l[0],qh:l[1]};S.b=m.$t}else if(Q=="link"){S.data={d:$.oY,acX:[B,Y.B.indexOf(W[0].h)]};
S.b=m.M0}else if(Q=="invert"){S.b=m.G9;S.data={d:"start",cM:"nvrt"}}else if(Q.startsWith("apply")&&jv.h4[Q.slice(5)]||Q.startsWith("adjust")&&jv.h4[Q.slice(6)]){var F=Q.startsWith("apply"),l=b7._9.atT(W),L=jv.h4[Q.slice(F?5:6)];
a.data={r7:F?jv.Pr[L]:bu.Pr[L]};var g=jv.fp(L);if(g){Y.I=[B];jv.lN["g"+L](g,l);a.data.Hf=g}}else console.log(r,Q,W)}else if(D=="Documents"){if(Q=="getByName"){for(var n=0;
n<d.length;n++)if(d[n].name==W[0])return{Vu:"Document",h:d[n]};return null}else if(Q=="add"){var Z=W[5];
if(Z==null)Z=1;a.data=bj.Nz(W[0],W[1],W[2],W[3],["Wht","Trns","BckC"][Z],!1)}else throw"e"}else if(D=="Layers"){if(Q=="getByName"){for(var n=0;
n<r.h.length;n++)if(r.h[n].h.getName()==W[0]){h=r.h[n];break}if(h==null)X.__throw={message:"No layer with a name "+W[0]}}else if(Q=="add"){S.data={d:r.apP=="layerSets"?$.b$:$.Vl};
S.b=m.M0;b.$(S);S.data=null;h={Vu:"Layer",h:Y.B[Y.I[0]]}}else console.log(r,Q,W)}else if(r.Vu=="Selection"){if(Q=="select"){var t=W[0],A=[];
for(var n=0;n<t.length;n++)A.push(t[n][0],t[n][1]);a.data=m.to.qX(A)}else if(Q=="clear"){a.data={r7:"delete"}}else if(Q=="selectAll"){a.data=m.to.wF(!0)}else if(Q=="invert"){a.data={r7:"inverse"}}else if(Q=="copy"){K.data={d:e.c.jz}}else if(Q=="deselect"){a.data=m.to.wF()}else if(Q=="fill"){var o=W[0].h;
o=E.M.rY({o:o[1]*255,W:o[2]*255,k:o[3]*255});a.data=m.AZ.Sj("Clr",W[1],W[2]==null?1:W[2]/100,o)}else if(Q=="translate"){var g={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:W[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:W[1]}}}}};
a.data={r7:"move",Hf:g}}else if(Q=="smooth"){a.data=m.to.agt("smoothness",W[0],!1)}else console.log(r,Q,W)}else if(r.Vu=="Window"){if(Q=="show"){K.data={d:e.c.Re,wv:r.h}}else throw"e"}else if(r.Vu=="ActionReference"){if(Q=="putProperty"){r.h.push({t:"prop",v:{classID:W[0],keyID:W[1]}})}else if(Q=="putClass"){r.h.push({t:"Clss",v:{classID:W[0]}})}else if(Q=="putEnumerated"){r.h.push({t:"Enmr",v:{classID:W[0],typeID:W[1],enum:W[2]}})}else if(Q=="putName"){r.h.push({t:"name",v:{classID:W[0],val:W[1]}})}else console.log(Q,W)}else if(r.Vu=="ActionDescriptor"||r.Vu=="ActionList"){if(Q=="putReference"){r.h[W[0]]={t:"obj ",v:W[1].h}}else if(Q=="putDouble"){r.h[W[0]]={t:"doub",v:W[1]}}else if(Q=="putUnitDouble"){r.h[W[0]]={t:"UntF",v:{type:W[1],val:W[2]}}}else if(Q=="putObject"){if(r.Vu=="ActionList"){var O=W[1].h;
O.classID=W[0];r.h.push({t:"Objc",v:O})}else{var O=W[2].h;O.classID=W[1];r.h[W[0]]={t:"Objc",v:O}}}else if(Q=="putList"){r.h[W[0]]={t:"VlLs",v:W[1].h}}else if(Q=="putBoolean"){r.h[W[0]]={t:"bool",v:W[1]}}else if(Q=="putInteger"){r.h[W[0]]={t:"long",v:W[1]}}else if(Q=="putString"){r.h[W[0]]={t:"TEXT",v:W[1]}}else if(Q=="putEnumerated"){var x={};
x[W[1]]=W[2];r.h[W[0]]={t:"enum",v:x}}else if(Q=="hasKey"){var k=Y.B[Y.I[0]],j=W[0];if(j=="textKey")return k.add.TySh!=null;
var C=r.h.null.v;for(var n=0;n<C.length;n++){if(C[n].v.keyID==W[0]){if(j=="UsrM"){return k.SS()!=null}else throw W}}}else if(Q=="getEnumerationValue"){if(W[0]=="layerSection")h="layerSectionContent";
else console.log(W)}else if(Q=="getBoolean"){if(W[0]=="background")h=!1;else console.log(W)}else if(Q=="getString"){if(W[0]=="name")h=r.GH.getName();
else if(W[0]=="textKey")h=aH.Wc(r.GH.kN);else console.log(r,W)}else if(Q=="getObjectValue"){if(W[0]=="textKey"){h={Vu:"ActionDescriptor",GH:r.GH.add.TySh}}else if(typeof W[0]=="number")h=r.GH[W[0]];
else throw W[0]}else if(Q=="getList"){h={Vu:"ActionList"};if(W[0]=="paragraphStyleRange")h.GH=r.GH.kN.EngineDict.ParagraphRun.RunArray;
else if(W[0]=="kerningRange")h.GH=[];else if(W[0]=="textStyleRange")h.GH=r.GH.kN.EngineDict.StyleRun.RunArray;
else throw W}else console.log(Q,W)}else if(r.Vu=="$"){if(Q=="writeln"){console.log(W[0])}else throw Q}else if(r.Vu=="UI"){if(Q=="scroll"||Q=="scrollTo"){var J=W[0],q=W[1],fd=Y.u._;
if(Q=="scrollTo"){J=(-Y.e/2+J)*fd+Y.u.R.x;q=(-Y.n/2+q)*fd+Y.u.R.y}S.b=m.vA;S.data={d:"scroll",VG:new cp(Math.round(J),Math.round(q))}}else{var w;
if(Q=="zoomIn"||Q=="zoomOut"){w={d:"zoom",H3:Q=="zoomIn"}}else if(Q=="fitTheArea"){w={d:"adapt",h:"fitscr"}}else if(Q=="pixelToPixel"){w={d:"adapt",h:"pixel"}}S.b=m.W9;
S.data=w;if(Q=="switchFullscreen"){var P=b.LZ.Y5,fc=document.fullscreenElement!=null==(P==2);K.data={d:e.c.D7,h:P==0?2:0,jF:fc}}}}else console.log(r,Q,W);
if(S.data)b.$(S);if(a.data)b.$(a);if(K.data)b.$(K);return h};b7._9.dJ=function(r,Q,W){var b=new km(e.E.s,!0);
b.b=m.iW;var X=new km(e.E.Kk,!0);if(W==0){b7._9.ad4=r.P;X.data=m.to.wF(!0)}else{var D=b7._9.ad4;if(D)b.data={d:"setsel",Cv:"Restore Selection",P:{rect:D.rect.clone(),channel:D.channel.slice(0)}};
else X.data=m.to.wF()}Q.$(b.data?b:X)};b7._9.ad4=null;b7._9.pT={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},WaveType:{SINE:0,TRIANGULAR:1,SQUARE:2},UndefinedAreas:{WRAPAROUND:0,REPEATEDGEPIXELS:1},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4},Extension:{LOWERCASE:0,NONE:1,UPPERCASE:2}};
b7._9.pT.ColorBlendMode=b7._9.pT.BlendMode;b7._9.Ut="---- SoLd TySh SoCo GdFl PtFl".split(" ");function a1(){}a1.uH={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
a1.Cg={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
a1.aax=function(r,Q){if(Q==null)Q={};var W=a1.Cg,b=[],X=[],D="";for(var n=0;n<r.length;n++){var h=r[n],S=W[h[0]+""];
if(S&&Q[S]==null)Q[S]=h[1];else if(h[0]==12)X.push(h[1]);else if(h[0]==25)b.push(h[1]);else if(h[0]==55)D=h[1];
else if(h[0]==60)D+=";"+h[1]}if(D!=""&&Q["exif:DateTimeOriginal"]==null)Q["exif:DateTimeOriginal"]=D;
if(X.length!=0&&Q["Iptc4xmpCore:SubjectCode"]==null)Q["Iptc4xmpCore:SubjectCode"]=X.join(";");if(b.length!=0&&Q["dc:Keywords"]==null)Q["dc:Keywords"]=b.join(";");
return Q};a1.a8m=function(r){var Q=a1.Cg,W=[];for(var b in Q)if(r[Q[b]])W.push([parseInt(b),r[Q[b]]]);
if(r["Iptc4xmpCore:SubjectCode"]){var X=r["Iptc4xmpCore:SubjectCode"].split(";");for(var n=0;n<X.length;
n++)W.push([12,X[n].trim()])}if(r["dc:Keywords"]){var X=r["dc:Keywords"].split(";");for(var n=0;n<X.length;
n++)W.push([25,X[n].trim()])}W.sort(function(D,h){return D[0]-h[0]});return W};a1.ayl=function(r,Q){if(Q==null)Q={};
var W=new DOMParser,b=W.parseFromString(r,"image/svg+xml"),X=b.getElementsByTagName("rdf:Description")[0];
if(X==null)return Q;var D=a1.uH;for(var h in D){var S=D[h][2];if(S==null)continue;var a=X.getElementsByTagName(S)[0];
if(a==null)continue;var K=a.getElementsByTagName("rdf:li"),Y=[];for(var n=0;n<K.length;n++)Y.push(K[n].textContent);
Q[h]=Y.join("; ")}return Q};a1.anQ=function(r){var Q=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],W=a1.uH;
for(var b in W){var X=r[b],D=W[b][2],h="Seq",S="";if(X==null||D==null)continue;if(D=="dc:title"||D=="dc:description"){h="Alt";
S=" xml:lang=\"x-default\""}if(D=="dc:subject")h="Bag";Q.push("\t<"+D+"><rdf:"+h+">");var a=D=="dc:subject"?X.split(";").join(",").split(","):[X];
for(var n=0;n<a.length;n++)Q.push("\t\t<rdf:li"+S+">"+a[n].trim()+"</rdf:li>");Q.push("\t</rdf:"+h+"></"+D+">")}Q.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return Q.join("\n")};a1.arM=function(r){var Q=[];for(var n=0;n<r.length;n++)Q[n]=r[n][1]==0?0:r[n][0]/r[n][1];
return Q};a1.aa_=function(r){var Q=[];for(var n=0;n<r.length;n++){var W=r[n],b=1;if(W!=Math.round(W)){b=1e3;
W=Math.round(W*b)}Q[n]=[W,b]}return Q};a1._A=function(r,Q){var W=a1.uH;if(Q==null)Q={};for(var b in W){var X=W[b][1],D="t"+X;
if(X!=null&&r[D]!=null){var h=r[D];if(X==0)h=h.join(".");else if(X==2||X==4){var S=r["t"+(X-1)];if(S==null)S=[X==2?"N":"E"];
h=a1.arM(h).join(",")+S[0]}else if(X==42034)h=a1.arM(h).join(" ");else if(X==270||X==315){var a=h[0],K=new Uint8Array(a.length);
c._a(K,0,a);h=c.CA(K)}else h=h[0];Q[b]=h}}if(r.exifIFD)a1._A(r.exifIFD,Q);if(r.gpsiIFD)a1._A(r.gpsiIFD,Q);
return Q};a1.bZ=function(r,Q,W){var b=a1.uH,D=0,S=0;if(Q==null)Q={};var X={},h={};for(var a in b){if(r[a]==null||b[a][1]==null)continue;
var K=b[a][1],Y="t"+K,d=Q;if(a.startsWith("exif:")){d=X;D++;if(a.startsWith("exif:GPS")){d=h;S++}}var j=r[a];
if(K==0)j=new Uint8Array(j.split(".").map(parseFloat));else if(K==2||K==4){var U=j.length;d["t"+(K-1)]=[j.slice(j.length-1)];
j=a1.aa_(j.split(",").map(parseFloat))}else if(K==42034)j=a1.aa_(j.split(" ").map(parseFloat));else if(K==270||K==315){var I=c.gl(j);
j=[c.zV(I,0,I.length)]}else j=[j];d[Y]=j}if(D!=0){Q.exifIFD=X;Q.t34665=[0]}if(S!=0){Q.gpsiIFD=h;Q.t34853=[0]}var f=new Date,g=[f.getFullYear(),f.getMonth()+1,f.getDate(),f.getHours(),f.getMinutes(),f.getSeconds()];
for(var n=0;n<6;n++)g[n]=(g[n]+"").padStart(2,"0");Q.t305=["Photopea Editor (www.photopea.com)"];if(W!=!0)Q.t306=[g[0]+":"+g[1]+":"+g[2]+" "+g[3]+":"+g[4]+":"+g[5]];
return Q};function bz(){}bz.ak=function(r){var Q={a46:",",SO:"\r\n",LO:"\""},W=[[""]],b,X,D,h,S;for(b=X=D=h=0;
D<r.length;D++){switch(S=r.charAt(D)){case Q.LO:if(h&&r.charAt(D+1)==Q.LO){W[b][X]+=Q.LO;++D}else{h^=1}break;
case Q.a46:if(!h){W[b][++X]=""}else{W[b][X]+=S}break;case Q.SO.charAt(0):if(!h&&(!Q.SO.charAt(1)||Q.SO.charAt(1)&&Q.SO.charAt(1)==r.charAt(D+1))){W[++b]=[""];
W[b][X=0]="";if(Q.SO.charAt(1)){++D}}else{W[b][X]+=S}break;default:W[b][X]+=S}}if(W[W.length-1].length<W[0].length)W.pop();
return W};var N={};N.a7K=0;N.hn=function(){N.a7K++;return N.a7K};N.a1h="uint8";N._R=function(r){r.m.style.transition="opacity 0.1s ease-out, transform 0.1s ease-out";
r.m.style.opacity="1";r.m.style.transform="scale(1)"};N.Z0=function(r,Q){r.m.style.opacity="0";r.m.style.transform="scale(0.95)";
if(Q)setTimeout(function(){Q.removeChild(r.m)},100)};N.an8=function(){var r=N.awV();if(r=="")return 0;
if(r!=N.ez("_TXZRPB;d7@;")){var Q=N.h8[ec.wC][ec.$n],W=Q.indexOf(String.fromCharCode(35)),b;if(W==-1)return 0;
try{b=JSON.parse(N.h8[ec.anw](Q.slice(W+1)))}catch(aA){return 0}var X=b[N.ez("bQ[ODL<E<M")];if(X==null||X.length<<2!=64)return 0;
var D=ec.VP(),h=parseInt(X.slice(3*4).split("").reverse().join(""),16)<<16;if(h<D||X!=ec.aky(h,r))return 0;
return 2}return 1};N.awV=function(){var r=N.h8[N.JW("}$z{2*35")][N.ez("W[\\ZQAJ?")],Q=String.fromCharCode(46),W=r.split(Q);
if(W.length<2)return"";var b=W.pop();b=W.pop()+Q+b;return b};N.af0=function(){if(N.h8[ec.aeo][ec.att]){var r=new N.h8[ec.aU];
r[ec.Uh](ec.aow,N.ez("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+N.awV());r[ec.wU]()}};N.Vm=function(){if(window.top!=window.self)return!1;
var r=navigator.userAgent.toLowerCase();if(r.indexOf("android")!=-1)return!1;if(r.indexOf("safari")!=-1&&r.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null};N.jG=function(r){this.Hb=r;this.atk=N.S("img");this.oa=N.S("canvas");
this.W0=null;this.UR="";this.mK=null;this.ao=new cp(0,0);this.jQ=!0;N.sY(this.Hb,this.y1.bind(this))};
N.jG.prototype.ba=function(r,Q){this.W0=r;if(Q)this.UR=Q;this.y1()};N.jG.prototype.fy=function(r){this.jQ=r;
this.y1()};N.jG.prototype.y1=function(r){if(r)this.ao=N.ug(r,this.Hb);var Q=this.jQ?this.W0:"auto",W=typeof Q=="string";
if(!W){var b=N.i(),X=this.ao,D=Q.nX.e,h=Q.nX.n,S=typeof Q.ov=="string",a=S?this.atk:this.oa;if(S)a.setAttribute("src",Q.ov);
else{a.width=D;a.height=h;var K=a.getContext("2d"),Y=new ImageData(new Uint8ClampedArray(Q.ov.buffer),D,h);
K.putImageData(Y,0,0)}a.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(X.y-Q.kW.y/b)+"px; left:"+(X.x-Q.kW.x/b)+"px; width:"+D/b+"px; height:"+h/b+"px");
var d=this.mK;if(d==null||d!=a){if(d)this.Hb.removeChild(d);this.Hb.appendChild(a);this.mK=a}}else if(this.mK){this.Hb.removeChild(this.mK);
this.mK=null}this.Hb.setAttribute("style","cursor:"+(W?Q:"none")+"; "+this.UR)};N.IJ=function(r){return r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
N.z4=function(r,Q){r.NM(aA.get([12,41]).charAt(0)+":");Q.NM(aA.get([12,42]).charAt(0)+":")};N.S=function(r,Q){var W=document.createElement(r);
if(Q!=null)W.className=Q;return W};N.WC=function(r){while(r.firstChild)r.removeChild(r.firstChild)};
N.lB=function(r,Q){var W=r.className;W=W.split(" ");if(W.indexOf(Q)==-1)W.push(Q);r.className=W.join(" ")};
N.Q5=function(r,Q){var W=r.className;if(W=="")return;W=W.split(" ");if(W.indexOf(Q)!=-1)W.splice(W.indexOf(Q),1);
r.className=W.join(" ")};N.Z_=function(r){while(!0){if(r==document)return!0;if(r==null)return!1;r=r.parentNode}};
N.Hr=function(r){r.appendChild(N.S("br"))};N.MP=function(r){r.appendChild(N.S("hr"))};N.bn=function(r,Q,W){var b=new fG([1,12,1],W==null?!0:W,null,!0);
if(r)b.Z("click",r.Hu,r);if(Q)Q.appendChild(b.m);return b};N.h8=document;N.tp=function(r){var Q=0;for(var n=0;
n<r;n++)Q+=Math.random();return Q/r<Math.PI/4};N.ez=function(r){var Q="";if(!N.tp(28))r+="-3";for(var n=0;
n<r.length;n++){var W=r.charCodeAt(n);if(W<32||126<W)throw"e";Q+=String.fromCharCode(32+(W-32+17+3*n)%95)}return Q};
N.JW=function(r){var Q="";if(!N.tp(28))r+="-1";for(var n=0;n<r.length;n++){var W=r.charCodeAt(n);W-=32;
W+=95e4;W-=17+3*n;W=W%95;Q+=String.fromCharCode(32+W)}return Q};N.c6=function(r){var Q=Math.random();
N.a1h="uint"+(3+Q);return new r};(function(){var r=window.PointerEvent,Q=r?"pointer":"mouse",W=Q+"down",b=Q+"move",X=Q+"up",D=!1;
N.AM=function(h,S){h.addEventListener(W,S,D);if(!r)h.addEventListener("touchstart",S,D)};N.sY=function(h,S){h.addEventListener(b,S,D);
if(!r)h.addEventListener("touchmove",S,D)};N.gJ=function(h,S){h.addEventListener(X,S,D);if(!r)h.addEventListener("touchend",S,D)};
N.a7C=function(h,S){h.removeEventListener(W,S,D);if(!r)h.removeEventListener("touchstart",S,D)};N.qa=function(h,S){h.removeEventListener(b,S,D);
if(!r)h.removeEventListener("touchmove",S,D)};N.xf=function(h,S){h.removeEventListener(X,S,D);if(!r)h.removeEventListener("touchend",S,D)}}());
N.cI=function(r){r.addEventListener("touchstart",N.oE,!1);r.addEventListener("touchmove",N.oE,!1);r.addEventListener("touchend",N.oE,!1);
r.addEventListener("gesturestart",N.oE,!1);r.addEventListener("gesturechange",N.oE,!1);r.addEventListener("gestureend",N.oE,!1)};
N.apn=function(r){var Q=r.sourceCapabilities;if(Q)return Q.firesTouchEvents;return!1};N.Jx=function(r,Q,W,b){var X=N.i();
r.width=Math.floor(Q*X);r.height=Math.floor(W*X);if(b)b.scale(X,X);N.Q4(r)};N.Q4=function(r){var Q=N.i();
r.style.width=r.width/Q+"px";r.style.height=r.height/Q+"px"};N.lb=function(r,Q,W){r.setAttribute("style","width:"+Q/N.i()+"px; height:"+W/N.i()+"px")};
N.ug=function(r,Q){if(Q==null)Q=r.currentTarget;var W=Q.getBoundingClientRect();if(r.touches)r=r.touches.item(0);
return{x:r.clientX-W.left,y:r.clientY-W.top}};N.i=function(){return window.devicePixelRatio||1};N.U9=function(r){r.addEventListener("keydown",N.a4J,!1)};
N.a4J=function(r){r.stopPropagation()};N.oE=function(r){r.preventDefault()};N.pR=function(r){r.stopPropagation();
r.preventDefault()};N.lI=function(r,Q,W){W=W?W:"";if(PIMG["__"+r]==null)W+=" gsicon";return"<img src=\""+PIMG[r]+"\" alt=\""+(Q?Q:"")+"\" class=\""+W+"\" />"};
N.SI=function(r,Q,W,b){var X=r.dataTransfer.getData("text/uri-list");if(X!=null&&X.startsWith("http")){var D=new km(e.E.L,!0);
D.data={d:e.c.Es,Lb:{url:X,Wl:!0,cy:W,us:b}};Q.$(D)}if(r.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var h=[],S=r.dataTransfer.items.length,a=r.dataTransfer.files;
for(var K of r.dataTransfer.items)K.getAsFileSystemHandle().then(function(Y){h.push(Y);if(h.length==S){var D=new km(e.E.L,!0);
D.data={d:e.c.xH,data:a,cy:W,us:b,a8v:h};Q.$(D)}})}else{var D=new km(e.E.L,!0);D.data={d:e.c.xH,data:r.dataTransfer.files,cy:W,us:b};
Q.$(D)}};if(N.tp(27))N.h8=window;else N.h8=N.aqz;N.h8._cwY=N.h8[N.JW("t$&!'31")];var b8={};b8.a8U=function(n){var r=b8.q6[n],Q=document.documentElement.style,b=1;
Q.setProperty("--base","#"+E.Y0(r["--base"]));Q.setProperty("--bg-panel","#"+E.Y0(r["--bg-panel"]));
Q.setProperty("--bg-canvas","#"+E.Y0(r["--bg-canvas"]));Q.setProperty("--bg-input","#"+E.Y0(r["--bg-input"]));
Q.setProperty("--bg-bbtn","#"+E.Y0(r["--bg-bbtn"]));Q.setProperty("--bg-bbtnOver","#"+E.Y0(r["--bg-bbtnOver"]));
Q.setProperty("--brdr","#"+E.Y0(r["--brdr"]));Q.setProperty("--text-color","#"+E.Y0(r["--text-color"]));
Q.setProperty("--brdrLgt","rgba(255,255,255,"+r["--brdrLgt"]+")");Q.setProperty("--brdrDrk","rgba(  0,  0,  0,"+r["--brdrDrk"]+")");
Q.setProperty("--alphaDark",""+r["--alphaDark"]);Q.setProperty("--gs-invert",""+r["--gs-invert"]);Q.setProperty("--accent","#"+E.Y0(r["--accent"]));
var W=r["--sh-clr"];Q.setProperty("--sh-clr","rgba("+(W>>16)+","+(W>>8&255)+","+(W&255)+", 0.45)");Q.setProperty("--sh-dy",""+r["--sh-dy"]+"px");
if(1<N.i()&&N.i()<1.5)b=1/N.i();Q.setProperty("--img20",20*b+"px");Q.setProperty("--img18",18*b+"px");
Q.setProperty("--img15",15*b+"px");if(PIMG!=null){var X="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var n=0;n<X.length;n++){var D=X[n],h=D.split("/").pop(),S=PIMG["__"+D]==null?r["--gs-invert"]:"0";
Q.setProperty("--icon_"+h,"url("+PIMG[D]+")");Q.setProperty("--icon_"+h+"_invrt",S)}}var a=document.querySelector("meta[name=theme-color]");
if(a)a.setAttribute("content","#"+E.Y0(r["--base"]))};(function(){var r=3441398,Q=3441398;b8.q6=[{name:"Light Grey","--base":14737632,"--bg-panel":11579568,"--bg-canvas":11579568,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":11579568,"--sh-clr":16777215,"--sh-dy":1,"--accent":Q},{name:"Dark Grey","--base":4671303,"--bg-panel":2434341,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6118749,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1,"--accent":r},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2435637,"--sh-clr":0,"--sh-dy":-1,"--accent":r},{name:"Dark Blue","--base":2237745,"--bg-panel":1513761,"--bg-canvas":1513761,"--bg-input":1513761,"--bg-bbtn":3554128,"--bg-bbtnOver":3158085,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":12303291,"--gs-invert":.8,"--brdr":1513761,"--sh-clr":0,"--sh-dy":-1,"--accent":r},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":3287605,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":3287605,"--sh-clr":0,"--sh-dy":-1,"--accent":r},{name:"Black","--base":3487029,"--bg-panel":1710618,"--bg-canvas":1710618,"--bg-input":1710618,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":13421772,"--gs-invert":.7,"--brdr":1710618,"--sh-clr":0,"--sh-dy":-1,"--accent":r},{name:"White","--base":16250871,"--bg-panel":14737632,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":3355443,"--gs-invert":.18,"--brdr":14737632,"--sh-clr":16777215,"--sh-dy":1,"--accent":Q}]}());
function jm(){this.dz={};this.l2={}}jm.prototype.a1Z=function(r){var Q=this.dz[r];if(Q==null)return!1;
return Q.length>0};jm.prototype.addEventListener=function(r,Q){this.Z(r,Q,null)};jm.prototype.Z=function(r,Q,W){if(this.dz[r]==null){this.dz[r]=[];
this.l2[r]=[]}this.dz[r].push(Q);this.l2[r].push(W)};jm.prototype.removeEventListener=function(r,Q){var W=this.dz[r];
if(W==null)return;var b=W.indexOf(Q);if(b<0)return;var X=this.l2[r];W.splice(b,1);X.splice(b,1)};jm.prototype.$=function(r){r.currentTarget=this;
if(r.target==null)r.target=this;var Q=this.dz[r.type];if(Q==null)return;var W=this.l2[r.type];for(var n=0;
n<Q.length;n++){if(W[n]==null)Q[n](r);else Q[n].call(W[n],r)}};var km=function(r,Q){if(!Q)Q=!1;this.type=r;
this.target=null;this.currentTarget=null;this.bubbles=Q;this.b=null;this.YI=!1},e={E:{s:"0",L:"1",Kk:"1.5",f:"2",RR:"3",axL:"4"},c:{Kl:"10",I2:"11",mm:"12",yL:"13",gc:"14",aq_:"14.1",Es:"15",VX:"16",cw:"17",hB:"18",EV:"19",a9S:"19.5",a0l:"20",a0I:"20.1",arX:"20.5",aoL:"20.6",OE:"21",jz:"22",t7:"23",dw:"24",Re:"25",It:"26",kp:"27",ff:"28",aaJ:"28.5",aa3:"29",xH:"30",cf:"31",L2:"32",ip:"33",bp:"34",bJ:"35",afj:"35.5",X9:"37",agn:"38",lr:"39",CB:"40",yX:"41",Mk:"41.5",a3m:"42",fh:"43",amD:"43.5",$S:"44",ax4:"45",Bq:"46",pK:"47",UG:"48",Sx:"49",af4:"50",D7:"51"}};
function eg(){jm.call(this);this.parent=null;this.m=null;this.Dr=0;this.J9=0}eg.prototype=new jm;eg.prototype.age=function(r){var fb=this;
while(fb!=null){if(fb==r)return!0;fb=fb.parent}return!1};eg.prototype.by=function(){var r=this.m;return r.offsetWidth+r.clientLeft};
eg.prototype.a1I=function(){var r=this.m;return r.offsetHeight+r.clientTop};eg.prototype.update=function(r){};
eg.prototype.$=function(r){jm.prototype.$.call(this,r);if(r.bubbles&&this.parent!=null)this.parent.$(r)};
eg.prototype.r=function(){};eg.prototype.du=function(r,Q){};eg.prototype.si=function(r){N.lB(this.m,"disabled")};
eg.prototype.S8=function(r){N.Q5(this.m,"disabled")};eg.prototype.fy=function(r){if(r)this.S8();else this.si()};
function ke(r){eg.call(this);this.Xl=[];this.cX=!1;this.ax6=0;this.td={x:0,y:0,hY:!1};this.jI=r;this.akH=this.DF.bind(this);
this.$U=this.Fx.bind(this);this.ahs=this.Tn.bind(this);N.AM(r,this.akH);N.sY(r,this.$U);r.addEventListener("wheel",this.XM.bind(this),!1);
r.addEventListener("contextmenu",this.anT.bind(this),!1);var Q=this.a0O.bind(this);r.addEventListener("gesturestart",Q,!1);
r.addEventListener("gesturechange",Q,!1);r.addEventListener("gestureend",Q,!1);N.cI(r)}ke.prototype=new eg;
ke.prototype.a0O=function(r){if(r.type=="gesturestart")this.bH=r.scale;if(r.type=="gesturechange"){var Q=new km("mouse",!0);
Q.action="scroll";Q.HY=!0;this.WY(r,Q);var W=(this.bH-r.scale)/this.bH;Q.VG=new cp(0,100*W);this.bH=r.scale;
this.$(Q)}};ke.prototype.Wp=function(r){var Q=-1,W=this.Xl;for(var n=0;n<W.length;n++)if(W[n].pointerId==r.pointerId)Q=n;
return Q};ke.M2=function(r){var Q=r.pointerType,W=window.__kb;return Q=="touch"&&W.j(h8.apx)};ke.prototype.DF=function(r){if(ke.M2(r))return;
var Q=this.Wp(r);if(Q!=-1)this.Xl[Q]=r;else this.Xl.push(r);if(this.Xl.length==1){this.ax6=Date.now();
var W=r.button!=null&&r.button!=0?r.which==2?"idown":"rdown":"down",b=new km("mouse",!0);b.action=W;
this.WY(r,b);this.$(b);N.qa(this.jI,this.$U);N.sY(window,this.$U);N.gJ(window,this.ahs)}if(this.Xl.length==2){if(Date.now()-this.ax6<100){var b=new km("mouse",!0);
b.action="cancellast";this.WY(r,b);this.$(b)}this.cX=!0}if(this.Xl.length==2)this.aqY("multidown")};
ke.prototype.Fx=function(r){if(ke.M2(r))return;var Q=this.Wp(r);if(Q!=-1)this.Xl[Q]=r;if(this.Xl.length>1){this.aqY("multimove")}if(this.cX)return;
if(this.Xl.length==1&&Q==-1)return;var W=new km("mouse",!0);W.action="move";this.WY(r,W);this.$(W)};
ke.prototype.Tn=function(r){if(ke.M2(r))return;var Q=this.Xl;Q=this.Xl=[];if(Q.length==0){var W=r.button!=null&&r.button>0?r.which==2?"iup":"rup":"up",b=new km("mouse",!0);
b.action=W;this.WY(r,b);this.$(b);N.qa(window,this.$U);N.xf(window,this.ahs);N.sY(this.jI,this.$U);this.cX=!1}};
ke.prototype.XM=function(r){r.preventDefault();if(r.deltaX==0&&r.deltaY==0)return;var Q=new km("mouse",!0);
Q.action="scroll";Q.HY=r.ctrlKey;this.WY(r,Q);this.$(Q)};ke.prototype.anT=function(r){N.pR(r);if(N.apn(r)){var Q=new km("mouse",!0);
this.WY(r,Q);Q.action="rdown";this.$(Q);Q.action="rup";this.$(Q)}};ke.prototype.aqY=function(r){var Q=this.Xl,W=N.i(),b=[];
for(var n=0;n<Q.length;n++){var X=b[n]=N.ug(Q[n],this.jI);X.x*=W;X.y*=W}var D=new km("mouse",!0);D.action=r;
D.ih=b;if(Q.length==2)this.$(D)};ke.prototype.WY=function(r,Q,W){var b=this.Xl.length!=0;if(Q.action!="up"){var X=N.i();
if(W==null)W=N.ug(r,this.jI);this.td=Q.Jo={x:X*W.x,y:X*W.y,hY:b};var D=N.ug(r,document.body);Q.Jo.e7=D.x;
Q.Jo.ID=D.y}else this.td=Q.Jo={x:this.td.x,y:this.td.y,hY:b};Q.Jo.dl=.5;if(r.pressure!=null&&r.pressure!=0)Q.Jo.dl=r.pressure;
if(r.pointerType=="mouse")Q.Jo.dl*=2;Q.Jo.auc=r.pointerType;if(r.deltaX!=null){var h=r.deltaMode==0?1:40;
Q.VG=new cp(r.deltaX*h,r.deltaY*h)}};function ka(r,Q,W){eg.call(this);this.SA=null;this.anL=this.Tn.bind(this);
this.agC=this.KU.bind(this);this.agK=this.a7e.bind(this);this.atY=this.a4r.bind(this);this.E1=[];this.WE=[];
this.zt=[];this.arw=[];this.m=N.S("div","contextpanel "+(W?"cp_dark":"cp_light"));this.m.addEventListener("contextmenu",N.oE,!1);
this._2=null;this.DG=0;this.V6=r;this.WG=Q;this.tG=[];for(var n=0;n<r.length;n++){var b=N.S("div","enab");
this.WE.push(b);this.m.appendChild(b);var X=r[n].JA;if(X){if(X.startsWith("#")){var D=N.S("span");D.setAttribute("style","display:inline-block; width:16px; height:16px; vertical-align:middle; margin:0 5px 0 -3px; border-radius:4px; background-color:"+X);
b.appendChild(D)}else b.innerHTML=N.lI(r[n].JA,null,"thumb")}else{var h=N.S("span","check");this.arw.push(h);
b.appendChild(h)}var S=N.S("span","label");S.textContent=aA.get(r[n].name);b.appendChild(S);this.zt.push(S);
if(r[n].Xe)this.m.appendChild(N.S("hr"));if(r[n].hM||r[n].sub){var a=N.S("span","right");b.appendChild(a);
if(r[n].hM)a.textContent=h8.KK(r[n].hM);else if(r[n].sub)a.textContent="\u25B6"}b.addEventListener("click",this.anL,!1);
b.addEventListener("mouseover",this.agC,!0);b.addEventListener("mouseout",this.agK,!0);if(r[n].sub){var K=new ka(r[n].sub,Q?Q[n].sub:null);
K.parent=this;this.tG.push(K);K.Z("select",this.a0k,this)}else this.tG.push(null)}}ka.prototype=new eg;
ka.prototype.ad5=function(r){N.WC(this.m);for(var n=0;n<r.length;n++)if(r[n]!=0&&r[n]!=null){this.m.appendChild(this.WE[n]);
if(r[n]!=1&&this.tG[n])this.tG[n].ad5(r[n])}};ka.prototype.r=function(){var r=this.V6;for(var n=0;n<r.length;
n++){if(r[n].title)this.WE[n].title=aA.get(r[n].title);this.zt[n].textContent=aA.get(r[n].name)+(r[n].nT?"...":"")}for(var n=0;
n<this.tG.length;n++)if(this.tG[n])this.tG[n].r()};ka.prototype.update=function(r,Q){var W=this.V6;for(var n=0;
n<W.length;n++){if(W[n].w){var b=W[n].w(r,Q,n);if(b.w!=null)this.WE[n].className=b.w?"enab":"disab";
if(b.B5!=null)this.zt[n].textContent=b.B5;if(b.TC!=null)this.arw[n].textContent=b.TC?"\u2713":"";if(b.J!=null)this.WG[n]=b.J}}for(var n=0;
n<this.tG.length;n++)if(this.tG[n])this.tG[n].update(r,Q)};ka.prototype.z_=function(){return this.E1};
ka.prototype.Tn=function(r){if(r.button!=0)return;var n=this.WE.indexOf(r.currentTarget);if(this.tG[n]){this.DG=n;
this.a4r()}else{if(this.WG){var Q=this.WG[n],W=new km(Q.Y,!0);W.b=Q.b;W.data=Q.J;this.$(W)}this.SA=null;
this.E1=[n];this.$(new km("select",!1));var W=new km(e.E.L,!0);W.data={d:e.c.yL};this.$(W)}};ka.prototype.KU=function(r){var n=this.WE.indexOf(r.currentTarget);
this.GD();this.DG=n;this._2=setTimeout(this.atY,300)};ka.prototype.a7e=function(r){this.GD()};ka.prototype.GD=function(){if(this._2){clearTimeout(this._2);
this._2=null}};ka.prototype.a4r=function(){this.GD();var n=this.DG;if(this.SA)this.SA.a5M();if(this.tG[n]==null)return;
this.SA=this.tG[n];var r=this.WE[n].getBoundingClientRect(),Q=new km(e.E.L,!0);Q.data={d:e.c.I2,MY:this.tG[n],x:r.left+r.width+2,y:r.top};
this.$(Q)};ka.prototype.a5M=function(){for(var n=0;n<this.tG.length;n++)if(this.tG[n])this.tG[n].a5M();
var r=new km(e.E.L,!0);r.data={d:e.c.mm,MY:this};this.$(r)};ka.prototype.a0k=function(r){var n=this.tG.indexOf(r.target);
this.E1=[n].concat(r.target.z_());this.$(new km("select",!1))};function dL(r,Q,W){eg.call(this);this.m=N.S("span","fitem cbox");
if(Q==null)Q=!0;if(W==null)W="flabel";var b="cb"+N.hn();this.RX=N.S("input","");this.RX.setAttribute("type","checkbox");
this.RX.setAttribute("id",b);this.m.appendChild(this.RX);this.JK=r;this.ce=N.S("label",W);if(Q)this.ce.setAttribute("for",b);
this.m.appendChild(this.ce);this.r();this.RX.addEventListener("change",this.aF.bind(this),!1)}dL.prototype=new eg;
dL.prototype.ajW=function(){return this.JK};dL.prototype.NM=function(r){this.ce.textContent=r};dL.prototype.r=function(){var r=this.JK;
if(typeof r=="string"&&r.startsWith("<"))this.ce.innerHTML=r;else this.ce.textContent=aA.get(r)};dL.prototype.V9=function(){this.RX.checked=!0};
dL.prototype.jw=function(){this.RX.checked=!1};dL.prototype.nJ=function(){return this.RX.checked};dL.prototype.t=function(r){this.RX.checked=r};
dL.prototype.G=dL.prototype.nJ;dL.prototype.aF=function(r){this.$(new km(e.E.f,!1))};function aQ(r,Q){eg.call(this);
this.JK=r;this.m=N.S("span","labelitem fitem"+(Q?" spread":""));this.r()}aQ.prototype=new eg;aQ.prototype.t=function(r){this.m.textContent=r};
aQ.prototype.G=function(){return this.m.textContent};aQ.prototype.S8=function(){this.m.removeAttribute("disabled")};
aQ.prototype.si=function(){this.m.setAttribute("disabled","")};aQ.prototype.NM=function(r){this.m.textContent=r};
aQ.prototype.r=function(){this.m.textContent=aA.get(this.JK)};aQ.prototype.ajW=function(){return this.JK};
function fG(r,Q,W,b,X){eg.call(this);this.CX=!1;this.m=N.S("button","fitem"+(Q?" spread":"")+(b?" bbtn":""));
this.JK=r;this.oP=W;this.r();var D=X&&window.PointerEvent?"pointerup":"click";this.m.addEventListener(D,this.ML.bind(this),!1)}fG.prototype=new eg;
fG.prototype.r=function(){var r=this.m,Q=this.JK,W=this.oP;if(typeof Q=="string"&&(Q.startsWith("<img")||Q.startsWith("<svg")||Q.startsWith("<span"))){if(!this.CX){r.innerHTML=Q;
r.setAttribute("style","padding:2px");this.CX=!0}}else r.textContent=aA.get(Q);if(W){r.setAttribute("title",aA.get(W))}};
fG.prototype.a6S=function(r){this.m.setAttribute("title",r)};fG.prototype.ML=function(r){this.$(new km("click",!1))};
fG.prototype.V9=function(){N.lB(this.m,"bactive")};fG.prototype.jw=function(){N.Q5(this.m,"bactive")};
fG.prototype.NM=function(r,Q){if(r&&r!=this.JK){this.JK=r;this.CX=!1}if(Q)this.oP=Q;this.r()};fG.prototype.t=function(r){if(r)this.V9();
else this.jw()};fG.prototype.nJ=function(){return this.m.getAttribute("class").indexOf("bactive")!=-1};
fG.prototype.G=function(){return this.nJ()};function eM(r,Q,W,b,X){eg.call(this);var D=N.hn();this.m=N.S("span","fitem tinput");
if(r){this.JK=r;this.ce=N.S("label","flabel");this.m.appendChild(this.ce);this.ce.setAttribute("for",D);
this.r()}if(X){this.RX=N.S("span")}else if(b==null){this.RX=N.S("input");this.RX.setAttribute("type","text")}else this.RX=N.S("textarea","scrollable");
this.RX.setAttribute("id",D);if(W)this.RX.setAttribute("style","width:"+W+"em;"+(X?" display:inline-block; margin-left:6px;":""));
if(b)this.RX.setAttribute("rows",b);this.m.appendChild(this.RX);if(Q){this.r5=N.S("span");this.r5.textContent=Q;
this.r5.style.marginLeft="2px";this.m.appendChild(this.r5)}N.U9(this.RX);this.RX.addEventListener("change",this.aF.bind(this),!1);
this.RX.addEventListener("input",this.aqc.bind(this),!1)}eM.prototype=new eg;eM.prototype.r=function(){if(this.JK)this.ce.textContent=aA.get(this.JK)+":"};
eM.prototype.NM=function(r){this.ce.textContent=r};eM.prototype.t=function(r){var Q=this.RX,W=r==null?"":r,b=Q.tagName=="SPAN";
if(b){Q.textContent=" "+W;if(this.r5)Q.appendChild(this.r5)}else Q.value=W};eM.prototype.auf=function(r){this.r5.textContent=r};
eM.prototype.G=function(){return this.RX.value};eM.prototype.J2=function(){this.RX.select();this.RX.focus()};
eM.prototype.aF=function(r){this.$(new km(e.E.f,!1))};eM.prototype.aqc=function(r){this.$(new km("input",!1))};
function cY(r,Q,W,b,X,D,h,S,a){eg.call(this);if(X==null)X=0;this.m=N.S("span","fitem");var K=N.hn();
this.JK=r;this.oP=S;this.W0=0;this.__=a;this.tu=Q;this.H8=W;this.Zg=null;if(b instanceof Array){this.Zg=b;
b=b[0]}this.b0=b;this.Du=X;this.ab2=D;this.N4=h;this.RI=0;this.ce=N.S("label","flabel");this.ce.setAttribute("style","cursor:col-resize;");
this.on=N.S("input");this.on.setAttribute("type","range");if(h){this.on.min=0;this.on.max=400}else{this.on.min=Q;
this.on.max=W;if(X!=0)this.on.step=(W-Q)/200}this.RX=N.S("input");this.RX.setAttribute("type","text");
this.RX.setAttribute("id",K);this.r5=N.S("span");this.r5.textContent=b;N.U9(this.RX);this.RX.addEventListener("change",this.aF.bind(this),!1);
this.RX.addEventListener("keydown",this.NY.bind(this),!1);this.RX.addEventListener("keyup",this.Qz.bind(this),!1);
this.RX.addEventListener("wheel",this.XM.bind(this),!1);this.on.addEventListener("input",this.aF.bind(this),!1);
if(a)this.on.addEventListener("change",this.aF.bind(this),!1);this.on.addEventListener("click",this.agq.bind(this),!1);
this.a39=this.and.bind(this);this.aqw=this.awd.bind(this);this.ac8=this.apc.bind(this);this.tj=0;this.bG=0;
this.m1=!1;N.AM(this.ce,this.a39);N.cI(this.ce)}cY.prototype=new eg;cY.prototype.zp=function(r){this.Du=r};
cY.prototype.NM=function(r){this.ce.style.display=r?"inherit":"none";if(r)this.ce.textContent=aA.get(r)};
cY.prototype.r=function(){var fb=this.JK,r=this.oP;if(fb){if(typeof fb=="string"&&fb.startsWith("<"))this.ce.innerHTML=fb;
else this.ce.textContent=aA.get(fb)+":"}if(r){r=aA.get(r);if(fb)this.ce.setAttribute("title",r);this.RX.setAttribute("title",r)}};
cY.prototype.t=function(r,Q){var W=this.tu==this.H8,X;if(!W&&this.tu>=0)r=Math.max(this.tu,r);if(this.Du==0)r=Math.round(r);
var b=this.b0;this.W0=r;this.RX.value=(this.Du!=0?r.toFixed(this.Du):r)+(this.ab2&&b?(b.toLowerCase()==b.toUpperCase()?"":" ")+b:"");
if(-this.tu==this.H8)X=200+Math.sign(r)*200*Math.pow(Math.abs(r)/this.H8,1/2.7);else X=400*Math.pow((r-this.tu)/(this.H8-this.tu),1/2.7);
this.on.value=this.N4?X:r;if(Q)this.Gv()};cY.prototype.G=function(){var r=this.W0;if(isNaN(r))r=0;return r};
cY.prototype.n1=function(){return this.b0};cY.prototype.aF=function(r){var Q=0;if(r.currentTarget==this.RX){var W=r.target.value,b=0;
Q=W==""?0:this.b0?parseFloat(W):eval(W);if(isNaN(Q))Q=0;while(b<W.length&&(W.charAt(b)=="."||48<=W.charCodeAt(b)&&W.charCodeAt(b)<=57))b++;
var X=W.slice(b).trim();if(this.Zg&&this.Zg.indexOf(X)!=-1)this.b0=X}else{if(Date.now()-this.RI<10)return;
Q=parseFloat(r.target.value);if(this.N4){if(-this.tu==this.H8)Q=Math.sign(Q-200)*Math.pow(Math.abs(Q-200)/200,2.7)*this.H8;
else Q=this.tu+Math.pow(Q/400,2.7)*(this.H8-this.tu);Q=this.ajn(Q)}}this.t(Q);if(r.type=="input"&&this.__)return;
this.Gv()};cY.prototype.Gv=function(){this.$(new km(e.E.f))};cY.prototype.ajn=function(r){if(this.H8-this.tu>50&&r>10)r=Math.round(r);
return r};cY.prototype.NY=function(r){var Q=0;if(h8.Gx(r.code,h8.Rb))Q=1;if(h8.Gx(r.code,h8.v1))Q=-1;
if(Q!=0)this.a6V(Q,r.shiftKey)};cY.prototype.Qz=function(r){var Q=h8.Gx(r.code,h8.V2),W=h8.Gx(r.code,h8.Cj);
if(Q)this.t(this.G());if(W||Q)this.RX.blur()};cY.prototype.XM=function(r){this.a6V(r.deltaY>0?-1:1,r.shiftKey)};
cY.prototype.a6V=function(r,Q){var W=this.G(),b=this.Du,X=r*(b==null||b==0||W>5?1:.1);if(Q)X*=10;var D=W+X;
if(!this.N4&&this.H8!=this.tu)D=Math.min(this.H8,D);this.t(D);this.Gv()};cY.prototype.agq=function(r){var Q=Date.now()-this.RI;
this.RI=Date.now();if(Q>200)return;var W=this.tu,b=this.H8,X=(W+b)/2;if(W<1&&b>1&&b<10)X=1;else if(W<90&&b>110)X=100;
else if(W<0&&b>0)X=0;this.t(X);this.Gv()};cY.prototype.and=function(r){N.sY(document,this.aqw);N.gJ(document,this.ac8);
this.tj=N.ug(r,document.body).x;this.bG=this.G()};cY.prototype.awd=function(r){N.pR(r);var Q=this.tu==this.H8,W=N.ug(r,document.body).x,b=(W-this.tj)*(Q?1:1/120*(this.H8-this.tu)),X=this.bG+b;
if(Q)X=Math.round(X);if(!Q){if(!0){X=Math.max(this.tu,X);if(X==this.tu){this.tj=W;this.bG=this.tu}}if(!this.N4){X=Math.min(this.H8,X);
if(X==this.H8){this.tj=W;this.bG=this.H8}}X=this.ajn(X)}this.m1=!0;this.t(X);if(!this.__)this.Gv()};
cY.prototype.apc=function(r){if(!this.m1)this.RX.focus();this.m1=!1;if(this.__)this.Gv();N.qa(document,this.aqw);
N.xf(document,this.ac8)};cY.prototype.J2=function(){this.RX.select();this.RX.focus()};function fq(r,Q,W,b,X,D,h,S,a,K){cY.call(this,r,Q,W,b,X,!0,D,a,K);
N.lB(this.m,"rangedropinput");this.m.appendChild(this.ce);this.RX.setAttribute("style","width:"+(S?S:3.3)+"em");
this.m.appendChild(this.RX);this.ar$=N.S("span","rangecontFloat");this.ar$.appendChild(this.on);this.G4=N.S("button");
this.G4.textContent="\u25BC";N.AM(this.G4,this.asj.bind(this));if(h!=!0)this.m.appendChild(this.G4);
this.r_=new eg;this.r_.m=this.ar$}fq.prototype=new cY;fq.prototype.asj=function(r){if(N.Z_(this.r_.m))return;
r.stopPropagation();var Q=this.m.getBoundingClientRect();this.on.setAttribute("style","width:"+Q.width+"px;");
var W=new km(e.E.L,!0);W.data={d:e.c.I2,MY:this.r_,x:Q.left-10,y:Q.top+Q.height};this.$(W)};function kh(r,Q,W,b,X,D){cY.call(this,r,Q,W,b,X,!1,D);
this.m.appendChild(this.ce);var h=N.S("span");this.m.appendChild(h);h.appendChild(this.on);this.m.appendChild(this.RX);
this.RX.setAttribute("style","width:3.3em");if(this.b0)this.m.appendChild(this.r5)}kh.prototype=new cY;
function aX(r,Q,W,b,X,D,h,S){cY.call(this,r,Q,W,b,X,!0,D,null,h);N.lB(this.m,"trangeinput");this.m.appendChild(this.ce);
this.m.appendChild(this.RX);var a=N.S("span");if(S!=!0)this.m.appendChild(a);a.appendChild(this.on);
this.on.setAttribute("style","width:97%;")}aX.prototype=new cY;function fk(r,Q,W,b){eg.call(this);if(!Q)return;
if(W==null)W=!1;this.uJ=0;this.amG=W;this.JK=r;this.Cg=null;this.a1B=b;this.rA=[];var X="dd"+N.hn();
this.m=N.S("span","fitem ddmenu");if(r&&!W){this.ce=N.S("label","flabel");this.m.appendChild(this.ce);
this.ce.setAttribute("for",X)}this.Yo=N.S("select");this.Yo.setAttribute("id",X);this.m.appendChild(this.Yo);
this.Yo.addEventListener("change",this.aF.bind(this),!1);function D(h){var S=0;if(h8.Gx(h.code,h8.Rb))S=1;
if(h8.Gx(h.code,h8.v1))S=-1;if(S!=0)h.stopPropagation()}this.Yo.addEventListener("keydown",D,!1);this.Yo.addEventListener("keyup",D,!1);
this.hi=[];this.ck=null;this.In(Q,b);this.r()}fk.prototype=new eg;fk.prototype.NM=function(r){this.JK=r;
this.r()};fk.prototype.r=function(){if(this.JK!=null){var r=aA.get(this.JK);if(this.amG)this.Yo.setAttribute("title",r);
else this.ce.textContent=r+":"}if(this.ck)this.In(this.ck,this.a1B);this.t(this.uJ)};fk.prototype.G=function(){return this.uJ};
fk.prototype.In=function(r,Q){N.WC(this.Yo);var W=[],b=0;if(Q){W.push(Q[0]);for(var n=1;n<Q.length;n++)W.push(W[n-1]+Q[n])}this.ck=r;
this.Cg=[];this.a1B=Q;for(var n=0;n<r.length;n++){var X=N.S("option");if(this.rA.indexOf(n)!=-1)X.setAttribute("disabled","");
X.textContent=aA.get(r[n]);X.setAttribute("value",n);this.Yo.appendChild(X);this.hi.push(X);this.Cg.push(n+b);
if(W.indexOf(n+1)!=-1&&n!=r.length-1){var D=N.S("option");D.setAttribute("disabled","");D.textContent="";
this.Yo.appendChild(D);b++}}};fk.prototype.ahV=function(n){var r=this.rA,Q=r.indexOf(n);if(Q==-1)r.push(n);
this.r()};fk.prototype.ate=function(n){var r=this.rA,Q=r.indexOf(n);if(Q!=-1)r.splice(Q,1);this.r()};
fk.prototype.t=function(r){this.uJ=r;this.Yo.selectedIndex=this.Cg[r]};fk.prototype.aF=function(r){this.uJ=this.Cg.indexOf(this.Yo.selectedIndex);
this.$(new km(e.E.f,!1))};fk.prototype.J2=function(){this.Yo.focus()};function gU(r,Q,W,b){eg.call(this);
if(!Q)return;this.uJ=0;this.avZ=b;this.m=N.S("span","fitem bbmenu");this.ce=N.S("label","flabel");if(r){this.JK=r;
this.ce.textContent=r+":";this.m.appendChild(this.ce)}this.hi=[];this.d2=N.S("span");this.m.appendChild(this.d2);
this.ck=null;this.In(Q,W);this.t(0)}gU.prototype=new eg;gU.prototype.NM=function(r){this.JK=r;this.r()};
gU.prototype.r=function(){var r=this.ce.parentNode!=null,Q=this.m;if(this.JK!=null){if(!r){Q.appendChild(this.ce);
Q.appendChild(this.d2)}this.ce.textContent=aA.get(this.JK)+": "}else if(r)Q.removeChild(this.ce);for(var n=0;
n<this.hi.length;n++)this.hi[n].r()};gU.prototype.G=function(){return this.uJ};gU.prototype.In=function(r,Q){N.WC(this.d2);
this.hi=[];this.ck=r;for(var n=0;n<r.length;n++){var W=new fG(r[n],!1,Q?Q[n]:null,this.avZ);W.Z("click",this.aF,this);
this.d2.appendChild(W.m);this.hi.push(W)}this.r()};gU.prototype.t=function(r){this.uJ=r;for(var n=0;
n<this.hi.length;n++)this.hi[n].jw();this.hi[r].V9()};gU.prototype.aF=function(r){var n=this.hi.indexOf(r.target);
this.t(n);this.$(new km(e.E.f,!1))};gU.pQ=function(r,Q,W){if(Q==null)Q=16;var b=gU.oa,X=b.getContext("2d"),D=Q>>>1;
b.width=b.height=Q;var h=[];for(var n=0;n<r.length;n++){if(r[n][0]=="-")h.push(r[n].slice(1));else if(r[n]=="checker"||r[n].startsWith("#")){if(r[n]=="checker"){X.fillStyle="white";
X.fillRect(0,0,Q,Q);X.fillStyle="#bbbbbb";X.fillRect(D,0,D,D);X.fillRect(0,D,D,D)}else if(r[n].startsWith("#")){X.fillStyle=r[n];
X.fillRect(0,0,Q,Q)}h.push("<img src=\""+b.toDataURL()+"\" />")}else h.push(N.lI(r[n],null,W?W:"autoscale"))}return h};
gU.oa=N.S("canvas");function eJ(r,Q,W,b,X,D){eg.call(this);this.m=N.S("span","fitem mbox");this.aqr=W;
this.afE=X;if(r){this.JK=r;this.ce=N.S("label","flabel");this.m.appendChild(this.ce)}this.aI=Q;this.Hm=[];
for(var n=0;n<Q.length;n++){var h=W?new fG(Q[n],!1,b?b[n]:null,!1,D):new dL(Q[n],!0,"");h.Z(W?"click":e.E.f,this.aF,this);
this.Hm.push(h);this.m.appendChild(h.m)}this.r()}eJ.prototype=new eg;eJ.prototype.t=function(r){for(var Q=0;
Q<this.aI.length;Q++)this.Hm[Q].t(r[Q])};eJ.prototype.G=function(){var r=[];for(var Q=0;Q<this.aI.length;
Q++)r[Q]=this.Hm[Q].G();return r};eJ.prototype.r=function(){if(this.JK)this.ce.innerHTML=aA.get(this.JK)+": ";
var r=this.Hm;for(var Q=0;Q<r.length;Q++){r[Q].r();if(Q==r.length-1)r[Q].m.style.marginRight="0px"}};
eJ.prototype.aF=function(r){var n=this.Hm.indexOf(r.currentTarget),Q=this.Hm[n];if(this.aqr)Q.t(!Q.G());
if(this.afE){var W=Q.G();for(var n=0;n<this.Hm.length;n++)this.Hm[n].t(!1);Q.t(W)}this.$(new km(e.E.f,!1))};
function aa(r,Q){eg.call(this);this.yp=[];this.I=[];this.aiF=r;this.z9=Q;this.u7=0;this.SE=null;this.ao=new cp(0,0);
if(Q!=null){this.fP=new ka([{name:[6,37]},{name:[5,4]}]);this.fP.parent=this;this.fP.Z("select",this.kQ,this)}this.m=N.S("div","imageset scrollable");
this.m.addEventListener("contextmenu",N.oE,!1)}aa.prototype=new eg;aa.prototype.r=function(){if(this.fP)this.fP.r()};
aa.prototype.kQ=function(r){var n=this.fP.z_()[0],Q=new km(e.E.L,!0),W={d:e.c.bJ,Lb:this.z9,XH:this.I.slice(0)};
if(n==0){var b=this.SE[1][this.I[0]];W.FX="rnm";Q.data={d:e.c.Re,wv:"namewindow",h$:b,sA:{Y:e.E.L,J:W}}}else{Q.data=W;
W.FX="del"}this.$(Q)};aa.prototype.asF=function(){return this.u7};aa.prototype.l9=function(r){this.u7=r;
if(this.SE)this.YY()};aa.prototype.pH=function(r,Q,W,b){this.SE=[r,Q,W,b];this.YY()};aa.prototype.YY=function(){var r=this.SE,Q=r[0],W=r[1],b=r[2],X=r[3];
this.yp=[];this.m.innerHTML="";var D=this.ML.bind(this),h=this.u7;if(h==0)N.lB(this.m,"imageset");else N.Q5(this.m,"imageset");
for(var n=0;n<Q.length;n++){var S=Q[n],a=null;if(S==null){this.yp.push(null);continue}if(typeof S=="string"){a=N.S("img","image");
a.setAttribute("src",S)}else a=S;if(b)N.lb(a,b,X);if(this.aiF)N.lB(a,"gsicon");if(h==0){}else{var K=N.S("div","listitem");
K.appendChild(a);var Y=N.S("span");Y.textContent=W?W[n]:"Item "+(n+1);Y.setAttribute("style","margin-left:4px;");
K.appendChild(Y);a=K}if(W)a.setAttribute("title",W[n]);a.addEventListener("mousedown",D,!1);this.yp.push(a);
this.m.appendChild(a)}};aa.prototype.ML=function(r){if(this.z9==null)r.preventDefault();var Q=this.yp.indexOf(r.currentTarget),W=window.__kb,b=this.I,X=b.length;
if(W.j(h8.NN)){var D=Math.min(b[0],b[b.length-1],Q),h=Math.max(b[0],b[b.length-1],Q);b=[];for(var n=D;
n<=h;n++)b.push(n)}else if(W.j(h8.DS)){var S=b.indexOf(Q);if(S==-1)b.push(Q);else b.splice(S,1)}else b=[Q];
b.sort(function(d,j){return d-j});if(r.button==0||X==1)this.t(b);this.ao=N.ug(r,r.currentTarget);if(r.button==0)this.$(new km(e.E.f));
if(r.button==2&&this.fP){var a=this.fP;a.update(null);var K=N.ug(r,document.body),Y=new km(e.E.L,!0);
Y.data={d:e.c.I2,MY:a,x:K.x,y:K.y+2};this.$(Y)}};aa.prototype.G=function(){return this.I.slice(0)};aa.prototype.a2K=function(){var r=this.ao;
return new cp(r.x,r.y)};aa.prototype.t=function(r){this.I=r.slice(0);for(var n=0;n<this.yp.length;n++){var Q=this.yp[n];
if(Q==null)continue;if(r.indexOf(n)!=-1)N.lB(Q,"selected");else N.Q5(Q,"selected")}};function hu(r,Q,W,b,X,D,h){eg.call(this);
this.m=N.S("span","fitem "+W);this.vT=new eg;this.vT.m=N.S("div","floatcont");this.vT.m.setAttribute("style","width: "+(b+1.5)+"em;");
this.vT.parent=this;this.afz=N.S("div");this.vT.m.appendChild(this.afz);this.Hj=N.S("div");this.vT.m.appendChild(this.Hj);
if(r){this.JK=r;this.ce=N.S("label","flabel");this.m.appendChild(this.ce)}this.d=N.S("button",h?"nopadding":"");
this.d.setAttribute("style","position:relative;");var S=this.fd.bind(this),a=this.sl.bind(this);N.AM(this.d,Q?a:S);
this.m.appendChild(this.d);this.jN=N.S("img",h?"gsicon":"");this.d.appendChild(this.jN);if(Q){var K=N.S("button");
K.textContent="\u25BC";N.AM(K,S);this.m.appendChild(K)}else{var Y=N.S("span");Y.textContent="\u25BC";
Y.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.d.appendChild(Y)}var d=N.S("span");
this.Hj.appendChild(d);d.setAttribute("style","display:inline-block;  vertical-align:top; width:"+b+"em;");
this.fj=new aa(h,D);d.appendChild(this.fj.m);this.fj.parent=this.vT;this.fj.Z(e.E.f,this.R1,this);this.fj.m.style.height=X+"em";
this.bS=N.S("button");this.bS.textContent="\u25BC";this.bS.setAttribute("style","padding:3px");N.AM(this.bS,this.B6.bind(this));
this.Hj.appendChild(this.bS);var j=this.b6(),U=this.a1X=D!=d4.Ec&&D!=d4.z1?D:null,I=this.anu=D==null?!1:d4.vN[D][4]!=0,f=D==null?"":d4.vN[D][0].toUpperCase(),g=[];
if(U)g.push({name:[12,87]});g.push({name:["VAR0 / VAR1",[25,3,0],[25,3,1]],Xe:!0});g.push({name:[[23,6],"."+(f=="ICC"?"icc .cube .look .3dl":f)]},{name:["VAR0 ."+f,[1,8]]},{name:[6,37]},{name:[5,4],Xe:j.length!=0});
for(var n=0;n<j.length;n++)g.push({name:j[n].split("/").pop()});this.a1w=g;this.z9=D;this.Pm=null;this._f=!0;
this.oc=null}hu.prototype=new eg;hu.prototype.b6=function(){return[]};hu.prototype.sl=function(){};hu.prototype.r=function(){this.fj.r();
var r=this.JK;if(r)this.ce.textContent=aA.get(r)+":"};hu.prototype.NM=function(r){this.ce.textContent=r};
hu.prototype.UD=function(r){var Q=this.z9,W=0;if(Q==d4.sw){W=this.Pm?this.Pm.length:0;r=r.slice(0)}this.Pm=r;
this._f=!0;if(N.Z_(this.fj.m)||Q==d4.$m)this._N();if(Q==d4.sw&&r.length-W==1&&N.Z_(this.m)){this.t(r[W]);
this._f=!0;this._N();this.fj.t([W]);this.$(new km(e.E.f))}};hu.prototype.kQ=function(r){var Q=r.target.z_()[0];
if(this.a1X==null)Q++;var W=new km(e.E.L,!0);if(Q==0){var b=this.kR();if(this.z9==d4.sw&&b[0].profile==null)return;
W.data={d:e.c.bJ,FX:"add",Lb:this.a1X,t_:b}}else if(Q==1)this.fj.l9(1-this.fj.asF());else if(Q<=5)this.IU(Q-2);
else{var X=this.b6();W.data={d:e.c.Es,Lb:{url:"rsrc/"+X[Q-6]}}}if(W.data)this.$(W)};hu.prototype.IU=function(r){var Q=new km(e.E.L,!0),W=this.fj.G(),b={d:e.c.bJ,Lb:this.z9,XH:W};
if(r>1&&W.length==0){alert("No items selected");return}if(r==0)Q.data={d:e.c.VX};else if(r==1)Q.data={d:e.c.Bq,abk:this.z9,XH:W.length==0?null:W};
else if(r==2){var X=this.fj.SE[1][W[0]];b.FX="rnm";Q.data={d:e.c.Re,wv:"namewindow",h$:X,sA:{Y:e.E.L,J:b}}}else if(r==3){Q.data=b;
b.FX="del"}this.$(Q)};hu.prototype.kR=function(){return[this.G()]};hu.prototype.B6=function(r){if(this.fP==null){this.fP=new ka(this.a1w);
this.fP.parent=this.vT;this.fP.Z("select",this.kQ,this)}if(N.Z_(this.fP.m))return;r.stopPropagation();
var Q=this.fP;Q.r();Q.update(null);var W=r.currentTarget.getBoundingClientRect(),b=new km(e.E.L,!0);
b.data={d:e.c.I2,MY:Q,x:W.left,y:W.top+W.height};this.$(b)};hu.prototype.fd=function(r,Q,W){if(N.Z_(this.vT.m))return;
if(r)r.stopPropagation();this._N();if(Q==null){var b=this.d.getBoundingClientRect(),Q=b.left,W=b.top+b.height}var X=new km(e.E.L,!0);
X.data={d:e.c.I2,MY:this.vT,x:Q,y:W,de:!0};this.$(X)};hu.prototype.aap=function(r,Q){this.fd(null,r,Q)};
function b5(){eg.call(this);this.m=N.S("div");this.W0=!1;this.sX=[new fk([12,19,1],[[13,1,7]].concat(bu._K)),new f4([17,1]),new f4([12,46])];
for(var n=0;n<3;n++){var r=this.sX[n];this.m.appendChild(r.m);r.Z(e.E.f,this.ci,this)}this.r()}b5.prototype=new eg;
b5.prototype.r=function(){for(var n=0;n<3;n++)this.sX[n].r()};b5.prototype.G=function(){return this.W0.slice(0)};
b5.prototype.t=function(r){this.W0=r.slice(0);var Q=this.sX,W=Q[0].G();Q[1].t(r.slice(W*8,W*8+4),W);
Q[2].t(r.slice(W*8+4,W*8+8),W)};b5.prototype.ci=function(r){var Q=this.sX,W=Q.indexOf(r.currentTarget);
if(W==0)this.t(this.W0);else{var b=Q[0].G()*8+(W==1?0:4),X=Q[W].G();for(var n=0;n<4;n++)this.W0[b+n]=X[n];
this.$(new km(e.E.f,!1))}};function f4(r){eg.call(this);this.m=N.S("div");this.T=N.S("canvas");this.Gk=r;
this.W0=[0,20,200,255];this.li=0;this.eo=-1;this.a3K=[];for(var n=0;n<5;n++){var Q=N.S("span");Q.setAttribute("style","display:inline-block;width:"+(n==0?8:n==2?7:2)+"em");
this.a3K.push(Q);this.m.appendChild(Q)}this.St=this.DF.bind(this);this.nQ=this.Fx.bind(this);this.lf=this.Tn.bind(this);
N.cI(this.T);N.AM(this.T,this.St);this.m.appendChild(this.T);this.YY()}f4.prototype=new eg;f4.prototype.r=function(){this.YY()};
f4.prototype.t=function(r,Q){this.W0=r;this.li=Q;this.YY()};f4.prototype.G=function(){return this.W0.slice(0)};
f4.prototype.DF=function(r){var Q=this.W0,W=N.ug(r,this.T),b=W.x-8,X=-1,D=1e9;for(var n=0;n<4;n++){var h=b-Q[n],S=Math.abs(h);
if(S<8&&S<D&&((n&1)==0&&h<0||(n&1)==1&&h>0)){D=h;X=n}}if(X==-1)return;this.eo=X;this.QK=window.__kb.j(h8._I)||Q[(X>>>1)*2]!=Q[(X>>>1)*2+1];
N.sY(window,this.nQ);N.gJ(window,this.lf)};f4.prototype.Fx=function(r){var Q=this.W0,W=this.eo,b=(W>>>1)*2,X=b+1,D=N.ug(r,this.T),h=Math.round(Math.max(0,Math.min(255,D.x-8)));
Q[W]=h;if(this.QK&&Q[b]>=Q[X])this.QK=!1;if(!this.QK)Q[b]=Q[X]=h;this.YY();this.$(new km(e.E.f,!1))};
f4.prototype.Tn=function(r){N.qa(window,this.nQ);N.xf(window,this.lf)};f4.prototype.YY=function(){var r=this.T;
N.Jx(r,255+16,16);var Q=r.getContext("2d"),W=r.width,b=r.height,X=Math.round(255*N.i()),D=Math.round(8*N.i());
Q.translate(D,0);var h=Q.createLinearGradient(0,0,X,0);h.addColorStop(0,"black");h.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.li]);
Q.fillStyle=h;Q.fillRect(0,0,X,D);var S=this.a3K,a=aA.get(this.Gk)+":";S[0].textContent=a;for(var n=0;
n<4;n++){var K=this.W0[n];S[1+n].textContent=K;var Y=Math.round(K*N.i());Q.beginPath();Q.moveTo(Y,D);
Q.lineTo(Y,D+D);Q.lineTo(Y+((n&1)==0?-1:1)*D,D+D);Q.closePath();Q.fillStyle=n<2?"#666666":"#cccccc";
Q.fill();Q.strokeStyle="black";Q.stroke()}};function iU(r,Q,W){eg.call(this);if(W==null)W=!1;this.h=[0,0,1];
this.af8=Q;this.adl=W;this.ayt=0;var b="ai"+N.hn();this.m=N.S("span","fitem angleinput");if(r){this.ce=N.S("label","flabel");
this.JK=r;this.m.appendChild(this.ce);this.ce.setAttribute("for",b)}this.JF=W?44:20;this.T=N.S("canvas","gsicon");
this.hA=this.T.getContext("2d");N.cI(this.T);N.Jx(this.T,this.JF*2+1,this.JF*2+1);this.hA.scale(N.i(),N.i());
this.m.appendChild(this.T);N.AM(this.T,this.p9.bind(this));this.Bw=this.wm.bind(this);this.MO=this.gP.bind(this);
var X=this.aF.bind(this),D=N.S("div");D.setAttribute("style","display:inline-block;  vertical-align:middle;");
if(!W)this.m.appendChild(D);this.ZQ=[];for(var n=0;n<2;n++){var h=N.S("input");this.ZQ.push(h);h.setAttribute("type","text");
N.U9(h);if(n==0)h.setAttribute("id",b);h.addEventListener("change",X,!1);var S=N.S("span");S.textContent="\xB0";
if(n==0||Q){D.appendChild(h);D.appendChild(S);N.Hr(D)}}this.t(this.h)}iU.prototype=new eg;iU.prototype.r=function(){if(this.JK)this.ce.textContent=aA.get(this.JK)+":"};
iU.prototype.NM=function(r){this.ce.textContent=r};iU.prototype.G=function(){return this.h.slice(0)};
iU.prototype.t=function(r,Q){var W=this.h;r=r.slice(0);if(r[0]==null)r[0]=W[0];if(r[1]==null)r[1]=W[1];
if(r[2]==null)r[2]=W[2];this.h=r;var b=r[0],X=r[1],D=r[2],h=this.af8,S=this.adl,a=this.JF*.85;if(!h)X=0;
this.ZQ[0].value=b;this.ZQ[1].value=X;var K=this.hA;K.clearRect(0,0,100,100);b=Math.PI*b/180;X=a*(90-X)/90;
var Y=this.JF+.5;K.save();K.translate(Y,Y);K.rotate(-b);K.strokeStyle="rgba(0,0,0,0.5)";K.beginPath();
K.ellipse(0,0,a,a*D,0,0,2*Math.PI);if(S){K.moveTo(0,-a*D);K.lineTo(0,a*D);K.moveTo(-X,0)}else K.moveTo(0,0);
K.lineTo(X,0);K.stroke();var d=this.JF*.15;K.fillStyle="black";K.beginPath();if(S){K.arc(0,-a*D,d*.66,0,2*Math.PI);
K.arc(0,a*D,d*.66,0,2*Math.PI)}if(h){K.arc(X,0,d*.4,0,2*Math.PI)}else{K.moveTo(Y-d,-d*.66);K.lineTo(Y,0);
K.lineTo(Y-d,d*.66)}K.fill();K.restore();if(Q)this.aF()};iU.prototype.aF=function(r){var Q=parseInt(this.ZQ[0].value);
if(isNaN(Q))Q=0;var W=parseInt(this.ZQ[1].value);if(isNaN(W))W=0;Q=Q%360;W=W%360;this.t([Q,W]);this.$(new km(e.E.f,!1))};
iU.prototype.p9=function(r){N.sY(window,this.Bw);N.gJ(window,this.MO);var Q=N.ug(r,this.T),Y=0,d=1e9;
Q.x-=this.JF;Q.y-=this.JF;var W=this.h,b=W[0]*Math.PI/180,X=(90-W[1])/90,D=W[2],h=this.JF*.85,S=Math.sin(-b),a=Math.cos(-b),K=[new cp(a*h,S*h)];
if(this.adl)K.push(new cp(-S*h*D,a*h*D),new cp(S*h*D,-a*h*D));for(var n=0;n<K.length;n++){var j=cp.ks(Q,K[n]);
if(j<d){d=j;Y=n}}this.ayt=Y;if(Y==0)this.wm(r)};iU.prototype.wm=function(r){var Q=N.ug(r,this.T),W=this.ayt,b=[],X=Q.x-this.JF,D=Q.y-this.JF,h=this.JF*.85;
if(W==0){var S=180*Math.atan2(-D,X)/Math.PI,a=90-90*Math.min(1,Math.sqrt(X*X+D*D)/h);if(r.shiftKey)S=Math.round(S/15)*15;
b=[Math.round(S),Math.round(a)]}else b=[null,null,Math.max(.01,Math.min(1,Math.sqrt(X*X+D*D)/h))];this.t(b);
this.$(new km(e.E.f,!1))};iU.prototype.gP=function(r){this.$(new km(e.E.f,!1));N.qa(window,this.Bw);
N.xf(window,this.MO)};function cV(r,Q){eg.call(this);this.W0=0;this.qq=Q;this.m=N.S("span","fitem angleinput");
if(r){this.ce=N.S("label","flabel");this.JK=r;this.m.appendChild(this.ce)}this.T=N.S("canvas","gsicon");
this.hA=this.T.getContext("2d");N.Jx(this.T,Q,Q);this.m.appendChild(this.T);N.cI(this.T);N.AM(this.T,this.p9.bind(this));
this.Bw=this.wm.bind(this);this.MO=this.gP.bind(this);this.t(0)}cV.prototype=new eg;cV.prototype.r=function(){if(this.JK)this.ce.textContent=aA.get(this.JK)+":"};
cV.prototype.NM=function(r){this.ce.textContent=r};cV.prototype.G=function(){return this.W0};cV.prototype.a1x=function(r){var Q=this.W0,W=Math.floor(Q/3),b=Q-W*3;
b=Math.max(0,Math.min(2,b+r.x));W=Math.max(0,Math.min(2,W+r.y));this.t(W*3+b)};cV.prototype.t=function(r){this.W0=r;
var Q=this.T.width,W=Math.floor(r/3),b=r-3*W,X=(b+.5)*Q/3,D=(W+.5)*Q/3,h=this.hA,S=[.5,Math.round(Q/3)+.5,Math.round(2*Q/3)+.5,Q-.5];
h.clearRect(0,0,Q,Q);var a=this.qq<30;h.setLineDash([]);h.strokeStyle=a?"rgba(0,0,0,0.5)":"#000000";
h.beginPath();for(var n=0;n<4;n++){var K=S[n];h.moveTo(K,0);h.lineTo(K,Q);h.moveTo(0,K);h.lineTo(Q,K)}h.stroke();
if(r==9)return;if(!a){h.setLineDash([1,2]);var Y=Q*.53,d=Math.max(0,Math.min(Q-Y,X-Y/2)),j=Math.max(0,Math.min(Q-Y,D-Y/2));
h.strokeRect(Math.round(d)+.5,Math.round(j)+.5,Math.round(Y),Math.round(Y))}h.fillStyle="#000000";h.beginPath();
h.arc(X,D,Q/8,0,Math.PI*2);h.fill()};cV.prototype.p9=function(r){N.sY(document.body,this.Bw);N.gJ(document.body,this.MO);
this.wm(r)};cV.prototype.wm=function(r){var Q=N.ug(r,this.T),W=Math.max(0,Math.min(2,Math.floor(Q.x/(this.qq/3)))),b=Math.max(0,Math.min(2,Math.floor(Q.y/(this.qq/3))));
this.t(b*3+W)};cV.prototype.gP=function(r){this.$(new km(e.E.f,!1));N.qa(document.body,this.Bw);N.xf(document.body,this.MO)};
function io(fb){eg.call(this);this.m=N.S("span","fitem cswatch");this.a43=0;this.Sl=[];this.ol=[];var r=this.aaK.bind(this);
for(var n=0;n<fb;n++){this.Sl.push(0);var Q=N.S("span","colorsample");Q.addEventListener("click",r,!1);
this.ol.push(Q);this.m.appendChild(Q)}var W=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],b=Math.min(fb,W.length);
for(var n=0;n<b;n++)this.Sl[n]=W[n];this.Ui()}io.prototype=new eg;io.prototype.aaK=function(r){this.a43=this.ol.indexOf(r.currentTarget);
this.$(new km(e.E.f))};io.prototype.G=function(){return this.Sl[this.a43]};io.prototype.t=function(r){var Q=this.Sl,W=Q.indexOf(r);
if(W!=-1)Q.splice(W,1);else Q.pop();Q.unshift(r);this.Ui()};io.prototype.Ui=function(){for(var n=0;n<this.Sl.length;
n++){this.ol[n].setAttribute("style","background-color:#"+E.Y0(this.Sl[n]))}};function c_(r){eg.call(this);
this.oA={o:0,W:0,k:0};this.QG=r;this.m=N.S("span","fitem colorsample");this.m.addEventListener("click",this.Ux.bind(this),!1)}c_.prototype=new eg;
c_.prototype.r=function(){};c_.prototype.Ux=function(r){var Q=this.oA;this.$(new km("click"));var W=new km(e.E.L,!0);
W.data={d:e.c.Re,wv:"colorpicker",Mi:Q.o<<16|Q.W<<8|Q.k,ag:this.rB.bind(this),OJ:this.QG};this.$(W)};
c_.prototype.rB=function(r){this.N$(r);this.$(new km(e.E.f))};c_.prototype.y0=function(){this.Ux(null)};
c_.prototype.a9$=function(){var r=this.oA;return r.o<<16|r.W<<8|r.k};c_.prototype.G=function(){return E.M.rY(this.oA)};
c_.prototype.N$=function(r){this.oA={o:r>>16&255,W:r>>8&255,k:r&255};this.aki()};c_.prototype.t=function(r){this.oA=E.M.vf(r);
this.aki()};c_.prototype.aki=function(){var r=this.oA,Q=r.o,W=r.W,b=r.k,X=Q<<16|W<<8|b;this.m.setAttribute("style","background-color:#"+E.Y0(X))};
function dZ(){eg.call(this);this.Bi=!1;this.jO=20;this.akN=10;this.$P=0;this.Bi=!1;this.Xb={o:255,W:0,k:0};
this.vQ={o:0,W:0,k:0};this.m=N.S("canvas");this.YY();N.cI(this.m);N.AM(this.m,this.St.bind(this))}dZ.prototype=new eg;
dZ.prototype.aud=function(r){if(this.Bi==r)return;this.Bi=r;this.YY()};dZ.prototype.r=function(){};dZ.prototype.ae9=function(r,Q){function W(b){return{o:b>>16&255,W:b>>8&255,k:b&255}}if(r!=null)this.Xb=W(r);
if(Q!=null)this.vQ=W(Q);this.YY()};dZ.prototype.St=function(r){var Q=N.ug(r,this.m),W=Q.x*N.i(),b=Q.y*N.i(),X=this.jO,D=this.akN,h=0;
if(W<D&&b<D){h=0}else if(W>X-D&&b>X-D){h=1}else if(W<D){h=2}else{h=3}this.y0(h)};dZ.prototype.y0=function(r){var Q=new km(e.E.L,!0);
if(r>1)Q.data={d:e.c.bJ,Lb:d4.dt,CZ:r};else{this.$P=r;var W=r==0?this.Xb:this.vQ;Q.data={d:e.c.Re,wv:"colorpicker",Mi:W.o<<16|W.W<<8|W.k,ag:this.rB.bind(this)}}this.$(Q)};
dZ.prototype.rB=function(r){var Q=new km(e.E.L,!0);Q.data={d:e.c.bJ,Lb:d4.dt,CZ:this.$P,h:r};this.$(Q)};
dZ.prototype.YY=function(){var r=this.m,Q=r.getContext("2d"),W=N.i(),X="#aaaaaa",D=.62;N.Jx(r,34,34);
r.setAttribute("style",r.getAttribute("style")+";cursor:pointer");var b=this.jO=r.width,h=this.akN=Math.round(b*D);
function S(I,f){var g=I.o,H=I.W,u=I.k;if(f)g=H=u=Math.round(E.f_(g,H,u));var s=g<<16|H<<8|u;return"#"+E.Y0(s)}function a(Q,I,f,g,H,u){Q.beginPath();
if(g>=u*2&&H>=u*2){Q.moveTo(I+u,f);Q.lineTo(I+g-u,f);Q.quadraticCurveTo(I+g,f,I+g,f+u);Q.lineTo(I+g,f+H-u);
Q.quadraticCurveTo(I+g,f+H,I+g-u,f+H);Q.lineTo(I+u,f+H);Q.quadraticCurveTo(I,f+H,I,f+H-u);Q.lineTo(I,f+u);
Q.quadraticCurveTo(I,f,I+u,f)}Q.closePath()}function K(I,f,h,g,H){Q.strokeStyle=H?H:"black";Q.fillStyle=g;
a(Q,I+.5,f+.5,h-1,h-1,h*.2);Q.fill();Q.stroke()}K(b-h,b-h,h,S(this.vQ,this.Bi));K(0,0,h,S(this.Xb,this.Bi));
var Y=b-h,d=Math.round(Y*D);K(b-d,Y-d,d,"white",X);K(b-Y,0,d,"black",X);Q.save();Q.fillStyle=X;Q.translate(0,b);
Q.rotate(-Math.PI/2);Y=b-h;var j=Math.round(Y*.28),U=Math.round(Y*.25);for(var n=0;n<2;n++){Q.fillRect(j,j,Y-j,1);
Q.beginPath();Q.moveTo(Y-U,j+.5-U);Q.lineTo(Y,j+.5);Q.lineTo(Y-U,j+.5+U);Q.closePath();Q.fill();Q.transform(0,1,1,0,0,0)}Q.restore()};
function cl(r){hu.call(this,r,!1,"brushbutton nopadding",19,10,d4.Yu,!0);var Q=this.afz;N.lB(Q,"flexrow");
var W=N.S("div");Q.appendChild(W);var b=N.S("div");Q.appendChild(b);b.setAttribute("style","margin-left:8px");
this.R2=new iU(null,null,!0);this.R2.Z(e.E.f,this.sO,this);W.appendChild(this.R2.m);this.TR=new aX([12,14,0],1,1e3," px",0,!0);
this.TR.Z(e.E.f,this.sO,this);b.appendChild(this.TR.m);this.DL=new aX([12,17],0,100,"%");this.DL.Z(e.E.f,this.sO,this);
b.appendChild(this.DL.m);this.hb=new eJ(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
this.hb.Z(e.E.f,this.sO,this);b.appendChild(this.hb.m)}cl.prototype=new hu;cl.prototype.b6=function(){var r=["pencil","trees"];
for(var n=0;n<r.length;n++)r[n]="brushes/"+r[n]+".abr";return r};cl.prototype.t=function(r,Q,W){this.oc=JSON.parse(JSON.stringify(r));
var b=Math.floor(20*N.i()),X=Math.floor(36*N.i()),D=Math.floor(24*N.i()),h=hS.Rs(r,Q,W,b,D,X);this.jN.setAttribute("src",h);
N.lb(this.jN,X,D);var S=r.Brsh.v;this.TR.t(S.Dmtr.v.val);if(S.Hrdn!=null){this.DL.S8();this.DL.t(S.Hrdn.v.val)}else this.DL.si();
if(S.Angl!=null)this.R2.t([S.Angl.v.val]);if(S.Rndn!=null)this.R2.t([null,null,S.Rndn.v.val/100]);var a=[!1,!1];
if(r.opVr)a[0]=r.opVr.v.bVTy.v==2;if(r.szVr)a[1]=r.szVr.v.bVTy.v==2;this.hb.t(a)};cl.prototype.kR=function(){return{list:[{t:"Objc",v:this.G()}],I_:[],_v:[]}};
cl.prototype.G=function(){return this.oc};cl.prototype._N=function(){if(!this._f)return;var r=[],Q=[],W=this.Pm,b=Math.floor(33*N.i()),X=Math.floor(40*N.i());
for(var n=0;n<W.list.length;n++){var D=W.list[n].v,h=hS.Rs(D,W.I_,W._v,b,X);r.push(h);Q.push(D.Nm.v.split("=").pop())}this.fj.pH(r,Q,b,X);
this._f=!1};cl.prototype.R1=function(r){var Q=this.Pm;this.t(Q.list[this.fj.G()[0]].v,Q.I_,Q._v);this.$(new km(e.E.f))};
cl.prototype.r=function(){hu.prototype.r.call(this);this.R2.r();this.TR.r();this.DL.r()};cl.prototype.sO=function(r){var Q=this.Pm,W=this.oc,b=W.Brsh.v;
b.Dmtr.v.val=this.TR.G();if(b.Hrdn!=null)b.Hrdn.v.val=this.DL.G();if(b.Angl!=null)b.Angl.v.val=this.R2.G()[0];
if(b.Rndn!=null)b.Rndn.v.val=Math.round(this.R2.G()[2]*100);if(r.target==this.hb){var X=this.hb.G(),D=["opVr","szVr"],h=["usePaintDynamics","useTipDynamics"];
for(var n=0;n<2;n++){var S=D[n];if(W[S]==null)W[S]=JSON.parse(eW.QF.nN[S]);W[S].v.bVTy.v=X[n]?2:0;if(X[n])W[h[n]].v=!0}eW.QF.agR(W)}this.t(W,Q.I_,Q._v);
this.$(new km(e.E.f))};function di(r){hu.call(this,r,!0,"contourbutton",17,10.5,d4.iE)}di.prototype=new hu;
di.prototype.R1=function(r){this.t(this.Pm[r.target.G()]);this.$(new km(e.E.f))};di.prototype.sl=function(r){var Q=new km(e.E.L,!0);
Q.data={d:e.c.Re,wv:"contoureditor",qv:this.oc,response:this.a7E.bind(this)};this.$(Q)};di.prototype.a7E=function(r){this.t(r);
this.$(new km(e.E.f))};di.prototype._N=function(){if(!this._f)return;var r=Math.floor(38*N.i()),Q=Math.floor(38*N.i()),W=[],b=[],X=this.Pm;
for(var n=0;n<X.length;n++){b.push(X[n].Nm?X[n].Nm.v:"");W.push(E.FB.Rs(X[n].Crv.v,r,Q))}this.fj.pH(W,b,r,Q);
this._f=!1};di.prototype.t=function(r){this.oc=JSON.parse(JSON.stringify(r));var Q=this.oc.Crv.v;for(var n=0;
n<Q.length;n++)if(Q[n].v.Cnty==null)Q[n].v.Cnty={t:"bool",v:!0};this.q5()};di.prototype.q5=function(){var r=Math.floor(30*N.i()),Q=Math.floor(30*N.i()),W=E.FB.Rs(this.oc.Crv.v,r,Q);
this.jN.setAttribute("src",W);N.lb(this.jN,r,Q)};di.prototype.G=function(){return JSON.parse(JSON.stringify(this.oc))};
function d$(r){eg.call(this);this.gM=null;this.Ha=null;this.tS=null;this.DA=null;this.a3X=[];this.akd=[];
this.m=N.S("span","fitem fillbutton");this.vT=new eg;this.vT.m=N.S("div","floatcont form");this.vT.m.setAttribute("style","width: 21em;");
this.vT.parent=this;this.ws=r;this.ce=this.ce=N.S("label","flabel");this.m.appendChild(this.ce);this.T=N.S("canvas");
this.hA=this.T.getContext("2d");this.a6s=null;this.m.appendChild(this.T);N.AM(this.T,this.fd.bind(this));
this.AB=new gU([12,66],["","Color","Grad","Patt"]);this.vT.m.appendChild(this.AB.m);this.AB.Z(e.E.f,this.ci,this);
this.vT.m.appendChild(N.S("hr"));this.apb=N.S("span");this.VY=new c_(!1);this.VY.parent=this.vT;this.VY.Z(e.E.f,this.ci,this);
this.rp=new io(10);this.rp.Z(e.E.f,this.ci,this);this.KS=N.S("div","marged hiline");this.KS.appendChild(this.VY.m);
N.Hr(this.KS);this.KS.appendChild(this.rp.m);this.eL=new h5("GrFl",!0);this.eL.parent=this.vT;this.eL.Z(e.E.f,this.ci,this);
this.a8=N.S("div","marged hiline");var Q="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var n=0;
n<Q.length;n++){var W=this.eL.yh[Q[n]].m;this.a8.appendChild(W)}this.uG=new h5("patternFill",!0);this.uG.parent=this.vT;
this.uG.Z(e.E.f,this.ci,this);this.OC=N.S("div","marged hiline");var Q=["Ptrn","Angl","Scl","Algn","phase"];
for(var n=0;n<Q.length;n++){var W=this.uG.yh[Q[n]].m;this.OC.appendChild(W)}}d$.prototype=new eg;d$.prototype.VJ=function(r,Q){var W=ca.Ry(r,Q);
if(W!=null)this.rp.t(W);if(Q==d4.vP){this.a3X=[];this.akd=[];if(this.gM)this.t(this.tS,this.G(),this.gM)}this.Ha=r;
this.eL.VJ(r,Q);this.uG.VJ(r,Q)};d$.prototype.r=function(){this.ce.textContent=aA.get(this.ws)+": ";
this.AB.r();this.VY.r();this.eL.r();this.uG.r()};d$.prototype.ci=function(r){var Q=r.currentTarget;if(Q==this.AB){var W=this.AB.G(),b={pj:W,P0:this.gM[W]};
if(W>0&&b.P0==null)b.P0=JSON.parse(JSON.stringify(iq.$f[W-1]));if(this.gM)this.t(this.tS,b,this.gM)}if(Q==this.rp)this.VY.N$(Q.G());
this.$(new km(e.E.f,!1))};d$.prototype.fd=function(r){if(N.Z_(this.vT.m))return;r.stopPropagation();
var Q=this.T.getBoundingClientRect(),W=new km(e.E.L,!0);W.data={d:e.c.I2,MY:this.vT,x:Q.left,y:Q.top+Q.height+4};
this.$(W)};d$.prototype.t=function(r,Q,W){this.gM=W;this.tS=r;var b=[[13,1,0],[13,0],[12,37],[12,62]],X=this.a3X,D=this.akd,h=!1,Y;
for(var n=0;n<4;n++){var S={pj:n,P0:W[n]},a=d$.a96(S);if(D[n]==a)continue;h=!0;var K=d$.axo(null,S,this.Ha,this.tS,22,22,!1);
X[n]="<img width=\"22\" height=\"22\" src=\""+K+"\" />";D[n]=a}if(h)this.AB.In(X,b);this.AB.t(Q.pj);
var a=d$.a96(Q);if(a!=this.a6s)d$.axo(this.hA,Q,this.Ha,this.tS,30,23,!0);this.a6s=a;var d=Q.pj;if(d==0){Y=this.apb}if(d==1){this.VY.t(Q.P0.Clr.v);
Y=this.KS}if(d==2){this.eL.update(r,Q.P0);Y=this.a8}if(d==3){this.uG.update(r,Q.P0);Y=this.OC}if(Y!=this.DA){if(this.DA!=null){this.vT.m.removeChild(this.DA)}this.vT.m.appendChild(Y);
this.DA=Y}};d$.prototype.G=function(){var r={pj:this.AB.G()};if(r.pj==1){r.P0=JSON.parse(JSON.stringify(iq.$f[0]));
r.P0.Clr.v=this.VY.G()}if(r.pj==2){r.P0=this.eL.G()}if(r.pj==3){r.P0=this.uG.G()}return r};d$.a96=function(r){var Q=r.pj,W=r.P0,b="empty";
if(Q==1){b=E.M.vf(W.Clr.v);b=b.o+","+b.W+","+b.k}if(Q==2)b=JSON.stringify(W.Grad.v);if(Q==3)b=W.Ptrn.v.Idnt.v;
return b};d$.axo=function(r,Q,W,b,X,D,h){if(r==null)r=d$.hA;var S=Math.floor(X*N.i()),a=Math.floor(D*N.i()),K=r.canvas,Y;
K.width=S;K.height=a;N.lb(K,S,a);var d=Q.pj;if(d==0){r.fillStyle="#ffffff";r.fillRect(0,0,S,a);r.strokeStyle="#ff0000";
r.lineWidth=2;r.moveTo(0,0);r.lineTo(S,a);r.moveTo(0,a);r.lineTo(S,0);r.stroke()}if(d==1){var j=Q.P0.Clr.v;
j=E.M.vf(j);r.fillStyle="#"+E.Y0(j.o<<16|j.W<<8|j.k);r.fillRect(0,0,S,a)}if(d==2){m.N3.Rs(Q.P0.Grad.v,S,a,0,W.V8,W.tB,K)}if(d==3){var U=Q.P0.Ptrn.v,I;
if(b!=null)I=iI.ZZ(U,b.add.Patt);if(I==null)I=iI.ZZ(U,W.LB);iF.Rs(I,S,a,K)}if(h){r.beginPath();r.strokeStyle="#000000";
r.fillStyle="#ffffff";r.lineWidth=2;var f=S*.7,g=Math.floor(a*.7),H=7*N.i();r.moveTo(f,g);r.lineTo(f+H,g);
r.lineTo(f+H/2,g+H/2);r.closePath();r.stroke();r.fill()}if(r==d$.hA)return K.toDataURL()};d$.hA=N.S("canvas").getContext("2d");
function iF(r){hu.call(this,r,!1,"patternbutton",18,10,d4.vP);this.Wa=null}iF.prototype=new hu;iF.prototype.R1=function(r){var Q=this.Pm[this.fj.G()];
this.oc={classID:"Ptrn",Nm:{t:"TEXT",v:Q.name},Idnt:{t:"TEXT",v:Q.id}};this.$(new km(e.E.f));this.q5()};
iF.prototype._N=function(){if(!this._f)return;var r=this.Pm,Q=Math.floor(34*N.i()),W=Math.floor(34*N.i()),b=[],X=[];
for(var n=0;n<r.length;n++){b.push(iF.Rs(r[n],Q,W));X.push(r[n].name)}this.fj.pH(b,X,Q,W);this._f=!1};
iF.prototype.t=function(r,Q){if(this.oc&&r.Idnt.v==this.oc.Idnt.v)return;this.oc=JSON.parse(JSON.stringify(r));
this.q5(Q)};iF.prototype.G=function(){return JSON.parse(JSON.stringify(this.oc))};iF.prototype.kR=function(){return this.Wa?[this.Wa]:[]};
iF.prototype.q5=function(r){var Q=Math.floor(50*N.i()),W=Math.floor(50*N.i()),b;if(r!=null)b=iI.ZZ(this.oc,r.add.Patt);
if(b==null)b=iI.ZZ(this.oc,this.Pm);this.Wa=b;var X=iF.Rs(b,Q,W);this.jN.setAttribute("src",X);N.lb(this.jN,Q,W)};
iF.T=N.S("canvas","");iF.Rs=function(r,Q,W,b){if(b==null)b=iF.T;var X=b.getContext("2d");b.width=Q;b.height=W;
if(r){var D=r.G5[1],h=D.e,S=D.n,a=r.G5[0],K=Math.min(Q/h,W/S),Y=K;if(Y*h<2)Y=2/h;var d=K;if(d*S<2)d=2/S;
var j=m.EA.gh([a,D],new au(Y,0,0,d,0,0),Y>2),U=j.rect.e,I=j.rect.n,f=X.createImageData(U,I);E.qr(j.buffer,f.data);
X.putImageData(f,Math.floor((Q-U)/2),Math.floor((W-I)/2))}return b.toDataURL()};function g2(r,Q,W){if(Q==null)Q=24.2;
if(W==null)W=17;hu.call(this,r,!1,"patternbutton",Q,W,d4.Ec);this.W3=""}g2.prototype=new hu;g2.prototype.R1=function(r){this.oc=JSON.parse(JSON.stringify(this.Pm[0][this.fj.G()[0]]));
this.$(new km(e.E.f))};g2.prototype._N=function(){var r=this.Pm;if(r==null||!this._f)return;var Q=Math.floor(50*N.i()),W=Math.floor(50*N.i()),b=[],X=[];
for(var n=0;n<r[0].length;n++){b.push(g2.Rs(this.Pm[0][n].qt,Q,W,this.Pm[1]));X.push(r[0][n].F_.Nm.v.split("=").pop())}this.fj.pH(b,X,Q,W);
this._f=!1};g2.prototype.t=function(r,Q,W,b){var X=JSON.stringify(r.qt)+","+W+","+b;if(this.W3!=X){this.W3=X;
this.oc=JSON.parse(JSON.stringify(r));this.q5(Q,W,b)}};g2.prototype.G=function(){return JSON.parse(JSON.stringify(this.oc))};
g2.prototype.q5=function(r,Q,W){var b=Math.floor(68*N.i()),X=Math.floor(68*N.i()),D=g2.Rs(this.oc.qt,b,X,r?r:this.Pm[1],Q,W);
this.jN.setAttribute("src",D);N.lb(this.jN,b,X)};g2.Rs=function(r,Q,W,b,X,D){var h=new bj;h.e=Q;h.n=W;
h.buffer=E.Q(Q*W*4);h.add.Patt=b;h.Pz(X==null?90:X);h.pJ(D==null?30:D);var S=new aV(0,0,Math.round(Q*.5),Math.round(W*.5));
S.x=Math.round((Q-S.e)/2);S.y=Math.round((W-S.n)/2);var a=h.b_();a.rect=S;a.buffer=E.Q(S.O()*4);E.tl(a.buffer,4284045657);
iI.al_(r,a,.5*100);h.B.push(a);h.cW();h.U();var K=gn.Kz;gn.Kz=!1;h.W4();var Y=h.T6();gn.Kz=K;var d=fH.AG(Y.buffer,h.e,h.n);
return d};function b$(r){hu.call(this,null,!1,"tpresetbutton",18,24,d4.HU,!0);N.Q5(this.m,"fitem");this.fj.l9(1);
this.id=r;this.q5();this.d.style.overflow="hidden";this.xD=new dL([15,7,9]);this.xD.t(!0);this.xD.Z(e.E.f,this.afc,this);
this.Hj.appendChild(this.xD.m)}b$.prototype=new hu;b$.prototype.a9D=function(r){if(this.id==r)return;
this.id=r;this.UD(this.Pm)};b$.prototype.R1=function(r){var Q=this.Pm[this.fj.G()],W=new km(e.E.L,!0);
W.data={d:e.c.bJ,FX:"set",Lb:d4.HU,t_:Q};this.$(W)};b$.prototype.r=function(){hu.prototype.r.call(this);
this.xD.r()};b$.prototype.afc=function(){this._f=!0;this._N()};b$.prototype._N=function(){if(!this._f)return;
var r=Math.floor(16*N.i()),Q=Math.floor(16*N.i()),W=[],b=[],X=this.Pm,D=this.xD.G();for(var n=0;n<X.length;
n++){var h=m.a61(X[n]);if(!D||h==this.id){b.push(X[n][0]?X[n][0].split("=").pop():"");W.push(h==-1?"":PIMG[m.uL[h][0]])}else{W.push(null);
b.push(null)}}this.fj.pH(W,b,r,Q);this._f=!1};b$.prototype.q5=function(){var r=this.jN;r.setAttribute("src",PIMG[m.uL[this.id][0]]);
N.lB(r,"toolicon")};b$.prototype.kR=function(){return null};b$.wH={};b$.Rs=function(r,Q,W){var b=b$.hA,X=b$.wH,D=E.Y0(r.o<<16|r.W<<8|r.k);
if(X[D])return X[D];if(b==null){var h=N.S("canvas");b=b$.hA=h.getContext("2d")}var h=b.canvas;h.width=Q;
h.height=W;b.fillStyle="#"+D;b.fillRect(0,0,Q,W);var S=X[D]=h.toDataURL();return S};function am(r,Q,W){eg.call(this);
this.m=N.S("span","fitem curveeditor");this.wR=null;this.ao2=0;this.li="";this.mode=0;this.WX=r;this.aga=Q;
this.a4h=W;this.bL=null;this.Tl=null;this.a9O=0;this.ajg=0;this.lO=new cp;this.Qy=this.wm.bind(this);
this.t9=this.gP.bind(this);this.qq=256;this.T=N.S("canvas");this.hA=this.T.getContext("2d");N.cI(this.T);
this.m.appendChild(this.T);this.du(256,256);N.AM(this.T,this.p9.bind(this));this.coords=N.S("div");this.coords.setAttribute("style","width:250px");
this.m.appendChild(this.coords);var b=this.H8=W?100:255,X=null;this.gf=new fq("X (in)",0,b,X,0,!1,!0);
this.oG=new fq("Y (out)",0,b,X,0,!1,!0);this.W2=new dL([19,3,0]);this.gf.Z(e.E.f,this.Bg,this);this.oG.Z(e.E.f,this.Bg,this);
this.W2.Z(e.E.f,this.Bg,this);this.coords.appendChild(this.gf.m);if(W)this.coords.appendChild(this.W2.m);
this.coords.appendChild(this.oG.m)}am.prototype=new eg;am.prototype.r=function(){this.W2.r();this.gf.r();
this.oG.r()};am.prototype.du=function(r,Q){this.qq=Math.round(r);this.hA.resetTransform();N.Jx(this.T,this.qq,this.qq,this.hA);
this.hA.scale(this.qq/256,this.qq/256);if(this.bL)this.e8()};am.prototype.Bg=function(r){var n=this.a4R(),Q=this.bL[n],W=255/this.H8;
Q.v.Hrzn.v=this.gf.G()*W;Q.v.Vrtc.v=this.oG.G()*W;if(this.a4h)Q.v.Cnty.v=this.W2.G();this.bL.sort(function(b,X){return b.v.Hrzn.v-X.v.Hrzn.v});
this.e8();this.$(new km(e.E.f))};am.prototype.t=function(r,n){var Q=JSON.stringify(r);if(Q==JSON.stringify(this.bL))return;
this.mode=r.length==256?1:0;this.bL=JSON.parse(Q);if(n!=null)this.Tl=this.bL[n];this.e8()};am.prototype.tg=function(r,Q,W){this.wR=r;
this.ao2=Q;this.li=W;this.e8()};am.prototype.G=function(){return JSON.parse(JSON.stringify(this.bL))};
am.prototype.a4R=function(){return this.bL.indexOf(this.Tl)};am.prototype.p9=function(r){var Q=256/this.qq,W=N.ug(r,this.T);
W.x*=Q;W.y*=Q;var b=W.x,X=256-W.y;if(this.WX){var D=b;b=256-X;X=D}this.lO.DX(b,X);if(this.mode==0){var h=0,S=1e9,j;
for(var n=0;n<this.bL.length;n++){var a=this.bL[n].v,K=a.Hrzn.v-b,Y=a.Vrtc.v-X,d=Math.sqrt(K*K+Y*Y);
if(d<S){S=d;h=n}}if(S<15)j=this.bL[h];else{j=E.FB.gt(b,X,!0);this.bL.push(j);this.bL.sort(function(U,I){return U.v.Hrzn.v-I.v.Hrzn.v})}this.Tl=j;
this.ajg=this.bL.slice(0)}N.sY(document.body,this.Qy);N.gJ(document.body,this.t9);this.wm(r)};am.prototype.wm=function(r){var Q=256/this.qq,W=N.ug(r,this.T);
W.x*=Q;W.y*=Q;var b=W.x,X=256-W.y;if(this.WX){var D=b;b=256-X;X=D}if(this.mode==0){var h=this.bL,S=this.Tl,a=this.ajg,K=a.indexOf(S),Y=h.indexOf(S)!=-1,d=a.length-1,j=b;
if(K==0){j=Math.max(0,Math.min(a[1].v.Hrzn.v-1,b))}else if(K==d){j=Math.min(255,Math.max(a[d-1].v.Hrzn.v+1,b))}else{var U=b<0||b>255||X<0||X>255;
if(b<=a[K-1].v.Hrzn.v||b>=a[K+1].v.Hrzn.v)U=!0;if(!U&&!Y)h.splice(K,0,S);if(U&&Y)h.splice(K,1)}if(this.aga&&(K==0||K==a.length-1)){}else S.v.Hrzn.v=Math.round(j);
S.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(X)))}else{b=Math.round(b);X=Math.round(X);b=Math.max(0,Math.min(255,b));
X=Math.max(0,Math.min(255,X));var I=this.lO.x,f=b,g=this.lO.y,H=X;if(b<this.lO.x){f=I;I=b;H=g;g=X}this.bL[b]=X;
if(I!=f)for(var u=I;u<=f;u++)this.bL[u]=Math.round(g+(u-I)*(H-g)/(f-I))}this.lO.DX(b,X);this.e8();this.$(new km(e.E.f))};
am.prototype.gP=function(r){N.qa(document.body,this.Qy);N.xf(document.body,this.t9);this.$(new km(e.E.f))};
am.prototype.e8=function(){var r=this.hA,Q=this.T;r.fillStyle="#ffffff";r.fillRect(0,0,256,256);var W=256/Q.width;
if(this.wR){r.save();r.translate(0,256);r.scale(1,-1);gf.auI(r,this.wR,5700/this.ao2,this.li);r.restore()}r.strokeStyle="#aaaaaa";
r.lineWidth=1*W;r.beginPath();for(var n=1;n<4;n++){var b=(Math.floor(64*n/W)+.5)*W;r.moveTo(0,b);r.lineTo(255,b);
r.moveTo(b,0);r.lineTo(b,255)}r.stroke();if(this.WX){r.save();r.transform(0,1,-1,0,256,0)}if(this.mode==0){var X=this.bL,D=E.FB.yO(X,256);
r.strokeStyle="#000000";r.beginPath();r.moveTo(0,255.5-D[0]);for(var n=0;n<256;n++)r.lineTo(n,255.5-D[n]);
r.stroke();r.lineWidth=2*W;for(var n=0;n<X.length;n++){var h=X[n].v;r.fillStyle=this.Tl==X[n]?"#333":"#fff";
r.beginPath();r.moveTo(h.Hrzn.v,255.5-h.Vrtc.v);r.arc(h.Hrzn.v,255.5-h.Vrtc.v,5*W,0,2*Math.PI);r.stroke();
r.fill()}}else{var D=this.bL;r.strokeStyle="#000000";r.beginPath();r.moveTo(0,255.5-D[0]);for(var n=0;
n<256;n++)r.lineTo(n,255.5-D[n]);r.stroke()}if(this.WX)r.restore();var n=this.a4R();this.coords.className=n==-1?"disabled":"";
if(n==-1)return;var h=this.bL[n].v,S=255/this.H8;this.gf.t(Math.round(h.Hrzn.v/S));this.oG.t(Math.round(h.Vrtc.v/S));
if(h.Cnty)this.W2.t(h.Cnty.v)};function gf(r,Q){eg.call(this);this.m=N.S("span","");this.f5=new fk([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);
this.f5.Z(e.E.f,this.YY,this);this.m.appendChild(this.f5.m);N.Hr(this.m);var W=N.S("div");this.m.appendChild(W);
W.setAttribute("style","background-color: var(--bg-canvas); margin:6px 0;");this.T=N.S("canvas");var b=this.T;
W.appendChild(b);b.width=Math.round(r*N.i());b.height=Math.round(100*N.i());N.lb(b,b.width,b.height);
b.style.display="block";this.hA=b.getContext("2d");this.wR=null;this.BY=0;this.a2F=null;this.aey=[];
this.aC=[];var X=["Mean:","Pixels:"],D=this.m;if(Q)for(var n=0;n<X.length;n++){var h=new aQ(X[n]);this.aey.push(h);
D.appendChild(h.m);var S=new aQ("hi");this.aC.push(S);D.appendChild(S.m);N.Hr(D)}}gf.prototype=new eg;
gf.prototype.r=function(){this.f5.r()};gf.prototype.l9=function(r){this.f5.t(r);this.YY()};gf.prototype.t=function(r,Q){this.wR=r;
this.a2F=Q;this.YY()};gf.prototype.N$=function(r){if(r==this.BY)return;this.BY=r;this.YY()};gf.prototype.YY=function(){if(this.wR==null)return;
var r=this.T,Q=this.hA,W=this.wR,b=this.a2F,X=this.f5.G(),D=6e3/W[4],h="#"+E.Y0(this.BY),S=gf.auI;r.width=r.width;
Q.setTransform(r.width/256,0,0,-r.height/100,0,r.height);Q.globalCompositeOperation="lighter";if(X==0)S(Q,W[0],D/3,h);
else if(X<4)S(Q,W[X],D,h);else{S(Q,W[1],D,"#ff0000");S(Q,W[2],D,"#00ff00");S(Q,W[3],D,"#0000ff")}Q.setTransform(1,0,0,1,0,0);
if(b!=null){if(X==4)X=0;var a=0;for(var n=0;n<256;n++)a+=n*W[X][n];if(X==0)a/=3;this.aC[0].t((a/b).toFixed(1)+"");
this.aC[1].t(b+"")}};gf.auI=function(r,Q,W,b){r.beginPath();r.moveTo(0,0);for(var X=0;X<256;X++)r.lineTo(X,Q[X]*W);
r.lineTo(256,0);r.closePath();r.fillStyle=b;r.fill()};function d_(r,Q){eg.call(this);this.zS={o:0,W:0,k:0};
if(Math.abs(r-256/N.i())<10)r=256/N.i();var W=this.m=N.S("div","flexrow");W.style.position="relative";
var b=this.aqA=N.S("div");W.appendChild(b);this.rh=new cp;this.t1=new cp;this.Bw=this.a5J.bind(this);
this.MO=this.aiD.bind(this);this.T=N.S("canvas","");this.hA=this.T.getContext("2d");this.T.width=this.T.height=256;
this.ays=this.hA.getImageData(0,0,256,256);this.a0y=-1;this.a6B="";N.cI(this.T);N.AM(this.T,this.a4g.bind(this));
b.appendChild(this.T);this.abw=this.ajj.bind(this);this.aoG=this.ajw.bind(this);this.no=N.S("canvas","");
this.Ze=this.no.getContext("2d");this.no.width=20;this.no.height=256;this.acN=this.Ze.getImageData(0,0,20,256);
d_.axM(this.acN.data,20,256);N.cI(this.no);N.AM(this.no,this.a6p.bind(this));W.appendChild(this.no);
this.T.setAttribute("style","width:"+r+"px; height:"+r+"px");this.no.setAttribute("style","width:16px; height:"+r+"px");
this.oq=new dL("Web Colors\u2001");this.oq.Z(e.E.f,this.update,this);this.wb=new dL("CMYK gamut");this.wb.Z(e.E.f,this.update,this);
if(Q){N.Hr(b);b.appendChild(this.oq.m);b.appendChild(this.wb.m)}var X=this.vp=document.createElementNS("http://www.w3.org/2000/svg","svg");
W.appendChild(X)}d_.prototype=new eg;d_.prototype.du=function(r,Q){this.T.style.width=this.aqA.style.width=r-16+"px"};
d_.prototype.t=function(r){if(this.oq.G()){var Q=JSON.parse(JSON.stringify(r));d_.x6(Q);var W=this.G();
if(Q.o==W.o&&Q.W==W.W&&Q.k==W.k)r=this.zS}this.zS=r;this.update()};d_.prototype.G=function(){var r=JSON.parse(JSON.stringify(this.zS));
if(this.oq.G())d_.x6(r);return r};d_.prototype.update=function(){var r=this.zS,Q=E.kd(r.o,r.W,r.k),S=18;
if(Q.UM==0)Q.Am=this.rh.x/255;if(Q.Am==0||Q.UM==0)Q.J9=(255-this.QF(this.t1.y))/255;if(Q.UM!=0)this.rh.x=Q.Am*255;
this.rh.y=(1-Q.UM)*255;this.t1.y=(1-Q.J9)*255;var W=this.ays,b=this.oq.G(),X=this.wb.G(),D=b+","+X;if(Math.abs(Q.J9-this.a0y)>.002||this.a6B!=D){this.anh(W.data,256,256,Q.J9,b,X);
this.a0y=Q.J9;this.a6B=D}var h=this.hA;h.putImageData(W,0,0);W=this.acN;h=this.Ze;h.putImageData(W,0,0);
h.strokeStyle="#ffffff";h.beginPath();h.moveTo(0,this.t1.y);h.lineTo(20,this.t1.y);h.lineWidth=2;h.stroke();
var a=this.rh.y/255,K=parseFloat(this.T.style.width),Y=parseFloat(this.T.style.height),d=this.vp;d.setAttribute("width",S);
d.setAttribute("height",S);var j=Math.round(r.o*255)<<16|Math.round(r.W*255)<<8|Math.round(r.k*255),U="<circle cx=\""+S/2+"\" cy=\""+S/2+"\" r=\""+S/2+"\" fill=\"#"+E.Y0(j)+"\"></circle>";
U+="<circle cx=\""+S/2+"\" cy=\""+S/2+"\" r=\""+(-.5+S/2)+"\" fill=\"none\" stroke=\"rgba(255,255,255,"+(.5-.2*a)+")\" stroke-width=\"1\"></circle>";
U+="<circle cx=\""+S/2+"\" cy=\""+S/2+"\" r=\""+(-1.2+S/2)+"\" fill=\"none\" stroke=\"rgba(0,0,0,0.07)\" stroke-width=\"0.4\"></circle>";
d.innerHTML=U;d.style.pointerEvents="none";d.style.filter="drop-shadow(0px 3px 2px rgba(0,0,0,0.4)";
d.style.position="absolute";d.style.left=K*(this.rh.x/255)-S/2+"px";d.style.top=Y*(this.rh.y/255)-S/2+"px"};
d_.x6=function(r){r.o=~~(.5+r.o*5)*.2;r.W=~~(.5+r.W*5)*.2;r.k=~~(.5+r.k*5)*.2};d_.prototype.anh=function(r,Q,W,b,X,D){var h=1/Q,S=1/W;
for(var a=0;a<W;a++)for(var K=0;K<Q;K++){var Y=E.gB(b,K*h,(W-a-1)*S);if(X)d_.x6(Y);var n=a*Q+K<<2;r[n+0]=~~(Y.o*255);
r[n+1]=~~(Y.W*255);r[n+2]=~~(Y.k*255);r[n+3]=255}if(D){var d=r.slice(0),j=bj.Ah[0],U=bj.Ah[1];ICC.U.applyLUT(U,j,d,d);
for(var n=0;n<r.length;n+=4){var I=r[n]-d[n],f=r[n+1]-d[n+1],g=r[n+2]-d[n+2],H=I*I+f*f+g*g;if(H>300)r[n]=r[n+1]=r[n+2]=200}}};
d_.axM=function(r,Q,W,b,X){if(b==null)b=1;if(X==null)X=0;var D=new Uint32Array(r.buffer);for(var h=0;
h<W;h++){var S=E.gB((1+b*(1-h/W)+X)%1,1,1),a=255<<24|S.k*255<<16|S.W*255<<8|S.o*255;for(var K=0;K<Q;
K++)D[h*Q+K]=a}};d_.prototype.a4g=function(r){N.sY(window,this.Bw);N.gJ(window,this.MO);this.a5J(r);
this.vp.style.transition="transform 150ms cubic-bezier(.4,2.2,.6,.5)";this.vp.style.transform="scale(2.4)"};
d_.prototype.aiD=function(r){N.qa(window,this.Bw);N.xf(window,this.MO);this.vp.style.transition="transform 200ms cubic-bezier(.4,2.2,.6,.5)";
this.vp.style.transform="scale(1)"};d_.prototype.a5J=function(r){var Q=N.ug(r,this.T);Q.x=Q.x*(256/parseFloat(this.T.style.width));
Q.y=Q.y*(256/parseFloat(this.T.style.height));this.rh.DX(this.QF(Q.x),this.QF(Q.y));this.Gv()};d_.prototype.Gv=function(){this.zS=this.a0H();
this.$(new km(e.E.f))};d_.prototype.a0H=function(){var r=E.gB((255-this.QF(this.t1.y))/255,this.aw(this.rh.x/255),this.aw(1-this.rh.y/255));
return{o:r.o,W:r.W,k:r.k}};d_.prototype.a6p=function(r){N.sY(window,this.abw);N.gJ(window,this.aoG);
this.ajj(r)};d_.prototype.ajw=function(r){N.qa(window,this.abw);N.xf(window,this.aoG)};d_.prototype.ajj=function(r){var Q=N.ug(r,this.no);
Q.y=Q.y*(256/parseFloat(this.no.style.height));this.t1.DX(this.QF(Q.x),this.QF(Q.y));this.Gv()};d_.prototype.QF=function(r){return Math.max(0,Math.min(255,r))};
d_.prototype.aw=function(r){return Math.max(0,Math.min(1,r))};function c8(r,Q,W,b){var X=gU.pQ(Q,b);
gU.call(this,r,X,W)}c8.prototype=new gU;function kp(){eg.call(this);this.zb=null;this.su=new jU;this.su.Z(e.E.f,this.abM,this);
this.su.parent=this;this.hT=new fq([12,14,0],1,150,"px",0,!0);this.hT.Z(e.E.f,this.mk,this);this.hT.parent=this;
this.Jy=new fq([16,0],.01,100,"px",2,!0,null,5);this.Jy.Z(e.E.f,this.mk,this);this.Jy.parent=this;this.ru=new dL("Auto");
this.ru.Z(e.E.f,this.mk,this);this.uu=new fq([16,1],-500,5e3,"%",0,!0);this.uu.Z(e.E.f,this.mk,this);
this.uu.parent=this;this.TM=new fq("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.TM.Z(e.E.f,this.mk,this);
this.TM.parent=this;this.NW=new fq("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.NW.Z(e.E.f,this.mk,this);
this.NW.parent=this;this.M9=new fq([16,2],-10,10,"px");this.M9.Z(e.E.f,this.mk,this);this.M9.parent=this;
this.WR=new c_(!0);this.WR.Z(e.E.f,this.k8,this);this.WR.parent=this;this.N7=new c_(!0);this.N7.Z(e.E.f,this.k8,this);
this.N7.parent=this;this.mI=new c_(!0);this.mI.Z(e.E.f,this.k8,this);this.mI.parent=this;this.TE=new c_(!0);
this.TE.Z(e.E.f,this.k8,this);this.TE.parent=this;this.dC=new dL([2,3]);this.dC.Z(e.E.f,this.mk,this);
this.ev=new dL([14,9]);this.ev.Z(e.E.f,this.mk,this);this._x=new dL([12,46]);this._x.Z(e.E.f,this.mk,this);
this.UB=new fG("...",null,null,!0);this.UB.m.style.marginLeft="-8px";N.AM(this.UB.m,this.aqN.bind(this));
this.vT=new eg;var r=this.vT.m=N.S("div","floatcont form"),X=100;this.vT.parent=this;this.lg=new fq([12,41],1,20,"px",0,!0,!0);
this.lg.m.style.marginLeft="16px";this.lg.Z(e.E.f,this.mk,this);this.lg.parent=this.vT;r.appendChild(this.N7.m);
r.appendChild(this.dC.m);N.Hr(this.vT.m);r.appendChild(this.mI.m);r.appendChild(this.ev.m);r.appendChild(this.lg.m);
N.Hr(this.vT.m);r.appendChild(this.TE.m);r.appendChild(this._x.m);this.z2=new fG("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.j1=new fG("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.HB=new fG("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.Ch=new fG("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.u3=new fG("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.C7=new fG("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.EL=new fG("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.u4=new fG("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var Q=[this.z2,this.j1,this.HB,this.Ch,this.u3,this.C7,this.EL,this.u4];
for(var n=0;n<Q.length;n++)Q[n].Z("click",this.as2,this);this.pm=new fG("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.hu=new fG("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.wQ=new fG("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.a75=new fG("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.adX=new fG("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.anZ=new fG("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.ar3=new fG("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.nI=[this.pm,this.hu,this.wQ,this.a75,this.adX,this.anZ,this.ar3];for(var n=0;n<this.nI.length;n++)this.nI[n].Z("click",this.mk,this);
var W=["lind","rind","flind","bind","aind"],b=[];for(var n=0;n<5;n++)b.push("<img src=\""+PIMG["par/"+W[n]]+"\" class=\"autoscale gsicon\" /> ");
this.aX=new fq(b[0],-X,X,"px");this.mh=new fq(b[1],-X,X,"px");this.aJ=new fq(b[2],-X,X,"px");this.k7=new fq(b[3],-X,X,"px");
this.B7=new fq(b[4],-X,X,"px");this.IY=new gU([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);this.MD=new fq(["Auto VAR0",[16,0]],0,500,"%");
this.jA=[this.aX,this.mh,this.aJ,this.k7,this.B7,this.IY,this.MD];for(var n=0;n<this.jA.length;n++){var D=this.jA[n];
D.Z(e.E.f,this.mk,this);D.parent=this}}kp.prototype=new eg;kp.prototype.aqN=function(r){if(N.Z_(this.vT.m))return;
r.stopPropagation();var Q=this.UB.m.getBoundingClientRect(),W=new km(e.E.L,!0);W.data={d:e.c.I2,MY:this.vT,x:Q.left,y:Q.top+Q.height+4};
this.$(W)};kp.prototype.r=function(){this.su.r();this.hT.r();this.Jy.r();this.uu.r();this.M9.r();this.TM.r();
this.NW.r();this.dC.r();this.ev.r();this._x.r();this.lg.r();for(var n=0;n<this.jA.length;n++)this.jA[n].r()};
kp.prototype.t=function(r,Q,W){this.vy=JSON.parse(JSON.stringify(r));var b=this.vy,X=b.jr,D=b.GG;this.z2.t(X.FauxBold!=null?X.FauxBold:!1);
this.j1.t(X.FauxItalic!=null?X.FauxItalic:!1);this.HB.t(X.FontCaps==2);this.Ch.t(X.FontCaps==1);this.C7.t(X.FontBaseline==1);
this.u3.t(X.FontBaseline==2);this.EL.t(X.Underline);this.u4.t(X.Strikethrough);this.su.t(X.Font==null?null:b.Nk[X.Font].Name,Q,W);
var h=X.FontSize==null?20:X.FontSize;this.hT.t(h);var S=X.Tracking;this.uu.t(S==null?0:S);this.lg.t(X._LineWidth!=null?X._LineWidth:1);
this.Jy.t(X.Leading!=null&&X.Leading!=0?X.Leading:h);this.ru.t(X.AutoLeading);this.TM.t((X.VerticalScale!=null?X.VerticalScale:0)*100);
this.NW.t((X.HorizontalScale!=null?X.HorizontalScale:0)*100);this.M9.t(X.BaselineShift!=null?X.BaselineShift:0);
this.dC.t(X.FillFlag!=null?X.FillFlag:!1);this.ev.t(X.StrokeFlag!=null?X.StrokeFlag:!1);this._x.t(X._FillBackgroundFlag!=null?X._FillBackgroundFlag:!1);
this.I5(X.FillColor,this.WR);this.I5(X.FillColor,this.N7);this.I5(X.StrokeColor,this.mI);this.I5(X._FillBackgroundColor,this.TE);
var a=D._Direction!=null?D._Direction:0,K=aH.r3(D);for(var n=0;n<this.nI.length;n++)this.nI[n].t(K==n);
this.IY.t(a);this.MD.t((D.AutoLeading!=null?D.AutoLeading:1.2)*100);this.aX.t(D.StartIndent!=null?D.StartIndent:0);
this.mh.t(D.EndIndent!=null?D.EndIndent:0);this.aJ.t(D.FirstLineIndent!=null?D.FirstLineIndent:0);this.k7.t(D.SpaceBefore!=null?D.SpaceBefore:0);
this.B7.t(D.SpaceAfter!=null?D.SpaceAfter:0)};kp.prototype.I5=function(r,Q){if(r){var W=aH.vf(r);Q.N$(Math.round(W.o)<<16|Math.round(W.W)<<8|Math.round(W.k))}else Q.N$(0)};
kp.prototype.Pp=function(){var r=new km(e.E.L,!0);r.data={d:e.c.bJ,Lb:d4.ui,vy:this.vy};this.$(r);var r=new km(e.E.s,!0);
r.b=m.st;r.data={d:"updateStyles"};this.$(r)};kp.prototype.as2=function(r){var Q=this.vy.jr,W=r.target,b=!W.nJ();
if(W==this.z2)Q.FauxBold=b;if(W==this.j1)Q.FauxItalic=b;if(W==this.HB)Q.FontCaps=b?2:0;if(W==this.Ch)Q.FontCaps=b?1:0;
if(W==this.C7)Q.FontBaseline=b?1:0;if(W==this.u3)Q.FontBaseline=b?2:0;if(W==this.EL)Q.Underline=b;if(W==this.u4)Q.Strikethrough=b;
this.Pp()};kp.prototype.mk=function(r){var Q=this.vy.jr,W=this.vy.GG,b=r.target;if(b==this.uu){var X=this.uu.G();
Q.Tracking=X}if(b==this.Jy){Q.AutoLeading=!1;Q.Leading=this.Jy.G()}if(b==this.ru){Q.AutoLeading=this.ru.G()}if(b==this.lg)Q._LineWidth=b.G();
if(b==this.hT)Q.FontSize=b.G();if(b==this.TM)Q.VerticalScale=b.G()/100;if(b==this.NW)Q.HorizontalScale=b.G()/100;
if(b==this.M9)Q.BaselineShift=b.G();if(b==this.dC)Q.FillFlag=b.G();if(b==this.ev)Q.StrokeFlag=b.G();
if(b==this._x)Q._FillBackgroundFlag=b.G();if(this.nI.indexOf(b)!=-1){W.Justification=aH.r3(W,this.nI.indexOf(b))}if(b==this.aX)W.StartIndent=b.G();
if(b==this.mh)W.EndIndent=b.G();if(b==this.aJ)W.FirstLineIndent=b.G();if(b==this.k7)W.SpaceBefore=b.G();
if(b==this.B7)W.SpaceAfter=b.G();if(b==this.IY)W._Direction=b.G();if(b==this.MD)W.AutoLeading=b.G()/100;
this.Pp()};kp.prototype.abM=function(r){var Q=this.vy,W=this.su.G(),b=-1;for(var n=0;n<Q.Nk.length;n++)if(Q.Nk[n].Name==W)b=n;
if(b==-1){b=Q.Nk.length;var X=JSON.parse(JSON.stringify(Q.Nk[0]));X.Name=W;Q.Nk.splice(b,0,X)}Q.jr.Font=b;
this.Pp()};kp.prototype.k8=function(r){var Q=r.target,W=Q.a9$(),b={Type:1,Values:[1,(W>>16&255)/255,(W>>8&255)/255,(W>>0&255)/255]};
for(var n=0;n<4;n++)b.Values[n]=Math.round(b.Values[n]*1e3)/1e3;var X=Q==this.WR||Q==this.N7?0:Q==this.mI?1:2;
this.vy.jr[["FillColor","StrokeColor","_FillBackgroundColor"][X]]=b;this.Pp()};function jU(){eg.call(this);
this.m=N.S("span","fontinput");this.ep=null;this.kk=null;this.MM=null;this.AE="";this.yp={};this.PH=[];
this.Cy={};this.alJ={};this.pb=!1;this.QX=N.S("button","fitem");this.QX.setAttribute("style","width:9em;");
this.QX.textContent="Family Name \u25BC";this.m.appendChild(this.QX);N.AM(this.QX,this.avA.bind(this));
this.TB=new eg;this.TB.parent=this;this.TB.m=N.S("div","floatcont");this.tw=new cJ(6.8);this.TB.m.appendChild(this.tw.adL());
this.tw.parent=this.TB;this.tw.Z(e.E.f,this.i7,this);var r=N.S("div","form");this.TB.m.appendChild(r);
this.M$=new fG(N.lI("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");this.M$.Z("click",this.aqC,this);
r.appendChild(this.M$.m);this.LD=new eM([12,86],null,8.4);this.LD.Z("input",this.dq,this);r.appendChild(this.LD.m);
var Q=this.a2W=new fG([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);Q.Z("click",this.abE,this);
Q.m.style.marginLeft="1.5em";Q.m.style.marginRight="0";r.appendChild(Q.m);this.I1=N.S("span","fitem imageset scrollable");
this.I1.style.height="30em";this.TB.m.appendChild(this.I1);this.I1.addEventListener("scroll",this.anr.bind(this),!1);
this.zI=N.S("button","fitem");this.zI.setAttribute("style","width:7em;");this.zI.textContent="SubFamily Name \u25BC";
this.m.appendChild(this.zI);N.AM(this.zI,this.avA.bind(this));this.gN=new eg;this.gN.parent=this;this.gN.m=N.S("div","floatcont");
this.b1=N.S("span","fitem imageset scrollable marged");this.gN.m.appendChild(this.b1);this.aeL=this.a1V.bind(this);
this.aoY=this.axN.bind(this)}jU.prototype=new eg;jU.prototype.anr=function(r){var Q=this.I1.scrollTop,W=this.PH,b=Math.floor(Q/27),X=Math.min(b+20,W.length);
for(var n=b;n<X;n++)this.anf(W[n])};jU.prototype.abE=function(){var r=new km(e.E.L,!0);r.data={d:e.c.VX,aeq:".otf,.ttf,.ttc"};
this.$(r)};jU.prototype.r=function(){this.tw.r();this.a2W.r();this.M$.NM(N.lI("tools/cshape",null,"autoscale"))};
jU.prototype.aqC=function(r){this.M$.t(!this.M$.nJ());this.i7()};jU.prototype.dq=function(r){this.AE=this.LD.G().toLowerCase();
this.i7()};jU.prototype.avA=function(r){N.pR(r);var Q=r.currentTarget,W=Q.getBoundingClientRect(),b=Q==this.QX,X=b?this.TB:this.gN;
if(N.Z_(X.m)){this.ahB(X);return}if(!b&&this.ep.Jf()[this.MM]==null)return;var D=new km(e.E.L,!0);D.data={d:e.c.I2,MY:X,x:W.left,y:W.top+W.height};
this.$(D);if(b){this.i7(null,!0)}};jU.prototype.a1V=function(r){var Q=r.currentTarget.firstChild.nextSibling.textContent;
if(r.target.tagName.toLowerCase()=="button"){var W=this.kk.slice(0),b=W.indexOf(Q);if(b==-1){W=W.slice(Math.max(0,W.length-29));
W.push(Q)}else W.splice(b,1);var X=new km(e.E.L,!0);X.data={d:e.c.bJ,Lb:d4.fm,g2:W};this.$(X);this.pb=!0;
this.i7()}else{this.a2p(Q,null)}};jU.prototype.axN=function(r){this.a2p(null,r.currentTarget.firstChild.textContent)};
jU.prototype.a2p=function(r,Q){var W=r==null?this.gN:this.TB,b=this.ep;if(r==null)r=b.Jf()[this.MM][0];
else{var X=b.Ne(r),D=b.Jf()[this.MM];Q=aG.Dv(X,D?D[1]:"regular")}var h=b.Hn(r,Q)[2];this.t(h,b);this.$(new km(e.E.f,!1));
this.ahB(W);this.i7()};jU.prototype.ahB=function(r){var Q=new km(e.E.L,!0);Q.data={d:e.c.mm,MY:r};this.$(Q)};
jU.prototype.G=function(){return this.MM};jU.prototype.t=function(r,Q,W){var b=this.ep;if(r!=null)this.MM=r;
else r=this.MM;this.ep=Q;this.kk=W;if(r!=null){var X=Q.Jf()[r],D,h;if(X==null){D="- "+r;h="-------"}else{D=X[0];
h=X[1];var S=Q.Ne(D);S.sort(aG.awB);this.b1.textContent="";for(var n=0;n<S.length;n++){var X=Q.Hn(D,S[n]);
if(!this.tw.kE(X))continue;var a=this.afn(X,!1);this.b1.appendChild(a)}}this.QX.textContent=D.substring(0,15)+" \u25BC";
this.QX.setAttribute("title",D+", \""+r+"\"");this.zI.textContent=h.substring(0,10)+" \u25BC";this.zI.setAttribute("title",h)}};
jU.prototype.i7=function(r,Q){var W=this.ep.Jf()[this.MM],b=this.kk,X=this.ep.nc();this.PH=[];for(var D in X){var h=b.indexOf(D)!=-1,S=this.ep.Ne(D),a=!1;
for(var n=0;n<S.length;n++){var K=this.ep.Hn(D,S[n]),Y=!0;if(this.AE.length>0&&K[0].toLowerCase().indexOf(this.AE)==-1)Y=!1;
else if(!this.tw.kE(K))Y=!1;else if(this.M$.nJ()&&!h)Y=!1;if(Y)a=!0}var d=this.yp[D];if(d==null){var j=aG.Dv(X[D],"regular"),U=this.ep.Hn(D,j),d=this.afn(U,!0);
this.yp[D]=d;this.I1.appendChild(d);this.Cy[D]="[true,false,false]"}if(a)this.PH.push(D);var I=W!=null&&W[0]==D;
this.alJ[D]="["+a+","+I+","+h+"]";if(!Q)this.anf(D)}if(W&&!this.pb){var f=this.yp[W[0]];this.I1.scrollTop=f.offsetTop-210}this.anr();
this.pb=!1};jU.prototype.anf=function(r){var Q=this.yp[r];if(Q.firstChild==null){var W=this.ep.nc(),b=aG.Dv(W[r],"regular"),X=this.ep.Hn(r,b);
this.as4(Q,X,!0)}var D=this.Cy[r],h=this.alJ[r];if(D==h)return;var S=JSON.parse(D),a=JSON.parse(h);if(S[0]!=a[0]||S[1]!=a[1]){var K=a[0]?"":"display:none; ";
if(a[1])K+="background-color:rgba(0,0,0,0.13);";Q.setAttribute("style",K)}if(S[2]!=a[2])Q.firstChild.setAttribute("style","opacity: "+(a[2]?"1":"0.2"));
this.Cy[r]=h};jU.prototype.afn=function(r,Q){var W=N.S("div","fontitem");if(!Q)this.as4(W,r,Q);return W};
jU.prototype.as4=function(r,Q,W){var b=Q[W?0:1],X=W?this.aeL:this.aoY,a="";r.addEventListener("click",X,!1);
if(W)r.appendChild(N.S("button","star"));var D=N.S("span","label");D.setAttribute("title",b);D.textContent=b;
r.appendChild(D);var h=N.i(),S=1/h,K=aG.sN*S,Y=aG.wA*S;if(1<h&&h<1.5)a="width:"+K+"px; height:"+Y+"px;";
var d=N.S("span","thumb gsicon");if(Q.agj){a+="background: url("+Q.agj+");";if(1<h&&h<1.5)a+="background-size: "+K+"px "+Y+"px;"}else{var j=Math.ceil(FNTS.list.length/aG.cols),U=Math.floor(Q.C_/j),I=Q.C_%j,f=U*aG.sN,g=I*aG.wA;
if(1<h&&h<1.5){a+="background-size: "+aG.cols*K+"px "+j*Y+"px;";f*=S;g*=S}a+="background-position:-"+f+"px -"+g+"px;"}d.setAttribute("style",a);
r.appendChild(d)};function cJ(r){eg.call(this);this.m=N.S("button","fitem bbtn");this.m.addEventListener("click",this.a9v.bind(this),!1);
this.vT=new eg;this.vT.m=N.S("div","floatcont");this.vT.parent=this;this.kO=N.S("div","flexrow");this.vT.m.appendChild(this.kO);
this.MB=[];this.K8=[];var Q=this.kO,W=N.S("div",""),b=N.S("div","");Q.appendChild(W);Q.appendChild(b);
this.bD=[];for(var n=0;n<FNTS.cats.length;n++)this.bD.push({name:FNTS.cats[n],index:n,Pe:0});this.nZ=new dL([7,0]);
this.nZ.t(!0);this.nZ.Z(e.E.f,this.atI,this);W.appendChild(this.nZ.m);this.w1=N.S("div","vlist marged scrollable");
this.w1.setAttribute("style","width:10.3em; height:"+r+"em; ");W.appendChild(this.w1);this.O6=[];for(var n=0;
n<this.bD.length;n++){var X=this.bD[n],D=new dL(X.name);this.O6.push(D);D.Z(e.E.f,this.a4M,this);D.t(!0);
this.w1.appendChild(D.m);this.MB.push(1)}this.amg=new dL([7,0]);this.amg.Z(e.E.f,this.aln,this);this.ho=N.S("div","vlist marged scrollable");
this.ho.setAttribute("style","width:8.6em; height:"+(r+1.5)+"em; ");b.appendChild(this.ho);this.Wk=[];
for(var n=0;n<FNTS.subsetNames.length;n++){var D=new dL(FNTS.subsetNames[n]);this.Wk.push(D);D.Z(e.E.f,this.aa4,this);
D.t(!1);this.ho.appendChild(D.m);this.K8.push(D.G()?1:0)}}cJ.prototype=new eg;cJ.prototype.ajf=function(r){var Q=this.Wk;
for(var n=0;n<Q.length;n++){var W=(r>>>n&1)==1;this.K8[n]=W;Q[n].t(W)}};cJ.prototype.adL=function(){return this.kO};
cJ.prototype.r=function(){this.m.textContent=aA.get([25,1,0])+" \u25BC";this.nZ.r();this.amg.r()};cJ.prototype.a9v=function(r){var Q=this.m.getBoundingClientRect(),W=new km(e.E.L,!0);
W.data={d:e.c.I2,MY:this.vT,x:Q.left,y:Q.top+Q.height,de:!1};this.$(W)};cJ.prototype.kE=function(r){if(this.MB[r[4]]==0)return!1;
else for(var Q=0;Q<this.K8.length;Q++)if(this.K8[Q]==1&&(r[3]>>>Q&1)==0)return!1;return!0};cJ.prototype.atI=function(r){var Q=r.target.G(),W=this.O6,b=this.MB;
for(var n=0;n<W.length;n++){W[n].t(Q);b[n]=Q?1:0}this.$(new km(e.E.f,!1))};cJ.prototype.aln=function(r){var Q=r.target.G(),W=this.Wk,b=this.K8;
for(var n=0;n<W.length;n++){W[n].t(Q);b[n]=Q?1:0}this.$(new km(e.E.f,!1))};cJ.prototype.a4M=function(r){var n=this.O6.indexOf(r.target),Q=this.bD[n].index;
this.MB[Q]=1-this.MB[Q];this.$(new km(e.E.f,!1));this.aj2(this.O6,this.nZ)};cJ.prototype.aa4=function(r){var n=this.Wk.indexOf(r.target);
this.K8[n]=1-this.K8[n];this.$(new km(e.E.f,!1))};cJ.prototype.aj2=function(r,Q){var W=!0;for(var n=0;
n<r.length;n++)W=W&&r[n].G();Q.t(W)};function h7(r,Q,W){hu.call(this,Q,!0,"gradientbutton",18,10,d4.GY);
this.V8=-1;this.tB=-1;this.al0=null;this.a2r=r;this.QG=W}h7.prototype=new hu;h7.prototype.R1=function(r){var Q=this.Pm;
this.t(Q[this.fj.G()]);this.$(new km(e.E.f))};h7.prototype.sl=function(r){var Q=new km(e.E.L,!0);Q.data={d:e.c.Re,wv:"gradienteditor",M:this.oc,ag:this.a80.bind(this),OJ:this.QG};
this.$(Q)};h7.prototype.a80=function(r){this.t(r);this.$(new km(e.E.f))};h7.prototype._N=function(){if(!this._f)return;
var r=Math.floor(36*N.i()),Q=Math.floor(36*N.i()),W=[],b=[],X=this.Pm,D=Date.now();for(var n=0;n<X.length;
n++){var h=X[n];b.push(h.Nm?h.Nm.v.split("=").pop():"");var S=m.N3.Rs(h,r,Q,Math.PI/4,this.V8,this.tB);
W.push(S)}this.fj.pH(W,b,r,Q);this._f=!1};h7.prototype.iP=function(r,Q){this.auV(this.oc,r,Q)};h7.prototype.t=function(r){this.auV(r,this.V8,this.tB)};
h7.prototype.auV=function(r,Q,W){this.V8=Q;this.tB=W;if(r==null)return;var b=JSON.stringify(r),X=b+Q+","+W;
if(X==this.al0)return;this.al0=X;this.oc=JSON.parse(b);var D=Math.floor(80*N.i()),h=Math.floor(16*N.i()),S=m.N3.Rs(this.oc,D,h,0,this.V8,this.tB);
this.jN.setAttribute("src",S);N.lb(this.jN,D,h)};h7.prototype.G=function(){var r;if(this.a2r)r=m.N3.aqK(this.oc,this.V8,this.tB);
else r=JSON.parse(JSON.stringify(this.oc));return r};function hK(r){hu.call(this,r,!1,"swatchbutton",16,8.75,d4.$m)}hK.prototype=new hu;
hK.prototype.R1=function(r){this.t(this.Pm[r.target.G()]);this.$(new km(e.E.f))};hK.prototype._N=function(){if(!this._f)return;
var r=Date.now(),Q=Math.floor(10*N.i()),W=Math.floor(10*N.i()),b=[],X=[],D=this.Pm;for(var n=0;n<D.length;
n++){X.push(D[n].VZ?D[n].VZ.split("=").pop():"");b.push(hK.Rs(D[n],Q,W))}this.fj.pH(b,X,Q,W);this._f=!1};
hK.prototype.t=function(r){this.oc=JSON.parse(JSON.stringify(r));this.q5()};hK.prototype.q5=function(){var r=Math.floor(24*N.i()),Q=Math.floor(20*N.i()),W=hK.Rs(this.oc,r,Q);
this.jN.setAttribute("src",W);N.lb(this.jN,r,Q)};hK.prototype.G=function(){return JSON.parse(JSON.stringify(this.oc))};
hK.wH={};hK.Rs=function(r,Q,W){var b=hK.hA,X=hK.wH,D=E.Y0(r.o<<16|r.W<<8|r.k);if(X[D])return X[D];if(b==null){var h=N.S("canvas");
b=hK.hA=h.getContext("2d")}var h=b.canvas;h.width=Q;h.height=W;b.fillStyle="#"+D;b.fillRect(0,0,Q,W);
var S=X[D]=h.toDataURL();return S};function bI(r,Q,W){eg.call(this);this.m=N.S(W?"div":"span");var b=this.pW=N.S("input");
this.pW.setAttribute("type","file");if(Q)b.setAttribute("multiple","");this.pW.addEventListener("change",this.adx.bind(this),!1);
this.au5=this.anP.bind(this);this.Pt={};this.gL=0;this.zP=r;var X=this.a5V=new fG(aA.get(r)+" (0)",null,null,!0);
this.m.appendChild(X.m);X.addEventListener("click",function(D){b.click()});if(W){this.G2=N.S("div","scrollable");
this.G2.setAttribute("style","height:120px; width:100%; line-height:1.5em;");this.m.appendChild(this.G2);
this.YY()}}bI.prototype=new eg;bI.prototype.t=function(r){};bI.prototype.G=function(r){return this.Pt};
bI.prototype.adx=function(r){var Q=r.target.files;this.gL=Q.length;this.Pt={};for(var n=0;n<Q.length;
n++){var W=Q[n],b=new FileReader;b.onload=this.au5;b.JK=W.name;b.readAsArrayBuffer(W)}this.a5V.NM(aA.get(this.zP)+" ("+Q.length+")")};
bI.prototype.anP=function(r){var Q=this.Pt[r.target.JK]=new Uint8Array(r.target.result);this.gL--;if(this.gL==0){if(this.G2)this.YY();
this.$(new km(e.E.f))}};bI.prototype.YY=function(){var r=this.G2;N.WC(r);for(var Q in this.Pt){var W=N.S("div");
W.textContent=Q;r.appendChild(W)}};function i8(r,Q,W,b,X){if(r==null)r=!1;if(Q==null)Q=!1;if(W==null)W=!1;
eg.call(this);this.VV=new cp;this.D8=new cp;this.c9=72;this.rx=72;this.rk=!0;this.G8=!1;this.m=N.S("span");
this.df=new fq([12,41],0,0,null,0,!1,!0);this.m.appendChild(this.df.m);this.df.Z(e.E.f,this.ci,this);
var D=["px","%"];if(r)D=D.concat(["mm","in"]);if(X){D=[[12,76,2],[12,76,6]];if(r)D=D.concat([[12,76,5],[12,76,3]])}this.Mc=new fk(null,D);
this.m.appendChild(this.Mc.m);N.Hr(this.m);this.Mc.Z(e.E.f,this.ci,this);this.dR=new fq([12,42],0,0,null,0,!1,!0);
this.m.appendChild(this.dR.m);this.dR.Z(e.E.f,this.ci,this);var h=new fG("\u21F5",!1,null,!0);h.Z("click",this.aaR,this);
this.qV=new fG("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);this.qV.Z("click",this.ci,this);
this.SK=new aQ("");this.SK.m.style.margin="0";this.SK.m.style.padding="0";if(Q){this.m.appendChild(this.qV.m);
this.m.appendChild(this.SK.m);this.qV.V9()}else this.m.appendChild(h.m);this.d0=new fq("DPI",0,0,null,3,!1,!0,4);
this.qF=new fk(null,[["VAR0 / Inch",[12,76,2]],["VAR0 / Cm",[12,76,2]]]);if(r&&b==null){N.Hr(this.m);
this.m.appendChild(this.d0.m);this.m.appendChild(this.qF.m)}this.qF.Z(e.E.f,this.ci,this);this.d0.Z(e.E.f,this.ci,this);
this.vw=new dL([12,23,1]);this.vw.Z(e.E.f,this.ci,this);if(W){N.Hr(this.m);this.m.appendChild(this.vw.m)}N.Hr(this.m)}i8.prototype=new eg;
i8.prototype.J2=function(){this.df.J2()};i8.prototype.a4C=function(r,Q){this.rk=r;if(Q!=null)this.G8=Q;
if(!this.rk&&!this.G8&&this.Mc.G()==0){this.Mc.t(3);this.Qk()}};i8.prototype.a5Z=function(r){this.qV.t(r)};
i8.prototype.r=function(){this.df.r();this.dR.r();this.d0.r();this.qF.r();this.qV.r();this.vw.r();this.Mc.r()};
i8.prototype.aaR=function(r){var Q=this.D8.x;this.D8.x=this.D8.y;this.D8.y=Q;this.Qk();this.$(new km(e.E.f,!1))};
i8.prototype.ci=function(r){if(r.target==this.Mc&&!this.rk&&!this.G8&&this.Mc.G()==0)this.Mc.t(3);if(r.target==this.Mc||r.target==this.vw){this.Qk();
return}if(r.target==this.qV)r.target.t(!r.target.G());var Q=this.VV,W=parseFloat(this.df.G());if(isNaN(W))W=1;
var b=parseFloat(this.dR.G());if(isNaN(b))b=1;var X=this.d0.G()*[1,2.54][this.qF.G()],D=this.Mc.G();
if(this.rk){var h=this.rx;if(D==1){W=this.VV.x*(W/100);b=this.VV.y*(b/100)}var S=[1,1,25.4/h,1/h][D];
W/=S;b/=S;if(this.vw.G()){W+=this.VV.x;b+=this.VV.y}if(r.target==this.d0){var a=X;if(!this.G8){var K=a/h;
W*=K;b*=K}h=a}if(this.qV.G()){if(r.target==this.df)b=W*(Q.y/Q.x);else W=b*(Q.x/Q.y)}W=Math.max(Math.abs(W),1);
b=Math.max(Math.abs(b),1)}else{var h=this.c9;if(r.target==this.d0)h=X;else{if(this.qV.G()){if(r.target==this.df)b=W*(Q.y/Q.x);
else W=b*(Q.x/Q.y)}var S=[1,1,25.4/h,1/h][D],Y=W/(D==1?100:Q.x*S);h=h/Y}W=Q.x;b=Q.y}this.D8=new cp(Math.round(W),Math.round(b));
this.rx=h;this.Qk();this.$(new km(e.E.f,!1))};i8.prototype.asQ=function(n){this.Mc.t(n);this.Qk()};i8.prototype.t=function(r,Q,W){if(W!=!0)this.VV=r.clone();
this.D8=r.clone();if(Q!=null){this.c9=Q;this.rx=Q}this.Qk()};i8.prototype.Qk=function(){var r=this.D8.x,Q=this.D8.y,W=this.rx,b=(r/Q).toFixed(3);
while(b.charAt(b.length-1)=="0")b=b.substring(0,b.length-1);if(b.charAt(b.length-1)==".")b=b.substring(0,b.length-1);
var X="  "+b+" : 1",D=function(Y,d){while(d!=0){var j=d;d=Y%d;Y=j}return Y},h=D(r,Q);if(Math.min(r,Q)/h<10)X="  "+Math.round(r/h)+" : "+Math.round(Q/h);
this.SK.t(X);if(this.vw.G()){r-=this.VV.x;Q-=this.VV.y}var S=this.Mc.G();if(S==1){if(this.rk){r=100*r/this.VV.x;
Q=100*Q/this.VV.y}else{r=Q=100*this.c9/this.rx}}else{r=Math.round(r);Q=Math.round(Q)}var a=[1,1,25.4/W,1/W][S];
r*=a;Q*=a;var K=S==1||S==3?2:0;this.df.zp(K);this.dR.zp(K);this.df.t(r);this.dR.t(Q);this.d0.t(W*[1,1/2.54][this.qF.G()])};
i8.prototype.G=function(){return this.D8.clone()};i8.prototype.Cz=function(){return this.rx};function gN(r,Q,W){eg.call(this);
var b=r==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];this.V4=r;this.akc=Q;this.J0=1;this.Eo=[1,1,0];
var X=this.m=N.S("div","numlist"),D=this.tc=[];for(var n=0;n<4;n++){var h=new fq(b[n],0,0,null,2,!1,!0,4,null,W&&(n==0||n==2));
h.Z(e.E.f,this.ci,this);X.appendChild(h.m);D[n]=h;if(n==1||n==3)N.Hr(X)}D[4]=new dL(r==0?[12,51]:[12,91,2]);
D[4].t(!0);X.appendChild(D[4].m)}gN.prototype=new eg;gN.prototype.r=function(){var r=this.tc;for(var n=0;
n<5;n++)r[n].r();if(this.V4==0)N.z4(r[0],r[2])};gN.prototype.t=function(r,Q,W){if(Q)this.Eo=Q;Q=this.Eo;
var b=W?r:this.V4==0?[r[2],r[0],r[3],r[1]]:[r[0],r[1],r[3],r[2]];this.J0=b[0]/b[2];for(var n=0;n<4;n++){var X=this.tc[n];
X.zp(Q[2]==0&&this.akc?0:2);X.t(E.iZ.axC(b[n],Q[0],Q[1],Q[2]))}};gN.prototype.G=function(r){var Q=[],W=this.Eo;
for(var n=0;n<4;n++){var b=E.iZ.QO(this.tc[n].G(),W[0],W[1],W[2]);Q[n]=this.akc?Math.round(b):b}return r?Q:this.V4==0?[Q[1],Q[3],Q[0],Q[2]]:[Q[0],Q[1],Q[3],Q[2]]};
gN.prototype.ci=function(r){var Q=this.V4,W=this.tc.indexOf(r.currentTarget),b=this.G(!0),X=this.tc[4].G();
if(Q==0){b[0]=Math.max(1,b[0]);b[2]=Math.max(1,b[2]);if(X&&W==0)b[2]=b[0]/this.J0;if(X&&W==2)b[0]=b[2]*this.J0}if(Q==1){b[W]=Math.max(0,b[W]);
if(X)for(var n=0;n<4;n++)b[n]=b[W]}this.t(b,null,!0);this.$(new km(e.E.f,!1))};function dx(){eg.call(this);
this.C5=0;this.aC=[0,0,1,1,100,100];this.m=N.S("span","fitem");this.tF=new fk(null,[[12,89,0],[12,89,1],[12,89,2]]);
this.m.appendChild(this.tF.m);this.tF.Z(e.E.f,this.ci,this);this.df=new fq("W",0,0,null,0,!1,!0);this.m.appendChild(this.df.m);
this.df.Z(e.E.f,this.ci,this);this.dR=new fq("H",0,0,null,0,!1,!0);this.m.appendChild(this.dR.m);this.dR.Z(e.E.f,this.ci,this);
this.t({HP:0,x:0,y:0})}dx.prototype=new eg;dx.prototype.r=function(){N.z4(this.df,this.dR);this.tF.r()};
dx.prototype.ci=function(r){if(r.target==this.tF){var Q=this.G(),W=this.aC;W[this.C5*2]=Q.x;W[this.C5*2+1]=Q.y;
this.C5=Q.HP;this.t({HP:Q.HP,x:W[Q.HP*2],y:W[Q.HP*2+1]})}if(this.df.G()<1)this.df.t(1);if(this.dR.G()<1)this.dR.t(1);
this.$(new km(e.E.f,!1))};dx.prototype.t=function(r){this.tF.t(r.HP);this.df.t(r.x);this.dR.t(r.y);if(r.HP==0){this.df.si();
this.dR.si()}else{this.df.S8();this.dR.S8()}};dx.prototype.G=function(){return{HP:this.tF.G(),x:this.df.G(),y:this.dR.G()}};
function eA(r){eg.call(this);this.m=N.S("span","");this.afo=r;this.$j=new kh("Off X",-100,100,r?"%":"px",0,!1);
this.l7=new kh("Off Y",-100,100,r?"%":"px",0,!1);this.$j.Z(e.E.f,this.ci,this);this.l7.Z(e.E.f,this.ci,this);
this.m.appendChild(this.$j.m);this.m.appendChild(this.l7.m)}eA.prototype=new eg;eA.prototype.r=function(){this.$j.r();
this.l7.r()};eA.prototype.ci=function(r){this.$(new km(e.E.f,!1))};eA.prototype.ac9=function(r){this.$j.t(r.x);
this.l7.t(r.y)};eA.prototype.agQ=function(){return new cp(this.$j.G(),this.l7.G())};eA.prototype.t=function(r,Q){var W=r.Hrzn.v,b=r.Vrtc.v;
if(this.afo){W=W.val;b=b.val}this.$j.t(W);this.l7.t(b);if(Q==!0)this.ci()};eA.prototype.G=function(){var r=this.$j.G(),Q=this.l7.G();
if(this.afo)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:r}},Vrtc:{t:"UntF",v:{type:"#Prc",val:Q}}};
else return{classID:"Pnt",Hrzn:{v:r,t:"doub"},Vrtc:{v:Q,t:"doub"}}};function fL(){eg.call(this);this.m=N.S("span","fitem strokebutton");
this.lh=[[null,null,null,""],[null,0,null,"4 2"],[1,1,null,"0 2"]];this.PB=JSON.parse(JSON.stringify(iq.pN.default));
this.f3=N.S("button");this.m.appendChild(this.f3);N.AM(this.m,this.fd.bind(this));var r=N.S("canvas","gsicon");
this.hA=r.getContext("2d");this.f3.appendChild(r);var Q=N.S("span");Q.textContent=" \u25BC";this.f3.appendChild(Q);
this.vT=new eg;this.vT.parent=this;this.vT.m=N.S("div","floatcont form");var W=this.vT.m;W.setAttribute("style","width: 14em;");
this.yp=[new fk([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new gU([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new gU([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new eM([19,9,2])];
for(var n=0;n<this.yp.length;n++){var b=this.yp[n];W.appendChild(b.m);var X=n<4?e.E.f:"click";b.Z(X,this.ci,this)}N.Hr(W);
this.ol=[];var D=this.TJ.bind(this);this.PB.strokeStyleLineWidth.v.val=3;for(var n=0;n<this.lh.length;
n++){var h=N.S("button","fitem");this.ol.push(h);W.appendChild(h);h.addEventListener("click",D,!1);var r=N.S("canvas","gsicon"),S=r.getContext("2d");
h.appendChild(r);this.a2i(S,40,20,this.lh[n])}this.PB.strokeStyleLineWidth.v.val=1}fL.prototype=new eg;
fL.prototype.fd=function(r){if(N.Z_(this.vT.m))return;r.stopPropagation();var Q=this.f3.getBoundingClientRect(),W=new km(e.E.L,!0);
W.data={d:e.c.I2,MY:this.vT,x:Q.left,y:Q.top+Q.height+4};this.$(W)};fL.prototype.ci=function(r){var Q=this.yp,W=Q.indexOf(r.target),b=[];
for(var n=0;n<4;n++)b.push(Q[n].G());this.PB=this.aw4(b);this.$(new km(e.E.f,!1))};fL.prototype.TJ=function(r){var Q=this.ol.indexOf(r.currentTarget);
this.t(this.aw4(this.lh[Q]));this.$(new km(e.E.f,!1))};fL.prototype.aw4=function(r){var Q=JSON.parse(JSON.stringify(this.PB)),W=r[0],b=r[1],X=r[2],D=r[3];
if(W!=null)Q.strokeStyleLineAlignment.v.strokeStyleLineAlignment=iq.pN.Ba[W];if(b!=null)Q.strokeStyleLineCapType.v.strokeStyleLineCapType=iq.pN.Nj[b];
if(X!=null)Q.strokeStyleLineJoinType.v.strokeStyleLineJoinType=iq.pN.join[X];var h=Q.strokeStyleLineDashSet.v=[];
D=D.split(" ");while((D.length&1)!=0)D.pop();for(var n=0;n<D.length;n++)h.push({t:"UntF",v:{type:"#Nne",val:parseInt(D[n])}});
return Q};fL.prototype.r=function(){for(var n=0;n<this.yp.length;n++)this.yp[n].r()};fL.prototype.t=function(r){this.PB=JSON.parse(JSON.stringify(r));
var Q=iq.pN.Ba.indexOf(r.strokeStyleLineAlignment.v.strokeStyleLineAlignment),W=iq.pN.Nj.indexOf(r.strokeStyleLineCapType.v.strokeStyleLineCapType),b=iq.pN.join.indexOf(r.strokeStyleLineJoinType.v.strokeStyleLineJoinType),X=[],D=r.strokeStyleLineDashSet.v;
for(var h=0;h<D.length;h++)X.push(D[h].v.val);var S=this.yp;S[0].t(Q);S[1].t(W);S[2].t(b);S[3].t(X.join(" "));
var a=[];for(var n=0;n<4;n++)a.push(S[n].G());this.a2i(this.hA,40,16,a)};fL.prototype.G=function(){return JSON.parse(JSON.stringify(this.PB))};
fL.prototype.a2i=function(r,Q,W,b){var X=b[0],D=b[1],h=b[2],S=b[3].split(" ").map(parseFloat);N.Jx(r.canvas,Q,W);
var a=Math.min(5,this.PB.strokeStyleLineWidth.v.val);for(var n=0;n<S.length;n++)S[n]*=a;r.clearRect(0,0,Q,W);
r.setLineDash(S);r.lineCap=["butt","round","square"][D];r.lineJoin=["miter","round","bevel"][h];r.lineWidth=a;
r.beginPath();r.moveTo(0,W/2);r.lineTo(Q*2,W/2);r.stroke()};function hw(r){hu.call(this,r,!1,"contourbutton",34,16,d4.z1,!0);
this.LD=new eM([12,86],null,16);this.LD.Z("input",this.dq,this);this.vT.m.appendChild(this.LD.m);this.MT=null;
this.AE="";this._C=null;this.t(fK.fp())}hw.prototype=new hu;hw.prototype.r=function(){hu.prototype.r.call(this);
this.LD.r()};hw.prototype.R1=function(r){this.t(this.MT[r.target.G()[0]]);this.$(new km(e.E.f))};hw.prototype.dq=function(r){this.AE=this.LD.G().toLowerCase();
this.a1a()};hw.a1M=!1;hw.prototype._N=function(){if(!this._f)return;var r=this.Pm;if(r==null||!hw.a1M){var Q=new km(e.E.L,!0);
Q.data={d:e.c.Es,Lb:{url:"rsrc/basic/fa_basic.csh"}};this.$(Q);hw.a1M=!0}else{var W=Math.floor(38*N.i()),b=Math.floor(38*N.i());
this._C=[];for(var n=0;n<r.length;n++)this._C.push(hw.acc(r[n],W,b));this.a1a();this._f=!1}};hw.prototype.a1a=function(){var r=Math.floor(38*N.i()),Q=Math.floor(38*N.i());
this.MT=[];var W=[],b=[],X=this.Pm;for(var n=0;n<X.length;n++){if(X[n].iy.toLowerCase().indexOf(this.AE)==-1)continue;
this.MT.push(X[n]);W.push(this._C[n]);b.push(X[n].iy)}this.fj.pH(W,b,r,Q)};hw.prototype.t=function(r){this.oc=hw.clone(r);
this.q5()};hw.prototype.q5=function(){var r=Math.floor(23*N.i()),Q=Math.floor(23*N.i()),W=hw.acc(this.oc,r,Q);
this.jN.setAttribute("src",W);N.lb(this.jN,r,Q)};hw.prototype.G=function(){return hw.clone(this.oc)};
hw.clone=function(r){return{iy:r.iy,F_:r.F_,V:$.vL.Ld(r.V),Wr:r.Wr.clone()}};hw.T=null;hw.qP=null;hw.acc=function(r,Q,W){var b=$.vL.Ld(r.V),X=r.Wr,D=Math.min(Q/X.e,W/X.n)*.9,h=new au;
h.translate(-.5,-.5);h.scale(.95,.95);h.translate(.5,.5);h.scale(D*X.e,D*X.n);E.A.Zl(b,h);var S=new $.vL;
S.V=b;var a=S.SS();a.rect.x=Math.floor((Q-a.rect.e)/2);a.rect.y=Math.floor((W-a.rect.n)/2);var K=E.Q(a.rect.O()*4);
E.nV(a.channel,K,3);var Y=hw;if(Y.T==null)Y.T=N.S("canvas");var d=Y.T,j=d.getContext("2d");if(d.width!=Q||d.height!=W||Y.qP==null){d.width=Q;
d.height=W;Y.qP=j.createImageData(Q,W)}var U=Y.qP;U.data.fill(0);E.TU(K,a.rect,U.data,new aV(0,0,Q,W));
j.putImageData(U,0,0);return d.toDataURL()};function j7(r){hu.call(this,r,!1,"ICCButton",16,12,d4.sw,!0);
this.fj.l9(1)}j7.prototype=new hu;j7.prototype.b6=function(){var r="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var n=0;n<r.length;n++)r[n]="luts/"+r[n]+".CUBE";return r};j7.prototype.R1=function(r){this.t(this.Pm[r.target.G()]);
this.$(new km(e.E.f))};j7.prototype._N=function(){if(!this._f)return;var r=Math.floor(1*N.i()),Q=Math.floor(1*N.i()),W=[],b=[],X=this.Pm;
for(var n=0;n<X.length;n++){var D=X[n].Nm.v.split("\\").pop().split("/").pop();b.push(D);W.push(j7.Rs(X[n],r,Q))}this.fj.pH(W,b,r,Q);
this._f=!1};j7.prototype.t=function(r){this.oc=JSON.parse(JSON.stringify(r));this.q5()};j7.Rs=function(r,Q,W){var b=N.S("canvas"),h="ICC / 3DL / look / cube";
b.width=Q;b.height=W;var X=b.getContext("2d"),D=Math.floor(14*N.i());X.font=D+"px sans-serif";if(r.Nm)h=r.Nm.v.split("\\").pop().split("/").pop();
X.fillText(h,10,D);return b.toDataURL()};j7.prototype.q5=function(){var r=Math.floor(120*N.i()),Q=Math.floor(20*N.i());
this.jN.setAttribute("src",j7.Rs(this.oc,r,Q));N.lb(this.jN,r,Q)};j7.prototype.G=function(){return JSON.parse(JSON.stringify(this.oc))};
function bG(){eg.call(this);this.zS=null;this.m=N.S("span","fitem");this.DU=new d$([14,9]);this.p2=new fq(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.cq=new fL;this.$J=[this.DU,this.p2,this.cq];for(var n=0;n<this.$J.length;n++){var r=this.$J[n];
this.m.appendChild(r.m);r.parent=this;r.Z(e.E.f,this.ci,this)}}bG.prototype=new eg;bG.prototype.r=function(){for(var n=0;
n<this.$J.length;n++)this.$J[n].r()};bG.prototype.VJ=function(r,Q){this.DU.VJ(r,Q)};bG.prototype.ci=function(r){var Q=this.zS,W=this.DU.G(),b=W.pj;
Q.strokeEnabled.v=b!=0;if(b!=0){Q.strokeStyleContent.v=W.P0;W.P0.classID=iq.pN.W8[b-1]}Q.strokeStyleLineWidth.v.val=this.p2.G();
if(r.target==this.cq)Q=this.cq.G();this.zS=Q;this.$(new km(e.E.f,!1))};bG.prototype.t=function(r,Q,W){this.zS=JSON.parse(JSON.stringify(Q));
var b=Q.strokeEnabled.v,X=Q.strokeStyleContent.v,D=b?{pj:1+iq.pN.W8.indexOf(X.classID),P0:X}:{pj:0};
this.DU.t(r,D,W);this.p2.t(Q.strokeStyleLineWidth.v.val);this.cq.t(Q)};bG.prototype.G=function(){return JSON.parse(JSON.stringify(this.zS))};
function cX(r){var Q=[[18,0],[18,1],[18,2],[18,3]],W=gU.pQ(["set/front","set/union","set/difference","set/intersection"]);
gU.call(this,r?[12,36]:null,W,Q)}cX.prototype=new gU;function b4(){eg.call(this);this.m=N.S("button","fitem bbtn");
N.AM(this.m,this.fd.bind(this));this.vT=new eg;this.vT.m=N.S("div","floatcont form");this.vT.m.setAttribute("style","max-width: 200px;");
this.vT.parent=this;var r=aX;this.Po=[new dL("Start"),new dL("End"),new r([12,41],0,100,"px",null,!0,null,!0),new r([12,80,0],0,100,"px",null,!0,null,!0),new r("Concavity",-50,50,"%",null,null,null,!0)];
for(var n=0;n<this.Po.length;n++){var Q=this.Po[n];Q.parent=this;Q.Z(e.E.f,this.Gv,this);this.vT.m.appendChild(Q.m)}this.a6r=N.S("div");
this.vT.m.appendChild(this.a6r)}b4.prototype=new eg;b4.prototype.t=function(r){for(var n=0;n<5;n++)this.Po[n].t(r[n]);
this.YY()};b4.prototype.G=function(r){var Q=[];for(var n=0;n<5;n++)Q[n]=this.Po[n].G();return Q};b4.prototype.r=function(){this.m.textContent=aA.get([12,93,4]);
for(var n=0;n<this.Po.length;n++)this.Po[n].r()};b4.prototype.Gv=function(r){this.$(new km(e.E.f,!1));
this.YY()};b4.prototype.YY=function(r){var Q=this.G(),W=200,b=60;Q[2]/=N.i();Q[3]/=N.i();var X=E.A.lF.ME(0,b/2,W,b/2,5,Q),D=E.A.FE(X);
this.a6r.innerHTML="<svg width=\""+W+"\" height=\""+b+"\" class=\"gsicon\">\t\t\t<path d=\""+D.DM+"\" />\t\t\t</svg>"};
b4.prototype.fd=function(r){if(N.Z_(this.vT.m))return;r.stopPropagation();var Q=this.m.getBoundingClientRect(),W=new km(e.E.L,!0);
W.data={d:e.c.I2,MY:this.vT,x:Q.left,y:Q.top+Q.height,de:!0};this.$(W)};function dX(){eg.call(this);
this.m=N.S("div");this.tc=[];this.atC=[];var r=this.Ow=N.S("div"),Q=N.S("h2");Q.textContent="Create Teams";
r.appendChild(Q);Q.style.margin="26px 0 16px 0";var W=new fG("More about Teams",!1,null,!0);Q.appendChild(W.m);
W.m.style.float="right";W.Z("click",this.abY,this);this.kY=N.S("div");r.appendChild(this.kY);this.a0R=new eM("Team Name",null,10);
r.appendChild(this.a0R.m);var b=this.ac2=new fG("Create Team",null,null,!0);r.appendChild(b.m);b.Z("click",this.a4D,this);
var Q=N.S("h2");Q.textContent="Join Teams";r.appendChild(Q);Q.style.margin="26px 0 16px 0";this.xF=N.S("div");
r.appendChild(this.xF);this.atm=new eM("Team ID",null,10);r.appendChild(this.atm.m);var b=new fG("Join Team",null,null,!0);
r.appendChild(b.m);b.Z("click",this.a4D,this);this.a77;this.apV=this.ba.bind(this);this.ax1=this.aaI.bind(this);
this.mq=!1;this.xM();this.r2=null;this.ah6=""}dX.prototype=new eg;dX.prototype.abY=function(r){var Q=new km(e.E.L,!0);
Q.data={d:e.c.X9,link:"https://www.photopea.com/api/accounts#teams"};this.$(Q)};dX.prototype.xM=function(){clearTimeout(this.aen);
this.aen=setTimeout(this.ax1,this.r2?10:3e3)};dX.prototype.aaI=function(){var r=b6.aL();if(document.hidden||!N.Z_(this.m)||r==null){this.xM();
return}var Q=b6.nS();if(this.r2==null&&Q==null)return;b6.T7(this.r2?this.r2:Q,this.apV);this.mq=!0;this.r2=null};
dX.prototype.awu=function(r){r.acc.update=!0;this.m.style.pointerEvents="none";this.m.style.opacity="0.5";
if(this.mq)this.r2=r;else{clearTimeout(this.aen);b6.T7(r,this.apV)}};dX.prototype.em=function(r){var Q=typeof r=="string"?this.a77:this.tc.indexOf(r.target),W=this.atC[Q],b=W[0],X=b6.nS();
if(X==null)X={};var D=X.acc,S=D.tjoin,a=D.tstart;if(b=="leave"){S.splice(S.indexOf(W[1]),1)}if(b=="add"||b=="remove"||b=="delTeam"||b=="showRename"||b=="rename"){var K=-1,Y=0;
for(var n=0;n<a.length;n++){Y+=a[n][1].length;if(a[n][2]==W[1])K=n}var d=a[K];if(b=="add"){var j=b6.KJ();
if(j[0]==0&&j[1][2]<=Y){alert("You can have at most "+j[1][2]+" members in your Premium.");return}d[1].push(W[2])}if(b=="remove")d[1].splice(d[1].indexOf(W[2]),1);
if(b=="delTeam"){if(d[1].length!=0){alert("Remove members first.");return}a.splice(K,1)}if(b=="showRename"){var U=new km(e.E.L,!0);
U.data={d:e.c.Re,wv:"namewindow",h$:d[0],eq:this.em.bind(this)};this.$(U);this.a77=Q;W[0]="rename";return}if(b=="rename")d[0]=r}this.awu(X)};
dX.prototype.a4D=function(r){var Q=this.ac2==r.target,W=(Q?this.a0R:this.atm).G().trim();if(W==""){alert("The Team "+(Q?"Name":"ID")+" is empty.");
return}if(!Q){W=parseInt(W);if(isNaN(W)){alert("The ID must be a number");return}}var b=b6.nS();if(b==null)b={};
var X=b.acc;if(X==null)X=b.acc={};var D=X.tstart,h=X.tjoin;if(Q){if(D==null)D=X.tstart=[];if(D.length>5){alert("You can have at most 5 teams");
return}D.push([W,[]])}else{if(D)for(var n=0;n<D.length;n++)if(D[n][2]==W){alert("You are the owner of this team");
return}if(h==null)h=X.tjoin=[];if(h.indexOf(W)!=-1){alert("You already asked to join this team.");return}X.tjoin.push(W)}X.update=!0;
this.awu(b)};dX.prototype.ba=function(){this.mq=!1;var r=b6.aL(),Q=r!=null,W=this.Ow.parentNode!=null;
if(Q!=W){N.WC(this.m);if(Q)this.m.appendChild(this.Ow);else this.m.textContent="Log In to access Team Settings."}if(!Q)return;
var b=b6.nS();if(b==null)b={};var X=b.acc;if(X==null)X={};var D=JSON.stringify(X)+"===="+JSON.stringify(r);
if(D!=this.ah6){this.ah6=D;var h=this.kY,S=this.xF;N.WC(h);N.WC(S);var a=this.tc=[],K=this.atC=[],Y=this.em.bind(this);
function d(B,v){B.addEventListener("click",Y);a.push(B);K.push(v)}function j(_,B){var T=N.S("div"),v="rgba(255,255,255,0.15)";
T.appendChild(I("ID: "+_[2],44,v));T.appendChild(I(_[0],160,null,!0));if(B){T.appendChild(I(_[1].length+" members",80,null,!0))}else{T.appendChild(I(_[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<_[1]*1e3)T.appendChild(I("Premium",80,"rgba(0,140,0,1)"))}var l=I("",120);T.appendChild(l);
l.setAttribute("style","float:right;text-align:right");if(B){var F=new fG("Rename",null,null,!0);d(F,["showRename",_[2]]);
l.appendChild(F.m)}var F=new fG(B?"Delete":"Leave",null,null,!0);d(F,[B?"delTeam":"leave",_[2]]);l.appendChild(F.m);
return T}function U(B,v,k){var T=N.S("div");T.style.paddingLeft="36px";T.appendChild(I(v?"\u2713":"...",8,v?"#229922":"#aa7700"));
T.appendChild(I(B[1],200));T.appendChild(I(B[2],240));var l=I("",120);T.appendChild(l);l.setAttribute("style","float:right;text-align:right");
var F=new fG(v?"Remove":"Add",null,null,!0);d(F,[v?"remove":"add",k,B[0]]);l.appendChild(F.m);return T}function I(B,v,l,F){var L=N.S("span");
L.textContent=B;L.setAttribute("style","display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+v+"px;  "+(l!=null?"background-color:"+l+";":"")+(F?"font-weight:bold;":""));
return L}var f=X.tstart,g=X.tjoin,H=r.wantToJoin,u=r.inTeams;if(f)for(var s=0;s<f.length;s++){var _=f[s],i=H["t"+_[2]];
if(i==null)i=[];var M={};for(var n=0;n<i.length;n++)M["u"+i[n][0]]=i[n];var T=j(_,!0);h.appendChild(T);
T.style.marginTop="10px";for(var n=0;n<_[1].length;n++){var R=_[1][n],z=M["u"+R];if(z==null)z=[R,"========","... user has left your team"];
delete M["u"+R];var G=U(z,!0,_[2]);h.appendChild(G)}for(var V in M){var z=M[V],G=U(z,!1,_[2]);h.appendChild(G)}}if(g){var y={};
for(var n=0;n<u.length;n++)y["t"+u[n][2]]=u[n];for(var s=0;s<g.length;s++){var k=g[s],_=y["t"+k],T=j(_?_:["==========",-1,k],!1);
S.appendChild(T)}}this.$(new km(e.E.f))}if(this.r2==null){this.m.style.pointerEvents="auto";this.m.style.opacity="1"}this.xM()};
function fz(){eg.call(this);this.SE=[16,!0,!0];this.m=N.S("span","");this.sX=[new fq([12,24],0,255),new dL([12,25,1]),new dL([12,25,0])];
for(var n=0;n<3;n++){var r=this.sX[n];r.parent=this;r.t(this.SE[n]);this.m.appendChild(r.m);r.Z(e.E.f,this.ci,this)}}fz.prototype=new eg;
fz.prototype.ci=function(){for(var n=0;n<3;n++)this.SE[n]=this.sX[n].G();this.$(new km(e.E.f,!1))};fz.prototype.t=function(r){this.SE=r.slice(0);
for(var n=0;n<3;n++)this.sX[n].t(r[n])};fz.prototype.G=function(){return this.SE.slice(0)};fz.prototype.r=function(){for(var n=0;
n<3;n++)this.sX[n].r()};function eE(r,Q){eg.call(this);if(Q==null)Q=!1;this._C=[];this.Yn=Math.floor(120*N.i());
this.alz=Math.floor(23*N.i());this.TT=0;this.aP=[];this.tJ=[];for(var W in E.Eu.type){if(W=="warpCustom"&&!Q)continue;
this.aP.push(W);this.tJ.push(E.Eu.type[W])}this.m=N.S("span","fitem warpbutton");this.vT=new eg;this.vT.m=N.S("div","floatcont");
if(r){this.zP=r;this.ce=N.S("label","flabel");this.m.appendChild(this.ce)}this.d=N.S("button");this.m.appendChild(this.d);
N.AM(this.d,this.fd.bind(this));this.qW=new aa(!0);this.vT.m.appendChild(this.qW.m);this.qW.Z(e.E.f,this.aed,this);
this.vT.m.setAttribute("style","width:"+Math.floor(8+this.Yn/N.i())+"px;");this.r()}eE.prototype=new eg;
eE.prototype.NM=function(r){this.ce.textContent=r};eE.prototype.r=function(){if(this.zP)this.ce.innerHTML=aA.get(this.zP)+":";
this.q5()};eE.agW={};eE.apX=function(r,Q,W){var b=aA.get(E.Eu.type[r]),X=b+"-"+r+"-"+Q+"-"+W,D=eE.agW[X];
if(D)return D;var h=eE.hA;if(S==null){var S=N.S("canvas");h=eE.hA=S.getContext("2d")}var S=h.canvas;
if(S.width!=Q||S.height!=W){S.width=Q;S.height=W}h.font=Math.floor(13*N.i())+"px sans-serif";h.lineWidth=1;
h.strokeStyle="#000000";var a=Math.floor(16*N.i()),K=new aV(0,0,a,a);h.clearRect(0,0,S.width,S.height);
var Y=E.Eu.Eu(K,r,!0,.3,0,0),d=E.p.vk(K);d.H.push("M","L","M","L");d.C.push(0,a/2,a,a/2);d.C.push(a/2,0,a/2,a);
d=E.p.BF(d);d=E.p.sb(d,a/5);E.e_.D(Y,d.C,K);E.p.D(d.C,new au(1,0,0,1,Math.floor(8*N.i())+.5,Math.floor(3*N.i())+.5),d.C);
h.beginPath();Typr.U.pathToContext({cmds:d.H,crds:d.C},h);h.stroke();h.fillText(b,Math.floor(40*N.i()),Math.floor(16*N.i()));
D=eE.agW[X]=S.toDataURL();return D};eE.prototype.fd=function(r){if(N.Z_(this.vT.m))return;r.stopPropagation();
var Q=this.Yn,W=this.alz;for(var n=0;n<this.aP.length;n++)this._C[n]=eE.apX(this.aP[n],Q,W);this.qW.pH(this._C,null,Q,W);
var b=this.d.getBoundingClientRect(),X=new km(e.E.L,!0);X.data={d:e.c.I2,MY:this.vT,x:b.left,y:b.top+b.height+4};
this.$(X)};eE.prototype.aed=function(r){var Q=new km(e.E.L,!0);Q.data={d:e.c.mm,MY:this.vT};this.$(Q);
this.TT=r.target.G()[0];this.q5();this.$(new km(e.E.f))};eE.prototype.q5=function(){var r=this.Yn,Q=this.alz;
this.qW.t([this.TT]);this.d.innerHTML="<img src=\""+eE.apX(this.aP[this.TT],r,Q)+"\" class=\"gsicon\" />";
N.lb(this.d.firstChild,r,Q)};eE.prototype.G=function(){return this.aP[this.TT]};eE.prototype.t=function(r){this.TT=this.aP.indexOf(r);
this.q5()};function ea(r,Q,W){eg.call(this);if(r==null)r=!1;if(Q==null)Q=!1;if(W==null)W=!1;this.asP=Q;
this.Eu=null;this._V=new eE([12,22],W);this._V.parent=this;this._V.Z(e.E.f,this.Pp,this);this.Vv=new fk([22,0],[[22,4,0],[22,4,1]]);
this.Vv.Z(e.E.f,this.Pp,this);var b=r?fq:aX;this.VO=new b([22,1],-100,100,"%");this.kG=new b("Horizontal Distortion:",-100,100,"%");
this.SP=new b("Vertical Distortion:",-100,100,"%");this.VO.parent=this.kG.parent=this.SP.parent=this;
this.VO.Z(e.E.f,this.Pp,this);this.kG.Z(e.E.f,this.Pp,this);this.SP.Z(e.E.f,this.Pp,this)}ea.prototype=new eg;
ea.prototype.r=function(){this._V.r();this.Vv.r();this.VO.r();var r=this.asP?1:100;this.kG.NM(aA.get([22,2]).substring(0,r)+":");
this.SP.NM(aA.get([22,3]).substring(0,r)+":")};ea.prototype.Pp=function(){var r=this.Eu,Q=this._V.G(),W=r.warpStyle.v.warpStyle;
if(Q=="warpCustom")E.Eu.Fa(E.Eu.c8(r),r);else delete r.customEnvelopeWarp;r.warpStyle.v.warpStyle=this._V.G();
r.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.Vv.G()];r.warpValue.v=this.VO.G();r.warpPerspective.v=this.kG.G();
r.warpPerspectiveOther.v=this.SP.G();if(Q=="warpNone"||Q=="warpCustom"){r.warpValue.v=0;r.warpPerspective.v=0;
r.warpPerspectiveOther.v=0}else if(W=="warpNone"||W=="warpCustom")r.warpValue.v=50;this.$(new km(e.E.f,!1));
this.t(r)};ea.prototype.G=function(r){return JSON.parse(JSON.stringify(this.Eu))};ea.prototype.t=function(r){this.Eu=JSON.parse(JSON.stringify(r));
this._V.t(r.warpStyle.v.warpStyle);this.Vv.t(r.warpRotate.v.Ornt=="Hrzn"?0:1);this.VO.t(r.warpValue.v);
this.kG.t(r.warpPerspective.v);this.SP.t(r.warpPerspectiveOther.v);var Q=r.warpStyle.v.warpStyle,W=Q=="warpNone"||Q=="warpCustom",b=[this.Vv,this.VO,this.kG,this.SP];
for(var n=0;n<b.length;n++)if(W)b[n].si();else b[n].S8()};function g_(r){eg.call(this);this.m=N.S("div");
this.DZ=r;this.ZE=null;this.ao=new cp(0,0);this.UR="position:relative;overflow:hidden;background-color:var(--bg-canvas);";
this.ot=null;this.At=new N.jG(this.m);this.bj("grab");this.T=N.S("canvas","canv");this.m.appendChild(this.T);
this.hA=this.T.getContext("2d");this.atx=null;this.mW=null;this.dn=null;this.ke=0;this.ps=0;this.ua=0;
this.ajA=this.aej.bind(this);this.a01=null;this.u=new cD({e:1,n:1});this.YN=null;this.I4=null;this.Xl=[];
this.au4=0;this.rE=0;this.aym=this.DF.bind(this);this.a3e=this.Fx.bind(this);this.aiQ=this.Tn.bind(this);
this.a8k=this.XM.bind(this);this.a7B=0;this.pI=null;this.a57(this.T);this.VB(this)}g_.prototype=new eg;
g_.adf=function(r){var Q=new h8(!0);if(r>=0)Q.oK("Space");if(r>=1){Q.oK("ControlLeft");if(r==2)Q.oK("AltLeft")}return Q};
g_.prototype.tf=function(r){var Q=this.ot,W=null;if(r.j(h8.ye)){W="grab";if(r.j(h8.DS)){W="zoom-in";
if(r.j(h8._I))W="zoom-out"}}this.ZE=W;if(W)Q=W;this.At.ba(Q,this.UR);if(r.j(h8.DS)){var b=0;if(r.j(h8.Ex))b=1;
if(r.j(h8.Ek))b=-1;if(b!=0){this.br(new cp(this.T.width/2,this.T.height/2),b==1)}}};g_.prototype.bj=function(r){this.ot=r;
if(this.ZE)return;this.At.ba(r,this.UR)};g_.prototype.a57=function(r){N.AM(r,this.aym);N.cI(r);r.addEventListener("wheel",this.a8k,!1)};
g_.prototype.VB=function(r){r.Z("viewchange",this.af5,this)};g_.prototype.af5=function(r){var Q=this.u._,W=r.currentTarget.LF();
this.u._=W._;this.u.R=W.R.clone();if(Q!=W._)this.dA();this.e8()};g_.prototype.LF=function(){return{_:this.u._,R:this.u.R}};
g_.prototype.t=function(r,Q){var W=r[0].Kx;if(this.mW!=null&&this.mW[0].Kx.s4(W)){}else{this.u.gR={e:W.e,n:W.n};
this.u.R=new cp(0,0);this.u._=1}this.mW=r;this.dA();this.LL();this.ke=0;this.ps=0;this.ua=Q==null?0:Q;
this.aej()};g_.prototype.XM=function(r){r.preventDefault();if(r.deltaY==0||Date.now()-this.a7B<100)return;
var Q=N.ug(r);Q.x=N.i()*Q.x;Q.y=N.i()*Q.y;this.a7B=Date.now();this.br(Q,r.deltaY<0)};g_.prototype.br=function(r,Q){m.uj.Bf(this.u,r,Q);
this.asD()};g_.prototype.aa=function(){var r=this.u,Q=r.gR;this.u._=m.uj.aw6(Q.e,Q.n,r.qv.e,r.qv.n);
this.asD()};g_.prototype.asD=function(){this.dA();this.$(new km("viewchange"));this.$(new km("zoom"))};
g_.prototype.dA=function(){this.dn=[];var r=this.u._;if(this.mW==null)return;for(var n=0;n<this.mW.length;
n++){var Q=this.mW[n],W=new Uint8Array(Q.data),b;if(r>=1)b={NP:W,rect:Q.Kx};else b=E.aqW(W,Q.Kx,r);this.dn.push(b)}};
g_.prototype.LL=function(){clearTimeout(this.a01)};g_.prototype.e8=function(){if(this.mW==null||!N.Z_(this.T))return;
var r=this.atx,Q=this.T.width,W=this.T.height,I,f;if(r==null||r.width!=Q||r.height!=W){r=this.atx=this.hA.createImageData(Q,W);
console.log("creating image data")}var b=this.mW[this.ke],X=this.dn[this.ke],D=this.u,h=D.gR,S=D.qv,a=S.e,K=S.n,Y=h.e*D._,d=h.n*D._,j=Math.round((a-Y)/2+D.R.x),U=Math.round((K-d)/2+D.R.y);
if(D._<=1){f=X.rect.clone();f.x=j;f.y=U;Y=f.e;d=f.n;I=X.NP}else{var g=1/D._,H=new aV(Math.floor((S.x-j)*g),Math.floor((S.y-U)*g),Math.ceil(S.e*g)+1,Math.ceil(S.n*g)+1),u=new aV(0,0,H.e*D._,H.n*D._);
u.x=H.x*D._+j;u.y=H.y*D._+U;if(D.l$==null||D.l$.length!=H.O()*4){D.l$=E.Q(H.O()*4)}if(D.ST==null||D.ST.length!=u.O()*4){D.ST=E.Q(u.O()*4)}E.tl(D.l$,0);
E.TU(X.NP,X.rect,D.l$,H);E.scale.mD(D.l$,H.e,H.n,D.ST,u.e,u.n,D._);I=D.ST;f=u}var s=new Uint8Array(r.data.buffer);
E.w8(s,a,K,8,-j,-U);E.q.YB("norm",I,f,s,S,S,1);var _=this.hA;_.setTransform(1,0,0,1,0,0);_.putImageData(r,0,0);
_.clearRect(j-1e3,U,1e3,d);_.clearRect(j+Y,U,1e3,d);_.clearRect(j-1e3,U-1e3,Y+2e3,1e3);_.clearRect(j-1e3,U+d,Y+2e3,1e3);
var i=g_.a7p(D._,"#ffffff");_.putImageData(i,0,D.qv.n-i.height)};g_.abC="";g_.aa5=null;g_.a7p=function(r,Q,W,b){if(W==null){W=0;
b=0}var X=W+" \xD7 "+b,D="z"+r+","+Q+","+W+","+b;if(D==g_.abC)return g_.aa5;var h=Math.round(50*N.i()),S=Math.round(18*N.i()),a=W==0?0:Math.round((X.length+2)*S*.35),K=N.S("canvas"),Y=K.getContext("2d");
K.width=h+a;K.height=S;Y.fillStyle="rgba(1,1,1,1)";Y.fillRect(0,0,h,S);if(W!=0)Y.fillRect(h+2,0,a,S);
Y.font=Math.round(11*N.i())+"px monospace";Y.fillStyle=Q;var d=r*100;if(d<100)d=d.toFixed(2);else d=Math.round(d);
d=d+"%";var j=Y.measureText(d).width;Y.fillText(d,(h-j)/2,Math.round(S*.7));if(W!=0){var U=Y.measureText(X).width;
Y.fillText(X,h+(a-U)/2+1,Math.round(S*.7))}var I=Y.getImageData(0,0,h+a,S);g_.abC=D;g_.aa5=I;return I};
g_.prototype.aej=function(){var r=this.mW,Q=r.length,W=this.ke,b=this.mW[W],X=(W+1)%Q;this.e8();if(Q!=1&&r[X].Kx.s4(b.Kx)){var D=b.Dl?parseInt(b.Dl.split(",").pop()):30;
if(D==0)D=16;if(X==0)this.ps++;if(this.ua==0||this.ps<this.ua)this.a01=setTimeout(this.ajA,D)}this.ke=X};
g_.prototype.du=function(r,Q){if(r<=0||Q<=0)return;var W=Math.floor(r*N.i()),b=Math.floor(Q*N.i());this.u.qv=new aV(0,0,W,b);
this.T.width=W;this.T.height=b;this.T.setAttribute("style","width:"+W/N.i()+"px; height:"+b/N.i()+"px; display:block;");
this.e8()};g_.prototype.Wp=function(r){var Q=-1,W=this.Xl;for(var n=0;n<W.length;n++)if(W[n].pointerId==r.pointerId)Q=n;
return Q};g_.prototype.DF=function(r){var Q=this.Wp(r),W=this.Xl;if(Q!=-1)W[Q]=r;else W.push(r);if(W.length==1){this.pI=r.target;
N.sY(window,this.a3e);N.gJ(window,this.aiQ);this.YN=N.ug(r,this.T);this.YN.x*=N.i();this.YN.y*=N.i();
this.ao=this.YN;this.I4=this.u.R.clone();if(this.DZ&&this.pI==this.T&&!this.ZE)this.$(new km("mousedown"))}else this.au4=this.rE=cp.ks(N.ug(W[0],this.T),N.ug(W[1],this.T))};
g_.prototype.Fx=function(r){var Q=this.Wp(r),W=this.Xl;if(Q!=-1)W[Q]=r;var b=this.u,X=this.ZE,D=this.mW[this.ke].Kx.clone();
D.e*=b._;D.n*=b._;var S=N.ug(r,this.T);S.x*=N.i();S.y*=N.i();this.ao=S;if(this.DZ&&this.pI==this.T&&!X)this.$(new km("mousemove"));
else if((X=="grab"||X==null)&&(W.length>1||!b.qv.oN(D))){if(W.length>1){var a=N.ug(W[0],this.T),K=N.ug(W[1],this.T),Y=new cp(N.i()*(a.x+K.x)/2,N.i()*(a.y+K.y)/2),d=cp.ks(a,K),j=null;
if(d>this.rE+50){this.rE+=50;j=!0}if(d<this.rE-50){this.rE-=50;j=!1}if(j!=null)this.br(Y,j);return}else{var U=S.x-this.YN.x,I=S.y-this.YN.y;
b.R.x=this.I4.x+Math.round(U);b.R.y=this.I4.y+Math.round(I)}this.$(new km("viewchange"))}};g_.prototype.Tn=function(r){var Q=this.Wp(r),W=this.Xl;
W.splice(Q,1);if(W.length==0){N.qa(window,this.a3e);N.xf(window,this.aiQ);var b=this.ZE;if(r.detail>1){this.u._=1;
this.u.R.DX(0,0);this.e8()}if(this.DZ&&this.pI==this.T&&!this.ZE)this.$(new km("mouseup"));else{if(b=="zoom-in"||b=="zoom-out")this.br(this.ao,b=="zoom-in")}}else{var X=this.YN=N.ug(W[0],this.T);
X.x*=N.i();X.y*=N.i()}};g_.prototype.S$=function(){return this.u.GF(this.ao.x,this.ao.y)};function f9(){eg.call(this);
this.Ng=null;this.jO=null;this.Yd=null;this.Qa=null;this.a2Q="";this.T0=[];this.fC=0;this.hL=[];this.RH=0;
this.Ha=null;var r=this.m=N.S("div",""),Q=this.a3H=N.S("div","form");Q.setAttribute("style","line-height:0; margin-bottom:0.5em;");
r.appendChild(Q);var W=this.zP=N.S("span");Q.appendChild(W);W.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");
var b=this.adY=new dL([25,2,0]);b.t(!0);Q.appendChild(b.m);b.Z(e.E.f,this.Ui,this);var X=this.Pc=new dL([25,2,1]);
X.t(!0);Q.appendChild(X.m);X.Z(e.E.f,this.Ui,this);var D=new aQ(" ");Q.appendChild(D.m);var h=this.Iq=new eM([25,1,1]);
Q.appendChild(h.m);h.Z(e.E.f,this.Ui,this);this.tw=new cJ(14);this.tw.ajf(3);Q.appendChild(this.tw.m);
this.tw.parent=this;this.tw.Z(e.E.f,this.ans,this);var S=this.ajd=new fG([25,1,2],null,null,!0);Q.appendChild(S.m);
S.Z("click",this.qj,this);var a=new fG("?",null,null,!0);Q.appendChild(a.m);a.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
this.aiU=this.aaU.bind(this);this.hG=N.S("div","svggallery scrollable");r.appendChild(this.hG);this.hG.addEventListener("scroll",this.acq.bind(this))}f9.prototype=new eg;
f9.prototype.VJ=function(r){this.art=r};f9.prototype.r=function(){this.zP.textContent=aA.get([25,0]);
this.tw.r();this.adY.r();this.Pc.r();this.Iq.r();this.ajd.r()};f9.prototype.du=function(r,Q){this.Ng=new cp(r,Q);
this.a3H.setAttribute("style","width:"+r+"px");var W=this.a3H.getBoundingClientRect();Q-=W.height;this.hG.setAttribute("style","width:"+r+"px; height:"+Q+"px");
if(N.Z_(this.m))this.Ui()};f9.prototype.t=function(r){this.jO=r;this.Ui()};f9.prototype.acq=function(r){var Q=this.hG;
if(Q.scrollTop+Q.clientHeight+10>=Q.scrollHeight){this.Ui(!0)}};f9.prototype.ans=function(r){this.Yd=null;
this.Ui()};f9.prototype.aaU=function(r){if(Date.now()-this.RH<2e3)return;this.RH=Date.now();this.fC=this.hL.indexOf(r.currentTarget);
var Q=this.JQ(this.jO.x,this.jO.y);if(Q[1]){var W=Q[1].largeImageURL,b=new XMLHttpRequest;b.responseType="arraybuffer";
b.open("GET",W,!0);b.onload=this.auL.bind(this);b.send();return}this.aqf(Q)};f9.prototype.auL=function(r){var Q=r.target.response,W=fH.E$(Q),b=fH.Qt(W),X=b.ni(Q),D=this.JQ(this.jO.x,this.jO.y,[Q,X[0].Kx.e,X[0].Kx.n]);
this.aqf(D)};f9.prototype.aqf=function(r){var Q=r[0],W=fH.E$(Q),b=fH.Qt(W),X=new bj("template.psd");
b.ni(Q,X);var D=new km("tempready",!0);D.data={gR:X};this.$(D)};f9.prototype.qj=function(r){var Q=r.target;
this.T0=[];this.Yd=null;this.Ui()};f9.prototype.apy=function(r){var Q=JSON.parse(r.target.response),W=this.Qa=Q.hits;
for(var n=0;n<W.length;n++)if(W[n].user_id==6314823)W.splice(n,1);this.Ui()};f9.prototype.Ui=function(r){if(this.jO==null||this.Ng==null||this.art==null)return;
if(this.Ng.x<=0)return;var Q=this.jO.x,W=this.jO.y;if(Math.min(Q,W)<50)return;if(r!=!0){this.hL=[];N.WC(this.hG);
this.hG.scrollTop=0}if(this.hL.length>300)return;var b=Math.min(1,300/Math.max(Q,W)),X=this.Ng.clone();
X.x-=20;var D=Math.max(1,Math.floor(X.x/(Q*b))),h=Math.max(1,Math.ceil(X.y/(W*b)));b=X.x/D/Q;var S=D*h;
if(this.Yd==null){var a=this.art.zl.Jf(),K=[];for(var Y in a){var d=a[Y],j=d[3];if(!this.tw.kE(d))continue;
if(d[5]==null||d[5].slice(0,2)=="gf")continue;K.push(d)}if(K.length==0)K.push(a.DejaVuSans);var U=K.length;
for(var n=0;n<U*10;n++){var I=Math.floor(Math.random()*U),f=Math.floor(Math.random()*U),g=K[I];K[I]=K[f];
K[f]=g}K=K.slice(0,10);this.Yd=K}var H=this.Pc.G(),u=this.Iq.G().trim();this.Iq.fy(H);if(H&&(this.Qa==null||u!=this.a2Q)){var s=new XMLHttpRequest,_="https://pixabay.com/api/?image_type=photo"+(u==""?"":"&q="+encodeURIComponent(u))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(u=="")_="plugins/gallery.json";s.open("GET",_,!0);s.onload=this.apy.bind(this);s.onerror=function(G){console.log(G.target.response)};
s.send();this.a2Q=u;return}b*=(Q*b-5)/(Q*b);var i=this.hL.length;for(var n=0;n<S;n++){var M=this.fC=i+n;
if(this.T0[M]==null)this.T0[M]=Math.floor(Math.random()*4294967295);var T=this.JQ(Math.round(Q*b),Math.round(W*b)),R=T[0];
R=c.CA(new Uint8Array(R));var z=N.S("span");z.innerHTML=R;this.hL.push(z);this.hG.appendChild(z);z.addEventListener("click",this.aiU,!1)}};
f9.prototype.JQ=function(r,Q,W){var b=this.Pc.G(),X=this.adY.G(),D=b&&this.Qa.length!=0?this.Qa:null;
if(X&&!b)D=null;if(X&&b&&(this.fC&1)==0)D=null;return dS.lF(r,Q,this.T0[this.fC],this.Yd,W?W:D)};function bt(){eg.call(this);
this.m=N.S("div");this.Ow=null;this.a9j=null;this.S6=-1;this.ew={JPG:[{xT:new aX([12,52,0],0,100,"%",null,null,!0),X7:70},{xT:new dL("attach metadata"),X7:!1}],TIFF:[{xT:new dL("attach metadata"),X7:!1}],WEBP:[{xT:new aX([12,52,0],0,100,"%",null,null,!0),X7:70}],GIF:[{xT:new aX([12,52,0],0,100,"%",null,null,!0),X7:100},{xT:new dL([12,23,3]),X7:!1}],PNG:[{xT:new aX([12,52,0],0,100,"%",null,null,!0),X7:100},{xT:new dL("don't use palettes"),X7:!1}],PDF:[{xT:new eM([12,52,1]),X7:""},{xT:new aX([12,52,0],0,100,"%",null,null,!0),X7:100},{xT:new dL("reverse pages"),X7:!1},{xT:new dL("rasterize all"),X7:!1},{xT:new dL("vectorize text"),X7:!1},{xT:new aX("Add Margin",0,5,"in",2),X7:0}],EMF:[{xT:new eM([12,52,1]),X7:""},{xT:new aX([12,52,0],0,100,"%",null,null,!0),X7:100},{xT:new dL("reverse pages"),X7:!1},{xT:new dL("rasterize all"),X7:!1},{xT:new dL("vectorize text"),X7:!1},{xT:new aX("Add Margin",0,5,"in",2),X7:0}],SVG:[{xT:new dL("add raster graphics"),X7:!0},{xT:new dL("add hidden layers"),X7:!1},{xT:new dL("vectorize text"),X7:!1},{xT:new dL("rasterize text"),X7:!1},{xT:new dL("minify"),X7:!1}],RAW:[{xT:new gU([12,72],["1","3","4"]),X7:2},{xT:new gU([12,34],["8 Bits","16 Bits"]),X7:0},{xT:new gU("Byte Order",["12-34","34-12"]),X7:0}],DDS:[{xT:new dL("Add Mipmaps"),X7:!0},{xT:new dL("Compression"),X7:!0}],anim:[{xT:new aX("Speed",10,800,"%",null,!0,!0),X7:100},{xT:new fq("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),X7:0},{xT:new dL("reverse frames"),X7:!1},{xT:new dL("boomerang"),X7:!1}],slcs:[{xT:new dL([8,11,0]),X7:!0}],artb:[{xT:new dL([1,16,1]),X7:!0}],hicc:[{xT:new dL("convert to sRGB"),X7:!0}]};
for(var r in this.ew){var Q=this.ew[r];for(var n=0;n<Q.length;n++){Q[n].xT.t(Q[n].X7);Q[n].xT.Z(e.E.f,this.j5,this)}}}bt.prototype=new eg;
bt.prototype.au7=function(){this.S6=-1};bt.prototype.r=function(){for(var r in this.ew)for(var n=0;n<this.ew[r].length;
n++)this.ew[r][n].xT.r()};bt.prototype.j5=function(){this.Ui();this.$(new km(e.E.f,!1))};bt.prototype.Ui=function(){var r=this.Ow,Q=r[0],W=r[1],b=r[2],X=r[3],D=r[4],h=this.ew[Q];
if(h==null)h=[];else h=h.slice(0);if(W)h=h.concat(this.ew.anim);if(["GIF","PNG","JPG"].indexOf(Q)!=-1&&b)h=h.concat(this.ew.slcs);
else if(["GIF","PNG","JPG"].indexOf(Q)!=-1&&X)h=h.concat(this.ew.artb);if(D)h=h.concat(this.ew.hicc);
var S=r.join(",");if(S!=this.S6){this.S6=S;N.WC(this.m);for(var n=0;n<h.length;n++){if(Q=="PDF"&&!X&&(n==0||n==2))continue;
this.m.appendChild(h[n].xT.m);N.Hr(this.m)}}var a=this.a9j=[];for(var n=0;n<h.length;n++)a.push(h[n].xT.G())};
bt.prototype.Ye=function(r,Q,W,b,X){this.Ow=[r,Q,W,b,X];this.Ui()};bt.prototype.G=function(){return this.a9j.slice(0)};
function cb(){eg.call(this);this.m=N.S("span","fitem");this.W0=!1;this.cl=new fG("No",!1,"Cancel");this.yF=new fG("Yes",!1,"Confirm");
this.m.appendChild(this.cl.m);this.m.appendChild(this.yF.m);this.cl.Z("click",this.j0,this);this.yF.Z("click",this.j0,this);
this.r()}cb.prototype=new eg;cb.prototype.r=function(){this.cl.NM(N.lI("cross",null,"autoscale"));this.yF.NM(N.lI("checkmark",null,"autoscale"))};
cb.prototype.j0=function(r){this.W0=r.target==this.yF;this.$(new UIEvent("click"))};cb.prototype.G=function(){return this.W0};
function is(r){eg.call(this);this.m=N.S("span","fitem");this.ma=new fG("\u25BC",null,"Auto Options",!0);
N.AM(this.ma.m,this.a4I.bind(this));this.m.appendChild(this.ma.m);this.wx=new fG("Auto",null,null,!0);
this.wx.Z("click",this.Gv,this);this.m.appendChild(this.wx.m);this.SY=new eJ("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.SY.Z(e.E.f,this.Gv,this);this.SY.t([!1,!1,!1,!0]);this.vT=new eg;var Q=this.vT.m=N.S("div","floatcont form");
Q.setAttribute("style","width: 250px;");this.vT.parent=this;Q.appendChild(this.SY.m);this.o2=[];for(var n=0;
n<2;n++){var W=new fq((n==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);W.t(.1);W.Z(e.E.f,this.Gv,this);
this.o2.push(W);Q.appendChild(W.m)}}is.prototype=new eg;is.prototype.Gv=function(r){this.$(new km(e.E.f,!1))};
is.prototype.r=function(){};is.prototype.G=function(){return[this.SY.G().indexOf(!0),this.o2[0].G(),this.o2[1].G()]};
is.prototype.a4I=function(r){if(N.Z_(this.vT.m))return;r.stopPropagation();var Q=this.ma.m.getBoundingClientRect(),W=new km(e.E.L,!0);
W.data={d:e.c.I2,MY:this.vT,x:Q.left,y:Q.top+Q.height+4};this.$(W)};function jP(){eg.call(this);var r=this.m=N.S("div","fitem");
this.Fc=new fk([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.Fc.Z(e.E.f,this.ci,this);r.appendChild(this.Fc.m);
this.ga=new c_(!1);this.ga.parent=this;this.ga.N$(16777215);this.ga.Z(e.E.f,this.ci,this);r.appendChild(this.ga.m)}jP.prototype=new eg;
jP.prototype.r=function(){this.Fc.r();this.ga.r()};jP.prototype.anH=function(r){var Q=[r.artboardBackgroundType.v-1];
if(r.Clr)Q.push(r.Clr.v);this.t(Q)};jP.prototype.al5=function(){var r=this.G();return{classID:"artboard",Clr:{t:"Objc",v:r[1]},artboardBackgroundType:{t:"long",v:r[0]+1}}};
jP.prototype.t=function(r){this.Fc.t(r[0]);if(r[1])this.ga.t(r[1])};jP.prototype.G=function(){return[this.Fc.G(),this.ga.G()]};
jP.prototype.ci=function(r){if(r.target==this.ga)this.Fc.t(3);this.$(new km(e.E.f,!1))};function dn(r){eg.call(this);
this.LY=r;this.gS=0;this.afW=!1;this.Io=r?new dn.V3:null;this.m=N.S("div","flexrow storageset");this.m.style.background="var(--bg-panel)";
this.BP=N.S("div");this.m.appendChild(this.BP);this.n3=N.S("div");this.m.appendChild(this.n3);this.ol=[];
var Q=Storage.list.length;if(r)Q++;var W=this.Gs.bind(this);for(var n=0;n<Q;n++){var b=N.S("div");this.ol.push(b);
this.BP.appendChild(b);b.addEventListener("click",W,!1)}this.Gs(null,0)}dn.prototype=new eg;dn.G2=[];
dn.dN=function(r){dn.G2.push(r);r.YY()};dn.iu=function(){var r=dn.G2;r.pop();r[r.length-1].YY()};dn.prototype.YY=function(){console.log(this.gS);
this.Gs(null,this.gS)};dn.prototype.VJ=function(r,Q){if(!r.l1&&!this.afW){var W=this.LY?2:1;for(var n=W;
n<this.ol.length;n++)this.BP.removeChild(this.ol[n]);this.afW=!0;if(this.LY)this.Io.VJ(r,Q)}};dn.prototype.r=function(){if(this.LY)this.Io.r();
if(this.Wx)this.Wx.r()};dn.prototype.Gs=function(r,Q){var W=this.ol,b;if(Q==null)Q=W.indexOf(r.currentTarget);
this.gS=Q;for(var n=0;n<W.length;n++)N.Q5(W[n],"active");N.lB(W[Q],"active");if(this.LY)Q--;N.WC(this.n3);
if(Q==-1)b=this.Io;else b=Storage.agb(Q);this.Wx=b;b.parent=this;this.n3.appendChild(b.m);this.du(this.Dr,this.J9);
this.r()};dn.prototype.du=function(r,Q){this.Dr=r;this.J9=Q;var W=r<850,b=W?50:200,X=Storage.list;if(this.LY)X=[["Home",null,"strg/home"]].concat(X);
for(var n=0;n<X.length;n++){var D=this.ol[n],h="padding: 8px "+(W?13:36)+"px; cursor:pointer;";D.setAttribute("style",h);
D.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\"gsicon\" src=\""+PIMG[X[n][2]]+"\" /> "+(W?"":X[n][0])}this.m.style.width=r+"px";
this.m.style.height=Q+"px";this.BP.style.width=b+"px";this.BP.style.paddingTop="32px";if(this.Wx)this.Wx.du(r-b,Q)};
dn.V3=function(){var r=this.m=N.S("div");r.style.background="var(--bg-canvas)";var Q=this.EP=N.S("div");
r.appendChild(Q);var W=N.S("style");r.appendChild(W);W.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var n=0;n<2;n++){var b=N.S("div"),W="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";Q.appendChild(b);
if(n==0)W+="padding: 12px 0px";if(n==1)W+="position:absolute;  bottom:0;";b.setAttribute("style",W);
var X=N.S("img");b.appendChild(X);X.setAttribute("src",PIMG[n==0?"l"+"o"+"g"+"o":"b"+"o"+"t"+"t"+"o"+"m"]);
if(n==0)this.HL=X;else this.a4E=X;if(n==0)this.ajo=b;else this.afs=b}this.ol=[];W="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var D=this.Cl.bind(this);for(var n=0;n<3;n++){var h=N.S("span","bhover");this.ol.push(h);h.setAttribute("style",W+"cursor:pointer; padding:12px;");
h.addEventListener("click",D,!1);Q.appendChild(h)}N.Hr(Q);N.Hr(Q);var h=N.S("div");h.setAttribute("style",W+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");
h.textContent="Drop any files here";Q.appendChild(h);this.T=N.S("canvas");this.T.setAttribute("style","position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");
this.hA=this.T.getContext("2d");this.agZ=E.Q(4);r.appendChild(this.T);var S=new Date().getDate(),a=new Date().getMonth();
if(a==11&&S>20||a==0&&S<10){var K=Math.random()<.5,Y={o:255,W:255,k:255};if(!K){Y=E.gB(Math.random(),Math.random()*.7,1);
Y.o*=255;Y.W*=255;Y.k*=255}this.Sc=[Math.round(1048575*Math.random()),K?.05:.02,Math.round(4+Math.random()*8),1,K?3:15,Y,0,!0,K,K?1:.2,3];
this.an1=K?.1:.2;this.nB=this.Fy.bind(this);window.requestAnimationFrame(this.nB)}};dn.V3.prototype=new eg;
dn.V3.prototype.Fy=function(){window.requestAnimationFrame(this.nB);if(!N.Z_(this.m))return;var r=this.agZ,Q=this.T,W=this.hA,b=Q.width,X=Q.height;
this.Sc[6]=Date.now()*.001*this.an1;E.fu.bU(r,b,X,this.Sc,!0);W.putImageData(new ImageData(new Uint8ClampedArray(r.buffer),b,X),0,0)};
dn.V3.prototype.Cl=function(r){var n=this.ol.indexOf(r.currentTarget),Q=new km(e.E.L,!0);if(n==0)Q.data={d:e.c.Re,wv:"newproject"};
if(n==1)Q.data={d:e.c.VX};if(n==2)Q.data={d:e.c.Re,wv:"res0"};this.$(Q)};dn.V3.prototype.r=function(){var r=this.ol,Q=[[11,7],[1,6],["PSD VAR0",[25,0]]],W=["\u2605","\uD83E\uDC7F","\u25A3"];
for(var n=0;n<r.length;n++)r[n].textContent=W[n]+"\u2000"+aA.get(Q[n]);var b="l"+"o"+"g"+"o",X=new Date;
if(X.getMonth()==3&&X.getDate()==1)b="lo"+"go_cuc"+"umber";this.HL.setAttribute("src",PIMG[b]);this.a4E.setAttribute("src",PIMG["b"+"o"+"t"+"t"+"o"+"m"])};
dn.V3.prototype.du=function(r,Q){var W=Math.min(Q*1.5,Math.min(r,600));N.Jx(this.T,r,W*.26);var b=this.T.width,X=this.T.height;
this.agZ=E.Q(b*X*4);this.m.style.width=r+"px";this.m.style.height=Q+"px";this.afs.style.width=r+"px";
this.EP.style.marginLeft=Math.max(0,Math.round((r+200-600)/2)-200)+"px";this.HL.style.width=W+"px";this.a4E.style.width=W+"px"};
dn.V3.prototype.VJ=function(r,Q){if(!r.l1)this.EP.removeChild(this.ol[2])};function Storage(r){eg.call(this);
var Q=this.m=N.S("div","storage");N.U9(Q);var W=this.a7I=N.S("style");Q.appendChild(W);Q.setAttribute("tabindex","0");
Q.style.outline="none";Q.addEventListener("keydown",this.a0C.bind(this),!1);this.wB=this.a2S.bind(this);
var b=N.S("div");Q.appendChild(b);var X=this.afR.bind(this);this.cN=N.S("div","bar");b.appendChild(this.cN);
this.x_=N.S("div","fls scrollable");b.appendChild(this.x_);this.jT=N.S("div");b.appendChild(this.jT);
this.jT.setAttribute("style","position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.um=N.S("div","bar");this.um.textContent="Name: ";var D=this.j_=N.S("input");D.setAttribute("type","text");
this.um.appendChild(D);var h=this.B8=N.S("div","btn");h.textContent="Save";this.um.appendChild(h);N.gJ(h,X);
N.AM(this.x_,this.wB);this.iv=0;this.yc=r;this.Kc=N.S("div","btn");N.gJ(this.Kc,this.Oc.bind(this));
this.Lq=new ka([{name:[6,20]}]);this.Lq.parent=this;this.wo=new ka([{name:[5,4]},{name:[6,37]}]);this.wo.parent=this;
this.Lq.Z("select",this.Yo,this);this.wo.Z("select",this.Yo,this);this.x_.addEventListener("contextmenu",this.wB);
this.awH=N.S("span");this.zK=N.S("span");this.zK.setAttribute("style","position:absolute; right:0; top:5px;");
this.nK=[];this.Pj=[];for(var n=0;n<3;n++){var S=N.S("div","btn");this.nK.push(S);this.awH.appendChild(S);
N.gJ(S,X);S.textContent=["\u2B9C","\u2B9E","\uD83E\uDC09"][n]}for(var n=0;n<4;n++){var S=N.S("div","btn");
this.Pj.push(S);this.zK.appendChild(S);N.gJ(S,X)}window.addEventListener("message",this.a5v.bind(this),!1);
this.a5_=!1;setInterval(this.arS.bind(this),300);this.CX()}Storage.prototype=new eg;Storage.rF=!1;Storage.prototype.arS=function(){var r=N.Z_(this.m),Q=this.a5_;
if(r&&!Q){history.pushState(null,null,location.href);window.onpopstate=function(){history.go(1)}}if(!r&&Q){window.onpopstate=function(){};
history.go(-1)}this.a5_=r};Storage.prototype.CX=function(){if(this.ia)document.body.removeChild(this.ia);
this.ly=[[]];this.IK=0;this.a4v={"/":[]};this.jE="";this.DO=null;this.sX=[];this.Vp=[];var r="code/storages/"+Storage.list[this.yc][1],Q=this.ia=N.S("iframe");
Q.setAttribute("src",r);Q.setAttribute("style","display:none");document.body.appendChild(Q)};Storage.prototype.zY=function(){return this.a4v[this.Vt()]};
Storage.prototype.$F=function(r){this.a4v[this.Vt()]=r};Storage.agb=function(n){var r=Storage.v7[n];
if(r==null)r=Storage.v7[n]=new Storage(n);return r};Storage.v7=[];Storage.V4=0;Storage.anz="";Storage.l9=function(r,Q){Storage.V4=r;
Storage.anz=Q;var W=Storage.v7;for(var n=0;n<W.length;n++)if(W[n])W[n].YY()};Storage.mc=0;Storage.rt=2;
Storage.Xj=0;Storage.list=[["This Device","deviceStorage.html","strg/tdevice"],["Google Drive","googledriveStorage.html?mode=0","strg/gdrive"],["Shared Drives","googledriveStorage.html?mode=1","strg/gdrive"],["Private Folder","googledriveStorage.html?mode=3","strg/gdrive"],["OneDrive","onedriveStorage.html","strg/onedrive"],["Dropbox","dropboxStorage.html","strg/dropbox"]];
Storage.a64=function(r){for(var n=0;n<Storage.v7.length;n++){if(Storage.v7[n]&&Storage.v7[n].ia.contentWindow==r)return!0}return!1};
Storage.prototype.a0C=function(r){if(r.target.tagName=="INPUT")return;var Q=h8;if(Q.Gx(r.code,Q.ZI)&&this.Vt().length!=0)this.ar8();
else if(r.ctrlKey){if(Q.Gx(r.code,Q.c)){var W=[];this.$F(W);for(var n=0;n<this.DO.length;n++)W.push(n);
this.Tp()}if(Q.Gx(r.code,Q.n8)){}if(Q.Gx(r.code,Q.iA)){}}else if(Q.Gx(r.code,Q.Cj)){var b=this.zY();
if(b.length!=0)this.a9a(b[0])}else if(Q.Gx(r.code,Q.$G)){this.IK=Math.max(this.IK-1,0);this.Oc()}else{var X=0;
for(var n=65;n<=90;n++)if(r.code=="Key"+String.fromCharCode(n))X=n;if(X!=0){var D=String.fromCharCode(X).toLowerCase(),h=[],S=this.DO,a;
for(var n=0;n<S.length;n++)if(S[n][0][0].toLowerCase()==D)h.push(n);if(h.length==0)return;var b=this.zY();
if(b.length==0)a=h[0];else{var K=h.indexOf(b[0]);if(K==-1){a=h[0];for(var n=0;n<h.length;n++)if(h[n]>b[0]){a=h[n];
break}}else a=h[(K+1)%h.length]}this.$F([a]);this.Tp(!0)}}};Storage.prototype.du=function(r,Q){this.Dr=r;
this.J9=Q;this.m.style.width=r+"px";this.m.style.height=Q+"px";var W=r-30,b=Math.floor(W/230),W=Math.floor(W/b)-70;
this.a7I.textContent=".storage .tile .name {  width:"+W+"px;  }";this.j_.style.width=r-140+"px";this.x_.style.width=this.cN.style.width=r-20+"px";
this.x_.style.height=Q-70-(Storage.V4==0?0:45)+"px"};Storage.prototype.Oc=function(){this.wU("show",this.Vt())};
Storage.prototype.Vt=function(r){var Q=this.ly[this.IK],W="/"+Q.join("/");if(r&&Q.length!=0)W+="/";return W};
Storage.prototype.afR=function(r){var Q=r.currentTarget,W=this.IK,b=this.nK.indexOf(Q),X=this.Pj.indexOf(Q);
if(b>=0&&!this.a7j(b))return;if(b==0){this.IK=Math.max(W-1,0);this.Oc()}if(b==1){this.IK=Math.min(W+1,this.ly.length-1);
this.Oc()}if(b==2){var D=this.ly[W+1]=this.ly[W].slice(0);D.pop();this.IK++;this.ly=this.ly.slice(0,this.IK+1);
this.Oc()}if(X==0){Storage.mc=(Storage.mc+1)%2;this.YY()}if(X==1){Storage.rt=(Storage.rt+1)%3;this.YY()}if(X==2){Storage.Xj=(Storage.Xj+1)%3;
this.YY()}if(X==3){this.wU("forget","")}if(Q==this.B8){var h=this.j_.value.trim(),S=this.DO,a=-1;if(!h.toLowerCase().endsWith("psd")){alert("File Name has to end with \".psd\".");
return}for(var n=0;n<S.length;n++)if(S[n][0]==h)a=n;if(a!=-1){this.a4Q("Do you really want to replace \""+h+"\"?",this.a6F.bind(this))}else this.a6F()}};
Storage.prototype.a6F=function(){var r=this.j_.value.trim(),Q=[this.yc,this.Vt(!0)+r];this.m6({d:e.c.aoL,Pl:Q});
this.$(new km("canclose",!0))};Storage.prototype.Yo=function(r){var Q=r.target.z_()[0];if(r.target==this.Lq){var W=[aA.get([6,20]),-1,0];
this.DO.push(W);this.YY();var n=this.DO.indexOf(W),b=this.sX[n].querySelector(".name");console.log(b);
var X=new h4.uC(b,function(h){this.m6({d:e.c.lr,gC:aA.get([1,2])+" ..."});var S=this.Vt(!0)+h+"/";console.log(S);
this.wU("save",S)}.bind(this),!0)}else{if(Q==0)this.ar8();else{var n=this.zY()[0],D=this.DO[n],b=this.sX[n].querySelector(".name");
console.log(b);b.innerHTML=D[0];var X=new h4.uC(b,function(h){h=h.trim();var S=this.DO;for(var n=0;n<S.length;
n++)if(S[n][0]==h){alert("Item with such name already exists.");this.YY();return}var a=this.Vt(!0)+D[0]+":"+h;
console.log(a);this.wU("rename",a)}.bind(this))}}};Storage.prototype.ar8=function(){var r=this.zY();
this.a4Q("Do you really want to delete "+(r.length==1?"\""+this.DO[r[0]][0]+"\"":"these files")+"?",this.BW.bind(this))};
Storage.prototype.a4Q=function(r,Q){var W={d:e.c.Re,wv:"confirm",h:r,eq:Q};this.m6(W)};Storage.prototype.BW=function(){this.m6({d:e.c.lr,gC:aA.get([5,4])+" ..."});
this.Vp=this.a6C();this.afI()};Storage.prototype.afI=function(){if(this.Vp.length==0){this.m6({d:e.c.CB,gC:aA.get([5,4])+" ..."});
this.$F([]);this.Oc()}else this.wU("delete",this.Vp.pop()[1])};Storage.prototype.a6C=function(){var r=[],Q=this.Vt(!0),W=this.zY();
for(var n=0;n<W.length;n++){var b=this.DO[W[n]];r.push([this.yc,Q+b[0]])}return r};Storage.prototype.wU=function(r,Q){this.jE=r;
if(Storage.rF)console.log(Math.floor(Date.now()/1e3),"{\"code\": \""+r+"\", \"prm\": "+JSON.stringify(Q)+"  }");
this.ia.contentWindow.postMessage("{\"code\": \""+r+"\", \"prm\": "+JSON.stringify(Q)+"  }","*")};Storage.prototype.a5v=function(r){if(r.source!=this.ia.contentWindow)return;
if(typeof r.data=="string"){if(Storage.rF)console.log("==",Math.floor(Date.now()/1e3),r.data);var Q=JSON.parse(r.data),W=Q.code,b=Q.prm;
if(W=="ready"){if(b)this.Oc();else{N.WC(this.cN);N.WC(this.x_);this.cN.appendChild(this.Kc)}}else if(W!="0"){alert(b);
this.YY()}else if(this.jE=="show"){this.DO=b;this.YY()}else if(this.jE=="save"){this.m6({d:e.c.CB,gC:aA.get([1,2])+" ..."});
this.Oc()}else if(this.jE=="delete"){this.afI()}else if(this.jE=="forget"){this.CX()}else if(this.jE=="rename"){this.Oc()}else throw W}else{if(Storage.rF)console.log(Math.floor(Date.now()/1e3,"==","ArrayBuffer[]"));
this.m6({d:e.c.arX,Pl:this.a6C()[0],v9:r.data});this.m6({d:e.c.CB,gC:"Opening ..."})}};Storage.prototype.a7j=function(n){if(n==0)return this.IK>0;
if(n==1)return this.IK<this.ly.length-1;if(n==2)return this.Vt()!="/"};Storage.prototype.YY=function(){var r=this.DO,Q=Storage.rt,W=Storage.mc,b=Storage.Xj;
if(r==null)return;r.sort(function(R,z){var G=R[1]==-1?1:5,V=z[1]==-1?1:5,y=0;if(Math.min(G,V)==1&&G!=V)return G-V;
else if(G==1||Q==0)y=R[0].toLowerCase()<z[0].toLowerCase()?-1:1;else if(Q==1)y=R[1]-z[1];else if(Q==2)y=R[2]-z[2];
if(W==1)y=-y;return y});var X=this.x_,D=this.cN,h=this.ly[this.IK];N.WC(X);N.WC(D);this.sX=[];for(var n=0;
n<3;n++)if(this.a7j(n))N.Q5(this.nK[n],"disabled");else N.lB(this.nK[n],"disabled");D.appendChild(this.awH);
D.appendChild(this.zK);var S=N.S("span");S.textContent="/";D.appendChild(S);for(var n=0;n<h.length;n++){var S=N.S("span");
S.textContent=h[n];D.appendChild(S);var S=N.S("span");S.textContent="/";D.appendChild(S)}var a=["tile","icon","litm"][b];
for(var n=0;n<r.length;n++){var K=r[n],Y=K[1]==-1,d=Y?"":hb.Vh(K[1]),j=N.S("div","cont "+a);X.appendChild(j);
this.sX.push(j);j.setAttribute("title",K[0]+(Y?"":"\nSize: "+d+"\nDate Modified: "+new Date(K[2]*1e3).toLocaleString().replaceAll(". ",".")));
var U=N.S("img");U.setAttribute("src",Y?Storage.aw1:K[3]?K[3]:Storage.p3);if(!Y&&K[3])U.setAttribute("style","box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var I=N.S("span","name"),f=K[0];if(a=="icon"&&f.length>30)f=f.slice(0,24)+".."+f.slice(f.length-5);I.textContent=f;
j.appendChild(U);j.appendChild(I);if(a!="icon"&&!Y){if(a=="tile")N.Hr(I);var g=N.S("span");g.textContent=d;
g.style.opacity="0.8";(a=="tile"?I:j).appendChild(g)}var H=K[0].split("."),u=(H.length==1?"":H.pop()).toUpperCase();
if(a!="litm"&&!Y&&K[3]==null){var s=N.S("span","ext");s.textContent=u;var _=Storage.Q8[u];s.style.backgroundColor=_?_:Storage.a6a(u);
j.appendChild(s)}N.AM(j,this.wB);j.addEventListener("contextmenu",this.wB)}this.Tp();var i=this.um.parentNode!=null,M=Storage.V4,T=this.m;
if(i&&M==0)T.removeChild(this.um);if(!i&&M==1)T.appendChild(this.um);this.du(this.Dr,this.J9);this.r()};
Storage.prototype.Tp=function(r){var Q=this.sX,W=this.DO,b=this.zY(),X=!1,D=0;for(var n=0;n<Q.length;
n++){var h=W[n],S=h[1]==-1,a=Q[n];if(Storage.V4==1&&!S&&!h[0].toLowerCase().endsWith(".psd"))a.style.display="none";
else a.style.display="auto";if(b.indexOf(n)==-1)N.Q5(a,"active");else{if(S)X=!0;else D+=h[1];N.lB(a,"active");
if(r)a.scrollIntoView({block:"center",behavior:"smooth"})}}var K=X?"":hb.Vh(D);this.jT.textContent=b.length==0?"":b.length+" item"+(b.length==1?"":"s")+" selected\u2001"+K;
this.j_.value=b.length==1&&!X?W[b[0]][0]:Storage.anz};Storage.prototype.a9a=function(n){var r=this.DO[n];
if(r[1]==-1){var Q=this.ly[this.IK].slice(0);Q.push(r[0]);this.IK++;this.ly[this.IK]=Q;this.ly=this.ly.slice(0,this.IK+1);
this.$F([]);this.Oc()}else if(Storage.V4==0){this.m6({d:e.c.lr,gC:"Opening ..."});this.$(new km("canclose",!0));
var W=this.Vt(!0)+r[0];this.wU("load",W)}};Storage.prototype.r=function(){var r=Storage.rt,Q=Storage.mc,W=Storage.Xj;
this.Pj[0].textContent=["\uD83E\uDC0B","\uD83E\uDC09"][Q];this.Pj[1].textContent=aA.get([[12,48],[12,14,0],"Date"][r]);
this.Pj[2].textContent=aA.get(["Tiles","Icons",[25,3,1]][W]);this.Pj[3].textContent="\u2716";this.Kc.textContent=aA.get([[23,6],Storage.list[this.yc][0]])};
Storage.prototype.a2S=function(r){this.m6({d:e.c.yL});if(r.button==3||r.button==4){if(Date.now()-this.aeb>50){var Q=this.IK;
if(r.button==3)this.IK=Math.max(Q-1,0);else this.IK=Math.min(Q+1,this.ly.length-1);this.Oc()}this.aeb=Date.now();
return}r.stopPropagation();var n=this.sX.indexOf(r.currentTarget);if(r.type=="contextmenu"){if(this.DO==null)return;
r.preventDefault();var W=n==-1?this.Lq:this.wo;W.parent=this;W.r();this.m6({d:e.c.I2,MY:W,x:r.clientX+4,y:r.clientY});
return}var b=this.zY(),X=b.indexOf(n);if(r.button!=0&&X!=-1)return;if(r.target==this.x_)this.$F([]);
else{if(r.ctrlKey){if(X==-1)b.push(n);else b.splice(X,1)}else if(r.shiftKey&&b.length!=0){var D=b[0];
if(D<n){var h=n;n=D;D=h}b=[];this.$F(b);for(var S=n;S<=D;S++)b.push(S)}else{this.$F([n]);if(Date.now()-this.iv<300&&b.length!=0&&b[0]==n){this.a9a(n);
this.iv=0}}}this.iv=Date.now();this.Tp()};Storage.prototype.m6=function(r){var Q=new km(e.E.L,!0);Q.data=r;
this.$(Q)};Storage.prototype.a4f=function(r,Q){this.m6({d:e.c.lr,gC:aA.get([1,2])+" ..."});this.wU("save",r);
if(Storage.rF)console.log(Math.floor(Date.now()/1e3),"ArrayBuffer[]");this.ia.contentWindow.postMessage(Q,"*")};
Storage.Q8={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.a6a=function(r){r=r.toLowerCase();var Q=0;
for(var n=0;n<r.length;n++)Q+=r.charCodeAt(n)*613<<8*n;return"#"+E.Y0(Q&16777215)};Storage.aw1="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.p3="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
function dW(r){eg.call(this);var Q=this.m=N.S("div","form scrollable padded label12");this.xX=r;this.D8=null;
var W=[],b=dW.bD[r];this.$e=[];for(var X in b){var D=parseInt(X.slice(1)),h=D%10==0?"":"\u2800\u2800- ";
W.push(h+b[X]);this.$e.push(D)}this.EF=[new eM("Name",null,30),new eM("Description",null,30,4),r==0?new eM("File"," www.Photopea.com#i...",17):new bI("File",!1,!1),new eM("Thumbnail URL","* Use Imgur.com etc.",17),new fk("Category",W),new dL("Make Public"),new fG("<< Back",null,null,!0),new fG("Save",null,null,!0)];
if(r==0)this.EF.push(new aQ("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new aQ("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\"."));
if(r==1)this.EF.push(new aQ("\"File\" - select a .JSON file of a plugin from your computer. The content must be: {\"name\": ..., \"url\":..., \"icon\":... }"));
if(r!=0)this.EF.push(new aQ("Do not load any file to preserve the old version."));for(var n=0;n<this.EF.length;
n++){var S=this.EF[n];Q.appendChild(S.m);S.parent=this;if(n!=4&&n!=6)N.Hr(Q);if(S instanceof fG)S.Z("click",this.aff,this)}}dW.prototype=new eg;
dW.prototype.aff=function(r){if(r.target==this.EF[6]){this.$(new km("back"));return}var Q=this.EF[3].G().trim(),W=Q.startsWith("http")&&(Q.endsWith(".jpeg")||Q.endsWith(".jpg")||Q.endsWith(".png")||Q.endsWith(".gif"));
if(!W){alert("Thumbnail URL is incorrect.");return}var b=new XMLHttpRequest,X="mirror.php?url="+encodeURIComponent(Q);
b.open("GET",X);b.responseType="arraybuffer";b.onload=this.atg.bind(this);b.send()};dW.prototype.atg=function(r){var Q=r.target.response,W=Q.byteLength;
if(W>2e5&&fH.E$(Q)!="gif"){alert("Thumbnail is too large ("+hb.Vh(W)+"). Make it under 200 kB.");return}var b=this.EF[2].G(),X=Object.keys(b);
if(this.xX!=0&&X.length!=0){console.log(b);dR.Ow.ahU(b[X[0]].buffer,X[0],this.aek.bind(this),"pp-resources");
return}this.aek()};dW.prototype.aek=function(r){var Q=this.xX,W="name desc file thmb catg publ".split(" "),b=this.D8;
for(var n=0;n<6;n++){if(Q!=0&&n==2)continue;var X=this.EF[n].G();if(n<=3){X=X.trim();if(X.length==0){alert("One of values is empty.");
return}}if(n==2){var D=X.split("#i");if(D.length!=2||D[1].length!=8){alert("File ID is incorrect.");
return}X=D.pop()}if(n==4)X=this.$e[X];b[W[n]]=X}if(Q!=0){if(r)b.file=r;else if(b.file==null){alert("Select a file from your computer.");
return}}if(b.utme.length==0)b.utme=""+Math.round(Date.now()/1e3);b.type=Q;this.$(new km("save"))};dW.prototype.r=function(){};
dW.prototype.t=function(r){var Q=this.D8=JSON.parse(JSON.stringify(r)),W="name desc file thmb catg publ".split(" ");
for(var n=0;n<6;n++){var b=Q[W[n]];if(b!=""&&n==2)b="https://photopea.com#i"+b;if(n==4)b=this.$e.indexOf(b);
if(n==5&&b==null)b=!0;this.EF[n].t(b)}};dW.prototype.G=function(){return JSON.parse(JSON.stringify(this.D8))};
dW.bD=[{c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c25:"Diploma / Certificate",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"},{c0:"Resources",c1:"Image Elements",c2:"Fonts",c10:"Effects",c11:"Filters",c12:"Combine Elements",c13:"Text Effects",c20:"Generate Content",c30:"Other Plugins"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"}];
function i3(r){eg.call(this);this.DQ=r;this.m=N.S("div","");this.wi=[];this.Md=null;this.a0s=[]}i3.prototype=new eg;
i3.prototype.Su=function(r){};i3.prototype.yG=function(){return!1};i3.prototype.du=function(r,Q){};i3.prototype.VJ=function(r,Q){};
i3.prototype.tg=function(r){};i3.prototype.t=function(r,Q,W,b,X,D){var h=[],S=this.wi,a=0,K=jv.lN["s"+this.DQ];
K?K(r,h,D):this.KA(r,h,D);for(var n=0;n<S.length;n++)if(!(S[n]instanceof aQ))S[n].t(h[a++]);if(r.RndS)this.Md=r.RndS.v};
i3.prototype.G=function(){var r=jv.fp(this.DQ),Q=[],W=this.wi,b=0;for(var n=0;n<W.length;n++)if(!(W[n]instanceof aQ))Q[b++]=W[n].G();
var X=jv.lN["g"+this.DQ];X?X(r,Q):this.eB(r,Q);if(r.RndS)r.RndS.v=this.Md;return r};i3.prototype.tf=function(r){};
i3.prototype.Pp=function(r){if(r&&r.target instanceof fG){this.Md=Math.floor(Math.random()*4294967295)}var Q=this.a0s;
for(var n=0;n<Q.length;n+=2){var W=this.wi[Q[n]],b=this.wi[Q[n+1]],X=W.G(),D=b.G();if(r.target==W)b.t(Math.max(X,D));
else W.t(Math.min(X,D))}this.$(new km(e.E.f))};i3.prototype.r=function(){for(var n=0;n<this.wi.length;
n++)this.wi[n].r();var r=this.aiA;if(r)r.r()};i3.prototype.DD=function(r){N.lB(this.m,"form");var Q=this.wi;
for(var n=0;n<Q.length;n++){var W=Q[n];W.parent=this;W.Z(e.E.f,this.Pp,this);this.m.appendChild(W.m);
if(W instanceof dL&&Q[n+1]instanceof c_)continue;if(r&&r.indexOf(n)!=-1)N.MP(this.m);else N.Hr(this.m)}var b=jv.fp(this.DQ);
if(b.RndS){var X=this.aiA=new fG([25,1,2],null,null,!0);this.m.appendChild(X.m);X.Z("click",this.Pp,this)}};
i3.prototype.eP=function(){return!1};i3.prototype.pZ=function(r,Q,W,b,X){};i3.prototype.Dc=function(r,Q,W,b,X){};
i3.prototype.$v=function(r,Q,W,b,X){};i3.prototype.eB=function(r,Q){};i3.prototype.KA=function(r,Q){};
i3.prototype.Sb=function(r){var Q=r.target.G().indexOf(!0)!=-1,W=new km(e.E.L,!0);W.YI=!0;W.data={d:Q?e.c.cf:e.c.L2,b:m.K1};
this.$(W);W=new km(e.E.s,!0);W.b=m.K1;W.YI=!0;W.data={d:"supertool",b:Q?this:null};this.$(W)};i3.ad$=function(r){r.eP=function(){return!0};
r.pZ=function(Q,W,b,X,D){this.iL=!0;this.aqR(Q,D)};r.Dc=function(Q,W,b,X,D){if(!this.iL)return;this.aqR(Q,D)};
r.$v=function(Q,W,b,X,D){this.iL=!1};r.aqR=function(Q,W){var b=new aV(0,0,Q.e,Q.n);if(Q.P)b=Q.P.rect;
var X=Q.u.GF(W.x,W.y);X.x-=b.x;X.y-=b.y;function D(h,S){return Math.round(Math.max(0,Math.min(100,100*h/S)))}this.wi[2].t(D(X.x,b.e));
this.wi[3].t(D(X.y,b.n));this.Pp()}};i3.Bokh=function(){i3.call(this,"Bokh");this.wi=[new fk("Depth Map",["A","b"]),new aX("Focal Distance",0,255),new dL([4,11]),new fk([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new aX([12,56],0,100),new aX([12,15],0,360),new aX([12,2],0,100),new aX([4,13],0,255),new aX([24,6],0,100),new gU([12,58],[[12,59,0],[12,59,1]]),new dL([12,60])];
this.DD([5,7])};i3.Bokh.prototype=new i3;i3.Bokh.prototype.KA=function(r,Q,W){var b=[[22,5,0],[6,5,3],[6,2]],X=r.BkDi.v.BtDi,D=r.BkDc,h=0;
if(X=="BeIn")h=0;else if(X=="BeIt"&&D.v.BtDc=="BeCt")h=1;else if(X=="BeIt"&&D.v.BtDc=="BeCm")h=2;else h=3+D.v;
for(var n=0;n<W[1].length;n++)b.push(W[1][n].name);this.wi[0].In(b,[3]);Q[0]=h;Q[1]=r.BkDp.v;Q[2]=r.BkDs.v;
Q[3]=parseInt(r.BkIs.v.BtIs.slice(3))-3;Q[4]=r.BkIb.v;Q[5]=r.BkIr.v;Q[6]=r.BkSb.v;Q[7]=r.BkSt.v;Q[8]=r.BkNa.v;
Q[9]=r.BkNt.v.BtNt=="BeNu"?0:1;Q[10]=r.BkNm.v};i3.Bokh.prototype.eB=function(r,Q){var W;if(Q[0]==0){W="BeIn";
delete r.BkDc}else if(Q[0]<3){W="BeIt";r.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][Q[0]-1]}}}else{W="BeIa";
r.BkDc={t:"long",v:Q[0]-3}}r.BkDi.v.BtDi=W;r.BkDp.v=Q[1];r.BkDs.v=Q[2];r.BkIs.v.BtIs="BeS"+(3+Q[3]);
r.BkIb.v=Q[4];r.BkIr.v=Q[5];r.BkSb.v=Q[6];r.BkSt.v=Q[7];r.BkNa.v=Q[8];r.BkNt.v.BtNt=["BeNu","BeNg"][Q[9]];
r.BkNm.v=Q[10]};i3.oilPaint=function(){i3.call(this,"oilPaint");this.wi=[new aX([12,56],.1,10,"px",!0),new aX("Cleanliness",0,10,"px",!0),new aX([12,38],.1,10,null,!0),new aX("Bristle Detail",0,10,null,!0),new dL("Lighting"),new aX("Shine",0,10,null,!0),new iU([12,15])];
this.DD()};i3.oilPaint.prototype=new i3;i3.oilPaint.prototype.KA=function(r,Q){var W="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var n=0;n<W.length;n++)Q[n]=r[W[n]].v;Q[6]=[r.LghD.v]};i3.oilPaint.prototype.eB=function(r,Q){var W="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var n=0;n<W.length;n++)r[W[n]].v=Q[n];r.LghD.v=Q[6][0]};i3.TrcC=function(){i3.call(this,"TrcC");
this.wi=[new aX("Level",0,255),new gU([12,69],[[19,4,1],[19,4,0]])];this.DD()};i3.TrcC.prototype=new i3;
i3.TrcC.prototype.KA=function(r,Q){Q[0]=r.Lvl.v;Q[1]=["Lwr","Upr"].indexOf(r.Edg.v.CntE)};i3.TrcC.prototype.eB=function(r,Q){r.Lvl.v=Q[0];
r.Edg.v.CntE=["Lwr","Upr"][Q[1]]};i3["Dfs "]=function(){i3.call(this,"Dfs ");this.wi=[new gU([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];
this.DD()};i3["Dfs "].prototype=new i3;i3["Dfs "].prototype.KA=function(r,Q){Q[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(r.Md.v.DfsM)};
i3["Dfs "].prototype.eB=function(r,Q){r.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][Q[0]]};i3.Embs=function(){i3.call(this,"Embs");
this.wi=[new iU([12,15]),new aX([12,42],1,100,"px"),new aX([12,57],1,500,"%")];this.DD()};i3.Embs.prototype=new i3;
i3.Embs.prototype.KA=function(r,Q){Q[0]=[r.Angl.v];Q[1]=r.Hght.v;Q[2]=r.Amnt.v};i3.Embs.prototype.eB=function(r,Q){r.Angl.v=Q[0][0];
r.Hght.v=Q[1];r.Amnt.v=Q[2]};i3["Wnd "]=function(){i3.call(this,"Wnd ");this.wi=[new gU([12,32],["Wind","Blast","Stagger"]),new gU([12,33],["From the Right","From the Left"])];
this.DD()};i3["Wnd "].prototype=new i3;i3["Wnd "].prototype.KA=function(r,Q){Q[0]=["Wnd","Blst","Stgr"].indexOf(r.WndM.v.WndM);
Q[1]=["Left","Rght"].indexOf(r.Drct.v.Drct)};i3["Wnd "].prototype.eB=function(r,Q){r.WndM.v.WndM=["Wnd","Blst","Stgr"][Q[0]];
r.Drct.v.Drct=["Left","Rght"][Q[1]]};i3.denoise=function(){i3.call(this,"denoise");this.wi=[new aX([12,64],0,10),new aX([12,65],0,100,"%")];
this.DD()};i3.denoise.prototype=new i3;i3.denoise.prototype.KA=function(r,Q){var W=r.channelDenoise.v[0].v;
Q[0]=W.Amnt.v;Q[1]=W.EdgF.v};i3.denoise.prototype.eB=function(r,Q){var W=r.channelDenoise.v[0].v;W.Amnt.v=Q[0];
W.EdgF.v=Q[1]};i3.lightFilterGradient=function(){i3.call(this,"lightFilterGradient");this.wi=[new aX([24,3,1],0,100,"px",1,!0),new aX([12,38],0,200,"%"),new dL([4,11]),new aX("High",0,100,"%"),new aX("Medium",0,100,"%"),new aX("Low",0,100,"%")];
this.DD()};i3.lightFilterGradient.prototype=new i3;i3.lightFilterGradient.prototype.KA=function(r,Q){Q[0]=r.blur.v;
Q[1]=r.textureScale.v*100;Q[2]=r.Scl.v==-1;var W=r.Dtl.v;Q[3]=W[0].v*100;Q[4]=W[1].v*100;Q[5]=W[2].v*100};
i3.lightFilterGradient.prototype.eB=function(r,Q){r.blur.v=Q[0];r.textureScale.v=Q[1]/100;r.Scl.v=Q[2]?-1:1;
var W=r.Dtl.v;W[0].v=Q[3]/100;W[1].v=Q[4]/100;W[2].v=Q[5]/100};i3.Fbrs=function(){i3.call(this,"Fbrs");
this.wi=[new aX("Variance",1,64),new aX([12,64],1,64)];this.DD()};i3.Fbrs.prototype=new i3;i3.Fbrs.prototype.KA=function(r,Q){Q[0]=r.Vrnc.v;
Q[1]=r.Strg.v};i3.Fbrs.prototype.eB=function(r,Q){r.Vrnc.v=Q[0];r.Strg.v=Q[1]};i3.LnsF=function(){i3.call(this,"LnsF");
this.wi=[new aX([12,2],10,300,"%"),new gU([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new aX("Position X",0,100,"%"),new aX("Position Y",0,100,"%")];
this.DD()};i3.LnsF.prototype=new i3;i3.LnsF.prototype.KA=function(r,Q){Q[0]=r.Brgh.v;Q[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(r.Lns.v.Lns);
var W=r.FlrC.v;Q[2]=Math.round(W.Hrzn.v*100);Q[3]=Math.round(W.Vrtc.v*100)};i3.LnsF.prototype.eB=function(r,Q){r.Brgh.v=Q[0];
r.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][Q[1]];var W=r.FlrC.v;W.Hrzn.v=Q[2]/100;W.Vrtc.v=Q[3]/100};i3.ad$(i3.LnsF.prototype);
i3.blendOptions=function(){i3.call(this,"blendOptions");this.wi.push(new fk([12,19,0],hG.tJ,!1,hG.WU));
this.wi.push(new aX([12,0],0,100,"%"));this.DD()};i3.blendOptions.prototype=new i3;i3.blendOptions.prototype.KA=function(r,Q){Q[0]=hG.it.indexOf(r.Md.v.BlnM);
Q[1]=r.Opct.v.val};i3.blendOptions.prototype.eB=function(r,Q){r.Md.v.BlnM=hG.it[Q[0]];r.Opct.v.val=Q[1]};
i3.LnCr=function(){i3.call(this,"LnCr");this.wi=[new aX([12,57],-100,100),new aX([12,38],10,150,"%")];
this.DD()};i3.LnCr.prototype=new i3;i3.LnCr.prototype.KA=function(r,Q){Q[0]=r.LnIa.v;Q[1]=r.LnSi.v};
i3.LnCr.prototype.eB=function(r,Q){r.LnIa.v=Q[0];r.LnSi.v=Q[1]};i3.adaptCorrect=function(){i3.call(this,"adaptCorrect");
var r=kh;this.wi=[new aQ([19,6,0]),new r([12,57],0,100,"%"),new r("Tone",0,100,"%"),new r([12,56],0,200,"px"),new aQ([19,6,2]),new r([12,57],0,100,"%"),new r("Tone",0,100,"%"),new r([12,56],0,200,"px"),new aQ([3]),new r([13,0],-100,100)];
this.DD([3,7])};i3.adaptCorrect.prototype=new i3;i3.adaptCorrect.prototype.KA=function(r,Q){var W=r.sdwM.v;
Q[0]=W.Amnt.v.val;Q[1]=W.Wdth.v.val;Q[2]=W.Rds.v;var W=r.hglM.v;Q[3]=W.Amnt.v.val;Q[4]=W.Wdth.v.val;
Q[5]=W.Rds.v;Q[6]=r.ClrC.v};i3.adaptCorrect.prototype.eB=function(r,Q){var W=r.sdwM.v;W.Amnt.v.val=Q[0];
W.Wdth.v.val=Q[1];W.Rds.v=Q[2];var W=r.hglM.v;W.Amnt.v.val=Q[3];W.Wdth.v.val=Q[4];W.Rds.v=Q[5];r.ClrC.v=Q[6]};
i3.Flam=function(){i3.call(this,"Flam");var r=this.wi=[new fk([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new aX([12,80,0],20,1e3,"px"),new dL("Randomize Length"),new aX([12,41],5,600,"px"),new aX([12,15],0,360,"\xB0"),new aX("Interval",10,200,"px"),new dL("Adapt Interval for Loops"),new c_(!1),new fk([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new aX("Turbulent",0,100),new aX("Jag",0,100),new aX([12,0],0,100),new aX("Lines",2,30),new aX("Bottom",0,100),new fk([12,22],["Normal","Violent","Flat"]),new fk([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new dL("Randomize Shape"),new aX("Random Seed",0,100)];
this.DD();var Q=this.m;N.WC(Q);var W=new gU(null,["Basic","Advanced"]);W.Z(e.E.f,this.adA,this);Q.appendChild(W.m);
N.MP(Q);var b=N.S("div"),X=N.S("div");this.aul=[b,X];Q.appendChild(b);for(var n=0;n<r.length;n++){(n<9?b:X).appendChild(r[n].m);
if(n==6)N.Hr(b)}r[0].Z(e.E.f,this.aiM,this);this.aiM()};i3.Flam.prototype=new i3;i3.Flam.prototype.aiM=function(r){var Q=this.wi,n=Q[0].G();
Q[1].fy(n!=0&&n!=5);Q[2].fy(n!=0&&n!=5);Q[4].fy(n!=0&&n!=5&&n!=1);Q[5].fy(n!=0&&n!=5);Q[6].fy(n!=0&&n!=5)};
i3.Flam.prototype.adA=function(r){var n=r.target.G(),Q=this.aul,W=this.m;W.removeChild(Q[1-n]);W.appendChild(Q[n])};
i3.boxblur=function(){i3.call(this,"boxblur");this.wi=[new aX([12,56],1,200," px")];this.DD()};i3.boxblur.prototype=new i3;
i3.boxblur.prototype.KA=function(r,Q){Q[0]=r.Rds.v.val};i3.boxblur.prototype.eB=function(r,Q){r.Rds.v.val=Q[0]};
i3.GsnB=function(){i3.call(this,"GsnB");this.wi=[new aX([12,56],.1,400,"px",1,!0)];this.DD()};i3.GsnB.prototype=new i3;
i3.Dila=function(){i3.call(this,"Dila");this.wi=[new aX([11,12,1],0,20,"px",0),new aX([12,56],0,400,"px",0,!0)];
this.DD()};i3.Dila.prototype=new i3;i3.MtnB=function(){i3.call(this,"MtnB");this.wi=[new iU([12,15]),new aX([12,28],1,100," px")];
this.DD()};i3.MtnB.prototype=new i3;i3.RdlB=function(){i3.call(this,"RdlB");this.wi=[new aX([12,57],1,100),new gU([12,36],["Spin","Zoom"]),new aX("Position X",0,100,"%"),new aX("Position Y",0,100,"%")];
this.DD()};i3.RdlB.prototype=new i3;i3.RdlB.prototype.KA=function(r,Q){Q[0]=r.Amnt.v;Q[1]=["Spn","Zm"].indexOf(r.BlrM.v.BlrM);
Q[2]=r.Cntr.v.Hrzn.v*100;Q[3]=r.Cntr.v.Vrtc.v*100};i3.RdlB.prototype.eB=function(r,Q){r.Amnt.v=Q[0];
r.BlrM.v.BlrM=["Spn","Zm"][Q[1]];r.Cntr.v.Hrzn.v=Q[2]/100;r.Cntr.v.Vrtc.v=Q[3]/100};i3.ad$(i3.RdlB.prototype);
i3.Dspl=function(){i3.call(this,"Dspl");this.wi=[new fk([6,36,3],["a","b"]),new aX([22,4,0],-100,100,"px"),new aX([22,4,1],-100,100,"px"),new fk([24,18,0],[[24,18,3],[24,18,2]])];
this.DD()};i3.Dspl.prototype=new i3;i3.Dspl.prototype.KA=function(r,Q,W){this.a7a=[];this.Mq=[];var b=-1,X=W?W[0]:null;
if(X==null)X=this.ab0;else this.ab0=X;if(X)for(var n=0;n<X.length;n++){var D=X[n];this.a7a.push(D.Ao.trim());
this.Mq.push(D.c5);if(D.c5==r.DspF.v.pth)b=n}this.wi[0].In(this.a7a);Q[0]=b==-1?0:b;Q[1]=r.HrzS.v;Q[2]=r.VrtS.v;
Q[3]=["WrpA","RptE"].indexOf(r.UndA.v.UndA)};i3.Dspl.prototype.eB=function(r,Q){if(this.Mq.length==0)return;
r.DspF.v.pth=this.Mq[Q[0]];r.HrzS.v=Q[1];r.VrtS.v=Q[2];r.UndA.v.UndA=["WrpA","RptE"][Q[3]]};i3.Pnch=function(){i3.call(this,"Pnch");
this.wi=[new aX([12,57],-100,100,"%")];this.DD()};i3.Pnch.prototype=new i3;i3["Plr "]=function(){i3.call(this,"Plr ");
this.wi=[new gU(null,["Rect to Polar","Polar to Rect"])];this.DD()};i3["Plr "].prototype=new i3;i3.Rple=function(){i3.call(this,"Rple");
this.wi=[new aX([12,57],-999,999),new fk([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];this.DD()};i3.Rple.prototype=new i3;
i3["Shr "]=function(){i3.call(this,"Shr ");this.wi=[new am(!0,!0),new fk([24,18,0],[[24,18,3],[24,18,2]])];
this.DD()};i3["Shr "].prototype=new i3;i3["Shr "].prototype.KA=function(r,Q){var W=new au(0,255/127,255/127,0,-2,128),b=JSON.parse(JSON.stringify(r.ShrP.v));
E.FB.D(b,W);Q[0]=b;Q[1]=["WrpA","RptE"].indexOf(r.UndA.v.UndA)};i3["Shr "].prototype.eB=function(r,Q){var W=new au(0,255/127,255/127,0,-2,128);
W.j4();E.FB.D(Q[0],W);r.ShrP.v=Q[0];r.ShrE.v=Q[0].length-1;r.UndA.v.UndA=["WrpA","RptE"][Q[1]]};i3.Sphr=function(){i3.call(this,"Sphr");
this.wi=[new aX([12,57],-100,100),new fk([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.DD()};i3.Sphr.prototype=new i3;
i3.Sphr.prototype.KA=function(r,Q){Q[0]=r.Amnt.v;Q[1]=["Nrml","HrzO","VrtO"].indexOf(r.SphM.v.SphM)};
i3.Sphr.prototype.eB=function(r,Q){r.Amnt.v=Q[0];r.SphM.v.SphM=["Nrml","HrzO","VrtO"][Q[1]]};i3.Dthr=function(){i3.call(this,"Dthr");
this.wi=[new fk("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"])];this.DD()};i3.Dthr.prototype=new i3;
i3.Dthr.prototype.KA=function(r,Q){Q[0]=r.Plte.v};i3.Dthr.prototype.eB=function(r,Q){r.Plte.v=Q[0]};
i3.Part=function(){i3.call(this,"Part");this.wi=[new aX([15,5,1],0,100,"%"),new aX([12,14,0],1,50,"px"),new aX([12,34],0,100,"%"),new aX([12,2],10,1e3,"%"),new c_(!0),new aX("Time",0,1,null,3),new aX("Turbulence",0,100,"%"),new dL("Blink"),new dL("Fall")];
this.DD([4])};i3.Part.prototype=new i3;i3.Part.prototype.KA=function(r,Q){Q[0]=r.Cont.v;Q[1]=r.Size.v;
Q[2]=r.Dpth.v;Q[3]=r.Brgh.v;Q[4]=r.Clr.v;Q[5]=r.Time.v;Q[6]=r.Turb.v;Q[7]=r.Blnk.v;Q[8]=r.Fall.v};i3.Part.prototype.eB=function(r,Q){r.Cont.v=Q[0];
r.Size.v=Q[1];r.Dpth.v=Q[2];r.Brgh.v=Q[3];r.Clr.v=Q[4];r.Time.v=Q[5];r.Turb.v=Q[6];r.Blnk.v=Q[7];r.Fall.v=Q[8]};
i3.Twrl=function(){i3.call(this,"Twrl");this.wi=[new aX([12,15],-999,999)];this.DD()};i3.Twrl.prototype=new i3;
i3.Wave=function(){i3.call(this,"Wave");this.a0s=[1,2,3,4];this.wi=[new aX("Number of Generators",1,100),new kh("Min Length",1,999),new kh("Max Length",1,999),new kh("Min Ampl.",1,999),new kh("Max Ampl.",1,999),new kh("Scale X",1,100,"%"),new kh("Scale Y",1,100,"%"),new gU([12,44],["Sine","Triangle",[12,93,3]]),new fk([24,18,0],[[24,18,3],[24,18,2]])];
this.DD()};i3.Wave.prototype=new i3;i3.ZgZg=function(){i3.call(this,"ZgZg");this.wi=[new aX([12,57],-100,100),new aX("Ridges",0,20),new fk([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.DD()};i3.ZgZg.prototype=new i3;i3.surfaceBlur=function(){i3.call(this,"surfaceBlur");this.wi=[new aX([12,56],1,200," px"),new aX([4,13],1,255," px")];
this.DD()};i3.surfaceBlur.prototype=new i3;i3.surfaceBlur.prototype.KA=function(r,Q){Q[0]=r.Rds.v.val;
Q[1]=r.Thsh.v};i3.surfaceBlur.prototype.eB=function(r,Q){r.Rds.v.val=Q[0];r.Thsh.v=Q[1]};i3.AdNs=function(){i3.call(this,"AdNs");
this.wi=[new aX([12,57],0,200," %"),new fk([12,58],[[12,59,1],[12,59,0]]),new dL([12,60])];this.DD()};
i3.AdNs.prototype=new i3;i3.DstS=function(){i3.call(this,"DstS");this.wi=[new aX([12,56],1,200," px"),new aX([4,13],1,255," px")];
this.DD()};i3.DstS.prototype=new i3;i3["Mdn "]=function(){i3.call(this,"Mdn ");this.wi=[new aX([12,56],1,200," px")];
this.DD()};i3["Mdn "].prototype=new i3;i3["Mdn "].prototype.KA=function(r,Q){Q[0]=r.Rds.v.val};i3["Mdn "].prototype.eB=function(r,Q){r.Rds.v.val=Q[0]};
i3.ClrH=function(){i3.call(this,"ClrH");this.wi=[new aX([12,56],4,100," px")];for(var n=1;n<4;n++)this.wi.push(new aX("Angle "+n,0,90," \xB0"));
this.DD()};i3.ClrH.prototype=new i3;i3.ClrH.prototype.KA=function(r,Q){Q[0]=r.Rds.v;for(var n=1;n<4;
n++)Q[n]=r["Ang"+n].v};i3.ClrH.prototype.eB=function(r,Q){r.Rds.v=Q[0];for(var n=1;n<4;n++)r["Ang"+n].v=Q[n]};
i3.ClrH.prototype.r=function(){var r=this.wi;r[0].r();for(var n=1;n<4;n++)r[n].NM(aA.get([12,15])+" "+n)};
i3.Crst=function(){i3.call(this,"Crst");this.wi=[new aX([12,61],3,100," px")];this.DD()};i3.Crst.prototype=new i3;
i3.Crst.prototype.KA=function(r,Q){Q[0]=r.ClSz.v};i3.Crst.prototype.eB=function(r,Q){r.ClSz.v=Q[0]};
i3.Mztn=function(){i3.call(this,"Mztn");this.wi.push(new fk([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),null,[4,3,3]));
this.Mq="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.DD()};i3.Mztn.prototype=new i3;
i3.Mztn.prototype.KA=function(r,Q){Q[0]=this.Mq.indexOf(r.MztT.v.MztT)};i3.Mztn.prototype.eB=function(r,Q){r.MztT.v.MztT=this.Mq[Q[0]]};
i3["Msc "]=function(){i3.call(this,"Msc ");this.wi=[new aX([12,61],2,200," px")];this.DD()};i3["Msc "].prototype=new i3;
i3["Msc "].prototype.KA=function(r,Q){Q[0]=r.ClSz.v.val};i3["Msc "].prototype.eB=function(r,Q){r.ClSz.v.val=Q[0]};
i3.Pntl=function(){i3.call(this,"Pntl");this.wi=[new aX([12,61],3,100," px")];this.DD()};i3.Pntl.prototype=new i3;
i3.Pntl.prototype.KA=function(r,Q){Q[0]=r.ClSz.v};i3.Pntl.prototype.eB=function(r,Q){r.ClSz.v=Q[0]};
i3.smartSharpen=function(){i3.call(this,"smartSharpen");this.wi=[new aX([12,57],1,200,"%"),new aX([12,56],0,200,"px",1,!0)];
this.DD()};i3.smartSharpen.prototype=new i3;i3.smartSharpen.prototype.KA=function(r,Q){Q[0]=r.Amnt.v.val;
Q[1]=r.Rds.v.val};i3.smartSharpen.prototype.eB=function(r,Q){r.Amnt.v.val=Q[0];r.Rds.v.val=Q[1]};i3.UnsM=function(){i3.call(this,"UnsM");
this.wi=[new aX([12,57],1,200," %"),new aX([12,56],.1,400,"px",1,!0),new aX([4,13],0,255," ")];this.DD()};
i3.UnsM.prototype=new i3;i3.HghP=function(){i3.call(this,"HghP");this.wi=[new aX([12,56],.1,400,"px",1,!0)];
this.DD()};i3.HghP.prototype=new i3;i3.HsbP=function(){i3.call(this,"HsbP");this.wi=[new gU("Input",["RGB","HSB","HSL"]),new gU("Output",["RGB","HSB","HSL"])];
this.DD()};i3.HsbP.prototype=new i3;i3["Mxm "]=function(){i3.call(this,"Mxm ");this.wi=[new aX([12,56],.1,200," px",1,!0),new fk([12,76,1],[[12,93,3],"Circle"])];
this.DD()};i3["Mxm "].prototype=new i3;i3["Mnm "]=function(){i3.call(this,"Mnm ");this.wi=[new aX([12,56],.1,200," px",1,!0),new fk([12,76,1],[[12,93,3],"Circle"])];
this.DD()};i3["Mnm "].prototype=new i3;i3.Ofst=function(){i3.call(this,"Ofst");this.wi=[new aX([22,4,0],-1024,1024," px"),new aX([22,4,1],-1024,1024," px"),new fk([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.DD()};i3.Ofst.prototype=new i3;i3.Kale=function(){i3.call(this,"Kale");this.wi=[new kh("Mirrors",2,20),new kh([12,15],0,360,"\xB0")];
this.DD()};i3.Kale.prototype=new i3;i3.Kale.prototype.KA=function(r,Q){Q[0]=r.Mirr.v;Q[1]=r.MRot.v};
i3.Kale.prototype.eB=function(r,Q){r.Mirr.v=Q[0];r.MRot.v=Q[1]};i3.Rept=function(){i3.call(this,"Rept");
this.wi=[new kh([12,38],1,300," %"),new kh("Row Shift",-50,50," %"),new kh("Space X",-99,200," %"),new kh("Space Y",-99,200," %"),new dL([4,16,2]),new iU([12,15])];
this.DD()};i3.Rept.prototype=new i3;i3.Rept.prototype.KA=function(r,Q){Q[0]=r.Scl.v.val;Q[1]=r.Rsft.v.val;
Q[2]=r.SpcX.v.val;Q[3]=r.SpcY.v.val;Q[4]=r.SpcC.v;Q[5]=[r.Angl.v]};i3.Rept.prototype.eB=function(r,Q){r.Scl.v.val=Q[0];
r.Rsft.v.val=Q[1];r.SpcX.v.val=Q[2];r.SpcY.v.val=Q[3];r.SpcC.v=Q[4];r.Angl.v=Q[5][0];return r};i3.Ctoa=function(){i3.call(this,"Ctoa");
this.wi=[new aQ([13,0]),new c_(!0),new aX(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new aX(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.DD()};i3.Ctoa.prototype=new i3;i3.Ctoa.prototype.KA=function(r,Q){Q[0]=r.Clr.v;Q[1]=r.Trsp.v.val;
Q[2]=r.Opct.v.val};i3.Ctoa.prototype.eB=function(r,Q){r.Clr.v=Q[0];r.Trsp.v.val=Q[1];r.Opct.v.val=Q[2]};
i3.LqFy=function(){i3.call(this,"LqFy");this.Zr=!1;this._w=!1;this.td=null;this.a33=null;this.b=0;this.gg=-1;
this.a={sQ:[[{b:{id:0,name:[24,1,0,1,0],$d:"liq/smudge"}}],[{b:{id:1,name:[24,1,0,1,1],$d:"liq/reconstruct"}}],[{b:{id:2,name:[24,1,0,1,2],$d:"liq/smooth"}}],[{b:{id:3,name:[24,1,0,1,3],$d:"liq/twirl"}}],[{b:{id:4,name:[24,1,0,1,4],$d:"liq/shrink"}}],[{b:{id:5,name:[24,1,0,1,5],$d:"liq/blow"}}],[{b:{id:6,name:[24,1,0,1,6],$d:"liq/pleft"}}],[{b:{id:7,name:"Hand",$d:"tools/hand"}}],[{b:{id:8,name:"Zoom In",$d:"zoomIn"}}],[{b:{id:9,name:"Zoom Out",$d:"zoomOut"}}]],keys:[]};
this.UQ=new es(this.a,!1);this.UQ.qc(0);this.UQ.Z(e.E.L,this.a4Y,this);this.vt=eW.X6();this.wH=null;
this.SC=[];this.wP=-1;this.CE=null;this.amp=null;this.Pw=null;this.wS=null;this.Oo=null;var r=N.S("div","flexrow");
this.Hb=r;this.m.appendChild(r);r.appendChild(this.UQ.m);this.view=new g_(!0);this.view.du(100,100);
this.view.Z("mousedown",this.DF,this);this.view.Z("mousemove",this.Fx,this);this.view.Z("mouseup",this.Tn,this);
this.view.Z("zoom",this.SN,this);r.appendChild(this.view.m);var Q=N.S("div","form");r.appendChild(Q);
this.Oj=Q;Q.style.width="230px";this.Hm=[new aX([12,14,0],0,1e3,null,!1,!0),new aX([12,74],0,100,null,!1,!1),new aX([12,84],0,100,null,!1,!1),new dL([12,46]),new aX([12,0],0,100,null,!1,!1),new dL([24,18,5])];
var W=this.vt.Brsh.v;W.Dmtr.v.val=100;var b=[100,50,100,!1,100,!0];for(var n=0;n<this.Hm.length;n++){var X=this.Hm[n];
X.t(b[n]);if(n==4)X.si();X.Z(e.E.f,this.agm,this);Q.appendChild(X.m)}var D=this.a3F=new fG([1,12,2],!0,null,!0);
D.Z("click",this.qj,this);Q.appendChild(D.m);this.avM=this.Q7.bind(this);this.PN=new eg;this.PN.m=N.S("div","floatcont");
this.Xu=new fG("Menu",!1,null,!0);var h=this.Xu.m;h.setAttribute("style","position:absolute; right:13px; top:47px");
N.AM(h,this.a7W.bind(this))};i3.LqFy.prototype=new i3;i3.LqFy.prototype.yG=function(){return!0};i3.LqFy.prototype.Su=function(r){this.Oj.appendChild(r)};
i3.LqFy.prototype.a7W=function(r){if(N.Z_(this.PN.m))return;r.stopPropagation();var Q=this.Xu.m.getBoundingClientRect();
this.PN.m.appendChild(this.Oj);var W=new km(e.E.L,!0);W.data={d:e.c.I2,MY:this.PN,x:Q.right+Q.width-290,y:Q.top+Q.height};
this.$(W)};i3.LqFy.prototype.tf=function(r){this.Zr=r.j(h8._I);var Q=m.AZ.J_(this.vt,r);if(Q!=null){this.vt=Q;
this.SN();this.Hm[0].t(Q.Brsh.v.Dmtr.v.val)}else if(r.j(h8.DS)&&r.j(h8.Qf)){var W=this.SC;if(r.j(h8.NN)){if(this.wP+1<W.length)this.wP++}else if(this.wP>0)this.wP--;
this.wH.map=W[this.wP].slice(0);this.YY(null)}else if(this.b<=6)this.view.tf(r);var b=this.b,X=-1,D=r.j(h8._I);
if(D&&this.gg==-1){if(b==0)X=1;if(b==4)X=5;if(b==5)X=4;if(X!=-1)this.gg=b}if(!D&&this.gg!=-1){X=this.gg;
this.gg=-1}if(X!=-1){this.b=X;this.UQ.qc(this.b)}};i3.LqFy.prototype.a4Y=function(r){if(r.data.d==e.c.cf){var Q=this.b=r.data.b;
this.UQ.qc(this.b);this.view.tf(Q>6?g_.adf(Q-7):new h8)}};i3.LqFy.prototype.agm=function(r){var Q=r.currentTarget,n=this.Hm.indexOf(Q),W=this.vt.Brsh.v;
if(n==0){W.Dmtr.v.val=Q.G();this.SN()}this.Hm[4].fy(this.Hm[3].G());if(n>2)this.YY(null)};i3.LqFy.prototype.FU=function(){var r=this.SC;
this.wP++;r[this.wP]=this.wH.map.slice(0);while(r.length>this.wP+1)r.pop();while(r.length>50){r=r.slice(1);
this.wP--}};i3.LqFy.prototype.DF=function(r){this.td=this.view.S$();this.a33=new cp(0,0);this._w=!0;
window.requestAnimationFrame(this.avM)};i3.LqFy.prototype.Fx=function(r){var Q=this.view.S$(),W=new cp(Q.x-this.td.x,Q.y-this.td.y);
if(this.b==0||this.b==6)this.abW(W);this.td=Q};i3.LqFy.prototype.Tn=function(r){this.FU();this._w=!1};
i3.LqFy.prototype.Q7=function(r){if(this.b!=0&&this.b!=6)this.abW(new cp(0,0));if(this._w)window.requestAnimationFrame(this.avM)};
i3.LqFy.prototype.abW=function(r){var Q=this.wH,W=Q.Dr/this.CE.e,b=this.td,X=this.vt.Brsh.v,D=X.Dmtr.v.val,h=Date.now(),S=Q.Dr,a=Q.J9,K=Math.sqrt(r.x*r.x+r.y*r.y),Y=Math.max(1,Math.ceil(K/2)),d=r.x/Y,j=r.y/Y,U=b.clone(),I=this.b,f=this.Hm[1].G()/100,g=this.Hm[2].G()/100,H=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],u=H[I*2],s=H[I*2+1],_=(1-f)*u+f*s,i=D*W/2;
for(var n=0;n<Y;n++){var M=[];U.x+=d;U.y+=j;E.m4.aea(Q.map,S,a,I,U.x*W,U.y*W,i,f,g,d*W,j*W,M,this.Zr);
E.m4.ab6(S,a,Q.map,M,2*_*g)}var T=new aV(0,0,S,a),R=new aV(b.x*W,b.y*W,0,0);R.sg(D*W*.5,D*W*.5);var z=R.clone();
z.offset(r.x*W,r.y*W);R=R.Bc(z);var G=new aV(R.x/W,R.y/W,R.e/W,R.n/W);G=E.p.jq(G).ww(this.CE);this.Hm[5].t(!0);
this.YY(G)};i3.LqFy.prototype.SN=function(){var r=hS.AL(this.vt,null,this.view.LF()._);this.view.bj(r)};
i3.LqFy.prototype.t=function(r,Q,W,b,X){W=W.clone();if(Q==null)return;if(!b.s4(W)){var D=W.Bc(b),h=E.Q(D.O()*4);
E.TU(Q,W,h,D);Q=h;W=D;var S=E.Q(D.O()*4);E.TU(X,b,S,D);X=S}W.x=W.y=0;this.Pw=Q;this.amp=X;this.Oo=Q.slice(0);
this.wS=Q.slice(0);this.CE=W;this.wH=jd.ak(new Uint8Array(r.LqMe.v).buffer);var a=W.e,K=W.n;if(this.wH.Dr/a<.22){this.wH={Dr:Math.floor(a/4),J9:Math.floor(K/4)};
this.wH.map=new Float32Array(this.wH.Dr*this.wH.J9*2)}this.SC=[];this.wP=-1;this.FU();this.YY(null);
this.view.aa();this.SN()};i3.LqFy.prototype.G=function(){var r=jv.fp("LqFy"),Q=new Uint8Array(jd.T4(this.wH)),W=[];
for(var n=0;n<Q.length;n++)W.push(Q[n]);r.LqMe.v=W;return r};i3.LqFy.prototype.du=function(r,Q){this.UQ.du(r,Q);
var W=this.Xu.m,b=this.Oj;this.Hb.appendChild(b);this.Hb.appendChild(W);if(r>450&&r-Q>200){b.style.marginLeft="1em";
this.Hb.removeChild(W);this.view.du(r-238-45,Q)}else{b.style.marginLeft="";this.Hb.removeChild(b);this.view.du(r-40,Q)}};
i3.LqFy.prototype.r=function(){this.UQ.r();this.a3F.r();for(var n=0;n<this.Hm.length;n++)this.Hm[n].r()};
i3.LqFy.prototype.qj=function(){this.wH.map.fill(0);this.FU();this.YY(null)};i3.LqFy.prototype.YY=function(r){var Q=this.CE,W=this.Pw,b=this.Oo,X=this.wH;
if(this.Hm[5].G())E.m4.UL(W,this.wS,Q.e,Q.n,r,X.map,X.Dr,X.J9,0);else this.wS.set(W);if(this.Hm[3].nJ()){E.TU(this.amp,Q,b,Q,r?r:Q);
E.q.YB("norm",this.wS,Q,b,Q,r?r:Q,this.Hm[4].G()/100)}else E.qr(this.wS,b);this.view.t([{Kx:Q,data:b.buffer}])};
i3.GEfc=function(){i3.call(this,"GEfc");this.Hl=0;this.OG=0;this.Pw=null;this.Oo=null;this.CE=null;this.Ha=null;
this.D8=null;this.jo=0;var r=N.S("div","flexrow");this.Hb=r;this.m.appendChild(r);this.view=new g_(null);
this.view.du(100,100);r.appendChild(this.view.m);this.J7="";this.ZD=270;var Q=this.sC=N.S("div","form scrollable");
r.appendChild(Q);Q.setAttribute("style","width:"+this.ZD+"px;  margin-left:10px");var W=this.zK=N.S("div","form");
r.appendChild(W);W.setAttribute("style","width:230px;  margin-left:1em");this.Td={};for(var b in jA.names){var X=new i3.GEfc.pl(b);
X.parent=this;this.Td[b]=X;X.Z(e.E.f,this.at2,this)}this.w6=!0;this.Xu=new fG("Menu",null,null,!0);this.Xu.Z("click",this.atU,this);
r.appendChild(this.Xu.m);this.CF=new fG(">>",null,null,!0);this.CF.Z("click",this.a12,this);W.appendChild(this.CF.m);
this.RU=N.S("div");this.RU.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
W.appendChild(this.RU);this.eu=N.S("div");this.eu.style.minHeight="14em";this.eu.style.marginBottom="1em";
W.appendChild(this.eu);this.zu=N.S("div","lpbody scrollable");this.CK=N.S("div","lpfoot");W.appendChild(this.zu);
W.appendChild(this.CK);this.Z("click",this.ayJ,this);this.Fm=[];gq.XB([[5,3],[5,4]],this.Fm,this.CK,this.kl.bind(this))};
i3.GEfc.prototype=new i3;i3.GEfc.prototype.yG=function(){return!0};i3.GEfc.prototype.Su=function(r){this.RU.appendChild(r)};
i3.GEfc.prototype.VJ=function(r,Q){this.Ha=r};i3.GEfc.prototype.a12=function(r){var Q=this.sC.style.display!="none";
this.sC.style.display=Q?"none":"";this.CF.NM(Q?"<<":">>");this.du()};i3.GEfc.prototype.atU=function(r){this.w6=!this.w6;
this.du()};i3.GEfc.prototype.du=function(r,Q){var W=this.sC.style.display!="none";if(r!=null){this.Hl=r;
this.OG=Q;if(r<1e3&&W||r>=1e3&&!W){this.a12();W=!W}this.w6=r>600}else{r=this.Hl;Q=this.OG}var b=this.w6?240+(W?this.ZD+10:0):0;
if(N.Z_(this.zK)&&!this.w6){this.Hb.removeChild(this.sC);this.Hb.removeChild(this.zK)}if(!N.Z_(this.zK)&&this.w6){this.Hb.appendChild(this.sC);
this.Hb.appendChild(this.zK)}this.sC.style.height=Q+"px";this.view.du(r-b,Q);this.zu.style.height=Q-this.eu.getBoundingClientRect().height-96+"px";
this.Xu.m.setAttribute("style","position:absolute; top:46px;  right:"+(b+16)+"px")};i3.GEfc.prototype.avR=function(){var r=fH.vC.get("img/beach",!0)[0],Q=r.Kx,W=this.sC,b=Math.floor(N.i()*(this.ZD-40)/3),X=~~(b*.7),D=new aV(0,0,b,X),h=E.Q(b*X*4),S=h.slice(0),a=Math.round(10*N.i()),K=new ImageData(new Uint8ClampedArray(S.buffer),b,X);
E.TU(new Uint8Array(r.data),Q,h,new aV(Math.round((Q.e-b)/2),Math.round((Q.n-X)/2),b,X));var Y=N.S("canvas"),d=Y.getContext("2d");
Y.width=b;Y.height=X+Math.round(a*1.5);d.font=a+"px sans-serif";this.l3={};var j=this.as3.bind(this);
for(var n=0;n<jA.bD.length;n++){var U=jA.bD[n],I=N.S("div");W.appendChild(I);I.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
I.textContent=aA.get(U);for(var f in jA.names){var g=jA.names[f];if(g[0]!=n)continue;jA.EW(f,{rect:D,buffer:h},jA.fp(f),{o:0,W:0,k:0},{o:255,W:255,k:255},{rect:D,buffer:S},{});
d.fillStyle="black";d.fillRect(0,0,500,500);d.putImageData(K,0,0);var H=aA.get(g[1]);d.fillStyle="white";
d.fillText(H,(b-d.measureText(H).width)/2,X+Math.round(a*1.1));var u=N.S("div");W.appendChild(u);u.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
u.addEventListener("click",j,!1);var I=N.S("img");u.appendChild(I);I.setAttribute("src",Y.toDataURL());
I.setAttribute("style","width:"+b/N.i()+"px; margin-bottom:0px;");this.l3[f]=u}}};i3.GEfc.prototype.as3=function(r){var Q;
for(var W in this.l3)if(this.l3[W]==r.currentTarget)this.J7=W;this.at2()};i3.GEfc.prototype.kl=function(r){var Q=gq.YV(this.Fm,r),W=this.D8.GEfs.v,b=W[this.jo].v;
if(Q==0){W.push(JSON.parse(JSON.stringify(W[this.jo])));this.jo=W.length-1}else if(W.length>1){W.splice(this.jo,1);
if(this.jo==W.length)this.jo--}this.Xh();this.YY()};i3.GEfc.prototype.at2=function(r){var Q=this.J7,W;
if(r==null)W=jA.fp(Q);else W=this.Td[Q].G();this.D8.GEfs.v[this.jo].v=W;this.Xh();this.YY()};i3.GEfc.prototype.t=function(r,Q,W,b,X){if(this.l3==null)this.avR();
r=this.D8=JSON.parse(JSON.stringify(r));if(r.GEfs==null)r=this.D8={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:r}]}};
var D=r.GEfs.v;for(var n=0;n<D.length;n++)if(D[n].v.GELv==null)D[n].v.GELv={t:"bool",v:!0};this.jo=D.length-1;
this.Xh();W=W.clone();if(Q==null)return;if(!b.s4(W)&&jA.U3(r).x!=0){var h=W.Bc(b),S=E.Q(h.O()*4);E.TU(Q,W,S,h);
Q=S;W=h}W.x=W.y=0;this.Pw=Q;this.Oo=Q.slice(0);this.CE=W;this.YY();this.view.aa()};i3.GEfc.prototype.ayJ=function(r){var Q=r.data,n=Q.C_,W=this.D8.GEfs.v;
if(Q.YC){W[n].v.GELv.v=!W[n].v.GELv.v;this.YY()}else this.jo=n;this.Xh()};i3.GEfc.prototype.Xh=function(){var r=this.D8.GEfs.v,Q=r[this.jo].v,W=Q.GEfk.v.GEft,b=this.eu;
if(jA.names[W]==null){alert("Unsupported gallery filter");N.WC(b)}else{this.J7=W;for(var X in this.l3)N.Q5(this.l3[X],"selected");
N.lB(this.l3[W],"selected");var D=this.Td[W];D.t(Q);if(b.firstChild!=D.m){N.WC(b);b.appendChild(D.m)}}var h=[];
for(var n=0;n<r.length;n++){var S=r[n].v,a=jA.names[S.GEfk.v.GEft],K=new hm(n,!0,!0,null,a?a[1]:"Filter",n==this.jo,S.GELv.v);
K.parent=this;h.push(K.m)}N.WC(this.zu);h.reverse();for(var n=0;n<h.length;n++)this.zu.appendChild(h[n]);
this.du()};i3.GEfc.prototype.G=function(){return JSON.parse(JSON.stringify(this.D8))};i3.GEfc.prototype.YY=function(r){var Q=this.CE,W=this.Pw,b=this.Oo,X=this.J7,D=this.D8,h=this.Ha;
function S(a){return{o:a>>>16,W:a>>>8&255,k:a&255}}jv.EW("GEfc",{rect:this.CE,buffer:this.Pw},D,S(h.V8),S(h.tB),{rect:this.CE,buffer:this.Oo},null);
this.view.t([{Kx:Q,data:b.buffer}])};i3.GEfc.prototype.r=function(){for(var r in this.Td)this.Td[r].r();
gq.MC(this.Fm,["lrs/newlayer","lrs/bin"])};i3.GEfc.pl=function(r){eg.call(this);this.W8=r;this.m=N.S("div");
this.dV={};var Q=jA.fp(r);for(var W in Q){var b=null;if(W=="__name"||W=="classID"||W=="GEfk"||W=="GELv"||["FlRs"].indexOf(W)!=-1)continue;
else if(W=="EdgW")b=new aX("Edge Width",1,14);else if(W=="EdgB")b=new aX("Edge Brightness",0,r=="AccE"?50:20);
else if(W=="Smth")b=new aX([19,3,3],1,r=="Stmp"?50:15);else if(W=="ClSz")b=new aX([12,61],3,100);else if(W=="BrdT")b=new aX([7,9],1,20);
else if(W=="HghS")b=new aX([12,64],0,20);else if(W=="HlSz")b=new aX([12,14,0],1,15);else if(W=="Cntr")b=new aX([12,3,0],0,r=="WtrP"?100:50);
else if(W=="Shrp")b=new aX("Sharpness",0,40);else if(W=="SprR")b=new aX("Spray Radius",0,25);else if(W=="LgDr")b=new aX("Light/Dark Balance",0,r=="Stmp"?50:100);
else if(W=="Drkn")b=new aX("Darkness",1,50);else if(W=="Dstr")b=new aX("Distortion",0,20);else if(W=="Scln")b=new aX([12,38],50,200);
else if(W=="Rlf")b=new aX("Relief",0,r=="Ptch"||r=="NtPr"?25:50);else if(W=="ChAm")b=new aX("Thickness",1,7);
else if(W=="Pncl")b=new aX([19,2,5],1,30);else if(W=="StrP")b=new aX("Stroke Pressure",0,15);else if(W=="PprB")b=new aX("Paper Brightness",0,50);
else if(W=="BrsS")b=new aX("Brush Size",0,10);else if(W=="BrsD")b=new aX("Brush Detail",0,10);else if(W=="Txtr")b=new aX([12,67],1,3);
else if(W=="Grn")b=new aX("Grain",0,20);else if(W=="HghA")b=new aX("Highlight Area",0,20);else if(W=="Intn")b=new aX("Intensity",0,10);
else if(W=="Brgh")b=new aX("Glow Brightness",0,r=="WtrP"?100:50);else if(W=="StrS")b=new aX("Stroke Size",1,50);
else if(W=="StDt")b=new aX("Stroke Detail",1,3);else if(W=="Sftn")b=new aX("Softness",0,10);else if(W=="EdgT")b=new aX("Edge Thickness",0,10);
else if(W=="EdgI")b=new aX("Edge Intensity",0,10);else if(W=="Pstr")b=new aX("Posterization",0,6);else if(W=="Dfnt")b=new aX("Definition",0,25);
else if(W=="TxtC")b=new aX("Texture Coverage",0,50);else if(W=="ShdI")b=new aX("Shadow Intensity",0,10);
else if(W=="DrcB")b=new aX("Direction Balance",0,100);else if(W=="Strg")b=new aX([12,64],1,3);else if(W=="Blnc")b=new aX("Balance",0,10);
else if(W=="BlcI")b=new aX("Black Intensity",0,10);else if(W=="WhtI")b=new aX("White Intensity",0,10);
else if(W=="DrkI")b=new aX("Dark Intensity",0,50);else if(W=="LghI")b=new aX("Light Intensity",0,50);
else if(W=="StrW")b=new aX("Stroke Width",3,15);else if(W=="Grns")b=new aX("Graininess",0,r=="NtPr"?20:10);
else if(W=="GlwA")b=new aX("Glow Amount",0,20);else if(W=="ClrA")b=new aX("Clear Amount",0,20);else if(W=="ChrA")b=new aX("Charcoal Area",0,20);
else if(W=="ChlA")b=new aX("Chalk Area",0,20);else if(W=="FrgL")b=new aX("Foreground Level",1,15);else if(W=="BckL")b=new aX("Background Level",1,15);
else if(W=="WhtL")b=new aX("Background Level",0,50);else if(W=="BlcL")b=new aX("Foreground Level",0,50);
else if(W=="ImgB")b=new aX("Image Balance",0,50);else if(W=="Dnst")b=new aX([12,74],0,50);else if(W=="FbrL")b=new aX("Fiber Length",3,50);
else if(W=="CrcS")b=new aX("Crack Sapcing",2,100);else if(W=="CrcD")b=new aX("Crack Depth",0,10);else if(W=="CrcB")b=new aX("Crack Brightness",0,10);
else if(W=="TlSz")b=new aX("Tile Size",2,100);else if(W=="GrtW")b=new aX("Grout Width",1,15);else if(W=="LghG")b=new aX("Lighten Grout",0,10);
else if(W=="SqrS")b=new aX("Square Size",0,10);else if(W=="RplS")b=new aX("Ripple Size",1,15);else if(W=="RplM")b=new aX("Ripple Magnitude",0,20);
else if(W=="NmbL")b=new aX("Number of Levels",2,8);else if(W=="EdgS")b=new aX("Edge Simplicity",0,10);
else if(W=="EdgF")b=new aX("Edge Fidelity",1,3);else if(W=="Sz")b=r=="NGlw"?new aX("Glow Size",-24,24):new aX("Brush Size",1,50);
else if(W=="Dtl")b=r=="Chrc"?new aX("Detail",0,5):new aX("Detail",1,15);else if(W=="StrL")b=r=="InkO"?new aX("Stroke Length",1,50):new aX("Stroke Length",0,20);
else if(W=="TxtT")b=new fk([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(W=="BrsT")b=new fk("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(W=="Grnt")b=new fk("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(W=="SDir")b=new fk([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(W=="ScrT")b=new fk([12,62],["Circle","Dot",[10,35]]);
else if(W=="LghD"||W=="LghP")b=new fk("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(W=="Clr")b=new c_("Glow Color");else if(W=="InvT")b=new dL([4,11]);else console.log(W);b.Z(e.E.f,this.Gv,this);
b.parent=this;this.dV[W]=b;this.m.appendChild(b.m)}};i3.GEfc.pl.prototype=new eg;i3.GEfc.pl.prototype.Gv=function(r){this.$(new km(e.E.f,!1))};
i3.GEfc.a4i="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
i3.GEfc.pl.prototype.t=function(r){for(var Q in this.dV){var W;if(i3.GEfc.a4i.indexOf(Q)!=-1)W=r[Q].v;
else if(Q=="TxtT")W=jA.LP.indexOf(r[Q].v[Q]);else if(Q=="BrsT")W=jA.a8X.indexOf(r[Q].v[Q]);else if(Q=="LghD")W=jA.b7.indexOf(r[Q].v[Q]);
else if(Q=="LghP")W=jA.ad.indexOf(r[Q].v[Q]);else if(Q=="Grnt")W=jA.IX.indexOf(r[Q].v[Q]);else if(Q=="ScrT")W=jA.eT.indexOf(r[Q].v[Q]);
else if(Q=="SDir")W=jA.EG.indexOf(r[Q].v.StrD);this.dV[Q].t(W)}};i3.GEfc.pl.prototype.G=function(){var r=jA.fp(this.W8);
for(var Q in this.dV){var W=this.dV[Q].G();if(i3.GEfc.a4i.indexOf(Q)!=-1)r[Q].v=W;else if(Q=="TxtT")r[Q].v[Q]=jA.LP[W];
else if(Q=="BrsT")r[Q].v[Q]=jA.a8X[W];else if(Q=="LghD")r[Q].v[Q]=jA.b7[W];else if(Q=="LghP")r[Q].v[Q]=jA.ad[W];
else if(Q=="Grnt")r[Q].v[Q]=jA.IX[W];else if(Q=="ScrT")r[Q].v[Q]=jA.eT[W];else if(Q=="SDir")r[Q].v.StrD=jA.EG[W]}return r};
i3.GEfc.pl.prototype.r=function(){for(var r in this.dV)this.dV[r].r()};i3["Adobe Camera Raw Filter"]=function(r){i3.call(this,"Adobe Camera Raw Filter");
var Q=this.m;this.alb=r;this.MN=null;this.Bd=null;this.HL=null;N.lB(Q,"flexrow");var W=N.S("div"),b=N.S("div","padded");
Q.appendChild(W);Q.appendChild(b);this.fD=new g_;W.appendChild(this.fD.m);this.wR=new gf(225);this.wR.l9(4);
b.appendChild(this.wR.m);this.y2=N.S("div");this.y2.setAttribute("style","width:18em;");b.appendChild(this.y2);
this.arB=new aQ("Hi",!0);this.y2.appendChild(this.arB.m);this.A2=N.S("div","scrollable");this.y2.appendChild(this.A2);
this.dV=[new aX("Temperature",-100,100),new aX("Tint",-100,100),new aX([4,3],-4,4,null,!0),new aX([12,3,0],-100,100),new aX([4,4],-100,100),new aX([12,9],-100,100)];
this.Cg="Temp Tint Ex12 Cr12 Vibr Strt".split(" ");for(var n=0;n<this.dV.length;n++){var X=this.dV[n];
X.t(0);X.Z(e.E.f,this.YY,this);this.A2.appendChild(X.m);if(n==1||n==3)this.A2.appendChild(N.S("hr"))}};
i3["Adobe Camera Raw Filter"].prototype=new i3;i3["Adobe Camera Raw Filter"].prototype.yG=function(){return!0};
i3["Adobe Camera Raw Filter"].prototype.Su=function(r){this.y2.appendChild(r)};i3["Adobe Camera Raw Filter"].prototype.VJ=function(r,Q){this.wR.N$(b8.q6[r.RF]["--text-color"])};
i3["Adobe Camera Raw Filter"].prototype.t=function(r,Q,W,b,X){this.D8=r;var D=W.e,h=W.n,S=D*h;this.arB.t(D+" x "+h+", "+(D*h/1e6).toFixed(1)+" MPx");
this.CE=W;this.Bd=new Float32Array(D*h*3);this.HL=new Uint8Array(D*h*4);this.HL.fill(255);if(Q instanceof Float32Array)this.MN=Q;
else{var a=this.MN=new Float32Array(D*h*3);for(var n=0;n<S;n++){var K=n*3,Y=n*4;a[K+0]=Q[Y+0]*(1/255);
a[K+1]=Q[Y+1]*(1/255);a[K+2]=Q[Y+2]*(1/255)}}var d=this.Cg;for(var n=0;n<d.length;n++){var j=d[n];this.dV[n].t(r[j]?r[j].v:0)}this.YY(null,!0)};
i3["Adobe Camera Raw Filter"].prototype.G=function(r){if(r)return this.HL;return JSON.parse(JSON.stringify(this.D8))};
i3["Adobe Camera Raw Filter"].prototype.a3J=function(){this.MN=null;this.Bd=null;this.HL=null};i3["Adobe Camera Raw Filter"].prototype.YY=function(r,Q){var W=this.Cg;
for(var n=0;n<W.length;n++){var b=W[n];this.D8[b]={t:b=="Ex12"?"doub":"long",v:this.dV[n].G()}}var X=this.CE,D=X.O();
fs(this.MN,X.e,X.n,this.Bd,this.D8,this.alb);var h=Date.now(),S=this.Bd,a=this.HL;for(var n=0;n<D;n++){var K=n*3,Y=n*4;
a[Y+0]=~~(.5+S[K+0]*255);a[Y+1]=~~(.5+S[K+1]*255);a[Y+2]=~~(.5+S[K+2]*255)}console.log(Date.now()-h,"integer conversion");
h=Date.now();var d=E.hg(a,Math.max(1,Math.floor(D/2e5)));this.wR.t(d);console.log(Date.now()-h,"histogram done");
h=Date.now();this.fD.t([{Kx:X,data:a.buffer}]);if(Q)this.fD.aa()};i3["Adobe Camera Raw Filter"].prototype.du=function(r,Q){this.aeI=r-248;
this.a4L=Q;this.fD.du(this.aeI,this.a4L);this.A2.style.height=Q-236+"px"};i3["Adobe Camera Raw Filter"].prototype.r=function(){for(var n=0;
n<this.dV.length;n++)this.dV[n].r()};i3.blnc=function(){i3.call(this);var r=this.m;this.W0=null;this.sZ=new fk([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
this.sZ.Z(e.E.f,this.YY,this);r.appendChild(this.sZ.m);this.mv=[];for(var n=0;n<3;n++){var Q=new aX(bu._K[n],-100,100);
Q.Z(e.E.f,this.Pp,this);this.mv.push(Q);r.appendChild(Q.m)}this.jk=new dL([13,4]);this.jk.Z(e.E.f,this.Pp,this);
r.appendChild(this.jk.m)};i3.blnc.prototype=new i3;i3.blnc.prototype.r=function(){this.sZ.r();for(var n=0;
n<3;n++)this.mv[n].r();this.jk.r()};i3.blnc.prototype.t=function(r){this.W0=JSON.parse(JSON.stringify(r));
this.YY()};i3.blnc.prototype.G=function(r){var Q=["ShdL","MdtL","HghL"],W=this.W0[Q[this.sZ.G()]].v;
for(var n=0;n<3;n++)W[n].v=this.mv[n].G();this.W0.PrsL.v=this.jk.G();return JSON.parse(JSON.stringify(this.W0))};
i3.blnc.prototype.YY=function(r){var Q=["ShdL","MdtL","HghL"],W=this.W0[Q[this.sZ.G()]].v;for(var n=0;
n<3;n++)this.mv[n].t(W[n].v);this.jk.t(this.W0.PrsL.v)};i3.brit=function(){i3.call(this,"brit");this.wi.push(new aX([12,2],-150,150,""));
this.wi.push(new aX([12,3,0],-100,100,""));this.wi.push(new dL([12,3,1]));this.DD()};i3.brit.prototype=new i3;
i3.curv=function(){i3.call(this);this.value=null;this.ie=null;this.Ha=null;var r=this.m;this.kS=new fk("Preset",["basic","advanced"]);
this.kS.Z(e.E.f,this.a7x,this);r.appendChild(this.kS.m);N.Hr(r);this.R8=new fk([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.R8.Z(e.E.f,this.e8,this);r.appendChild(this.R8.m);this.tF=new fk(null,["Spline","Sketch"]);this.tF.Z(e.E.f,this.a7x,this);
r.appendChild(this.tF.m);this.wx=new is;this.wx.parent=this;this.wx.Z(e.E.f,this.Mu,this);r.appendChild(this.wx.m);
N.Hr(r);this.Un=new am;this.Un.Z(e.E.f,this.RW,this);r.appendChild(this.Un.m);this.R6=null;this.a6i=0;
this.Ed=0;N.Hr(r);this.IN=new eJ("Sample from image",gU.pQ(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.IN.Z(e.E.f,this.Sb,this);this.IN.m.style.marginRight="0";r.appendChild(this.IN.m)};i3.curv.prototype=new i3;
i3.curv.prototype.VJ=function(r,Q){if(Q==d4.KF||Q==d4.WK){var W=r.dI,b=["Default"];for(var n=0;n<W.length;
n++)b.push(W[n].presetFileName.v);b.push("Custom");this.kS.In(b,[1,W.length,1]);this.Ha=r}};i3.curv.prototype.du=function(r,Q){this.Un.du(r,Q)};
i3.curv.prototype.r=function(){this.R8.r();this.Un.r()};i3.curv.prototype.pv=function(){this.kS.t(this.Ha.dI.length+1)};
i3.curv.prototype.a7x=function(r){if(r.target==this.kS){var Q=this.kS.G(),W=this.Ha.dI,b;if(Q==0)b=jv.fp("curv");
else if(Q-1<W.length)b=JSON.parse(JSON.stringify(W[Q-1]));else return;this.t(b);this.Pp();return}this.pv();
var X=f0.S5(this.value,0),D=X.length==256?1:0,h=this.tF.G();if(D==h)return;var b=jv.fp("curv");if(h==1){var S=[];
for(var n=0;n<256;n++)S.push(n);f0.Q_(b,0,S)}this.t(b);this.Pp()};i3.curv.prototype.RW=function(){this.pv();
f0.Q_(this.value,this.R8.G(),this.Un.G());this.Pp()};i3.curv.prototype.e8=function(){var r=this.R8.G(),Q=f0.S5(this.value,r),W=Q.length==256?1:0;
this.tF.t(W);if(this.ie)this.Un.tg(this.ie[r],this.ie[4]*[1,.33,.33,.33][r],["#ccc","#fcc","#cfc","#ccf"][r]);
this.Un.t(Q)};i3.curv.prototype.eP=function(){return!0};i3.curv.prototype.pZ=function(r,Q,W,b,X){var D=this.value;
this.value=jv.fp("curv");this.Pp();var h=m.fV.hd(r,X,1),S=this.R6=[h>>>16&255,h>>>8&255,h&255];this.a6i=X.y;
var a=this.IN.G().indexOf(!0);if(a==0){var K=(S[0]+S[1]+S[2])/3,Y=this.R8.G(),d=f0.S5(D,Y),j=Y==0?K:S[Y-1],U=-1;
for(var n=0;n<d.length;n++)if(d[n].v.Hrzn.v==j)U=n;if(U==-1){var I=JSON.parse(JSON.stringify(d[0]));
I.v.Hrzn.v=j;I.v.Vrtc.v=j;d.push(I);d.sort(function(f,g){return f.v.Hrzn.v-g.v.Hrzn.v});f0.Q_(D,Y,d);
this.Ed=d.indexOf(I)}else this.Ed=U}this.t(D);this.Pp()};i3.curv.prototype.Dc=function(r,Q,W,b,X){if(this.R6==null)return;
if(this.IN.G().indexOf(!0)==0){var D=this.value,h=this.R8.G(),S=f0.S5(D,h),a=S[this.Ed];a.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(a.v.Hrzn.v+(this.a6i-X.y))));
f0.Q_(D,h,S);this.t(D);this.Pp()}};i3.curv.prototype.$v=function(r,Q,W,b,X){var D=this.value,h=this.R6,S=(h[0]+h[1]+h[2])/3,a=this.IN.G().indexOf(!0)-1;
if(a<=-1){}else for(var n=0;n<3;n++){var K=f0.S5(D,1+n);if(a==0)K[0].v.Hrzn.v=h[n];if(a==1){var Y=Math.log(h[n]/255)/Math.log(S/255),d=Math.min(999,Math.max(10,Math.round(100*Y)));
if(K.length==2)K.splice(1,0,JSON.parse(JSON.stringify(K[0])));K[1].v.Hrzn.v=127-Math.log(d/100)*127;
K[1].v.Vrtc.v=127}if(a==2)K[K.length-1].v.Hrzn.v=h[n];f0.Q_(D,1+n,K)}this.t(D);this.Pp();this.pv();this.R6=null};
i3.curv.prototype.t=function(r){this.value=r;this.e8()};i3.curv.prototype.tg=function(r){this.ie=r;this.e8()};
i3.curv.prototype.G=function(r){return JSON.parse(JSON.stringify(this.value))};i3.curv.prototype.Mu=function(){var r=this.wx.G(),Q=this.ie,W=this.value,b=E.AA(r,Q);
for(var n=0;n<4;n++){var X=b[n][0],D=b[n][1],h=b[n][2],S=[E.FB.gt(X,0,!0),E.FB.gt(D,255,!0)];if(h!=null)S.splice(1,0,E.FB.gt(128,h,!0));
f0.Q_(W,n,S)}this.e8();this.Pp()};i3.expA=function(){i3.call(this,"expA");this.wi.push(new aX([12,5],-20,20,null,2,!0));
this.wi.push(new aX([12,6],-.5,.5,null,2));this.wi.push(new aX([12,7],.01,9.99,null,2,!0));this.DD()};
i3.expA.prototype=new i3;i3.expA.prototype.KA=function(r,Q){Q[0]=r.Exps.v;Q[1]=r.Ofst?r.Ofst.v:0;Q[2]=r.gammaCorrection?r.gammaCorrection.v:1};
i3.expA.prototype.eB=function(r,Q){r.Exps={t:"doub",v:Q[0]};r.Ofst={t:"doub",v:Q[1]};r.gammaCorrection={t:"doub",v:Q[2]}};
i3.grdm=function(){i3.call(this,"grdm");this.wi.push(new h7(!0,null,!0));this.wi.push(new dL([12,23,0]));
this.DD()};i3.grdm.prototype=new i3;i3.grdm.prototype.KA=function(r,Q){Q[0]=r.Grad.v;Q[1]=r.Rvrs?r.Rvrs.v:!1};
i3.grdm.prototype.eB=function(r,Q){r.Grad.v=Q[0];r.Rvrs={t:"bool",v:Q[1]}};i3.grdm.prototype.VJ=function(r,Q){this.wi[0].iP(r.V8,r.tB);
if(Q==d4.KF||Q==d4.dt||Q==d4.GY)this.wi[0].UD(r.Tg)};i3.selc=function(){i3.call(this);var r=this.m;this.Ee=[];
this.U4=null;this.sZ=new fk([12,82],bu.R_.concat([[13,1,8],[13,1,13],[13,1,10]]));this.sZ.Z(e.E.f,this.Gv,this);
r.appendChild(this.sZ.m);N.Hr(r);for(var n=0;n<4;n++){var Q=new aX(bu.afF[n],-100,100,"%");Q.Z(e.E.f,this.Gv,this);
this.Ee.push(Q);r.appendChild(Q.m)}this.Ja=new dL([13,3]);r.appendChild(this.Ja.m);this.Ja.Z(e.E.f,this.Gv,this)};
i3.selc.prototype=new i3;i3.selc.prototype.r=function(){this.sZ.r();this.Ja.r();for(var n=0;n<4;n++)this.Ee[n].r()};
i3.selc.prototype.t=function(r){this.U4=JSON.parse(JSON.stringify(r));this.YY()};i3.selc.prototype.G=function(r){return JSON.parse(JSON.stringify(this.U4))};
i3.selc.prototype.Gv=function(r){if(r.target!=this.sZ){var Q=this.U4,W=[];for(var n=0;n<4;n++)W[n]=this.Ee[n].G();
b3.Q_(Q,this.sZ.G(),W);Q.Mthd={t:"enum",v:{CrcM:this.Ja.G()?"Absl":"Rltv"}}}this.YY();this.Pp()};i3.selc.prototype.YY=function(){var r=this.U4,Q=b3.S5(r,this.sZ.G());
for(var n=0;n<4;n++)this.Ee[n].t(Q[n]);this.Ja.t(r.Mthd?r.Mthd.v.CrcM=="Absl":!1)};i3.blwh=function(){i3.call(this,"blwh");
this.wi.push(new dL([12,11]));this.wi.push(new c_(!0));for(var n=0;n<6;n++)this.wi.push(new aX(bu.R_[n],-200,300));
this.DD()};i3.blwh.prototype=new i3;i3.blwh.prototype.KA=function(r,Q){Q[0]=r.useTint.v;Q[1]=r.tintColor.v;
var W="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var n=0;n<6;n++)Q[2+n]=r[W[n]].v};i3.blwh.prototype.eB=function(r,Q){r.useTint.v=Q[0];
r.tintColor.v=Q[1];var W="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var n=0;n<6;n++)r[W[n]].v=Q[2+n]};
i3.hue2=function(){i3.call(this);this.value=null;this.$j=null;this.agB=null;this.Ef=[[0,0,0],[0,50,0]];
var r=this.m;this.IN=new eJ(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.IN.Z(e.E.f,this.auw,this);this.IN.Z(e.E.f,this.Sb,this);r.appendChild(this.IN.m);var Q=this.wi=[new fk([12,12],["Master"].concat(bu.R_)),new aX([12,8],-180,180),new aX([12,9],-100,100),new aX([12,10],-100,100),new dL([12,11])];
for(var n=0;n<Q.length;n++){var W=Q[n];W.Z(e.E.f,n==0?this.e8:this.awa,this);r.appendChild(W.m)}this.sZ=Q[0];
this.cF=Q[1];this.or=Q[2];this.Qh=Q[3];this.iB=Q[4];this.Qq=new eJ("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.Qq.Z(e.E.f,this.auw,this);this.Qq.Z(e.E.f,this.Sb,this);this.Qq.m.style.marginLeft="20px";r.appendChild(this.Qq.m);
this.vi=N.S("div");r.appendChild(this.vi);this.Qy=this.wm.bind(this);this.t9=this.gP.bind(this);this.T=N.S("canvas");
this.hA=this.T.getContext("2d");this.eo=null;N.cI(this.T);N.Jx(this.T,282,18);r.appendChild(this.T);
N.AM(this.T,this.p9.bind(this))};i3.hue2.prototype=new i3;i3.hue2.prototype.du=function(r,Q){N.Jx(this.T,Math.round(r),18);
if(this.value)this.e8()};i3.hue2.prototype.auw=function(r){var Q=r.target.G().indexOf(!0);if(Q==-1)return;
if(r.target==this.IN)this.Qq.t([!1,!1,!1]);else this.IN.t([!1,!1,!1])};i3.hue2.prototype.p9=function(r){if(this.sZ.G()==0||this.iB.G())return;
var Q=N.ug(r,this.T).x/(this.T.width/N.i()),D=1e6;function W(d,j,U){return d<j&&j<U||U<d&&(d<j||j<U)}var b=this.CV(),X=-1;
for(var n=0;n<4;n++){var h=Math.abs(Q-(b[n]+n*1e-5));if(h<D){D=h;X=n}}if(D>.025){X=-1;var S=b[0],a=b[1],K=b[2],Y=b[3];
if(W(S,Q,a))X=4;if(W(a,Q,K))X=5;if(W(K,Q,Y))X=6}if(X==-1)return;this.eo=X;N.sY(document.body,this.Qy);
N.gJ(document.body,this.t9)};i3.hue2.prototype.wm=function(r){var Q=N.ug(r,this.T).x/(this.T.width/N.i()),W=this.CV(),b=this.eo;
for(var n=1;n<4;n++)if(W[n]<W[n-1]){W[n]+=1}if(b<4){var X=1e6,D=0;for(var n=-20;n<20;n++){var h=Math.abs(W[b]-(Q+n));
if(h<X){X=h;D=n}}Q+=D;W[b]=Q;for(var n=b+1;n<4;n++)if(W[n]<W[n-1]){W[n]=W[n-1]}for(var n=b-1;n>=0;n--)if(W[n]>W[n+1]){W[n]=W[n+1]}}else{var S=Q-(W[b-4]+W[b-3])/2;
if(S<-.5)S+=1;if(b==4){W[0]+=S;W[1]+=S;W[2]=Math.max(W[1],W[2]);W[3]=Math.max(W[1],W[3])}if(b==5)for(var n=0;
n<4;n++)W[n]+=S;if(b==6){W[2]+=S;W[3]+=S;W[0]=Math.min(W[0],W[2]);W[1]=Math.min(W[1],W[2])}}for(var n=1;
n<4;n++)if(W[n]<W[n-1])throw"e";this.ask(W);this.e8();this.Pp()};i3.hue2.prototype.gP=function(r){N.qa(document.body,this.Qy);
N.xf(document.body,this.t9)};i3.hue2.prototype.r=function(){for(var n=0;n<this.wi.length;n++)this.wi[n].r()};
i3.hue2.prototype.awa=function(r){var Q=this.value.Clrz.v=this.iB.G();if(Q)this.sZ.t(0);if(r&&r.target==this.iB){var W=Q?1:0;
this.Ef[1-W]=ku.S5(this.value,0);var b=this.Ef[W];ku.Q_(this.value,0,b);if(this.sZ.G()==0){this.cF.t(b[0]);
this.or.t(b[1]);this.Qh.t(b[2])}}var X=this.sZ.G(),D=ku.S5(this.value,X),b=X==0?D:D.mv;b[0]=this.cF.G();
var h=this.or.G();b[1]=Q?Math.max(0,h):h;b[2]=this.Qh.G();ku.Q_(this.value,X,D);this.e8();this.Pp()};
i3.hue2.prototype.e8=function(){var r=this.sZ.G(),Q=this.value.Clrz?this.value.Clrz.v:!1;this.iB.t(Q);
this.sZ.fy(!Q);this.Qq.fy(!Q&&r!=0);var W=ku.S5(this.value,r),b=r==0?W:W.mv;this.cF.t(b[0]);this.or.t(b[1]);
this.Qh.t(b[2]);var X=this.T.width,D=this.T.height,h=this.hA;h.clearRect(0,0,X,D);if(Q||r==0){this.vi.innerHTML="";
return}var S=W.o_;this.vi.innerHTML=S[0]+"\xB0 / "+S[1]+"\xB0<span style=\"float:right\">"+S[2]+"\xB0 \\ "+S[3]+"\xB0</span>";
var a=E.Q(X*4);d_.axM(a,1,X,-1,.5);var K=new ImageData(new Uint8ClampedArray(a.buffer),X,1),Y=Math.round(D/4);
for(var n=0;n<Y;n++)h.putImageData(K,0,n);function d(H,u,s){h.fillStyle=s;var _=Y*2;if(H<=u)h.fillRect(H*X,_,(u-H)*X,Y);
else{h.fillRect(0,_,u*X,Y);h.fillRect(H*X,_,(1-H)*X,Y)}}var j=this.CV();d(j[0],j[1],"#888888");d(j[1],j[2],"#cccccc");
d(j[2],j[3],"#888888");h.fillStyle="#ffffff";h.lineWidth=1;h.beginPath();var U=Y+.5,I=4*Y+.5;for(var n=0;
n<4;n++){var f=Math.floor(X*j[n])+.5,g=(n<2?-1:1)*Y*(n==1||n==2?1:2);h.moveTo(f,U);h.lineTo(f,I);h.lineTo(f+g,I);
h.lineTo(f+g,Y+Y+.5);h.closePath()}h.fill();h.stroke()};i3.hue2.prototype.CV=function(){var r=this.sZ.G(),Q=ku.S5(this.value,r).o_;
for(var n=0;n<4;n++)Q[n]=(1000.5+Q[n]/360)%1;return Q};i3.hue2.prototype.ask=function(r){var Q=this.sZ.G(),W=ku.S5(this.value,Q);
for(var n=0;n<4;n++)W.o_[n]=Math.round(36e3+(r[n]-.5)*360)%360;ku.Q_(this.value,Q,W)};i3.hue2.prototype.eP=function(){return!0};
i3.hue2.prototype.a9V=function(){var r=this.IN.G().indexOf(!0),Q=this.Qq.G().indexOf(!0);return r!=-1?r:Q!=-1?Q+1:-1};
i3.hue2.prototype.pZ=function(r,Q,W,b,X){var D=this.a9V();if(D==-1)return;var h=this.value;this.value=jv.fp("hue2");
this.Pp();var S=m.fV.hd(r,X,1);this.t(h);var a=[S>>>16&255,S>>>8&255,S&255],K=E.kd(a[0]/255,a[1]/255,a[2]/255);
if(D==0){this.sZ.t(1+Math.round(K.J9*6)%6)}else{var Y=this.CV(),d=.5+K.J9,j=1/12,U=Y[1],I=Y[2];if(I<U){I++;
if(d<U&&d+1-I<U-d)d++}var f=U<=d&&d<=I;if(D==1){U=d-j/2;I=d+j/2}else if(D==2&&!f){U=Math.min(d,U);I=Math.max(d,I)}else if(D==3&&f){if(d-U<I-d)U=d;
else I=d}Y=[U-j,U,I,I+j];this.ask(Y)}this.Pp();this.$j=X.x;this.agB=this.or.G()};i3.hue2.prototype.Dc=function(r,Q,W,b,X){var D=this.a9V();
if(D==-1)return;if(D==0){if(this.$j!=null){var h=X.x-this.$j;h=Math.max(-100,Math.min(100,this.agB+.5*h));
this.or.t(h);this.awa()}}};i3.hue2.prototype.$v=function(r,Q,W,b,X){this.$j=null};i3.hue2.prototype.t=function(r){this.value=JSON.parse(JSON.stringify(r));
var Q=this.value.Clrz?this.value.Clrz.v:!1;this.Ef[Q?1:0]=ku.S5(this.value,0);this.e8()};i3.hue2.prototype.G=function(r){return JSON.parse(JSON.stringify(this.value))};
i3.levl=function(){function r(){i3.call(this);this.value=null;this.ie=null;this.Ob=[new cp(0,0),new cp(0,0),new cp(0,0),new cp(0,0),new cp(0,0)];
this.Az=-1;this.Qy=this.wm.bind(this);this.t9=this.gP.bind(this);var Q=this.m;this.R8=new fk([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.R8.Z(e.E.f,this.e8,this);Q.appendChild(this.R8.m);this.wx=new is;this.wx.parent=this;this.wx.Z(e.E.f,this.Mu,this);
Q.appendChild(this.wx.m);var W=N.S("div","");Q.appendChild(W);var b=N.S("div","");Q.appendChild(b);this.T=N.S("canvas");
W.appendChild(this.T);this.hA=this.T.getContext("2d");this.qs=new cp(256,120);this.T.setAttribute("style","display:block");
N.cI(this.T);N.AM(this.T,this.p9.bind(this));this.no=N.S("canvas","");b.appendChild(this.no);this.Ze=this.no.getContext("2d");
this.bA=new cp(this.qs.x,40);this.no.setAttribute("style","display:block");N.cI(this.no);N.AM(this.no,this.a6Z.bind(this));
var X=this.Zk=[];for(var n=0;n<5;n++){var D=new eM(null,null,3);X.push(D);D.Z(e.E.f,this.akm,this);(n<2||n==4?W:b).appendChild(D.m)}W.appendChild(X[1].m);
this.IN=new eJ("Sample from image",gU.pQ(["#000000","#888888","#ffffff"]),!0,null,!0);this.IN.Z(e.E.f,this.Sb,this);
Q.appendChild(this.IN.m);this.du(250,100)}r.prototype=new i3;r.prototype.Mu=function(){var Q=this.wx.G(),W=this.ie,b=this.value,X=E.AA(Q,W);
for(var n=0;n<4;n++){var D=X[n][0],h=X[n][1],S=X[n][2],a=[E.FB.gt(D,0,!0),E.FB.gt(h,255,!0)];if(S!=null)a.splice(1,0,E.FB.gt(128,S,!0));
var K=[~~D,~~h,0,255,S==null?100:~~(100+.75*100*(S-128)/128)];fB.Q_(b,n,K)}this.e8();this.Pp()};r.prototype.du=function(Q,W){Q+=6;
this.qs.x=this.bA.x=Q;N.Jx(this.T,Q,this.qs.y,this.hA);N.Jx(this.no,Q,this.bA.y,this.Ze);var b=this.Zk;
b[3].m.setAttribute("style","margin-left: "+(Q-104)+"px");b[4].m.setAttribute("style","margin: 0 "+(Q/2-74)+"px");
if(this.value)this.e8()};r.prototype.r=function(){this.R8.r()};r.prototype.akm=function(Q){var W=[];
for(var n=0;n<5;n++){var b=255,X=1;if(n==4){b=999;X=100}var D=parseFloat(this.Zk[n].G());W[n]=Math.max(0,Math.min(b,D*X))}fB.Q_(this.value,this.R8.G(),W);
this.e8();this.Pp()};r.prototype.e8=function(Q){var W=this.qs.x,b=this.qs.y,X=this.R8.G(),D=this.hA;
D.clearRect(0,0,W,b);D.fillStyle="#cccccc";D.fillRect(8,8,W-16,b-16-8);if(this.ie){var h=this.ie[0].slice(0),I=0;
if(X==0){h.fill(0);var S=JSON.parse(JSON.stringify(this.value));fB.Q_(S,0,[0,255,0,255,100]);var a=bu.RP("levl",S),K=[a.mn,a.aE,a._B];
for(var Y=0;Y<3;Y++){var d=this.ie[1+Y],j=K[Y];for(var n=0;n<256;n++)h[j[n]]+=d[n]}}var U=X==0?h:this.ie[X];
for(var n=0;n<U.length;n++)I+=U[n];D.fillStyle="#333333";D.beginPath();D.moveTo(8,b-16);for(var n=0;
n<256;n++){var f=55*U[n]/I;D.lineTo(8+n/256*(W-16),Math.max(8,b-16-b*f))}D.lineTo(W-8,b-16);D.closePath();
D.fill()}var g=fB.S5(this.value,X);for(var n=0;n<5;n++)this.Zk[n].t(g[n]/(n==4?100:1));this.Ob[0].DX(8+g[0]/255*(W-16),b-14);
this.Ob[1].DX(8+g[1]/255*(W-16),b-14);var H=Math.log(g[4]/100)/Math.log(9.99);H=.5-H/2;this.Ob[4].DX(this.Ob[0].x+H*(this.Ob[1].x-this.Ob[0].x),b-14);
this.Ub(D,this.Ob[0],"#000000");this.Ub(D,this.Ob[1],"#ffffff");this.Ub(D,this.Ob[4],"#777777");var W=this.bA.x,b=this.bA.y;
D=this.Ze;D.clearRect(0,0,W,b);var u=D.createLinearGradient(0,0,W-16,0);u.addColorStop(0,"black");u.addColorStop(1,"white");
D.fillStyle=u;D.fillRect(8,8,W-16,16);this.Ob[2].DX(8+g[2]/255*(W-16),b-14);this.Ob[3].DX(8+g[3]/255*(W-16),b-14);
this.Ub(D,this.Ob[2],"#000000");this.Ub(D,this.Ob[3],"#ffffff")};r.prototype.Ub=function(Q,W,b){Q.fillStyle=b;
Q.fillRect(W.x-5,W.y,10,10)};r.prototype.p9=function(Q){var W=N.ug(Q,this.T),b=this.a5A([0,1,4],W);if(b!=-1)this.Az=b;
this.aeQ()};r.prototype.a6Z=function(Q){var W=N.ug(Q,this.no),b=this.a5A([2,3],W);if(b!=-1)this.Az=b;
this.aeQ()};r.prototype.a5A=function(Q,W){var b=-1,X=1e9;for(var n=0;n<Q.length;n++){var D=Math.abs(this.Ob[Q[n]].x-W.x);
if(D<X){X=D;b=Q[n]}}return X<16?b:-1};r.prototype.aeQ=function(Q){if(this.Az==-1)return;N.sY(document.body,this.Qy);
N.gJ(document.body,this.t9)};r.prototype.wm=function(Q){var W=fB.S5(this.value,this.R8.G()),b=N.ug(Q,this.Az==2&&this.Az==3?this.no:this.T),X=255*(b.x-8)/(this.qs.x-16);
X=Math.max(0,Math.min(255,X));if(this.Az==0)X=Math.min(X,W[1]-2);if(this.Az==1)X=Math.max(X,W[0]+2);
if(this.Az!=4)W[this.Az]=Math.round(X);else{var D=(X-W[0])/(W[1]-W[0]);D=1-2*D;D=Math.pow(9.99,D);W[4]=Math.min(999,Math.max(10,Math.round(D*100)))}fB.Q_(this.value,this.R8.G(),W);
this.e8();this.Pp()};r.prototype.gP=function(Q){N.qa(document.body,this.Qy);N.xf(document.body,this.t9);
this.Az=-1};r.prototype.eP=function(){return!0};r.prototype.$v=function(Q,W,b,X,D){var h=this.value,S=this.IN.G().indexOf(!0);
if(S==-1)return;this.value=jv.fp("levl");this.Pp();var a=m.fV.hd(Q,D,1),K=[a>>>16&255,a>>>8&255,a&255];
for(var n=0;n<3;n++){var Y=fB.S5(h,1+n);if(S==0)Y[0]=K[n];if(S==1){var d=Math.log(K[n]/255)/Math.log((K[0]+K[1]+K[2])*.333/255);
Y[4]=Math.min(999,Math.max(10,Math.round(100*d)))}if(S==2)Y[1]=K[n];fB.Q_(h,1+n,Y)}this.t(h);this.Pp()};
r.prototype.t=function(Q){this.value=Q;this.e8()};r.prototype.tg=function(Q){this.ie=Q;this.e8()};r.prototype.G=function(Q){return JSON.parse(JSON.stringify(this.value))};
return r}();i3.phfl=function(){i3.call(this,"phfl");this.wi.push(new c_);this.wi.push(new aX([12,74],0,100,"%"));
this.wi.push(new dL([13,4]));this.DD()};i3.phfl.prototype=new i3;i3.phfl.prototype.KA=function(r,Q){Q[0]=r.Clr.v;
Q[1]=r.Dnst.v;Q[2]=r.PrsL.v};i3.phfl.prototype.eB=function(r,Q){var W=E.M.vf(Q[0]),b=r.Clr.v,X=E.lP(W.o,W.W,W.k);
b.Lmnc.v=X.HN;b.A.v=X.mu;b.B.v=X.k;r.Dnst.v=Q[1];r.PrsL.v=Q[2]};i3.vibA=function(){i3.call(this,"vibA");
this.wi.push(new aX([12,13],-100,100,null));this.wi.push(new aX([12,9],-100,100,null));this.DD()};i3.vibA.prototype=new i3;
i3.vibA.prototype.KA=function(r,Q){Q[0]=r.vibrance?r.vibrance.v:0;Q[1]=r.Strt?r.Strt.v:0};i3.vibA.prototype.eB=function(r,Q){r.vibrance.v=Q[0];
r.Strt.v=Q[1]};i3.thrs=function(){i3.call(this,"thrs");this.wi.push(new aX([4,13],1,255,null));this.DD()};
i3.thrs.prototype=new i3;i3.thrs.prototype.KA=function(r,Q){Q[0]=r.Lvl.v};i3.thrs.prototype.eB=function(r,Q){r.Lvl.v=Q[0]};
i3.mixr=function(){i3.call(this);var r=this.m;this.Ee=[];this.U4=null;this.sZ=new fk([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.app=!1;this.sZ.Z(e.E.f,this.Gv,this);r.appendChild(this.sZ.m);N.Hr(r);this.Dx=new dL([12,60]);r.appendChild(this.Dx.m);
this.Dx.Z(e.E.f,this.Gv,this);for(var n=0;n<4;n++){var Q=new aX([[13,1,1],[13,1,4],[13,1,5],[13,2]][n],-200,200,"%");
Q.Z(e.E.f,this.Gv,this);this.Ee.push(Q);r.appendChild(Q.m)}};i3.mixr.prototype=new i3;i3.mixr.prototype.r=function(){this.sZ.r();
this.Dx.r();for(var n=0;n<4;n++)this.Ee[n].r()};i3.mixr.prototype.t=function(r){this.U4=JSON.parse(JSON.stringify(r));
this.YY()};i3.mixr.prototype.G=function(r){return JSON.parse(JSON.stringify(this.U4))};i3.mixr.prototype.Gv=function(r){if(r.target!=this.sZ){var Q=bu.iI(this.U4);
if(r.target==this.Dx){Q.Dx=this.Dx.G();if(Q.Dx)Q.h=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else Q.h=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var W=(Q.Dx?0:this.sZ.G())*5,n=this.Ee.indexOf(r.target);
Q.h[W+(n<3?n:4)]=r.target.G()}this.U4=bu.awD(Q)}this.YY();this.Pp()};i3.mixr.prototype.YY=function(){var r=bu.iI(this.U4);
if(r.Dx!=this.app)this.sZ.In(r.Dx?[[13,1,7]]:bu._K);this.app=r.Dx;this.Dx.t(r.Dx);var Q=(r.Dx?0:this.sZ.G())*5;
for(var n=0;n<4;n++)this.Ee[n].t(r.h[Q+(n<3?n:4)])};i3.post=function(){i3.call(this,"post");this.wi.push(new aX([4,1],2,255,null));
this.DD()};i3.post.prototype=new i3;i3.post.prototype.KA=function(r,Q){Q[0]=r.Lvls.v};i3.post.prototype.eB=function(r,Q){r.Lvls.v=Q[0]};
i3.clrL=function(){i3.call(this,"clrL");this.wi.push(new j7("LUTs"));this.DD()};i3.clrL.prototype=new i3;
i3.clrL.prototype.KA=function(r,Q){Q[0]=r};i3.clrL.prototype.eB=function(r,Q){var W=Q[0];for(var b in W)r[b]=W[b]};
i3.clrL.prototype.VJ=function(r,Q){if(Q==d4.KF||Q==d4.sw)this.wi[0].UD(r.ak9)};i3.rplc=function(){i3.call(this,"rplc");
this.wi.push(new aX([12,92],0,200));this.wi.push(new c_);this.wi.push(new aX([12,8],-180,180));this.wi.push(new aX([12,9],-100,100));
this.wi.push(new aX([12,10],-100,100));this.DD()};i3.rplc.prototype=new i3;i3.rplc.prototype.KA=function(r,Q){Q[0]=r.Fzns.v;
Q[1]=r.Mxm.v;Q[2]=r.H.v;Q[3]=r.Strt.v;Q[4]=r.Lght.v};i3.rplc.prototype.eB=function(r,Q){function W(X,D){D.Lmnc.v=X.HN;
D.A.v=X.mu;D.B.v=X.k}r.Fzns.v=Q[0];r.H.v=Q[2];r.Strt.v=Q[3];r.Lght.v=Q[4];var b=E.M.vf(Q[1]),X=E.lP(b.o,b.W,b.k);
W(X,r.Mnm.v);W(X,r.Mxm.v)};i3.fade=function(){i3.call(this,"fade");this.wi.push(new aX([12,0],0,100,"%"));
this.wi.push(new fk([12,19,0],hG.tJ,!1,hG.WU));this.DD()};i3.fade.prototype=new i3;i3.fade.prototype.KA=function(r,Q){Q[0]=r.Opct.v.val;
Q[1]=hG.it.indexOf(r.Md.v.BlnM)};i3.fade.prototype.eB=function(r,Q){r.Opct.v.val=Q[0];r.Md.v.BlnM=hG.it[Q[1]]};
i3.aply=function(){var r=hG.it.concat(["Add","Sbtr"]);r.splice(21,1);var Q=hG.tJ.concat([[15,10,28],[15,10,21]]);
Q.splice(21,1);var W=hG.WU.slice(0);W[4]--;function b(){i3.call(this,"aply");this.wi.push(new fk([0,3],[]));
this.wi.push(new fk([12,4],["RGB"].concat(bu._K).concat(["Transparency"])));this.wi.push(new dL([4,11]));
this.wi.push(new fk([12,19,0],Q,!1,W));this.wi.push(new aX([12,0],0,100,"%"));this.wi.push(new fq([12,38],1,2,null,2));
this.wi.push(new fq([12,6],-255,255));this.wi.push(new dL([13,5]));this.DD([2]);this.BJ=null}b.prototype=new i3;
b.prototype.KA=function(X,D,h){if(h){var S=h[2].B,a=this.BJ=[];for(var n=0;n<S.length;n++){var K=S[n].getName();
a.push(K.length<30?K:K.slice(0,27)+"...")}a.reverse();this.wi[0].In([[5,7]].concat(a),[1,a.length])}else var a=this.BJ;
X=X.With.v;var Y=X.T.v;D[0]=Y[1].t=="name"?1+a.indexOf(Y[1].v.val):0;D[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(Y[0].v.enum);
D[2]=X.Invr.v;var d=X.Clcl.v.Clcn;D[3]=r.indexOf(d);D[4]=X.Opct.v.val;D[5]=X.Scl.v;D[6]=X.Ofst.v;D[7]=X.PrsT.v};
b.prototype.eB=function(X,D){X=X.With.v;var h=X.T.v;if(D[0]==0)h[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else h[1]={t:"name",v:{classID:"Lyr",val:this.BJ[D[0]-1]}};h[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][D[1]];
X.Invr.v=D[2];var S=X.Clcl.v.Clcn=r[D[3]];X.Opct.v.val=D[4];X.Scl.v=D[5];X.Ofst.v=D[6];X.PrsT.v=D[7];
var a=S=="Add"||S=="Sbtr";this.wi[5].fy(a);this.wi[6].fy(a)};return b}();i3.matc=function(){var r,Q,W=0;
function b(){i3.call(this,"matc");this.wi.push(new aX("Luminance",1,200));this.wi.push(new aX("Color Intensity",1,200));
this.wi.push(new aX([2,11],0,100,"%"));this.wi.push(new dL("Neutralize"));this.wi.push(new fk([12,70],[]));
this.wi.push(new fk([0,3],[]));this.DD([2])}function X(D,h){D.wi[5].In([[5,7]].concat(h),[1,h.length])}b.prototype=new i3;
b.prototype.KA=function(D,h,S){W=0;h[0]=D.Lght.v;h[1]=D.ClrR.v;h[2]=D.Fade.v;h[3]=D.neutralizeColor?D.neutralizeColor.v:!1;
h[4]=h[5]=0;var a=D.Srce;if(a)a=a.v;if(S){r=[];Q=[];var K=S[2],Y=S[3];for(var n=0;n<Y.length;n++){var d=Y[n];
r.push(d.name);var j=d.B,U=[];Q.push(U);for(var I=0;I<j.length;I++)U.push(j[I].getName());U.reverse()}this.wi[4].In([[13,1,0]].concat(r),[1,r.length]);
var f=Y.indexOf(K);if(a)f=r.indexOf(a[1].v.val);X(this,Q[f])}if(a){var g=r.indexOf(a[1].v.val);h[3]=W=1+g;
if(a[0].t=="name")h[4]=1+Q[g].indexOf(a[0].v.val)}};b.prototype.eB=function(D,h){D.Lght.v=h[0];D.ClrR.v=h[1];
D.Fade.v=h[2];D.neutralizeColor.v=h[3];if(h[4]==0){D.noReference={t:"bool",v:!0};delete D.Srce}else{if(h[4]!=W){W=h[4];
X(this,Q[h[4]-1])}delete D.noReference;var S={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},a=Q[h[4]-1];
if(h[5]!=0)S={t:"name",v:{classID:"Lyr",val:a[h[5]-1]}};D.Srce={t:"obj ",v:[S,{t:"name",v:{classID:"Dcmn",val:r[h[4]-1]}}]}}};
return b}();function g9(r,Q){eg.call(this);if(r==null)return;this.id=Q;this.LC=r;this.Qv=null;this.m=N.S("div","window "+Q);
this.aql=null;this.ny=N.S("div","whead");this.atD=N.S("span","wname");this.ny.appendChild(this.atD);
this.aiB=!1;this.m.appendChild(this.ny);this.St=this.ay2.bind(this);this.nQ=this.au$.bind(this);this.lf=this.aww.bind(this);
N.cI(this.ny);N.AM(this.ny,this.St);this.air=N.S("span","cross gsicon");this.ny.appendChild(this.air);
g9.prototype.r.call(this);N.gJ(this.air,this.asd.bind(this));this.body=N.S("div","body");this.m.appendChild(this.body)}g9.prototype=new eg;
g9.prototype.ND=function(){return!1};g9.prototype.eP=function(){return!1};g9.prototype.r=function(){if(this.LC==null)return;
this.atD.textContent=aA.get(this.LC)};g9.prototype.pZ=function(r,Q,W,b,X){};g9.prototype.Mb=function(r,Q,W,b,X){};
g9.prototype.Dc=function(r,Q,W,b,X){};g9.prototype.$v=function(r,Q,W,b,X){};g9.prototype.Rc=function(r,Q,W,b,X){};
g9.prototype.tf=function(r,Q,W,b){if(b.j(h8.Cj)&&this.Hu)this.Hu();if(b.j(h8.DS)){var X=new km(e.E.s);
X.YI=!0;m.uj.ac0(b,X);if(X.data)Q.$(X)}};g9.prototype.qy=function(r){return!1};g9.prototype.q2=function(r,Q){return!0};
g9.prototype.ba=function(r,Q,W,b){};g9.prototype.VJ=function(r,Q){};g9.prototype.cY=function(r,Q){return null};
g9.prototype.ae1=function(r){return this.aql};g9.prototype.du=function(){};g9.prototype.close=function(){this.$(new km(e.E.RR))};
g9.prototype.ay2=function(r){this.Qv=N.ug(r,this.m);N.sY(window,this.nQ);N.gJ(window,this.lf)};g9.prototype.au$=function(r){var Q=this.m.parentNode,W=N.ug(r,Q),b=Math.round(W.x-this.Qv.x),X=Q.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(W.y-this.Qv.y)));
this.aql=new cp(b,X);this.m.style.left=b+"px";this.m.style.top=X+"px"};g9.prototype.aww=function(r){N.qa(window,this.nQ);
N.xf(window,this.lf)};g9.prototype.asd=function(r){if(this.aiB){this.Hu();return}this.$(new km("closebtn"));
this.close()};function g7(){g9.call(this,"About Photopea","aboutpp");var r=N.S("div","flexrow");this.body.appendChild(r);
var Q=this.acI=N.S("img");r.appendChild(Q);this.body.setAttribute("style","margin:0; padding:0");var W=this.axH=N.S("div");
W.innerHTML=g7.EP;r.appendChild(W);var b=this.Gk=N.S("span");b.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(b)}g7.prototype=new g9;g7.prototype.cY=function(r,Q){return new cp(0,0)};g7.prototype.du=function(r,Q){var W=this.acI,b=this.axH,X=this.Gk,D=(r+Q-42-42)/110;
D=Math.sqrt((r-42)*(Q-42))/50;W.setAttribute("style","width:"+r/2+"px; height:"+Q+"px; display:block; object-fit:cover;");
b.setAttribute("style","width:"+(r/2-42)+"px; height:"+(Q-42)+"px; padding:20px; font-size:"+D+"px;");
X.setAttribute("style","position:absolute;  bottom:10px; right:"+(r/2+10)+"px")};g7.prototype.r=function(){};
g7.prototype.ba=function(r,Q,W,b){this.acI.setAttribute("src","promo/ivan_pp.webp")};g7.EP="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 30-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i></p>\t";
function ey(){g9.call(this,[0,13,0],"account");this.y2=N.S("div","form scrollable");this.body.appendChild(this.y2);
this.body.style.padding="0";this.O0=[new ey.h7,new ey.re("::privacy.html"),new ey.re(ey.anO)];for(var n=0;
n<this.O0.length;n++)this.O0[n].parent=this;this.Z("showpage",this.au2,this)}ey.prototype=new g9;ey.prototype.q2=function(r,Q){var W=navigator.onLine;
if(!W)alert("Go online first");return W};ey.prototype.du=function(r,Q){this.y2.setAttribute("style","width:"+Math.min(r-40,740)+"px;  height:"+(Q-38)+"px;  padding:1.5em;");
this.O0[0].du(r,Q)};ey.prototype.cY=function(r,Q){return new cp(Math.max(0,Math.min(150,(r-740)/2)),Math.max(0,Math.min(100,(Q-500)/2)))};
ey.prototype.au2=function(r){N.WC(this.y2);this.y2.scrollTop=0;this.y2.appendChild(this.O0[r.data.C_].m)};
ey.prototype.r=function(){g9.prototype.r.call(this);for(var n=0;n<this.O0.length;n++)this.O0[n].r()};
ey.prototype.ba=function(r,Q,W){if(!navigator.onLine)return;N.WC(this.y2);var b=this.O0[0];this.y2.appendChild(b.m);
b.ba();this.r()};ey.prototype.VJ=function(r,Q){this.ba(null,null,null)};ey.h7=function(){eg.call(this);
this.m=N.S("div");var r=this.m,S,a,Y="font-size:1.25em;",d="text-align:center;",U="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",I="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",f="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",H=12;
this.hX=N.S("div");r.appendChild(this.hX);this.AT=new fG([0,11],!1,null,!0);this.AT.m.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.AT.Z("click",this.os,this);r.appendChild(this.AT.m);this.Q9=new fG([0,13,1],!1,null,!0);this.Q9.Z("click",this.a5s,this);
r.appendChild(this.Q9.m);this.sG=new fG("Business Terms",!1,null,!0);this.sG.Z("click",this.ad7,this);
r.appendChild(this.sG.m);var Q=N.S("div");Q.style.margin="20px 0";r.appendChild(Q);var W=["Account Types","Go Premium","Team Settings","Distributors"],b=this.WE=[],X=this.a9W=[],D=this.qv=N.S("div");
r.appendChild(D);for(var n=0;n<W.length;n++){var h=N.S("span");h.textContent=W[n];Q.appendChild(h);b.push(h);
h.setAttribute("style","font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
h.addEventListener("click",this._1.bind(this));X.push(N.S("div"))}this._1(0);var K=this.ast="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
r=X[0];var a=N.S("table"),j="style=\" "+d+Y+" padding-bottom:20px;\"";a.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+f+">\t\t\t\t\t<div "+j+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+I+">\u2713</span> All Features</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+f+">\t\t\t\t\t<div "+j+">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>3.33</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+I+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+I+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li><span "+I+">\u2713</span> 2\xD7 more steps in history</li> \t\t\t\t\t\t\t<li><span "+I+">\u2713</span> quick <a href=\"mailto:support@photopea.com\">email support</a></li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
r.appendChild(a);var h=new fG("Go Premium");h.m.setAttribute("style",K+"padding:10px 0;");h.Z("click",function(_){this._1(1)},this);
a.children[0].children[1].children[1].appendChild(h.m);this.hP=N.S("div");r.appendChild(this.hP);r=X[1];
var g=this.a6t=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[100,30,50],[200,90,50],[800,365,50],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];
this.mS=[];for(var n=0;n<g.length;n++)this.mS.push(new fG("Buy: $"+g[n][0],!1,null,!0));for(var n=0;
n<this.mS.length;n++){this.mS[n].Z("click",this.aw7,this)}this.gG=new fG("...",!0);this.gG.m.setAttribute("style",K);
r.appendChild(this.gG.m);a=this.aiX(4,["Single user",this.mS[0],this.mS[1],this.mS[2],"Team of 5",this.mS[3],this.mS[4],this.mS[5],"Team of 20",this.mS[6],this.mS[7],this.mS[8],"Team of 50",this.mS[9],this.mS[10],this.mS[11]]);
r.appendChild(a);this.ao$=new dL("I accept",!0,"");r.appendChild(this.ao$.m);this._H=new fG([0,13,1],!1,null,!0);
this._H.Z("click",this.a5s,this);r.appendChild(this._H.m);this.Nr=new fG("I have a key",!1,null,!0);
this.Nr.m.setAttribute("style",K+" float:right; width:inherit;");this.Nr.Z("click",this.aw7,this);r.appendChild(this.Nr.m);
r=X[2];this.Fq=new dX;this.Fq.parent=this;this.Fq.Z(e.E.f,this.v8,this);r.appendChild(this.Fq.m);r=X[3];
this.B4=new fG("...",!0);this.B4.m.setAttribute("style",K);r.appendChild(this.B4.m);a=this.aiX(3,["1000 views/mo",this.mS[H++],this.mS[H++],this.mS[H++],"5000 views/mo",this.mS[H++],this.mS[H++],this.mS[H++],"20000 views/mo",this.mS[H++],this.mS[H++],this.mS[H++]]);
r.appendChild(a);var u=N.S("p");u.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
r.appendChild(u);this.a1=new eM("Domain name (e.g. domain.com)",null,14);r.appendChild(this.a1.m);var s=new fG("Save Domain Settings",!1,null,!0);
s.V9();r.appendChild(s.m);s.Z("click",this.a4c,this)};ey.h7.prototype=new eg;ey.h7.prototype._1=function(r){var Q=typeof r=="number"?r:this.WE.indexOf(r.target);
for(var n=0;n<4;n++)this.WE[n].style.opacity=.6;this.WE[Q].style.opacity=1;N.WC(this.qv);this.qv.appendChild(this.a9W[Q])};
ey.h7.prototype.du=function(r,Q){var W=r<600?"d":" days",b=["30 days","90 days","365 days"];if(r<600)b=["30d","90d","365d"];
var X=this.a6t;for(var n=0;n<X.length;n++){this.mS[n].NM("<span>"+b[n%3]+": <sup>$</sup><big><b>"+X[n][0]+"</b></big>"+"</span>");
this.mS[n].m.setAttribute("style",this.ast)}};ey.h7.prototype.a5s=function(r){var Q=new km("showpage",!0);
Q.data={C_:1};this.$(Q)};ey.h7.prototype.ad7=function(r){var Q=new km("showpage",!0);Q.data={C_:2};this.$(Q)};
ey.h7.prototype.r=function(){this.AT.NM(b6.ZK()?aA.get([0,11]):aA.get([0,10]));this._H.r();this.Q9.r();
this.sG.r()};ey.h7.prototype.abY=function(r){var Q=new km(e.E.L,!0);Q.data={d:e.c.X9,link:"https://www.photopea.com/api/accounts#"+(r.target==this.as5?"teams":"distributors")};
this.$(Q)};ey.h7.prototype.a9N=function(r){var Q=r.currentTarget==this.afN;this.afN.t(Q);this.apE.t(!Q)};
ey.h7.prototype.avd=function(r){var Q=this.afN.G(),W=this.akY.G().trim().toLowerCase(),b=this.aaP.value.trim().toLowerCase();
if(W.length>60){alert("Too long email address");return}if(b.length>600){alert("Too many team members");
return}b=b.split(",").join(" ").trim();b=b.replace(/\s+/g," ");if(b=="")b=[];else b=b.split(" ");var X=b6.nS();
if(X==null)X={};if(X.acc==null)X.acc={};X.acc.team={jin:Q,ldr:W,mmb:b};b6.T7(X,this.v8.bind(this));alert("Saved!");
this.ba()};ey.h7.prototype.a4c=function(r){var Q=this.a1.G().trim();if(!b6.ZK()){alert("You have to log in first.");
return}if(b6.pc()==0){alert("Order a distributor account first.");return}var W=b6.nS();if(W==null)W={};
if(W.acc==null)W.acc={};if(Q=="")delete W.acc.dname;else W.acc.dname=Q;b6.T7(W,this.v8.bind(this));alert("Saved!");
this.ba()};ey.h7.prototype.a1E=function(r){var Q=b6.aL(),n=this.cy,W=b6.nS();if(W==null)W={};if(W.acc==null)W.acc={};
W.acc.bto=r;b6.T7(W,function(){});var b=ey.a9A(r.split("\n"),Q.pmnts[n]);dR.save(b,"photopea_invoice.pdf")};
ey.h7.prototype.aw_=function(r){var Q=b6.aL(),W=b6.nS(),b=W.acc?W.acc.bto:null;if(b==null)b=Q.name+"\n"+Q.email;
var n=-1,X=r.target.m.parentNode;while((X=X.previousSibling)!=null)n++;this.cy=n;var D=new km(e.E.L,!0);
D.data={d:e.c.Re,wv:"billto",h$:b,eq:this.a1E.bind(this)};this.$(D)};ey.h7.prototype.ba=function(){this.hX.innerHTML="";
N.WC(this.hP);if(b6.ZK()){var r=b6.aL(),Q=r.pmnts;if(r==null)return;this.hX.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+r.name+"</span> "+r.email+" <br/>";
if(Q){var W="<h2>Payments</h2>";for(var n=0;n<Q.length;n++){var b=Q[n],X=new Date(b[0]*1e3);W+="<div style=\"font-size:1.2em\">"+X.getDate()+". "+(X.getMonth()+1)+". "+X.getFullYear()+" - "+ey.aat(b)+"</div>"}this.hP.innerHTML=W;
for(var n=0;n<Q.length;n++){var D=new fG("Get Invoice",!1,null,!0);D.m.setAttribute("style","float:right");
D.Z("click",this.aw_,this);this.hP.children[n+1].appendChild(D.m)}}}else{}var h=b6.ZK()&&b6.KJ();this.gG.m.style.display=h?"block":"none";
if(h){var S,a,K=h;if(K[0]==0){S=b6.Cc(K[1])-Date.now()*(1/1e3);a=K[1][2]==1?"Single User":"Team Of "+K[1][2]}else{S=K[1][1]-Date.now()*(1/1e3);
a="Member of \""+K[1][0]+"\""}this.gG.NM("Premium active for "+Math.round(S/(60*60*24))+" more days! ("+a+")")}var Y=b6.ZK()&&b6.pc()*1e3>Date.now();
this.B4.m.style.display=Y?"block":"none";if(Y){var S=b6.pc()-Date.now()/1e3;this.B4.NM("Distributor active for "+Math.round(S/(60*60*24))+" more days!")}var d=b6.nS();
this.Fq.ba();if(d&&d.acc&&d.acc.dname)this.a1.t(d.acc.dname);else this.a1.t("")};ey.h7.prototype.aiX=function(r,Q){var W=N.S("table");
if(!0){var b="<table><tr>";for(var n=0;n<r;n++)b+="<th>"+Q[n*4]+"</th>";b+="</tr></table>";W.innerHTML=b;
for(var n=0;n<3;n++){var X=N.S("tr"),D;W.appendChild(X);for(var h=0;h<r;h++){D=N.S("td");D.style.width=Math.round(100/r)+"%";
X.appendChild(D);D.appendChild(Q[h*4+1+n].m)}}}return W};ey.h7.prototype.aw7=function(r){var Q=this.mS.indexOf(r.currentTarget),b=30,X=1;
if(!b6.ZK()){this.os();return}if(this.ao$.G()==!1&&Q<12){alert("You must accept Terms of Service");return}var W=b6.ZK()&&b6.KJ();
if(Q!=-1){var D=this.a6t[Q];b=D[1];X=D[2]}if(W&&X<1e3){alert("You already have premium.");return}console.log(D,b,X);
if(Q==-1){var h=prompt("Please enter your key");if(h!=null){b6.ahQ(h,this.v8.bind(this));this.R5()}return}if(b==30&&X==1){var S=confirm("You can have a 90 days version for $10. Do you still want a 30 days version for $9?");
if(!S)return}b6.order(b,X,this.v8.bind(this));this.R5()};ey.h7.prototype.v8=function(r){this.ba();this.R5()};
ey.h7.prototype.os=function(r){if(b6.ZK()){b6.akP();this.R5();this.ba(null,null,null)}else b6.os(this.a3t.bind(this))};
ey.h7.prototype.a3t=function(){var r=new km(e.E.L,!0);r.data={d:e.c.aaQ};this.$(r)};ey.h7.prototype.R5=function(){var r=new km(e.E.L,!0);
r.data={d:e.c.agn};this.$(r)};ey.re=function(r){eg.call(this);this.m=N.S("div");var Q=this.m,W=this.aq6=new fG([0,13,2],!1,null,!0),b;
W.Z("click",this.acF,this);Q.appendChild(W.m);if(r.startsWith("::")){b=N.S("iframe");b.setAttribute("style","width:100%;height:1700px; background-color:white;");
b.setAttribute("src",r.slice(2))}else{b=N.S("div");b.innerHTML=r}Q.appendChild(b)};ey.re.prototype=new eg;
ey.re.prototype.acF=function(r){var Q=new km("showpage",!0);Q.data={C_:0};this.$(Q)};ey.re.prototype.r=function(){this.aq6.r()};
ey.anO="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (I\u010C 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Go\u010D\xE1rova t\u0159\xEDda 1754 / 48b, Hradec Kr\xE1lov\xE9</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" />\t";
ey.aat=function(r){return"Photopea "+(r[1]<1e3?"Premium":"Distributor")+" ("+r[1]+" days, "+r[2]+" user"+(r[2]==1?"":"s")+")"};
ey.a9A=function(r,Q){r=["Bill To:"].concat(r);var W=new ToPDF,b=595,X=842,D=40,h=18,S=12,a=500,K=100,Y=400,f=0;
function d(G,V,y,k,B){U.font.Tf=B?"Helvetica-Bold":"Helvetica";U.ctm=[1,0,0,1,V,y];U.font.Tfs=k?k:S;
W.PutText(U,G,0)}function j(G,V,y,k){for(var n=0;n<G.length;n++){d(G[n],V,y-n*k,null,n==0)}}var U=UDOC.getState();
W.StartPage(0,0,b,X);d("INVOICE",b-D-140,X-D-30,30,!0);j(["Bill From:","Ivan Kuckir","H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED","Tax ID: CZ9011014309"],D,X-D-40,h);
var I=new Date(Q[0]*1e3);j(["Date: "+I.getDate()+". "+(I.getMonth()+1)+". "+I.getFullYear(),"Transaction ID: "+Q[4]],b-D-140,X-D-40-h*2,h);
var g=r.join("");for(var n=0;n<g.length;n++)f=Math.max(f,g.charCodeAt(n));if(f>256){var H=4,u=N.S("canvas"),s=u.getContext("2d"),_=0;
s.font=S*H+"px sans-serif";for(var n=0;n<r.length;n++)_=Math.max(_,s.measureText(r[n]).width);var i=Math.round(_)+20,M=r.length*H*h+20;
u.width=i;u.height=M;s.font=S*H+"px sans-serif";for(var n=0;n<r.length;n++){s.font=(n==0?"bold ":"")+S*H+"px sans-serif";
s.fillText(r[n],10,(n+1)*H*h)}document.body.appendChild(u);var T=new Uint8Array(s.getImageData(0,0,i,M).data.buffer);
U.ctm=[i/H,0,0,M/H,D-10/H,X-D-40-100-M/H];W.PutImage(U,T,i,M);U.ctm=[1,0,0,1,0,0]}else j(r,D,X-D-40-100,h);
U.colr=[.8,.8,.8];U.pth={cmds:["M","L","L","L","Z"],crds:[D,a,b-D,a,b-D,a-h,D,a-h]};W.Fill(U);U.colr=[0,0,0];
var R=[D,a,b-D,a,D,a-h,b-D,a-h,D,a-K,b-D,a-K,D,a,D,a-K,b-D,a,b-D,a-K,Y,a,Y,a-K],z=[];for(var n=0;n<R.length;
n+=4)z.push("M","L");U.pth={cmds:z,crds:R};W.Stroke(U);d("Order details",D+4,a-14);d(ey.aat(Q),D+4,a-h-14);
d("TOTAL:",D+4,a-K-14,null,!0);d("Price",b-D-50,a-14);d(Q[3]+" USD",b-D-60,a-h-14);d(Q[3]+" USD",b-D-60,a-K-14,null,!0);
d("www.Photopea.com",D,D);d("support@photopea.com",b-D-130,D);W.ShowPage();W.Done();return W.buffer};
function aK(){g9.call(this,[11,14],"addguides");this.W$;this.Ha={fl:{dp:0}};this.s1=null;var r=N.S("div","form");
this.body.appendChild(r);this.nR=[];this.eF=new gU(null,["Hi"]);r.appendChild(this.eF.m);N.Hr(r);this.eF.Z(e.E.f,this.Ui,this);
this.dR=new eM([22,4,0],null,16);this.dR.Z(e.E.f,this.Ig,this);this.qn=new eM([22,4,1],null,16);this.qn.Z(e.E.f,this.Ig,this);
this.sy=new fk(null,E.iZ.Rh);this.sy.Z(e.E.f,this.Ig,this);r.appendChild(this.dR.m);r.appendChild(this.sy.m);
N.Hr(r);r.appendChild(this.qn.m);this.yF=N.bn(this,r);this.Z("closebtn",this.zE,this)}aK.prototype=new g9;
aK.prototype.q2=function(r,Q){return r!=null};aK.prototype.ND=function(){return!0};aK.prototype.r=function(){g9.prototype.r.call(this);
this.dR.r();this.qn.r();this.sy.r();this.yF.r()};aK.prototype.VJ=function(r,Q){var W=r.fl.dp;this.Ha.fl.dp=W;
this.sy.t(W)};aK.prototype.ba=function(r,Q){this.W$=r;this.s1=JSON.stringify(r.NO());this.nR=[-1];var W=["Global"],b=r.root.children,X=r.vE();
for(var n=0;n<b.length;n++){var D=b[n].l;if(D.add.artb){W.push(D.getName());this.nR.push(b[n].index)}}this.eF.In(W);
this.eF.t(this.nR.indexOf(X));this.Ui()};aK.prototype.Ui=function(){var r=this.W$,Q=r.NO(),W=this.nR[this.eF.G()],b=[0,0];
if(W!=-1){var X=r.B[W].QT();b=[X.x,X.y]}var D=function(h,S,r,a,K){var Y=h[0],d=[];for(var n=0;n<Y.length;
n++)if(h[1][n]==W&&Y[n][0]==S)d.push(E.iZ.HE(Y[n][1]-b[S],r.HW,a,K));d.sort(function(j,U){return j-U});
return d.join(", ")};this.dR.t(D(Q,0,r,this.Ha,r.e));this.qn.t(D(Q,1,r,this.Ha,r.n))};aK.prototype.Ig=function(r){if(r&&r.currentTarget==this.sy)this.Ha.fl.dp=this.sy.G();
else{var Q=this.abu(),W=this.W$;W.xg(Q);W.a9=!0}this.Ui()};aK.prototype.abu=function(){var r=this.W$,Q=r.NO(),W=this.nR[this.eF.G()],b=[0,0];
if(W!=-1){var X=r.B[W].QT();b=[X.x,X.y]}var D=[];for(var h=0;h<2;h++){var S=h==0?this.dR:this.qn,a=h==0?this.W$.e:this.W$.n,K=S.G().replace(/,/g," ").replace(/  +/g," ").trim(),Y=K==""?[]:K.split(" ");
for(var n=0;n<Y.length;n++)D.push([h,E.iZ.af2(Y[n],this.W$.HW,this.Ha,a)+b[h]])}for(var n=0;n<Q[0].length;
n++)if(Q[1][n]==W){Q[0].splice(n,1);Q[1].splice(n,1);n--}for(var n=0;n<D.length;n++){Q[0].push(D[n]);
Q[1].push(W)}return Q};aK.prototype.zE=function(r){var Q=this.W$;Q.xg(JSON.parse(this.s1));Q.a9=!0;this.W$=null};
aK.prototype.Hu=function(r){this.Ig(r);var Q=new km(e.E.s,!0);Q.b=m.$t;Q.data={d:"gids",qf:JSON.parse(this.s1),XF:this.W$.NO()};
this.W$=null;this.close();this.$(Q)};function cI(r){g9.call(this,{pdfpres:"PDF Presentation"}[r],r);
var Q=N.S("div","form");this.body.appendChild(Q);Q.setAttribute("style","width:300px");this.pW=new bI("Source Images",!0,!0);
Q.appendChild(this.pW.m);this.yD=new fk([12,14,0],["A4 Portrait","A4 Lanscape",[12,93,3],"Adapt to images"]);
Q.appendChild(this.yD.m);this.uQ=new dL("Order images by name");this.uQ.t(!0);Q.appendChild(this.uQ.m);
var W=new fG(["VAR0 PDF",[1,8]],!0,null,!0);W.Z("click",this.lG,this);Q.appendChild(W.m)}cI.prototype=new g9;
cI.prototype.lG=function(r){var Q=this.pW.G(),W=[],D=595,h=842,S=40;for(var b in Q)W.push(b);if(W.length==0){alert("No images selected");
return}if(this.uQ.G())W.sort();var X=this.yD.G(),a=new ToPDF,K=UDOC.getState();for(var n=0;n<W.length;
n++){var b=W[n],Y=Q[b],d=Y[0]==255,j=fH.E$(Y.buffer),U=fH.Qt(j),I;if(j=="psd")I=ba.aaV(Y.buffer)[0];
else if(U.gF){alert(j.toUpperCase()+" can not be used.");continue}else I=U.ni(Y.buffer)[0];var f=I.Kx,g=new Uint8Array(I.data),H=f.e,u=f.n,s=[[595,842],[842,595],[595,595],[595,0]][X];
if(X==3)s[1]=Math.round(s[0]*u/H);var D=s[0],h=s[1],_=Math.min(D/H,h/u);a.StartPage(0,0,D,h);K.ctm=[H*_,0,0,u*_,(D-H*_)/2,(h-u*_)/2];
a.PutImage(K,d?Y:g,H,u);a.ShowPage()}a.Done();dR.save(a.buffer,"file.pdf")};cI.prototype.r=function(){g9.prototype.r.call(this);
this.pW.r();this.yD.r();this.uQ.r()};function bO(r){var Q=jv.names[r];if(Q==null)Q=bu.names[r];if(r=="aply")Q=[2,12];
if(r=="fade")Q=[2,11];if(r=="matc")Q=[4,18];if(r=="blendOptions")Q=[14,10];g9.call(this,Q,"afw_"+r);
this.lv=r;this.AK=null;this.y9=null;this.Un=new i3[r];this.Un.Z(e.E.f,this.Pp,this);this.Un.parent=this;
this.body.appendChild(this.Un.m);this.XL=new dL([24,18,5]);this.XL.t(!0);this.XL.Z(e.E.f,this.Pp,this);
this.kK=new fG([1,12,2],!0,null,!0);this.kK.Z("click",this.qj,this);this.yF=N.bn(this);if(this.pB())this.Un.Su(this.yF.m);
else{N.lB(this.Un.m,"form");N.lB(this.body,"flexrow");this.Un.m.setAttribute("style","width:312px");
var W=N.S("div");this.body.appendChild(W);W.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");
W.appendChild(this.yF.m);W.appendChild(this.kK.m);W.appendChild(this.XL.m)}this.Z("closebtn",this.GD,this)}bO.prototype=new g9;
bO.prototype.ND=function(){return!0};bO.prototype.pB=function(){return this.Un!=null&&this.Un.yG()};
bO.prototype.cY=function(){return this.pB()?new cp(0,0):g9.prototype.cY()};bO.prototype.eP=function(){return this.Un.eP()};
bO.prototype.pZ=function(r,Q,W,b,X){this.Un.pZ(r,Q,W,b,X)};bO.prototype.Dc=function(r,Q,W,b,X){this.Un.Dc(r,Q,W,b,X)};
bO.prototype.$v=function(r,Q,W,b,X){this.Un.$v(r,Q,W,b,X)};bO.prototype.q2=function(r,Q){if(this.lv=="fade")return bO.a26(r);
return!0};bO.prototype.qj=function(r){this.Un.t(jv.fp(this.lv));this.Pp()};bO.prototype.Pp=function(r){this.q9({d:"edit",UM:this.Un.G(),TO:!this.XL.G()})};
bO.prototype.GD=function(r){this.q9({d:"cancel"})};bO.prototype.Hu=function(r){if(!this.XL.G()){this.XL.t(!0);
this.Pp()}this.y9=this.Un.G();if(this.pB())this.Pp();this.q9({d:"confirm"});this.close()};bO.prototype.r=function(){g9.prototype.r.call(this);
this.XL.r();if(this.Un)this.Un.r();this.yF.r()};bO.prototype.VJ=function(r,Q){if(this.Un)this.Un.VJ(r,Q)};
bO.prototype.tf=function(r,Q,W,b){if(this.pB())this.Un.tf(b);else g9.prototype.tf.call(this,r,Q,W,b)};
bO.prototype.ba=function(r,Q,W,b){this.AK=Q.AK;var X=r.add.lnk2?r.add.lnk2:[],D,h,S=new aV(0,0,r.e,r.n),a=r.B[r.I[0]],K=null;
D=a.buffer;h=a.rect;if(this.pB())K=r.T6(r.I[0]-1);var Y=jv.fp(this.lv),d=[X,r.Ev,r,W];if(Q.AK==null){this.Un.t(Y,D,h,S,K,d);
if(bu.names[this.lv]){if(b.j(h8._I)&&this.y9)this.Un.t(this.y9);var j=m.rm.getData(r),U=E.hg(j[0].v9);
this.Un.tg(U)}}else{var I=!1,a=r.B[this.AK.l];if(a.$Y()){var f=a.Xg(r);D=f.buffer;h=f.rect;var g=a.add.SoLd.filterFX.v.filterFXList.v;
if(g[this.AK.index]){var H=g[this.AK.index].v;this.Un.t(this.lv=="blendOptions"?H.blendOptions.v:H.Fltr.v,D,h,S,K,d);
this.Un.tg(E.hg(D));I=!0}}if(!I){this.Un.t(Y,D,h,S,K,d);this.Un.tg(E.hg(D))}}if(!this.pB()){this.Pp();
var u=this.Un;if(u&&u.wi&&u.wi[0]&&u.wi[0].J2)u.wi[0].J2()}};bO.prototype.q9=function(r){var Q=new km(e.E.s,!0);
r.lv=this.lv;r.AK=this.AK;Q.data=r;Q.b=jv.names[this.lv]||this.AK?m.tQ:m.G9;Q.YI=!0;this.$(Q)};bO.prototype.du=function(r,Q){if(!this.Un.yG()){}else{this.body.style.padding="0";
this.Un.du(r,Q)}};bO.a26=function(r){if(r==null)return!1;var Q=r.bk();if(Q==null||!(Q.data instanceof Array)||Q.data.length!=r.I.length)return!1;
for(var n=0;n<Q.data.length;n++){var W=Q.data[n];if(W.l<0&&r.Ev[-1-W.l])return!0;if(W.l==null||r.B[W.l]==null||r.B[W.l].L$!=W.TN)return!1;
if(r.I.indexOf(W.l)==-1)return!1}return!0};function bP(){g9.call(this,[11,0],"camera");this.data=null;
this.E2=new cp(1,1);this.a9m=[];var r=N.S("div","form hbar");this.body.appendChild(r);this.a9B=new fk(null,[]);
this.Vy=new fk([21,0],[[21,2],[21,1]]);r.appendChild(this.Vy.m);this.LW=new fk(null,[]);this.LW.Z(e.E.f,this.auN,this);
r.appendChild(this.LW.m);this.OX=new fG([11,0],!1,null,!0);this.OX.Z("click",this.ax$,this);r.appendChild(this.OX.m);
this.OW=new aQ("");r.appendChild(this.OW.m);this.stream=null;this.j2=N.S("video","");this.j2.setAttribute("autoplay","true");
this.body.appendChild(this.j2);this.a2A=this.a7F.bind(this);this.aq8=this.aub.bind(this);this.aia=this.ax0.bind(this);
this.Z("closebtn",this.a8s,this)}bP.prototype=new g9;bP.prototype.r=function(){g9.prototype.r.call(this);
this.Vy.r();this.OX.r();this.du(this.Dr,this.J9)};bP.prototype.T6=function(){var r=this.j2.videoWidth,Q=this.j2.videoHeight,W=N.S("canvas","");
W.width=r;W.height=Q;var b=W.getContext("2d");b.drawImage(this.j2,0,0,r,Q);var X=b.getImageData(0,0,r,Q);
return{Kx:new aV(0,0,r,Q),data:X.data.buffer}};bP.prototype.ax$=function(r){if(this.Vy.G()==0)this.aeN();
else this.aui()};bP.prototype.aui=function(){var r=this.T6(),Q={buffer:new Uint8Array(r.data),rect:r.Kx},W=new km(e.E.s,!0);
W.YI=!0;W.b=m.M0;W.data={d:$.cT,Sv:Q};this.$(W);alert(aA.get([21,4]))};bP.prototype.aeN=function(){var r=this.T6(),Q=fH.lc("camera",[r]),W=new km(e.E.L,!0);
W.data={d:e.c.kp,gR:Q};this.$(W);alert(aA.get([21,5]))};bP.prototype.ba=function(r,Q,W){navigator.mediaDevices.enumerateDevices().then(this.a90.bind(this))};
bP.prototype.a90=function(r){var Q=this.a9m=[],W=[];for(var n=0;n<r.length;n++)if(r[n].kind=="videoinput"){Q.push(r[n]);
W.push("Camera "+Q.length)}this.LW.In(W);this.LW.t(0);this.auN()};bP.prototype.auN=function(r){this.a8s();
var Q={video:{deviceId:this.a9m[this.LW.G()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(Q).then(this.a2A).catch(this.aq8);
else navigator.webkitGetUserMedia(Q,this.a2A,this.aq8)};bP.prototype.a7F=function(r){this.stream=r;this.j2.srcObject=r;
this.j2.addEventListener("loadedmetadata",this.aia,!1)};bP.prototype.ax0=function(r){this.j2.play();
this.du(this.Dr,this.J9)};bP.prototype.cY=function(r,Q){return new cp(0,0)};bP.prototype.du=function(r,Q){var W=this.j2.videoWidth,b=this.j2.videoHeight;
this.OW.t(W+" x "+b+" px");this.OW.m.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.E2.DX(W,b);this.Dr=r;this.J9=Q;var X=r-28,D=Q-28-30,h=this.E2.x/this.E2.y;if(X/D>h)X=D*h;else D=X/h;
this.j2.setAttribute("style","display: block; width: "+Math.round(X)+"px; height:"+Math.round(D)+"px;")};
bP.prototype.aub=function(r){console.log("error",r);alert(aA.get([21,6]));this.close()};bP.prototype.a8s=function(r){if(this.stream!=null){var Q=this.stream.getTracks();
for(var n=0;n<Q.length;n++)Q[n].stop();this.stream=null}};function ci(){g9.call(this,[7,8],"crange");
this.W$=null;this.fn={HN:73,mu:4.45,k:4};this.w0={HN:73,mu:4.45,k:4};this.body.style.width="20em";this.V4=new fk([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.V4.Z(e.E.f,this.ahf,this);this.body.appendChild(this.V4.m);this.EP=N.S("div","form");this.body.appendChild(this.EP);
var r=this.alO=2,Q=this.sX=[new aX([12,92],0,200),new gU([12,36],[[18,0],"\uFF0B","-"]),new aX([12,92],0,100,"%"),new fq("Min",0,255),new fq("Max",0,255)];
Q[0].t(40);Q[r].t(40);for(var n=0;n<Q.length;n++){Q[n].Z(e.E.f,this.YY,this);Q[n].parent=this}this.T=N.S("canvas");
this.body.appendChild(this.T);this.yF=N.bn(this,this.body)}ci.prototype=new g9;ci.prototype.q2=function(r,Q){return r!=null};
ci.prototype.eP=function(){return!0};ci.prototype.ND=function(){return!0};ci.prototype.ahf=function(r){var Q=this.V4.G(),W=this.sX,b=this.EP,X=0,D=W.length,h=this.alO;
if(Q==0)D=h;else{X=h;W[X+1].t([0,100,190][Q-1]);W[X+1].fy(Q!=1);W[X+2].t([60,150,255][Q-1]);W[X+2].fy(Q!=3)}N.WC(b);
for(var n=X;n<D;n++){b.appendChild(W[n].m)}this.YY()};ci.prototype.r=function(){g9.prototype.r.call(this);
this.yF.r();this.V4.r();for(var n=0;n<this.sX.length;n++)this.sX[n].r()};ci.prototype.pZ=function(r,Q,W,b,X){var D=r.u.GF(X.x,X.y);
this.a2E(D.x,D.y)};ci.prototype.a2E=function(r,Q){var W=Math.min,b=Math.max,X=this.W$,D=b(0,W(X.e-1,Math.floor(r))),h=b(0,W(X.n-1,Math.floor(Q))),S=X.T6(),a=(h*X.e+D)*4,K=S[a],Y=S[a+1],d=S[a+2],j=E.lP(K,Y,d),U=this.sX[1].G(),I=this.fn,f=this.w0;
if(U==0){this.fn=JSON.parse(JSON.stringify(j));this.w0=j}else if(U==1){I.HN=W(I.HN,j.HN);I.mu=W(I.mu,j.mu);
I.k=W(I.k,j.k);f.HN=b(f.HN,j.HN);f.mu=b(f.mu,j.mu);f.k=b(f.k,j.k)}else if(U==2){var g=(I.HN+f.HN)/2,H=(I.mu+f.mu)/2,u=(I.k+f.k)/2;
if(j.HN<g)I.HN=b(I.HN,j.HN+10);else f.HN=W(f.HN,j.HN-10);if(j.mu<H)I.mu=b(I.mu,j.mu+1);else f.mu=W(f.mu,j.mu-1);
if(j.k<u)I.k=b(I.k,j.k+1);else f.k=W(f.k,j.k-1)}this.YY()};ci.prototype.Hu=function(r){var Q=this.V4.G(),W=this.sX,b={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(Q==0){var X=this.fn,D=this.w0;b.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:X.HN},A:{t:"doub",v:X.mu},B:{t:"doub",v:X.k}}};
b.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:D.HN},A:{t:"doub",v:D.mu},B:{t:"doub",v:D.k}}};b.Fzns={t:"long",v:W[0].G()}}else{Q--;
var h=["shadows","midtones","highlights"][Q];b.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][Q]}};if(0<Q)b[h+"LowerLimit"]={t:"long",v:W[3].G()};
if(Q<2)b[h+"UpperLimit"]={t:"long",v:W[4].G()};b[h+"Fuzziness"]={t:"long",v:W[2].G()}}this.close();var S=new km(e.E.Kk,!0);
S.data={r7:"colorRange",Hf:b};this.$(S)};ci.prototype.ba=function(r,Q){this.W$=r;this.a2E(0,0);this.ahf()};
ci.prototype.YY=function(){var r=this.W$,Q=this.V4.G(),W=this.fn,b=this.w0,X=this.sX,D=X[0].G()/200,h=!1;
if(Q>0){W=X[3].G();b=X[4].G();if(W>=b)W=b-1;h=!0;D=X[2].G()/100}var S=m.to.p5(r,W,b,D,h),a=S.rect,K=S.channel,Y=this.T,d=Y.getContext("2d"),j=Math.floor(230*N.i()),U=Math.floor(j*(a.n/a.e));
Y.width=j;Y.height=U;N.lb(Y,j,U);var I=E.Q(K.length*4);E.tl(I,4294967295);for(var n=0;n<3;n++)E.nV(K,I,n);
var f=m.EA.gh([I,a],new au(j/a.e,0,0,U/a.n,0,0)),g=f.rect,H=new ImageData(new Uint8ClampedArray(f.buffer.buffer),g.e,g.n);
d.putImageData(H,0,0)};function hY(){g9.call(this,[12,76,1],"createshape");this.SE=null;var r=N.S("div","form");
r.setAttribute("style","width:20em");this.body.appendChild(r);this.df=new fq([12,41],0,0,null,0,!1,!0);
r.appendChild(this.df.m);N.Hr(r);this.dR=new fq([12,42],0,0,null,0,!1,!0);r.appendChild(this.dR.m);N.Hr(r);
this.Qn=new dL([19,5,3]);r.appendChild(this.Qn.m);this.df.t(100);this.dR.t(100);this.yF=N.bn(this,r)}hY.prototype=new g9;
hY.prototype.Hu=function(r){this.SE.akS(this.SE.a6W,this.df.G(),this.dR.G(),this.Qn.G());this.close()};
hY.prototype.r=function(){if(this.SE)this.LC=aA.get([5,3])+": "+aA.get(this.SE.a6D);g9.prototype.r.call(this);
this.yF.r();this.df.r();this.dR.r();this.Qn.r()};hY.prototype.ba=function(r,Q){this.SE=Q;this.r();this.df.J2()};
function hg(){g9.call(this,[11,1],"colorpicker");this.pa=null;this.zS=null;this.Nf=null;this.Yg=!1;this.QG=!1;
var r=N.S("div","flexrow"),D,h;this.body.appendChild(r);this.SH=new d_(256,!0);this.SH.Z(e.E.f,this.gU,this);
r.appendChild(this.SH.m);var Q=N.S("div","form");Q.setAttribute("style","width:14.5em; margin-left:1em;");
r.appendChild(Q);this.abx=N.S("div","full");Q.appendChild(this.abx);this.a5E=N.S("div","full");Q.appendChild(this.a5E);
var W=N.S("div","flexrow");Q.appendChild(W);var b=N.S("div"),X=N.S("div");W.appendChild(b);W.appendChild(X);
D=["R","G","B"];h=b;this.Fo=[];for(var n=0;n<3;n++){var S=new fq(D[n],0,255,null,0,!1,!0);this.Fo.push(S);
S.Z(e.E.f,this.ayz,this);h.appendChild(S.m)}D=["H","S","B"];h=X;this.Bb=[];for(var n=0;n<3;n++){var a=0,K=360,Y="\xB0";
if(n!=0){K=100;Y="%"}var S=new fq(D[n],a,K,Y,0,!1,!0);this.Bb.push(S);S.Z(e.E.f,this.a7n,this);h.appendChild(S.m)}this.dR=new eM("Hex",null,6);
this.dR.Z(e.E.f,this.Is,this);Q.appendChild(this.dR.m);this.US=N.S("input","fitem");this.US.setAttribute("type","color");
this.US.setAttribute("style","width:50px");this.US.addEventListener("change",this.Is.bind(this),!1);
Q.appendChild(this.US);this.Ua=new io(9);this.Ua.Z(e.E.f,this.Is,this);Q.appendChild(this.Ua.m);this.yF=N.bn(this,Q);
this.Z("closebtn",this.GD,this);this.ap=!1}hg.prototype=new g9;hg.prototype.eP=function(){return!0};
hg.prototype.cY=function(r,Q){return new cp(Math.max(0,Math.min(150,(r-484)/2)),Math.max(0,Math.min(150,(Q-316)/2)))};
hg.prototype.du=function(r,Q){this.SH.du(Math.min(256,r-226),Q)};hg.prototype.r=function(r,Q){g9.prototype.r.call(this);
for(var n=0;n<3;n++){this.Fo[n].r();this.Bb[n].r()}this.yF.r()};hg.prototype.gU=function(r){this.zS=this.SH.G();
this.update()};hg.prototype.pZ=function(r,Q,W,b,X){this.ap=!0;this.a87(r,X)};hg.prototype.Dc=function(r,Q,W,b,X){if(!this.ap)return;
this.a87(r,X)};hg.prototype.$v=function(r,Q,W,b,X){this.ap=!1};hg.prototype.a87=function(r,Q){var W=m.fV.hd(r,Q,1),b=W&255,X=W>>8&255,D=W>>16&255;
this.zS={o:D/255,W:X/255,k:b/255};this.update()};hg.prototype.ayz=function(r){var Q=this.Fo,W=this.QF(parseInt(Q[0].G())),b=this.QF(parseInt(Q[1].G())),X=this.QF(parseInt(Q[2].G()));
this.zS={o:W/255,W:b/255,k:X/255};this.update()};hg.prototype.a7n=function(r){var Q=this.Bb,W=this.aw(parseInt(Q[0].G())/360),b=this.aw(parseInt(Q[1].G())/100),X=this.aw(parseInt(Q[2].G())/100);
this.zS=E.gB(W,b,X);this.update()};hg.prototype.Is=function(r){var Q;if(r.currentTarget==this.Ua)Q=this.Ua.G();
else{Q=r.currentTarget==this.dR?this.dR.G():this.US.value;if(Q.charAt(0)=="#")Q=Q.slice(1);if(Q.length==3)Q=Q[0]+Q[0]+Q[1]+Q[1]+Q[2]+Q[2];
Q=E.yM(Q)}this.zS={o:(Q>>16&255)/255,W:(Q>>8&255)/255,k:(Q&255)/255};this.update()};hg.prototype.h_=function(r){var Q=r.o,W=r.W,b=r.k;
return Math.round(Q*255)<<16|Math.round(W*255)<<8|Math.round(b*255)};hg.prototype.Hu=function(r){this.awe();
var Q=this.h_(this.zS);this.Nf(Q);this.close();this.QG=!1;this.zS=null};hg.prototype.GD=function(r){this.awe();
if(this.Yg)this.Nf(this.h_(this.pa));this.QG=!1;this.zS=null};hg.prototype.awe=function(r){var Q=new km(e.E.L,!0);
Q.data={d:e.c.aq_};this.$(Q)};hg.prototype.VJ=function(r,Q){var W=ca.Ry(r,Q);if(W!=null)this.Ua.t(W);
if(Q!=d4.dt)return;if(this.zS!=null){this.zS={o:(W>>16&255)/255,W:(W>>8&255)/255,k:(W>>0&255)/255};this.update()}};
hg.prototype.ba=function(r,Q){var W=Q.Mi,b={o:(W>>16&255)/255,W:(W>>8&255)/255,k:(W>>0&255)/255};if(this.zS==null){var X=new km(e.E.L,!0);
X.data={d:e.c.gc,LG:"crosshair",push:!0};this.$(X);this.ap=!1;this.Nf=Q.ag;this.Yg=!1;this.QG=Q.OJ;this.pa=JSON.parse(JSON.stringify(b));
this.a5E.setAttribute("style","height:3em;background-color:#"+E.Y0(W)+";")}this.zS=b;this.update()};
hg.prototype.update=function(){var r=this.zS,Q=this.h_(r),W=this.Fo;W[0].t(Math.round(r.o*255));W[1].t(Math.round(r.W*255));
W[2].t(Math.round(r.k*255));this.dR.t(E.Y0(Q));this.US.value="#"+E.Y0(Q);this.abx.setAttribute("style","height:3em;background-color:#"+E.Y0(Q)+";");
var b=E.kd(r.o,r.W,r.k);W=this.Bb;W[0].t(Math.round(b.J9*360));W[1].t(Math.round(b.Am*100));W[2].t(Math.round(b.UM*100));
this.SH.t(r);if(this.QG){this.Nf(this.h_(this.zS));this.Yg=!0}};hg.prototype.QF=function(r){return Math.max(0,Math.min(255,r))};
hg.prototype.aw=function(r){return Math.max(0,Math.min(1,r))};function iQ(){g9.call(this,[11,2],"contoureditor");
this.axk=null;this.Ph=null;this.response=null;this.cR=N.S("div","cell");this.body.appendChild(this.cR);
this.v3=N.S("div","cell padded");this.body.appendChild(this.v3);var r=N.S("div","bordered padded vmargin");
this.cR.appendChild(r);this.Un=new am(null,null,!0);this.Un.Z(e.E.f,this.RW,this);r.appendChild(this.Un.m);
this.yF=N.bn(this,this.v3);this.Z("closebtn",this.pR,this)}iQ.prototype=new g9;iQ.prototype.Hu=function(){this.close()};
iQ.prototype.r=function(){g9.prototype.r.call(this);this.yF.r();this.Un.r()};iQ.prototype.RW=function(r){this.Ph.Crv.v=this.Un.G();
this.response(this.Ph)};iQ.prototype.pR=function(r){this.response(this.axk)};iQ.prototype.ba=function(r,Q){this.axk=JSON.parse(JSON.stringify(Q.qv));
this.Ph=Q.qv;this.response=Q.response;this.Un.t(this.Ph.Crv.v)};function d2(){g9.call(this,[11,3],"csize");
this.Pk=0;this.y2=N.S("div","form");this.y2.setAttribute("style","width:22em; margin-bottom:1em;");this.body.appendChild(this.y2);
this.i8=new i8(!0,!0,!0,!0,!0);this.i8.a5Z(!1);this.y2.appendChild(this.i8.m);this.De=new gU("Align with",[[8,7],[12,6]]);
this.De.Z(e.E.f,this.awm,this);this.uZ=new cV([12,23,2],41);this.y2.appendChild(this.uZ.m);this.uZ.t(4);
this.hk=new eA(!1);this.hk.ac9(new cp(0,0));this.yF=N.bn(this,this.body)}d2.prototype=new g9;d2.prototype.q2=function(r,Q){return r!=null};
d2.prototype.ND=function(){return!0};d2.prototype.qy=function(r){return[h8.$p,h8.VD,h8.Rb,h8.v1].indexOf(r)!=-1};
d2.prototype.tf=function(r,Q,W,b){if(b.j(h8.Cj))this.Hu();this.uZ.a1x(b.pG())};d2.prototype.awm=function(){var r=[this.uZ.m,this.hk.m];
this.y2.removeChild(r[this.Pk]);this.Pk=this.De.G();this.y2.appendChild(r[this.Pk])};d2.prototype.r=function(){g9.prototype.r.call(this);
this.i8.r();this.De.r();this.uZ.r();this.hk.r();this.yF.r()};d2.prototype.Hu=function(r){var Q=this.i8.G(),W=Q.x,b=Q.y,X=new km(e.E.Kk,!0);
X.data=m.Fp.acb(W,b,this.uZ.G());this.close();this.$(X)};d2.prototype.ba=function(r,Q){this.i8.t(new cp(r.e,r.n),r.HW);
this.i8.J2()};function aR(){g9.call(this,[11,4],"duplinto");this.M_=null;this.kt=null;this.TV=null;var r=N.S("div","form");
r.setAttribute("style","max-width:26em");this.body.appendChild(r);this.pr=new fk([12,43],["abc","def"]);
this.pr.Z(e.E.f,this.Gv,this);r.appendChild(this.pr.m);N.Hr(r);this.vK=new fk([1,16,0],["abc","def"]);
this.vK.Z(e.E.f,this.Gv,this);r.appendChild(this.vK.m);N.Hr(r);this.fR=new eM([12,48],null,14);r.appendChild(this.fR.m);
this.yF=N.bn(this,r)}aR.prototype=new g9;aR.prototype.ND=function(){return!0};aR.prototype.r=function(){g9.prototype.r.call(this);
this.yF.r();this.pr.r();this.fR.r()};aR.prototype.Gv=function(r){if(r&&r.target==this.vK)return;var Q=this.pr.G(),W=this.kt[Q],b=this.M_,X=W!=null&&W.add.artd!=null;
for(var n=0;n<b.I.length;n++)if(b.B[b.I[n]].add.artb)X=!1;this.fR.fy(Q==this.kt.length);this.vK.fy(X);
if(X){var D=W.root.children,h=[],S=this.TV=[];for(var n=0;n<D.length;n++){var a=D[n].l;if(a.add.artb)h.push(a.getName());
S.push(D[n].index)}this.vK.In(h);this.vK.t(0)}else this.TV=null};aR.prototype.ba=function(r,Q,W){this.M_=r;
this.kt=W;this.fR.t(r.I.length==0?"Layer":r.B[r.I[0]].getName());var b=[];for(var n=0;n<W.length;n++){var X=W[n].name;
b.push(X.length<30?X:X.slice(0,27)+"...")}b.push([11,7]);this.pr.In(b);this.pr.t(W.indexOf(r));this.Gv(null)};
aR.prototype.Hu=function(r){var Q=this.pr.G();if(Q==this.kt.length){var W=new bj(this.fR.G()+".psd"),b=this.M_.e,X=this.M_.n,D=this.M_.vE();
if(D!=-1){var h=this.M_.B[D].QT();b=h.e;X=h.n}W.e=b;W.n=X;W.buffer=E.Q(W.e*W.n*4);var S=W.b_();S._J("Background");
W.pY([S]);var a=new km(e.E.L,!0);a.YI=!0;a.data={d:e.c.kp,gR:W};this.$(a)}var K=this.M_.P4(null,this.M_!=this.kt[Q]),a=new km(e.E.s,!0);
a.data={d:$.fc,B:K,fS:this.M_,mw:this.kt[Q]};if(this.TV)a.data.ty=this.TV[this.vK.G()];a.b=m.M0;a.YI=!0;
this.$(a);this.close()};function dt(){g9.call(this,[1,9],"eassets");this.Ha=null;this.vY=null;var r=N.S("div","form");
r.setAttribute("style","width:32em");this.body.appendChild(r);this.gC=N.S("span");r.appendChild(this.gC);
N.Hr(r);this.zj=[new dL("Only layers / folders, whose name starts with \"-e-\""),new dL("Remove parts outside the canvas"),new dL("Trim transparent parts")];
for(var n=0;n<3;n++){var Q=this.zj[n];Q.t(!0);Q.Z(e.E.f,this.Ui,this);r.appendChild(Q.m);N.Hr(r)}this.lQ=new eJ([12,14,0],["1x","2x","3x","4x"]);
this.lQ.t([!0,!1,!1,!1]);r.appendChild(this.lQ.m);N.MP(r);this.As=["PNG","JPG","SVG","TIFF","TGA"];this.Bz=new fk([12,50],this.As);
this.Bz.Z(e.E.f,this.ab_,this);r.appendChild(this.Bz.m);this.Mv=new bt;r.appendChild(this.Mv.m);this.yF=new fG([1,9],!0,null,!0);
this.yF.Z("click",this.Hu,this);r.appendChild(this.yF.m);this.Z("closebtn",this.ON,this)}dt.prototype=new g9;
dt.prototype.ab_=function(r){this.Mv.Ye(this.As[this.Bz.G()],!1,!1,!1,this.vY.NE()!=null)};dt.prototype.ON=function(r){this.vY=null};
dt.prototype.r=function(){g9.prototype.r.call(this);this.Bz.r();this.lQ.r();this.yF.r();this.Mv.r()};
dt.prototype.ba=function(r,Q,W){this.vY=r;this.Ui()};dt.prototype.Ui=function(r){var Q=this.amI(),W="- - - "+Q.length+" exportable layers";
this.gC.textContent=W;this.ab_(null)};dt.prototype.amI=function(){var r=this.zj[0].G(),Q=[],W=this.vY;
for(var n=0;n<W.B.length;n++){var b=W.B[n],X=b.getName();if(!r&&!b.wf()&&!b.rect.WB()||X.startsWith("-e"))Q.push(n)}return Q};
dt.prototype.VJ=function(r,Q){this.Ha=r};dt.prototype.Hu=function(r){var Q=this.vY,W=[this.As[this.Bz.G()]],b=[this.Mv.G()],X=this.lQ.G(),D={},h={},S=this.amI();
if(S.length==0){alert("No layers to export.");return}var a=[this.zj[1].G(),this.zj[2].G()];for(var n=0;
n<S.length;n++){var K=S[n],Y=Q.B[K],d=Y.getName();if(h[d]!=null){h[d]++;d+=" "+h[d]}else h[d]=1;var j=Y.cB();
Y.ky(!0);for(var I=0;I<X.length;I++){if(!X[I])continue;var f=I+1,g=m.iw.ads(Q,W,f,this.Ha,K,b,a);for(var H=0;
H<W.length;H++){var u=W[H],s=d.slice(d.startsWith("-e-")?3:0)+(f==1?"":"@"+f+"x")+"."+u.toLowerCase();
if(g[H])D[s]=new Uint8Array(g[H])}}Y.ky(j)}var _=UZIP.encode(D),i=new km(e.E.L,!0);i.data={d:e.c.It,data:_,name:"assets.zip"};
this.$(i)};function eR(){g9.call(this,"Export Color Lookup Tables","exlut");this.Ha=null;this.vY=null;
var r=N.S("div","form");r.setAttribute("style","width:20em");this.body.appendChild(r);this.zj=[new fq("Grid Points",1,256),new gU([12,50],[".CUBE"])];
var Q=[16,0];for(var n=0;n<this.zj.length;n++){var W=this.zj[n];W.t(Q[n]);W.parent=this;W.Z(e.E.f,this.Ui,this);
r.appendChild(W.m);N.Hr(r)}this.yF=N.bn(this,r);this.Z("closebtn",this.ON,this)}eR.prototype=new g9;
eR.prototype.q2=function(r,Q){if(Math.min(r.e,r.n)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(r.B.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};eR.prototype.ON=function(r){this.vY=null};eR.prototype.VJ=function(r,Q){this.Ha=r};
eR.prototype.ba=function(r,Q,W){this.vY=r};eR.prototype.Hu=function(){var r=this.vY,Q=this.zj[0].G(),W=[],b=new aV(0,0,r.e,r.n),X=E.Q(Q*Q*4),D=X.slice(0),h=new aV(r.e-Q>>>1,r.n-Q>>>1,Q,Q),S=r.B[0],a=S.buffer,K=S.rect;
S.rect=h;S.buffer=X;for(var Y=0;Y<Q;Y++){this.afU(Q,Y,X);S.U(h);r.U(h);var d=r.T6();E.TU(d,b,D,h);for(var j=0;
j<Q;j++)for(var U=0;U<Q;U++){var I=j*Q+U<<2;W.push(D[I]/255,D[I+1]/255,D[I+2]/255)}}var f=cf.a42(W,Q,r.name);
dR.save(f,r.name.split(".")[0]+".CUBE");S.buffer=a;S.rect=K;S.U();r.U()};eR.prototype.afU=function(r,Q,W){var b=255/(r-1),X=Math.round(Q*b);
for(var D=0;D<r;D++)for(var h=0;h<r;h++){var S=D*r+h<<2;W[S]=Math.round(h*b);W[S+1]=Math.round(D*b);
W[S+2]=X;W[S+3]=255}};eR.prototype.r=function(){g9.prototype.r.call(this);for(var n=0;n<this.zj.length;
n++)this.zj[n].r();this.yF.r()};function g8(){g9.call(this,[1,14],"finfo");this.Te=null;this.wH=null;
this.Os=null;this.y2=N.S("div","form scrollable label12");this.y2.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.y2);var r=N.S("div","form");this.body.appendChild(r);this.lM=new fk(null,["Hello"]);
r.appendChild(this.lM.m);this.a6x=new fG("Add Parameter",!1,null,!0);r.appendChild(this.a6x.m);this.a6x.Z("click",this.Fc,this);
this.B8=new fG("=== S A V E ===",!1,null,!0);r.appendChild(this.B8.m);this.B8.Z("click",this.xP,this);
this.asG=""}g8.prototype=new g9;g8.prototype.cY=function(r,Q){return r<450||Q<450?new cp(0,0):new cp(150,100)};
g8.prototype.Fc=function(r){if(this.Os.length==0)return;var Q=this.Os[this.lM.G()],W=this.Ia();W[Q]=a1.uH[Q][0];
this.yb(W);this.wH[Q].m.scrollIntoView();this.wH[Q].J2()};g8.prototype.kB=function(r){var Q=this.Ia();
delete Q[r.currentTarget.ago];this.yb(Q)};g8.prototype.xP=function(r){var Q=this.Ia(),W=this.Te,b=!0;
for(var X in W)if(JSON.stringify(W[X])!=JSON.stringify(Q[X]))b=!1;for(var X in Q)if(JSON.stringify(W[X])!=JSON.stringify(Q[X]))b=!1;
if(b)return;var D=new km(e.E.s,!0);D.b=m.M0;D.data={d:$.Fi,B9:Q};this.$(D);this.Te=Q;this.yb(Q)};g8.a3W=function(r){function Q(X){var D=X.toLowerCase();
return X==D}var W=r.split(":").pop();for(var b=1;b<W.length-1;b++){if(W[b]==W[b].toUpperCase()&&(Q(W[b+1])||Q(W[b-1]))){W=W.slice(0,b)+" "+W.slice(b);
b++}}return W};g8.prototype.ba=function(r,Q){this.Te=r.L8;this.yb(r.L8)};g8.prototype.yb=function(r){var Q=this.y2,X=0;
N.WC(Q);var W=this.wH={},b=["tiff","exif","exif:GPS"],D=this.Os=[],h=[];for(var S in a1.uH){var a=g8.a3W(S),K=0,Y=15,d=null;
if(r[S]==null){if(a1.uH[S].length!=1||S=="photoshop:Credit"||S=="photoshop:Source"){D.push(S);h.push(a)}continue}for(var n=0;
n<b.length;n++)if(S.startsWith(b[n]))K=n;if(K!=X){N.MP(Q);X=K}if(S=="tiff:ImageDescription"||S=="dc:Keywords"){Y=18.5;
d=3}var j=new eM(a,null,Y,d);W[S]=j;var U=r[S];if(U instanceof Array)U=U[1]==0?"---":U[0]+"/"+U[1];var I=new fG("\u2716",null,aA.get([5,4]));
Q.appendChild(I.m);I.Z("click",this.kB,this);I.ago=S;j.t(U);Q.appendChild(j.m);N.Hr(Q);if(S=="exif:GPSLongitude"&&r["exif:GPSLatitude"]){this.asG=g8.axz(r["exif:GPSLatitude"])+","+g8.axz(r["exif:GPSLongitude"]);
var f=new fG("Show on map",!1,null,!0);Q.appendChild(f.m);N.Hr(Q);f.Z("click",this.a5o,this)}}this.lM.In(h);
this.lM.t(0)};g8.prototype.Ia=function(){var r=this.wH,Q=a1.uH,W={};for(var b in Q){var X=Q[b][0],D=typeof X;
if(X==null||r[b]==null)continue;var h=r[b].G(),S="The value of \""+g8.a3W(b)+"\" must ";if(D=="number"){h=parseFloat(h);
if(isNaN(h)){alert(S+"be a number.");h=X}}else if(X instanceof Array&&X.length==2){if(h.indexOf("/")==-1){alert(S+"be a fraction.");
h=X.slice(0)}else{h=h.split("/").map(parseFloat);if(isNaN(h[0])||isNaN(h[1])){h=X.slice(0)}}}W[b]=h}return W};
g8.axz=function(r){var Q=r.length,W=r.slice(0,Q-1).split(",").map(parseFloat),b=r.slice(Q-1),X=W[0]+W[1]/60+W[2]/3600;
if(b!="N"&&b!="E")X=-X;return X};g8.prototype.a5o=function(r){window.open("https://maps.google.com?q="+this.asG,"Map")};
function er(){g9.call(this,[11,5],"gradienteditor");this.pa=null;this.zS=null;this.r$=null;this.Nf=null;
this.Yg=!1;this.QG=!1;this.GC=null;this.eY=null;this.sM=-1;this.CP=-1;this.RI=0;this.Qy=this.wm.bind(this);
this.t9=this.gP.bind(this);this.T=N.S("canvas");this.hA=this.T.getContext("2d");this.T.setAttribute("style","display:block");
this.Ho=null;N.cI(this.T);N.AM(this.T,this.p9.bind(this));this.cL=N.S("div","form");this.kY=N.S("div");
this.NV=N.S("div","form");this.xF=N.S("div");this.xX=new fk([12,44],[[15,10,0],[24,6]]);this.xX.Z(e.E.f,this.s0,this);
this.body.appendChild(this.xX.m);N.MP(this.body);var r=this.cL;this.zs=new fq([19,3,3],0,100,"%");this.zs.Z(e.E.f,this.s0,this);
this.zs.parent=this;r.appendChild(this.zs.m);N.Hr(r);this.Ot=new aQ([12,0]);r.appendChild(this.Ot.m);
this.S2=N.S("div","bordered padded noalign");r.appendChild(this.S2);this.UA=new fq([12,0],0,100,"%");
this.UA.parent=this;this.UA.Z(e.E.f,this.s0,this);this.S2.appendChild(this.UA.m);this.fK=new fq([12,40],0,100,"%");
this.fK.parent=this;this.fK.Z(e.E.f,this.s0,this);this.S2.appendChild(this.fK.m);this.Cs=new fG([5,4],!1,null,!0);
this.Cs.Z("click",this.awK,this);this.S2.appendChild(this.Cs.m);r.appendChild(this.kY);this.auA=new aQ([13,0]);
r.appendChild(this.auA.m);this.Cf=N.S("div","bordered padded noalign");r.appendChild(this.Cf);this.q4=new fk([12,44],[[12,45],[12,46],[12,47]]);
this.q4.Z(e.E.f,this.s0,this);this.Cf.appendChild(this.q4.m);this.IR=new c_(!0);this.IR.parent=this;
this.IR.Z(e.E.f,this.s0,this);this.Cf.appendChild(this.IR.m);this.Zo=new fq([12,40],0,100,"%");this.Zo.parent=this;
this.Zo.Z(e.E.f,this.s0,this);this.Cf.appendChild(this.Zo.m);this.CT=new fG([5,4],!1,null,!0);this.CT.Z("click",this.a1T,this);
this.Cf.appendChild(this.CT.m);var r=this.NV;this.HK=new fq("Roughness",0,100,"%");this.HK.Z(e.E.f,this.s0,this);
this.HK.parent=this;r.appendChild(this.HK.m);r.appendChild(this.xF);this.cA=new fG([25,1,2],!1,null,!0);
this.cA.Z("click",this.s0,this);r.appendChild(this.cA.m);this.yF=N.bn(this);this.Z("closebtn",this.GD,this)}er.prototype=new g9;
er.prototype.GD=function(r){if(this.Yg)this.Nf(this.pa)};er.prototype.r=function(){g9.prototype.r.call(this);
this.yF.r();this.zs.r();this.Ot.r();this.auA.r();this.Cs.r();this.CT.r();this.UA.r();this.fK.r();this.q4.r();
this.Zo.r();this.cA.r()};er.prototype.VJ=function(r,Q){this.r$=r};er.prototype.ba=function(r,Q){this.zS=JSON.parse(JSON.stringify(Q.M));
this.pa=JSON.parse(JSON.stringify(Q.M));this.GC=this.eY=null;this.Nf=Q.ag;this.Yg=!1;this.QG=Q.OJ;this.e8();
this._O()};er.prototype.Hu=function(r){var Q=this.zS;this.Nf(Q);this.close()};er.prototype.qy=function(r){return r==h8.ZI||r==h8.$G};
er.prototype.tf=function(r,Q,W,b){if(b.j(h8.ZI)||b.j(h8.$G)){if(this.eY)this.awK();if(this.GC)this.a1T()}};
er.prototype.awK=function(r){var Q=this.zS.Trns.v;if(this.eY==null||Q.length==1)return;Q.splice(Q.indexOf(this.eY),1);
this.eY=null;this.e8();this._O()};er.prototype.a1T=function(r){var Q=this.zS.Clrs.v;if(this.GC==null||Q.length==1)return;
Q.splice(Q.indexOf(this.GC),1);this.GC=null;this.e8();this._O()};er.prototype.e8=function(){var r=this.T,Q=this.hA,W=N.i();
r.width=Math.floor(410*W);r.height=Math.floor(70*W);N.lb(r,r.width,r.height);r.style.marginTop="8px";
this.Ho=new aV(0,0,Math.floor(380*W),Math.floor(32*W));this.Ho.x=Math.floor((r.width-this.Ho.e)/2);this.Ho.y=Math.floor((r.height-this.Ho.n)/2);
var b=this.Ho,X=b.e,D=b.n,h=b.x,S=b.y,a=new aV(0,0,X,D),K=Q.getImageData(0,0,X,D),Y=new Uint8Array(K.data.buffer);
E.w8(Y,X,D,8);var d=E.Q(X*D*4);E.M.Wu(this.zS,d,a,[1/X,0,0,1/D],X/2,D/2,!1,0,this.r$.V8,this.r$.tB);
E.q.YB("norm",d,b,Y,b,b,1);Q.clearRect(0,0,r.width,r.height);Q.putImageData(K,h,S);var j=this.zS;if(j.Clrs){var U=j.Trns.v,I=j.Clrs.v,f=E.M.c3(j,this.r$.V8,this.r$.tB),g=Math.round(6*N.i()),H=Math.round(14*N.i()),u=this.eY?this.eY.v:null,s=this.GC?this.GC.v:null;
for(var n=0;n<U.length;n++){var _=U[n].v,i=Math.round(255-255*_.Opct.v.val/100);if((_==u||U[n-1]&&U[n-1].v==u||n==this.CP)&&n!=0){Q.fillStyle="#000000";
Q.fillRect(h-3+X*(U[n-1].v.Lctn.v+(_.Lctn.v-U[n-1].v.Lctn.v)*_.Mdpn.v/100)/4096,S-6-2,6,6)}if(_==u){Q.fillStyle="#ffffff";
Q.fillRect(h-g+X*(_.Lctn.v/4096)-2,S-2-H-2,2*g+4,H+4)}Q.fillStyle="rgb("+i+","+i+","+i+")";Q.fillRect(h-g+X*(_.Lctn.v/4096),S-2-H,2*g,H)}for(var n=0;
n<I.length;n++){var M=I[n].v,T=f[0][n][0];if((M==s||I[n-1]&&I[n-1].v==s||n==this.sM)&&n!=0){Q.fillStyle="#000000";
Q.fillRect(h-3+X*(I[n-1].v.Lctn.v+(M.Lctn.v-I[n-1].v.Lctn.v)*M.Mdpn.v/100)/4096,S+D+2,6,6)}if(M==s){Q.fillStyle="#ffffff";
Q.fillRect(h-g+X*(M.Lctn.v/4096)-2,S+D+2-2,2*g+4,H+4)}Q.fillStyle="rgb("+Math.round(T.o)+", "+Math.round(T.W)+","+Math.round(T.k)+")";
Q.fillRect(h-g+X*(M.Lctn.v/4096),S+D+2,2*g,H)}}if(this.QG){this.Nf(this.zS);this.Yg=!0}};er.prototype._O=function(){var r=this.zS,Q=r.Clrs?0:1;
this.xX.t(Q);if(N.Z_(this.cL))this.body.removeChild(this.cL);if(N.Z_(this.NV))this.body.removeChild(this.NV);
(Q==0?this.kY:this.xF).appendChild(this.T);if(Q==0){this.body.appendChild(this.cL);this.zs.t(Math.round(100*r.Intr.v/4096));
var W=r.Trns.v,b=r.Clrs.v,X=this.eY!=null,D=this.CP!=-1;this.UA.fy(X);this.fK.fy(X||D);this.Cs.fy(X);
if(X){this.S2.setAttribute("style","");var h=this.eY.v;this.fK.t(Math.round(100*h.Lctn.v/4096));this.UA.t(h.Opct.v.val)}if(D)this.fK.t(W[this.CP].v.Mdpn.v);
var X=this.GC!=null,D=this.sM!=-1;this.q4.fy(X);this.IR.fy(X);this.Zo.fy(X||D);this.CT.fy(X);if(X){this.Cf.setAttribute("style","");
var S=this.GC.v;this.Zo.t(Math.round(100*S.Lctn.v/4096));var a=S.Type.v.Clry;this.q4.t(["FrgC","BckC","UsrS"].indexOf(a));
if(a=="FrgC")this.IR.N$(this.r$.V8);if(a=="BckC")this.IR.N$(this.r$.tB);if(a=="UsrS")this.IR.t(S.Clr.v)}if(D)this.Zo.t(b[this.sM].v.Mdpn.v)}else{this.body.appendChild(this.NV);
this.HK.t(Math.round(100*r.Smth.v/4096))}this.body.appendChild(this.yF.m)};er.prototype.s0=function(r){var Q=this.zS,W=Q.Clrs?0:1;
if(r.target==this.xX){var b=W==0?JSON.parse(iq.Wf.axZ).v:jv.fp("grdm").Grad.v;this.zS=b;this._O();this.e8();
return}if(W==0){Q.Intr.v=Math.round(4096*this.zs.G()/100);var X=Q.Trns.v,D=Q.Clrs.v;if(this.eY!=null){var h=this.eY.v;
h.Lctn.v=Math.round(4096*(this.fK.G()/100));h.Opct.v.val=this.UA.G()}if(this.GC!=null){var S=this.GC.v;
S.Lctn.v=Math.round(4096*(this.Zo.G()/100));if(r.target==this.IR)this.q4.t(2);var a=this.q4.G();S.Type.v.Clry=["FrgC","BckC","UsrS"][a];
if(a==2)S.Clr={t:"Objc",v:this.IR.G()};else if(S.Clr)delete S.Clr}if(this.CP!=-1)X[this.CP].v.Mdpn.v=this.fK.G();
if(this.sM!=-1)D[this.sM].v.Mdpn.v=this.Zo.G()}else{Q.Smth.v=Math.round(4096*this.HK.G()/100);if(r.target==this.cA)Q.RndS.v=Math.floor(Math.random()*4294967295)}this.e8()};
er.prototype.p9=function(r){var Q=N.ug(r,this.T),W=this.Ho,b=(Q.x*N.i()-W.x)/W.e,X=(Q.y*N.i()-W.y)/W.n,D=this.zS.Trns.v,h=this.zS.Clrs.v,S=null,a=null,K=-1,Y=-1;
if(X<1)for(var n=0;n<D.length;n++){var d=D[n].v;if(Math.abs(d.Lctn.v/4096-b)<.02)S=D[n];if(n>0)if(Math.abs((D[n-1].v.Lctn.v+(d.Lctn.v-D[n-1].v.Lctn.v)*d.Mdpn.v/100)/4096-b)<.01)K=n}if(X>0)for(var n=0;
n<h.length;n++){var j=h[n].v;if(Math.abs(j.Lctn.v/4096-b)<.02)a=h[n];if(n>0)if(Math.abs((h[n-1].v.Lctn.v+(j.Lctn.v-h[n-1].v.Lctn.v)*j.Mdpn.v/100)/4096-b)<.01)Y=n}if(a==null&&S==null&&K==-1&&Y==-1){if(X<0){var d={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
d.v.Lctn.v=Math.round(b*4096);D.push(d);D.sort(this.JG);S=d}if(X>1){var h=this.zS.Clrs.v,U=E.M.c3(this.zS,this.r$.V8,this.r$.tB),I=E.M.uk(this.zS,U,b),j={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:E.M.rY({o:I&255,W:I>>8&255,k:I>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
j.v.Lctn.v=Math.round(b*4096);h.push(j);h.sort(this.JG);a=j}}if(a!=null)Y=-1;if(S!=null)K=-1;if(a!=null||S!=null||K>-1||Y>-1){this.eY=S;
this.GC=a;this.CP=K;this.sM=Y;this._O();this.e8();N.sY(window,this.Qy);N.gJ(window,this.t9)}};er.prototype.wm=function(r){var Q=N.ug(r,this.T),W=this.Ho,b=(Q.x*N.i()-W.x)/W.e,X=(Q.y*N.i()-W.y)/W.n;
b=Math.max(0,Math.min(1,b));var D=this.zS.Trns.v,h=this.zS.Clrs.v;if(this.eY!=null){var S=this.eY.v;
S.Lctn.v=Math.round(4096*b);var a=D.indexOf(this.eY);if(a!=-1&&X<-1&&D.length>1)D.splice(a,1);if(a==-1&&X>-1)D.push(this.eY);
D.sort(this.JG)}if(this.GC!=null){var K=this.GC.v;K.Lctn.v=Math.round(4096*b);var Y=h.indexOf(this.GC);
if(Y!=-1&&X>2&&h.length>1)h.splice(Y,1);if(Y==-1&&X<2)h.push(this.GC);h.sort(this.JG)}if(this.CP>-1){var S=D[this.CP].v;
S.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(b*4096-D[this.CP-1].v.Lctn.v)/(S.Lctn.v-D[this.CP-1].v.Lctn.v))))}if(this.sM>-1){var K=h[this.sM].v;
K.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(b*4096-h[this.sM-1].v.Lctn.v)/(K.Lctn.v-h[this.sM-1].v.Lctn.v))))}if(this.eY!=null||this.GC!=null||this.CP>-1||this.sM>-1){this._O();
this.e8()}};er.prototype.gP=function(r){N.qa(window,this.Qy);N.xf(window,this.t9);if(Date.now()-this.RI<300){if(this.sM!=-1||this.CP!=-1){var Q=(this.sM!=-1?this.zS.Clrs.v[this.sM]:this.zS.Trns.v[this.CP]).v;
Q.Mdpn.v=50;this._O();this.e8()}else if(this.GC!=null)this.IR.y0()}this.RI=Date.now()};er.prototype.JG=function(r,Q){return r.v.Lctn.v-Q.v.Lctn.v};
function aE(){g9.call(this,[11,10],"isize");this.y2=N.S("div","form");this.y2.setAttribute("style","width:20em");
this.body.appendChild(this.y2);this.i8=new i8(!0,!0,null,null,!0);this.y2.appendChild(this.i8.m);this.gq=new dL([12,25,3]);
this.gq.t(!0);this.y2.appendChild(this.gq.m);this.gq.Z(e.E.f,this.arq,this);this.tF=new fk([12,14,1],[[12,14,2],[12,14,3],[12,14,4]]);
this.tF.t(1);this.y2.appendChild(this.tF.m);this.yF=N.bn(this,this.body)}aE.prototype=new g9;aE.prototype.q2=function(r,Q){return r!=null};
aE.prototype.ND=function(){return!0};aE.prototype.arq=function(r){var Q=this.gq.G(),W=this.i8,b=this.tF;
if(Q)b.S8();else b.si();W.a4C(Q)};aE.prototype.r=function(){g9.prototype.r.call(this);this.gq.r();this.yF.r();
this.tF.r();this.i8.r()};aE.prototype.Hu=function(r){this.close();var Q=this.i8.G(),W=Q.x,b=Q.y,X=this.tF.G();
if(!this.gq.G())X=null;var D=new km(e.E.Kk,!0);D.data=m.Fp.anj(W,b,this.i8.Cz(),X);this.$(D)};aE.prototype.ba=function(r,Q){this.i8.t(new cp(r.e,r.n),r.HW);
this.i8.J2()};function dO(){g9.call(this,"Import RAW","importraw");var r=N.S("div","flexrow"),Q=N.S("div");
Q.setAttribute("style","margin-bottom: 1em");this.body.appendChild(r);this.body.appendChild(Q);var W=N.S("div","form");
W.setAttribute("style","width:18em");r.appendChild(W);var b=N.S("div","form");b.setAttribute("style","width:15em");
r.appendChild(b);this.SE=null;this.j_=null;this.jN=null;this.ex=null;this.apq=[];var X=[];for(var n=0;
n<dO.X2.length;n++)X.push(dO.X2[n]+" Bits");var D=this.Po=[new i8(!0,null,null,!0),new fq([12,72],1,8),new dL("Last one is Transparency"),new gU([12,34],X),new gU("Byte Order",["12-34","34-12"]),new fk("Guesses",[])];
for(var n=0;n<D.length;n++){var h=D[n];h.parent=this;h.Z(e.E.f,n==5?this.al3:this.Gv,this);var S=n==0?W:n==5?Q:b;
S.appendChild(h.m)}this.T=N.S("canvas");this.hA=this.T.getContext("2d");this.body.appendChild(this.T);
this.yF=N.bn(this,this.body)}dO.prototype=new g9;dO.prototype.r=function(){g9.prototype.r.call(this);
var r=this.Po;this.yF.r();for(var n=0;n<r.length;n++)r[n].r()};dO.prototype.Hu=function(r){this.close();
var Q=this.Po[0].G(),W=fH.lc(this.j_,[{data:this.jN,Kx:new aV(0,0,Q.x,Q.y)}]);if(this.ex)W.Ev=this.ex;
var b=new km(e.E.L,!0);b.data={d:!0?e.c.kp:e.c.ff,gR:W};this.$(b)};dO.X2=[8,16];dO.prototype.ba=function(r,Q){this.SE=new Uint8Array(Q.tq);
this.j_=Q.Ao;var W=this.SE.length,b=[1,3,4],X=0,D=0,h=1,S=1,a=this.apq=[];for(var K=0;K<3;K++){for(var Y=0;
Y<2;Y++){var d=dO.X2[Y],j=b[K],U=j*d,I=Math.round(W*8/U);if(I!=W*8/U)continue;for(var f=0;f<=4e3;f++)for(var g=0;
g<=4e3;g++)if(f*g==I){var H=0;if(f==g)H+=64;if(Math.round(f/100)==f/100&&Math.round(g/100)==g/100)H+=32;
if(Math.round(f/10)==f/10&&Math.round(g/10)==g/10)H+=16;if(Math.round(f/2)==f/2&&Math.round(g/2)==g/2)H+=8;
a.push([f,g,j,d,H])}}}var u=function(M,T){if(T[4]!=M[4])return T[4]-M[4];var R=Math.max(M[0],M[1])/Math.min(M[0],M[1]),z=Math.max(T[0],T[1])/Math.min(T[0],T[1]);
if(R!=z)return R-z;return T[0]-M[0]};a.sort(u);var s=this.Po,_=[];for(var n=0;n<a.length;n++){var i=a[n];
_.push(i[0]+" x "+i[1]+", "+i[2]+"ch, "+i[3]+"-bit")}s[5].In(_);s[5].t(0);this.al3(null)};dO.prototype.al3=function(r){var Q=this.Po,W=this.apq[this.Po[5].G()];
Q[0].t(new cp(W[0],W[1]),72);Q[1].t(W[2]);Q[3].t(dO.X2.indexOf(W[3]));this.Gv()};dO.prototype.Gv=function(r){var Q=this.Po,W=Q[0].G(),b=W.x,X=W.y,D=dO.X2[Q[3].G()],h=this.SE;
if(D==16&&Q[4].G()==1){h=h.slice(0);for(var n=0;n<h.length;n+=2){var S=h[n];h[n]=h[n+1];h[n+1]=S}}var a=this.jN=this.ni(h,b,X,Q[1].G(),D,Q[2].G()),K=this.T,Y=this.hA,d=[a,new aV(0,0,b,X)];
E.P$(d);for(var n=0;n<d.length;n+=2)if(d[n+1].n<300){a=d[n];b=d[n+1].e;X=d[n+1].n;break}K.width=b;K.height=X;
N.lb(K,b,X);var j=new ImageData(new Uint8ClampedArray(a.buffer),b,X);Y.putImageData(j,0,0)};dO.prototype.ni=function(r,Q,W,b,X,D){this.ex=null;
var h=[],S=Q*W;for(var a=0;a<b;a++){var K=E.Q(S);h.push(K);if(X==8)for(var n=0;n<S;n++)K[n]=r[n*b+a];
else if(X==16)for(var n=0;n<S;n++)K[n]=Math.round((r[(n*b+a)*2]<<8|r[(n*b+a)*2+1])*(255/65535))}var Y=E.Q(S*4);
new Uint32Array(Y.buffer).fill(4278190080);if(D){E.nV(h.pop(),Y,3);b--}if(b==0){}else if(b==1)E.BA(h[0],Y);
else{E.nV(h[0],Y,0);E.nV(h[1],Y,1);if(b>2){E.nV(h[2],Y,2);if(b>3){this.ex=[];for(var n=3;n<b;n++){var d=new $.lA;
d.name="Alpha "+(n-2);d.rect=new aV(0,0,Q,W);d.channel=h[n];this.ex.push(d)}}}}return Y};function h5(r,Q,W){eg.call(this);
this.m=N.S("div","");this.it=r;this.yh=null;this.FQ=Q==null?!1:Q;this.$W=null;this.Wh=W;this.zw=[];this.BL=[];
this.U6=[];this.yp=[];this.xB=0;this.yh=this.a9M(h5.yp[r]);this.DD();this.wa=null;this.atB;this.ake}h5.prototype=new eg;
h5.prototype.pZ=function(r,Q,W,b,X){this.wa=X;this.atB=JSON.parse(JSON.stringify(this.$W));if(this.yh.lagl)this.ake=this.yh.lagl.G()[0]};
h5.prototype.Dc=function(r,Q,W,b,X){var D=this.wa,h=this.it,S=this.atB;if(D==null)return;var a=(X.x-D.x)/r.u._,K=(X.y-D.y)/r.u._;
if(h=="GrFl"){var Y=JSON.parse(JSON.stringify(S.Ofst.v));Y.Hrzn.v.val+=a*.5;Y.Vrtc.v.val+=K*.5;this.yh.Ofst.t(Y,!0)}if(h=="patternFill"){var Y=JSON.parse(JSON.stringify(S.phase.v));
Y.Hrzn.v+=a;Y.Vrtc.v+=K;this.yh.phase.t(Y,!0)}if(h=="DrSh"||h=="IrSh"||h=="ChFX"){var d=S.Dstn.v.val,j=this.ake*Math.PI/180,U=-Math.cos(j)*d+a,I=Math.sin(j)*d+K;
this.yh.Dstn.t(Math.sqrt(U*U+I*I),!0);this.yh.lagl.t([Math.atan2(I,-U)*180/Math.PI],!0)}};h5.prototype.$v=function(r,Q,W,b,X){this.wa=null};
h5.prototype.afZ=function(){for(var n=0;n<this.yp.length;n++){N.Q5(this.yp[n],"selected");if(this.U6[n]instanceof dL)this.U6[n].t(!1)}};
h5.prototype.ay0=function(r){var Q=this.ag2.bind(this);for(var n=0;n<this.U6.length;n++){var W=N.S("div","listitem");
this.yp.push(W);if(n>0)W.textContent="\u2003";W.appendChild(this.U6[n].m);if(iq.aro.indexOf(this.it)!=-1){var b=new fG("+");
b.V9();b.m.style.float="right";W.appendChild(b.m);var X=new fG("\u2B0D");X.V9();X.m.style.float="right";
X.m.style["margin-right"]="2px";W.appendChild(X.m)}W.addEventListener("click",Q,!1);r.appendChild(W)}};
h5.eZ=function(r,Q){var W=Q.getBoundingClientRect();return(r.clientY-W.top)/W.height};h5.prototype.ag2=function(r){var Q=r.target.tagName.toLowerCase();
if(Q=="input"){return}if(Q=="button"){var W=new km(e.E.s,!0),b=r.target.textContent=="+",X=b?0:h5.eZ(r,r.target)<.5?-1:1;
if(b)W.data={d:"st_dupsingle",l:this.parent.data.l,sk:this.Wh};else W.data={d:"st_movsingle",l:this.parent.data.l,sk:this.Wh,ag6:X};
W.b=m.Wg;W.YI=!0;this.$(W);W=new km("redrawall",!0);W.data={ag6:X};this.$(W);return}N.pR(r);this.ZX();
this.xB=this.yp.indexOf(r.currentTarget);this.$(new km("showme"))};h5.prototype.ZX=function(){if(this.yh.enab&&this.yh.enab.G()==!1)this.q9({Iu:"enab",h:!0})};
h5.prototype.ami=function(){var r=this.yp[this.xB];if(r)N.lB(r,"selected");return this.BL[this.xB]};
h5.prototype.a9M=function(r){var Q={};for(var n=0;n<r.length;n++){var W=r[n],b=null;if(W=="----")b={m:N.S("hr")};
if(W=="\n")b={m:N.S("br")};if(W=="blOptions")b=new aQ([14,10]);if(W=="brst")b=new eJ([12,72],["R","G","B"]);
if(W=="knko")b=new fk("Knockout",[[13,1,0],"Shallow","Deep"]);if(W=="enab")b=new dL(iq.names[iq.order.indexOf(this.it)]);
if(W=="lrMd"||W=="Md")b=new fk([12,19,0],hG.tJ,!1,hG.WU);if(W=="Opct")b=new kh([12,0],0,100,"%");if(W=="iOpa")b=new kh([12,26],0,100,"%");
if(W=="blIf")b=new b5;if(W=="ShdN")b=new kh([12,68],0,100,"%");if(W=="lagl"||W=="Angl")b=new iU([12,15],this.it=="ebbl");
if(W=="uglg")b=new dL([12,27]);if(W=="Dstn")b=new kh([12,28],0,200,"px");if(W=="Ckmt")b=new kh([12,29],0,100,"%");
if(W=="blur")b=new kh([12,14,0],0,200,"px");if(W=="TrnS"||W=="MpgS")b=new di([12,21]);if(W=="Nose")b=new kh([12,30],0,100,"%");
if(W=="layerConceals")b=new dL([12,31]);if(W=="AntA"||W=="antialiasGloss")b=new dL([12,25,1]);if(W=="GlwT")b=new fk([12,32],iq.KW.names);
if(W=="glwS")b=new fk([12,70],iq.KW.aya);if(W=="Inpr")b=new kh([12,12],1,100,"%");if(W=="bvlS")b=new fk([12,22],iq.hD.style);
if(W=="bvlT")b=new fk([12,32],iq.hD.ajz);if(W=="bvlD")b=new fk(null,iq.hD.dir);if(W=="srgR")b=new kh([12,34],0,1e3,"%");
if(W=="Sftn")b=new kh([12,35],0,20,"px");if(W=="Lald")b=Q.lagl;if(W=="hglM"||W=="sdwM")b=new fk([12,36],hG.tJ,!1,hG.WU);
if(W=="hglC"||W=="sdwC")b=new c_;if(W=="hglO"||W=="sdwO")b=new kh([12,0],0,100,"%");if(W=="Invr"||W=="InvT")b=new dL([4,11]);
if(W=="Sz")b=new kh([12,14,0],1,200,"px");if(W=="Styl")b=new fk([12,40],iq.stroke.names);if(W=="PntT")b=new fk([12,66],iq.stroke.a1f);
if(W=="Clr")b=new c_(!0);if(W=="Grad"){b=new h7(!0,[12,37],!0);b.t(JSON.parse(iq.Wf.ady).v)}if(W=="Rvrs")b=new dL([12,23,0]);
if(W=="Dthr")b=new dL([12,23,3]);if(W=="Type")b=new fk([12,22],iq.M.names.slice(0,this.it=="FrFX"?6:5));
if(W=="Ptrn")b=new iF([12,62]);if(W=="Scl")b=new kh([12,38],5,500,"%",0,!0);if(W=="Algn")b=new dL([12,39]);
if(W=="Ofst")b=new eA(!0);if(W=="phase")b=new eA(!1);if(W=="useShape")b=new dL([12,21]);if(W=="useTexture")b=new dL([12,67]);
if(W=="textureDepth")b=new kh([12,34],-300,300,"%");var X=W=="----"||W=="\n"?W+n:W;if(b!=null)Q[X]=b}return Q};
h5.prototype.a07=function(r){var Q=this.BL[this.xB];for(var n=0;n<r.length;n++){var W=this.yh[r[n]];
if(W&&Q.contains(W.m))Q.removeChild(W.m)}};h5.prototype.aws=function(r){var Q=this.BL[this.xB];for(var n=0;
n<r.length;n++){var W=this.yh[r[n]];if(W&&!Q.contains(W.m))Q.appendChild(W.m)}};h5.prototype.VJ=function(r,Q){if(this.yh==null)return;
var W=Q==d4.KF;if(this.yh.Grad){this.yh.Grad.iP(r.V8,r.tB);if(W||Q==d4.dt||Q==d4.GY)this.yh.Grad.UD(r.Tg)}if(this.yh.Ptrn){if(W||Q==d4.vP)this.yh.Ptrn.UD(r.LB)}if(this.yh.TrnS){if(W||Q==d4.iE)this.yh.TrnS.UD(r.yd)}if(this.yh.MpgS){if(W||Q==d4.iE)this.yh.MpgS.UD(r.yd)}};
h5.prototype.r=function(){for(var n=0;n<this.zw.length;n++)this.zw[n].r();for(var r in this.yh)if(this.yh[r]instanceof eg)this.yh[r].r()};
h5.prototype.DD=function(){for(var r in this.yh){var Q=this.yh[r];Q.parent=this;if(Q instanceof eg)Q.Z(e.E.f,this.asJ,this);
if(this.BL.length==0||r=="useShape"||r=="useTexture"){var W=new aQ(Q.ajW()),b=N.S("div","bordered padded");
if(this.FQ==!1){b.appendChild(W.m);b.appendChild(N.S("hr",""))}this.zw.push(W);this.BL.push(b);this.U6.push(Q)}else this.BL[this.BL.length-1].appendChild(Q.m)}};
h5.prototype.update=function(r,Q){if(this.yh==null)return;this.$W=JSON.parse(JSON.stringify(Q));for(var W in Q){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(W)!=-1)this.yh[W].t(Q[W].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(W)!=-1){this.yh[W].t(Q[W].v,r)}if(["Md","hglM","sdwM"].indexOf(W)!=-1)this.yh[W].t(hG.it.indexOf(Q[W].v.BlnM));
if(W=="lrMd"){var b=(Q.wf?[[15,10,27]]:[]).concat(hG.tJ),X=(Q.wf?[1]:[]).concat(hG.WU);this.yh[W].In(b,X);
this.yh[W].t(Q[W].v)}if(W=="Angl")this.yh[W].t([Q[W].v.val]);if(W=="lagl"){var D=Q.uglg&&Q.uglg.v?r.QR():Q.lagl.v.val;
this.yh[W].t([D])}if(W=="Lald"){var D=Q.uglg&&Q.uglg.v?r.SJ():Q.Lald.v.val;this.yh[W].t([null,D])}if(W=="Type")this.yh[W].t(iq.M.types.indexOf(Q.Type.v.GrdT));
if(W=="Styl")this.yh[W].t(iq.stroke.types.indexOf(Q.Styl.v.FStl));if(W=="PntT"){var h=iq.stroke.Sf.indexOf(Q.PntT.v.FrFl);
this.yh[W].t(h);if(!this.FQ){this.a07(iq.i4.concat(iq.uc.concat(iq.Ej)));this.aws([iq.i4,iq.uc,iq.Ej][h])}}if(W=="GlwT")this.yh[W].t(iq.KW.types.indexOf(Q.GlwT.v.BETE));
if(W=="glwS")this.yh[W].t(iq.KW.ap$.indexOf(Q.glwS.v.IGSr));if(W=="bvlS")this.yh[W].t(iq.hD.types.indexOf(Q.bvlS.v.BESl));
if(W=="bvlT")this.yh[W].t(iq.hD.amQ.indexOf(Q.bvlT.v.bvlT));if(W=="bvlD")this.yh[W].t(["In","Out"].indexOf(Q.bvlD.v.BESs))}};
h5.prototype.asJ=function(r){for(var Q in this.yh){if(this.yh[Q]!=r.target)continue;var W=null,b=!1;
if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(Q)!=-1)W={type:"#Prc",val:r.target.G()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(Q)!=-1)W={type:"#Pxl",val:r.target.G()};if(["Angl","lagl"].indexOf(Q)!=-1)W={type:"#Ang",val:r.target.G()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(Q)!=-1)W=r.target.G();
if(["Md","hglM","sdwM"].indexOf(Q)!=-1)W={BlnM:hG.it[r.target.G()]};if(Q=="uglg"){W=r.target.G();b=!0}if(Q=="PntT"){W={FrFl:iq.stroke.Sf[r.target.G()]};
b=!0}if(Q=="Lald")W={type:"#Ang",val:r.target.G()[1]};if(Q=="Type")W={GrdT:iq.M.types[r.target.G()]};
if(Q=="Styl")W={FStl:iq.stroke.types[r.target.G()]};if(Q=="GlwT")W={BETE:iq.KW.types[r.target.G()]};
if(Q=="glwS")W={IGSr:iq.KW.ap$[r.target.G()]};if(Q=="bvlS")W={BESl:iq.hD.types[r.target.G()]};if(Q=="bvlT")W={bvlT:iq.hD.amQ[r.target.G()]};
if(Q=="bvlD")W={BESs:["In","Out"][r.target.G()]};this.q9({Iu:Q,h:W});if(b){if(this.FQ)this.update(null,this.$W);
else{var X=this.parent,D=X.gR,h=this.Wh,S=D.B[X.data.l].add.lmfx[iq.lY[h[0]]].v[h[1]].v;this.update(D,S)}}}};
h5.prototype.q9=function(r){if(this.$W&&this.$W[r.Iu])this.$W[r.Iu].v=r.h;if(this.FQ){this.$(new km(e.E.f))}else{r.d="changeprop";
r.l=this.parent.data.l;r.C_=this.Wh;var Q=new km(e.E.s,!0);Q.data=r;Q.b=m.Wg;Q.YI=!0;this.$(Q);this.$(new km("afterchange",!0))}};
h5.prototype.G=function(){return JSON.parse(JSON.stringify(this.$W))};h5.yp={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(iq.i4),GrFl:["enab","Md","Opct"].concat(iq.uc),patternFill:["enab","Md","Opct"].concat(iq.Ej),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(iq.i4.concat(iq.uc.concat(iq.Ej)))};
function fQ(){g9.call(this,[11,6],"layerstyle");this.aaY=-1;this.data={};this.gR=null;this.Ha=null;this.VF=[];
this.zT=[];N.lB(this.body,"flexrow");this.cR=N.S("div","bordered");this.cR.setAttribute("style","min-width:13em;");
this.body.appendChild(this.cR);this.iC=N.S("div","");this.iC.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.iC);this.v3=N.S("div","form");this.v3.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.v3);this.yF=N.bn(this,this.v3);this.A0=new fG([12,87],!0,null,!0);this.A0.Z("click",this.awn,this);
this.v3.appendChild(this.A0.m);this.PU=new g2;this.PU.parent=this;this.PU.Z(e.E.f,this.ab4,this);this.v3.appendChild(this.PU.m);
this.Z("closebtn",this.GD,this);this.Z("redrawall",this.aee,this)}fQ.prototype=new g9;fQ.prototype.ND=function(){return!0};
fQ.prototype.eP=function(){return!0};fQ.prototype.pZ=function(r,Q,W,b,X){var D=this.le();if(D)D.pZ(r,Q,W,b,X)};
fQ.prototype.Dc=function(r,Q,W,b,X){var D=this.le();if(D)D.Dc(r,Q,W,b,X)};fQ.prototype.$v=function(r,Q,W,b,X){var D=this.le();
if(D)D.$v(r,Q,W,b,X)};fQ.prototype.le=function(r){if(r==null)r=this.data.index;return r==null?null:r==0?this.VF[0]:this.zT[r[0]][r[1]]};
fQ.prototype.ab4=function(r){var Q=this.PU.G();this.q9({d:"setstl",h:Q.qt});this.aee(null)};fQ.prototype.awn=function(r){var Q=this.gR,W=this.data.l;
if(W==null)W=Q.I[0];var b=this.gR.B[W],X=iI.am8(b),D=new km(e.E.L,!0);D.data={d:e.c.bJ,FX:"add",Lb:d4.Ec,t_:[JSON.parse(JSON.stringify(X))]};
this.$(D)};fQ.prototype.a9g=function(r){this.data.index=r.currentTarget.Wh;this.kr(r.currentTarget.Wh)};
fQ.prototype.aee=function(r){this.ba(this.gR,this.data)};fQ.prototype.kr=function(r,Q){N.WC(this.iC);
for(var n=0;n<this.VF.length;n++)this.VF[n].afZ();var W=this.le(r);this.iC.appendChild(W.ami());if(Q)W.ZX();
var b=this.gR;if(b){var X=b.B[this.data.l];this.VF[0].update(b,m._E.R$(b,X));var D=X.add.lmfx;if(D==null)return;
for(var n=0;n<iq.order.length;n++){var h=D[iq.lY[n]].v;for(var S=0;S<h.length;S++)this.zT[n][S].update(b,h[S].v)}}if(Q)W.ZX()};
fQ.prototype.r=function(){g9.prototype.r.call(this);this.A0.r();this.PU.r();this.yF.r();for(var n=0;
n<this.VF.length;n++)this.VF[n].r()};fQ.prototype.ba=function(r,Q){var W=Q.l==null;this.data.l=Q.l;this.data.index=Q.index;
Q=this.data;this.gR=r;if(W)Q.l=r.I.length==0?r.B.length-1:r.I[0];N.WC(this.cR);var b=r.B[Q.l].add.lmfx;
this.Uo();this.VF=[new h5("bops",!1,0)];this.zT=[];for(var n=0;n<iq.order.length;n++){this.zT.push([]);
var X=b==null?[]:b[iq.lY[n]].v;for(var D=0;D<X.length;D++){var h=new h5(iq.order[n],!1,[n,D]);this.VF.push(h);
this.zT[n].push(h)}if(X.length==0){var h=new h5(iq.order[n],!1,[n,0]);this.VF.push(h);this.zT[n].push(h)}}this.r();
this.a5Y(this.Ha,d4.KF);for(var n=0;n<this.VF.length;n++){this.VF[n].parent=this;this.VF[n].ay0(this.cR);
this.VF[n].Z("showme",this.a9g,this)}if(Q.index==null||Q.index==0||!W&&b[iq.lY[Q.index[0]]].v.length==0){this.kr(0)}else this.kr(Q.index,W);
this.Z("afterchange",this.Uo,this)};fQ.prototype.Uo=function(r){var Q=this.gR,W=this.data.l;if(W==null)W=Q.I[0];
var b=this.gR.B[W],X=iI.am8(b);this.PU.t(X,Q.add.Patt?Q.add.Patt:[],Q.QR(),Q.SJ())};fQ.prototype.VJ=function(r,Q){this.Ha=r;
this.a5Y(r,Q);if(Q==d4.Ec||Q==d4.KF){this.PU.UD([r.b5,r.LB])}if(Q==d4.z1){}};fQ.prototype.a5Y=function(r,Q){for(var n=0;
n<this.VF.length;n++)this.VF[n].VJ(r,Q)};fQ.prototype.GD=function(r){this.q9({d:"cancel"})};fQ.prototype.Hu=function(r){this.q9({d:"confirm"});
this.close()};fQ.prototype.q9=function(r){r.l=this.data.l;var Q=new km(e.E.s,!0);Q.data=r;Q.b=m.Wg;Q.YI=!0;
this.$(Q);this.Uo()};fQ.A7=function(r){var Q=[{name:[14,10],Xe:!0}];for(var n=0;n<iq.names.length;n++)Q.push({name:iq.names[n]});
if(r){Q[Q.length-1].Xe=!0;Q.push({name:"Scale Effects",w:function(W){return{w:W!=null&&W.I.length!=0&&W.B[W.I[0]].gw()}}});
Q.push({name:["VAR0 VAR1",[12,49],[9,1]],w:function(W){return{w:W!=null&&W.I.length!=0&&W.B[W.I[0]].add.lmfx!=null}}})}return Q};
fQ.rc=function(r){var Q=[{Y:e.E.L,J:{d:e.c.Re,wv:"layerstyle"}}];for(var n=0;n<iq.names.length;n++)Q.push({Y:e.E.L,J:{d:e.c.Re,wv:"layerstyle",index:[n,0]}});
if(r){Q.push({Y:e.E.L,J:{d:e.c.Re,wv:"scaleeffects",h$:100,sA:{Y:e.E.s,b:m.Wg,J:{d:"scaleeffects"}}}});
var W={classID:"Mk",null:cO.RG("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
Q.push({Y:e.E.Kk,J:{r7:"make",Hf:W}})}return Q};fQ.av$=function(r){var Q=[];if(r)Q.push({name:[6,48,0,0],nT:!0},{name:[6,48,0,1],nT:!0},{name:[6,48,0,2],nT:!0,Xe:!0});
for(var W in bu.names)Q.push({name:bu.names[W],Xe:bu.as7.indexOf(W)!=-1,nT:i3[W]!=null});return Q};fQ.gI=function(r){var Q=[];
if(r){Q.push({Y:e.E.s,b:m.aK,J:{d:"newfill",tv:0}});for(var n=1;n<3;n++)Q.push({Y:e.E.Kk,J:m.QQ.Sj(n)})}for(var W in bu.names){var b=jv.fp(W);
if(b==null)b={};for(var X in bu.v_)if(bu.v_[X]==W)b.classID=X;var D={r7:"make",Hf:{classID:"Mk",null:cO.RG("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:b}}}}};
Q.push({Y:e.E.Kk,J:D})}return Q};function hc(){g9.call(this,"Merge Channels","mergechannels");this.qd=null;
var r=N.S("div","form");this.body.appendChild(r);this.Po=[];for(var n=0;n<3;n++){var Q=new fk(bu._K[n],[]);
this.Po.push(Q);r.appendChild(Q.m);N.Hr(r)}this.yF=N.bn(this,r)}hc.prototype=new g9;hc.prototype.r=function(){g9.prototype.r.call(this);
this.yF.r();for(var n=0;n<3;n++)this.Po[n].r()};hc.prototype.ba=function(r,Q,W,b){this.qd=W;var X=[];
for(var n=0;n<W.length;n++)X.push(W[n].name);for(var n=0;n<3;n++){var D=this.Po[n];D.In(X);D.t(Math.min(n,W.length-1))}};
hc.prototype.Hu=function(r){var Q=this.qd,W=Q[0],b=new km(e.E.Kk,!0);b.data=bj.Nz(W.e,W.n,W.HW,"Merged Document","Wht",!1);
this.$(b);var X=[];for(var n=0;n<3;n++)X.push(Q[this.Po[n].G()].T6());var W=Q[Q.length-1],D=W.B[0],h=D.buffer;
for(var n=0;n<h.length;n+=4){h[n]=X[0][n];h[n+1]=X[1][n];h[n+2]=X[2][n]}D.U();W.U();this.close()};function kj(){g9.call(this,[1,10],"script");
var r=N.S("div","form");r.setAttribute("style","width:44em");this.body.appendChild(r);this.Ha=null;this.ol=[];
this.rI=[];this.a5a;var Q=this.B8=new fG([1,2],!1,null,!0);Q.Z("click",this.xP,this);r.appendChild(Q.m);
var W=new fG("JS Reference",!1,null,!0);W.Z("click",this.aos,this);r.appendChild(W.m);r.appendChild(new aQ("Demos:").m);
this.arA=[];var b=kj.Gr;for(var n=0;n<b.length;n++){var X=new fG(b[n].PJ,!1,null,!0);this.arA.push(X);
r.appendChild(X.m);X.Z("click",this.axS,this)}this.zH=N.S("textarea");N.U9(this.zH);this.zH.setAttribute("rows",16);
this.zH.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");r.appendChild(this.zH);
var D=new fG("Run",!0,null,!0);D.Z("click",this.Hu,this);r.appendChild(D.m);this.Xy=N.S("div");r.appendChild(this.Xy)}kj.prototype=new g9;
kj.prototype.r=function(){this.B8.r()};kj.prototype.xP=function(){var r=this.a5a;if(r==null)r="script.jsx";
var Q=new km(e.E.L,!0);Q.data={d:e.c.Re,wv:"namewindow",h$:r.slice(0,r.length-4),eq:this.a3B.bind(this)};
this.$(Q)};kj.prototype.a3B=function(r){var Q=this.zH.value,W=c.gl(Q),b=new km(e.E.L,!0);b.data={d:e.c.pK,tq:W.buffer,A6:r+".jsx",aif:!0};
this.$(b)};kj.prototype.aw8=function(r){var n=this.ol.indexOf(r.target),Q=this.a5a=this.rI[n],W=this.Ha.np.Lm[Q],b=new Uint8Array(W),X=c.CA(b,0,b.length);
this.zH.value=X};kj.prototype.ba=function(r,Q,W){this.zH.value=kj.Gr[0].x2;this.a1R()};kj.prototype.a1R=function(){var r=this.Ha.np,Q=this.Xy;
N.WC(Q);this.ol=[];this.rI=[];Q.textContent="Saved scripts: ";for(var W in r.Lm){if(W.endsWith(".jsx")){var b=new fG(W,!1,null,!0);
this.ol.push(b);this.rI.push(W);b.Z("click",this.aw8,this);Q.appendChild(b.m)}}};kj.prototype.VJ=function(r,Q){this.Ha=r;
if(Q==d4.x3)this.a1R()};kj.prototype.aos=function(r){var Q=new km(e.E.L,!0);Q.data={d:e.c.X9,link:"https://github.com/Adobe-CEP/CEP-Resources/blob/master/Documentation/Product%20specific%20Documentation/Photoshop%20Scripting/photoshop-javascript-ref-2020.pdf"};
this.$(Q)};kj.prototype.Hu=function(r){var Q=new km(e.E.L,!0);Q.data={d:e.c.yX,OO:this.zH.value};this.$(Q)};
kj.prototype.axS=function(r){var Q=this.arA.indexOf(r.currentTarget);this.zH.value=kj.Gr[Q].x2};kj.Gr=[{PJ:"Hello",x2:"\nalert(\"Hello Photopea!\");\n"},{PJ:"Process Layers",x2:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{PJ:"Clone Layers",x2:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function gM(){g9.call(this,[11,7],"newproject");this.data=null;this.qd=null;var r=N.S("div","flexrow");
this.EP=r;this.body.appendChild(r);var Q=N.S("div","form");this.y2=Q;r.appendChild(Q);this.fR=new eM([12,48],null,10);
Q.appendChild(this.fR.m);N.Hr(Q);this.i8=new i8(!0,null,null,null,!0);this.i8.t(new cp(1280,720),72);
this.i8.a4C(!0,!0);this.i8.Z(e.E.f,this.vX,this);Q.appendChild(this.i8.m);this.gW=new jP;this.gW.parent=this;
Q.appendChild(this.gW.m);this.ef=new fG("\u02C5",null,[0,14],!0);this.ef.Z("click",this.B6,this);Q.appendChild(this.ef.m);
var W=this.a5z=N.S("span");Q.appendChild(W);W.style.display="none";this.akG=new fk([13,6],["sRGB","Adobe RGB","ProPhoto RGB","Display P3"]);
W.appendChild(this.akG.m);this.tI=new dL([1,16,1]);W.appendChild(this.tI.m);this.yF=new fG([12,49],!0,null,!0);
this.yF.Z("click",this.Hu,this);Q.appendChild(this.yF.m);var b=gM.SE,X=[];for(var n=0;n<b.length;n++)X.push(b[n].name);
this.ed=new gU(null,X);this.ed.Z(e.E.f,this.afd,this);Q.appendChild(this.ed.m);this.ed.m.style["margin-top"]="1em";
this.lL=new aa(!0);this.lL.Z(e.E.f,this.a4_,this);Q.appendChild(this.lL.m);this.afd();this.uI=new f9;
this.uI.parent=this;this.uI.m.setAttribute("style","margin-left:1em");this.uI.Z("tempready",this.a9q,this)}gM.prototype=new g9;
gM.prototype.B6=function(r){var Q=this.a5z,W=Q.style.display!="none";Q.style.display=W?"none":"";this.ef.NM(W?"\u02C5":"\u02C4");
this.du(this.Dr,this.J9)};gM.prototype.VJ=function(r,Q){this.uI.VJ(r)};gM.prototype.cY=function(r,Q){return new cp(Math.max(0,Math.min(70,(r-690)/2)),r>Q?Math.max(0,Math.min(50,(Q-400)/2)):0)};
gM.prototype.du=function(r,Q){this.Dr=r;this.J9=Q;this.y2.setAttribute("style","width:"+Math.min(r-24,338)+"px");
this.lL.m.style.height=Q-248-(this.a5z.style.display=="none"?0:28)+"px";var W=this.uI.m,b=W.parentNode;
if(r<500){if(b!=null)this.EP.removeChild(W)}else{if(b==null)this.EP.appendChild(W);this.uI.du(r-378,Q-28)}};
gM.prototype.vX=function(){this.uI.t(this.i8.G())};gM.prototype.a4_=function(r){var Q=this.lL.G()[0],W=gM.SE[this.ed.G()].mv[Q],b=W[4];
if(b==0)b=72;var X=W[1],D=W[2],h=["px","%","mm","in"].indexOf(W[3]),S=[1,1,25.4/b,1/b][h];X/=S;D/=S;
this.i8.t(new cp(Math.round(X),Math.round(D)),b);this.i8.asQ(h);this.vX()};gM.prototype.afd=function(r){var Q=gM.SE[this.ed.G()].mv,W=[],b=[],X=Math.round(106*N.i()),D=Math.round(106*N.i()),h=0;
for(var n=0;n<Q.length;n++)h=Math.max(h,Q[n][1],Q[n][2]);for(var n=0;n<Q.length;n++){var S=Q[n],a=S[1]+" x "+S[2]+" "+S[3];
if(S[3]=="in")a=(S[1]*25.4).toFixed(0)+" x "+(S[2]*25.4).toFixed(0)+" mm";if(S[3]=="mm")a=(S[1]/25.4).toFixed(1)+" x "+(S[2]/25.4).toFixed(1)+" in";
if(S[4])a=a+" @ "+S[4]+" ppi";b.push(a);W.push(gM.Rs(S,X,D,h))}this.lL.pH(W,b,X,D)};gM.Rs=function(r,Q,W,b){var X=N.S("canvas",""),D=X.getContext("2d");
X.width=Q;X.height=W;var h=Math.round(Q/8),S=Math.floor(11*N.i()),a=r[1],K=r[2];D.fillStyle="#000000";
D.font=Math.round(S*.9)+"px \"Open Sans\", Sans-Serif";var Y=a+" x "+K+" "+r[3],d=D.measureText(Y);D.fillText(Y,Math.round((Q-d.width)/2),W-Math.round(h/2));
if(r[0]!=null){D.font="bold "+S+"px \"Open Sans\", Sans-Serif";var Y=r[0],d=D.measureText(Y);D.fillText(Y,Math.round((Q-d.width)/2),W-Math.round(h/2)-Math.round(S*1.3))}W-=Math.round(2.5*S);
var j=Math.min((Q-h)/a,(W-h)/K);j*=.5+.5*(Math.max(a,K)/b);var U=(Q-a*j)/2,I=(W-K*j)/2;D.strokeRect(Math.round(U)+.5,Math.round(I)+.5,Math.round(a*j),Math.round(K*j));
return X.toDataURL()};gM.prototype.r=function(){g9.prototype.r.call(this);this.i8.r();this.fR.r();this.gW.r();
this.yF.r();this.fR.t(aA.get([11,7]));this.ed.r();this.tI.r();this.ef.r();this.uI.r()};gM.prototype.Hu=function(r){var Q=this.i8.G(),W=Q.x,b=Q.y;
this.close();var X=this.gW.G(),D=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"][this.akG.G()],h=new km(e.E.Kk,!0);
h.data=bj.Nz(W,b,this.i8.Cz(),this.fR.G(),["Wht","Blck","Trns","Clr"][X[0]],this.tI.G(),X[1],D);this.$(h);
this.atL()};gM.prototype.a9q=function(r){var Q=r.data.gR;Q.HW=this.i8.Cz();var W=new km(e.E.L,!0);W.data={d:e.c.kp,gR:Q};
this.$(W);this.close();this.atL()};gM.prototype.atL=function(){var r=this.qd[this.qd.length-1],Q=this.data.aj7;
if(Q)iS.NC(function(){var W=new XMLHttpRequest,b="https://www.googleapis.com/drive/v3/files?"+iS.g3();
W.open("POST",b,!0);W.setRequestHeader("Content-Type","application/json");W.addEventListener("load",function(X){var D=JSON.parse(X.target.response);
r.VQ={file:D,Gz:"psd"};alert(r.name+" created in Google Drive")});W.send(JSON.stringify({name:r.name,a3w:[Q]}))})};
gM.prototype.ba=function(r,Q,W,b){this.qd=W;if(r!=null&&r.P!=null){var X=new aV(0,0,r.e,r.n).ww(r.P.rect);
this.i8.t(new cp(X.e,X.n))}this.data=Q;this.vX();if(N.Vm())dR.a3u(this.ajG.bind(this))};gM.prototype.ajG=function(r){if(r=="granted")dR.cQ(this,this.aeE.bind(this))};
gM.prototype.aeE=function(r,Q){this.i8.t(new cp(Q.e,Q.n))};gM.SE=[{name:"Social",mv:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],mv:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],mv:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],mv:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],mv:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],mv:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",mv:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function bi(r,Q,W){g9.call(this,Q,"sel_"+r);this.d=r;var b=N.S("div","form");this.body.appendChild(b);
this.fR=new fq(Q,0,255,null,0,!1,!0);b.appendChild(this.fR.m);this.fR.t(1);var X=N.S("span");X.textContent=W;
b.appendChild(X);N.Hr(b);this.a7h=new dL("Apply at canvas bounds");if(r!="border")b.appendChild(this.a7h.m);
this.yF=N.bn(this,b)}bi.prototype=new g9;bi.prototype.q2=function(r,Q){if(r==null)return;if(r.P==null)alert("No selection!");
return r.P!=null};bi.prototype.Hu=function(r){var Q=new km(e.E.Kk,!0);Q.data=m.to.agt(this.d,this.fR.G(),this.a7h.G());
Q.YI=!0;this.$(Q);this.close()};bi.prototype.r=function(){g9.prototype.r.call(this);this.yF.r();if(this.fR)this.fR.r()};
bi.prototype.ba=function(r,Q){};function fu(r,Q,W,b,X,D){g9.call(this,W,Q);this.at5=D;this.QG=X;this.SE=null;
this.y2=N.S("div","form");this.body.appendChild(this.y2);this.fR=r==0?new eM(W,null,10):r==1?new kh(W,0,500,b,1):new eM(W,null,24,5);
this.fR.Z(e.E.f,this.j5,this);this.y2.appendChild(this.fR.m);this.yF=N.bn(this,this.y2);this.Z("closebtn",this.GD,this)}fu.prototype=new g9;
fu.prototype.cY=function(r,Q){return new cp(Math.max(0,Math.min(150,(r-250)/2)),Math.max(0,Math.min(150,(Q-120)/2)))};
fu.prototype.ND=function(){return this.at5};fu.prototype.j5=function(r){var Q=this.fR.G();if(this.QG)this.hJ(Q)};
fu.prototype.GD=function(r){if(this.QG)this.hJ("cancel")};fu.prototype.Hu=function(r){if(this.QG)this.hJ("confirm");
else this.hJ(this.fR.G());this.close()};fu.prototype.hJ=function(r){if(this.SE.eq)this.SE.eq(r);else if(this.SE.sA){var Q=this.SE.sA,W=new km(Q.Y,!0);
W.b=Q.b;W.data=Q.J;W.data.h=r;W.YI=!0;this.$(W)}};fu.prototype.r=function(){g9.prototype.r.call(this);
this.yF.r();if(this.fR)this.fR.r()};fu.prototype.ba=function(r,Q){this.SE=Q;this.fR.t(Q.h$);this.fR.J2();
this.j5(null)};function d8(){g9.call(this,[1,5],"open_from_url");this.cy=null;var r=N.S("div","form");
this.body.appendChild(r);this.uN=new eM("URL",null,22);r.appendChild(this.uN.m);N.Hr(r);this.pM=new gU([21,0],[[21,2],[21,1]]);
r.appendChild(this.pM.m);this.yF=N.bn(this,r)}d8.prototype=new g9;d8.prototype.r=function(){g9.prototype.r.call(this);
this.yF.r();this.pM.r()};d8.prototype.ba=function(r,Q,W){this.uN.J2();this.cy=null;if(r&&W.indexOf(r)!=-1)this.cy=W.indexOf(r)};
d8.prototype.Hu=function(r){var Q=new km(e.E.L,!0),W=this.uN.G();Q.data={d:e.c.Es,Lb:{url:W,Wl:!0,cy:this.pM.G()==1?this.cy:null}};
this.$(Q);this.close()};function dT(){g9.call(this,[12,79],"preferences");this.Ha=null;var r=N.S("div","form");
this.body.appendChild(r);this.yp=[new dL([8,2]),new dL([8,4]),new fk([12,80,3],[[12,93,3],[12,80,4]]),new kh([12,80,5],.02,100,null,2),new fk(null,E.iZ.Rh),new fk([12,80,6],E.iZ.Rh),new dL("Remind me to save")];
for(var n=0;n<this.yp.length;n++){var Q=this.yp[n];r.appendChild(Q.m);if(n!=3)N.Hr(r);Q.Z(e.E.f,this.Ig,this)}}dT.prototype=new g9;
dT.prototype.r=function(){g9.prototype.r.call(this);for(var n=0;n<this.yp.length;n++)this.yp[n].r()};
dT.prototype.ba=function(r,Q,W){};dT.prototype.VJ=function(r,Q){this.Ha=r;var W=r.fl;this.yp[0].t(W.RE);
this.yp[1].t(W.Zi);this.yp[2].t(W.wJ);this.yp[3].t(W.fe);this.yp[4].t(W.K$);this.yp[5].t(W.dp);this.yp[6].t(r.Pb==1)};
dT.prototype.Ig=function(r){var Q=this.yp;if(r.target==Q[6])this.Ha.Pb=1-this.Ha.Pb;var W=JSON.parse(JSON.stringify(this.Ha.fl));
W.RE=Q[0].G();W.Zi=Q[1].G();W.wJ=Q[2].G();W.fe=Q[3].G();W.K$=Q[4].G();W.dp=Q[5].G();var b=new km(e.E.L,!0);
b.data={d:e.c.bJ,Lb:d4.AQ,g2:W};this.$(b)};function hb(){g9.call(this,[11,8],"saveforweb");this.apo="";
this.Z("closebtn",function(){this.e$.LL()},this);this.gR=null;this.AX=null;this.a0B=null;this.Ha=null;
N.lB(this.body,"flexrow");this.body.style.padding="0";var r=N.S("div"),Q=N.S("div");this.body.appendChild(r);
this.body.appendChild(Q);this.Cf=N.S("div","imgcont");r.appendChild(this.Cf);this.e$=new g_;this.e$.du(512,512);
this.n_=N.S("div");this.n_.setAttribute("style","display:inline-box; padding: 3px 0 5px 8px; height:20px;");
r.appendChild(this.n_);var W=this.y2=N.S("div","form cell");W.setAttribute("style","width:195px; padding:9px 13px;");
Q.appendChild(W);this.rL=new fk([12,50],fH.Pd());W.appendChild(this.rL.m);this.rL.Z(e.E.f,this.Ui,this);
N.Hr(W);this.JK=new eM([12,48],".www",7.7);W.appendChild(this.JK.m);N.Hr(W);this.i8=new i8(!0,!0,!1,!0);
this.i8.Z(e.E.f,this.Ui,this);W.appendChild(this.i8.m);this.Mv=new bt;this.Mv.Z(e.E.f,this.Ui,this);
W.appendChild(this.Mv.m);this.rN=new fG([1,2],!0,null,!0);this.rN.Z("click",this.Hu,this);W.appendChild(this.rN.m)}hb.prototype=new g9;
hb.prototype.q2=function(r,Q){return r!=null};hb.prototype.r=function(){g9.prototype.r.call(this);this.i8.r();
this.JK.r();this.rL.r();this.Mv.r();this.rN.r()};hb.prototype.Hu=function(r){var Q=this.JK.G().trim(),W=fH.Pd()[this.rL.G()],b=W=="JPG"||W=="PNG"||W=="GIF",X=fH.Qt(W),D="."+W.toLowerCase(),h=this.AX,S=Q+D,a=this.gR,K=a.Pq,Y=this.Mv.G();
if(a.NE())Y.pop();if(K.length!=0&&b&&Y.pop()){var d="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",j=[],U={},I=new aV(0,0,a.e,a.n),f=a.T6();
for(var n=0;n<K.length;n++)j.push(m.sn.DN(K,n));j.reverse();var g=E.rect.mN([0,0,a.e,a.n],j);for(var n=0;
n<g.length;n++){var H=g[n],u=new aV(H[0],H[1],H[2]-H[0],H[3]-H[1]),s=H.length==5?K[H[4]].v:null,_=E.Q(u.O()*4);
E.TU(f,I,_,u);var i="img/img"+(n+1)+D;U[i]=new Uint8Array(X.Al([[_.buffer,0]],u.e,u.n,Y));d+="<div style=\"background-image:url('"+i+"'); left:"+u.x+"px; top:"+u.y+"px; width:"+u.e+"px; height:"+u.n+"px\">";
if(s&&s.url.v!="")d+="\n\t<a href=\""+s.url.v+"\" target=\""+s.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
d+="</div>\n"}d+="</body>\n</html>\n";var M=E.Q(Math.round(d.length*1.5)),T=c.XX(d,M,0);U["index.html"]=M.slice(0,T);
h=UZIP.encode(U);S=Q+".zip"}else if(a.add.artd&&a.add.artd.Cnt.v>1&&b&&Y.pop()){var U={},I=new aV(0,0,a.e,a.n),f=a.T6(),R=a.root.children;
for(var n=0;n<R.length;n++){var z=R[n].l;if(z.add.artb==null||!z.cB())continue;var G=z.QT(),V=E.Q(G.O()*4);
E.TU(f,I,V,G);U[z.getName()+D]=new Uint8Array(X.Al([[V.buffer,0]],G.e,G.n,Y))}h=UZIP.encode(U);S=Q+".zip"}if(a.sz)dR.Ls("act=1&id="+a.sz);
this.e$.LL();this.close();var y=function(){var B=new km(e.E.L,!0);B.data={d:e.c.It,data:h,name:S};this.$(B)}.bind(this);
if(!this.Ha.l1||b6.KJ()){y();return}var k=cN.Ti()!=0;y();var B=new km(e.E.L,!0),v=ec.ez("3UMe\\ORYBB@EVG9* 08{\"\",-913-yXs^]Y\\Mm^UHKR3.8F6&+*.y1oo{%qm{m^Xo_SNLU]NA97N-7*B32*'##\"*WlprjhZS.k9XHSPYXt41:=36@;y*2$tn&womykcpZPIWP^IHH8]");
if(k)v=ec.ez("0^Ne\\ORYLG:<2G&0>\\|W~~otku?|J_ce][MFaVKNB7O;9;C&6$+)1wq(jxdnreaUlNPH`UC9IQH;>E'/J9f un}l0!u\\lXZn[^XbAAMd");
B.data={d:e.c.Re,wv:ec.XP,h:v,eq:function(){}};if(Math.random()<.1||k)this.$(B)};hb.prototype.ba=function(r,Q){if(Q.IL!=null)this.rL.t(Q.IL);
this.gR=r;var W=this.gR.name,b=W.lastIndexOf("."),W=b==-1?W:W.slice(0,b);this.JK.t(W);var X=r.e+","+r.n;
if(X!=this.apo){this.apo=X;this.i8.t(new cp(r.e,r.n),r.HW)}this.Mv.au7();if(Q.apm){this.i8.asQ(3);this.Mv.ew.PDF[2].xT.t(!0)}this.Ui(null,!0)};
hb.prototype.atp=function(r,Q){return r<Q&&r<660};hb.prototype.cY=function(r,Q){return this.atp(r,Q)?new cp(0,0):new cp(Math.max(0,Math.min(150,(r-770)/2)),Math.max(0,Math.min(150,(Q-590)/2)))};
hb.prototype.du=function(r,Q,W){this.Dr=r;this.J9=Q;if(this.gR==null)return;var b=this.rN.m,X=this.atp(r,Q),D,h,d="<span style=\"width:",j="display:inline-block; text-align:right;\">";
if(X){var S=this.y2.getBoundingClientRect().height;D=r;h=Q-S-27;N.Q5(this.body,"flexrow");N.Q5(b,"spread")}else{D=Math.min(512,r-195-2*13);
h=Math.min(512,Q-24);N.lB(this.body,"flexrow");N.lB(b,"spread")}this.y2.style.width=(X?r:195)+"px";var a=fH.Pd()[this.rL.G()],K=fH.Qt(a);
if(K.gF||K.TO)this.Cf.firstChild.setAttribute("style","display:block; width:"+D+"px; height:"+h+"px;");
else this.e$.du(D,h);var Y=this.AX.byteLength,U=a+":"+d+64+"px;"+j+hb.Vh(Y)+"</span>";if(D>200)U+=d+90+"px; opacity:"+.5+";"+j+Y.toLocaleString()+" B</span>";
this.n_.innerHTML=U;b.style.float=X?"right":"";b.style.marginRight=X?"13px":"";if(X)this.n_.appendChild(b);
else this.y2.appendChild(b);if(W)setTimeout(function(){this.du(this.Dr,this.J9)}.bind(this),20)};hb.Vh=function(r){var Q=r.toString(2),W=0;
while(W+10<Q.length)W+=10;var b=(r/Math.pow(2,W)).toFixed(1);if(b.endsWith(".0"))b=b.slice(0,-2);var X="B KB MB GB TB PB".split(" ")[Math.floor(W/10)];
return b+" "+X};hb.prototype.VJ=function(r,Q){this.Ha=r};hb.prototype.Ui=function(r,Q){var W=this.gR,b=this.i8.G(),X=b.x,D=b.y,h=this.rL.G(),S=fH.Pd()[h],g="";
this.JK.auf("."+S.toLowerCase());var a=fH.Ax(W)[0].length,K=["GIF","PNG","WEBP"].indexOf(S)!=-1&&a>1;
if(K&&Q&&(a>4&&X*D>1024*1024||X*D*a>800*800*50)){var Y=1;while(Math.max(X>>>Y,D>>>Y)>800)Y++;var d=window.confirm("Your animation is large ("+X+" x "+D+" px). Press \"OK\" to scale it to "+(100>>>Y)+"%. Press \"Cancel\" to keep the size.");
if(d){this.i8.t(new cp(X>>>Y,D>>>Y),null,!0);X=X>>>Y;D=D>>>Y}}var j=W.add.artd,U=j!=null&&j.Cnt.v>1,I=W.NE();
this.Mv.Ye(S,K,W.Pq.length!=0,U,I!=null);var f=this.Mv.G();this.AX=fH.w3(W,S,X,D,f,this.Ha);if(this.AX==null){this.gR=null;
return}N.WC(this.Cf);this.e$.LL();var H=fH.Qt(S);if(H.TO){this.Cf.innerHTML="<div></div>";g+="width:0px"}else if(H.gF){var u=X,s=D,_;
if(S=="PDF"){_=URL.createObjectURL(new Blob([this.AX],{type:"application/pdf"}))}else{_=URL.createObjectURL(new Blob([this.AX],{type:"image/svg+xml"}))}this.Cf.innerHTML="<iframe src=\""+_+"\"></iframe>"}else{var i=this.a0B=H.ni(this.AX),M=i[0],T=M.Kx,u=T.e,s=T.n;
if(M.sH){var R=ICC.R(M.sH.buffer),z=17,G=ICC.U.sampleLUT(R,z);for(var n=0;n<i.length;n++){var V=new Uint8Array(i[n].data);
ICC.U.applyLUT(G,z,V,V)}}this.e$.t(i,i.length>1?f[f.length-3]:0);this.Cf.appendChild(this.e$.m);g="background: rgba(0,0,0,0);"}this.Cf.setAttribute("style","display:block; background-size:"+16/N.i()+"px;"+g);
this.du(this.Dr,this.J9,Q)};function f6(){g9.call(this,[11,13],"shortcuts");var r=this.EP=N.S("div","scrollable");
r.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(r);
this.agN()}f6.prototype=new g9;f6.prototype.r=function(){g9.prototype.r.call(this);this.agN()};f6.prototype.agN=function(){var r="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",Q="",W=h8,b=W.DS,X=W.NN,D=W._I;
Q+="<h2 style=\"margin-top:0;\">Main Menu</h2>";Q+=r;Q+=this.He([[0,0],"---",[1,0],[b,W.uM],[1,2],[b,W.sF],[1,3],[X,b,W.sF],[1,8],[D,X,b,W.sF],[0,1],"---",[2,0],[X,b,W.Qf],[2,1],[b,W.Qf],[5,0],[b,W.yn],[5,1],[b,W.n8],[5,2],[b,W.iA],[2,2],"Delete",[2,3],[D,W.$G],[10,16],[D,b,W.ix],[12,79],[b,W.DK],[3],"---",[4,1],[b,W.HN],[4,2],[b,W.k4],[4,5],[b,W.Zv],[4,11],[b,W.Kj],[0,3],"---",[6,13],[X,b,W.H9],[6,49,0],[b,W.wD],[6,6,0],[D,b,W.L4],[6,9],[b,W.L4],[6,10],[b,W.E],[0,5],"---",[7,0],[b,W.c],[7,1],[b,W.x4],[7,2],[X,b,W.Kj],[0,7],"---",[8,0],[b,W.Ex],[8,1],[b,W.Ek],[8,3],[b,W.Ct],[8,2],[b,W.za],[8,4],[b,W.xW],[11,13],"?"]);
Q+="</div>";Q+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";Q+=r;Q+=this.He(["Vertical scroll","Wheel","Horizontal scroll",[b,"Wheel"],"Zooming",[D,"Wheel"]]);
Q+="</div>";Q+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
Q+=r;Q+=this.He([[10,11],[b],[10,7],"Space",[10,17],[b,W.ye]]);Q+="</div>";Q+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
Q+=r;var h=f6.a,S=[];for(var n=0;n<h.length;n+=3)if(h[n+1])S.push(h[n],h[n+1]);S=S.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[b,W.oS]]);
Q+=this.He(S);Q+="</div>";this.EP.innerHTML=Q};f6.prototype.He=function(r){var Q="",W=!0;for(var n=0;
n<r.length;n+=2){var b=r[n],X=h8.KK(r[n+1]);if(X==null){W=!1;continue}var D=N.IJ(aA.get(b));if(X=="---"){if(!W)Q+="<br/>";
Q+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+D+"</div>"}else Q+="<div>"+D+" <span style=\"float:right; font-weight:bold;\">"+X+"</span> </div>";
W=!1}return Q};f6.a=[[10,11],"V",0,[10,50],"V",70,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,44],"W",3,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,45],"E",32,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61];
function ee(){g9.call(this,[8,11,1],"soptions");this.D8=null;var r=N.S("div","form");r.style.width="20em";
this.body.appendChild(r);this.R7={Nm:[12,48],url:"URL",null:[12,71]};this.yp={};for(var Q in this.R7){var W=new eM(this.R7[Q],null,15);
this.yp[Q]=W;r.appendChild(W.m)}this.yF=N.bn(this,r)}ee.prototype=new g9;ee.prototype.ba=function(r,Q,W){var b=Q.h;
this.D8=JSON.stringify(b);for(var X in this.R7){if(b[X])this.yp[X].t(b[X].v)}};ee.prototype.Hu=function(r){var Q=JSON.parse(this.D8);
for(var W in this.R7){var b=this.yp[W].G();Q[W]={t:"TEXT",v:b}}var X=new km(e.E.s,!0);X.b=m.ds;X.data=Q;
X.YI=!0;this.$(X);this.close()};ee.prototype.r=function(){g9.prototype.r.call(this);this.yF.r()};function ay(){g9.call(this,[2,3],"fill");
this.Ha=null;this.W$=null;var r=N.S("div","form padded");r.style.width="22em";this.body.appendChild(r);
this._F="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.AB=new fk([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],null,[3,3,2]);
this.AB.Z(e.E.f,this.ajU,this);r.appendChild(this.AB.m);this.Cf=N.S("span");r.appendChild(this.Cf);this.Gt=new c_;
this.Gt.parent=this;this.Gt.N$(0);this._v=new iF;this._v.parent=this;this.A_=new fk([12,19,0],hG.tJ,!1,hG.WU);
r.appendChild(this.A_.m);this.qi=new kh([12,0],0,100,"%",0,!1);this.qi.t(100);r.appendChild(this.qi.m);
this.xc=new dL([13,5]);this.xc.t(!1);r.appendChild(this.xc.m);this.yF=N.bn(this,this.body)}ay.prototype=new g9;
ay.prototype.q2=function(r,Q){return r!=null};ay.prototype.ND=function(){return!0};ay.prototype.ajU=function(){var r=this.AB.G(),Q=this.Gt.m,W=this._v.m,b=this.Cf;
if(r==2)b.appendChild(Q);else if(b.contains(Q))b.removeChild(Q);if(r==7)b.appendChild(W);else if(b.contains(W))b.removeChild(W)};
ay.prototype.r=function(){g9.prototype.r.call(this);this.AB.r();this.A_.r();this.qi.r();this.xc.r();
this.yF.r()};ay.prototype.Hu=function(r){if(!this.W$.P2())return;var Q=new km(e.E.Kk,!0),W=this.AB.G();
Q.data=m.AZ.Sj(this._F[W],hG.Av[this.A_.G()],this.qi.G()/100,this.Gt.G(),this.xc.G(),this._v.G());this.close();
this.$(Q)};ay.prototype.ba=function(r,Q){this.W$=r};ay.prototype.VJ=function(r,Q){this.Ha=r;if(Q==d4.KF||Q==d4.vP){this._v.UD(r.LB);
this._v.t({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"c7acb22a-47a6-11de-919a-bf574370eaaf",t:"TEXT"}})}};
function hn(){g9.call(this,[14,9],"stroke");this.Ha=null;this.y2=N.S("div","form");this.y2.setAttribute("style","width:24em");
this.body.appendChild(this.y2);this.cq=new h5("FrFX",!0);this.cq.parent=this;var r=["Sz","Styl","Md","Opct"].concat(iq.i4);
for(var n=0;n<r.length;n++){var Q=this.cq.yh[r[n]].m;this.y2.appendChild(Q)}this.RM=!1;this.yF=N.bn(this,this.body)}hn.prototype=new g9;
hn.prototype.q2=function(r,Q){return r!=null};hn.prototype.ND=function(){return!0};hn.prototype.r=function(){g9.prototype.r.call(this);
this.yF.r();this.cq.r()};hn.prototype.Hu=function(r){var Q=new km(e.E.s,!0);Q.b=m.Ik;Q.data={d:"stroke",a9t:this.cq.G()};
this.close();this.$(Q)};hn.prototype.ba=function(r,Q){if(!this.RM){var W=iq.WS[iq.order.indexOf("FrFX")];
W=JSON.parse(W);this.cq.update(r,W);this.RM=!0}var W=this.cq.G(),b=this.Ha.V8;W.Clr.v=E.M.rY({o:b>>16&255,W:b>>8&255,k:b&255});
this.cq.update(r,W)};hn.prototype.VJ=function(r,Q){this.Ha=r};function cH(){g9.call(this,[11,9],"textwarp");
this.yp=new ea;this.yp.Z(e.E.f,this.Pp,this);this.yp.parent=this;this.y2=N.S("div","form");this.y2.setAttribute("style","width:20em");
this.body.appendChild(this.y2);this.y2.appendChild(this.yp._V.m);this.y2.appendChild(this.yp.Vv.m);this.y2.appendChild(this.yp.VO.m);
this.y2.appendChild(this.yp.kG.m);this.y2.appendChild(this.yp.SP.m);this.yF=N.bn(this,this.y2);this.Z("closebtn",this.GD,this)}cH.prototype=new g9;
cH.prototype.ND=function(){return!0};cH.prototype.r=function(){g9.prototype.r.call(this);this.yF.r();
this.yp.r()};cH.prototype.Pp=function(r){var Q=this.yp.G();this.hJ({d:"warp",Eu:Q})};cH.prototype.hJ=function(r){var Q=new km(e.E.s,!0);
Q.b=m.st;Q.data=r;Q.YI=!0;this.$(Q)};cH.prototype.GD=function(r){this.hJ({d:"warpCancel"})};cH.prototype.Hu=function(r){this.hJ({d:"warpConfirm"});
this.close()};cH.prototype.ba=function(r,Q){var W=r.B[r.I[0]];this.yp.t(W.add.TySh.xR)};function bC(){g9.call(this,[11,12,0],"trim");
var r=this.y2=N.S("div","form");this.y2.setAttribute("style","width:22em");this.body.appendChild(this.y2);
var Q=new aQ("Color To Trim:");r.appendChild(Q.m);this.V4=new eJ(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.V4.t([!0]);this.y2.appendChild(this.V4.m);var Q=new aQ("Sides:");r.appendChild(Q.m);this.KC=new eJ(null,["Top","Left","Bottom","Right"]);
this.KC.t([!0,!0,!0,!0]);this.y2.appendChild(this.KC.m);this.yF=N.bn(this,this.body)}bC.prototype=new g9;
bC.prototype.q2=function(r,Q){return r!=null};bC.prototype.ND=function(){return!0};bC.prototype.r=function(){g9.prototype.r.call(this);
this.V4.r();this.KC.r();this.yF.r()};bC.prototype.Hu=function(r){var Q=this.V4.G().indexOf(!0),W=this.KC.G(),b=new km(e.E.Kk,!0);
b.data=m.Fp.pU(Q,W);this.close();this.$(b)};function eK(){g9.call(this,"Raw Photopea","rawpea");this.jN=null;
this.El=null;this.body.style.padding="0";var r=this.Nl=new i3["Adobe Camera Raw Filter"](!0),W="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.body.appendChild(r.m);this.yF=new fG([1,0],!0,null,!0);this.yF.Z("click",this.Hu,this);this.ns=new fG(W+" JPG",!0,null,!0);
this.ns.Z("click",this.a17,this);this.ns.m.style.marginTop="6px";r.Su(this.yF.m);r.Su(this.ns.m)}eK.prototype=new g9;
eK.prototype.cY=function(){return new cp(0,0)};eK.prototype.du=function(r,Q){this.Nl.du(r,Q)};eK.prototype.r=function(){g9.prototype.r.call(this);
this.Nl.r()};eK.prototype.a17=function(r){var Q=this.jN,W=this.El,b=fH.Qt("JPG").Al([[this.Nl.G(!0).buffer]],W.Z1,W.Eq,[85]),X=new km(e.E.L,!0);
X.data={d:e.c.It,data:b,name:"photo.jpg"};this.$(X)};eK.prototype.Hu=function(r){var Q=this.jN,W=this.El,b=a1._A(Q),Q={Kx:new aV(0,0,W.Z1,W.Eq),data:this.Nl.G(!0).buffer,L8:b},X=fH.lc("Raw Photo",[Q]),D=new km(e.E.L,!0);
D.data={d:e.c.kp,gR:X};this.$(D);this.rf();this.close()};eK.prototype.rf=function(){this.jN=null;this.El=null;
this.Nl.a3J()};eK.prototype.ba=function(r,Q,W,b){this.jN=Q.ov;var X=this.El=E.raw.an9(this.jN),D=E.raw.acE(Q.ov),h=hE.Fh(D);
E.raw.Oq(X.NP,X.NP,Q.ov,[h.oH,h.Xt]);var S=jv.fp("Adobe Camera Raw Filter");this.Nl.t(S,X.NP,new aV(0,0,X.Z1,X.Eq))};
function eU(r){g9.call(this,r?[11,11,0]:[11,11,1],r?"vbitmap":"rcolors");this.SE=null;this.zr=null;this.lS=null;
this.bN=null;this.Gu=null;this.agM=null;this.vY=null;this.Po="";this.$r=r;this.Gm=this.e8.bind(this);
this.Jn=!1;this.body.style.padding="0";this.y2=N.S("div","form hbar padded");this.body.appendChild(this.y2);
var Q=this.ZQ={cnum:new fq([12,82],2,50,null),nois:new dL([12,81]),mode:new fk(null,["Cartoon","Photo"]),segm:new dL("Segmentize"),poly:new dL("Polygon"),merg:new dL("Merge colors"),polE:new fq("Roughness",2,30,null),dthr:new dL([12,23,3]),ok:N.bn(this,null,!1)},D=16;
for(var W in Q){var b=Q[W];b.parent=this;if(W!="ok")b.Z(e.E.f,this.e8,this)}var X=this.dr=N.S("div","flexrow");
this.body.appendChild(X);X.setAttribute("style","background-color:var(--bg-canvas)");this.PX=new g_;
this.PX.Z("viewchange",this.KT,this);this.Rm=new g_;this.T=N.S("canvas");this.T.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");
this.hA=this.T.getContext("2d");var h=E.Q(16*16*4);E.w8(h,D,D,8);this.Qi=E.scale.iF(h,D,D);this.PX.a57(this.T);
this.PX.VB(this.Rm);this.Rm.VB(this.PX);X.appendChild(this.PX.m);if(r)X.appendChild(this.T);else X.appendChild(this.Rm.m)}eU.prototype=new g9;
eU.prototype.cY=function(){return new cp(0,0)};eU.prototype.ND=function(){return!0};eU.prototype.du=function(r,Q){this.Dr=r;
this.J9=Q;Q=Q-44;if(r<600)Q-=29;if(this.SE==null)return;var W=this.SE.Kx,b=hU.a8I(r,Q,W.e,W.n);if(b==1)Q-=3;
if(b==0){r=Math.floor(r/2);N.lB(this.dr,"flexrow")}else{Q=Math.floor(Q/2);N.Q5(this.dr,"flexrow")}N.Jx(this.T,r,Q);
this.PX.du(r,Q);if(this.$r)this.KT();else this.Rm.du(r,Q)};eU.prototype.tf=function(r,Q,W,b){this.PX.tf(b)};
eU.prototype.r=function(){g9.prototype.r.call(this);for(var r in this.ZQ)this.ZQ[r].r()};eU.prototype.ba=function(r,Q){this.vY=r;
this.Gu=null;var W=r.B[r.I[0]],b=E.ZG.gX(W.buffer.buffer,W.rect.e,W.rect.n).alK,X=b/((W.rect.e-2)*(W.rect.n-2)),D=this.ZQ;
D.cnum.t(20);D.nois.t(X<.75);D.mode.t(X<.75?1:0);D.segm.t(!1);D.poly.t(!1);D.merg.t(!0);D.polE.t(1);
D.dthr.t(!1);var h=W.rect.clone();h.x=h.y=0;this.SE={Kx:h,data:W.buffer.buffer.slice(0)};this.zr=null;
this.du(this.Dr,this.J9);this.PX.t([this.SE]);this.PX.aa();this.Jn=!0;setTimeout(this.Gm,20)};eU.prototype.e8=function(){var r=!0,Q=Date.now(),W=this.SE,b=this.ZQ,X=b.cnum.G(),D=b.nois.G(),h=b.mode.G(),S=b.segm.G(),a=b.poly.G(),K=b.merg.G(),Y=b.polE.G(),z=null;
if(h==0)S=a=!1;var d=b.dthr.G(),j=["cnum","nois","mode"];if(h==1){j.push("segm");if(this.$r){j.push("poly");
if(a)j.push("polE")}}if(this.$r)j.push("merg");else j.push("dthr");j.push("ok");N.WC(this.y2);for(var n=0;
n<j.length;n++)this.y2.appendChild(b[j[n]].m);if(r)console.log("---------------------------------------");
var U=D||S,I=D+","+S;if(U&&(this.zr==null||this.Po!=I)){this.Po=I;var f=new Uint8Array(W.data),g=W.Kx.e,H=W.Kx.n;
if(D){if(this.Gu==null){this.Gu=f.slice(0);E.a0.Cn(this.Gu,this.Gu,g,H,15,E.a0.tx,[35]);if(r){console.log("denoise",Date.now()-Q);
Q=Date.now()}}f=this.Gu.slice(0)}else f=f.slice(0);if(S){var u=E.ZG.Vf(f,g,H,40,10),s=u.DK,_=new Uint8Array(s*4);
for(var n=0;n<s;n++){var i=n*4,M=n*6,T=1/u.sr[M+5];_[i]=u.sr[M]*T;_[i+1]=u.sr[M+1]*T;_[i+2]=u.sr[M+2]*T}for(var n=0;
n<f.length;n+=4){var R=u.XH[n>>>2]*4;f[n]=_[R];f[n+1]=_[R+1];f[n+2]=_[R+2]}if(r){console.log("segm",Date.now()-Q);
Q=Date.now()}}this.zr={Kx:W.Kx.clone(),data:f.buffer}}if(U)W=this.zr;var f=new Uint8Array(W.data),g=W.Kx.e,H=W.Kx.n;
for(var n=0;n<f.length;n+=4){if(f[n+3]<10)f[n]=f[n+1]=f[n+2]=f[n+3]=0}if(h==0){z=E.ZG.avL(f,g,H,X,U?.1:2e-4);
if(r){console.log("quantize",Date.now()-Q);Q=Date.now()}}if(h!=0||z&&z.$R.length<2){z=jA.ac$(f.buffer,X,g,H)}if(this.$r){var G=z.XH.slice(0);
for(var n=0;n<G.length;n++)G[n]++;var V=new Uint8Array((g+2)*(H+2));E.L0(G,new aV(1,1,g,H),V,new aV(0,0,g+2,H+2));
if(!a){var y=Math.round((g+2)*(H+2)/1e4),k=ed.NU(V.slice(0),g+2,H+2,Math.min(12,y)),B=ed.tt(k);if(r){console.log("trace smooth",Date.now()-Q);
Q=Date.now()}}else{var B=E.p.JV(V,g+2,H+2,Y,r)}var v=B.length,l=new au(1,0,0,1,-1,-1);for(var n=0;n<v;
n++)E.p.D(B[n].path.C,l,B[n].path.C);this.bN=B;this.lS=z;for(var n=0;n<v;n++){var F=B[n];for(var L=n+1;
L<v;L++){var Z=B[L];if(Z.parent==n&&z.$R[Z.color-1].est.q[3]<.05){var t=Z.path.H.slice(1);t.reverse();
t=["M"].concat(t);var A=[],k=Z.path.C.length;for(var o=0;o<k;o+=2){A[o]=Z.path.C[k-2-o];A[o+1]=Z.path.C[k-2-o+1]}E.p.concat(F.path,{C:A,H:t})}}}if(r){console.log("finding holes",Date.now()-Q);
Q=Date.now()}for(var n=0;n<B.length;n++){var O=B[n];if(O.parent!=-1){var x=B[O.parent];O.parent=x;if(x.gK==null)x.gK=[];
x.gK.push(O)}O.depth=O.parent==-1?0:O.parent.depth+1}if(K){function C(c$,fd){var dB={},aL=0,aB=0;for(var n=0;
n<c$.length;n++){var P=c$[n].color,o="c"+P;if(P==fd)throw P;if(dB[o]==null)dB[o]=0;dB[o]++;if(dB[o]>aL){aL=dB[o];
aB=P}}return aB}var J=[],q=[],fd=-1,w=!0;for(var n=0;n<B.length;n++)if(B[n].parent==-1)q.push(B[n]);
while(q.length!=0){var P=C(q,fd);fd=P;for(var n=0;n<q.length;n++)if(q[n].color==P){var fc=q[n];J.push(fc);
q.splice(n,1);n--;if(fc.gK)for(var L=0;L<fc.gK.length;L++){q.push(fc.gK[L]);if(fc.gK[L].color!=P)w=!1}}}if(w)B=J;
else{var p=[];for(var gG=0;gG<500;gG++){var fh=[],k=p[gG-1];p.push(fh);for(var n=0;n<B.length;n++){var O=B[n],x=O.parent;
if(gG==0&&x==-1||gG!=0&&k.indexOf(x)!=-1){fh.push(O);B.splice(n,1);n--}}fh.sort(function(c$,dB){return c$.color-dB.color});
if(B.length==0)break}for(var n=0;n<p.length;n++)B=B.concat(p[n])}}else{var J=[],fJ=[];while(B.length!=0){fJ.push(B.shift());
while(fJ.length!=0){var cF=fJ.pop();J.push(cF);if(cF.gK)for(var n=0;n<cF.gK.length;n++){var O=cF.gK[n];
B.splice(B.indexOf(O),1);fJ.push(O)}}}B=J}this.bN=B;for(var n=0;n<B.length;n++){var F=B[n],j_=z.$R[F.color-1].est.q;
if(j_[3]<=.05){B.splice(n,1);n--;continue}}for(var n=1;n<B.length;n++){var gY=B[n-1],F=B[n];if(gY.color==F.color&&(K||gY.parent==F.parent&&gY.depth>=2)){E.p.concat(gY.path,F.path);
B.splice(n,1);n--;continue}}if(r){console.log("reordering layers",Date.now()-Q,v,B.length);Q=Date.now()}this.KT()}else{var kc=new Uint32Array(g*H),el=g*H;
if(d){var iN=[];for(var n=0;n<z.$R.length;n++)iN.push(z.$R[n].est.rgba);var R=E.Q(g*H);UPNG.encode.dither(new Uint8Array(W.data),g,H,iN,new Uint8Array(kc.buffer),R)}else{for(var n=0;
n<el;n++){var P=z.$R[z.XH[n]];kc[n]=P.est.rgba}}this.agM=new Uint8Array(kc.buffer);this.Rm.t([{Kx:W.Kx,data:kc.buffer}]);
if(this.Jn){this.Rm.aa();this.Jn=!1}}};eU.prototype.KT=function(r){if(this.bN==null)return;var Q=this.SE.Kx.e,W=this.SE.Kx.n,b=this.bN,X=this.lS.$R,D=this.T,h=this.hA,S=this.PX.LF();
h.setTransform(1,0,0,1,0,0);h.clearRect(0,0,D.width,D.height);h.translate(D.width/2,D.height/2);h.scale(S._,S._);
h.translate(S.R.x/S._-Q/2,S.R.y/S._-W/2);h.scale(1/S._,1/S._);h.fillStyle=this.Qi;h.fillRect(0,0,Q*S._,W*S._);
h.scale(S._,S._);var a=[];for(var n=0;n<X.length;n++){var K=X[n].est.q;a.push({o:Math.round(255*K[0]),W:Math.round(255*K[1]),k:Math.round(255*K[2]),mu:Math.round(255*K[3])})}for(var n=0;
n<b.length;n++){var Y=b[n],K=a[Y.color-1];if(K.mu==0)continue;h.fillStyle="rgba("+K.o+","+K.W+","+K.k+","+K.mu/255+")";
h.beginPath();Typr.U.pathToContext({crds:Y.path.C,cmds:Y.path.H},h);h.fill()}};eU.prototype.Hu=function(r){var Q=this.vY,W=Q.I[0],b=Q.B[W],X=new km(e.E.s,!0);
X.YI=!0;X.b=m.M0;if(this.$r){var D=this.bN,h=D.length==1,S=Q.B.slice(0,W);if(!h)S.push(Q.Tz());for(var n=0;
n<D.length;n++){var a=D[n],K=this.lS.$R[a.color-1].est.q;E.p.D(a.path.C,new au(1,0,0,1,b.rect.x,b.rect.y),a.path.C);
var Y=Q.b_();Y._J("Path "+n);S.push(Y);Y.opacity=Math.round(K[3]*255);Y.KX|=16;Y.add.SoCo={classID:"null",Clr:{t:"Objc",v:E.M.rY({o:255*K[0],W:255*K[1],k:255*K[2]})}};
Y.add.vmsk=new $.vL;Y.add.vstk=JSON.parse(JSON.stringify(iq.pN.default));Y.add.vmsk.V=E.p.ou(a.path,!1);
Y.add.vogk=[];Y.P7();Y.hR(Q)}var d=S[S.length-1];if(!h){var Y=Q.b_();Y._J(b.getName());Y.add.lsct=d1.O9;
Y.iX="pass";Y.KX=24;S.push(Y);d=Y}var j=b.add.lmfx;if(j)d.add.lmfx=JSON.parse(JSON.stringify(j));for(var n=W+1;
n<Q.B.length;n++)S.push(Q.B[n]);X.data={d:$.Nd,px:S,yU:[W+D.length+(h?-1:1)],Cv:[11,11,0]}}else{var S=Q.B.slice(0),Y=Q.b_();
Y._J(b.getName());S.splice(Q.I[0]+1,0,Y);Y.rect=b.rect.clone();Y.buffer=this.agM;Y.U();X.data={d:$.Nd,px:S,yU:[Q.I[0]+1],Cv:[11,11,1]}}this.$(X);
this.close()};function hU(r){g9.call(this,[[7,11],[7,13]][r],["redge","magiccut"][r]);this.V4=r;this.SE={};
this.dU=null;this.zb=null;this.vY=null;this.K4=null;this.zk=null;this.body.style.padding="0";this.SC=[];
this.wP=-1;this.y2=N.S("div","form hbar padded");this.body.appendChild(this.y2);this.eF=new cl;this.eF.parent=this;
this.eF.Z(e.E.f,this.SN,this);this.y2.appendChild(this.eF.m);var Q=r==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
Q=Q.concat("tools/hand","zoomIn","zoomOut");var W=r==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.Wz=new c8(null,Q,W,28);this.Wz.Z(e.E.f,this.tf,this);this.y2.appendChild(this.Wz.m);this.p6=new fq([7,9],0,50,null);
this.p6.parent=this;this.p6.Z(e.E.f,[this.atX,this.e8][r],this);this.y2.appendChild(this.p6.m);var b=this.a5Q=new fG([2,2],!1,null,!0);
b.Z("click",this.rf,this);this.y2.appendChild(b.m);var X=this.n3=N.S("span","form");this.y2.appendChild(X);
var D=this.adH=new fG([12,90],!1,null,!0);D.Z("click",function(a){alert(r==0?aA.get([15,7,1]):"Mark the object with Green, background with Red. Two colors should never touch.",5e3)},this);
X.appendChild(D.m);var h=new fG("Tutorial",!1,null,!0);h.Z("click",this.ak7,this);X.appendChild(h.m);
this.ge=new c8([12,46],["checker","#ffffff","#000000"]);this.ge.Z(e.E.f,this.a14,this);X.appendChild(this.ge.m);
this.B$=new fk(null,[[6,13],[6,2],[17,2]]);X.appendChild(this.B$.m);this.yF=N.bn(this,X,!1);var S=this.dr=N.S("div","flexrow");
this.body.appendChild(S);this.fH=new g_(!0);this._u=new g_;this.fH.VB(this._u);this._u.VB(this.fH);this.fH.Z("mousedown",this.DF,this);
this.fH.Z("mousemove",this.Fx,this);this.fH.Z("mouseup",this.Tn,this);this.fH.Z("zoom",this.SN,this);
this._u.Z("zoom",this.SN,this);S.appendChild(this.fH.m);S.appendChild(this._u.m)}hU.prototype=new g9;
hU.prototype.q2=function(r,Q){var W=r!=null&&!r.B[r.I[0]].rect.WB();if(!W)alert("The layer is empty.");
return W};hU.prototype.cY=function(){return new cp(0,0)};hU.prototype.ND=function(){return!0};hU.prototype.du=function(r,Q){this.Dr=r;
this.J9=Q;Q=Q-12-33;if(r<900){this.n3.setAttribute("style","display:block;  text-align:right;");Q-=29}else{this.n3.setAttribute("style","position:absolute;  right:0px")}this.ge.NM(r<440?null:[12,46]);
this.p6.NM(r<470?null:[7,9]);var W=this.SE.rect;if(W){var b=hU.a8I(r,Q,W.e,W.n);if(b==0){r=Math.floor(r/2);
N.lB(this.dr,"flexrow")}else{Q=Math.floor(Q/2);N.Q5(this.dr,"flexrow")}this.fH.du(r,Q);this._u.du(r,Q)}};
hU.a8I=function(r,Q,W,b){var X=r/2,D=Q/2,h=Math.min(X/W,Q/b),S=Math.min(r/W,D/b);return h>S?0:1};hU.prototype.r=function(){g9.prototype.r.call(this);
this.eF.r();this.p6.r();this.yF.r();this.ge.r();this.B$.r();this.a5Q.r();this.adH.r()};hU.prototype.ak7=function(r){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.V4],"_blank")};
hU.prototype.VJ=function(r,Q){this.zb=r;if(Q==d4.Yu||Q==d4.KF){this.eF.UD(r.bY);this.eF.t(eW.X6(),r.bY.I_,r.bY._v)}};
hU.prototype.tf=function(r,Q,W,b){var X=this.Wz.G();if(b==null){this.fH.tf(g_.adf(X-3));return}this.K4=b;
var D=m.AZ.J_(this.eF.G(),b);if(D!=null){this.eF.t(D);this.SN()}else if(b.j(h8.DS)&&b.j(h8.Qf)){var h=this.SC,S=0;
if(b.j(h8.NN)){if(this.wP+1<h.length)S=1}else if(this.wP>0)S=-1;if(S!=0){this.wP+=S;var a=this.wP,K=this.SE;
if(S==1)E.TU(h[a][2],h[a][0],K.Bo,K.rect);else E.TU(h[a+1][1],h[a+1][0],K.Bo,K.rect);K.Ih=K.rect;this.e8()}}else if(X<3)this.fH.tf(b)};
hU.prototype.FU=function(r){var Q=this.SE,W=this.SC,b=E.Q(r.O()*4);E.TU(Q.tb,Q.rect,b,r);Q.tb=null;var X=E.Q(r.O()*4);
E.TU(Q.Bo,Q.rect,X,r);this.wP++;W[this.wP]=[r.clone(),b,X];while(W.length>this.wP+1)W.pop();while(W.length>50){W=W.slice(1);
this.wP--}};hU.prototype.SN=function(){var r=this.zb,Q=hS.AL(this.eF.G(),r.bY.I_,this.fH.LF()._);this.fH.bj(Q)};
hU.prototype.DF=function(r){var Q=this.zb,W=this.SE,b=this.K4,X=this.eF.G(),D=this.fH.S$(),h=[16777215,8421504,0][this.Wz.G()];
this.dU=new hS(X,Q.bY.I_,Q.bY._v,{UA:1,rS:!0},h,Q.tB,W.rect);W.tb=W.Bo.slice(0);if(b!=null&&b.j(h8.NN)&&this.zk){this.dU.moveTo(this.zk.x,this.zk.y);
this.dU.lineTo(D.x,D.y)}else this.dU.moveTo(D.x,D.y);this.a4W()};hU.prototype.Fx=function(r){var Q=this.SE,W=this.fH.S$();
this.dU.lineTo(W.x,W.y);this.a4W()};hU.prototype.Tn=function(r){this.zk=this.fH.S$();this.FU(this.dU.fk());
this.e8()};hU.prototype.a4W=function(){var r=this.SE,Q=this.dU,W=Q.Jv();if(W.WB())return;r.Ih=W;E.q.YB("norm",Q.P3(),Q.J4(),r.Bo,r.rect,W,1);
this.a70()};hU.prototype.rf=function(r){var Q=this.SE;Q.tb=Q.Bo.slice(0);Q.Ih=Q.rect;E.tl(Q.Bo,[4278190080,4292730333][this.V4]);
this.FU(Q.rect);this.e8()};hU.prototype.ba=function(r,Q){this.vY=r;var W=r.B[r.I[0]],b=W.rect.clone(),X=b.e,D=b.n;
this.p6.t(this.V4==0?3:X*D<3e6?3:0);this.Wz.t(r.P==null?0:1);this.p6.si();if(this.V4==0&&r.P!=null||this.V4==1)this.p6.S8();
var h=this.V4,S=E.Q(b.O()),a=new Float32Array(b.O());if(h==0&&r.P){E.L0(r.P.channel,r.P.rect,S,b);var K=E.Q(b.O());
for(var Y=0;Y<D;Y++)for(var d=0;d<X;d++){var n=Y*X+d,j=S[n];if(d>0&&S[n-1]!=j||d<X-1&&S[n+1]!=j||Y>0&&S[n-X]!=j||Y<D-1&&S[n+X]!=j)K[n]=255}E.style.SQ(K,a,X,D)}else a.fill(1e9);
b.x=b.y=0;this.SE={rect:b,NP:W.buffer,vW:S,YZ:a,h0:E.Q(b.O()*4),xy:E.Q(b.O()*4),Bo:E.Q(b.O()*4),tb:null,jn:null,Ih:b,a8H:{}};
if(h==0)this.atX();else{this.SE.a8H=m.xI.aaL(r);var U=this.SE.Bo;E.tl(U,4287137928);var I=E.xL.getSelection(W.buffer,X,D),f=Math.round(X/60),g=Math.round(.7*D);
for(var Y=0;Y<D;Y++)for(var d=0;d<X;d++){var H=(Y*X+d)*4,u=I[H>>>2];u=u>128?255:128;if(Y<f||Y<g&&(d<f||d>X-1-f))u=0;
U[H]=U[H+1]=U[H+2]=u}this.e8()}this.SC=[1];this.wP=0;var s=this.eF.G();s.Brsh.v.Dmtr.v.val=Math.round(b.e/(h==0?10:20));
this.eF.t(s);this.SN();this.du(this.Dr,this.J9);this.fH.aa()};hU.prototype.atX=function(){var r=this.SE,Q=r.rect.O(),W=this.p6.G(),b=r.vW.slice(0);
for(var n=0;n<Q;n++)if(r.YZ[n]<W)b[n]=128;E.tl(r.Bo,4294967295);E.nV(b,r.Bo,0);E.nV(b,r.Bo,1);E.nV(b,r.Bo,2);
r.Ih=r.rect;this.e8()};hU.prototype.e8=function(){var r=this.SE,X,S,a=0,K=0,Y=0;this.a70();var Q=r.rect,W=Q.e,b=Q.n,D=E.Q(Q.O()),h=r.NP;
E.TX(r.Bo,D,0);for(var n=0;n<D.length;n++){if(h[(n<<2)+3]!=255)continue;var d=D[n];if(d==0)a++;else if(d==255)K++;
else Y++}if(a*K*Y!=0){if(this.V4==0)S=E.p0.p0(Q,h,D);else{var j=this.Wz.G();for(var U=1;U<b;U++)for(var I=1;
I<W;I++){var n=U*W+I,f=D[n],g=D[n-1];if(f==0&&g==255||f==255&&g==0){X="The Red and Green should never touch! Erase it with Grey.";
break}}var H=Date.now(),u=this.SE.a8H;E.qr(D,u.Jc);m.xI.NH(u,!0);var s=Math.ceil(this.p6.G()/2);if(s==0){S=h.slice(0);
E.nV(u.P,S,3)}else{var _=u.P.slice(0),i=u.P.slice(0);for(var M=0;M<s;M++){for(var U=1;U<b-1;U++)for(var I=1;
I<W-1;I++){var n=U*Q.e+I,T=_[n];if(_[n-W]!=T||_[n-1]!=T||_[n+1]!=T||_[n+W]!=T)i[n]=128;else i[n]=T}var R=_;
_=i;i=R}S=E.p0.p0(Q,h,_,20,!1)}}}else{S=h.slice(0);E.nV(D,S,3)}for(var n=3;n<S.length;n+=4)if(S[n]>h[n])S[n]=h[n];
if(Q.s4(r.rect))r.jn=S;else E.TU(S,Q,r.jn,r.rect);this.a14();if(X)alert(X,4e3)};hU.prototype.a70=function(r){var Q=this.SE,W=Q.Ih;
E.TU(Q.NP,Q.rect,Q.h0,Q.rect,W,!0);var b=Q.Bo;if(this.V4==1){var X=new Uint32Array(256);X[0]=4278190335;
X[255]=4278255360;var D=Q.rect.O();b=b.slice(0);var h=new Uint32Array(b.buffer);for(var n=0;n<D;n+=2){h[n]=X[h[n]&255];
h[n+1]=X[h[n+1]&255]}}E.q.YB("norm",b,Q.rect,Q.h0,Q.rect,W,.3);this.fH.t([{Kx:Q.rect,data:Q.h0.buffer}])};
hU.prototype.a14=function(r){var Q=this.SE;E.tl(Q.xy,[0,4294967295,4278190080][this.ge.G()]);E.q.YB("norm",Q.jn,Q.rect,Q.xy,Q.rect,Q.rect,1);
this._u.t([{Kx:Q.rect,data:Q.xy.buffer}])};hU.prototype.Hu=function(r){var Q=this.vY,W=this.SE,b=this.B$.G(),X=Q.B[Q.I[0]],D=new km(e.E.s,!0);
D.YI=!0;var h=X.rect.clone();if(b==0&&X.cB()||b!=0&&!X.cB()){D.b=m.M0;D.data={d:$.yu,l:Q.I[0]};this.$(D)}if(Q.P!=null){D.b=m.iW;
D.data={d:"fromAction",Jb:m.to.wF()};this.$(D)}if(b==0){var S=Q.B.slice(0),a=Q.b_();a._J(X.getName());
S.splice(Q.I[0]+1,0,a);a.rect=h;a.buffer=W.jn;a.U();D.b=m.M0;D.data={d:$.Nd,px:S,yU:[Q.I[0]+1],Cv:[7,11]};
this.$(D)}if(b==1){var K=X.SS();D.b=m.M0;D.data={d:$.HT,ahr:!0};this.$(D);var Y=X.SS();Y.channel=E.Q(h.O());
Y.rect=h;Y.color=0;Y.eI=!0;E.TX(W.jn,Y.channel,3);if(K){var d=Y.Se(K);Y.rect=d.rect;Y.channel=d.channel;
Y.color=d.color}Y.Dg();X.hR()}if(b==2){var j={rect:h,channel:E.Q(h.O())};E.TX(W.jn,j.channel,3);D.b=m.iW;
D.data={d:"setsel",P:j,Cv:this.LC};this.$(D)}this.close()};function i4(){g9.call(this,[1,13],"locstor");
this.Ha=null;this.aP=[];var r=this.body,Q=N.S("p");Q.textContent="These files are loaded every time you start Photopea.";
r.appendChild(Q);this.anX=0;this.T_=N.S("span");r.appendChild(this.T_);this.T_.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var W=N.S("span","form");r.appendChild(W);this.kB=new fG([5,4],!1,null,!0);this.kB.Z("click",this.BW,this);
W.appendChild(this.kB.m);this.FC=new fG("Get all as ZIP",!1,null,!0);this.FC.Z("click",this.xP,this);
W.appendChild(this.FC.m);this.jx=new aa(!0);this.jx.parent=this;this.jx.l9(1);r.appendChild(this.jx.m);
this.jx.m.setAttribute("style","width: 40em; height: 25em")}i4.prototype=new g9;i4.prototype.r=function(){g9.prototype.r.call(this);
this.T_.textContent=aA.get([13,2])+": "+hb.Vh(this.anX);this.kB.r()};i4.prototype.VJ=function(r,Q){this.Ha=r;
if(Q==d4.x3)this.ba()};i4.prototype.ba=function(r,Q){var W=this.Ha.np.Lm,a=0;this.aP=[];for(var b in W)this.aP.push(b);
this.aP.sort(function(Y,d){Y=Y.split(".");d=d.split(".");return Y[1]==d[1]?Y[0]<d[0]?-1:1:Y[1]<d[1]?-1:1});
var X=Math.floor(100*N.i()),D=Math.floor(16*N.i()),h=[],S=[];for(var n=0;n<this.aP.length;n++){var b=this.aP[n],K=i4.Rs(b,W[b],X,D);
h.push(K);S.push(b);a+=W[b].byteLength}this.jx.pH(h,S,X,D);this.anX=a;this.r()};i4.prototype.BW=function(r){var Q=this.jx.G();
if(Q.length==0){alert("Select a file first.");return}this.jx.t([]);var W=this.Ha.np.Lm;for(var n=0;n<Q.length;
n++)delete W[this.aP[Q[n]]];var b=new km(e.E.L,!0);b.data={d:e.c.bJ,Lb:d4.x3};this.$(b)};i4.prototype.xP=function(r){var Q=this.Ha.np.Lm,W={};
for(var b in Q)W[b]=new Uint8Array(Q[b]);var X=UZIP.encode(W);dR.save(X,"resources.zip")};i4.Rs=function(r,Q,W,b){var X=N.S("canvas"),S=0;
X.width=W;X.height=b;var D=X.getContext("2d"),h=r.split(".").pop().toLowerCase();for(var n=0;n<h.length;
n++)S+=h.charCodeAt(n)*613<<8*n;D.fillStyle="#"+E.Y0(S&16777215);D.fillRect(0,0,20,b);var a=Math.floor(14*N.i());
D.fillStyle="#000000";D.font="bold "+a+"px sans-serif";var K=(b-a)/2,Y=hb.Vh(Q.byteLength),d=D.measureText(Y);
D.fillText(Y,W-12-d.width,b-K);return X.toDataURL()};function bf(){g9.call(this,[1,15],"pmanager");this.Ha=null;
this.f5=new fk([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.f5.Z(e.E.f,this.ba,this);
this.body.appendChild(this.f5.m);var r=N.S("div","flexrow");this.body.appendChild(r);var Q=this.a56=N.S("div");
r.appendChild(Q);var W=N.S("div","form");r.appendChild(W);W.setAttribute("style","width:140px; margin-left:12px");
this.ai4=[d4.Yu,d4.GY,d4.vP,d4.Ec,d4.z1,d4.iE];this.ol=[new cl,new h7,new iF,new g2,new hw,new di];for(var n=0;
n<this.ol.length;n++)this.ol[n].parent=this;this.BP=[];for(var n=0;n<4;n++){var b=new fG("Hello",!0,null,!0);
b.Z("click",this.em,this);this.BP.push(b);W.appendChild(b.m)}this.ba()}bf.prototype=new g9;bf.prototype.qy=function(r){return r==h8.ZI||r==h8.$G};
bf.prototype.em=function(r){var n=this.BP.indexOf(r.target);this.ol[this.f5.G()].IU(n)};bf.prototype.r=function(){g9.prototype.r.call(this);
this.f5.r();for(var n=0;n<this.ol.length;n++)this.ol[n].r();var r=this.BP,Q=this.f5.G(),W=d4.vN[this.ai4[Q]],b=W[0].toUpperCase();
r[0].NM([[23,6],"."+b]);r[1].NM(["VAR0 ."+b,[1,8]]);r[2].NM([6,37]);r[3].NM([5,4])};bf.prototype.VJ=function(r,Q){this.Ha=r;
this.ba()};bf.prototype.ba=function(r,Q){if(!N.Z_(this.m))return;this.r();N.WC(this.a56);this.a56.appendChild(this.ol[this.f5.G()].Hj);
var W=this.ol,b=this.Ha;if(b==null)return;W[0].UD(b.bY);W[1].iP(b.V8,b.tB);W[1].UD(b.Tg);W[2].UD(b.LB);
W[3].UD([b.b5,b.LB]);W[4].UD(b.bC);W[5].UD(b.yd)};function g0(r,Q,W){g9.call(this,Q,"cwindow");this.asE=new cp(W[0],W[1]-33);
this.y2=N.S("div","form");this.y2.setAttribute("style","width:"+(W[2]-W[0])+"px; height:"+(W[3]-W[1])+"px");
this.body.appendChild(this.y2)}g0.prototype=new g9;g0.prototype.cY=function(r,Q){return this.asE.clone()};
function eL(r){var Q=eL.akj(r);g9.call(this,Q,"res"+r);var W=this.aeH.bind(this);window.addEventListener("message",function(X){if(typeof X.data=="string"&&X.data.startsWith("--et ")){console.log(X.data);
var D=this.a9p=X.data.slice(5).split(",");D[0]=parseFloat(D[0]);b6.cP(D[0],D[1],W)}}.bind(this));this.JK=Q;
this.xX=r;this.a1k=null;this.hG=null;this.vn=0;this.n5=null;this.Fn=null;this.a9p=null;this.Ha=null;
this.body.setAttribute("style","padding:0");this.V1=new fG("",null,null,!0);this.body.appendChild(this.V1.m);
this.V1.Z("click",this._W,this);this.V1.m.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");
this.BK=N.S("span","form");this.body.appendChild(this.BK);this.BK.setAttribute("style","position:absolute; margin-top: -31px;  margin-left:270px");
this.BP=[];for(var n=0;n<9;n++){var b=new fG(eL.akj(n));this.BP.push(b);if(n==r)b.t(!0);this.BK.appendChild(b.m);
b.Z("click",this.abK,this)}this.iK=new fG([5,3],null,null,!0);this.iK.Z("click",this.ay4,this);this.al9=new fG("Upload Current Document as a Template",null,null,!0);
this.al9.Z("click",this.a6y,this);this.YQ=new eM("Creator / Brand name");this.rN=new fG([1,2],null,null,!0);
this.rN.Z("click",this.a4T,this);this.FH=N.S("iframe","scrollable");this.FH.setAttribute("style","border:none; margin:0; padding:0;");
this.Wj=N.S("div","form scrollable padded");this.Un=new dW(r);this.Un.Z("back",this.rf,this);this.Un.Z("save",this.aix,this);
this.body.appendChild(this.FH)}eL.prototype=new g9;eL.akj=function(r){var Q;if(r==0)Q=[25,0];else if(r==1)Q="Plugins";
else for(var W in d4.vN)if(d4.vN[W][4]==r)Q=d4.vN[W][3];return Q};eL.prototype.abK=function(r){var n=this.BP.indexOf(r.target);
if(n==this.xX)return;this.close();var Q=new km(e.E.L,!0);Q.data={d:e.c.Re,wv:"res"+n};this.$(Q)};eL.prototype.aeH=function(r){this._W();
this.Fn=JSON.parse(r.target.response);this.JO()};eL.prototype.a4T=function(r){var Q=b6.nS();if(Q.tpl==null)Q.tpl={};
Q.tpl.brnd=this.YQ.G().trim();b6.T7(Q,function(){alert("Saved.")})};eL.prototype.cY=function(r,Q){return new cp(0,0)};
eL.prototype.du=function(r,Q){this.Dr=r;this.J9=Q;this.W$=null;Q=Q-4;r=r;var W=this.Wj;W.style.width=r-12+"px";
W.style.height=Q-12+"px";var W=this.Un.m;W.style.width=r-12+"px";W.style.height=Q-12+"px";var W=this.FH;
W.style.width=r+"px";W.style.height=Q+"px";this.od()};eL.prototype.VJ=function(r,Q){this.Ha=r};eL.prototype.r=function(){g9.prototype.r.call(this);
for(var n=0;n<this.BP.length;n++)this.BP[n].r();this.iK.r()};eL.prototype.ba=function(r,Q,W,b){this.W$=r;
this._W(null,!1)};eL.prototype._W=function(r,Q){var W=Q!=null?Q:N.Z_(this.FH);if(W){if(!b6.ZK()){alert("You need to log in first!");
return}var b=b6.nS();this.hG=b.tpl?b.tpl.list:[];this.YQ.t(b.tpl&&b.tpl.brnd?b.tpl.brnd:b6.aL().name);
this.od()}else{this.FH.setAttribute("src","");this.FH.setAttribute("src","templates/?type="+this.xX+"&rsrc="+this.Ha.t_.join(","))}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(W?this.Wj:this.FH);var X=aA.get(this.JK);this.V1.NM(W?"All "+X:"Add "+X)};eL.prototype.od=function(){var r=aA.get(this.JK),Q=this.hG,W=this.xX,S=450;
if(Q==null)return;var b=this.Wj;N.WC(b);var X=N.S("h1");b.appendChild(X);X.textContent="Share your "+r+" with the world!";
var D=N.S("ul");b.appendChild(D);var h=N.S("li");D.appendChild(h);h.textContent="By publishing your "+r+", you agree to let others use them for all kinds of purposes, even commercially.";
b.appendChild(this.iK.m);if(W==0)b.appendChild(this.al9.m);N.Hr(b);b.appendChild(this.YQ.m);b.appendChild(this.rN.m);
N.Hr(b);S=(this.Dr-20)/Math.max(1,Math.floor(this.Dr/S))-42;var a="display:inline-block; width:"+S+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var n=Q.length-1;n>=0;n--){var K=Q[n];if(K.type==null)K.type=0;if(K.type!=W)continue;var Y=N.S("div");
b.appendChild(Y);Y.setAttribute("style",a);var d=N.S("img");Y.appendChild(d);d.setAttribute("src",K.thmb);
d.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var j=N.S("h3");Y.appendChild(j);j.textContent=K.name;j.setAttribute("style","margin:0 0 10px 0");var U=N.S("p");
Y.appendChild(U);U.textContent=K.desc;U.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");
for(var I=0;I<2;I++){var f=new fG(I==0?"Edit":"Delete",null,null,!0);f.a03=n;f.JO=I==0;f.Z("click",this.ard,this);
Y.appendChild(f.m)}}};eL.prototype.a6y=function(r){if(this.W$==null){alert("No document opened.");return}var Q=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!Q)return;var W=new km(e.E.L,!0);W.data={d:e.c.hB,IL:"psd",Db:this.a18.bind(this)};this.$(W)};eL.prototype.a18=function(r){this.a3L=r;
var Q=new km(e.E.L,!0);Q.data={d:e.c.hB,IL:"jpg",Db:this.a2m.bind(this),axQ:1400};this.$(Q)};eL.prototype.a2m=function(r){this.n5={type:0,catg:0,desc:"",file:this.a3L,name:this.W$.name.split(".")[0],thmb:r,publ:!0,utme:""};
this.JO()};eL.prototype.ay4=function(r){this.n5={type:0,catg:0,desc:"",file:"",name:"",thmb:"",publ:!0,utme:""};
this.JO()};eL.prototype.ard=function(r){this.vn=r.target.a03;if(!r.target.JO){if(!window.confirm("Are you sure you want to delete your template?"))return;
this.hG.splice(this.vn,1);this.xP();this.od();return}this.JO()};eL.prototype.JO=function(){if(N.Z_(this.Wj))this.body.removeChild(this.Wj);
this.body.appendChild(this.Un.m);var r=this.n5?this.n5:this.Fn?this.Fn:this.hG[this.vn];if(r.type==null)r.type=0;
this.Un.t(r)};eL.prototype.aix=function(r){var Q=this.Un.G();if(this.n5)this.hG.push(Q);else if(this.Fn){var W=this.a9p;
b6.cP(W[0],W[1],this.rf.bind(this),JSON.stringify(Q));return}else this.hG[this.vn]=Q;this.xP();this.rf()};
eL.prototype.rf=function(){var r=this.Fn;this.n5=null;this.Fn=null;this.body.removeChild(this.Un.m);
this.body.appendChild(this.Wj);this.od();if(r)this._W()};eL.prototype.xP=function(){var r=b6.nS();if(this.hG.length==0)delete r.tpl;
else r.tpl={list:JSON.parse(JSON.stringify(this.hG))};b6.T7(r,function(){alert("Saved.")})};function cR(){g9.call(this,"Make Selection","makesel");
this.Ha=null;var r=N.S("div","form");this.body.appendChild(r);this.CG=new dL([12,25,1]);this.CG.t(!0);
r.appendChild(this.CG.m);N.Hr(r);this.Dj=new cX(!0);r.appendChild(this.Dj.m);this.yF=N.bn(this,this.body)}cR.prototype=new g9;
cR.prototype.r=function(){g9.prototype.r.call(this);this.Dj.r();this.CG.r();this.yF.r()};cR.prototype.Hu=function(r){var Q=new km(e.E.s,!0);
Q.b=m.iW;Q.data={d:"frompath",C0:[null,0,this.Dj.G(),this.CG.G()]};this.close();this.$(Q)};function j3(){g9.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");
this.W$=null;this.Wf=null;this.d5=null;var r=this.aeT=N.S("div","form");r.setAttribute("style","width:20em");
this.body.appendChild(r);this.ZF=new gU([12,50],["PSD","PSB"]);this.ZF.Z(e.E.f,this.Ui,this);r.appendChild(this.ZF.m);
N.MP(r);var Q=new aQ("Minify the file");r.appendChild(Q.m);N.Hr(r);var W=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.ud=[];for(var n=0;n<W.length;n++){var b=new dL(W[n]);this.ud.push(b);r.appendChild(b.m);b.Z(e.E.f,this.Ui,this)}N.MP(r);
this.wV=new aQ("aa.psd");this.VS=new aQ("10 kB");r.appendChild(this.VS.m);this.atR=new aQ("1000 B");
r.appendChild(this.atR.m);this.yF=new fG([1,2],!0,null,!0);this.yF.Z("click",this.Hu,this);r.appendChild(this.yF.m);
this.Uz=new fG(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.Uz.Z("click",this.Hu,this);r.appendChild(this.Uz.m);
this.Z("closebtn",this.GD,this)}j3.prototype=new g9;j3.prototype.ba=function(r,Q,W,b){var X=N.Z_(this.Uz.m),D=r.VQ!=null&&r.VQ.Gz=="psd";
if(D&&!X)this.aeT.appendChild(this.Uz.m);if(!D&&X)this.aeT.removeChild(this.Uz.m);for(var n=0;n<this.ud.length;
n++)this.ud[n].t(!1);this.W$=r;this.Ui()};j3.prototype.Hu=function(r){if(r.target==this.yF)dR.save(this.Wf,this.d5);
else{if(this.ud[3].G()){alert("You should not save a ZIP as a PSD to Google Drive.");return}gK.a6M(this.W$,this.Wf)}};
j3.prototype.GD=function(){this.W$=null;this.Wf=null};j3.prototype.Ui=function(){var r=this.W$,Q=[!1,!1,!1,!1];
for(var n=0;n<3;n++)Q[n]=this.ud[n].G();var W=this.ud[3].G(),b=Q[3]=this.ZF.G()==1,X=r.name.slice(0,r.name.length-3),D=this.Wf=fH.Qt("PSD").Al(r,0,0,Q),fb=this.d5=X+"ps"+(b?"b":"d");
if(W){var h={};h[fb]=new Uint8Array(D);D=this.Wf=UZIP.encode(h);fb=this.d5=X+"zip"}this.wV.t(fb);this.VS.t(hb.Vh(D.byteLength));
this.VS.m.style["font-size"]="2em";this.atR.t(" \u2001 "+D.byteLength+" B");this.yF.NM(aA.get([1,2])+" \""+fb+"\"")};
j3.prototype.r=function(){g9.prototype.r.call(this);this.ZF.r();this.yF.r();this.Uz.r()};function jD(){g9.call(this,"Confirm","confirm");
this.eq=null;var r=N.S("div");r.setAttribute("style","margin-bottom:1em");this.body.appendChild(r);this.fR=N.S("div");
this.fR.textContent="Hello";r.appendChild(this.fR);this.yF=N.bn(this,this.body)}jD.prototype=new g9;
jD.prototype.Hu=function(r){console.log("okconfirm");this.close();this.eq()};jD.prototype.ba=function(r,Q){if(Q.ae8)this.fR.innerHTML=Q.h;
else this.fR.textContent=Q.h;this.eq=Q.eq;this.yF.m.focus();if(Q.ae8!=null)this.m.style.top=Math.random()*(window.innerHeight-150)+"px";
this.aiB=Q.ae8!=null};jD.prototype.cY=function(r,Q){return new cp(Math.max(0,(r-500)/2),Math.max(0,Math.min(60,(Q-100)/2)))};
jD.prototype.du=function(r,Q){this.fR.style.width=r-30+"px"};function ig(){g9.call(this,[1,16,2],"newartb");
this.V4=0;this.yz=null;var r=N.S("div","form");r.style.width="260px";this.body.appendChild(r);this.jx=new i8;
r.appendChild(this.jx.m);this.yF=N.bn(this,r)}ig.prototype=new g9;ig.prototype.q2=function(r,Q){return r!=null};
ig.prototype.Hu=function(r){var Q=this.jx.G();this.yz.e=Q.x;this.yz.n=Q.y;var W=new km(e.E.s,!0);W.b=m.YP;
W.data={apQ:this.yz,BT:this.V4};this.$(W);this.close()};ig.prototype.r=function(){g9.prototype.r.call(this);
this.jx.r();this.yF.r()};ig.prototype.ba=function(r,Q){this.V4=Q.BT;var W=new aV(0,0,r.e,r.n);if(r.I.length!=0){var b=r.B[r.I[0]];
if(b.add.artb){W=b.QT();W.x+=W.e+100}if(Q.BT==1)W=m.EA.J4(r)}this.yz=W;this.jx.t(new cp(W.e,W.n))};function jg(){g9.call(this,"Storage","storwindow");
this.body.setAttribute("style","padding:0");this.VA=null;this.Z("closebtn",this.zE,this);this.Z("canclose",this.zE,this)}jg.prototype=new g9;
jg.prototype.VJ=function(r,Q){if(this.VA)this.VA.VJ(r,Q)};jg.prototype.cY=function(r,Q){return new cp(Math.max(0,Math.min(150,(r-980)/2)),Math.max(0,Math.min(150,(Q-590)/2)))};
jg.prototype.du=function(r,Q){this.Dr=r;this.J9=Q;r=Math.min(r,980);Q=Math.min(Q,590);if(this.VA)this.VA.du(r,Q)};
jg.prototype.r=function(){g9.prototype.r.call(this);if(this.VA)this.VA.r()};jg.prototype.ba=function(r,Q,W,b){this.LC=Q.BT==0?"Open from Storage":"Save to Storage";
this.r();if(this.VA==null){this.VA=new dn;this.VA.parent=this;this.body.appendChild(this.VA.m);this.r();
this.du(this.Dr,this.J9)}Storage.l9(Q.BT,r?r.name:"");dn.dN(this.VA)};jg.prototype.zE=function(r){Storage.l9(0);
dn.iu();if(r.type=="canclose")this.close()};function h1(){g9.call(this,"Variables","varsdats");var r=this.y2=N.S("div","form");
r.setAttribute("style","width:300px");this.body.appendChild(r);this.W$=null;this.aD=0;this.Ha=null;this.XT=new gU(null,["Variables","Data Sets",[1,8]]);
this.XT.Z(e.E.f,this.aua,this);this.G_=new h1.aY;this.uF=new h1.zD;this.OZ=new h1.f9;this.uF.Z("activate",this.iD,this);
this.OZ.Z("export",this.lG,this);this.yF=N.bn(this)}h1.prototype=new g9;h1.prototype.aua=function(r){var Q=this.XT.G(),W=this.y2;
N.WC(W);W.appendChild(this.XT.m);N.MP(W);W.appendChild([this.G_,this.uF,this.OZ][Q].m);W.appendChild(this.yF.m)};
h1.prototype.Hu=function(r){var Q=new km(e.E.s,!0);Q.b=m.M0;Q.data={d:$.JD,h:JSON.stringify([this.G_.G(),this.uF.G()])};
this.$(Q);this.close()};h1.prototype.r=function(){g9.prototype.r.call(this);this.yF.r();this.OZ.r()};
h1.prototype.ba=function(r,Q){this.W$=r;if(r==null)return;this.G_.ba(r,Q);this.uF.ba(r,Q);this.XT.t(0);
this.aua();this.aD=0};h1.prototype.VJ=function(r,Q){this.Ha=r};h1.prototype.lG=function(r){var Q=this.G_.G(),W=this.uF.G(),b=this.OZ.G();
if(Q.length==0){alert("There are no variables.");return}if(W.length==0){alert("There are no data sets.");
return}var X=fH.aiq(this.W$,Q,W,this.uF.a1j(),b[0],b[1],this.Ha,this);if(X!=null)dR.save(X,"images.zip")};
h1.prototype.iD=function(r){var Q=this.uF.I,W=this.G_.G(),b=this.uF.G();if(W.length==0){alert("There are no variables.");
return}if(b.length==0){alert("There are no data sets.");return}this.TD();this.aD+=fH.GL(this.W$,this,W,b,this.uF.a1j(),Q)};
h1.prototype.TD=function(){var r=new km(e.E.s,!0);r.b=m.sp;r.data={d:"h_stepbck"};while(this.aD>0){this.$(r);
this.aD--}};h1.f9=function(){eg.call(this);var r=this.m=N.S("div");this.Bz=["JPG","PNG","PDF"];this.ZF=new gU([12,50],this.Bz);
this.ZF.Z(e.E.f,this.afh,this);r.appendChild(this.ZF.m);this.Mv=new bt;r.appendChild(this.Mv.m);this.afh();
this.FC=new fG("Export all items",!0,null,!0);this.FC.Z("click",this.lG,this);r.appendChild(this.FC.m)};
h1.f9.prototype=new eg;h1.f9.prototype.r=function(r){this.ZF.r();this.FC.r();this.Mv.r()};h1.f9.prototype.afh=function(r){var Q=this.Bz[this.ZF.G()];
this.Mv.Ye(Q)};h1.f9.prototype.lG=function(r){this.$(new km("export"))};h1.f9.prototype.G=function(){var r=this.Bz[this.ZF.G()];
return[r,this.Mv.G()]};h1.zD=function(){eg.call(this);this.jg=null;this.C4=[];this.I=0;var r=this.m=N.S("div","form");
this.Yw=new bI("Import a CSV file");r.appendChild(this.Yw.m);this.Yw.Z(e.E.f,this.atS,this);this.Xy=N.S("div","scrollable");
this.Xy.setAttribute("style","overflow:scroll;  height:234px;");r.appendChild(this.Xy);this.atH=new bI("Source Images",!0);
r.appendChild(this.atH.m)};h1.zD.prototype=new eg;h1.zD.prototype.atS=function(r){var Q=this.Yw.G();
for(var W in Q){Q=Q[W];break}this.jg=bz.ak(c.CA(Q));this.YY()};h1.zD.prototype.a1j=function(){return this.atH.G()};
h1.zD.prototype.ba=function(r,Q){var W=this.jg=JSON.parse(JSON.stringify(r.NA));this.YY()};h1.zD.prototype.G=function(){return this.jg};
h1.zD.prototype.YY=function(){var r=this.TJ.bind(this),Q=this.jg,b="max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px;";
this.C4=[];var W=N.S("table");W.setAttribute("style","border-collapse: collapse;");for(var n=0;n<Q.length;
n++){var X=N.S("tr"),D=Q[n],h=n==0?"th":"td";W.appendChild(X);var S=N.S(h);X.appendChild(S);S.setAttribute("style",b+"cursor:pointer;");
if(n!=0)S.textContent="\u2713";this.C4.push(S);S.addEventListener("click",r,!1);for(var a=0;a<D.length;
a++){var S=N.S(h);S.textContent=D[a];X.appendChild(S);S.setAttribute("style",b);S.setAttribute("title",D[a])}}N.WC(this.Xy);
this.Xy.appendChild(W)};h1.zD.prototype.TJ=function(r){this.I=this.C4.indexOf(r.currentTarget);this.$(new km("activate"))};
h1.aY=function(){eg.call(this);var r=this.m=N.S("div","form marged");this.oC=null;this.Ue=[];this.rI=[];
this.k9=null;this.qw=new fk([0,3],[]);this.qw.Z(e.E.f,this.a6K,this);r.appendChild(this.qw.m);this.ai=[];
var Q=["Visibility","Text Content","Pixel Content"];for(var n=0;n<Q.length;n++){N.MP(r);var W=new dL(Q[n]);
W.Z(e.E.f,this.Gv,this);r.appendChild(W.m);N.Hr(r);var b=new eM("Variable Name");b.Z(e.E.f,this.Gv,this);
r.appendChild(b.m);this.ai.push(W,b)}};h1.aY.prototype=new eg;h1.aY.prototype.Gv=function(r){var Q=this.qw.G(),W=this.k9[Q],b=this.Ue[Q],X=this.oC["l"+W],D=this.ai;
if(X==null)this.oC["l"+W]=X=[];while(X.length!=0)X.pop();for(var n=0;n<3;n++){var h=D[2*n+1].G();if(!D[2*n].G())continue;
var S={varName:h,trait:["visibility","textcontent","fileref"][n]};X.push(S);if(n==2){S.align="center";
S.clip="false";S.placementMethod="fit";S.valign="middle"}}if(X.length==0)delete this.oC["l"+W];this.ba()};
h1.aY.prototype.a6K=function(r){var Q=this.qw.G(),W=this.k9[Q],b=this.Ue[Q],X=this.oC["l"+W],D=this.ai;
if(X==null)X=[];for(var n=0;n<3;n++){var h=n==0||n==1&&b==0||n==2&&b==1;D[2*n].fy(h);D[2*n].t(!1);D[2*n+1].fy(h);
D[2*n+1].t("")}for(var n=0;n<X.length;n++){var S=X[n],a=S.trait,K=["visibility","textcontent","fileref"].indexOf(a);
D[K*2].t(!0);D[K*2+1].t(S.varName)}};h1.aY.prototype.ba=function(r,Q){if(r){var W=JSON.parse(JSON.stringify(r.AR)),b=this.oC={};
for(var n=0;n<W.length;n++){var X=W[n],D=X.docRef;D="l"+D.slice(4,D.length-2);if(b[D]==null)b[D]=[];
b[D].push(X)}this.k9=[];this.Ue=[];this.rI=[];for(var n=r.B.length-1;n>=0;n--){var h=r.B[n],D=h.add.lyid;
if(h.getName()=="</Layer group>")continue;this.k9.push(D);this.Ue.push(h.add.TySh?0:1);this.rI.push(h.getName())}}var S=[],a=this.rI;
for(var n=0;n<a.length;n++){S.push(a[n]+(this.oC["l"+this.k9[n]]?" *":""))}var K=this.qw.G();this.qw.In(S);
this.qw.t(K);this.a6K()};h1.aY.prototype.G=function(){var r=this.oC,Q=[];for(var W in r){var b=r[W];
for(var X=0;X<b.length;X++){b[X].docRef="id('"+W.slice(1)+"')";Q.push(b[X])}}return Q};function g$(){g9.call(this,["VAR0 VAR1",[15,10,22],[8,11,0]],"divslice");
this.aW=!1;var r=this.r4=[],Q=N.S("div","form");Q.setAttribute("style","width:20em");this.body.appendChild(Q);
for(var n=0;n<2;n++){var W=new dL([22,4,2+n]);Q.appendChild(W.m);N.Hr(Q);var b=new gU(null,[["N equal parts"],["N pixels per part"]]);
Q.appendChild(b.m);N.Hr(Q);var X=new fq("N",0,1e3);X.t(4);X.parent=this;Q.appendChild(X.m);N.Hr(Q);if(n==0)N.MP(Q);
r.push(W,b,X)}for(var n=0;n<r.length;n++)r[n].Z(e.E.f,this.ci,this);r.push(N.bn(this,Q));this.Z("closebtn",this.TD,this)}g$.prototype=new g9;
g$.prototype.TD=function(){if(this.aW){var r=new km(e.E.s,!0);r.b=m.sp;r.data={d:"h_stepbck"};this.$(r)}};
g$.prototype.ci=function(r){this.TD();this.aW=!0;var Q=[];for(var n=0;n<6;n++)Q.push(this.r4[n].G());
var W={__name:"Divide",classID:"divide",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"slice",typeID:"Ordn",enum:"Trgt"}}]}};
for(var b=0;b<2;b++){if(!Q[b*3])continue;var X=Q[b*3+1],D=Q[b*3+2];W[["slices","pixels"][X]+["Across","Down"][b]]={t:"long",v:D}}var h=new km(e.E.Kk,!0);
h.data={r7:"divide",Hf:W};this.$(h)};g$.prototype.Hu=function(r){this.close()};g$.prototype.r=function(){g9.prototype.r.call(this);
var r=this.r4;for(var n=0;n<r.length;n++)r[n].r()};g$.prototype.ba=function(r,Q){this.aW=!1};function h4(r,Q,W,b){eg.call(this);
this.name=r;this.arn=W;this.L9=b;this.Hc=N.S("div","");this.Hc.setAttribute("draggable","true");this.ft=N.S("div","pbody");
this.RN=new fG("",!1,"");this.RN.parent=this;this.apH=N.S("span","cross gsicon");this.ws=N.S("span","label");
var X=this.a6J.bind(this);this.Hc.addEventListener("mousedown",this.ayy.bind(this),!1);this.Hc.addEventListener("contextmenu",X,!1);
this.RN.m.addEventListener("contextmenu",X,!1);this.apH.addEventListener("mousedown",this.ON.bind(this),!1);
this.Hc.appendChild(this.ws);if(Q)this.Hc.appendChild(this.apH);this.uJ=!1;this.ws.textContent=r}h4.prototype=new eg;
h4.prototype.pe=function(){return null};h4.prototype.r=function(){var r=aA.get(this.name),Q=this.Dr==0?22:Math.round(2+this.Dr/50),W=r.length>Q;
this.ws.textContent=W?r.slice(0,Q-2):r;if(W)for(var b=0;b<2;b++){var X=N.S("span");X.textContent=r.charAt(Q-2+b);
X.setAttribute("style","opacity:"+(.6-b*.4));this.ws.appendChild(X)}var D=r.split(" "),h=D.length==2?D[0].substring(0,2)+D[1][0]:r.substring(0,3);
if(h.charCodeAt(0)>=11776)h=h.substring(0,1);var S=this.arn;if(S==null)this.RN.NM(h,r);else{var a;if(S.startsWith("---"))a="<img src=\""+PIMG[S.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(S.startsWith("==="))a="<img src=\""+S.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(S.indexOf("\"")==-1)a="<img src=\""+S+"\" alt=\""+N.IJ(r).replace(/"/g,"&quot;")+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.RN.NM(a,r)}};h4.prototype.enable=function(){this.ft.className="pbody"};h4.prototype.disable=function(){this.ft.className="pbody disabled"};
h4.prototype.VJ=function(r,Q){};h4.prototype.ba=function(r,Q,W){};h4.prototype._n=function(r){};h4.prototype.du=function(r,Q){};
h4.prototype.Ll=function(r){this.name=r;this.r()};h4.prototype.Sh=function(){};h4.prototype.ayy=function(r){if(r.button==0)this.$(new km("select",!1))};
h4.prototype.a6J=function(r){N.pR(r);if(this.L9!=null&&isNaN(this.L9))return;var Q=N.ug(r,document.body),W=this.bX;
if(W==null){W=this.bX=new ka([{name:[1,12,0]}]);this.bX.Z("select",this.ON,this)}W.update(null);W.r();
W.parent=this;var b=new km(e.E.L,!0);b.data={d:e.c.I2,MY:W,x:Q.x+1,y:Q.y+1};this.$(b)};h4.prototype.bo=function(){this.ON({})};
h4.prototype.ON=function(r){if(r.stopPropagation)r.stopPropagation();if(this.L9!=null&&!isNaN(this.L9)){var Q=new km(e.E.L,!0);
Q.data={d:e.c.mm,MY:this.bX};this.$(Q);Q.data={d:e.c.bJ,Lb:d4.Sd,h:parseFloat(this.L9),FX:"del"};this.$(Q)}else if(this.adT())this.$(new km(e.E.RR,!1))};
h4.prototype.adT=function(r){return!0};h4.prototype.pZ=function(r,Q,W,b,X){};h4.prototype.Dc=function(r,Q,W,b,X){};
h4.prototype.$v=function(r,Q,W,b,X){};h4.uC=function(r,Q,W){if(r.childElementCount!=0)return;var b=r.textContent;
this.Qz=this.awE.bind(this);this.aiJ=this.awr.bind(this);this.d9=Q;this.adQ=W;this.jI=r;this.aun=b;var X=N.S("input","");
X.setAttribute("type","text");X.setAttribute("size","10");X.setAttribute("value",b);N.WC(r);r.appendChild(X);
X.select();X.focus();N.U9(r);r.addEventListener("keyup",this.Qz,!1);document.body.addEventListener("mousedown",this.aiJ,!1)};
h4.uC.prototype.awE=function(r){var Q=h8.Gx,W=Q(r.code,h8.Cj);if(Q(r.code,h8.V2)||W)this.a63(W)};h4.uC.prototype.awr=function(r){var Q=r.target;
if(Q.tagName&&Q.tagName.toLowerCase()=="input")return;this.a63(!0)};h4.uC.prototype.a63=function(r){var Q=this.jI,W=Q.firstChild.value;
Q.removeEventListener("keyup",this.Qz);document.body.removeEventListener("mousedown",this.aiJ);if(this.adQ||r&&W!=""&&W!=this.aun){this.d9(W)}else{N.WC(Q);
Q.textContent=this.aun}};h4.Ct={sp:"0",a7o:"1",M0:"2",axB:"3",abo:"4",Lf:"5",CSS:"6",Yu:"7",ajs:"8",aii:"9",a1p:"10",ajx:"11",a7H:"12",dt:"13",HU:"14",avK:"15",adq:"16",ij:"17",a22:"18",a72:"19",aog:"20",Ec:"21",alx:"22"};
function kn(){h4.call(this,[9,9],!1,"---panels/actions",h4.Ct.ajx);this.Ha=null;this.EK=[0,0]}kn.prototype=new h4("");
kn.prototype.CX=function(){if(!N.Z_(this.ft)||this.Ow)return;this.Ow=N.S("div","padded scrollable");
this.Ow.setAttribute("style","width:260px;  height:260px");this.ft.appendChild(this.Ow);this.Z(e.E.f,this.j5,this);
this.CK=N.S("div","lpfoot");this.ft.appendChild(this.CK);this.ol=[];var r="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",Q="</svg>",W=r+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+Q,b=r+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+Q;
this.ayk=r+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+Q;this.aez=r+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+Q;
var X=[this.ayk,b,"lrs/folder","lrs/newlayer","lrs/bin",W],D=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var n=0;n<X.length;n++){var h=X[n];if(1<n&&n!=X.length-1)h="<img src=\""+PIMG[X[n]]+"\" class=\"miniscale gsicon\" />";
var S=new fG(h,!1,D[n]);S.Z("click",this.awP,this);this.CK.appendChild(S.m);this.ol.push(S)}this.YY()};
kn.prototype.r=function(){h4.prototype.r.call(this);if(this.Ow==null)return;for(var n=0;n<this.ol.length;
n++)this.ol[n].r()};kn.prototype.awP=function(r){var n=this.ol.indexOf(r.currentTarget),Q=this.EK,W=this.Ha,b=W.G3;
if(n==0){var X,D=W.Ni;if(b.length==0){alert("Create an Action Set first.");return}if(Q.length<2){alert("Select a target action first.");
return}if(D==null){X=this.aez;D=this.EK}else{X=this.ayk;D=null}this.ol[0].NM(X);W.Ni=D}else if(n==1)this.am9();
else if(n==2||n==3){var h={Cv:"Action Set "+b.length,qv:[],exp:!0};if(n==2||b.length==0){Q=[b.length];
b.push(h)}if(n==3){var S=b[Q[0]].qv;Q=[Q[0],S.length];S.push({Cv:"Action "+S.length,color:0,qv:[],amx:!1,shift:!1,exp:!0,C_:S.length})}this.EK=Q;
this.YY()}else if(n==4){var a;if(Q.length==1)a=b;else if(Q.length==2)a=b[Q[0]].qv;else a=b[Q[0]].qv[Q[1]].qv;
var K=Q.length-1;a.splice(Q[K],1);if(a.length==0)Q.pop();else while(Q[K]>=a.length)Q[K]--;if(Q.length==0)Q.push(0);
this.YY()}else if(n==5){if(b.length==0){alert("No Actions Present.");return}var Y=new km(e.E.L,!0);Y.data={d:e.c.Bq,abk:d4.s,sk:Q[0]};
this.$(Y)}};kn.prototype.j5=function(r){var Q=this.Ha.G3,W=r.data.d,b=r.data.QH;if(W=="sel")this.EK=b;
if(W=="fold"){if(b.length==1)Q[b[0]].exp=!Q[b[0]].exp;else Q[b[0]].qv[b[1]].exp=!Q[b[0]].qv[b[1]].exp}if(W=="enab"){var X=Q[b[0]].qv[b[1]].qv[b[2]];
X.w=!X.w}if(W=="nchange"){if(b.length==1)Q[b[0]].Cv=r.data.Ft;else Q[b[0]].qv[b[1]].Cv=r.data.Ft}this.YY()};
kn.prototype.ba=kn.prototype.Sh=function(){this.CX()};kn.prototype.VJ=function(r,Q){this.Ha=r;if(this.Ow==null)return;
if(Q==d4.s||Q==d4.KF)this.YY()};kn.prototype.YY=function(){if(this.Ha==null)return;N.WC(this.Ow);var r=this.Ha.G3;
if(r.length==0)return;var Q=JSON.stringify(this.EK);for(var n=0;n<r.length;n++){var W=r[n],b=new kn.PS([n],Q,W.exp,W.Cv.split("=").pop());
b.parent=this;this.Ow.appendChild(b.m);if(!W.exp)continue;for(var X=0;X<W.qv.length;X++){var D=W.qv[X],b=new kn.PS([n,X],Q,D.exp,D.Cv.split("=").pop());
b.parent=this;this.Ow.appendChild(b.m);if(!D.exp)continue;for(var h=0;h<D.qv.length;h++){var S=D.qv[h],b=new kn.PS([n,X,h],Q,null,aA.get(cO.a2q(S)),S.w);
b.parent=this;this.Ow.appendChild(b.m)}}}};kn.prototype.am9=function(){var r=this.Ha.G3,Q=this.EK;if(r.length==0){alert("No Actions Present");
return}if(Q.length==1){alert("Select an Action first");return}if(this.Ha.Ni!=null){alert("You can not apply actions while recording actions");
return}if(Q.length==1)Q.push(0);var W=r[Q[0]],b=W.qv[Q[1]],X=new km(e.E.L,!0);X.data={d:e.c.Sx,C0:[b.Cv,W.Cv]};
this.$(X)};kn.PS=function(r,Q,W,b,X){eg.call(this);this.QH=r;var D=this.QH.length-1;this.m=N.S("div","layeritem"+(JSON.stringify(r)==Q?" selected":""));
this.ny=N.S("div","head");this.m.appendChild(this.ny);this.ny.setAttribute("style","height:24px");this.Or=N.S("div","headL");
this.ny.appendChild(this.Or);if(D!=0){var h=N.S("div");h.style.width=D*20+"px";this.Or.appendChild(h)}if(W!=null){var S=this.ahl=N.S("div",W?"open":"closed");
this.Or.appendChild(S)}else{var a=this.ahm=N.S("div","cmark");a.setAttribute("style","background-size:12px 12px; opacity:"+(X?1:.3));
this.Or.appendChild(a)}if(D==0){var K=N.S("div","folder");this.Or.appendChild(K)}var Y=this.ws=N.S("div","label");
Y.textContent=b;this.Or.appendChild(Y);this.m.addEventListener("mouseup",this.iD.bind(this),!1)};kn.PS.prototype=new eg;
kn.PS.prototype.iD=function(r){if(r.detail==1&&r.target.tagName.toLowerCase()!="input"){var Q="sel";
if(r.target==this.ahl)Q="fold";if(r.target==this.ahm)Q="enab";var W=new km(e.E.f,!0);W.data={d:Q,QH:this.QH};
this.$(W)}else if(this.QH.length<3)var b=new h4.uC(this.ws,this.d9.bind(this))};kn.PS.prototype.d9=function(r){var Q=new km(e.E.f,!0);
Q.data={d:"nchange",Ft:r,QH:this.QH};this.$(Q)};function at(){h4.call(this,[3],!1,"---lrs/adj",h4.Ct.a22)}at.prototype=new h4("");
at.prototype.CX=function(){if(!N.Z_(this.ft)||this.ol)return;this.ft.setAttribute("style","text-align:center;  padding:6px; min-width:220px");
this.ol=[];var n=0;for(var r in bu.names){var Q=new fG("<img src=\""+PIMG["adj/"+r]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,bu.names[r]);
Q.Z("click",this.av3,this);this.ol.push(Q);this.ft.appendChild(Q.m);if(n==4||n==10)N.Hr(this.ft);n++}this.r()};
at.prototype.ba=function(){this.CX()};at.prototype.Sh=function(){this.CX()};at.prototype.r=function(){h4.prototype.r.call(this);
if(this.ol==null)return;for(var n=0;n<this.ol.length;n++)this.ol[n].r()};at.prototype.av3=function(r){var Q=this.ol.indexOf(r.target),W=fQ.gI()[Q],b=new km(W.Y,!0);
b.data=W.J;this.$(b)};function ds(){h4.call(this,[12,22],!1,null,h4.Ct.Ec);this.Ow=N.S("div","padded");
this.Ha=null;this.ft.appendChild(this.Ow);this.PU=new g2(null,17.7,10);this.PU.parent=this;this.PU.Z(e.E.f,this.ci,this);
this.Ow.appendChild(this.PU.Hj)}ds.prototype=new h4("");ds.prototype.ci=function(r){var Q=this.PU.G(),W=new km(e.E.s,!0);
W.data={d:"setstl",h:Q.qt};W.b=m.Wg;this.$(W);W.data={d:"confirm"};this.$(W)};ds.prototype.VJ=function(r,Q){this.Ha=r;
this.YY()};ds.prototype.YY=function(){var r=this.Ha,Q=r.b5;this.PU.UD([Q,r.LB])};ds.prototype.ba=function(){this.YY()};
ds.prototype.Sh=function(){this.YY()};var bk=function(){function r(){h4.call(this,[9,3],!1,"---panels/brush",h4.Ct.Yu);
this.Z$=null;this.Ha=null}r.prototype=new h4("");r.prototype.CX=function(){var b=N.S("div","");this.ft.appendChild(b);
this.cR=N.S("div","bordered cell");this.cR.setAttribute("style","width:10em; height:28.5em;");b.appendChild(this.cR);
this.yp=[];this.Hk=null;this.FJ=[];var X=this.ao9.bind(this);this.VF=[new Q("basic"),new Q("useTipDynamics"),new Q("useScatter"),new Q("useColorDynamics"),new Q("usePaintDynamics")];
for(var n=0;n<this.VF.length;n++){var D=N.S("div","listitem"),h=this.VF[n],a=null;h.parent=this;h.Z("brushchange",this.aaz,this);
var S=h.Yy;if(n==0){this.Hk=new aQ(S);D.appendChild(this.Hk.m)}else{a=new dL(S,!1);a.Z(e.E.f,this.aan,this);
D.appendChild(a.m)}this.FJ.push(a);this.cR.appendChild(D);this.yp.push(D);D.addEventListener("click",X,!1)}this.iC=N.S("div","cell padded");
b.appendChild(this.iC);this.setItem(0);this.T=N.S("canvas");this.T.height=10;b.appendChild(this.T);this.hA=this.T.getContext("2d");
this.e8()};r.prototype.du=function(b,X){if(this.Dr==b)return;this.Dr=b;this.J9=X;this.e8()};r.prototype.Sh=function(){if(!N.Z_(this.ft))return;
if(this.cR){this.e8();return}this.CX();this.r();this.VJ(this.Ha,d4.KF)};r.prototype.r=function(){h4.prototype.r.call(this);
if(this.cR==null)return;this.Hk.r();for(var n=1;n<this.FJ.length;n++)this.FJ[n].r();for(var n=0;n<this.VF.length;
n++)this.VF[n].r()};r.prototype.aaz=function(b){var X=this.VF.indexOf(b.currentTarget),D=JSON.parse(JSON.stringify(this.VF[X].Z$)),h=new km(e.E.L,!0);
h.data={d:e.c.bJ,Lb:d4.FY,Z$:D};this.$(h)};r.prototype.aan=function(b){this.avj(this.FJ.indexOf(b.currentTarget),b.currentTarget.nJ())};
r.prototype.ao9=function(b){var n=this.yp.indexOf(b.currentTarget);if(b.target.tagName.toLowerCase()=="input")return;
if(this.FJ[n]&&!this.FJ[n].nJ()){this.FJ[n].V9();this.avj(n,!0)}this.setItem(n)};r.prototype.avj=function(b,X){this.VF[b].amy(X)};
r.prototype.setItem=function(b){for(var n=0;n<this.VF.length;n++)this.yp[n].className="listitem";if(this.iC.firstChild)this.iC.removeChild(this.iC.firstChild);
this.yp[b].className="listitem selected";this.iC.appendChild(this.VF[b].m)};r.prototype.VJ=function(b,X){this.Ha=b;
if(this.cR==null)return;for(var n=0;n<this.VF.length;n++)this.VF[n].VJ(b,X);if(X==d4.FY||X==d4.KF){this.Z$=b.bY.Mr;
this.e8()}if(X==d4.dt)this.e8()};r.prototype.e8=function(){if(this.Z$)this.enable();else{this.disable();
return}if(!N.Z_(this.ft))return;var b=this.Ha;for(var n=0;n<this.VF.length;n++){this.VF[n].t(this.Z$);
if(this.FJ[n])this.FJ[n].t(this.VF[n].nJ())}var X=JSON.parse(JSON.stringify(this.Z$));X.Brsh.v.Dmtr.v.val=Math.min(X.Brsh.v.Dmtr.v.val,50);
N.Jx(this.T,this.Dr,80);var D=new aV(0,0,this.T.width,this.T.height),h=this.Ha.bY,S=new hS(X,h?h.I_:null,h?h._v:null,{UA:1},b.V8,b.tB,D,null,0),a=D.n/2,K=D.e-a*2;
S.moveTo(a,a);for(var n=0;n<=K;n+=10)S.lineTo(a+n,a+20*Math.sin(2*Math.PI*n/K));S.finish();var Y=this.hA.createImageData(D.e,D.n);
E.TU(S.P3(),S.J4(),Y.data,D);this.hA.putImageData(Y,0,0)};function Q(b){eg.call(this);this.m=N.S("div");
this.Z$=null;var X=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(b);
this.Yy=[[15,0],[15,1],[15,2],[15,3],"Transfer"][X];this.V4=b;this.yh={};this.apr=null;var D=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter szVr.bVTy minimumDiameter angleDynamics.jitter angleDynamics.bVTy roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["clVr.jitter","H","Strt","Brgh"],["opVr.jitter","opVr.bVTy","prVr.jitter","prVr.bVTy"]][X];
for(var n=0;n<D.length;n++){var h=D[n],S;if(h=="--br"){S=new cl;this.m.appendChild(S.Hj.firstChild)}else if(h=="Brsh.Dmtr")S=new aX([12,14,0],1,1e3," px",0,!0);
else if(h=="Brsh.Angl")S=new aX([12,15],0,359," \xB0");else if(h=="Brsh.Rndn")S=new aX([12,16],0,100," %");
else if(h=="Brsh.Hrdn")S=new aX([12,17],0,100," %");else if(h=="Brsh.Spcn")S=new aX([12,18],1,300," %");
else if(h=="szVr.jitter")S=new aX([15,4,0],0,100,"%");else if(h=="minimumDiameter")S=new aX([15,4,1],0,100,"%");
else if(h=="angleDynamics.jitter")S=new aX([15,4,2],0,100,"%");else if(h=="angleDynamics.bVTy")S=new fk("Control",["Off","Direction"]);
else if(h=="szVr.bVTy")S=new fk("Control",["Off","Pen Pressure"]);else if(h=="opVr.bVTy")S=new fk("Control",["Off","Pen Pressure"]);
else if(h=="prVr.bVTy")S=new fk("Control",["Off","Pen Pressure"]);else if(h=="roundnessDynamics.jitter")S=new aX([15,4,3],0,100,"%");
else if(h=="minimumRoundness")S=new aX([15,4,4],1,100,"%");else if(h=="scatterDynamics.jitter")S=new aX([15,5,0],0,1e3," %");
else if(h=="Cnt")S=new aX([15,5,1],1,20);else if(h=="countDynamics.jitter")S=new aX([15,5,2],0,100," %");
else if(h=="clVr.jitter")S=new aX([15,6,0],0,100," %");else if(h=="H")S=new aX([15,6,1],0,100," %");
else if(h=="Strt")S=new aX([15,6,2],0,100," %");else if(h=="Brgh")S=new aX([15,6,3],0,100," %");else if(h=="opVr.jitter")S=new aX("Opacity Jitter",0,100," %");
else if(h=="prVr.jitter")S=new aX("Flow Jitter",0,100," %");else throw h;this.yh[h]=S;S.parent=this;
S.Z(e.E.f,this.Gv,this)}}Q.prototype=new eg;Q.prototype.as1=function(){this.$(new km("brushchange"))};
Q.prototype.t=function(b){this.Z$=JSON.parse(JSON.stringify(b));this.m.className=this.nJ()?"":"disabled";
this.e8()};Q.prototype.r=function(){for(var b in this.yh)this.yh[b].r()};Q.prototype.nJ=function(){return!0};
Q.prototype.VJ=function(b,X){if(X==d4.Yu||X==d4.KF){var D=this.yh["--br"];if(D)D.UD(b.bY)}};Q.prototype.Gv=function(b){var X=b.target,D=this.yh,h;
for(var S in D)if(D[S]==X)h=S;if(h=="--br"){var a=new km(e.E.L,!0);a.data={d:e.c.bJ,Lb:d4.FY,Z$:X.G()};
this.$(a)}else{var Y=W(this.Z$,h),d=X.G();if(Y){if(h.endsWith("bVTy")){Y.v=d==0?0:h.startsWith("angleDynamics")?6:2}else if(h=="Cnt")Y.v=d;
else Y.v.val=d;this.as1()}}};Q.prototype.e8=function(){var b=this.Z$,X=b.Brsh.v.classID,D=this.yh,h=X!=this.apr;
this.apr=X;if(h){N.WC(this.m);for(var S in D){if(X!="computedBrush"&&X!="sampledBrush"&&S=="Brsh.Rndn")continue;
if(X!="computedBrush"&&S=="Brsh.Hrdn")continue;var a=D[S],Y=a.m;if(S=="--br"){Y=a.fj.m;Y.style.width="auto"}this.m.appendChild(Y)}}for(var S in D){if(S=="--br")continue;
var d=W(b,S),j;if(d){if(S.endsWith("bVTy"))j=d.v==0?0:1;else if(S=="Cnt")j=d.v;else j=d.v.val;D[S].t(j)}}};
Q.prototype.nJ=function(){var b=this.V4;return b=="basic"?!0:this.Z$[b].v};Q.prototype.amy=function(b){var X=this.V4;
if(X=="basic")return;this.Z$[X].v=b;eW.QF.agR(this.Z$);this.as1()};function W(b,X){var D=X.split(".");
b=b[D[0]];for(var n=1;n<D.length;n++){if(b==null)return b;b=b.v[D[n]]}return b}return r}();function eX(){h4.call(this,[9,0],!1,"---panels/history",h4.Ct.sp);
this.ft.setAttribute("style","min-width:200px;");this.Hb=N.S("div","hpbody scrollable");this.Hb.style.height="160px";
this.ft.appendChild(this.Hb);this.aj9=-1;this.$w=[];this.hH="";this._t=new ka([{name:"Clear History"}],[{Y:e.E.s,b:m.sp,J:{d:"h_clear"}}])}eX.prototype=new h4("");
eX.prototype.pe=function(){return this._t};eX.prototype.du=function(r,Q){this.Sh()};eX.prototype.ba=function(r){if(r==null){N.WC(this.Hb);
this.hH="";return}N.WC(this.Hb);var Q=0;for(var n=0;n<r.history.length;n++)if(n<=r.Je&&!r.history[n].pF)Q=n;
for(var n=0;n<r.history.length;n++){var W=r.history[n];if(W.pF)continue;var b=new dk(W,n,Q);b.parent=this;
this.Hb.appendChild(b.m);this.$w.push(b)}if(r.Je==r.history.length-1)this.Sh()};eX.prototype.Sh=function(){this.Hb.scrollTop=this.Hb.scrollHeight};
eX.prototype.r=function(){h4.prototype.r.call(this);for(var n=0;n<this.$w.length;n++)this.$w[n].r()};
function dk(r,n,Q){eg.call(this);this.index=n;this.m=N.S("div",n==Q?"listitem selected":"listitem");
this.JK=r.name;this.r();if(n>Q)this.m.style.opacity=.4;this.m.addEventListener("click",this.pZ.bind(this),!1)}dk.prototype=new eg;
dk.prototype.r=function(){this.m.textContent=aA.get(this.JK)};dk.prototype.pZ=function(r){if(this.index==this.parent.aj9)return;
this.q9({d:"h_itemchange",index:this.index})};dk.prototype.q9=function(r){var Q=new km(e.E.s,!0);Q.data=r;
Q.b=m.sp;this.$(Q)};function ht(){h4.call(this,[9,10],!1,"---panels/histogram",h4.Ct.abo);var r=N.S("div","padded");
this.ft.appendChild(r);this.wR=new gf(256,!0);r.appendChild(this.wR.m);this.W$=null}ht.prototype=new h4("");
ht.prototype.ba=function(r){this.W$=r;this.YY()};ht.prototype.YY=function(){var r=this.W$;if(!N.Z_(this.ft))return;
if(r==null||r.I.length==0){this.wR.t(E.hg(E.Q(4)));return}var Q=r.T6(),W=new aV(0,0,r.e,r.n),b=W.O();
if(r.P){var X=r.P.rect,D=E.Q(X.O()*4);E.TU(Q,W,D,X);E.DJ(r.P.channel,D);Q=D;W=X;var h=r.P.channel;b=0;
for(var n=0;n<h.length;n++)b+=h[n];b=Math.round(b/255)}var S=E.hg(Q);S[0][255]+=3*(b-S[5]);for(var n=1;
n<4;n++)S[n][255]+=b-S[5];this.wR.t(S,b)};ht.prototype.VJ=function(r,Q){this.wR.N$(b8.q6[r.RF]["--text-color"])};
ht.prototype.r=function(){h4.prototype.r.call(this);this.wR.r()};ht.prototype.Sh=function(){this.YY()};
function ca(){h4.call(this,[9,8],!1,"---adj/clrL",h4.Ct.a7o);this.Ow=N.S("div","padded");this.ft.appendChild(this.Ow);
this.cr=new io(10);this.Ow.appendChild(this.cr.m);this.B3=new hK;this.B3.parent=this;this.Ow.appendChild(this.B3.Hj);
this.B3.Hj.style.marginTop="6px";this.cr.Z(e.E.f,this.amb,this);this.B3.Z(e.E.f,this.amb,this)}ca.prototype=new h4("");
ca.prototype.amb=function(r){var Q;if(r.target==this.cr)Q=this.cr.G();else{var W=this.B3.G();Q=Math.round(W.o)<<16|Math.round(W.W)<<8|Math.round(W.k)}var b=new km(e.E.L,!0);
b.data={d:e.c.bJ,Lb:d4.dt,CZ:0,h:Q};this.$(b)};ca.Ry=function(r,Q){var W=Q==d4.KF,b=r.aB,X=r.RY,D=X.strokeStyleContent.v,h=null;
if((Q==d4.Yi||W)&&b.pj==1){h=E.M.vf(b.P0.Clr.v);h=h.o<<16|h.W<<8|h.k}if((Q==d4._L||W)&&X.strokeEnabled.v&&D.classID=="solidColorLayer"){h=E.M.vf(D.Clr.v);
h=h.o<<16|h.W<<8|h.k}if(Q==d4.dt||W)h=r.V8;return h};ca.prototype.VJ=function(r,Q){var W=r.V8,b=Q==d4.KF,X=ca.Ry(r,Q);
if(X!=null){this.cr.t(X);this.B3.t({o:X>>>16&255,W:X>>>8&255,k:X>>>0&255,VZ:"Color #"+E.Y0(X)})}if(Q==d4.$m||b){var D=r.aaS;
this.B3.UD(D)}};function gq(){h4.call(this,[12,72],!1,"---adj/mixr",h4.Ct.adq);this.e1=null;this.tS=null;
this.Hb=N.S("div","lpbody scrollable");this.Hb.style.marginTop="4px";this.CK=N.S("div","lpfoot");this.ft.appendChild(this.Hb);
this.ft.appendChild(this.CK);this.mH=[];this.Z("click",this.dg,this);this.Fm=[];gq.XB([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.Fm,this.CK,this.kl.bind(this),this.gA.bind(this));
this._t=new ka([{name:"Merge Channels",nT:!0}],[{Y:e.E.L,J:{d:e.c.Re,wv:"mergechannels"}}])}gq.prototype=new h4("");
gq.prototype.pe=function(){return this._t};gq.XB=function(r,Q,W,b,X){for(var n=0;n<r.length;n++){var D=new fG("W",!1,r[n]);
Q.push(D);N.AM(D.m,b);W.appendChild(D.m);var h=D.m;h.addEventListener("drop",X,!1);h.addEventListener("dragover",function(S){S.preventDefault()},!1);
h.addEventListener("dragenter",N.pR,!1)}};gq.YV=function(r,Q){for(var n=0;n<r.length;n++)if(r[n].m==Q.currentTarget)return n};
gq.prototype.kl=function(r){var Q=gq.YV(this.Fm,r);if(Q==0)this.$(hm.oB(!0,null,r));else{Q--;var W=new km(e.E.Kk,!0),b={classID:"null"};
if(Q==0)b.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(Q==1)b.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else b.null=cO.RG("Chnl",!0);W.data={r7:["duplicate","make","delete"][Q],Hf:b};this.$(W)}};gq.prototype.gA=function(r){var Q=gq.YV(this.Fm,r);
if(Q==2){var W=new km(e.E.Kk,!0),b={classID:"null"};b.null=cO.RG("Chnl",!0);W.data={r7:"duplicate",Hf:b};
this.$(W)}else this.kl(r)};gq.prototype.sv=function(n){var r=this.mH,Q=r[n];if(Q==null){var W=N.S("canvas");
Q=W.getContext("2d");r.push(Q)}return Q};gq.prototype.dg=function(r){var Q=this.e1.slice(0),W=r.data.C_,b=Q[0]+Q[1]+Q[2],X=this.tS;
if(-5<W&&W<0){var D=-W-1;if(r.data.YC){if(D==0)Q=b==3?[0,0,0]:[1,1,1];else{if(Q[D-1]==0)Q[D-1]=1;else if(!0)Q[D-1]=0}}else{if(D==0)Q=[1,1,1];
else{Q=[0,0,0];Q[D-1]=1}X.Qw=[]}var h=new km(e.E.s,!0);h.b=m.vA;h.data={d:"setcls",Vu:Q};this.$(h);return}if(-1<W){var S=X.B[W],a=S.L$==1?S.SS():S.Xg(X).z;
if(r.data.YC)a.Xo=!a.Xo;else{for(var n=0;n<X.Ev.length;n++)X.Ev[n].Xo=!1;X.Qw=[]}}else{var K=-W-5,a=X.Ev[K];
if(r.data.YC)a.Xo=!a.Xo;else{for(var n=0;n<X.Ev.length;n++)X.Ev[n].Xo=!1;a.Xo=!0;X.Qw=[K]}}X.a9=X.Ca=!0};
gq.prototype.Sh=function(){this.Ui()};gq.prototype.ba=function(r){this.tS=r;this.Ui()};gq.prototype.Ui=function(){var r=this.tS,Q=this.Hb,U=4;
N.WC(Q);if(r==null||!N.Z_(Q))return;var W=r.e,b=r.n,X=new aV(0,0,W,b),D=this.e1=r.u.Vu.slice(0),h=D[0]+D[1]+D[2],S=Math.round(34*N.i()),a=S;
if(W>b)a=Math.round(a*b/W);else S=Math.round(S*W/b);var K=["RGB"].concat(bu._K);for(var n=0;n<4;n++){var Y=this.sv(n);
E.JA.IT(Y,S,a,X,r.T6(),X,!1,n==0?null:n-1);var d=n==0?h==3:D[n-1]==1,j=new hm(-1-n,!0,!0,Y,K[n],d,d);
j.parent=this;Q.appendChild(j.m);N.Q4(Y.canvas)}for(var n=0;n<r.I.length;n++){var I=r.B[r.I[n]],f=I.L$;
if(f!=1&&f!=3)continue;var g=f==1?I.SS():I.Xg(r).z,Y=this.sv(U+n);U++;E.JA.Qm(Y,S,a,X,g);var j=new hm(r.I[n],!0,!0,Y,I.getName()+(f==1?"":" Filter")+" Mask",!0,g.Xo);
j.parent=this;Q.appendChild(j.m);N.Q4(Y.canvas)}for(var n=0;n<r.Ev.length;n++){var g=r.Ev[n],Y=this.sv(U+n);
E.JA.Qm(Y,S,a,X,g);var j=new hm(-5-n,!0,g.name=="Quick Mask",Y,g.name,r.Qw.indexOf(n)!=-1,g.Xo,m.M0,{d:$.BC,CZ:"rnm",C_:n});
j.parent=this;Q.appendChild(j.m);N.Q4(Y.canvas)}};gq.prototype.du=function(r,Q){this.Hb.style.height=Q-30-4+"px";
this.Hb.style.width=r+"px"};gq.prototype.r=function(){h4.prototype.r.call(this);this.Ui();gq.MC(this.Fm,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
gq.MC=function(r,Q){var Q=gU.pQ(Q,null,"miniscale");for(var n=0;n<r.length;n++)r[n].NM(Q[n])};function hm(r,Q,W,b,X,D,h,S,a){eg.call(this);
this.m=N.S("div","layeritem");this.ae3=r;this.asl=Q;this.hA=b;this.atV=S;this.a0f=a;this.ny=N.S("div",D?"head selected":"head");
this.ny.setAttribute("style","height: "+40+"px");var K=N.S("div","headL"),Y=N.S("div","headR"),d=15;
this.m.appendChild(this.ny);this.ny.appendChild(K);this.ny.appendChild(Y);this.vu=N.S("div","eye");if(1<N.i()&&N.i()<1.5)d=d/N.i();
this.vu.setAttribute("style","background-size: "+d+"px "+d+"px;");this.vu.style.opacity=h?1:.2;if(Q)K.appendChild(this.vu);
this.i6=N.S("div","thumb");if(b)this.i6.appendChild(b.canvas);K.appendChild(this.i6);this.DY=N.S("div","label");
if(W)this.DY.style.fontStyle="italic";this.DY.textContent=aA.get(X);K.appendChild(this.DY);var j=this.ny;
j.setAttribute("draggable","true");j.addEventListener("dragstart",function(U){U.dataTransfer.setData("Text","")},!1);
N.AM(this.ny,this.apK.bind(this));if(!W)this.ny.addEventListener("mouseup",this.arf.bind(this),!1)}hm.prototype=new eg;
hm.prototype.d9=function(r){var Q=new km(e.E.s,!0);Q.b=this.atV;Q.data=this.a0f;Q.data.name=r;this.$(Q)};
hm.prototype.apK=function(r){var Q=r.ctrlKey||r.metaKey,W=this.ae3;if(Q&&r.target==this.hA.canvas){this.$(hm.oB(this.asl,W,r))}else{var b=new km("click",!0);
b.data={C_:W,YC:r.target==this.vu,HY:Q};this.$(b)}};hm.prototype.arf=function(r){if(r.detail==2&&r.target==this.DY){var Q=new h4.uC(this.DY,this.d9.bind(this))}};
hm.oB=function(r,Q,W){var b=0;if(W.shiftKey)b++;if(W.altKey)b+=2;var X=new km(e.E.s,!0);X.b=m.iW;if(r){if(-5<Q&&Q<0){X=new km(e.E.Kk,!0);
X.data=m.to.a9z(b,["RGB","Rd","Grn","Bl"][-1-Q])}else X.data={d:"fromchannel",C0:[Q,0,b]}}else X.data={d:"frompath",C0:[Q,0,b]};
return X};function jj(){h4.call(this,[8,9],!1,"---panels/paths",h4.Ct.ij);this.e1=null;this.tS=null;
this.Hb=N.S("div","lpbody scrollable");this.Hb.style.marginTop="4px";this.CK=N.S("div","lpfoot");this.ft.appendChild(this.Hb);
this.ft.appendChild(this.CK);this.ft.addEventListener("click",this.ax_.bind(this),!1);this.mH=[];this.Z("click",this.dg,this);
this.Fm=[];gq.XB(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.Fm,this.CK,this.kl.bind(this),this.gA.bind(this))}jj.prototype=new h4("");
jj.prototype.kl=function(r,Q){var W=gq.YV(this.Fm,r),b;if(W<2){b=new km(e.E.Kk,!0);b.data=m.N9.nb(W)}else if(W==2)b=hm.oB(!1,null,r);
else if(W==3){b=new km(e.E.Kk,!0);b.data={r7:"make",Hf:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(W>3){var b=new km(e.E.s,!0);
b.b=m.RJ;b.data={d:"pathedit",CZ:["new","del"][W-4],ahL:Q}}this.$(b)};jj.prototype.gA=function(r){this.kl(r,!0)};
jj.prototype.sv=function(n){var r=this.mH,Q=r[n];if(Q==null){var W=N.S("canvas");Q=W.getContext("2d");
r.push(Q)}return Q};jj.prototype.ax_=function(r){if(r.target==this.Hb){var Q=this.tS;Q.Me=[];Q.qS=[];
Q.Ca=!0;Q.a9=!0}};jj.prototype.dg=function(r){var Q=r.data.C_,W=this.tS,b=r.data.HY,X=0,D,h;if(Q<0){X=-1-Q;
D=W.Me;h=W.qS}else{var S=W.tt()[0];for(var n=0;n<S.length;n++){var a=S[n].C_;if(a==Q)break;if(a>=0)X++}D=W.qS;
h=W.Me}if(b){var K=D.indexOf(X);if(K==-1)D.push(X);else D.splice(K,1)}else{while(D.length!=0)D.pop();
while(h.length!=0)h.pop();D.push(X)}W.Ca=!0;W.a9=!0};jj.prototype.Sh=function(){this.Ui()};jj.prototype.ba=function(r){this.tS=r;
this.Ui()};jj.prototype.Ui=function(){var r=this.tS,Q=this.Hb;N.WC(Q);if(r==null||!N.Z_(Q))return;var W=r.e,b=r.n,X=new aV(0,0,W,b),D=this.e1=r.u.Vu.slice(0),h=D[0]+D[1]+D[2],S=Math.round(34*N.i()),a=S;
if(W>b)a=Math.round(a*b/W);else S=Math.round(S*W/b);var K=r.tt(),Y=K[0];for(var n=0;n<Y.length;n++){var d=Y[n],j=this.sv(n);
E.JA.a2n(j,S,a,X,d.add.vmsk);var U=new hm(d.C_,!1,d.C_>=0,j,d.name,K[1].indexOf(n)!=-1,!1,m.RJ,{d:"pathedit",CZ:"rnm",C_:d.C_});
U.parent=this;Q.appendChild(U.m);N.Q4(j.canvas)}};jj.prototype.du=function(r,Q){this.Hb.style.height=Q-30-4+"px";
this.Hb.style.width=r+"px"};jj.prototype.r=function(){h4.prototype.r.call(this);this.Ui();gq.MC(this.Fm,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function iR(r){h4.call(this,[9,r?4:5],!1,"---panels/"+(r?"character":"paragraph"),r?h4.Ct.aii:h4.Ct.a1p);
this.ft.setAttribute("style","min-width:240px;");this.ao7=r;this.if=null;this.Ha=null}iR.prototype=new h4("");
iR.prototype.CX=function(){this.if=new kp;var r=this.if,Q=this.ft;r.parent=this;if(this.ao7){var W=N.S("div","marged");
Q.appendChild(W);W.appendChild(r.su.m);Q.appendChild(N.S("hr"));var b=N.S("div","marged");Q.appendChild(b);
b.appendChild(r.hT.m);b.appendChild(r.uu.m);var X=N.S("div","marged");Q.appendChild(X);X.appendChild(r.Jy.m);
X.appendChild(r.ru.m);Q.appendChild(N.S("hr"));var D=N.S("div","marged");Q.appendChild(D);D.appendChild(r.TM.m);
D.appendChild(r.NW.m);var h=N.S("div","marged");Q.appendChild(h);h.appendChild(r.M9.m);h.appendChild(r.WR.m);
h.appendChild(r.UB.m);Q.appendChild(N.S("hr"));var S=N.S("div","marged");Q.appendChild(S);S.appendChild(r.z2.m);
S.appendChild(r.j1.m);S.appendChild(r.HB.m);S.appendChild(r.Ch.m);S.appendChild(r.C7.m);S.appendChild(r.u3.m);
S.appendChild(r.EL.m);S.appendChild(r.u4.m)}else{var W=N.S("div","marged");Q.appendChild(W);W.appendChild(r.pm.m);
W.appendChild(r.wQ.m);W.appendChild(r.hu.m);W.appendChild(r.a75.m);W.appendChild(r.anZ.m);W.appendChild(r.adX.m);
W.appendChild(r.ar3.m);Q.appendChild(N.S("hr"));var b=N.S("div","marged");Q.appendChild(b);b.appendChild(r.aX.m);
b.appendChild(r.mh.m);b.appendChild(r.aJ.m);Q.appendChild(N.S("hr"));var X=N.S("div","marged");Q.appendChild(X);
X.appendChild(r.k7.m);X.appendChild(r.B7.m);X.appendChild(r.MD.m);X.appendChild(r.IY.m)}};iR.prototype.Sh=function(){if(!N.Z_(this.ft))return;
if(this.if==null){this.CX();var r=this.Ha;if(r)this.if.t(r.vy,r.zl,r.YT);this.if.r()}};iR.prototype.r=function(){h4.prototype.r.call(this);
if(this.if)this.if.r()};iR.prototype.VJ=function(r,Q){this.Ha=r;if(Q!=d4.KF&&Q!=d4.ui&&Q!=d4.TH&&Q!=d4.fm)return;
if(this.if)this.if.t(r.vy,r.zl,r.YT)};function fI(){h4.call(this,[9,13],!1,"---panels/glyphs",h4.Ct.a72);
this.Ha=null}fI.prototype=new h4("");fI.prototype.CX=function(){this.if=new kp;this.if.parent=this;this.a1t=null;
this.aqd=null;this.uy=null;this.acP=null;this.Gl=Math.round(290*N.i());this.K7=45;this.akR=4;this.aep=this.YY.bind(this);
this.a0d=0;this.E5=new fk(null,["Hi","Hello"]);this.E5.Z(e.E.f,this.YY,this);var r=this.tu=new fG("-",null,null,!0);
r.Z("click",this.akD,this);var Q=this.a4t=new fG("+",null,null,!0);Q.Z("click",this.akD,this);this.fj=new aa(!1);
this.fj.Z(e.E.f,this.Ux,this);this.fj.m.style.height=250+"px";var W=this.Co=N.S("div","form padded");
this.ft.appendChild(W);W.appendChild(this.if.su.m);N.Hr(W);W.appendChild(this.E5.m);W.appendChild(r.m);
W.appendChild(Q.m);this.ft.appendChild(this.fj.m)};fI.prototype.du=function(r,Q){if(this.Dr==r||this.if==null)return;
this.Dr=r;this.Gl=Math.floor((r-13)*N.i());this.Co.setAttribute("style","width:"+this.Gl/N.i()+"px;");
this.fj.m.style.height=Q-73+"px";this.YY()};fI.prototype.Ux=function(r){var Q=this.ag9(),W=Math.round(this.Gl/Q);
Q/=N.i();var b=this.fj.G()[0]*W*this.akR,X=this.fj.a2K();b+=Math.floor(X.y/Q)*W;b+=Math.floor(X.x/Q);
var D=this.uy[this.E5.G()];if(b>=D.length)return;var h=D[b],S=this.acP[h],a=new km(e.E.s,!0);a.b=m.st;
if(S.uv.length==0)a.data={d:"insertGlyph",h:b+1};else a.data={d:"insertText",h:String.fromCodePoint(S.uv[0])};
this.$(a)};fI.prototype.akD=function(r){var Q=1.2;if(r.target==this.tu){if(this.K7>20)this.K7/=Q}else{if(this.K7<100)this.K7*=Q}this.YY()};
fI.prototype.Sh=function(){this.VJ(this.Ha)};fI.prototype.VJ=function(r,Q){this.Ha=r;if(!N.Z_(this.ft))return;
if(this.if==null)this.CX();this.if.t(r.vy,r.zl,r.YT);var W=r.vy,b=W.jr.Font,a=0;if(b==null)return;var X=W.Nk[b].Name;
if(this.a1t==X)return;var b=r.zl.oD(X);if(b==null)return;var D=b.maxp.numGlyphs,h=this.acP=new Array(D);
for(var n=0;n<D;n++)h[n]={uv:[]};var S=Date.now(),K=new Uint8Array(1048575);for(var n=0;n<1048575;n++){var Y=Typr.U.codeToGlyph(b,n);
if(Y!=0&&Y<D){K[n]=1;if(h[Y].uv.length==0)a++;h[Y].uv.push(n)}}var d=fI.bD,j=[];for(var n=0;n<d.length;
n++)j.push([]);for(var Y=1;Y<D;Y++){j[0].push(Y);var U=h[Y].uv[0];if(U==null){continue}for(var I=1;I<d.length;
I++){var f=d[I].e6;for(var n=0;n<f.length;n+=2)if(f[n]<=U&&U<=f[n+1]){j[I].push(Y);break}}}this.uy=j;
var g=[];for(var n=0;n<d.length;n++)g.push(d[n].PJ+" ("+j[n].length+")");var H=this.E5.G();this.E5.In(g);
this.E5.t(H);this.a1t=X;this.aqd=b;this.YY()};fI.prototype.ag9=function(r){var Q=Math.floor(this.Gl/this.K7);
return Math.floor(this.Gl/Q)};fI.prototype.YY=function(r){if(!N.Z_(this.ft)||this.uy==null)return;var Q=this.uy[this.E5.G()],W=Q.length,b=this.aqd,X=Typr.U,D=this.ag9(),h=D,S=h*.8,a=h*.8/b.head.unitsPerEm,K=[],Y=Math.floor(this.Gl/D),d=Math.ceil(W/Y),j=this.akR,U=Date.now();
for(var I=0;I<d;I+=j){var f=N.S("canvas"),g=f.getContext("2d");f.width=D*Y;f.height=h*j;g.strokeStyle="rgba(0,0,0,0.3)";
g.fillStyle="white";g.fillRect(0,0,Y*D,h*j);for(var H=0;H<j;H++){for(var u=0;u<Y;u++){var n=Q[(I+H)*Y+u];
if(n==null)break;var s=X.glyphToPath(b,n),_=E.p.Z3(s.crds);if(!_.WB()){g.fillStyle="#252525";g.beginPath();
var i=u*D+(D-_.e*a)*.5-_.x*a,M=H*h+S;g.translate(i,M);g.scale(a,-a);X.pathToContext(s,g);g.scale(1/a,-1/a);
g.translate(-i,-M);g.fill()}}}g.beginPath();for(var u=0;u<Y;u++){var T=u*D+D+.5;g.moveTo(T,0);g.lineTo(T,h*j)}for(var H=0;
H<j;H++){var R=H*h+h+.5;g.moveTo(0,R);g.lineTo(Y*D,R)}g.stroke();K.push(f)}this.fj.pH(K,null,D*Y,h*j)};
fI.bD=[{PJ:"All Glyphs"},{PJ:"Basic Latin, Latin 1",e6:[0,127,128,143]},{PJ:"Latin Extended-A",e6:[256,383]},{PJ:"Latin Extended-B",e6:[384,591]},{PJ:"Punctuations",e6:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{PJ:"Greek",e6:[880,1023]},{PJ:"Cyrillic",e6:[1024,1279]},{PJ:"Hebrew",e6:[1424,1535]},{PJ:"Arabic",e6:[1536,1791]},{PJ:"Emoji",e6:[9728,10095,127744,129535]}];
function iM(){h4.call(this,[13,0],!1,null,h4.Ct.dt);this.l8=0;this.avE=0;this.Ha=null}iM.prototype=new h4("");
iM.prototype.CX=function(){if(!N.Z_(this.ft)||this.A5)return;var r=N.S("div","flexrow padded");this.ft.appendChild(r);
var Q=N.S("div");r.appendChild(Q);this.A5=[];for(var n=0;n<2;n++){var W=new c_;this.A5.push(W);W.Z("click",this.afk,this);
Q.appendChild(W.m)}this.SH=new d_(192);console.log("hsb picker");this.SH.Z(e.E.f,this.gU,this);this.OF=new dZ;
this.OF.parent=this;r.appendChild(this.SH.m);this.VJ(this.Ha,d4.KF)};iM.prototype.afk=function(r){var Q=r.currentTarget,W=this.A5.indexOf(Q);
if(W==this.l8){this.OF.y0(W)}else{this.l8=W;this.YY()}};iM.prototype.gU=function(r){var Q=this.SH.G();
this.SH.t(Q);var W=Math.round(Q.o*255)<<16|Math.round(Q.W*255)<<8|Math.round(Q.k*255),b=new km(e.E.L,!0);
b.data={d:e.c.bJ,Lb:d4.dt,CZ:this.l8,h:W};this.$(b);this.avE=Date.now()};iM.prototype.YY=function(){if(this.OF==null)return;
var r=this.Ha,Q=this.l8,W=[r.V8,r.tB];for(var n=0;n<2;n++){var b=this.A5[n],X=b.m.style;b.N$(W[n]);if(n==Q)X.filter="drop-shadow(0 0 1px #000000)"}var D=W[Q];
if(Date.now()-this.avE>100)this.SH.t({o:(D>>>16)/255,W:(D>>>8&255)/255,k:(D&255)/255})};iM.prototype.VJ=function(r,Q){this.Ha=r;
if(this.OF==null)return;if(Q==d4.KF||Q==d4.dt){this.OF.ae9(r.V8,r.tB);this.YY()}};iM.prototype.ba=function(){this.CX()};
iM.prototype.Sh=function(){this.CX();this.YY()};function dl(){h4.call(this,"CSS",!1,"---panels/css",h4.Ct.CSS);
this.W$=null;var r=N.S("div","padded");this.ft.appendChild(r);this.zH=N.S("textarea");N.U9(this.zH);
r.appendChild(this.zH)}dl.prototype=new h4("");dl.prototype.du=function(r,Q){if(this.Dr==r)return;this.Dr=r;
this.zH.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(r-10)+"px; height:"+(Q-10)+"px")};
dl.prototype.ba=function(r){this.W$=r;this.YY()};dl.prototype.VJ=function(r,Q){if(Q==d4.TH)this.YY()};
dl.prototype.YY=function(){var r=this.W$;if(r==null||r.I.length==0)return;if(!N.Z_(this.ft))return;var Q=r.B[r.I[0]],W=CSS.ayj(Q,r);
if(W.length!=0)this.zH.value=W.join(";\n")+";";else this.zH.value=""};dl.prototype.Sh=function(){this.YY()};
function ad(){h4.call(this,[9,6],!1,"---panels/info",h4.Ct.axB);this.ft.setAttribute("style","min-width:240px;");
this.W$=null;this.Ha=null;var r=N.S("div","marged row");this.ft.appendChild(r);var Q=N.S("div","cell");
Q.setAttribute("style","width:10em");r.appendChild(Q);var W=N.S("div","cell");W.setAttribute("style","width:10em");
r.appendChild(W);this.afe=[];for(var n=0;n<4;n++){var b=new aQ("");this.afe.push(b);Q.appendChild(b.m);
N.Hr(Q)}this.ft.appendChild(N.S("hr",""));var X=N.S("div","marged row");this.ft.appendChild(X);var Q=N.S("div","cell");
Q.setAttribute("style","width:10em");var W=N.S("div","cell");W.setAttribute("style","width:10em");X.appendChild(Q);
X.appendChild(W);this.gf=new aQ("");Q.appendChild(this.gf.m);N.Hr(Q);this.oG=new aQ("");Q.appendChild(this.oG.m);
this.df=new aQ("");W.appendChild(this.df.m);N.Hr(W);this.dR=new aQ("");W.appendChild(this.dR.m);this.gf.t("X: 100 px");
this.oG.t("Y: 100 px");this.df.t("W: 0");this.dR.t("H: 0")}ad.prototype=new h4("");ad.prototype.Dc=function(r,Q,W,b,X){if(!N.Z_(this.ft)||r==null)return;
var D=r.u.GF(X.x,X.y),h=new cp(Math.floor(D.x),Math.floor(D.y));if(!X.hY){var S=0,a=0,K=0,Y=0,d=this.afe;
if(!X.hY&&!r.adI()&&new aV(0,0,r.e-1,r.n-1).LS(h)){var j=r.T6(),n=r.e*h.y+h.x<<2;S=j[n+0];a=j[n+1];K=j[n+2];
Y=j[n+3]}d[0].t("R: "+S);d[1].t("G: "+a);d[2].t("B: "+K);d[3].t("A: "+Y)}this.gf.t("X: "+E.iZ.HE(h.x,r.HW,W,r.e));
this.oG.t("Y: "+E.iZ.HE(h.y,r.HW,W,r.n));this.U2()};ad.prototype.U2=function(){var r=this.W$,Q=this.Ha,W=0,b=0;
if(r&&Q){if(r.u.m5){W=r.u.m5.e;b=r.u.m5.n}else if(r.P){W=r.P.rect.e;b=r.P.rect.n}W=E.iZ.HE(Math.abs(W),r.HW,Q,r.e);
b=E.iZ.HE(Math.abs(b),r.HW,Q,r.n)}this.df.t(aA.get([12,41]).charAt(0)+": "+W);this.dR.t(aA.get([12,42]).charAt(0)+": "+b)};
ad.prototype.r=function(){h4.prototype.r.call(this);this.U2()};ad.prototype.ba=function(r,Q,W){this.W$=r;
this.Ha=W;this.U2()};function fa(){h4.call(this,[9,1],!1,"---panels/layers",h4.Ct.M0);this.LM=null;this.Iw=[];
this.gR=null;this.kt=null;this.ny=N.S("div","lphead");this.Hb=N.S("div","lpbody scrollable");this.Hb.addEventListener("scroll",this.agJ.bind(this),!1);
this.CK=N.S("div","lpfoot");var r=this.a3Y=N.S("span");r.setAttribute("style","display:inline-block; height:26px");
this.ny.appendChild(r);this.JZ=new fk(null,hG.tJ,!1,hG.WU);this.JZ.Z(e.E.f,this.auh,this);this.ny.appendChild(this.JZ.m);
this.HI=new fq([12,0],0,100,"%",0);this.HI.Z(e.E.f,this.aeV,this);this.HI.parent=this;this.ny.appendChild(this.HI.m);
this.rw=new eJ([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.rw.Z(e.E.f,this.adh,this);this.ny.appendChild(this.rw.m);this.J1=new fq([12,26],0,100,"%",0);this.J1.Z(e.E.f,this.aje,this);
this.J1.parent=this;this.ny.appendChild(this.J1.m);this.Fm=[];this.XB();this.ft.appendChild(this.ny);
this.ft.appendChild(this.Hb);this.Hb.addEventListener("dragover",function(W){W.preventDefault()},!1);
this.Hb.addEventListener("dragenter",N.pR,!1);this.Hb.addEventListener("drop",this.a0F.bind(this),!1);
this.ft.appendChild(this.CK);this.ft.addEventListener("contextmenu",N.pR,!1);this.Z("rclick",this.arv,this);
var Q=function(W,b,n){return{TC:this.ct[n]==1}}.bind(this);this.awy=new ka([{name:[0,6],w:Q},{name:[14,10],w:Q},{name:[6,57,2],w:Q,Xe:!0},{name:"Long-tap as a right click",w:Q,Xe:!0},{name:"\u2796 Thumbnail Size"},{name:"\u2795 Thumbnail Size"},{name:"Thumbnails by Layer",w:function(){return{TC:a2.Q$==0,w:!0}}},{name:"Thumbnails by Document",w:function(){return{TC:a2.Q$==1,w:!0}}}]);
this.awy.Z("select",this.axp,this);this.ct=[0,1,1,0];this.axp()}fa.prototype=new h4("");fa.prototype.yo=function(){if(this.a6T)return;
var r=fQ.A7(!0),Q=fQ.rc(!0);this.a6T=new ka(r,Q);var r=[{name:[14,10]},{name:[14,11],Xe:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],Xe:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",w:function(W){return{w:W.B[W.I[0]].add.SoLd!=null}},Xe:!0},{name:[6,8],w:fa.a2P},{name:[6,34],w:function(W){var b=W.B[W.I[0]];
return{w:b.add.lmfx!=null&&!b.wf()}}},{name:[6,40],Xe:!0,w:function(W){var b=W.B[W.I[0]];return{w:b.add.TySh!=null}}},{name:"",Xe:!0,w:function(W){var b=W.B[W.I[0]],X=b.add.TySh,D=X?X.kN:null;
return{w:X!=null&&D.Curve==null,B5:aA.get(X&&aH.yv(D)==0?[16,3,1]:[16,3,0])}}},fa.at8(!1),{name:[11,6],Xe:!0,sub:[{name:[5,1],w:function(W){var b=W.B[W.I[0]];
return{w:b.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],w:function(W){var b=W.B[W.I[0]];return{w:b.add.lmfx!=null}}}]},{name:[6,12,0],w:function(W){var b=W==null?0:W.I.length;
return{w:b!=0&&(b!=1||W.I[0]!=0),B5:aA.get(b>1||b==1&&W.B[W.I[0]].wf()?[6,12,0]:[6,10])}}},{name:[6,12,1],Xe:!0},{name:[13,0],sub:function(){var W=[];
for(var n=0;n<ge.o7.length;n++)W.push({name:[13,1,n],JA:"#"+E.Y0(ge.o7[n])});return W}()}],Q=[{Y:e.E.L,J:{d:e.c.Re,wv:"layerstyle"}},{Y:e.E.s,b:m.iW,J:{d:"fromlayer",C0:[null,0,0]}},{Y:e.E.s,b:m.M0,J:{d:$.fE}},{Y:e.E.L,J:{d:e.c.Re,wv:"duplinto"}},{Y:e.E.s,b:m.M0,J:{d:$.YL}},{Y:e.E.Kk,J:{r7:"newPlacedLayer"}},{Y:e.E.s,b:m.M0,J:{d:$.H2}},{Y:e.E.Kk,J:{r7:"rasterizeLayer",Hf:{classID:"rasterizeLayer",null:cO.RG("Lyr",!0)}}},{Y:e.E.s,b:m.M0,J:{d:$.ej}},{Y:e.E.s,b:m.M0,J:{d:$.auP}},{Y:e.E.s,b:m.st,J:{d:"switchPntPrgr"}},{Y:e.E.s,b:m.M0,J:{d:$.$u}},{sub:[{Y:e.E.s,b:m.Wg,J:{d:"st_copy"}},{Y:e.E.s,b:m.Wg,J:{d:"st_paste"}},{Y:e.E.s,b:m.Wg,J:{d:"st_clear"}}]},{Y:e.E.Kk,J:{r7:"mergeLayersNew",Hf:{__name:"Merge Layers",classID:"Mrg2"}}},{Y:e.E.Kk,J:{r7:"flattenImage"}},{sub:function(){var W=[];
for(var n=0;n<8;n++)W.push({Y:e.E.s,b:m.M0,J:{d:$.gT,ag$:n}});return W}()}];this.iC=new ka(r,Q);var r=[{name:[6,45],w:function(W){var b=W.B[W.I[0]];
return{w:b.Xg(W).z==null}}},{name:[6,47]}],Q=[{Y:e.E.s,b:m.M0,J:{d:$.H0}},{Y:e.E.s,b:m.M0,J:{d:$.H$}}];
this.a5p=new ka(r,Q);var r=[{name:"enab/disab",w:function(W){return{B5:aA.get(W.B[W.I[0]].SS().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],w:function(W){return{w:W.P2(!1,!0)}}}],Q=[{Y:e.E.s,b:m.M0,J:{d:$.uK}},{Y:e.E.s,b:m.M0,J:{d:$.bQ}},{Y:e.E.s,b:m.M0,J:{d:$.sR}}];
this.ap4=new ka(r,Q);var r=[{name:"enab/disab",w:function(W){return{B5:aA.get(W.B[W.I[0]].Xg(W).z.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],Q=[{Y:e.E.s,b:m.M0,J:{d:$.HS}},{Y:e.E.s,b:m.M0,J:{d:$.S4}}];
this.arY=new ka(r,Q);var r=[{name:"enab/disab",w:function(W){return{B5:aA.get(W.B[W.I[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],Q=[{Y:e.E.s,b:m.M0,J:{d:$.TQ}},{Y:e.E.s,b:m.M0,J:{d:$.sD}},{Y:e.E.s,b:m.M0,J:{d:$.Xi}}];
this.asr=new ka(r,Q);this.auH=new ka(fQ.av$(!0),fQ.gI(!0));this.anJ=new ka(fQ.A7(),fQ.rc())};fa.prototype.agJ=function(r){var Q=this.Hb.scrollTop-600;
for(var n=0;n<this.Iw.length;n++){var W=this.Iw[n],b=W.l7;if(Q<W.l7)W.aqh();if(W.l7>Q+this.J9+600)break}};
fa.prototype.pe=function(){return this.awy};fa.prototype.axp=function(r){var Q=this.ct;if(r){var W=r.target.z_(),n=W[0];
if(n<4)Q[n]=1-Q[n];else if(n<6){if(n==4&&a2.Ds-10>=10)a2.Ds-=10;if(n==5&&a2.Ds+10<=200)a2.Ds+=10;if(this.gR)this.gR.yV=!0}else{if(n==6)a2.Q$=0;
if(n==7)a2.Q$=1;if(this.gR)this.gR.yV=!0}}if(Q[0]==1)this.abl();var b=[[{m:this.a3Y}],[this.JZ,this.HI],[this.rw,this.J1]];
for(var n=0;n<3;n++)for(var X=0;X<b[n].length;X++)b[n][X].m.style.display=Q[n]==1?"inline-block":"none";
this.du(this.Dr,this.J9)};fa.prototype.are=function(){var r=this.Jz;if(r==null)return!1;if(r.G()){var Q=this.HH.G(),W=this.da[Q].G();
if(Q==0)return W.indexOf(!0)!=-1;if(Q==1)return W!=""}return!1};fa.at8=function(r){var Q=function(b){var X=b!=null&&b.I.length!=0&&b.B[b.I[0]].Cw;
return{TC:X,w:b!=null&&b.ib(b.I[0]),J:{Y:e.E.Kk,J:{r7:X?"ungroup":"groupEvent",Hf:{classID:X?"Ungr":"GrpL",null:cO.RG("Lyr",!0)}}}}},W={name:[6,6,0],Xe:!0,w:Q};
if(r)W.hM=[h8._I,h8.DS,h8.L4];return W};fa.a2P=function(r,Q){if(r)for(var n=0;n<r.I.length;n++){var W=r.B[r.I[n]];
if(W.add.TySh||W.add.SoLd||W.add.SoCo||W.add.GdFl||W.add.PtFl)return{w:!0}}return{w:!1}};fa.prototype.a0F=function(r){N.pR(r);
var Q=r.dataTransfer.getData("Text"),W=1,b=0;if(Q==""){N.SI(r,this,this.kt.indexOf(this.gR),b+(W>.5?0:1))}else if(Q!="--panel"){var Q=JSON.parse(Q),X=Q.tv;
if(X=="l")this.q9({d:$.HX,source:Q.sk,target:b,r1:W})}};fa.prototype.arv=function(r){var Q=this.gR,W=r.data,X;
if(Q.I.indexOf(W.l)==-1){var b={d:$.OB,l:r.target.jI.index,zA:W.L$};this.q9(b)}if(Q.I.indexOf(W.l)==-1)return;
this.yo();if(W.L$==1){X=this.ap4}else if(W.L$==2){X=this.asr}else if(W.L$==3){X=this.arY}else if(W.L$==4){X=this.a5p}else if(W.L$==5){X=this.a6T}else{X=this.iC}X.r();
X.update(Q);X.parent=this;var D=new km(e.E.L,!0);D.data={d:e.c.I2,MY:X,x:W.t4.x+1,y:W.t4.y+1};this.$(D)};
fa.prototype.r=function(){h4.prototype.r.call(this);this.JZ.r();this.HI.r();this.rw.r();this.J1.r();
if(this.Jz){this.Jz.r();this.da[0].r()}if(this.gR)this.ba(this.gR);var r="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var n=0;n<this.Fm.length;n++){var Q=this.Fm[n];Q.NM(N.lI(r[n],null,"miniscale"));if(n==1||n==2){Q.m.style.position="relative";
var W=N.S("img","gsicon");W.setAttribute("src",PIMG["tools/corner"]);W.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
Q.m.appendChild(W)}}};fa.prototype.ba=function(r,Q){if(r&&!r.yV)return;if(r==null)N.lB(this.ft,"disabled");
else N.Q5(this.ft,"disabled");this.gR=r;this.kt=Q;if(this.LM!=null){N.WC(this.Hb);this.LM=null;this.Iw=[]}if(r==null)return;
var W=!1;for(var n=0;n<r.Ev.length;n++)if(r.Ev[n].Xo)W=!0;this.LM=new ge(r.root,this,r,{Mi:0,$x:!1},{as6:W,a59:this.are()},this.Iw,0,new aV(0,0,r.e,r.n));
if(r.I.length==0||r.B[r.I[0]]==null)N.lB(this.ny,"disabled");else{N.Q5(this.ny,"disabled");if(r.I.length==1&&r.mz){var b=r.I[0];
for(var n=0;n<this.Iw.length;n++){var X=this.Iw[n];if(X.jI.index==b&&X.ny.scrollIntoView)X.ny.scrollIntoView({block:"nearest"})}}var D=r.B[r.I[0]];
if(D.wf()){this.JZ.In([[15,10,27]].concat(hG.tJ),[1].concat(hG.WU));var h=hG.Av.indexOf(D.iX);this.JZ.t(h+1)}else{this.JZ.In(hG.tJ,hG.WU);
var h=hG.Av.indexOf(D.iX);this.JZ.t(h)}this.HI.t(Math.round(100*D.opacity/255));this.rw.t([D.RV(0),D.RV(1),D.RV(2),D.RV(31)]);
var S=r.b4();this.JZ.fy(!S);this.J1.fy(!S);this.HI.fy(!S);this.rw.fy(!(S&&!D.RV(31)));this.J1.t(Math.round(100*(D.add.iOpa!=null?D.add.iOpa/255:1)))}this.agJ(null)};
fa.prototype.du=function(r,Q){this.Dr=r;this.J9=Q;var W=this.ny.getBoundingClientRect().height;if(55<W&&W<56)W=60.2;
var b=this.CK.getBoundingClientRect().height,X=Q-(W+b+3);this.Hb.style.height=X+"px";this.Hb.style.width=r+"px"};
fa.prototype.auh=function(r){this.q9({d:$.zq,g2:this.JZ.G()})};fa.prototype.aeV=function(r){this.q9({d:$.lo,g2:Math.round(255*this.HI.G()/100)})};
fa.prototype.adh=function(r){this.q9({d:$.Vi,g2:[this.rw.G(),[0,1,2,31]]})};fa.prototype.aje=function(r){this.q9({d:$.ql,g2:Math.round(255*this.J1.G()/100)})};
fa.prototype.aj=function(r){if(r.target==this.HH)this.abl();var Q=this.Jz.G();if(Q)N.Q5(this.wg,"disabled");
else N.lB(this.wg,"disabled");this.r();this.gR.yV=!0;this.ba(this.gR);this.gR.yV=!1};fa.prototype.abl=function(){var r=this.wg;
if(r==null){var Q=this.a3Y,W=this.Jz=new dL([0,6]);W.Z(e.E.f,this.aj,this);Q.appendChild(W.m);r=this.wg=N.S("span","disabled");
Q.appendChild(r);this.HH=new fk(null,["Kind",[12,48]],!1,[]);this.HH.Z(e.E.f,this.aj,this);var b=this.da=[new eJ(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new eM(null,null,8)];
b[0].Z(e.E.f,this.aj,this);b[1].Z("input",this.aj,this)}N.WC(r);r.appendChild(this.HH.m);r.appendChild(this.da[this.HH.G()].m)};
fa.prototype.av7=function(r){this.yo();this.avs(r,this.auH)};fa.prototype.a92=function(r){this.yo();
this.avs(r,this.anJ)};fa.prototype.avs=function(r,Q){var W=r.currentTarget;if(N.Z_(Q.m))return;r.stopPropagation();
var b=W.getBoundingClientRect();Q.r();Q.update(this.gR);Q.parent=this;var X=new km(e.E.L,!0);X.data={d:e.c.I2,MY:Q,x:b.left,y:b.top,a6E:!0};
this.$(X)};fa.prototype.avy=function(r){this.q9({d:$.aeU})};fa.prototype.aaf=function(r){this.q9({d:this.gR.I.length>1?$.bm:$.b$})};
fa.prototype.aaM=function(r){this.q9({d:$.Vl})};fa.prototype.aa2=function(r){var Q=this.gR;if(Q.I.length==0)return;
var W=Q.B[Q.I[0]],b=W.L$;this.q9({d:b<=0?W.Uk?$.sD:$.YL:b==3?$.S4:$.bQ})};fa.prototype.anK=function(r){this.q9({d:$.oY})};
fa.prototype.q9=function(r){var Q=new km(e.E.s,!0);Q.data=r;Q.b=m.M0;this.$(Q)};fa.prototype.XB=function(){var r=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[5,4]],Q=[this.anK,this.a92,this.av7,this.avy,this.aaf,this.aaM,this.aa2],W=this.ahp.bind(this);
for(var n=0;n<r.length;n++){var b=new fG("W",!1,r[n]);this.Fm.push(b);N.AM(b.m,Q[n].bind(this));this.CK.appendChild(b.m);
if(n>=r.length-3){var X=b.m;X.addEventListener("drop",W,!1);X.addEventListener("dragover",function(D){D.preventDefault()},!1);
X.addEventListener("dragenter",N.pR,!1)}}};fa.prototype.ahp=function(r){N.pR(r);var Q=0,W=this.Fm;while(W[Q].m!=r.currentTarget)Q++;
W[Q].jw();var b=r.dataTransfer.getData("Text");if(b=="")return;var b=JSON.parse(b);if(b.tv=="l"){var X={d:[$.bm,$.fE,$.YL][Q-4]};
if(this.gR.I.indexOf(b.sk)==-1)X.l=b.sk;this.q9(X)}if(Q!=6)return;if(b.tv=="sm"||b.tv=="s"){var D=new km(e.E.s,!0);
D.b=m.Wg;D.data={d:b.tv=="sm"?"st_clear":"st_delsingle",l:b.sk,sk:b.JL};this.$(D)}if(b.tv=="fm"||b.tv=="f"){this.q9({d:b.tv=="fm"?$.H$:$.Cp,src:b.sk,JL:b.JL})}if(b.tv=="m"||b.tv=="vm"){this.q9({d:b.tv=="m"?$.bQ:$.sD,l:b.sk})}};
function ge(r,Q,W,b,X,D,h,S){eg.call(this);this.parent=Q;this.l7=h;this.jI=r;D.push(this);this.vY=W;
this.gV=b;var a=Q.Hb,K=r.l,Y=W.I.indexOf(r.index)!=-1,I=null;this.ny=N.S("div",Y?"head selected":"head");
if(K.add.artb!=null){N.lB(this.ny,"artb");S=K.QT()}var d=this.a5H=Math.floor(10+K.a99/N.i()),j="height: "+d+"px;";
if(Y&&X.as6)j+="background-color:rgba(255,50,50,0.4);";this.ny.setAttribute("style",j);this.fD=S;var U=this.aue=this.afa.bind(this),f=X.a59&&!this.a0_();
if(!f){if(r.depth!=0){a.appendChild(this.ny);h+=d}if(K.gw()||K.$Y())if(K.By()){I=this.abe=N.S("div","lpineck");
a.appendChild(I);if(K.gw()){I.addEventListener("contextmenu",U,!1);var g=new fa.Vr(aA.get([12,1]),"sm","layerstyle",r.depth,0,null);
h+=21;g.parent=this;I.appendChild(g.m);var H=K.add.lmfx,u=H.masterFXSwitch.v;g.ky(u);for(var n=0;n<iq.order.length;
n++){var s=H[iq.lY[n]].v;if(s.length==0)continue;for(var _=0;_<s.length;_++){var g=new fa.Vr(aA.get(iq.names[n]),"s","layerstyle",r.depth,1,[n,_]);
h+=21;g.ky(u&&s[_].v.enab.v);g.parent=this;I.appendChild(g.m)}}}if(K.$Y()){var i=K.Xg(W).z;if(i)this.vh=N.S("div","thumb");
var g=new fa.Vr(aA.get([12,55]),"fm",null,r.depth,0,-1,i?this.vh:null);g.parent=this;I.appendChild(g.m);
this.arR=g.m;this.arR.addEventListener("contextmenu",U,!1);var H=K.add.SoLd.filterFX.v,M=H.filterFXList.v,u=H.enab.v;
g.ky(u);for(var n=M.length-1;n>=0;n--){var T=M[n].v,R=jv.hn(T);if(bu._6[R])R=bu._6[R];var z=T.Nm.v;if(jv.names[R])z=aA.get(jv.names[R]);
if(bu.names[R])z=aA.get(bu.names[R]);var G="afw_"+R,g=new fa.Vr(z,"f",G,r.depth,1,n);g.ky(u&&T.enab.v);
g.parent=this;I.appendChild(g.m)}}}}var V=K.add.lclr;if(V==null)V=0;V=V==0?b.Mi:ge.o7[V];this.ahk=V;
if(K.wf()&&(K.add.lsct==d1.O9||X.a59)){var y={Mi:V,$x:b.$x||K.RV(31)};for(var n=r.children.length-1;
n>=0;n--){var k=new ge(r.children[n],Q,W,y,X,D,h,S);h=k.aqX}}this.aqX=h}ge.prototype=new eg;ge.o7=[16777215,16711680,16748544,16763904,4513024,22015,11141375,7829367];
ge.prototype.aqh=function(){if(this.vV)return;var r=this.jI,Q=r.l,W=this.vY,b=this.gV,d=!0,y=!1;r.Rs(W,this.fD,!0);
var X=N.S("div","headL"),D=N.S("div","headR");this.ny.appendChild(X);this.ny.appendChild(D);var h=this.ny;
h.setAttribute("draggable","true");h.addEventListener("dragstart",this.Us.bind(this),!1);h.addEventListener("drop",this.r_.bind(this),!1);
h.addEventListener("dragover",this.WO.bind(this),!1);h.addEventListener("dragenter",N.pR,!1);h.addEventListener("dragleave",this.WF.bind(this),!1);
var S=[],a=[null,null,null,null],K=Q.cB(),Y=r;while(Y.parent){Y=Y.parent;K=K&&Y.l.cB()}if(Q.Cw){for(var n=r.index-1;
n>=0;n--){var j=W.B[n];if(!j.Cw){d=j.cB();break}}}var U=Q.cB()?K&&d?2:1:0;this.vV=N.S("div");var I=N.S("div",U==0?"sqr":"eye");
this.vV.appendChild(I);I.style.opacity=[.12,.33,1][U];var f=N.S("div","space");this.DY=N.S("div","label");
this.DY.setAttribute("style","max-width:calc(100% - "+(96+r.depth*20)+"px); margin-top:"+(this.a5H-19)/2+"px;");
this.DY.textContent=Q.getName();this.Nx=N.S("div","lock");this.ay3=N.S("div","lrfx");this.P6=N.S("div","arfx");
var g=this.aue,H=this.auz.bind(this);this.ny.addEventListener("click",H,!1);this.ny.addEventListener("contextmenu",g,!1);
var u=this.ahk,s=[u>>16,u>>8&255,u&255];for(var n=0;n<3;n++){s[n]=Math.round(.5*s[n]+.5*220)}this.vV.setAttribute("style","background-color:rgba("+s.join(",")+","+(u==0?0:1)+");");
var _=this.abh.bind(this);this.vV.addEventListener("mousedown",_,!1);this.vV.addEventListener("mouseover",_,!1);
this.P6.addEventListener("click",this.aop.bind(this),!1);S[0]=this.vV;S[1]=f;S[10]=this.DY;if(Q.wf()){var i=N.S("div","arrow"),M=N.S("div","folder");
this.$I(M);i.addEventListener("click",this.a11.bind(this),!1);S[2]=i;S[3]=M;i.className=Q.add.lsct==d1.O9?"open":"closed"}else{this.i6=N.S("div","thumb");
S[5]=this.i6;ge.dO(this.i6,Q.Kq);this.$I(this.i6);if(bu.get(Q.add))N.lB(Q.Kq.canvas,"gsicon")}var T=Q.SS();
if(T){this.tW=N.S("div","chain");this.Il=N.S("div","thumb");ge.dO(this.Il,Q.K_,!0);this.tW.style.opacity=T.oh?1:0;
this.tW.addEventListener("click",this.ae2.bind(this),!1)}var R=Q.tN()&&Q.add.vmsk;if(Q.add.vmsk&&!R){this.EO=N.S("div","chain");
this.Xs=N.S("div","thumb");ge.dO(this.Xs,Q.$l,!0);this.EO.style.opacity=Q.add.vmsk.oh?1:0;this.EO.addEventListener("click",this.aiK.bind(this),!1)}if(Q.$Y()&&Q.By()&&Q.Xg(W).z){ge.dO(this.vh,Q.IG,!1);
this.$I(this.vh);this.vh.addEventListener("click",H,!1);this.vh.addEventListener("contextmenu",g,!1)}if(r.index==W.I[0]){var z=Q.L$,G;
if(z<=0)G=this.i6;else if(z==1)G=this.Il;else if(z==3)G=this.vh;if(G)G.className="thumb active";if(Q.Uk&&this.Xs)this.Xs.className="thumb active"}f.setAttribute("style","width:"+Math.max(0,r.depth-1)*18+"px");
var V=Q.add.lspf!=null&&Q.add.lspf!=0||b.$x;this.Nx.style.opacity=Q.RV(31)?1:.5;S[4]=Q.Cw?N.S("div","clipp"):null;
S[6]=T?this.tW:null;S[7]=T?this.Il:null;S[8]=Q.add.vmsk&&!R?this.EO:null;S[9]=Q.add.vmsk&&!R?this.Xs:null;
var k=Q.dS,B=W.I;if(k!=0)for(var n=0;n<B.length;n++)if(W.B[B[n]].dS==k){y=!0;break}if(y){a[0]=N.S("div",Q.J8?"link":"linkX");
a[0].addEventListener("click",this.abZ.bind(this),!1)}a[1]=V?this.Nx:null;a[2]=Q.gw()?this.ay3:null;
a[3]=Q.gw()||Q.$Y()?this.P6:null;this.P6.className=Q.By()?"arfx open  gsicon":"arfx closed  gsicon";
var v=S;for(var n=0;n<v.length;n++)if(v[n])X.appendChild(v[n]);v=a;for(var n=0;n<v.length;n++)if(v[n])D.appendChild(v[n])};
ge.dO=function(r,Q,W){var b=Q.canvas;N.Q4(b);if(W)r.setAttribute("draggable","true");r.appendChild(b);
b.setAttribute("style",b.getAttribute("style")+"; pointer-events:none")};ge.prototype.$I=function(r){N.AM(r,function(Q){if(this.parent.ct[3]==0)return;
N.oE(Q);N.gJ(document.body,function(){clearTimeout(this.arH)}.bind(this));this.arH=setTimeout(function(){var W=new km("rclick",!0);
W.data={l:this.jI.index,L$:this.L$(Q),t4:N.ug(Q,document.body)};this.$(W)}.bind(this),600)}.bind(this))};
ge.eZ=function(r,Q){var W=Q.getBoundingClientRect();return(r.clientY-W.top)/W.height};ge.prototype.Us=function(r){r.stopPropagation();
var Q=r.target==this.Il?"m":r.target==this.Xs?"vm":"l";r.dataTransfer.setData("Text",JSON.stringify({tv:Q,sk:this.jI.index}))};
ge.prototype.WF=function(r){N.pR(r);this.na()};ge.prototype.r_=function(r){N.pR(r);this.na();var Q=r.dataTransfer.getData("Text"),W=this.parent.gR,b=ge.eZ(r,this.ny),X=this.jI.index;
if(b>.8){var D=!0,h=W.root.Nn(X);while(h.parent!=null){var S=h.parent,a=S.children;if(a.indexOf(h)!=0)D=!1;
h=h.parent}if(D){X=0;b=1}}if(Q==""){N.SI(r,this,this.parent.kt.indexOf(W),X+(b>.5?0:1))}else if(Q!="--panel"){var Q=JSON.parse(Q),K=Q.tv;
if(K=="l")this.q9({d:$.HX,source:Q.sk,target:X,r1:b});else if(K=="m"||K=="vm")this.q9({d:K=="m"?$.auk:$.mg,src:Q.sk,aS:X});
else ge.adN(r,Q,this)}};ge.adN=function(r,Q,W,b){var X=Q.tv,D=W.jI.index,h=Q.sk;if(X=="s"||X=="sm")W.q9({d:$.tn,src:h,aS:D,JL:Q.JL});
if(X=="f"||X=="fm")W.q9({d:$.api,src:h,aS:D,JL:Q.JL,UO:b==null?0:b})};ge.prototype.WO=function(r){N.pR(r);
var Q=ge.eZ(r,this.ny),W=this.jI.l.wf()&&.5<Q&&Q<.8;this.na();var b="inset 0 "+(W?0:Q>.5?-3:3)+"px "+(W?"5px black":"0 rgba(0,0,0,0.5)");
this.ny.style.boxShadow=b};ge.prototype.na=function(r){this.ny.style.boxShadow=""};ge.ae0=-1;ge.FO=!1;
ge.a9T=function(r){ge.FO=!1;document.body.removeEventListener("mouseup",ge.a9T)};ge.prototype.abh=function(r){if(r.button!=0)return;
if(r.type=="mousedown"){ge.FO=!0;document.body.addEventListener("mouseup",ge.a9T,!1)}if(r.type=="mouseover"&&(!ge.FO||ge.ae0==this.jI.index))return;
N.pR(r);this.q9({d:$.yu,l:this.jI.index});ge.ae0=this.jI.index};ge.prototype.a11=function(r){N.pR(r);
this.q9({d:$.ayp,l:this.jI.index})};ge.prototype.ae2=function(r){this.q9({d:$.eJ,l:this.jI.index})};
ge.prototype.aiK=function(r){this.q9({d:$.K2,l:this.jI.index})};ge.RH=0;ge.prototype.d9=function(r){this.q9({d:$.rT,l:this.jI.index,name:r})};
ge.prototype.aop=function(r){this.q9({d:$.aho,l:this.jI.index})};ge.prototype.abZ=function(r){this.q9({d:$.wk,l:this.jI.index})};
ge.prototype.afa=function(r){if(r.button!=2&&!N.apn(r))return;var Q=this.L$(r);if(Q!=3&&r.currentTarget==this.arR)Q=4;
if(r.target==this.ay3||r.currentTarget==this.abe)Q=5;var W=new km("rclick",!0);W.data={l:this.jI.index,L$:Q,t4:N.ug(r,document.body)};
this.$(W)};ge.prototype.L$=function(r){var Q=r.target,W=Q;return W==this.Xs?2:W==this.Il?1:W==this.i6?0:W==this.vh?3:-1};
ge.prototype.auz=function(r){var Q=r.target,j;if(Q==this.vV.firstChild||Q==this.P6||Q==this.tW||Q==this.EO||Q.tagName&&Q.tagName.toLowerCase()=="input")return;
var W=this.L$(r),b=this.parent.gR,X=this.jI.index,D=b.B[X];if(Q==this.Nx){this.q9({d:$.Vi,l:X,g2:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}if(Q==this.DY){var h=ge.RH;ge.RH=Date.now();if(Date.now()-h<300){this.ny.setAttribute("draggable","false");
var S=new h4.uC(this.DY,this.d9.bind(this))}else this.q9({d:$.OB,l:X,zA:W,eW:!0});return}if(r.button==0&&r.detail==2){if(Q==this.DY)return;
var a=new km(e.E.s,!0),K=new km(e.E.L,!0),Y=new km(e.E.Kk,!0);if(W==0&&D.add.SoCo){var d=E.M.vf(D.add.SoCo.Clr.v);
K.data={d:e.c.Re,wv:"colorpicker",Mi:d.o<<16|d.W<<8|d.k,ag:function(f){var g=E.M.rY({k:f&255,W:f>>>8&255,o:f>>16&255});
g={classID:"null",Clr:{t:"Objc",v:g}};var H=new km(e.E.s,!0);H.b=m.M0;H.data={d:$.L3,Hg:[X],xK:!0,h:{pj:1,P0:g}};
this.$(H)}.bind(this),OJ:!0}}else if(W==0&&(bu.get(D.add)||D.add.SoCo||D.add.GdFl||D.add.PtFl))K.data={d:e.c.dw,wv:h4.Ct.Lf};
else if(W!=0&&W!=-1)K.data={d:e.c.dw,wv:h4.Ct.Lf};else if(W==0&&D.add.SoLd)Y.data={r7:"placedLayerEditContents",Hf:{classID:"placedLayerEditContents"}};
else if(W==0&&D.add.TySh){a.b=m.st;a.data={d:"editCurr",Bs:X}}else K.data={d:e.c.Re,wv:"layerstyle",l:X};
this.$(Y.data?Y:K.data?K:a);return}if(r.button!=0)return;if(W==1||W==3){var U=W==3?D.Xg(b).z:D.SS();
j=U.Xo?b.u.Vu.join("")=="111"?1:2:0}var I={d:$.OB,l:X,zA:W,a1r:j,eW:!0};this.q9(I)};ge.prototype.q9=function(r){var Q=new km(e.E.s,!0);
Q.data=r;Q.b=m.M0;this.$(Q)};ge.prototype.a0_=function(){var r=this.jI.l,Q=r.add,W=this.parent.HH.G(),b=this.parent.da[W].G();
if(W==0){if(b[0]&&Q.SoLd==null&&Q.TySh==null&&r.UE())return!0;if(b[1]&&bu.get(Q)!=null)return!0;if(b[2]&&Q.TySh!=null)return!0;
if(b[3]&&Q.vstk!=null)return!0;if(b[4]&&Q.SoLd!=null)return!0;return!1}if(W==1)return r.getName().toLowerCase().indexOf(b.toLowerCase())!=-1};
fa.Vr=function(r,Q,W,b,X,D,h){eg.call(this);this.a2s=Q;this.JE=W;this.index=D;this.m=N.S("div","styleitem");
this.ny=N.S("div","head");this.ad2=null;if(Q=="f"){var S=this.ad2=N.S("div","headR");S.textContent="\u2699";
this.ny.appendChild(S)}this.vV=N.S("div","eye gsicon");this.DY=N.S("div","label");this.m.appendChild(this.ny);
this.ny.appendChild(this.vV);if(h){this.Il=h;this.ny.appendChild(h);this.ny.setAttribute("style","height: "+(26/N.i()+10)+"px")}this.DY.innerHTML=r;
this.m.setAttribute("style","margin-left: "+(24+b*16+X*22)+"px");this.ny.appendChild(this.DY);this.vV.addEventListener("click",this.aoW.bind(this),!1);
var a=this.m;a.setAttribute("draggable","true");a.addEventListener("dragstart",this.Us.bind(this),!1);
if(!0){a.addEventListener("drop",this.r_.bind(this),!1);a.addEventListener("dragover",this.WO.bind(this),!1);
a.addEventListener("dragenter",N.pR,!1);a.addEventListener("dragleave",this.WF.bind(this),!1)}this.m.addEventListener("click",this.$v.bind(this),!1)};
fa.Vr.prototype=new eg;fa.Vr.prototype.Us=function(r){r.stopPropagation();r.dataTransfer.setData("Text",JSON.stringify({tv:this.a2s,sk:this.parent.jI.index,JL:this.index}))};
fa.Vr.prototype.WF=function(r){N.pR(r);this.na()};fa.Vr.prototype.r_=function(r){N.pR(r);this.na();var Q=r.dataTransfer.getData("Text");
if(Q=="")return;var Q=JSON.parse(Q);ge.adN(r,Q,this.parent,this.index+(ge.eZ(r,this.ny)>.5?0:1))};fa.Vr.prototype.WO=function(r){N.pR(r);
var Q=ge.eZ(r,this.ny)>.5;this.na();var W="border-"+(Q?"bottom":"top");this.ny.style[W]="0.2em solid rgba(0,0,0,0.5)"};
fa.Vr.prototype.na=function(r){this.ny.style.border="none"};fa.Vr.prototype.ky=function(r){this.vV.style.opacity=r?1:.2};
fa.Vr.prototype.$v=function(r){if(r.target==this.vV)return;var Q=this.parent.jI.index;if(r.detail!=1&&this.JE!=null){var Q=this.parent.jI.index,W=new km(e.E.L,!0);
if(this.JE.indexOf("afw_")==0){var b=this.JE.slice(4),X=i3[b]||jv.a[b],D=r.target==this.ad2;if(!D&&!X)return;
W.data=m.M3.ai9(D?"blendOptions":b,{l:Q,index:this.index})}else W.data={d:e.c.Re,wv:this.JE,l:Q,index:this.index};
this.$(W)}else{if(r.target.className!="thumb")this.parent.q9({d:$.OB,l:Q,zA:0})}};fa.Vr.prototype.aoW=function(r){var Q={fm:$.AH,f:$.wy,sm:$.Rq,s:$.BI}[this.a2s];
this.parent.q9({d:Q,l:this.parent.jI.index,index:this.index})};function a_(){h4.call(this,"Guide Guy",!1,"---panels/guideguy",h4.Ct.avK);
this.W$=null;this.f5=new fk(null,E.iZ.Rh)}a_.prototype=new h4("");a_.prototype.CX=function(){this.Hm=[];
var r=N.S("div","form padded");this.ft.appendChild(r);r.setAttribute("style","width:200px");this.ft.appendChild(r);
var Q=N.S("canvas"),W=Q.getContext("2d");Q.width=Q.height=160;var b=[32,0,16,160,0,32,160,16,0,112,160,16],X="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),D=[0,0,0,0,0,0,0,0,0,0];
r.appendChild(this.f5.m);for(var n=0;n<10;n++){W.clearRect(0,0,160,160);W.setTransform(1,0,0,1,80,80);
W.rotate((n&3)*Math.PI/2);W.translate(-80,-80);W.fillStyle="rgba(0,0,0,0.3)";if(n<4){for(var h=0;h<12;
h+=4){W.fillStyle=h==0?"#000000":"rgba(0,0,0,0.3)";W.fillRect(b[h],b[h+1],b[h+2],b[h+3])}}else if(n<6){var S=8*6;
W.fillRect(0,0,S,160);W.fillRect(8*7,0,S,160);W.fillStyle="#000000";W.fillRect(8*14,0,S,160)}else if(n<8){W.fillRect(0,0,16,160);
W.fillRect(160-16,0,16,160);W.fillRect(32,0,160-64,160);W.fillStyle="#000000";W.fillRect(32,80-8,160-64,8*1)}else{W.fillRect(0,0,8*7,160);
W.fillRect(8*13,0,160,160);W.fillStyle="#000000";W.fillRect(8*7,80-8,8*6,8*1)}var a="<img src=\""+Q.toDataURL()+"\" class=\"autoscale gsicon\" /> ",K=new fq(a,0,200,null,n==4||n==5?0:2,null,null,4,X[n]);
K.parent=this;K.Z(e.E.f,this.al8,this);K.t(D[n]);K.r();this.Hm.push(K);r.appendChild(K.m)}var Y=[[11,14],[11,15,0]];
this.ol=[];for(var n=0;n<Y.length;n++){var d=new fG(Y[n],!0,null,!0);this.ol.push(d);d.Z("click",this.em,this);
r.appendChild(d.m)}for(var n=0;n<6;n++){W.setTransform(1,0,0,1,80,80);W.rotate(Math.floor(n/3)*Math.PI/2);
W.translate(-80,-80);W.clearRect(0,0,160,160);W.fillStyle="rgba(0,0,0,0.3)";W.fillRect(0,0,160,160);
W.clearRect(16,16,128,128);W.fillStyle="#000000";var j=n%3;W.fillRect([0,9,18][j]*8,0,16,160);var a="<img src=\""+Q.toDataURL()+"\" class=\"autoscale gsicon\" /> ",d=new fG(a,!1,null,!1);
this.ol.push(d);d.Z("click",this.em,this);r.appendChild(d.m)}};a_.prototype.r=function(){h4.prototype.r.call(this);
this.f5.r();if(this.Hm==null)return;for(var n=0;n<this.ol.length;n++)this.ol[n].r()};a_.prototype.al8=function(r){var Q=this.Hm,W=Q.indexOf(r.target),b=Math.floor(W/2),X=W&1,D=[];
for(var n=0;n<4;n++)D.push(Q[2*n+X].G());var h=-1;if(b==2&&D[2]!=0&&D[3]!=0&&D[4]!=0)h=4;if(b==3&&D[3]!=0&&D[2]!=0&&D[4]!=0)h=4;
if(b==4&&D[4]!=0&&D[2]!=0&&D[3]!=0)h=3;if(h!=-1)Q[2*h+X].t(0)};a_.prototype.em=function(r){var Q=this.W$,W=this.ol.indexOf(r.target),b=[[],[]];
if(Q==null)return;var X=Q.P?Q.P.rect:new aV(0,0,Q.e,Q.n),D=X.e,h=X.n;if(W==0){var S=[[],[]],a=this.f5.G();
for(var n=0;n<this.Hm.length;n++){var K=this.Hm[n].G();K=E.iZ.QO(K,Q.HW,Q.e,a);S[n&1].push(K)}var Y=[a_.aye(S[0],X.x,X.x+D),a_.aye(S[1],X.y,X.y+h)];
b=a_.Cu(Y);m.iw.Rv(b,Q.NO())}else if(W==1){}else{W-=2;var d=Math.floor(W/3),Y=[[],[]];Y[d].push([X.x,X.x+D/2,X.x+D,X.y,X.y+h/2,X.y+h][W]);
b=a_.Cu(Y);m.iw.Rv(b,Q.NO())}this.asW(b)};a_.Cu=function(r){var Q=[],W=[];for(var b=0;b<2;b++)for(var n=0;
n<r[b].length;n++){Q.push([b,r[b][n]]);W.push(-1)}return[Q,W]};a_.prototype.a6v=function(r){var Q=this.amz.indexOf(r.target)};
a_.prototype.asW=function(r){var Q=new km(e.E.s,!0);Q.b=m.$t;Q.data={d:"gids",XF:r};this.$(Q)};a_.aye=function(r,Q,W){var b=[],X=r[2],D=r[3],h=r[4],S=0;
if(X==0)S++;if(D==0)S++;if(h==0)S++;if(S>1&&X==0&&D==0){if(r[0]!=0)b.push(Q+r[0]);if(r[1]!=0)b.push(W-r[1]);
return b}var a=W-Q-r[0]-r[1];if(X==0){if(h==0){X=Math.floor(a/D);h=(a-X*D)/(X-1)}else{X=1;while(D*X+h*(X-1)+D+h<=a)X++}}else if(X!=0&&D!=0){if(X*D>a)X=Math.floor(a/D);
h=(a-X*D)/(X-1)}b.push(Q+r[0],W-r[1]);var D=(a-h*(X-1))/X;for(var n=1;n<X;n++){if(h==0)b.push(Q+r[0]+n*D);
else b.push(Q+r[0]+n*D+(n-1)*h,Q+r[0]+n*D+n*h)}return b};a_.prototype.ba=function(r,Q,W){this.W$=r};
a_.prototype.Sh=function(){if(N.Z_(this.ft)&&this.Hm==null)this.CX();this.r()};a_.prototype.VJ=function(r){this.f5.t(r.fl.dp)};
function eD(){h4.call(this,[9,2],!1,"---panels/properties",h4.Ct.Lf);this.a3l=null;this.vY=null;this.Ha=null;
this.agd=-1;this.Ow=null}eD.prototype=new h4("");eD.prototype.du=function(r,Q){this.Dr=r;this.J9=Q;r=r-16;
Q=Q-12;var W=this.Ow;if(W){W.style.width=r+"px";W.style.height=Q+"px";for(var n=0;n<3;n++)this.yQ[n].du(r-12,Q)}};
eD.prototype.CX=function(){this.Ow=N.S("div","padded scrollable");this.ft.appendChild(this.Ow);var r=N.S("span");
this.Ow.appendChild(r);this.oM=[new fG([0,3]),new fG([12,73]),new fG([12,91,0])];for(var n=0;n<this.oM.length;
n++){var Q=this.oM[n];Q.Z("click",this.a7l,this);r.appendChild(Q.m);if(n==2)Q.m.style.marginRight="0"}this.Ow.appendChild(N.S("hr"));
this.Sg=new eD.bO;this.Sg.parent=this;this.zF=new eD.Vs;this.zF.parent=this;this.Yj=new eD.Bv;this.Yj.parent=this;
this.yQ=[this.Sg,this.zF,this.Yj];this.Ow.appendChild(this.Sg.m);this.du(this.Dr,this.J9)};eD.prototype.a7l=function(r){var n=this.oM.indexOf(r.currentTarget);
this.RK(n);this.ao1(n==1?this.zF.fW:-1)};eD.prototype.RK=function(r){for(var n=0;n<3;n++){this.oM[n].jw();
var Q=this.yQ[n].m;if(Q.parentNode==this.Ow&&n!=r)this.Ow.removeChild(Q);if(Q.parentNode!=this.Ow&&n==r)this.Ow.appendChild(Q)}this.oM[r].V9()};
eD.prototype.ao1=function(r){var Q=this.vY.I[0],W=this.vY.B[Q],b=r+1;if(r==1&&W.Uk)return;var X=new km(e.E.s,!0);
X.b=m.M0;if(r!=1&&W.Uk){X.data={d:$.OB,l:Q,zA:2};this.$(X)}X.data={d:$.OB,l:Q,zA:b};this.$(X)};eD.prototype.r=function(){h4.prototype.r.call(this);
if(this.Ow==null)return;this.ba(this.vY);for(var n=0;n<3;n++){this.oM[n].r();this.yQ[n].r()}};eD.prototype.Sh=function(){if(!N.Z_(this.ft))return;
if(this.Ow==null){this.CX();this.VJ(this.Ha,d4.KF);this.ba(this.a3l);this.r()}};eD.prototype.ba=function(r){this.a3l=r;
if(this.Ow==null)return;this.Sg.ba(r);this.zF.ba(r);this.Yj.ba(r);if(r==null||r.I.length==0||r.B[r.I[0]]==null){N.lB(this.ft,"disabled");
this.vY=null;return}else N.Q5(this.ft,"disabled");var Q=r.I[0],W=r.B[Q],b=r.tt(),X=b[0],D=b[1];if(D.length!=0){var h=X[D[0]],S=h.add.vogk,a=!1;
if(S)for(var n=0;n<S.length;n++){var K=S[n].v;if(!E.X.am(K))continue;a=!0;Q=h.C_}}Q+=","+a;if(r!=this.vY||this.agd!=Q){this.vY=r;
this.agd=Q;if(a)this.RK(2);else if(W.L$<1&&!W.Uk||bu.get(W.add))this.RK(0);else this.RK(1)}this.oM[1].fy(this.zF.fW!=-1);
this.oM[2].fy(a)};eD.prototype.VJ=function(r,Q){this.Ha=r;if(this.Sg)this.Sg.VJ(r,Q);if(this.Yj)this.Yj.VJ(r,Q)};
eD.bO=function(){eg.call(this);this.m=N.S("div","form");this.adu=new aQ("Hello");this.kK=new fG([1,12,2],null,null,!0);
this.kK.m.style.am1="right";this.kK.Z("click",this.qj,this);this.m.appendChild(this.adu.m);this.m.appendChild(this.kK.m);
this.D1=null;this.Xr=null;this.vY=null;this.Ha=null;this.a40=-1;this.a5F=null;this.Y$=null;this.eF=new gN(0,!0,!0);
this.eF.parent=this;this.eF.Z(e.E.f,this.aux,this);this.m.appendChild(this.eF.m);this.VY=new c_(!0);
this.VY.parent=this;this.VY.Z(e.E.f,this.a81,this);this.KS=N.S("div","marged hiline");this.KS.appendChild(this.VY.m);
this.eL=new h5("GrFl",!0);this.eL.parent=this;this.eL.Z(e.E.f,this.avw,this);this.a8=N.S("div","marged hiline");
var r="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");for(var n=0;n<r.length;n++){var Q=this.eL.yh[r[n]].m;
this.a8.appendChild(Q)}this.uG=new h5("patternFill",!0);this.uG.parent=this;this.uG.Z(e.E.f,this.asU,this);
this.OC=N.S("div","marged hiline");var r=["Ptrn","Angl","Scl","Algn","phase"];for(var n=0;n<r.length;
n++){var Q=this.uG.yh[r[n]].m;this.OC.appendChild(Q)}this._8={};for(var W in bu.names){if(i3[W]==null)continue;
this._8[W]=new i3[W];this._8[W].Z(e.E.f,this.aon,this);this._8[W].parent=this}var b=this.av_=N.S("div","marged hiline");
this.bI=new gN(0,!0);b.appendChild(this.bI.m);this.bI.Z(e.E.f,this.rD,this);this.akh=null;this.ga=new jP;
this.ga.parent=this;this.ga.Z(e.E.f,this.rD,this);b.appendChild(this.ga.m)};eD.bO.prototype=new eg;eD.bO.prototype.aux=function(r){var Q=this.eF.G(),W=this.Y$,b=new aV(Q[0],Q[1],Q[2],Q[3]);
if(b.s4(W))return;this.Y$=b;var X=new km(e.E.s,!0);if(W.e==b.e&&W.n==b.n){X.b=m.$t;X.data={d:"trsl",Rp:b.x-W.x,qh:b.y-W.y}}else{X.b=m.YO;
X.data={d:"scl",Cv:[2,4],h:new cp(b.e/W.e,b.n/W.n),o1:0}}this.$(X)};eD.bO.prototype.du=function(r,Q){var W=this._8;
for(var b in W)W[b].du(r,Q)};eD.bO.prototype.qj=function(r){var Q=this.vY,W=Q.B[Q.I[0]],b=bu.get(W.add);
this.Xr.t(jv.fp(b));this.aon()};eD.bO.prototype.r=function(){for(var r in this._8)this._8[r].r();this.eL.r();
this.uG.r();this.ga.r();this.bI.r();this.kK.r();this.eF.r()};eD.bO.prototype.rD=function(r){var Q=new km(e.E.s,!0),W=this.bI.G(),b=this.akh;
if(r.target==this.bI&&W[2]==b[2]&&W[3]==b[3]){Q.b=m.$t;Q.data={d:"trsl",Rp:W[0]-b[0],qh:W[1]-b[1]}}else{var X=$.M5(new aV(W[0],W[1],W[2],W[3])),D=this.ga.al5();
D.artboardRect={t:"Objc",v:X};Q.b=m.M0;Q.data={d:$.nP,Uy:D}}this.$(Q)};eD.bO.prototype.a81=function(r){var Q=this.vY,W=Q.I[0];
if(Q.B[W].add.SoCo==null)return;var b=JSON.parse(JSON.stringify(Q.B[W].add.SoCo));b.Clr.v=this.VY.G();
this.Ep({pj:1,P0:b})};eD.bO.prototype.avw=function(r){var Q=this.vY,W=Q.I[0];if(Q.B[W].add.GdFl==null)return;
this.Ep({pj:2,P0:this.eL.G()})};eD.bO.prototype.asU=function(r){this.Ep({pj:3,P0:this.uG.G()})};eD.bO.prototype.Ep=function(r){this.awC(m.M0,{d:$.L3,Hg:[this.vY.I[0]],xK:!0,h:r})};
eD.bO.prototype.aon=function(r){this.awC(m.G9,{d:"edit_layer",h:this.Xr.G()})};eD.bO.prototype.awC=function(r,Q){var W=new km(e.E.s,!0);
W.b=r;W.data=Q;this.$(W)};eD.bO.prototype.ba=function(r,Q){var W=aA.get([0,3]),b=!1,X=!1,D=null;this.vY=r;
if(r&&r.B.length>0&&r.I.length!=0&&r.B[r.I[0]]){var h=r.B[r.I[0]],S=bu.get(h.add);if(S!=null&&this._8[S]!=null){D=this._8[S].m;
this.Xr=this._8[S];this._8[S].t(JSON.parse(JSON.stringify(h.add[S])));if(r.I[0]!=this.a40){var a=r.T6(r.I[0]-1);
this.a5F=E.hg(a)}this._8[S].tg(this.a5F);W=aA.get(bu.names[S]);b=!0}if(S==null&&h.add.artb==null){var K=this.Y$=E.p.jq(m.EA.J4(r));
X=!K.WB();this.eF.t([K.x,K.y,K.e,K.n],[r.HW,r.e,this.Ha.fl.dp])}if(h.add.SoCo){D=this.KS;this.VY.t(h.add.SoCo.Clr.v);
W=aA.get([6,48,0,0])}if(h.add.GdFl){D=this.a8;this.eL.update(r,h.add.GdFl);W=aA.get([6,48,0,1])}if(h.add.PtFl){D=this.OC;
this.uG.update(r,h.add.PtFl);W=aA.get([6,48,0,2])}if(h.add.artb){var Y=h.add.artb,d=h.QT();D=this.av_;
this.ga.anH(Y);var j=this.akh=[d.x,d.y,d.e,d.n];this.bI.t(j,[r.HW,r.e,this.Ha.fl.dp]);W=aA.get([1,16,0])}this.a40=r.I[0]}if(D!=this.D1){if(this.D1)this.m.removeChild(this.D1);
if(D!=null)this.m.appendChild(D);this.D1=D}this.adu.t(W);this.kK.m.style.display=b?"":"none";this.eF.m.style.display=X?"":"none"};
eD.bO.prototype.VJ=function(r,Q){this.Ha=r;this.eL.VJ(r,Q);this.uG.VJ(r,Q);if(Q==d4.AQ)this.ba(this.vY,r);
for(var W in this._8)this._8[W].VJ(r,Q)};eD.Vs=function(){eg.call(this);this.m=N.S("div","form");this.vY=null;
this.fW=0;var r=N.S("span","fitem");this.m.appendChild(r);this.oM=[new fG([6,2]),new fG([6,3]),new fG([6,50])];
for(var n=0;n<this.oM.length;n++){var Q=this.oM[n];Q.Z("click",this.axt,this);r.appendChild(Q.m)}this.JM=new aX([12,74],0,255);
this.JM.Z(e.E.f,this.Gv,this);this.m.appendChild(this.JM.m);this.SL=new aX([7,6],0,500,"px",2,!0);this.SL.Z(e.E.f,this.Gv,this);
this.m.appendChild(this.SL.m);this.Mt=new fG([4,11],null,null,!0);this.Mt.Z("click",this.alT,this)};
eD.Vs.prototype=new eg;eD.Vs.prototype.alT=function(){var r=new km(e.E.s,!0);r.b=m.G9;r.data={d:"start",cM:"nvrt"};
this.$(r)};eD.Vs.prototype.Gv=function(r){var Q=this.JM.G(),W=this.SL.G(),b=new km(e.E.s,!0);b.b=m.M0;
b.data={d:$.sK,FL:this.vY.I[0],D8:{uT:this.fW,JM:Q,SL:W}};this.$(b)};eD.Vs.prototype.r=function(){for(var n=0;
n<this.oM.length;n++)this.oM[n].r();this.JM.r();this.SL.r();this.Mt.r()};eD.Vs.prototype.ba=function(r){this.vY=r;
this.Ui()};eD.Vs.prototype.axt=function(r){this.Ui(this.oM.indexOf(r.currentTarget));this.parent.ao1(this.fW)};
eD.Vs.prototype.Ui=function(r){var Q=this.vY,W=this.oM;for(var n=0;n<3;n++){var b=W[n];b.jw();b.si()}if(Q==null||Q.B.length==0||Q.I.length==0||Q.B[Q.I[0]]==null)return;
var X=-1,D=Q.B[Q.I[0]];if(D.$Y()&&D.Xg(Q).z!=null){W[2].S8();X=2}if(D.add.vmsk){W[1].S8();X=1}if(D.SS()){W[0].S8();
X=0}if(r!=null)X=r;else if(D.Uk)X=1;else if(D.L$==3)X=2;else if(D.L$==1)X=0;this.fW=X;if(X==-1){this.JM.si();
this.SL.si();return}var h=D.YU(X);this.JM.S8();this.SL.S8();this.JM.t(h.JM);this.SL.t(h.SL);W[X].V9();
var S=this.Mt.m;if(X==0)this.m.appendChild(S);else if(S.parentNode==this.m)this.m.removeChild(S)};eD.Bv=function(){eg.call(this);
this.m=N.S("div","form");this.W$=null;this.Ha=null;this.cr=-1;this.eF=new gN(0,!1);this.Zu=new aX([12,15],-180,180,"\xB0",2);
this.zL=new gN(1,!0);this.fZ=new aX([12,94,0],0,100,null,2);this.PD=new aX([12,78],3,30);this.FF=new fG(["\u279C  ",[12,76,0]],null,null,!0);
this.eF.Z(e.E.f,this.Zh,this);this.Zu.Z(e.E.f,this.Zh,this);this.zL.Z(e.E.f,this.Zh,this);this.fZ.Z(e.E.f,this.Zh,this);
this.PD.Z(e.E.f,this.Zh,this);this.FF.Z("click",this.Zh,this)};eD.Bv.prototype=new eg;eD.Bv.prototype.r=function(){this.eF.r();
this.Zu.r();this.zL.r();this.fZ.r();this.PD.r()};eD.Bv.prototype.Zh=function(r){var Q=this.W$,W=E.X.Om(Q),b=r.target.G(),X=[this.eF,this.Zu,this.zL,this.fZ,this.PD,this.FF].indexOf(r.target);
if(X==0){var D=[];D[0]=b[0];D[1]=b[1];D[2]=D[0]+b[2];D[3]=D[1]+b[3];b=D}if(X==1)b=b*Math.PI/180;var h={0:1,1:2,2:3,3:3,4:4}[X];
W[h]=b;var S=new km(e.E.s,!0);S.b=m.M0;S.data={d:$.lW,h:W,ava:X==5};this.$(S)};eD.Bv.prototype.ba=function(r){var Q=this.m;
this.W$=r;if(r==null)return;var W=this.Ha,b=[r.HW,r.e,W.fl.dp],X=E.X.Om(r),D=X[0],h=X[1];if(h==null)return;
var S=D!=this.cr;this.cr=D;if(S)N.WC(Q);if(S)Q.appendChild(this.eF.m);if(S)Q.appendChild(this.Zu.m);
this.eF.t([h[0],h[1],h[2]-h[0],h[3]-h[1]],b);this.Zu.t(X[2]*180/Math.PI);if(D==2){if(S)Q.appendChild(this.zL.m);
var a=X[3];this.zL.t(a,b)}if(D==7||D==8){if(S)Q.appendChild(this.fZ.m);this.fZ.t(X[3])}if(D==8){if(S)Q.appendChild(this.PD.m);
this.PD.t(X[4])}Q.appendChild(this.FF.m)};eD.Bv.prototype.VJ=function(r,Q){this.Ha=r;this.ba(this.W$)};
function bQ(r){h4.call(this,r.name,!0);this.gR=r;this.zb=null;this.X1=new ke(this.ft);this.X1.parent=this}bQ.prototype=new h4;
bQ.cd=function(){var r=document.createElement("canvas"),Q=document.createElement("canvas"),W=16,b=E.Q(16*16*4);
E.w8(b,W,W,8);var X=E.scale.iF(b,W,W);return{Ic:r,Qc:Q,qv:r.getContext("2d"),Tu:Q.getContext("2d"),Qi:X}}();
bQ.prototype.adT=function(){if(this.gR.u1())return window.confirm(aA.get([22,6,3])+" "+this.gR.name+". "+aA.get([22,6,4]));
return!0};bQ.prototype.VJ=function(r,Q){this.zb=r};bQ.prototype.ba=function(r){this.Sh();this.YY()};
bQ.prototype.du=function(r,Q){if(r<=0||Q<=0)return;this.Dr=r;this.J9=Q;var W=this.gR,b=bQ.cd,X=N.i();
W.u.qv.e=Math.floor(r*X);W.u.qv.n=Math.floor(Q*X);N.Jx(b.Ic,r,Q);N.Jx(b.Qc,r,Q);N.Jx(gn._j(),r,Q);if(W.u._==0)W.u._=m.uj.aw6(W.e,W.n,r*X,Q*X);
this.YY()};bQ.prototype.Sh=function(){var r=this.ft.firstChild,Q=bQ.cd,W=gn.Kz&&this.gR.add.fvec==null;
if(!W&&r==gn._j()||W&&r==Q.Ic)this.ft.removeChild(r);var b=W?gn._j():Q.Ic;if(!N.Z_(b))this.ft.appendChild(b)};
bQ.prototype.YY=function(){if(this.zb==null)return;var r=this.gR,Q=gn.Kz&&this.gR.add.fvec==null;if(Q)this.a7A();
else this.Gm()};bQ.prototype.a7A=function(){if(gn.Kz&&bQ.bv==null){var r=bQ.bv=[],Q=[0,2,8,32,128];for(var n=0;
n<5;n++)r[n]=[new bQ.qm(!1,Q[n],!1),new bQ.qm(!0,Q[n],!1)];r.push([new bQ.qm(!1,0,!0),new bQ.qm(!0,0,!0)])}var W=this.gR,b=bQ.cd,Y,U=0,_,i;
if(W.ZU==null)return;var X=W.u,D=X.qv.e,h=X.qv.n,S=gn.hA;b.qv.clearRect(0,0,D,h);var a=this.adg(W);if(X.mR==null)X.mR=new gn.yC(D,h);
if(a)X.mR.set(b.Ic);else{gn._h(X.mR);gn.YM(1)}var K=X.Au(0,0);if(bQ.a9o==null)bQ.a9o=new Float32Array(4*1024);
var d=[0,0,0,0],j=bQ.a9o;if(W.add.artd){j.fill(0);d=bQ.pA(W);var I=W.e,f=W.n,s=0;for(var n=0;n<W.B.length;
n++){var g=W.B[n],H=g.add.artb;if(H==null||!g.cB())continue;var u=g.QT();j[U]=u.x/I;j[U+1]=u.y/f;j[U+2]=u.e/I;
j[U+3]=u.n/f;U+=4;if(U==j.length)break}if(U>2*4)s++;if(U>8*4)s++;if(U>32*4)s++;Y=bQ.bv[s+1];j=new Float32Array(j.buffer,0,[2,8,32,128][s]*4)}else Y=bQ.bv[W.c7?5:0];
var M=W.eC();if(M==null)Y=Y[0];else{Y=Y[1];i=M[W.add.fcmy==1?6:4];_=M[2]}gn.OT(D,h);gn.YM(0);gn.OT(D,h);
Y.BZ();var T=new au;T.scale(D,h);T.concat(X.Ab(!0));T.scale(1/W.e,1/W.n);var R=[T.mu,T.k,0,T.th,T.HR,0,T.rn,T.NQ,1];
Y.SG(X.mR.G6,W.ZU.G6,new Float32Array(R),new Float32Array([D/8,h/8,K.x/D,K.y/h]),W.e,W.n,1/W.u._,D,h,new Float32Array(d),j,new Float32Array(E.B1.ob(E.B1.BM(X.Vu))),i,_);
S.drawArrays(S.TRIANGLES,0,6)};bQ.pA=function(r){return[0,0,0,0]};bQ.ac5=function(r){var Q=E.M.vf(r.v),W=[Q.o/255,Q.W/255,Q.k/255,1];
for(var n=0;n<4;n++)W[n]=Math.min(1,W[n]);return W};bQ.mx=function(r,Q){var W=r[2]*255;if(gn.Kz)W=Q?0:Math.max(1,W);
return"rgba("+r[0]*255+","+r[1]*255+","+W+","+r[3]+")"};bQ.yK=function(r){if(gn.Kz)for(var n=0;n<r.length;
n+=4){if(r[n+2]==0)r[n+2]=3}};bQ.prototype.Gm=function(){var r=this.gR,Q=bQ.cd;if(r.buffer==null)return;
var W=r.u,b=W.qv,X=b.e,D=b.n,h=new aV(0,0,r.e,r.n);Q.Tu.clearRect(0,0,X,D);Q.qv.clearRect(0,0,X,D);var S=W.Ab(!0),a=S.clone();
a.j4();if(r.add.artd==null){Q.qv.save();var K=a.lE(new cp(0,0));a.translate(-K.x,-K.y);Q.qv.translate(Math.round(K.x),Math.round(K.y));
Q.qv.fillStyle=Q.Qi;if(r.c7)Q.qv.fillRect(-5e3,-5e3,2e4,2e4);else{this.jv(E.p.vk(h),a,Q.qv);Q.qv.fill()}Q.qv.restore()}else{Q.qv.fillStyle=bQ.mx(bQ.pA(r));
Q.qv.fillRect(0,0,X,D);Q.qv.save();Q.qv.setTransform(a.mu,a.k,a.th,a.HR,a.rn,a.NQ);var Y=r.root.children;
for(var n=0;n<Y.length;n++){var d=Y[n].l;if(d.add.artb==null||!d.cB())continue;var j=d.QT(),U=d.Qs();
if(U!=0)continue;Q.qv.fillStyle=Q.Qi;Q.qv.save();Q.qv.scale(1/W._,1/W._);Q.qv.fillRect(W._*j.x,W._*j.y,j.e*W._,j.n*W._);
Q.qv.restore()}Q.qv.restore()}if(W.uD.length!=b.O()){W.uD=E.Q(b.O());W.$o=E.Q(b.O()*4)}W.$o.fill(0);
if(r.add.fvec){var a=W.Ab(!0);a.j4();Q.qv.save();var I=E.p.vk(W.qv);E.p.D(I.C,W.Ab(!0),I.C);var f=E.p.QL(I.C);
Q.qv.setTransform(a.mu,a.k,a.th,a.HR,a.rn,a.NQ);this.jv(E.p.vk(new aV(0,0,r.e,r.n)),null,Q.qv);Q.qv.clip();
r.root.aou(r,Q.qv,this.zb,f);Q.qv.restore()}else{E.scale.U_(r.buffer,h,S,W.$o,b,r.c7);var g=r.eC();if(g)ICC.U.applyLUT(g[r.add.fcmy==1?5:3],g[2],W.$o,W.$o);
if(W.Vu[0]+W.Vu[1]+W.Vu[2]!=3)E.B1.Lw(W.$o,W.$o,E.B1.BM(W.Vu));Q.Tu.putImageData(new ImageData(new Uint8ClampedArray(W.$o.buffer),b.e,b.n),0,0);
Q.qv.drawImage(Q.Qc,0,0);Q.qv.getImageData(0,0,1,1)}this.adg(r)};bQ.prototype.adg=function(r){var Q=r.u,W=Q.Vu[0]+Q.Vu[1]+Q.Vu[2],b=bQ.cd,X=!1,D=[];
for(var n=0;n<r.I.length;n++){var h=r.B[r.I[n]];if(h==null)continue;var S=h.L$;if(S!=1&&S!=3)continue;
var a=S==1?h.SS():h.Xg(r).z;if(a.Xo)D.push(a)}for(var n=0;n<r.Ev.length;n++)if(r.Ev[n].Xo)D.push(r.Ev[n]);
for(var n=0;n<D.length;n++){var a=D[n];this.avz(a,Q,D.length==1&&W==0?2:1,a.color,a.Mi);X=!0}var K=this.zb;
X=this.av9(r,b.qv,Q,D.length!=0)||X;if(r.P&&K.EQ&&K.fl.lz){this.avz(r.P,Q,0,0,null);X=!0}return X};bQ.prototype.avz=function(r,Q,W,b,X){var D=0;
if(X)D=Math.round(X.k)<<16|Math.round(X.W)<<8|Math.round(X.o);var h=Q.Ab(!0),S=Q.qv,a=new aV(0,0,Q.gR.e,Q.gR.n),K=bQ.cd;
if(Q.uD.length!=S.O()){Q.uD=E.Q(S.O());Q.$o=E.Q(S.O()*4)}Q.uD.fill(b);Q.$o.fill(0);var Y=r.channel,d=r.rect;
E.scale.D(Y,d,h,Q.uD,S);if(W==0){var j=new Uint32Array([4278190080,4294967295]);bQ.yK(new Uint8Array(j.buffer));
E.P.adp(Q.uD,Q.$o,S,j,N.i()>1.9)}else{E.P.a5C(Q.uD,Q.$o,S,W,D);bQ.yK(Q.$o)}var U=new ImageData(new Uint8ClampedArray(Q.$o.buffer),S.e,S.n);
K.Tu.putImageData(U,0,0);K.qv.save();if(W!=0){var I=new aV(0,0,a.e,a.n),f=h.clone();f.j4();this.jv(E.p.vk(I),f,K.qv);
K.qv.clip()}K.qv.drawImage(K.Qc,0,0);K.qv.restore()};bQ.prototype.av9=function(r,Q,W,b){var X=r.g.Wd!=null||r.g.ac!=null||r.g._e!=null||r.g.Ii.length!=0||r.g.Ql.length!=0,D=this.zb,h=D.fl,S=b8.q6[D.RF],a=Math.round(12*N.i()),K=a/r.u._,Y=W.Ab(!0);
Y.j4();Q.save();Q.setTransform(Y.mu,Y.k,Y.th,Y.HR,Y.rn,Y.NQ);if(r.add.artd){var d=bQ.pA(r)[0];d=d<.5?d+.5:d-.5;
d=""+Math.round(d*255).toString(16);while(d.length<2)d="0"+d;Q.fillStyle="#"+d+d+d;Q.font=K+"px sans-serif";
for(var n=0;n<r.B.length;n++){var j=r.B[n];if(j.add.artb==null||!j.cB())continue;var I=j.QT();Q.fillText(j.getName(),I.x+2,I.y-K*.7);
X=!0}}function f(iW){return iW==1||iW==2||iW==4||iW==5}var g=bQ.mx([.1,.5,1,1]),H=bQ.mx([1,1,1,1]);if(D.EQ&&h.ZS){Q.fillStyle=Q.strokeStyle=g;
Q.lineWidth=1.5/W._;var u=r.tt(),s=u[0],_=u[1];for(var i=0;i<_.length;i++){var j=s[_[i]],M=j.add.vmsk,T=M.V,R=E.p.Mf(T);
this.jv(R,null,Q);Q.stroke();X=!0;var z=3*N.i()/W._,G=T.length-3;for(var n=0;n<M.Sp.length;n++){var V=E.A.Ar(T,M.Sp[n]);
if(V==null)continue;var y=V.x,k=V.y;Q.beginPath();var B=n==0;if(M.Lt)B=!B;if(B){Q.moveTo(y-z,k-z);Q.lineTo(y+z,k+z);
Q.moveTo(y-z,k+z);Q.lineTo(y+z,k-z);Q.stroke()}else{Q.arc(y,k,z*1,0,2*Math.PI);Q.fill()}X=!0}if(r.I.length!=1)continue;
var v=-1;for(var n=0;n<T.length;n++){if(T[n].type>5)continue;if(T[n].type==0||T[n].type==3){if(T[n].xo!=-1)v++;
continue}if(M.I.indexOf(v)!=-1){var y=T[n].F.x,k=T[n].F.y;Q.fillRect(y-z*.8,k-z*.8,2*z*.8,2*z*.8)}if(M.UJ.indexOf(n)!=-1){var l=T[n],F=[l.F];
Q.beginPath();Q.moveTo(l.f0.x,l.f0.y);Q.lineTo(l.F.x,l.F.y);Q.lineTo(l.rP.x,l.rP.y);var L=T[n-1],Z=T[n+1];
if(L&&f(L.type)&&M.UJ.indexOf(n-1)==-1){Q.moveTo(L.F.x,L.F.y);Q.lineTo(L.rP.x,L.rP.y);F.push(L.rP)}if(Z&&f(Z.type)&&M.UJ.indexOf(n+1)==-1){Q.moveTo(Z.F.x,Z.F.y);
Q.lineTo(Z.f0.x,Z.f0.y);F.push(Z.f0)}Q.stroke();if(!l.F.s4(l.f0))F.push(l.f0);if(!l.F.s4(l.rP))F.push(l.rP);
for(var t=0;t<F.length;t++){var V=F[t],y=V.x,k=V.y;if(t==0&&(l.type==2||l.type==5))Q.fillRect(y-1.2*z,k-1.2*z,2.4*z,2.4*z);
else{Q.beginPath();Q.arc(y,k,z*1.2,0,2*Math.PI);Q.fill();if(t!=0)Q.fillStyle=H;Q.beginPath();Q.arc(y,k,z*.8,0,2*Math.PI);
Q.fill();Q.fillStyle=g}}}X=!0}}}Q.lineWidth=1/W._;if(r.g.Gi){Q.fillStyle=Q.strokeStyle=g;var Z={C:[],H:[]},A=bQ.acf;
if(A==null){A=bQ.acf={C:[1,0],H:["M"]};for(var n=1;n<30;n++){var o=Math.PI*2*n/30;A.C.push(Math.cos(o),Math.sin(o));
A.H.push("L")}A.H.push("Z","M","L","M","L");A.C.push(-.5,0,.5,0,0,-.5,0,.5)}for(var n=0;n<r.g.Gi.length;
n++){var L=m.$N.alM(r.g.Gi[n],W),O=new au(L[0],0,0,L[0],L[1],L[2]);E.p.concat(Z,A,O)}this.jv(Z,null,Q);
Q.stroke();X=!0}var x=new au(1,0,0,1,.5/W._,.5/W._);if(r.c7){Q.fillStyle=Q.strokeStyle=g;var Z={C:[0,0,r.e,0,r.e,r.n,0,r.n],H:["M","L","L","L","Z"]};
this.jv(Z,x,Q);Q.stroke();X=!0}if(r.g.E1){Q.fillStyle=Q.strokeStyle=bQ.mx([0,0,0,.5]);this.jv(r.g.E1,null,Q,!0);
Q.fill("evenodd")}Q.fillStyle=Q.strokeStyle=bQ.mx([0,0,0,gn.Kz&&r.add.fvec==null?1:.5],!0);if(r.g.Wd){this.jv(r.g.Wd,null,Q);
Q.fill()}if(r.g.ac){this.jv(r.g.ac,x,Q);Q.stroke()}for(var C in r.g.aR)if(r.g.aR[C].ac){this.jv(r.g.aR[C].ac,null,Q);
Q.stroke();X=!0}Q.beginPath();var z=(4*N.i()+.5)/W._,J=r.g.in;for(var n=0;n<J.length;n+=2){X=!0;var y=J[n],k=J[n+1];
Q.rect(y-z,k-z,2*z,2*z)}Q.stroke();var J=r.g.aj_;Q.beginPath();var z=4*N.i()/W._;for(var n=0;n<J.length;
n+=2){X=!0;var y=J[n],k=J[n+1];Q.moveTo(y+z,k);Q.arc(y,k,z,0,2*Math.PI)}Q.fill();var J=r.g.h2;Q.fillStyle=bQ.mx([1,1,1,1]);
Q.beginPath();var z=6*N.i()/W._;for(var n=0;n<J.length;n+=2){X=!0;var y=J[n],k=J[n+1];Q.moveTo(y+z,k);
Q.arc(y,k,z,0,2*Math.PI)}Q.fill();var z=4*N.i()/W._;for(var n=0;n<J.length;n+=2){X=!0;var y=J[n],k=J[n+1];
Q.fillStyle=bQ.mx(r.g.eD.indexOf(n>>>1)!=-1?[0,.6,1,1]:[.7,.7,.7,1]);Q.beginPath();Q.moveTo(y+z,k);Q.arc(y,k,z,0,2*Math.PI);
Q.fill()}if(r.g.Ii.length!=0){for(var n=0;n<r.g.Ii.length;n++){var q=r.g.Ii[n],fd=q[1],w;if(b){w=Q.getImageData(fd.x,fd.y,fd.e,fd.n);
E.q.YB("norm",q[0],fd,new Uint8Array(w.data.buffer),fd,fd,1)}else w=new ImageData(new Uint8ClampedArray(q[0].buffer),fd.e,fd.n);
Q.putImageData(w,fd.x,fd.y)}}var P=.5/W._;Q.lineWidth=1/W._;if(r.g.YZ){X=!0;var fc=r.g.YZ,p=fc.BV,R={H:[],C:[]};
for(var n=0;n<fc.t0.length;n++)E.p.concat(R,E.p.vk(fc.t0[n]));R.C=R.C.concat(p);for(var n=0;n<p.length;
n+=4){R.H.push("M","L")}for(var n=0;n<R.C.length;n++){R.C[n]+=P}Q.strokeStyle=bQ.mx([.9,.2,.2,1]);this.jv(R,null,Q);
Q.stroke();var gG=N.i(),fh=2/W._;Q.font=K*.9+"px sans-serif";for(var n=0;n<p.length;n+=4){var y=p[n],k=p[n+1],fJ=p[n+2],cF=p[n+3],j_=Math.sqrt((cF-k)*(cF-k)+(fJ-y)*(fJ-y));
j_=E.iZ.HE(j_,r.HW,D,k==cF?r.e:r.n);var gY=new cp((y+fJ)/2,(k+cF)/2);Q.fillStyle=bQ.mx([.9,.2,.2,1]);
var kc=Q.measureText(j_).width;Q.fillRect(gY.x-kc/2-fh*gG,gY.y-3.5*fh*gG,kc+2*fh*gG,7*fh*gG);Q.fillStyle=bQ.mx([1,1,1,1]);
Q.save();Q.translate(gY.x-kc/2,gY.y+2*fh*gG);Q.scale(.1,.1);Q.font=K*9+"px sans-serif";Q.fillText(j_,0,0);
Q.restore()}}if(D.EQ){if(h.Zi){var el=E.iZ.QO(h.fe,r.HW,r.e,h.K$),iN=el;if(h.K$==4)iN*=r.n/r.e;this.w8(r,Q,el,iN,1,h.wJ);
X=!0}if(h.UX&&r.u._>7&&r.add.fvec==null){this.w8(r,Q,1,1,.5,h.wJ);X=!0}if(h.RE){var c$=r.NO(),dB=r.vE(),aL=Math.max(r.u.qv.e,r.u.qv.n)/r.u._;
aL=Math.max(Math.max(r.e,r.n)*2,aL);Q.beginPath();Q.strokeStyle=bQ.mx([0,1,1,1]);for(var n=0;n<c$[0].length;
n++){var aB=c$[0][n],f3=c$[1][n];if(f3!=-1&&f3!=dB)continue;var jC=W.Au(aB[1],aB[1]),bc=W.GF(Math.floor(jC.x)+.5,Math.floor(jC.y)+.5);
if(aB[0]==0){var iA=bc.x;Q.moveTo(iA,-aL);Q.lineTo(iA,aL)}else{var bL=bc.x;Q.moveTo(-aL,bL);Q.lineTo(aL,bL)}X=!0}Q.stroke()}var an=r.Pq;
if(h.Pq&&an.length!=0){Q.font=K*.8+"px sans-serif";var dp=[],im=[];for(var n=0;n<an.length;n++){var a5=m.sn.DN(an,n);
dp.push(a5);if(r.W6.indexOf(n)!=-1)im.push(a5)}dp.reverse();var bg=Date.now();dp=E.rect.mN([0,0,r.e,r.n],dp);
for(var t=0;t<2;t++)for(var n=0;n<dp.length;n++){var fM=dp[n],v=fM[4],eT=v!=null?an[v]:null;if(eT&&t==0||eT==null&&t==1)continue;
var y=Math.round(fM[0]),k=Math.round(fM[1]),fJ=Math.round(fM[2]),cF=Math.round(fM[3]);Q.strokeStyle=Q.fillStyle=bQ.mx(eT?[0,.7,.7,1]:[.8,.8,.8,1]);
Q.strokeRect(y+P,k+P,fJ-y,cF-k);var ev=n+1,fU=Q.measureText(ev),kc=fU.width;Q.fillRect(y,k,kc+K/2,K);
Q.fillStyle=bQ.mx([1,1,1,1]);Q.fillText(ev,y+K/4,k+K*.8)}var fh=2/r.u._,e8=2*fh;for(var n=0;n<im.length;
n++){var fM=im[n],y=Math.round(fM[0]),k=Math.round(fM[1]),fJ=Math.round(fM[2]),cF=Math.round(fM[3]);
Q.strokeStyle=Q.fillStyle=bQ.mx([1,.6,0,1]);Q.strokeRect(y+P,k+P,fJ-y,cF-k);var ej=[y,k,fJ,k,fJ,cF,y,cF];
for(var fV=0;fV<ej.length;fV+=2){var iA=ej[fV],bL=ej[fV+1],he=ej[fV+2&7],gZ=ej[fV+3&7];Q.fillRect(iA-fh,bL-fh,e8,e8);
Q.fillRect(Math.round((iA+he)/2)-fh,Math.round((bL+gZ)/2)-fh,e8,e8)}}X=!0}var hQ=r.add.Anno;if(hQ&&hQ.length!=0)for(var n=0;
n<hQ.length;n++){var aJ=hQ[n],cs=aJ[2],iA=aJ[0]-P,bL=aJ[1]-P,e8=30/W.Yl,fN=.4*e8,j4=.6*e8;Q.beginPath();
Q.moveTo(iA,bL+j4);Q.lineTo(iA,bL);Q.lineTo(iA+e8,bL);Q.lineTo(iA+e8,bL+e8);Q.lineTo(iA+fN,bL+e8);Q.closePath();
Q.lineTo(iA+fN,bL+j4);Q.lineTo(iA+fN,bL+e8);if(n==r.u.ah){Q.lineWidth*=5;Q.strokeStyle=bQ.mx([0,0,0,.5]);
Q.stroke();Q.lineWidth/=5}Q.fillStyle=bQ.mx([cs.o/255,cs.W/255,cs.k/255,1]);Q.fill();Q.strokeStyle=bQ.mx([0,0,0,1]);
Q.stroke()}}Q.strokeStyle=bQ.mx([1,0,0,1]);if(r.g._e){this.jv(r.g._e,x,Q);Q.stroke()}Q.restore();if(D.k2){if(r.u.Rz==null||r.u.Rz.width!=r.u.qv.e||r.u.P1.height!=r.u.qv.n){r.u.Rz=Q.createImageData(r.u.qv.e,E.iZ.ZR);
r.u.P1=Q.createImageData(E.iZ.ZR,r.u.qv.n)}var S=b8.q6[D.RF],hL=0,fv=0,al=r.e,dD=r.n;if(r.vE()!=-1){var I=r.B[r.vE()].QT();
hL=I.x;fv=I.y;al=I.e;dD=I.n}hL*=W._;fv*=W._;var W=r.u,kd=[1,r.HW,r.HW/2.54,r.HW/25.4,al/100][h.dp],gv=W._*r.e/2,j$=W._*r.n/2,i9=[W._*kd,new cp(W.R.x+(hL+gv*kd-gv),W.R.y+(fv+j$*kd-j$))];
if(h.dp==4)kd*=dD/al;var bv=[W._*kd,new cp(W.R.x+(hL+gv*kd-gv),W.R.y+(fv+j$*kd-j$))],jk=this.X1.td;E.iZ.a4l(W,S["--text-color"],S["--bg-input"],Math.floor(jk.x),Math.floor(jk.y),i9,bv);
var cM=g_.a7p(W._,bQ.mx([1,1,1,1]),r.e,r.n);bQ.yK(r.u.P1.data);bQ.yK(r.u.Rz.data);Q.putImageData(r.u.P1,0,0);
Q.putImageData(r.u.Rz,0,0);Q.putImageData(cM,0,r.u.qv.n-cM.height)}if(r.g.Ql.length!=0){for(var n=0;
n<r.g.Ql.length;n++){var q=r.g.Ql[n],fd=q[1];Q.putImageData(new ImageData(new Uint8ClampedArray(q[0].buffer),fd.e,fd.n),fd.x,fd.y)}}return X||D.k2};
bQ.prototype.w8=function(r,Q,W,b,X,D){while(W*r.u._<4){W*=2;b*=2}var h=r.e,S=r.n,a=.5/r.u._;Q.strokeStyle=bQ.mx([.5,.5,.5,X],!0);
Q.save();Q.rect(0,0,h,S);Q.clip();Q.beginPath();for(var K=0;K<=h;K+=W){Q.moveTo(K+a,0);Q.lineTo(K+a,S)}if(D==0){for(var Y=0;
Y<=S;Y+=b){Q.moveTo(0,Y+a);Q.lineTo(h,Y+a)}}else{b*=Math.sqrt(4/3);var d=b*Math.floor(h/b),j=h*(b/(2*W));
for(var Y=-d;Y<=S+d;Y+=b){Q.moveTo(0,Y);Q.lineTo(h,Y-j);Q.moveTo(0,Y);Q.lineTo(h,Y+j)}}Q.stroke();Q.restore()};
bQ.prototype.jv=function(r,Q,W,b){W.beginPath();if(b)W.rect(-1e5,-1e5,1e6,1e6);var X=E.p.clone(r);if(Q)E.p.D(X.C,Q,X.C);
Typr.U.pathToContext({cmds:X.H,crds:X.C},W)};bQ.qm=function(r,Q,W){gn.iQ.call(this);var b=Q!=0,X=W?"true":"in01(sCoord)",D="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\t"+(r?"uniform sampler2D lut;  uniform float N;  "+gn.gZ.OV:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(b?"uniform vec4 bgClr;  uniform vec4 ars["+Q+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+gn.gZ.Ce+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord"+(W?"-floor(sCoord)":"")+"); \t\t\t\t"+(r?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(b?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+Q+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = "+X+" ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = "+X+" ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",h="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.DD(D,h)};bQ.qm.prototype=new gn.iQ;bQ.qm.prototype.SG=function(r,Q,W,b,X,D,h,S,a,K,Y,d,j,U){this.hp("tmat gsize source target lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var I=gn.hA,f=this.Zv;I.uniformMatrix3fv(f.tmat,!1,W);I.uniform4fv(f.gsize,b);I.uniform3f(f.contSizeZoom,X,D,h);
I.uniform2f(f.cnvSize,S,a);I.uniformMatrix4fv(f.ctrn,!1,d);if(this.a2$){I.uniform4fv(f.ars,Y);I.uniform4fv(f.bgClr,K)}I.uniform1i(f.source,0);
I.uniform1i(f.target,1);I.activeTexture(I.TEXTURE0);I.bindTexture(I.TEXTURE_2D,r);I.activeTexture(I.TEXTURE1);
I.bindTexture(I.TEXTURE_2D,Q);if(j){I.uniform1f(f.N,U);I.uniform1i(f.lut,2);I.activeTexture(I.TEXTURE2);
I.bindTexture(I.TEXTURE_2D,j.G6);var g=I.LINEAR;I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MIN_FILTER,g);
I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MAG_FILTER,g)}I.activeTexture(I.TEXTURE0)};function j1(){h4.call(this,[9,7],!1,"---panels/layercomps",h4.Ct.ajs);
this.ft.setAttribute("style","min-width:240px;");this.vY=null;this.BR=-1;this.Iw=[];this.Hb=N.S("div","scrollable");
this.Hb.style.height="160px";this.ft.appendChild(this.Hb);this.CK=N.S("div","lpfoot");this.ft.appendChild(this.CK);
this.ol=[];var r=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],Q=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var n=0;n<r.length;n++){var W=r[n];if(n>0)W="<img src=\""+PIMG[r[n]]+"\" class=\"miniscale gsicon\" />";
var b=new fG(W,!1,Q[n]);b.Z("click",this.a0a,this);this.CK.appendChild(b.m);this.ol.push(b)}}j1.prototype=new h4("");
j1.prototype.du=function(r,Q){this.ft.setAttribute("style","width:"+(r-2)+"px;");this.Hb.style.height=Q-28+"px"};
j1.prototype.q9=function(r){var Q=new km(e.E.s,!0);Q.data=r;Q.b=m.Op;this.$(Q)};j1.a31="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
j1.prototype.a0a=function(r){var n=this.ol.indexOf(r.currentTarget)-1;if(n==-1){var Q=new km(e.E.L,!0);
Q.data={d:e.c.yX,OO:j1.a31};this.$(Q);return}if(n!=1)if(this.BR==-1)return;this.q9({d:["updLC","addLC","delLC"][n],C_:this.BR});
if(n==2)this.BR=-1};j1.prototype.r=function(){h4.prototype.r.call(this);for(var n=0;n<this.ol.length;
n++)this.ol[n].r()};j1.prototype.ba=function(r){if(r==null)N.lB(this.ft,"disabled");else N.Q5(this.ft,"disabled");
this.vY=r;N.WC(this.Hb);if(r==null)return;var Q=r.nU.lastAppliedComp?r.nU.lastAppliedComp.v:0,W=r.nU.list.v.slice(0);
W.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var n=0;n<W.length;
n++){var b=W[n].v,X=new i0(b.Nm.v,b.compID.v,b.capturedInfo.v,Q,this.BR);X.Z("activate",this.iD,this);
X.parent=this;this.Hb.appendChild(X.m);this.Iw.push(X)}};j1.prototype.iD=function(r){this.BR=r.currentTarget.C_;
this.ba(this.vY)};function i0(r,n,Q,W,b){eg.call(this);this.C_=n;this.m=N.S("div","head listitem"+(n==b?" selected":""));
var X=n==W,D=new fG(X?"\u2713":"\u2014");if(X)D.V9();this.m.appendChild(D.m);D.Z("click",this.Nb,this);
var h=this.ws=N.S("span");h.textContent=r;this.m.appendChild(h);this.ol=[];if(n!=0){this.m.addEventListener("mouseup",this.iD.bind(this),!1);
this.adJ=N.S("span","headR");this.m.appendChild(this.adJ);var S=["lrs/eye","pos","lrs/fx"],a=["Visibility","Position","Appearance"];
for(var K=0;K<S.length;K++){var Y=new fG("<img src=\""+PIMG[S[K]]+"\" class=\"autoscale gsicon\" />",!1,a[K]);
if((Q>>K&1)==0)Y.m.setAttribute("style","opacity:0.3");Y.Z("click",this.a8r,this);this.adJ.appendChild(Y.m);
this.ol.push(Y)}}}i0.prototype=new eg;i0.prototype.iD=function(r){if(r.target!=this.ws&&r.target!=this.m)return;
if(r.detail==1)this.$(new km("activate",!1));else{var Q=new h4.uC(this.ws,this.d9.bind(this))}};i0.prototype.a8r=function(r){var n=this.ol.indexOf(r.currentTarget);
this.q9({d:"editLC",a0J:n,C_:this.C_})};i0.prototype.d9=function(r){this.q9({d:"editLC",Ft:r,C_:this.C_})};
i0.prototype.Nb=function(r){this.q9({d:"setLC",C_:this.C_})};i0.prototype.q9=function(r){var Q=new km(e.E.s,!0);
Q.data=r;Q.b=m.Op;this.$(Q)};function dH(){h4.call(this,[9,11],!1,"---panels/navigator",h4.Ct.a7H);var r=N.S("div","padded");
r.setAttribute("style","min-width:15em");this.ft.appendChild(r);var Q=N.S("div");r.appendChild(Q);Q.setAttribute("style","cursor:grab;");
this.T=N.S("canvas");this.T.width=100;Q.appendChild(this.T);N.cI(this.T);N.AM(this.T,this.St.bind(this));
this.wh=new kh(null,2,6400,"%",null,!0);this.wh.Z(e.E.f,this.asc,this);r.appendChild(this.wh.m);this.a51=this.nQ.bind(this);
this.ad1=this.lf.bind(this);this.W$=null;this.fO=null;this.iL=!1}dH.prototype=new h4("");dH.prototype.du=function(r,Q){this.YY()};
dH.prototype.asc=function(r){var Q=this.wh.G(),W=this.W$,b=Q/100;if(.8<b&&b<1.2)b=1;else if(1.8<b)b=Math.round(b);
var X=new km(e.E.s,!0);X.b=m.W9;X.data={d:"zoom",_:b};this.$(X)};dH.prototype.St=function(r){var Q=this.W$;
if(Q==null)return;this.iL=!0;N.sY(window,this.a51);N.gJ(window,this.ad1)};dH.prototype.nQ=function(r){var Q=N.ug(r,this.T),W=this.W$,b=this.T.width,X=this.T.height,D=(Q.x*N.i()-b/2)/b,h=(Q.y*N.i()-X/2)/X,S=N.i()*W.u._,a=Math.round(-W.u._*W.e*D),K=Math.round(-W.u._*W.n*h);
m.nG.H1(W,a,K)};dH.prototype.lf=function(r){N.qa(window,this.a51);N.xf(window,this.ad1);this.iL=!1};
dH.prototype.ba=function(r){if(r==null&&this.W$!=null)this.T.width=100;this.W$=r;this.YY()};dH.prototype.a2d=function(){var r=300*N.i(),Q=0,W=this.W$,b=[W.T6(),new aV(0,0,W.e,W.n)];
E.P$(b);while(Math.max(b[Q+1].e,b[Q+1].n)>r){Q+=2}this.fO=b.slice(Q)};dH.prototype.YY=function(){var r=this.W$;
if(r==null||r.u._==0)return;var Q=r.u;if(!N.Z_(this.ft))return;this.wh.t(Q._*100);if(!this.iL)this.a2d();
var W=this.fO[0],b=this.fO[1],X=b.e,D=b.n,h=this.T;h.width=X;h.height=D;N.lb(h,X,D);var S=h.getContext("2d"),a=S.createImageData(X,D);
E.qr(W,a.data);S.putImageData(a,0,0);var K=Q.qv,Y=Q.GF(K.x,K.y),d=Q.GF(K.x+K.e,K.y+K.n),j=X/r.e;S.scale(j,j);
S.lineWidth=4/j;S.strokeStyle="#ff0000";S.strokeRect(Y.x,Y.y,d.x-Y.x,d.y-Y.y)};dH.prototype.VJ=function(r,Q){};
dH.prototype.Sh=function(){this.YY()};function kf(r,Q){h4.call(this,r.name,!1,r.icon,Q);this.ad8=r}kf.prototype=new h4("");
kf.prototype.CX=function(){var r=this.ft,Q=this.ad8;if(!N.Z_(r)||this.yY)return;var W=this.yY=N.S("iframe");
W.setAttribute("src",Q.url);this.ft.appendChild(W)};kf.prototype.Sh=kf.prototype.ba=function(){this.CX()};
kf.prototype._n=function(r){if(N.Z_(this.yY))this.yY.contentWindow.postMessage(r,"*")};kf.prototype.du=function(r,Q){if(this.yY==null)return;
this.yY.setAttribute("style","width:"+r+"px; height:"+Q+"px")};function gT(){h4.call(this,[9,12],!1,"---panels/tpreset",h4.Ct.HU);
this.Ha=null;this.xO=new b$(m.Yu);this.xO.parent=this;var r=N.S("div","padded");r.setAttribute("style","width:20em");
this.ft.appendChild(r);r.appendChild(this.xO.Hj)}gT.prototype=new h4("");gT.prototype.Sh=function(){this.xO.UD(this.Ha.jf)};
gT.prototype.VJ=function(r,Q){this.Ha=r;if(Q==d4.KF||Q==d4.HU)this.xO.UD(r.jf)};gT.prototype.du=function(r,Q){this.xO.a9D(this.Ha.at)};
gT.prototype.r=function(){h4.prototype.r.call(this);this.xO.r()};var jB=function(){var r=[],Q=null,W=null,b=null,X=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200]];
function D(){h4.call(this,"Memory",!1,null,h4.Ct.aog);var j=N.S("div","padded");this.ft.appendChild(j);
W=new fG(["<< VAR0",[0,13,2]],!1,null,!0);W.addEventListener("click",function(U){r.pop();S()});j.appendChild(W.m);
Q=N.S("div","scrollable");Q.setAttribute("style","width:20em;  height:26em; margin-top:8px;");j.appendChild(Q)}D.prototype=new h4("");
D.prototype.ba=function(j,U,I){b=U;this.Sh()};D.prototype.Sh=function(){W.fy(!1);if(!N.Z_(Q))return;
var j={A6:"Total:",up:[]};for(var n=0;n<b.length;n++)j.up.push(K(b[n]));d(j);r=[j];S()};D.prototype.r=function(){h4.prototype.r.call(this);
W.r()};function h(j){var U=j.currentTarget,n=0;while((U=U.previousSibling)!=null)n++;r.push(r[r.length-1].up[n-1]);
S()}function S(){W.fy(r.length>1);var j=r[r.length-1];N.WC(Q);a(j,Q,0);j.up.sort(function(U,I){return I.mX[0]-U.mX[0]});
for(var n=0;n<j.up.length;n++)a(j.up[n],Q,1)}function a(j,U,I){var f=hb.Vh,g=I!=0&&j.up,H="margin-left:"+I*10+"px; margin-bottom:8px; padding:3px 5px;";
if(g)H+="cursor:pointer;";if(j.tv!=null)H+="background-color:rgba("+X[j.tv].join(",")+",0.2);";var u=N.S("div");
U.appendChild(u);u.setAttribute("style",H);u.innerHTML=N.IJ(j.A6)+"<br />"+"RAM: <b>"+f(j.mX[0])+"</b>\u2001GPU: <b>"+f(j.mX[1])+"</b>";
if(g)u.addEventListener("click",h,!1)}function K(j){var U={A6:j.name,up:[],tv:0},I=gn.Kz?1:0,f=1-I,g={A6:"Final Image",mX:[j.e*j.n*4,I*j.e*j.n*4],tv:2};
U.up.push(g);for(var n=0;n<j.B.length;n++){var H=Y(j.B[n]);if(H.up.length!=0)U.up.push(H)}var u=j.add.lnk2;
if(u)for(var n=0;n<u.length;n++){var H=u[n],s={A6:H.Ao,up:[],tv:4},_=0;s.up.push({A6:"Raw file",mX:[H.raw.length,0]});
if(H.EJ)for(var i=0;i<H.EJ.length;i+=2)_+=H.EJ[i].length;if(_!=0)s.up.push({A6:"Decoded pixels",mX:[_,0]});
d(s);U.up.push(s)}d(U);return U}function Y(j){var U={A6:j.getName(),up:[],tv:1},I=gn.Kz?1:0,f=1-I,g=j.rect.O();
if(g!=0)U.up.push({A6:"Layer pixels",mX:[g*4,I*g*4]});if(j.add.lmfx&&j.ix.b5.type){var H=j.ix.b5.type,i=0;
for(var u in H){var s=0;for(var _=0;_<H[u].length;_++)if(u=="ebbl"){if(H[u][_].gu)s+=H[u][_].gu.Ix.O();
if(H[u][_].uX)s+=H[u][_].uX.Ix.O();if(H[u][_].Uv)s+=H[u][_].Uv.Ix.O();if(H[u][_].Ml)s+=H[u][_].Ml.Ix.O()}else s+=H[u][_].Ix.O();
if(s!=0)U.up.push({A6:aA.get(iq.names[iq.order.indexOf(u)]),mX:[f*s*4,I*s*4],tv:3})}if(j.ix.h0)i+=g;
if(j.ix.xy)i+=g;if(j.ix.RS)i+=g;if(j.ix.RS)i+=g;if(j.ix.xx)i+=g;if(j.ix.Y3)i+=g;var M=j.ix.XZ?j.ix.XZ.length:0;
if(i+M!=0)U.up.push({A6:"Additional Blending Data",mX:[f*i*4+M,I*i*4]})}var T=j.SS(),R=T?T.rect.O():0;
if(R!=0){U.up.push({A6:"Raster Mask",mX:[R,0]})}var T=j.add.vmsk,R=T&&T.U0?T.U0.rect.O():0;if(R!=0){U.up.push({A6:"Vector Mask",mX:[R,0]})}d(U);
return U}function d(j){j.mX=[0,0];for(var n=0;n<j.up.length;n++){j.mX[0]+=j.up[n].mX[0];j.mX[1]+=j.up[n].mX[1]}}return D}();
function dj(){h4.call(this,[9,14],!1,"---panels/notes",h4.Ct.alx);this.ft.setAttribute("style","min-width:240px;");
var r=N.S("div","padded");this.ft.appendChild(r);this.yB=new eM("Author");r.appendChild(this.yB.m);this.zH=N.S("textarea");
N.U9(this.zH);r.appendChild(this.zH);var Q=new fG("<<",null,null,!0);r.appendChild(Q.m);this.akT=Q;var W=new fG(">>",null,null,!0);
r.appendChild(W.m);Q.Z("click",this._4,this);W.Z("click",this._4,this);var b=this.aiH=new aQ("");r.appendChild(b.m)}dj.prototype=new h4("");
dj.prototype._4=function(r){var Q=r.target==this.akT?-1:1,W=this.W$,b=W.add.Anno;if(b==null)return;var X=b.length,D=W.u.ah;
W.u.ah=(D+Q+X)%X;W.Ca=!0;this.YY()};dj.prototype.YY=function(){var r=this.W$;if(r==null)return;var Q=r.add.Anno;
if(Q==null||Q.length==0)return;var W=r.u.ah,b=Q[W];this.zH.value=b[4];this.aiH.t(W+1+" / "+Q.length);
this.yB.t(b[3])};dj.prototype.du=function(r,Q){if(this.Dr==r)return;this.Dr=r;Q=Math.min(Q,200);this.zH.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(r-10)+"px; height:"+(Q-66)+"px")};
dj.prototype.ba=function(r,Q,W){this.W$=r;this.YY()};function cA(){eg.call(this);this.b=0;this.$d=null;
this.m=N.S("div","toolconf");this.xO=null;this.z6=null;this.body=new N.S("div","body")}cA.prototype=new eg;
cA.prototype.arl=function(r,Q){this.b=r;this.$d=Q;if(m.uL[r]){var W=this.xO=new b$(r);this.m.appendChild(W.m);
W.parent=this}else{this.z6=N.S("div");this.m.appendChild(this.z6)}this.m.appendChild(this.body);this.r()};
cA.prototype.acB=function(r,Q){};cA.prototype.ahC=function(r){};cA.prototype.VJ=function(r,Q){if(Q==d4.KF||Q==d4.HU)if(this.xO)this.xO.UD(r.jf)};
cA.prototype.a7=function(r){};cA.prototype.r=function(){if(this.xO)this.xO.r();else this.z6.innerHTML=N.lI(this.$d,null,"toolicon");
this.Fk()};cA.prototype.Fk=function(){};function hV(){cA.call(this);this.ga=new jP;this.ga.Z(e.E.f,this.rD,this);
this.body.appendChild(this.ga.m)}hV.prototype=new cA;hV.prototype.Fk=function(){this.ga.r()};hV.prototype.rD=function(r){var Q=new km(e.E.L,!0);
Q.data={d:e.c.ip,b:this.b,Lb:this.ga.al5()};this.$(Q)};hV.prototype.a7=function(r){this.ga.anH(r.Eb)};
function j9(r){cA.call(this);if(r==null)return;this.Ha=null;this.Hm={};if(r.indexOf("brush")!=-1&&r.indexOf("prsr")==-1)r.push("prsr");
for(var n=0;n<r.length;n++){var Q=r[n],W=null;if(Q=="brush"){W=new cl}if(Q=="bmode"){W=new fk([12,19,0],hG.tJ,!1,hG.WU)}if(Q=="bmode0"){W=new fk([12,19,0],hG.tJ.slice(23),!1)}if(Q=="emode"){W=new fk([12,36],[[9,3],[10,38]])}if(Q=="opacity"){W=new fq([12,0],0,100,"%");
W.t(100)}if(Q=="flow"){W=new fq([12,63],0,100,"%");W.t(100)}if(Q=="smth"){W=new fq([19,3,0],0,100,"%");
W.t(0)}if(Q=="samp"){W=new fk([12,36],[[12,25,4],[12,25,5],[12,46]])}if(Q=="wconf"){W=new fz;W.t([40,!0,!0])}if(Q=="sall"){W=new dL([12,25,2])}if(Q=="strn"){W=new fq([12,64],1,100,"%");
W.t(50)}if(Q=="smode"){W=new fk([12,36],[[19,7,0],[19,7,1]]);W.t(1)}if(Q=="pdetail"){W=new dL([12,65]);
W.V9()}if(Q=="rng"){W=new fk([12,12],[[19,6,0],[19,6,1],[19,6,2]]);W.t(1)}if(Q=="expo"){W=new fq([12,5],0,100,"%");
W.t(50)}if(Q=="algnd"){W=new dL([12,75]);W.t(!1)}if(Q=="sfrom"){W=new fk([12,70],[[17,1],[17,3],[17,0]])}if(Q=="alt"){W=new eJ(null,["Alt"],!0,["Select Source"])}if(Q=="qsmode"){W=new gU([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(Q=="redge"){W=new fG([7,11],!1,null,!0)}if(Q=="setop"){W=new cX}if(Q=="patch"){W=new gU(null,[[12,70],[12,71]])}if(Q=="prsr"){W=this.Hm.brush.hb}this.body.appendChild(W.m);
if(Q=="prsr")continue;W.parent=this;this.Hm[Q]=W;if(Q=="brush")W.Z(e.E.f,this.axF,this);else if(Q=="redge")W.Z("click",this.UN,this);
else W.Z(e.E.f,this.Id,this)}}j9.prototype=new cA;j9.prototype.acB=function(r,Q){r=r[1];var W=this.Hm;
if(r.Md)W.bmode.t(hG.it.indexOf(r.Md.v.BlnM));if(r.Opct)W.opacity.t(r.Opct.v);if(r.flow)W.flow.t(r.flow.v);
if(r.Brsh)W.brush.t(r,Q.bY.I_,Q.bY._v);if(r.FrgC){var b=E.M.vf(r.FrgC.v),X=new km(e.E.L,!0);X.data={d:e.c.bJ,Lb:d4.dt,CZ:0,h:b.o<<16|b.W<<8|b.k};
this.$(X)}this.axF();this.Id()};j9.prototype.ahC=function(){if(m.uL[this.b]==null)return null;var r=this.Hm,Q=JSON.parse(JSON.stringify(r.brush.G()));
Q.classID=m.uL[this.b][1][0];if(r.bmode)Q.Md={t:"enum",v:{BlnM:hG.it[r.bmode.G()]}};if(r.opacity)Q.Opct={t:"long",v:r.opacity.G()};
if(r.flow)Q.flow={t:"long",v:r.flow.G()};var W=this.Ha.V8;W={o:W>>>16,W:W>>>8&255,k:W&255};Q.FrgC={t:"Objc",v:E.M.rY(W)};
return["Brush Preset "+Q.Brsh.v.Dmtr.v.val,Q]};j9.prototype.UN=function(){var r=new km(e.E.L,!0);r.data={d:e.c.Re,wv:"redge"};
this.$(r)};j9.prototype.Fk=function(){for(var r in this.Hm)this.Hm[r].r()};j9.prototype.a7=function(r){if(r.a27=="showBrushOpts"){this.Hm.brush.aap(r.t4.x,r.t4.y)}for(var Q in r.$A){var W=r.$A[Q];
if(Q!="qsmode")W*=100;if(this.Hm[Q])this.Hm[Q].t(W)}};j9.prototype.VJ=function(r,Q){cA.prototype.VJ.call(this,r,Q);
this.Ha=r;var W=this.Hm.brush;if(W==null)return;if(Q==d4.KF||Q==d4.Yu)W.UD(r.bY);if(Q==d4.FY){W.t(r.bY.Mr,r.bY.I_,r.bY._v)}};
j9.prototype.axF=function(){var r=new km(e.E.L,!0);r.data={d:e.c.bJ,Lb:d4.FY,Z$:this.Hm.brush.G()};this.$(r)};
j9.prototype.Id=function(){var r=new km(e.E.L,!0);r.data={d:e.c.ip,b:this.b};for(var Q in this.Hm){if(Q=="brush"||Q=="redge")continue;
var W=this.Hm[Q].G();if(["opacity","flow","smth","strn","expo"].indexOf(Q)!=-1)r.data[Q]=W/100;else if(Q=="bmode")r.data.bmode=hG.Av[W];
else if(Q=="bmode0")r.data.bmode=hG.Av[23+W];else r.data[Q]=W}this.$(r)};function dU(r,Q){cA.call(this);
if(r)return;this.Hm={};for(var n=0;n<Q.length;n++){var W=Q[n],b=null;if(W=="binop")b=new cX;if(W=="feat"){b=new fq([7,6],0,100,"px");
b.t(0)}if(W=="redge")b=new fG([7,11],!1,null,!0);if(W=="wconf")b=new fz;if(W=="cstr")b=new dx;if(W=="anta"){b=new dL([12,25,1]);
b.t(!0)}if(W=="sall")b=new dL([12,25,2]);if(W=="redge")b.Z("click",this.UN,this);else b.Z(e.E.f,this.Id,this);
b.parent=this;this.body.appendChild(b.m);this.Hm[W]=b}}dU.prototype=new cA;dU.prototype.a7=function(r){if(r.yj!=null)this.Hm.binop.t(r.yj);
else if(r.zi){for(var Q in r.zi)if(this.Hm[Q])this.Hm[Q].t(r.zi[Q])}else{var W=dU.pd;if(W==null){var b=gc.axq(!0);
W=dU.pd=new ka(b.items,b.$H)}W.r();W.parent=this;W.update(r.iG,r.zb);var X=new km(e.E.L,!0);X.data={d:e.c.I2,MY:W,x:r.gD.e7+2,y:r.gD.ID+1};
this.$(X)}};dU.prototype.Fk=function(){for(var r in this.Hm)this.Hm[r].r()};dU.prototype.UN=function(){var r=new km(e.E.L,!0);
r.data={d:e.c.Re,wv:"redge"};this.$(r)};dU.prototype.Id=function(){var r=new km(e.E.L,!0);r.data={d:e.c.ip,b:this.b,zi:{}};
for(var Q in this.Hm)r.data.zi[Q]=this.Hm[Q].G();this.$(r)};function iZ(){j9.call(this,["brush","strn"])}iZ.prototype=new j9;
function ih(){j9.call(this,"brush bmode opacity flow smth prsr".split(" "))}ih.prototype=new j9;function b2(){j9.call(this,["brush","bmode0","samp","wconf"])}b2.prototype=new j9;
function iC(){j9.call(this,["brush"])}iC.prototype=new j9;function gX(){j9.call(this,["brush","bmode","opacity","smth","prsr"])}gX.prototype=new j9;
function hH(){j9.call(this,["brush","rng","expo"])}hH.prototype=new j9;function c9(){j9.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}c9.prototype=new j9;
function hA(r){cA.call(this);if(r==null)return;var Q=N.S("span","fitem");this.body.appendChild(Q);var W=[[17,0],[17,1],[11,12,0],[17,2]];
this.oM=[];for(var n=0;n<W.length;n++){var b=new fG(W[n],!1,null,!0);this.oM.push(b);b.Z("click",this.a5m,this);
if(!r||n==1)Q.appendChild(b.m)}this.Ko=new dx;this.Ko.Z(e.E.f,this.a06,this);if(!r)this.body.appendChild(this.Ko.m);
this.HQ=new fG([15,7,6],!1,null,!0);this.HQ.Z("click",this.a5m,this);if(!r)this.body.appendChild(this.HQ.m);
this.JH=new dL([15,7,10]);this.JH.Z(e.E.f,this.a06,this);if(!r)this.body.appendChild(this.JH.m);this.nL=new cb;
this.nL.Z("click",this.j0,this)}hA.prototype=new cA;hA.prototype.Fk=function(){this.nL.r();for(var n=0;
n<this.oM.length;n++)this.oM[n].r();this.Ko.r();this.JH.r();this.HQ.r()};hA.prototype.a7=function(r){var Q=this.nL.m;
if(r.dE)this.body.appendChild(Q);else if(this.body.contains(Q))this.body.removeChild(Q);if(r.Ko)this.Ko.t(r.Ko)};
hA.prototype.j0=function(r){var Q={d:e.c.ip,b:this.b,gm:this.nL.G()?"commit":"cancel"},W=new km(e.E.L,!0);
W.data=Q;this.$(W)};hA.prototype.a5m=function(r){r.target.m.blur();var Q={d:e.c.ip,b:this.b,gm:"cropby",ayo:this.oM.indexOf(r.target)};
if(r.target==this.HQ)Q.gm="straighten";var W=new km(e.E.L,!0);W.data=Q;this.$(W)};hA.prototype.a06=function(r){var Q={d:e.c.ip,b:this.b,gm:"config",S1:{W3:this.Ko.G(),$_:this.JH.G()},a1U:r.target==this.Ko},W=new km(e.E.L,!0);
W.data=Q;this.$(W)};function cz(){hA.call(this,!1)}cz.prototype=new hA;function iJ(){hA.call(this,!0)}iJ.prototype=new hA;
function ja(){j9.call(this,["brush","rng","expo"])}ja.prototype=new j9;function hl(){j9.call(this,"brush emode opacity flow smth prsr".split(" "))}hl.prototype=new j9;
function kb(){j9.call(this,["brush","samp","wconf"])}kb.prototype=new j9;function hj(){dU.call(this,!1,["binop","feat","anta","redge","cstr"])}hj.prototype=new dU(!0);
function ai(){cA.call(this);var r=this.Hm=[new fk([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new fk([12,70],[[17,1],[17,3],[17,0]]),new dL([12,20,1]),new dL([8,0])];
r[1].t(2);r[2].t(!0);for(var n=0;n<r.length;n++){var Q=r[n];Q.Z(e.E.f,this.Id,this);this.body.appendChild(Q.m)}}ai.prototype=new cA;
ai.prototype.Id=function(r){var Q=this.Hm,W=[];for(var n=0;n<Q.length;n++)W[n]=Q[n].G();var b=new km(e.E.L,!0);
b.data={d:e.c.ip,b:this.b,zi:W};this.$(b)};ai.prototype.Fk=function(){for(var n=0;n<this.Hm.length;n++)this.Hm[n].r()};
function fx(){cA.call(this);this.u5=new h7(!1);this.u5.parent=this;this.u5.Z(e.E.f,this.Gv,this);this.body.appendChild(this.u5.m);
this.u5.t(JSON.parse(iq.Wf.aob).v);this.kw=new fk(null,iq.M.names.slice(0,5));this.kw.Z(e.E.f,this.Gv,this);
this.body.appendChild(this.kw.m);this.IE=new fk([12,19,0],hG.tJ,null,hG.WU);this.IE.Z(e.E.f,this.Gv,this);
this.body.appendChild(this.IE.m);this.Ot=new fq([12,0],0,100,"%");this.Ot.parent=this;this.Ot.Z(e.E.f,this.Gv,this);
this.body.appendChild(this.Ot.m);this.Ot.t(100);this.rV=new dL([12,23,0]);this.rV.Z(e.E.f,this.Gv,this);
this.body.appendChild(this.rV.m);this.UP=new dL([12,23,3]);this.UP.Z(e.E.f,this.Gv,this);this.body.appendChild(this.UP.m)}fx.prototype=new cA;
fx.prototype.Fk=function(){this.kw.r();this.IE.r();this.Ot.r();this.rV.r();this.UP.r()};fx.prototype.VJ=function(r,Q){cA.prototype.VJ.call(this,r,Q);
var W=Q==d4.dt;this.u5.iP(r.V8,r.tB);if(W||Q==d4.GY||Q==d4.KF)this.u5.UD(r.Tg)};fx.prototype.Gv=function(){var r=new km(e.E.L,!0);
r.data={d:e.c.ip,b:this.b};r.data.Lb={M:this.u5.G(),qt:iq.M.types[this.kw.G()],Lt:this.rV.nJ(),anU:this.UP.nJ(),avv:hG.Av[this.IE.G()],UA:this.Ot.G()/100};
this.$(r)};function aS(){cA.call(this)}aS.prototype=new cA;function bX(){cA.call(this);var r=N.S("span","fitem");
this.body.appendChild(r);this.Lh=[new fq([12,15],-180,180,"\xB0"),new fG([1,12,2],null,null,!0)];for(var n=0;
n<this.Lh.length;n++){var Q=this.Lh[n];Q.parent=this;r.appendChild(Q.m);Q.Z(n==1?"click":e.E.f,this.j5,this)}}bX.prototype=new cA;
bX.prototype.Fk=function(){for(var n=0;n<this.Lh.length;n++)this.Lh[n].r()};bX.prototype.a7=function(r){this.Lh[0].t(r.OU*180/Math.PI)};
bX.prototype.j5=function(r){var Q=this.Lh.indexOf(r.target),W=new km(e.E.L,!0);W.data={d:e.c.ip,b:this.b,OU:Q==1?0:r.target.G()*Math.PI/180};
this.$(W)};function fY(){j9.call(this,["brush","algnd","sfrom","alt"])}fY.prototype=new j9;function jr(){cA.call(this);
this.A3=new kp;this.A3.parent=this;this.body.appendChild(this.A3.su.m);this.body.appendChild(this.A3.hT.m);
this.body.appendChild(this.A3.WR.m);this.body.appendChild(this.A3.UB.m);var r=N.S("span","fitem");this.body.appendChild(r);
r.appendChild(this.A3.pm.m);r.appendChild(this.A3.wQ.m);r.appendChild(this.A3.hu.m);this.XC=new fk("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.XC.Z(e.E.f,this.j0,this);this.body.appendChild(this.XC.m);this.Kp=new fG([11,9],!1,null,!0);this.Kp.Z("click",this.ao0,this);
this.body.appendChild(this.Kp.m);this.nL=new cb;this.nL.Z("click",this.j0,this)}jr.prototype=new cA;
jr.prototype.Fk=function(){this.nL.r();this.A3.r();this.Kp.r()};jr.prototype.ao0=function(r){var Q={d:e.c.ip,b:this.b,gm:"showwarp"},W=new km(e.E.L,!0);
W.data=Q;this.$(W)};jr.prototype.a7=function(r){if(r.gm=="showactive")this.body.appendChild(this.nL.m);
if(r.gm=="hideactive")this.body.removeChild(this.nL.m);if(r.gm=="changeAA")this.XC.t(r.g2)};jr.prototype.VJ=function(r,Q){cA.prototype.VJ.call(this,r,Q);
if(Q!=d4.KF&&Q!=d4.ui&&Q!=d4.TH&&Q!=d4.fm)return;this.A3.t(r.vy,r.zl,r.YT)};jr.prototype.j0=function(r){var Q={d:e.c.ip,b:this.b,gm:this.nL.G()?"commit":"cancel"};
if(r.target==this.XC){Q.gm="changeAA";Q.g2=this.XC.G()}var W=new km(e.E.L,!0);W.data=Q;this.$(W)};function bV(){dU.call(this,!1,["binop","feat","anta","redge"])}bV.prototype=new dU(!0);
function jY(){cA.call(this);var r=[],W="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.Ss=new dL([12,85]);this.Ss.Z(e.E.f,this.Id,this);r.push(this.Ss.m);this.gQ=new dL([20,1]);this.gQ.Z(e.E.f,this.Id,this);
r.push(this.gQ.m);this.UI=new dL([12,83]);this.UI.Z(e.E.f,this.Id,this);r.push(this.UI.m);var Q=N.S("span","fitem");
r.push(Q);this.aoI=new fk("Scale for exported files",["1x","2x","3x","4x"],!0);Q.appendChild(this.aoI.m);
this.Y6=new fG(W+" PNG",!1,"Save selected layers as PNG",!0);Q.appendChild(this.Y6.m);this.Y6.Z("click",this.kb,this);
this.aoC=new fG(W+" SVG",!1,"Save selected layers as SVG",!0);Q.appendChild(this.aoC.m);this.aoC.Z("click",this.kb,this);
var b=N.S("span","fitem");r.push(b);var X=N.S("span","fitem");r.push(X);this.ol=[];for(var n=0;n<8;n++){var D=n==3||n==7?[20,4,6]:[20,4,n<3?n:n-1],h=new fG("Hi",!1,D);
(n<4?b:X).appendChild(h.m);h.Z("click",this.kb,this);this.ol.push(h)}for(var n=0;n<r.length;n++)this.body.appendChild(r[n]);
this.anR=r}jY.prototype=new cA;jY.prototype.a7=function(r){var Q=r.Eb,W=r.atw;this.Ss.t(Q.i0);this.gQ.t(Q.he);
this.UI.t(Q.YZ);if(W){N.WC(this.body);for(var n=0;n<W.length;n++)if(W[n]==1&&this.anR[n])this.body.appendChild(this.anR[n])}};
jY.prototype.kb=function(r){var Q=this.ol.indexOf(r.target),W;if(Q==-1){W=new km(e.E.L,!0);W.data={d:e.c.ip,b:this.b,CZ:r.target==this.Y6?"getPNG":"getSVG",QE:this.aoI.G()+1}}else{W=new km(e.E.s,!0);
W.b=m.$t;W.data={d:"algn",h:Q}}this.$(W)};jY.prototype.Id=function(r){var Q=new km(e.E.L,!0);Q.data={d:e.c.ip,b:this.b,CZ:"prms",i0:this.Ss.nJ(),he:this.gQ.nJ(),YZ:this.UI.nJ()};
this.$(Q)};jY.prototype.Fk=function(){this.Ss.r();this.gQ.r();this.UI.r();var r="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var n=0;n<8;n++){this.ol[n].NM(N.lI("align/"+r[n],null,"autoscale"))}};function fO(){dU.call(this,!1,["binop","feat","redge","wconf","sall"])}fO.prototype=new dU(!0);
function gh(){j9.call(this,["setop","patch"])}gh.prototype=new j9;function eS(){j9.call(this,["setop"])}eS.prototype=new j9;
function jT(){j9.call(this,["bmode","opacity","wconf","sall"])}jT.prototype=new j9;function d7(){dU.call(this,!1,["binop","feat","anta","redge"])}d7.prototype=new dU(!0);
function hB(){dU.call(this,!1,["binop","feat","anta","redge"])}hB.prototype=new dU(!0);function i5(){dU.call(this,!1,["binop","feat","redge","cstr"])}i5.prototype=new dU(!0);
function df(){cA.call(this);this.Ha=null;this.gV=null;this.aI=[new eM("X",null,3.2,null,!0),new eM("Y",null,3.2,null,!0),new eM("W",null,3.2,null,!0),new eM("H",null,3.2,null,!0),new eM([12,15],"\xB0",3.7,null,!0),new eM(["VAR0 1",[12,80,0]],null,3.5,null,!0),new eM(["VAR0 2",[12,80,0]],null,3.5,null,!0),new fG([15,7,6],!1,null,!0),new fG([2,2],!1,null,!0)];
for(var n=0;n<this.aI.length;n++){var r=this.aI[n];this.body.appendChild(r.m);if(n>6)r.Z("click",this.wY,this)}this.fv=0}df.prototype=new cA;
df.prototype.wY=function(r){var Q=this.aI.indexOf(r.target)==7,W=new km(e.E.s,!0);if(Q){if(this.fv==0)return;
W.b=m.YO;W.data={d:"rot",Cv:[2,5],h:-this.fv}}else{W.b=m.pC;for(var n=0;n<6;n++)this.aI[n].t(null)}this.$(W)};
df.prototype.a7=function(r){function Q(S,a,K){var Y=Math.sqrt(Math.pow(a.x-S.x,2)+Math.pow(a.y-S.y,2)),d=Math.sqrt(Math.pow(a.x-K.x,2)+Math.pow(a.y-K.y,2)),j=Math.sqrt(Math.pow(K.x-S.x,2)+Math.pow(K.y-S.y,2));
return Math.acos((d*d+Y*Y-j*j)/(2*d*Y))}if(r==null)return;this.gV=r;var W=r.ap5,b=r.Ir,X=b.x-W.x,D=b.y-W.y;
this.fv=-Math.atan2(D,X);if(r.nx)this.fv=Q(b,W,r.nx);var h=this.aI;h[0].t(this.ii(r,W.x));h[1].t(this.ii(r,W.y));
h[2].t(this.ii(r,X));h[3].t(this.ii(r,D));h[4].t((this.fv*180/Math.PI).toFixed(2));h[5].t(this.ii(r,cp.ks(W,b)));
if(r.nx){h[6].t(this.ii(r,cp.ks(W,r.nx)))}else h[6].t("")};df.prototype.ii=function(r,Q){var W=E.iZ.HE(Q,r.HW,this.Ha,r.aut,!1);
return parseFloat(W).toFixed(2)};df.prototype.VJ=function(r,Q){this.Ha=r;this.a7(this.gV)};df.prototype.Fk=function(){var r=this.aI;
for(var n=0;n<r.length;n++)r[n].r();N.z4(r[2],r[3])};function eZ(){j9.call(this,["brush","strn","pdetail"])}eZ.prototype=new j9;
function dM(){j9.call(this,["brush","sfrom"]);this.aiv=[];var r=[[7,12]];for(var n=0;n<r.length;n++){var Q=new fG(r[n],!1,null,!0);
this.aiv.push(Q);Q.parent=this;this.body.appendChild(Q.m);Q.Z("click",this.a1z,this)}}dM.prototype=new j9;
dM.prototype.a1z=function(r){var Q=this.aiv.indexOf(r.currentTarget),W=new km(e.E.Kk,!0);W.data=m.AZ.Sj("contentAware");
this.$(W)};function ag(){j9.call(this,["brush","strn"])}ag.prototype=new j9;function dd(){j9.call(this,["brush","flow","smode"])}dd.prototype=new j9;
function g5(){cA.call(this);this.j4=!1;var r=N.S("span","fitem");this.body.appendChild(r);this.oV=new gU(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
r.appendChild(this.oV.m);this.oV.Z(e.E.f,this.Id,this);this.xG=new fG([20,2]);this.body.appendChild(this.xG.m);
this.xG.Z("click",this.aru,this);this.vB=new fG([20,3]);this.body.appendChild(this.vB.m);this.vB.Z("click",this.aru,this)}g5.prototype=new cA;
g5.prototype.Fk=function(){this.xG.r();this.vB.r()};g5.prototype.Id=function(){var r={d:e.c.ip,b:this.b,H3:this.oV.G()==0},Q=new km(e.E.L,!0);
Q.data=r;this.$(Q)};g5.prototype.a7=function(r){if(this.j4!=r.j4)this.oV.t(1-this.oV.G());this.j4=r.j4};
g5.prototype.aru=function(r){var Q=new km(e.E.s,!0);Q.b=m.W9;Q.data={d:"adapt",h:r.target==this.xG?"pixel":"fitscr"};
this.$(Q)};function aj(r,Q){cA.call(this);if(r==null)return;this.Po=r;this.ZQ={};this.aag=Q;for(var n=0;
n<r.length;n++){var W=r[n],b=null;if(W=="tmode"){b=new fk(null,[[12,76,1],[12,76,0],[12,76,2]]);b.t(0);
if(Q)b.ahV(2)}if(W=="make"){b=new gU("Make",[[17,2],[12,76,1]],null,!0)}if(W=="anta"){b=new dL([12,25,1]);
b.t(!0)}if(W=="binop"){b=new fk(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(W=="pshape")b=new fk(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]]);
if(W=="shape")b=new hw([12,76,1]);if(W=="crad"){b=new fq([12,94,0],0,50,"px");b.t(0)}if(W=="cstr"){b=new dx}if(W=="irad"){b=new fq([12,94,1],0,100,"%");
b.t(40)}if(W=="length"){b=new fq([12,80,0],4,40);b.t(4)}if(W=="sides"){b=new fq([12,78],3,30);b.t(5)}if(W=="width"){b=new fq([12,41],1,100,"px");
b.t(5)}if(W=="tolr"){b=new fq([12,24],0,100);b.t(5)}if(W=="fstyle"){b=new d$([12,26])}if(W=="sstyle"){b=new bG}if(W=="psnap"){b=new dL([8,10])}if(W=="crnr"){b=new fG("\u2312",!1,[12,94,0],!0)}if(W=="aopts"){b=new b4;
b.t([!1,!1,50,60,0])}b.parent=this;this.body.appendChild(b.m);this.ZQ[W]=b;b.Z(W=="crnr"?"click":e.E.f,this.Id,this)}}aj.prototype=new cA;
aj.prototype.a7=function(r){if(r.yj!=null)this.ZQ.binop.t(r.yj);else if(r.CZ=="vals")for(var Q in r.akQ)this.ZQ[Q].t(r.akQ[Q]);
else{var W=aj.pd;if(W==null)W=aj.pd=new ka([{name:"Remove Anchor Point",w:function(X){var D=X?X.tt():null;
return{w:X&&D[1].length!=0&&D[0][D[1][0]].add.vmsk.UJ.length!=0}}},{name:"Remove Path",w:function(X){var D=X?X.tt():null;
return{w:X&&D[1].length!=0&&D[0][D[1][0]].add.vmsk.I.length!=0}},Xe:!0},{name:"Make Selection"},{name:[2,3]},{name:[14,9]}],[{Y:e.E.s,b:m.u9,J:{d:"remove",v4:!0}},{Y:e.E.s,b:m.RJ,J:{d:"remove"}},{Y:e.E.L,J:{d:e.c.Re,wv:"makesel"}},{Y:e.E.Kk,J:m.N9.nb(0)},{Y:e.E.Kk,J:m.N9.nb(1)}]);
W.parent=this;W.update(r.iG,r.zb);var b=new km(e.E.L,!0);b.data={d:e.c.I2,MY:W,x:r.gD.e7+2,y:r.gD.ID+1};
this.$(b)}};aj.prototype.a6w=function(n){return null};aj.prototype.Fk=function(){for(var r in this.ZQ){this.ZQ[r].r()}};
aj.prototype.Id=function(r){var Q=new km(e.E.L,!0),W=this.ZQ;if(r.target==W.crnr){Q=new km(e.E.s,!0);
Q.b=m.u9;Q.data={d:"crnr"}}else if(r.target==W.make){var n=r.target.G();console.log(n);if(n==0)Q.data={d:e.c.Re,wv:"makesel"};
else{Q=new km(e.E.s,!0);Q.b=m.aK;Q.data={d:"newfill",tv:0}}}else if(r.target==W.fstyle){Q.data={d:e.c.bJ,Lb:d4.Yi,h:W.fstyle.G()}}else if(r.target==W.sstyle){Q.data={d:e.c.bJ,Lb:d4._L,h:W.sstyle.G()}}else if(r.target==W.tmode){Q.data={d:e.c.bJ,Lb:d4.Sq,h:W.tmode.G()}}else{if(W.pshape)this.Ib();
Q.data={d:e.c.ip,b:this.b};for(var b in W)Q.data[b]=W[b].G()}this.$(Q)};aj.prototype.Ib=function(){var r=this.ZQ,Q=r.tmode.G(),W=r.pshape?this.a6w(r.pshape.G()):this.Po,b;
if(Q==0)b=["anta","make"];if(Q==1)b=["anta","fstyle","sstyle"];if(Q==2)b=["make","binop","fstyle","sstyle"];
var X=r.binop;if(X){var D=X.G();if(Q==0){X.ate(0)}else{X.ahV(0);if(D==0){X.t(1);this.Id({target:X})}}}N.WC(this.body);
for(var n=0;n<W.length;n++){var h=W[n];if(b.indexOf(h)!=-1)continue;this.body.appendChild(r[h].m)}};
aj.prototype.VJ=function(r,Q){cA.prototype.VJ.call(this,r,Q);var W=this.ZQ.fstyle,b=this.ZQ.sstyle,X=this.ZQ.tmode;
if(W)W.VJ(r,Q);if(b)b.VJ(r,Q);if(Q==d4.KF||Q==d4.z1)if(r.bC.length!=0&&this.ZQ.shape){this.ZQ.shape.UD(r.bC)}if(Q==d4.KF||Q==d4.Yi)if(W)W.t(null,r.aB,r.axx);
if(Q==d4.KF||Q==d4._L)if(b)b.t(null,r.RY,r.avx);if(Q==d4.KF||Q==d4.Sq){var D=r.ss;if(this.aag&&D==2)D=0;
if(X){X.t(D);this.Ib()}}};function bp(){aj.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}bp.prototype=new aj;
function hk(){aj.call(this,"tmode make anta fstyle sstyle binop".split(" "))}hk.prototype=new aj;function fZ(){aj.call(this,["fstyle","sstyle"]);
this.aqi=null;this.afK=null;this.ao6=null;this.CI=new fk([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],!1,[4]);
this.iL=new fG("\u25BC");this.iL.V9();this.u8=new fG("\u25B2");this.u8.V9();this.AF=[this.CI,this.iL,this.u8];
for(var n=0;n<this.AF.length;n++){var r=this.AF[n];this.body.appendChild(r.m);r.parent=this;r.Z(n==0?e.E.f:"click",this.ci,this)}}fZ.prototype=new aj;
fZ.prototype.a7=function(r){if(r.gm=="main"){var Q=this.AF,W=r.ok;if(W){this.afK=W.clone();this.ao6=JSON.stringify(r.X);
var b=W.I.slice(0),X=b.length;for(var n=0;n<b.length;n++)b[n]++;b.sort(function(a,K){return a-K});Q[0].S8();
Q[1].fy(X!=0);Q[2].fy(X!=0);Q[0].NM(X==0?"No Paths":X==1?"Path "+b[0]:"Paths "+b.slice(0,3).join(",")+(X>3?"..":""));
if(X!=0){var D=W.I[0],h=E.A.ka(W.V,D),S=W.V[h];this.CI.t([3,0,1,2][S.xo])}}else for(var n=0;n<Q.length;
n++)Q[n].si()}else aj.prototype.a7.call(this,r)};fZ.prototype.Fk=function(){aj.prototype.Fk.call(this);
this.CI.r()};fZ.prototype.ci=function(r){if(r.target==this.CI||r.target==this.iL||r.target==this.u8){var Q={},W=this.afK,b=W.V,X=W.I,D=E.A.jm(b),h=JSON.parse(this.ao6);
X.sort(function(u,_){return u-_});if(r.target==this.CI){var S=this.CI.G();if(S<4)for(var n=0;n<X.length;
n++)b[E.A.ka(b,X[n])].xo=[1,2,3,0][S];else{if(D<=1)return;W.V=E.A.zg(b);W.I=W.V.length==2?[]:[0];W.UJ=[];
h=[E.X.lk()]}}else{var a=r.target==this.iL?-1:1,K=[];for(var n=0;n<D;n++){var Y=E.A.ka(b,n),d=Y+1+b[Y].length;
K.push(b.slice(Y,d))}var j=X.slice(0);for(var n=0;n<X.length;n++)j[n]=Math.max(n,Math.min(D-1-(X.length-1-n),j[n]+a));
if(X.join(",")==j.join(","))return;var U=JSON.parse(JSON.stringify(h));for(var n=0;n<X.length;n++){var I=a==-1?n:X.length-1-n,Y=X[I],d=j[I];
if(Y!=d){var f=K[Y];K[Y]=K[d];K[d]=f;f=U[Y];U[Y]=U[d];U[d]=f}}var g=b.slice(0,2);for(var n=0;n<K.length;
n++)g=g.concat(K[n]);W.V=g;W.I=j;h=U}Q.ok=W;Q.X=h;var H=new km(e.E.L,!0);H.data={d:e.c.ip,b:this.b,C0:Q};
this.$(H)}};function d5(){aj.call(this,["fstyle","sstyle","crnr","psnap"])}d5.prototype=new aj;function en(){aj.call(this,"tmode make anta fstyle sstyle binop cstr crad".split(" "))}en.prototype=new aj;
function a6(){aj.call(this,"tmode make anta fstyle sstyle binop cstr".split(" "))}a6.prototype=new aj;
function ak(){aj.call(this,"tmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.ZQ.aopts.t([!1,!0,50,60,0])}ak.prototype=new aj;ak.prototype.a6w=function(n){var r=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"tmode make fstyle sstyle binop pshape".split(" ").concat(r[n])};function ct(){aj.call(this,"tmode make anta fstyle sstyle binop width aopts".split(" "))}ct.prototype=new aj;
function gs(){aj.call(this,"tmode make anta fstyle sstyle binop cstr shape".split(" "))}gs.prototype=new aj;
function eH(){dU.call(this,!1,["binop","feat","redge"])}eH.prototype=new dU(!0);function gL(){j9.call(this,["brush","qsmode","redge"])}gL.prototype=new j9;
function ks(){cA.call(this);this.sX=[];for(var n=0;n<2;n++){var r=new fG(n==0?[8,11,3]:["VAR0...",[15,10,22]],null,null,!0);
this.sX.push(r);r.Z("click",this.ci,this);this.body.appendChild(r.m)}}ks.prototype=new cA;ks.prototype.ci=function(r){var Q;
if(this.sX.indexOf(r.target)==0){Q=new km(e.E.Kk,!0);Q.data={r7:"make",Hf:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}}}else{Q=new km(e.E.L,!0);
Q.data={d:e.c.Re,wv:"divslice"}}this.$(Q)};ks.prototype.Fk=function(r){for(var n=0;n<this.sX.length;
n++)this.sX[n].r()};function cu(){cA.call(this);var r=this.r4=[new fG("\u25BC",null,null,!0),new fG("\u25B2",null,null,!0),new fG([5,4],null,null,!0),new fG(["VAR0...",[15,10,22]],null,null,!0)];
for(var n=0;n<4;n++){var Q=r[n];this.body.appendChild(Q.m);Q.Z("click",this.ci,this)}}cu.prototype=new cA;
cu.prototype.ci=function(r){var Q=this.r4.indexOf(r.target),W;if(Q==3){W=new km(e.E.L,!0);W.data={d:e.c.Re,wv:"divslice"}}else{W=new km(e.E.s,!0);
W.b=m.ds;W.data={d:Q==2?"delete":"reorder",dir:Q==0?-1:1}}this.$(W)};cu.prototype.r=function(){cA.prototype.r.call(this);
for(var n=0;n<4;n++)this.r4[n].r()};function go(r,Q){cA.call(this);if(window.Typr==null||r)return;this.aab=Q;
this.GX=null;this.a0V=N.S("span","");this.ana=N.S("span","");var W=1;this.KN={o1:new cV(null,24),gf:new fq("X",0,0,"px",0,!1,!0,4),oG:new fq("Y",0,0,"px",0,!1,!0,4),df:new fq("W",0,0,["%","px"],2,!1,!0,5),mi:new fG("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),dR:new fq("H",0,0,["%","px"],2,!1,!0,5),an7:new fq("\u2221",0,0,"\xB0",W,!1,!0),aqS:new fq("\u25B1 H",-85,85,"\xB0",W,!1,!0),a4q:new fq("\u25B1 V",-85,85,"\xB0",W,!1,!0),tF:new fk(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])};
this.KN.tF.t(1);this.KN.mi.t(!0);for(var b in this.KN){var X=this.KN[b];if(Q&&(X==this.KN.an7||X==this.KN.aqS||X==this.KN.a4q||X==this.KN.tF)){}else this.a0V.appendChild(X.m);
var D=X==this.KN.mi?"click":e.E.f;X.Z(D,this.a3A,this)}this.$O=new ea(!0,!0,!0);this.$O.Z(e.E.f,this.a2w,this);
this.$O.parent=this;var h=this.ana,S=this.$O;h.appendChild(S._V.m);h.appendChild(S.Vv.m);h.appendChild(S.VO.m);
h.appendChild(S.kG.m);h.appendChild(S.SP.m);this.Kp=new fG([11,9]);this.Kp.Z("click",this.aol,this);
this.nL=new cb;this.nL.Z("click",this.j0,this)}go.prototype=new cA;go.prototype.a7=function(r){if(r.gD){var Q=go,W=this.pd;
if(W==null)W=this.pd=new ka(Q.a2C(),Q.ajb(this.b));W.r();W.parent=this;W.update(r.iG,r.zb);var b=new km(e.E.L,!0);
b.data={d:e.c.I2,MY:W,x:r.gD.e7+2,y:r.gD.ID+1};this.$(b);return}N.WC(this.body);this.GX=r;if(r.KN){var X=r.KN.nX,D=r.KN.Le.clone(),h=Math.atan2(-D.k,D.mu),S=new au;
S.rotate(-h);D.concat(S);var a=this.KN;a.o1.t(r.KN.EX);a.gf.t(r.KN.kW.x);a.oG.t(r.KN.kW.y);a.df.t(D.mu*(a.df.n1()=="%"?100:X.e));
a.dR.t(D.HR*(a.dR.n1()=="%"?100:X.n));a.an7.t(-h*180/Math.PI);a.aqS.t(Math.atan(D.th)*180/Math.PI);a.a4q.t(0*180/Math.PI);
this.body.appendChild(this.a0V);this.Kp.jw();if(r.KN.L5!=null)a.mi.t(r.KN.L5)}if(r.vH){this.$O.t(r.vH);
this.body.appendChild(this.ana);this.Kp.V9()}this.body.appendChild(this.nL.m);if(r.aay&&!this.aab)this.body.appendChild(this.Kp.m)};
go.prototype.a3A=function(r){var Q=this.KN,W=this.GX.KN.nX;if(r.target==Q.mi)Q.mi.t(!Q.mi.G());else if(Q.mi.nJ()){var b=Q.dR,X=Q.df,D=W.n,h=W.e;
if(r.target==Q.df){b=Q.df;X=Q.dR;D=W.e;h=W.n}var S=b.G()/(b.n1()=="%"?100:D);S*=X.n1()=="%"?100:h;X.t(S)}var a=[];
for(var K in Q)if(Q[K]!=Q.mi&&Q[K]!=Q.o1){var S=Q[K].G();if((Q[K]==Q.df||Q[K]==Q.dR)&&S==0){S=.1;Q[K].t(S)}if(Q[K]==Q.df&&Q[K].n1()=="px")S/=W.e/100;
if(Q[K]==Q.dR&&Q[K].n1()=="px")S/=W.n/100;a.push(S)}var Y=new cp(a[0],a[1]);if(r.target==Q.o1){this.WM({gm:"ctyp",EX:Q.o1.G()})}else if(r.target==Q.gf||r.target==Q.oG){this.WM({gm:"cen",kW:Y})}else{var d=this.GX.KN.Le.clone(),j=d.clone(),U=Math.atan2(-d.k,d.mu);
j.translate(-Y.x,-Y.y);j.rotate(-U);var I=new au(j.mu,j.k,j.th,j.HR,0,0);I.j4();j.concat(I);j.concat(new au(a[2]/100,Math.tan(a[6]*Math.PI/180),Math.tan(a[5]*Math.PI/180),a[3]/100,0,0));
j.rotate(-a[4]*Math.PI/180);j.translate(Y.x,Y.y);this.GX.KN.Le=j;this.WM({gm:"trn",KN:j,aH:this.KN.tF.G(),L5:Q.mi.G()})}};
go.prototype.a2w=function(r){this.WM({gm:"wrp",vH:this.$O.G()})};go.prototype.aol=function(r){this.WM({gm:"switchWarp"})};
go.prototype.j0=function(r){this.WM({gm:this.nL.G()?"commit":"cancel"})};go.prototype.WM=function(r){r.d=e.c.ip;
r.b=this.b;var Q=new km(e.E.L,!0);Q.data=r;this.$(Q)};go.prototype.Fk=function(){var r=this.KN;for(var Q in r)r[Q].r();
N.z4(r.df,r.dR);this.nL.r();this.$O.r();this.Kp.r()};go.a2C=function(){var r=function(Q){var W=!0;if(Q==null||Q.I.length==0)W=!1;
else{var b=Q.I;for(var n=0;n<b.length;n++){if(Q.B[b[n]].add.TySh)W=!1}}return{w:W}};return[{name:[5,9],hM:"Shift+Alt+Ctrl + T",Xe:!0},{name:[12,38]},{name:[2,5]},{name:[24,4],w:r},{name:[2,9],w:r},{name:[11,9],w:function(Q){if(Q==null||Q.I.length!=1)return{w:!1};
var W=Q.B[Q.I[0]];return{w:W.add.TySh==null&&!W.wf()}},Xe:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
go.ajb=function(r){if(r==null)r=m.YO;return[{Y:e.E.s,b:r,J:{d:"again"}},{Y:e.E.L,J:{d:e.c.cf,b:r,Eb:{BT:3}}},{Y:e.E.L,J:{d:e.c.cf,b:r,Eb:{BT:4}}},{Y:e.E.L,J:{d:e.c.cf,b:r,Eb:{BT:2}}},{Y:e.E.L,J:{d:e.c.cf,b:r,Eb:{BT:1}}},{Y:e.E.L,J:{d:e.c.cf,b:r,Eb:{BT:-1}}},{Y:e.E.s,b:r,J:{d:"rot",Cv:[2,5],h:-Math.PI/2}},{Y:e.E.s,b:r,J:{d:"rot",Cv:[2,5],h:-3*Math.PI/2}},{Y:e.E.s,b:r,J:{d:"rot",Cv:[2,5],h:Math.PI}},{Y:e.E.s,b:r,J:{d:"scl",Cv:[[2,6],[22,4,2]],h:new cp(-1,1)}},{Y:e.E.s,b:r,J:{d:"scl",Cv:[[2,6],[22,4,3]],h:new cp(1,-1)}}]};
function ir(){go.call(this)}ir.prototype=new go(!0);function bN(){go.call(this)}bN.prototype=new go(!0);
function aP(){go.call(this,!1,!0)}aP.prototype=new go(!0);function gW(){cA.call(this);var r=this.Po=[new fk([12,36],["Rigid",[15,10,0],[24,4]]),new fk([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new fq([7,4],0,100,"px"),new dL("Show Mesh"),new fG("\u25BC",null,null,!0),new fG("\u25B2",null,null,!0)];
for(var n=0;n<r.length;n++){var Q=r[n];Q.parent=this;this.body.appendChild(Q.m);Q.Z(n<4?e.E.f:"click",this.ar7,this)}this.nL=new cb;
this.nL.Z("click",this.j0,this);this.body.appendChild(this.nL.m)}gW.prototype=new cA;gW.prototype.Fk=function(){var r=this.Po;
for(var n=0;n<4;n++)r[n].r();this.nL.r()};gW.prototype.a7=function(r){var r=r.Lb;for(var n=0;n<4;n++)this.Po[n].t(r[n])};
gW.prototype.ar7=function(r){var Q=[];for(var n=0;n<4;n++)Q[n]=this.Po[n].G();var W=this.Po.indexOf(r.target);
if(W<4)this.WM({gm:"prm",Lb:Q});else this.WM({gm:"moveDepth",aoZ:W==5})};gW.prototype.j0=function(r){this.WM({gm:this.nL.G()?"commit":"cancel"})};
gW.prototype.WM=function(r){r.d=e.c.ip;r.b=this.b;var Q=new km(e.E.L,!0);Q.data=r;this.$(Q)};function hI(){eg.call(this);
this.m=N.S("div","cmanager");window.alert=function(b,X){this.anC(b,X);console.log("Alert: "+b)}.bind(this);
window.onblur=function(b){var X=this;X.MV()}.bind(this);this.Dr=0;this.J9=0;this.rZ=[];this.OQ={};this.yP=N.S("div","alertcont");
this.m.appendChild(this.yP);this.auU=N.S("div","alertcont");this.m.appendChild(this.auU);this.aT=N.S("div","alertcont");
this.ank=0;this.S7=-1;this.a49=null;this.sX=null;var r=this.ahX=N.S("div","alertpanel");r.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.aT.appendChild(r);var Q=this.RX=N.S("input");Q.setAttribute("type","text");N.U9(Q);Q.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
Q.addEventListener("input",this.aoA.bind(this),!1);Q.addEventListener("keydown",this.aa8.bind(this),!1);
r.appendChild(Q);var W=this.a3h=N.S("div","contextpanel scrollable");W.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
W.addEventListener("click",this.abv.bind(this),!1);r.appendChild(W);N.AM(document.body,this.asb.bind(this))}hI.prototype=new eg;
hI.prototype.FG=function(){if(N.Z_(this.aT))this.m.removeChild(this.aT)};hI.prototype.alp=function(r,Q){var W=this.a49=[],b=Q.apj;
for(var n=0;n<gc.data.length;n++){var X=gc.data[n],D=[aA.get(X.name)],h=[n];hI.a8l(X.items,D,h,W,r,Q,b==null?null:b[n]==null?0:b[n])}var S=f6.a;
for(var n=0;n<S.length;n+=3){if(Q.Ay&&Q.Ay.indexOf(S[n+2])==-1)continue;W.push([["Tools",aA.get(S[n])],[-1,S[n+2]],S[n+1]])}this.m.appendChild(this.aT);
var a=this.RX;a.focus();a.select();this.YY()};hI.prototype.aoA=function(r){this.S7=-1;this.YY()};hI.prototype.YY=function(){var r=this.RX.value.toLowerCase().trim().replace(/  +/g," "),Q=this.a49,W=[],b=[],X=r.split(" ");
if(r!="")for(var n=0;n<Q.length;n++){var D=Q[n][0],h=[],S=0;for(var a=0;a<D.length;a++)h[a]=-1;for(var K=0;
K<X.length;K++)for(var a=0;a<D.length;a++){var Y=D[a].toLowerCase().indexOf(X[K]);if(Y!=-1){h[a]=[Y,Y+X[K].length];
S++;break}}if(S==X.length){W.push(Q[n]);b.push(h)}}var d=[],j=this.a3h;N.WC(j);for(var n=0;n<W.length;
n++){var U=W[n],I=U[0],Y=b[n],f="enab",H="";if(n==this.S7)f+=" active";var g=N.S("div",f);d.push(g);
j.appendChild(g);for(var a=0;a<I.length;a++){var u=Y[a],s=X[a],_=I[a];if(u!=-1)_=_.slice(0,u[0])+"<span style=\"color:black\">"+_.slice(u[0],u[1])+"</span>"+_.slice(u[1]);
H+=_;if(a<I.length-1)H+=" \uFE65 "}if(U[2]&&(typeof U[2]!="string"||U[2].length==1))H+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+h8.KK(U[2])+"</span>";
g.innerHTML=H}this.sX=[W,d]};hI.prototype.aa8=function(r){var Q=h8.Gx,W=r.code;if(Q(W,h8.V2))this.FG();
var b=Q(W,h8.Rb),X=Q(W,h8.v1),D=Q(W,h8.Cj);if(b||X){this.S7=Math.max(0,Math.min(this.sX[0].length-1,this.S7+(b?-1:1)));
this.YY()}if(D&&this.S7!=-1)this.amR(this.S7)};hI.a8l=function(r,Q,W,b,X,D,h){if(typeof h=="number"){if(h==0)return;
if(h==1)h=null}for(var n=0;n<r.length;n++){if(h!=null&&(h[n]==0||h[n]==null))continue;var S=r[n],a=Q.slice(0),K=W.slice(0),Y=aA.get(S.name);
if(S.w){var d=S.w(X,D,n);if(d.B5)Y=d.B5;if(d.w==!1)continue}a.push(Y);K.push(n);if(S.sub)hI.a8l(S.sub,a,K,b,X,D,h?h[n]:null);
else b.push([a,K,S.hM])}};hI.prototype.abv=function(r){var Q=r.target;if(Q.tagName.toLowerCase()=="span")Q=Q.parentNode;
var W=this.sX[1].indexOf(Q);if(W!=-1)this.amR(W)};hI.prototype.amR=function(r){var Q=this.sX[0][r][1];
if(Q[0]==-1){var W=new km(e.E.L,!0);W.data={d:e.c.cf,b:Q[1]};this.$(W)}else{var b=gc.data[Q[0]].$H[Q[1]];
for(var n=2;n<Q.length;n++)b=b.sub[Q[n]];var X=new km(b.Y,!0);X.b=b.b;X.data=b.J;this.$(X)}this.FG()};
hI.prototype.du=function(r,Q){this.Dr=r;this.J9=Q;this.a3h.style["max-height"]=Q-120+"px"};hI.prototype.aof=function(r){var Q=N.S("div","alertpanel");
Q.textContent=aA.get(r);this.yP.appendChild(Q);this.OQ[JSON.stringify(r)]=Q};hI.prototype.a0b=function(r){var Q=this.OQ[JSON.stringify(r)];
this.yP.removeChild(Q);delete this.OQ[JSON.stringify(r)]};hI.prototype.anC=function(r,Q){var W=this.auU;
for(var n=0;n<W.children.length;n++)if(W.children[n].textContent==r)return;var b=N.S("div","alertpanel tpanel");
b.textContent=r;b.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");W.appendChild(b);if(Q==null)Q=1500;
var X=Q,D=Math.max(Date.now()+X,this.ank+X);setTimeout(function(){b.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){W.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},D-Date.now()-30);
setTimeout(function(){W.removeChild(W.firstChild);W.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},D-Date.now());
this.ank=D};hI.prototype.asb=function(r){var Q=this.rZ;for(var n=Q.length-1;n>=0;n--){var W=Q[n],b=r.target;
while(b!=null){if(b==W.m){this.MV(W);return}b=b.parentNode}}this.MV();var X=r.target;while(X!=this.aT&&X!=document.body)X=X.parentNode;
if(X!=this.aT)this.FG()};hI.prototype.MV=function(r){var Q=this.rZ;for(var n=0;n<Q.length;n++){if(r&&r.age(Q[n]))continue;
var W=Q[n].m;if(!(Q[n]instanceof ka))N.Z0(Q[n],this.m);else this.m.removeChild(W);W.style.height="auto";
N.Q5(W,"scrollable");Q.splice(n,1);n--}};hI.prototype.a7Y=function(r){this.MV(r.MY);var Q=r.MY,W=Q.m;
if(this.rZ.indexOf(Q)!=-1)return;this.rZ.push(Q);this.m.appendChild(W);var b=this.Dr,X=this.J9,D=r.x,h=r.y,S=this.m.getBoundingClientRect(),a=Q instanceof ka,K=-1,Y=X-2;
if(a||r.de){var d=Q.by(),j=Q.a1I();if(a)d=Math.min(d,200);var U=b-d-2,I=X-j-2;if(h<I)K=2;else if(D<U)K=1;
else if(0<h-j-2)K=0;else K=3;if(r.a6E)K=0;if(r.abn)K=2;if(K==2){D=Math.min(D,U)}else if(K==1){h=Math.min(h,I)}else if(K==0){h=h-j-2;
D=Math.min(D,U);Y=r.y}else if(K==3){D=D-d-2;h=Math.min(h,I)}}h=Math.max(2,h);var top=Math.round(h-S.y+this.m.offsetTop);
W.style.position="absolute";W.style["z-index"]=10;if(h+Q.a1I()>Y){W.style.height=Y-h+"px";N.lB(W,"scrollable");
if(K==3)D-=10}W.style.left=Math.round(D)+"px";W.style.top=top+"px";if(!(Q instanceof ka))N._R(Q)};hI.prototype.aaH=function(r){var Q=r.MY,W=this.rZ.indexOf(Q);
if(W==-1)return;this.rZ.splice(W,1);var b=Q.m;if(!(Q instanceof ka))N.Z0(Q,this.m);else this.m.removeChild(Q.m)};
hI.prototype.A4=function(){var r=this.rZ;return r.length==0?null:r[r.length-1]};hI.prototype.ak2=function(){this.aaH({MY:this.A4()})};
function hO(){eg.call(this);this.m=N.S("div","confbar")}hO.prototype=new eg;hO.prototype.ara=function(r){r.parent=this;
N.WC(this.m);this.m.appendChild(r.m)};function dR(r){eg.call(this);dR.Ow=this;dR.pg=r;this.Ha=null;this._k=N.S("input","");
this._k.setAttribute("type","file");this._k.setAttribute("multiple","");this._k.addEventListener("change",function(Q){this.Og(Q.target.files,null,this.mE,null);
this.mE=null}.bind(this),!1);document.body.appendChild(this._k);this._k.setAttribute("style","display:none");
this.a9s=[];this.f$=!1;this.acH=[];this.ja=!1;this.amt={};this.mE=null}dR.prototype=new eg;dR.pg=null;
dR.GM=function(r){try{var Q={};Q[r.type]=r;navigator.clipboard.write([new ClipboardItem(Q)])}catch(aA){console.error(aA,aA.message)}};
dR.cQ=function(r,Q){navigator.clipboard.read().then(function(W){for(var n=0;n<W.length;n++){try{var b=W[n],X={},D=0,h=0;
for(var S=0;S<b.types.length;S++){var a=b.types[S];D++;b.getType(a).then(function(K){var Y=a;new Response(K).arrayBuffer().then(function(d){X[this.tv]=d;
h++;if(h==D)dR.aaC(X,r,Q)}.bind({tv:this.tv}))}.bind({tv:a}))}}catch(aA){console.error(aA,aA.message)}}}).catch(function(W){alert("Clipboard error: ("+W.message+")")})};
dR.a3u=function(r){navigator.permissions.query({name:"clipboard-read"}).then(function(Q){r(Q.state)})};
dR.aaC=function(r,Q,W){var b=["text/plain","image/png","text/html","text/plain"];for(var X in r)console.log(X,X.startsWith("text")?c.CA(new Uint8Array(r[X])).slice(0,100)+"...":r[X]);
for(var D=0;D<b.length;D++){var h=b[D],S=r[h];if(S==null)continue;if(h=="image/png"){dR.pg({name:"image.png"},S,Q,W);
return}if(h=="text/plain"){var a=c.CA(new Uint8Array(S));if(D==0)if(!a.startsWith("<!--")&&!a.startsWith("<svg"))continue;
var K=new km(e.E.L,!0);K.data={d:e.c.af4,h:a};Q.$(K);return}if(h=="text/html"){var a=c.CA(new Uint8Array(S)),Y=a.indexOf("src=\"");
if(Y!=-1&&a.slice(Y+5,Y+9)!="http"){var d=Y+10;while(a[d]!="\"")d++;var j=a.slice(Y+5,d);dR.pg({name:"chart.png"},fH.lJ(j).buffer,Q,W);
return}}}};dR.prototype.V0=function(r){if(r==null)r=[23,5];var Q=JSON.stringify(r),W=this.amt;if(W[Q]==null)W[Q]=0;
if(W[Q]==0){var b=new km(e.E.L,!0);b.data={d:e.c.lr,gC:r};this.$(b)}W[Q]++};dR.prototype.Jq=function(r){if(r==null)r=[23,5];
var Q=JSON.stringify(r),W=this.amt;if(W[Q]==null)W[Q]=0;W[Q]--;if(W[Q]==0){var b=new km(e.E.L,!0);b.data={d:e.c.CB,gC:r};
this.$(b)}};dR.prototype.aeM=function(r,Q){this.mE=r;var W=window.showOpenFilePicker;if(W&&window.self==window.top){var b=this;
W({multiple:!0}).then(function(h){var S=[];function a(K){S.push(K);if(S.length==h.length){b.Og(S,null,b.mE,null,h);
b.mE=null}else h[S.length].getFile().then(a)}h[S.length].getFile().then(a)});return}var X=this._k;if(Q)X.setAttribute("accept",Q);
else X.removeAttribute("accept");var D=document.createEvent("MouseEvents");D.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
X.dispatchEvent(D)};dR.prototype._m=function(r){if(r.url.indexOf("photopea.com#i")!=-1||r.url.indexOf("photopea.com/#i")!=-1){this.pw(r.url.split("#i").pop());
return}this.a9s.push(r);this.alu()};dR.prototype.alu=function(){var r=this.a9s;if(r.length==0||this.f$)return;
this.f$=!0;var Q=r.shift();this.V0();if(Q.FX==null)Q.FX={};var W=new XMLHttpRequest;W.p3=Q;var b=Q.url;
if(Q.Wl&&!b.startsWith("data:image"))b="mirror.php?url="+encodeURIComponent(b);W.open("GET",b);if(Q.HD)for(var X in Q.HD)W.setRequestHeader(X,Q.HD[X]);
W.responseType="arraybuffer";W.onload=this.avN.bind(this);W.send()};dR.prototype.Og=function(r,Q,W,b,X){for(var n=0;
n<r.length;n++){this.V0();var D=r[n],h=new FileReader;h.p3=D;h.p3.cy=W;h.p3.us=b;h.as0=Q;if(X)h.p3.es=X[n];
h.onload=this.avN.bind(this);h.onerror=function(S){this.Jq()}.bind(this);this.acH.push([h,D])}this._k.value=null;
this.ams()};dR.prototype.ams=function(){var r=this.acH;if(r.length==0||this.ja)return;this.ja=!0;var Q=r.shift();
Q[0].readAsArrayBuffer(Q[1])};dR.prototype.asM=function(r,Q,W){this.V0("Saving ...");this.Ha=Q;setTimeout(W.bind({M_:r,caller:this}),50)};
dR.Si=function(r){var Q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",W=new Uint8Array(r),b=W.length,X=b%3,D=b-X,h=[],S=0,a=0,K=0;
for(var n=0;n<D;n+=3){S=W[n];a=W[n+1];K=W[n+2];h.push(Q[S>>2]+Q[(S&3)<<4|a>>4]+Q[(a&15)<<2|K>>6]+Q[K&63])}if(X==1){S=W[D];
h.push(Q[S>>2]+Q[(S&3)<<4]+"==")}if(X==2){S=W[D];a=W[D+1];h.push(Q[S>>2]+Q[(S&3)<<4|a>>4]+Q[(a&15)<<2]+"=")}var Y=h.join("");
return Y};dR.a7t=function(r,Q){var W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=new Uint8Array(64),S=0,a=0,K=0,d=0;
for(var n=0;n<64;n++)b[n]=W.charCodeAt(n);var X=new Uint8Array(r),D=Q%3,h=Q-D,Y=new Uint8Array(Math.floor(Q/3)*4+(D==0?0:4));
for(var n=0;n<h;n+=3){S=X[n];a=X[n+1];K=X[n+2];Y[d]=b[S>>>2];Y[d+1]=b[(S&3)<<4|a>>>4];Y[d+2]=b[(a&15)<<2|K>>>6];
Y[d+3]=b[K&63];d+=4}if(D==1){S=X[h];Y[d]=b[S>>2];Y[d+1]=b[(S&3)<<4];Y[d+2]=61;Y[d+3]=61}if(D==2){S=X[h];
a=X[h+1];Y[d]=b[S>>2];Y[d+1]=b[(S&3)<<4|a>>4];Y[d+2]=b[(a&15)<<2];Y[d+3]=61}return Y};dR.prototype.avN=function(r){var Q,W=r.target.p3;
if(r.target instanceof XMLHttpRequest)Q=r.target.response;else Q=r.target.result;dR.pg(W,Q,this,r.target.as0);
this.Jq();if(r.target instanceof XMLHttpRequest){this.f$=!1;this.alu()}else{this.ja=!1;this.ams()}};
dR.amS=function(r,Q){var W=new XMLHttpRequest;W.open("POST","https://api.imgur.com/3/image",!0);W.Db=Q;
W.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");W.setRequestHeader("Content-type","application/x-www-form-urlencoded");
W.setRequestHeader("Accept","application/json");W.addEventListener("load",dR.acv);W.send("type=base64&image="+encodeURIComponent(dR.Si(r)));
alert("Saving to Imgur ...",4e3)};dR.acv=function(r){var Q=JSON.parse(r.target.response);if(Q.success){if(r.target.Db)r.target.Db(Q.data.link);
else window.open(Q.data.link,"Imgur")}};dR.prototype.pw=function(r,Q,W){this.V0();var b=new XMLHttpRequest;
b.responseType="arraybuffer";b.open("GET","https://f000.backblazeb2.com/file/"+(W?"pp-resources":"psdshared")+"/"+r);
b.onload=this.ai5.bind(this);b.send();b.gV=[Date.now(),r,Q?r:null,W]};dR.prototype.ai5=function(r){var Q=r.target.gV,W=new Uint8Array(r.target.response);
console.log(W.length+" B,",Date.now()-Q[0]+" ms");for(var n=0;n<W.length;n++)W[n]=255-W[n];W=pako.inflateRaw(W);
var b=JSON.parse(c.CA(W,0,2e3));dR.pg({name:b.name,sz:Q[2]},W.slice(2e3).buffer,this);this.Jq();if(!Q[3])dR.Ls("act=0&id="+Q[1])};
dR.prototype.ahU=function(r,Q,W,b){if(!(r instanceof ArrayBuffer))throw"e";r=new Uint8Array(r);var X=new Uint8Array(r.length+2e3),j="";
for(var n=0;n<2e3;n++)X[n]=32;c.XX(JSON.stringify({name:Q}),X,0);X.set(r,2e3);r=X;r=pako.deflateRaw(r);
for(var n=0;n<r.length;n++)r[n]=255-r[n];r=r.buffer;var D=r.byteLength,h=hb.Vh(D),S=~~(609e5/2),a=~~(209e5/2);
if(D>S){confirm("Your file is "+h+". Our limit is "+hb.Vh(S)+". Delete some layers and try again.");
return}if(D>a){var K=confirm("Your file is quite large ("+h+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!K)return}var Y=sha1(r),d=[];for(var n=0;n<20;n++){var U=parseInt(Y.slice(n*2,n*2+2),16);d.push(U);
j+=String.fromCharCode(U)}var I=btoa(j).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(dR.avn(I,b)){console.log("file already exists");
if(W)W(I);else window.open("https://www.photopea.com#i"+I);return}this.V0("Publishing ...");var f=new XMLHttpRequest;
f.gV=[r,Y,I,W,b];f.open("GET","/papi/img/publish.php?rnd="+Math.random()+"&id="+I+"&size="+D+"&bname="+b);
f.onload=this.a9d.bind(this);f.send()};dR.avn=function(r,Q){try{var W=new XMLHttpRequest;W.open("HEAD","https://f000.backblazeb2.com/file/"+Q+"/"+r,!1);
W.send();if(W.status==200)return!0}catch(aA){return!1}return!1};dR.prototype.a9d=function(r){console.log(r.target.response);
var Q=JSON.parse(r.target.response),W=r.target.gV,b=new XMLHttpRequest;b.open("POST",Q.uploadUrl);b.setRequestHeader("Authorization",Q.authorizationToken);
b.setRequestHeader("X-Bz-File-Name",W[2]);b.setRequestHeader("Content-Type","b2/x-auto");b.setRequestHeader("X-Bz-Content-Sha1",W[1]);
b.send(new Blob([W[0]]));b.onload=this.a1G.bind({OD:this,gV:W})};dR.prototype.a1G=function(r){this.OD.Jq("Publishing ...");
if(this.gV[3])this.gV[3](this.gV[2]);else window.open("https://www.photopea.com#i"+this.gV[2]);if(this.gV[4]=="psdshared")dR.Ls("act=2&id="+this.gV[2]+"&fileId="+JSON.parse(r.target.response).fileId)};
dR.Ls=function(r){var Q=new XMLHttpRequest;Q.open("GET","/papi/img/update.php?"+r+"&rnd="+Math.random());
Q.send()};dR.save=function(r,Q){var W=new Uint8Array(r),b=document.createElement("a");if(typeof b.download=="string"){var X=new Blob([W]),D=window.URL.createObjectURL(X);
b.href=D;b.download=Q;document.body.appendChild(b);b.click();document.body.removeChild(b)}else{var h="data:application/octet-stream;base64,"+dR.Si(r);
window.open(h)}};function f8(){this.size=16;this.data=E.Q(16)}f8.prototype.Jd=function(r,Q){if(r+Q<=this.size)return;
var W=this.size;while(r+Q>this.size)this.size*=2;var b=E.Q(this.size);for(var n=0;n<W;n++)b[n]=this.data[n];
this.data=b};var gK={};gK.eE=function(r,Q,W){var b=Q.split(":"),X=b[0],D=null;if(b.length==2){if(X=="jpg")D=[Math.round(100*parseFloat(b[1]))];
if(X=="webp")D=[Math.round(100*parseFloat(b[1])),100,0,!1,!1];if(X=="psd")D=[!0,!0];if(X=="svg")D=b[1].split(",").map(function(S){return S=="true"})}var h=fH.w3(r,X.toUpperCase(),null,null,D,W);
return h};gK.amJ=function(r,Q,W){var b=r.T6(),X=Q[0];return gK.eE(r,X,W)};gK.a32=function(){var r=this.M_,Q=this.caller,W=r.FX.ZH,b=W.formats,X,D;
r.T6();var h=Date.now();if(W.version==1){var S=[],a=0,Y=0;for(var n=0;n<b.length;n++){var K=gK.eE(r,b[n],Q.Ha);
S.push(K);a+=K.byteLength}X=new Uint8Array(2e3+a);var d="{ \"source\": "+JSON.stringify(r.wG)+", \"versions\": [\n";
for(var n=0;n<b.length;n++){var j=new Uint8Array(S[n]);d+="\t{\"format\": \""+b[n].split(":")[0]+"\", \"start\": "+Y+", \"size\": "+j.length+" }"+(n+1<b.length?", ":"")+"\n";
X.set(j,2e3+Y);Y+=S[n].byteLength}d+="] }";var U=c.XX(d,X,0);for(var n=U;n<2e3;n++)X[n]=32;D="application/octet-stream"}else{var I=new f8,f=0,g="",H=encodeURIComponent;
g="p="+H("{ \"source\": "+JSON.stringify(r.wG)+", \"versions\": [");c.oo(I,f,g);f+=g.length;for(var n=0;
n<b.length;n++){g=H(" {\"format\": \""+b[n].split(":")[0]+"\", \"data\": \"");c.oo(I,f,g);f+=g.length;
var K=gK.eE(r,b[n],Q.Ha),u=dR.a7t(K,K.byteLength),U=u.length;I.Jd(f,U);for(var s=0;s<U;s++){I.Jd(f,3);
var _=u[s];if(_==43){I.data[f]=37;I.data[f+1]=50;I.data[f+2]=66;f+=3}else if(_==47){I.data[f]=37;I.data[f+1]=50;
I.data[f+2]=70;f+=3}else if(_==61){I.data[f]=37;I.data[f+1]=51;I.data[f+2]=68;f+=3}else{I.data[f]=_;
f++}}g=H("\" }"+(n+1<b.length?", ":""));c.oo(I,f,g);f+=g.length}g=H("] }");c.oo(I,f,g);f+=g.length;X=I.data.slice(0,f);
D="application/x-www-form-urlencoded"}var i=new XMLHttpRequest;i.open("POST",W.url,!0);if(D)i.setRequestHeader("Content-Type",D);
i.addEventListener("load",gK.acA.bind(this));i.send(new Blob([X.buffer]))};gK.acA=function(r){this.caller.Jq("Saving ...");
var Q=r.target.response;if(Q.charAt(0)=="{"){Q=JSON.parse(Q);if(Q.newSource)this.M_.wG=Q.newSource;if(Q.message)alert(Q.message,2e3);
if(Q.script){var W=new km(e.E.L,!0);W.data={d:e.c.yX,OO:Q.script};this.caller.$(W)}}else alert("Saved. Response: "+Q,1500)};
gK.afl=function(r){var Q=r.Pl,W=Q[1].split(".").pop(),b=gK.eE(r,W),X=Storage.agb(Q[0]);X.a4f(Q[1],b)};
gK.a6M=function(r,Q){var W=r.VQ.Gz;if(Q==null)Q=gK.eE(r,W);iS.NC(function(){var b=new XMLHttpRequest,X="https://www.googleapis.com/upload/drive/v3/files/"+r.VQ.file.id+"?uploadType=media"+"&"+iS.g3();
b.open("PATCH",X,!0);b.addEventListener("load",function(D){var h=JSON.parse(D.target.response);alert(h.name+" updated")});
b.send(Q);alert("Saving \""+r.VQ.file.name+"\" to Google Drive ...")})};gK.pg=function(r,Q,W,b){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)gK.ayK(r,Q,W,b);
else{try{gK.ayK(r,Q,W,b)}catch(aA){if(aA=="low_ram"){}else{var X="Error. Please, send your file to support@photopea.com and we will solve it.";
if(fH.E$(Q)=="eps")X="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(X,1e4)}}}};gK.ayK=function(r,Q,W,b){var X;if(r.name){var D=r.name.lastIndexOf(".");X=D==-1?D:r.name.slice(0,D)}else{if(r.url.substring(0,5)=="data:"||r.url.indexOf("googleapis")!=-1)X="image";
else X=r.url.substring(r.url.lastIndexOf("/")+1).split(".")[0];X=X.slice(0,50)}var h=r.name?r.name:r.url,S=new Uint8Array(Q),a=fH.E$(Q),K=window.gtag;
if(Math.random()<.25&&K&&a!=null&&fH.Qt(a))K("event",a,{event_category:"Formats"});if(a==null)a=c.zV(S,0,4);
if(h&&h.toLowerCase().endsWith(".raw")){var Y=new km(e.E.L,!0);Y.data={d:e.c.Re,wv:"importraw",tq:Q,Ao:h.split("/").pop()};
W.$(Y);return}else if(a=="json"){var d="";for(var n=0;n<S.length;n++)d+=String.fromCharCode(S[n]);d=decodeURIComponent(escape(d));
var j=JSON.parse(d);if(j.name&&j.url){var Y=new km(e.E.L,!0);Y.data={d:e.c.aaJ,h:j};W.$(Y)}else{alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(j)}return}if(a=="html"){var d=c.CA(S,0,S.length),U=new DOMParser,I=U.parseFromString(d,"text/html"),f=I.getElementsByTagName("meta");
for(var n=0;n<f.length;n++){var g=f[n],H=g.getAttribute("property"),u=g.getAttribute("content"),_=null;
if(H=="og:image")_=u;if(H==null&&u&&u.startsWith("0;url=/imgres?")){var i=u.slice(14).split("&");for(var M=0;
M<i.length;M++)if(i[M].startsWith("imgurl"))_=decodeURIComponent(i[M].slice(7))}if(_==null)continue;
var Y=new km(e.E.L,!0);Y.data={d:e.c.Es,Lb:{url:_,Wl:!0,cy:r.cy}};W.$(Y)}return}if(fH.Qt(a)){var T,R,z=fH.Qt(a);
if(r.cy!=null&&"jpg png gif pdf svg ai psd".split(" ").indexOf(a)!=-1){var Y=new km(e.E.L,!0);if(0<=r.cy)Y.data={d:e.c.ff,target:r.cy,Bs:r.us,gR:Q,Yy:X};
else{Y=new km(e.E.s,!0);Y.data={d:$.t2,data:new Uint8Array(Q),Ao:X+"."+a};Y.b=m.M0}W.$(Y);return}var G=[X,z,a,r,W,b,Q];
if(z.gF){T=new bj(X+(a=="psd"?"":"-"+a)+".psd");z.ni(Q,T,gK.E7,G)}else{R=z.ni(Q,null,gK.E7,G,W)}if(z.KG!=!0)gK.E7(T,R,G);
else W.V0();return}var V=new km(e.E.L,!0);V.data={d:e.c.pK,tq:Q,A6:r.name};var y=r instanceof File&&r.alA!=!0,Y=new km(e.E.L,!0);
Y.data={d:e.c.bJ,FX:"add",Lb:null,t_:null,aq9:r.alA};if(a=="zip"){var k=Date.now(),B=UZIP.parse(Q),v="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var l in B){var F=!1;for(var n=0;n<v.length;n++)if(l.toLowerCase().endsWith("."+v[n]))F=!0;if(l.startsWith("__MACOSX/")||B[l].length==0)F=!0;
if(F)continue;var L=l.split("/").pop();gK.pg({name:L},B[l].buffer,W,b)}}else if(a=="jsx"||h&&h.toLowerCase().endsWith(".jsx")){var d=c.CA(new Uint8Array(Q));
Y.data={d:e.c.yX,OO:d};W.$(Y)}else if(a=="otf"){if(y)W.$(V);var Z=Typr.parse(Q);Y.data.Lb=d4.TH;for(var n=0;
n<Z.length;n++){Y.data.t_=Z[n];W.$(Y)}}else if(a=="asl"){if(y)W.$(V);var Z=iz.ak(Q);Y.data.Lb=d4.vP;
Y.data.t_=Z.DI;W.$(Y);Y.data.Lb=d4.Ec;Y.data.t_=Z.YX;W.$(Y)}else if(a=="tpl"){if(y)W.$(V);var Z=c1.ak(Q);
Y.data.Lb=d4.Yu;Y.data.t_={I_:Z.I_,_v:Z._v,list:[]};W.$(Y);if(Z.a8V.length!=0){Y.data.Lb=d4.z1;Y.data.t_=Z.a8V;
W.$(Y)}if(Z.YX.length!=0){Y.data.Lb=d4.Ec;Y.data.t_=Z.YX;W.$(Y)}Y.data.Lb=d4.HU;Y.data.t_=Z.list;W.$(Y)}else{var t="";
for(var A in d4.vN)if(d4.vN[A][0]==a)t=A;if(t!=""){if(y)W.$(V);Y.data.t_=d4.vN[t][2].ak(Q,h);Y.data.Lb=t;
W.$(Y)}else alert("Unknown file format: "+JSON.stringify(a))}};gK.E7=function(r,Q,W){var b=W[0],X=W[1],D=W[2],h=W[3],S=W[4],a=W[5],K=W[6];
if(X.KG)S.Jq();if(!X.gF){if(Q.length==0)return;if(Q[0].t33421||Q[0].t50706){E.raw.normalize(Q[0],K);
console.log(Q[0]);var Y=new km(e.E.L,!0);Y.data={d:e.c.Re,wv:"rawpea",ov:Q[0]};S.$(Y);return}if(a){a(new Uint8Array(Q[0].data),Q[0].Kx);
return}r=fH.lc(b,Q)}r.sz=h.sz;r.EB=D;r.FX=h.FX;r.wG=h.url;r.AW=h.AW;r.VQ=h.VQ;r.es=h.es;r.Pl=h.Pl;if(r.VQ)r.VQ.Gz=D;
if(r.B.length!=0){var Y=new km(e.E.L,!0);Y.data={d:h.cy==null?e.c.kp:e.c.ff,target:h.cy,Bs:h.us,gR:r};
S.$(Y)}};function bW(r){eg.call(this);this.K3=bW.K3++;this.bW=r;this.a9n=this.asu.bind(this);this.aaj=this.a8F.bind(this);
this.al6=this.PN.bind(this);this.a1b=this.acL.bind(this);this.apO=this.a7G.bind(this);this.a85=this.alj.bind(this);
this.iU=0;this.a0i=0;this.a28=0;this.m=N.S("div","panelblock");this.PA=N.S("div","block");this.Fe=N.S("div","collapsed");
this.m.appendChild(this.PA);this.uJ=-1;this.xd=!0;this.zG=N.S("div","panelhead");this.PA.appendChild(this.zG);
this.Bu(this.zG);this.RL=new fG("\u2261");this.RL.m.setAttribute("style","position:absolute; right:0;");
this.RL.Z("click",this.ad_,this);this.Hb=N.S("div","body");this.PA.appendChild(this.Hb);this.yp=[];this.l6=null;
this.Ug=null}bW.K3=0;bW.prototype=new eg;bW.Yh=26.1;bW.prototype.ad_=function(r){var Q=this.yp[this.uJ].pe(),W=r.currentTarget.m.getBoundingClientRect();
Q.r();Q.update();Q.parent=this;var b=new km(e.E.L,!0);b.data={d:e.c.I2,MY:Q,x:W.left,y:W.top+W.height+2};
this.$(b)};bW.prototype.GT=function(r){var Q=this.PA,W=this.zG,b=this.Hb;if(N.Z_(W))Q.removeChild(W);
if(N.Z_(b))Q.removeChild(b);if(r==0)Q.appendChild(W);Q.appendChild(b);this.a28=r};bW.pR=function(r){r.stopPropagation();
r.preventDefault()};bW.prototype.asu=function(r){var Q=r.dataTransfer.types;if(Q[1]!=null&&Q[1]!=this.K3+"")return;
bW.pR(r);var fb=r.currentTarget;if(r.target==fb)N.lB(fb,"highlight")};bW.prototype.a8F=function(r){bW.pR(r);
var fb=r.currentTarget;if(r.target==fb)N.Q5(fb,"highlight")};bW.prototype.Bu=function(r){r.addEventListener("dragenter",this.a9n,!1);
r.addEventListener("dragleave",this.aaj,!1);r.addEventListener("dragover",bW.pR,!1);r.addEventListener("drop",this.al6,!1);
r.addEventListener("dragstart",function(Q){Q.dataTransfer.setData("Text","--panel");Q.dataTransfer.setData(this.K3+"","")}.bind(this),!1)};
bW.prototype.PN=function(r){this.aaj(r);var Q=null,fb=r.currentTarget,W=this.a2g(fb);if(fb==this.Hb&&this.uJ!=-1)Q=this.uJ;
else if(fb==this.zG)Q=null;else if(W!=-1)Q=W;var b=r.dataTransfer.getData("Text");if(b==""||b.startsWith("http"))N.SI(r,this,Q);
else if(b=="--panel"){var X=N.ug(r,fb),D=this.yp,h=D.slice(0),n=this.uJ,S=W==-1?D.length:X.x<fb.getBoundingClientRect().width/2?W:W+1;
if(n==S||n+1==S||fb==this.Hb)return;var a=n<S?S-1:S,K=D[n];D.splice(n,1);D.splice(a,0,K);N.WC(this.zG);
for(var Y=0;Y<D.length;Y++)this.zG.appendChild(D[Y].Hc);this.Ur(a);var d=[];for(var n=0;n<D.length;n++)d[n]=h.indexOf(D[n]);
var j=new km("shuffleItems",!1);j.data={aq5:d};this.$(j)}else if(Q!=null&&this instanceof c6){var j=new km(e.E.L,!0);
j.data={d:e.c.ax4,amK:Q};this.$(j)}};bW.prototype.VW=function(){return null};bW.prototype.a9I=function(){if(this.VW()){this.zG.style.padding="0px";
this.Ug=this.VW();this.Hb.appendChild(this.Ug);this.At.fy(!1);var r=new km(e.E.L,!0);r.data={d:e.c.D7,h:1};
this.$(r)}};bW.prototype.aaE=function(){if(this.Ug){this.zG.style.padding="";this.Hb.removeChild(this.Ug);
this.Ug=null;this.At.fy(!0);var r=new km(e.E.L,!0);r.data={d:e.c.D7,h:0};this.$(r)}};bW.prototype.a2g=function(r){var Q=this.yp;
for(var n=0;n<Q.length;n++)if(Q[n].Hc==r)return n;return-1};bW.prototype.Um=function(){for(var n=0;n<this.yp.length;
n++)this.yp[n].RN.jw()};bW.prototype.aq=function(){return this.uJ};bW.prototype.tL=function(){if(this.xd)return;
this.xd=!0;this.m.removeChild(this.Fe);this.m.appendChild(this.PA)};bW.prototype.collapse=function(){if(!this.xd)return;
this.xd=!1;this.m.appendChild(this.Fe);this.m.removeChild(this.PA)};bW.prototype.Yh=function(){var r=0;
if(this.a28==0){r=this.zG.getBoundingClientRect().height+1;r=Math.max(r,bW.Yh)}return r};bW.prototype.afD=function(){return this.Yh()+this.Hb.getBoundingClientRect().height};
bW.prototype.du=function(r,Q){this.zG.style.maxWidth=r+"px";var W=this.Yh();if(this.uJ!=-1)this.yp[this.uJ].du(r,Q-W);
return Q-W};bW.prototype.VJ=function(r,Q){if(this.uJ!=-1)this.yp[this.uJ].VJ(r,Q)};bW.prototype.ba=function(r,Q,W){this.yp[this.uJ].ba(r,Q,W)};
bW.prototype.je=function(r){this.aaE();if(this.yp.indexOf(r)!=-1){this.Ur(this.yp.indexOf(r));return}r.parent=this;
this.yp.push(r);this.zG.appendChild(r.Hc);r.Hc.addEventListener("mouseover",this.a1b,!1);this.Bu(r.Hc);
this.Fe.appendChild(r.RN.m);r.RN.Z("click",this.a7T,this);r.Z("select",this.a9r,this);r.Z(e.E.RR,this.a6e,this);
this.Ur(this.yp.length-1)};bW.prototype.acL=function(r){if(r.buttons==0)return;var Q=r.currentTarget,W=Q,n=0;
while((W=W.previousSibling)!=null)n++;this.a0i=n;Q.addEventListener("mouseout",this.apO,!1);this.iU=setTimeout(this.a85,700)};
bW.prototype.a7G=function(r){var Q=r.currentTarget,W=Q,n=0;while((W=W.previousSibling)!=null)n++;Q.removeEventListener("mouseout",this.apO);
clearTimeout(this.iU)};bW.prototype.alj=function(r){this.$(new km(e.E.axL,!1))};bW.prototype.a0U=function(r){return this.a0i};
bW.prototype.Z9=function(n){var r=new km(e.E.RR,!1);r.data={MI:n};this.$(r);var Q=this.yp[n];this.yp.splice(n,1);
this.zG.removeChild(Q.Hc);this.Fe.removeChild(Q.RN.m);Q.Hc.className="";Q.RN.removeEventListener("click",this.a7T,this);
Q.RN.jw();Q.removeEventListener("activate",this.a9r);Q.removeEventListener(e.E.RR,this.a6e);var W=this.uJ;
if(n<W)W--;else if(n==W&&n==this.yp.length)W--;this.Ur(W);if(this.yp.length==0)this.a9I()};bW.prototype.apw=function(){return this.yp.length};
bW.prototype.bo=function(){if(this.yp.length!=0)this.yp[this.uJ].bo()};bW.prototype.Ur=function(r,Q){if(Q==null)Q=!0;
for(var n=0;n<this.yp.length;n++)this.yp[n].Hc.className="";if(this.l6)this.Hb.removeChild(this.l6);
this.l6=null;this.uJ=r;if(r==-1)return;var W=this.yp[this.uJ];this.l6=W.ft;this.Hb.appendChild(W.ft);
W.Hc.className="active";if(!this.xd){this.$(new km("showFloat"));this.yp[r].RN.V9()}if(Q)this.$(new km(e.E.f,!1));
W.Sh();var b=this.RL.m;if(b.parentNode)this.zG.removeChild(b);if(W.pe())this.zG.appendChild(b);var X=new km(e.E.L,!0);
X.data={d:e.c.Kl};this.$(X)};bW.prototype.a9r=function(r){if(this.bW&&!this.bW.a5P())return;var n=this.yp.indexOf(r.currentTarget);
this.Ur(n)};bW.prototype.a6e=function(r){if(this.bW&&!this.bW.a5P())return;var n=this.yp.indexOf(r.currentTarget);
this.Z9(n)};bW.prototype.a7T=function(r){var Q=this.yp.indexOf(r.currentTarget.parent);if(this.yp[Q].RN.nJ())this.$(new km("hideFloat"));
else this.Ur(Q)};bW.prototype.akZ=function(r){this.$(r)};function c6(r){bW.call(this,r);this.Dr=0;this.J9=0;
N.gJ(this.zG,this.a2G.bind(this));this.X4=0;this.aoO=this.a5W.bind(this);this.Bu(this.Hb);this.SF=["default;"];
this.At=new N.jG(this.Hb);this.QN=new dn(!0);this.QN.parent=this;this.DW=this.QN.m;dn.dN(this.QN)}c6.prototype=new bW;
c6.prototype.a2G=function(r){if(r.target!=this.zG)return;var Q=this.X4;this.X4=Date.now();if(Date.now()-Q>300)return;
var W=new km(e.E.L,!0);W.data={d:e.c.Re,wv:"newproject"};this.$(W)};c6.prototype.bj=function(r,Q){if(Q)this.SF.push(r);
else{var W=this.SF.length-1;if(this.SF[W]==r)return;this.SF[W]=r}this.y1()};c6.prototype.a0e=function(){this.SF.pop();
this.y1()};c6.prototype.y1=function(){var r=this.SF[this.SF.length-1];this.At.ba(r,this.UR)};c6.prototype.VJ=function(r,Q){bW.prototype.VJ.call(this,r,Q);
this.QN.VJ(r,Q);if(!r.l1){}};c6.prototype.r=function(){bW.prototype.r.call(this);this.QN.r()};c6.prototype.ba=function(r,Q){for(var n=0;
n<Q.length;n++){var W=Q[n];this.yp[n].Ll(W.name+(W.u1()?" *":""))}bW.prototype.ba.call(this,r,Q)};c6.prototype.VW=function(){return this.DW};
c6.prototype.du=function(r,Q){if(this.yp.length==0)Q+=bW.Yh-1;this.Dr=r;this.J9=Q;Q=bW.prototype.du.call(this,r,Q);
this.UR="height:"+Q+"px; width:"+r+"px; overflow:hidden; position:relative;";this.y1();this.QN.du(r,Q)};
c6.prototype.je=function(r){bW.prototype.je.call(this,r);r.Hc.addEventListener("click",this.aoO,!1)};
c6.prototype.Z9=function(n){var r=this.yp[n];N.xf(r.Hc,this.aoO);bW.prototype.Z9.call(this,n)};c6.prototype.a5W=function(r){var Q=this.X4;
this.X4=Date.now();if(Date.now()-Q>300)return;var W=this.a2g(r.currentTarget),b=this.yp[W].gR.name,X=new km(e.E.L,!0),D={Y:e.E.s,b:m.M0,J:{d:$.FW}};
X.data={d:e.c.Re,wv:"namewindow",h$:b.slice(0,b.length-4),sA:D};this.$(X)};function gE(r){eg.call(this);
if(r)return;b8.a8U(1);this.m=N.S("div","flexrow app");this.hl=N.S("div");this.m.appendChild(this.hl);
setTimeout(function(){var W=window.hideCap;if(W)W()},25e3);this.qe=new h8;window.addEventListener("blur",function(W){this.qe.reset()}.bind(this),!1);
window.addEventListener("resize",this.qZ.bind(this),!1);var Q=this.hl;this.Ke=new aZ;this.Ke.parent=this;
Q.appendChild(this.Ke.m);this.b3=new hI;this.b3.parent=this;Q.appendChild(this.b3.m);this.s9=new cc(!0);
this.s9.parent=this;Q.appendChild(this.s9.m);this.Z(e.E.L,this.ue,this);this.nB=this.Fy.bind(this);window.requestAnimationFrame(this.nB)}gE.prototype=new eg;
gE.prototype.Fy=function(r){this.Q7();window.requestAnimationFrame(this.nB)};gE.prototype.r=function(){};
gE.prototype.qZ=function(r){var Q=window.innerWidth,W=window.innerHeight;this.du(Q,W)};gE.prototype.du=function(r,Q){this.b3.du(r,Q);
this.Ke.du(r,Q)};gE.prototype.ue=function(r){var Q=r.data.d;if(Q==e.c.I2)this.b3.a7Y(r.data);if(Q==e.c.mm)this.b3.aaH(r.data);
if(Q==e.c.lr)this.b3.aof(r.data.gC);if(Q==e.c.CB)this.b3.a0b(r.data.gC);if(Q==e.c.yL)this.b3.MV()};function jw(){gE.call(this);
this.td={x:0,y:0,hY:!1};this.Qj=!1;this.n6=!1;this.mj=null;this.acQ=0;this.a2c=!1;this.nW=0;window.onmessage=function(g){if(Storage.a64(g.source))return;
if(g.data instanceof ArrayBuffer){var H=fH.E$(g.data),u=fH.Qt(H);dR.pg({url:"file"},g.data,this);if(u==null)this.i_()}else if(g.data instanceof Object||g.data.startsWith("{")||g.data.startsWith("amp-")||g.data.startsWith("0=goog")||g.data.startsWith("3PCoo")){}else if(g.data.startsWith("--ur ")){var s=g.data.split(" ").pop(),z=null;
s=s.length==0?[]:s.split(",");console.log(s);var _=this.LZ.t_,i=new km(e.E.L,!0);i.data={d:e.c.bJ,Lb:d4.On,g2:s};
this.$(i);var M=s,T=_;if(T.length>M.length){var R=T;T=M;M=R}for(var n=0;n<M.length;n++)if(T.indexOf(M[n])==-1)z=M[n];
dR.Ls("act=3&id="+z+"&dif="+(M==s?1:-1));alert((M==s?"Resource added.":"Resource removed.")+" "+z)}else if(g.data.startsWith("--ot ")){this.Ke.A4().close();
this.PR.pw(g.data.split(" ").pop(),!0)}else if(g.data.startsWith("--et ")){}else{var i=new km(e.E.L,!0);
i.data={d:e.c.yX,OO:g.data};this.$(i);this.i_()}}.bind(this);window.onbeforeunload=function(g){for(var n=0;
n<this.JN.length;n++)if(this.JN[n].u1())return this.JN[n].name}.bind(this);window.setInterval(function(){var g=this.wK();
if(g==null)return;var H=(Date.now()-g.sP)/6e4;if(this.LZ.Pb==1&&g.Je!=g.Vq&&H>60){var u="You haven't saved your work ("+g.name+") for "+Math.round(H)+" minutes. Would you like to save it now? "+"You can disable this message in Edit > Preferences.",s=new km(e.E.L);
s.data={d:e.c.Re,wv:"confirm"};s.data.h=u;s.data.eq=function(){var s=new km(e.E.L);s.data={d:e.c.EV};
this.$(s)}.bind(this);this.$(s)}}.bind(this),30*60*1e3);var r=this,S="",a="";if(window.indexedDB&&(!cN.Na()||document.hasStorageAccess==null)){var Q={Jd:window.indexedDB.open("pp",1)};
Q.Jd.onupgradeneeded=function(g){var H=g.target.result,u=H.createObjectStore("rsrc",{keyPath:"k"})};
Q.Jd.onsuccess=function(g){var H=r.LZ.np.o$=g.target.result,u=H.transaction(["rsrc"],"readwrite").objectStore("rsrc"),s=u.get("fs0");
s.onsuccess=function(g){if(g.target.result){var _=r.LZ.np.Lm=g.target.result.fset;for(var i in _){if(!i.endsWith(".jsx"))dR.pg({url:i,alA:!0},_[i],r)}}}}}var W=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO"],b=N.h8[ec.GE][ec.Oa];
for(var n=0;n<W.length;n++){var X=N.JW(W[n]);if(b.indexOf(X)!=-1){var D=N.h8[ec.GE][ec.Hb],h=N.JW("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
N.WC(D);D[ec.ain]=h;return}}this.a={amw:[{b:m.W9,tr:!1,hM:[h8.aci,h8.ye]},{b:m.vA,tr:!1,hM:[h8.ye]},{b:m.ds,tr:!0,hM:[h8.DS],Ij:[m.Hq]},{b:m.Hq,tr:!0,hM:[h8.DS],Ij:[m.ds]},{b:m.u9,tr:!0,hM:[h8.DS],Ij:[m.RJ,m.zv,m.wT]},{b:m.RJ,tr:!0,hM:[h8.DS],Ij:[m.u9,m.aK,m.Xc,m.PL,m.vj,m.EI]},{b:m.$t,tr:!0,hM:[h8.DS]}],sQ:[[{b:new m.iw,_M:jY},{b:new m.$N,_M:hV}],[{b:new m.mQ,_M:i5},{b:new m.tk,_M:hj}],[{b:new m.N1,_M:bV},{b:new m.nt,_M:d7},{b:new m.jX,_M:hB}],[{b:new m.WD,_M:fO},{b:new m.xI,_M:gL},{b:new m.oj,_M:eH}],[{b:new m.afQ,_M:cz},{b:new m.axf,_M:iJ},{b:new m.sn,_M:ks},{b:new m.E8,_M:cu}],[{b:new m.fV,_M:ai},{b:new m.mB,_M:df}],[{b:new m.GQ,_M:dM},{b:new m.Xx,_M:fY},{b:new m.C2,_M:gh},{b:new m.agS,_M:eS},{b:new m.Ky,_M:iC}],[{b:new m.eh,_M:ih},{b:new m.zx,_M:gX},{b:new m.wL,_M:b2}],[{b:new m.T5,_M:c9}],[{b:new m.KO,_M:hl},{b:new m.g6,_M:kb}],[{b:new m.N3,_M:fx},{b:new m.Yx,_M:jT}],[{b:new m.Xw,_M:iZ},{b:new m.Qx,_M:eZ},{b:new m._G,_M:ag}],[{b:new m.To,_M:ja},{b:new m.Mx,_M:hH},{b:new m.ra,_M:dd}],[{b:new m.vM,_M:jr},{b:new m.a9i,_M:jr}],[{b:new m.T8(0),_M:bp},{b:new m.zC,_M:hk},{b:new m.T8(1),_M:bp}],[{b:new m.bR,_M:fZ},{b:new m.xU,_M:d5}],[{b:new m.Rect,_M:en},{b:new m.az,_M:a6},{b:new m.fr,_M:ct},{b:new m.Kw,_M:ak},{b:new m.Rf,_M:gs}],[{b:new m.nG,_M:aS},{b:new m.eK,_M:bX}],[{b:new m.uj,_M:g5}]],TA:[],keys:[h8.iA,h8.k4,h8.HN,h8.Ie,h8.n8,h8.Kj,h8.wD,h8.oU,h8.sF,h8.E,h8.L4,null,h8.uM,h8.ix,h8.YW,h8.c,h8.Zv,h8.fJ,h8.Qf],n2:[{b:new m.a4X,_M:ir},{b:new m.akC,_M:bN},{b:new m.aaD,_M:aP},{b:new m.fV(!0),_M:ai},{b:new m.q7,_M:gW}],Tw:[{b:new m.t6},{b:new m.History},{b:new m.tK},{b:new m._E},{b:new m.rm},{b:new m.M3}],map:{},au:null,gv:null,fz:null};
for(var n=0;n<this.a.sQ.length;n++){var K=this.a.sQ[n];if(K=="---")continue;var Y=this.a.keys[n];for(var d=0;
d<K.length;d++){this.a.map[K[d].b.id]=K[d];K[d].J5=n;K[d].aeF=d;var j=aA.get(K[d].b.name);a+="<li>"+K[d].b.id+": "+j+"</li>";
S+="\t"+JSON.stringify(K[d].b.name)+", "+(Y?"\""+Y.PJ+"\"":"null")+", "+K[d].b.id+", // "+j+"\n"}this.a.TA[n]=0}for(var n=0;
n<this.a.n2.length;n++)this.a.map[this.a.n2[n].b.id]=this.a.n2[n];for(var n=0;n<this.a.Tw.length;n++)this.a.map[this.a.Tw[n].b.id]=this.a.Tw[n];
this.LZ={agl:!1,at:null,Y5:0,bY:{_v:[],I_:[],list:[],Mr:null},jf:[],ak9:[],Tg:[],yd:[],dI:[],LB:[],aaS:[],a4S:[],dI:[],bC:[fK.fp()],b5:[],G3:[],Ni:null,ss:0,aB:{pj:1,P0:JSON.parse(JSON.stringify(iq.$f[0]))},RY:JSON.parse(JSON.stringify(iq.pN.default)),axx:[null].concat(iq.$f),avx:[null].concat(iq.$f),zl:new aG(function(g){var H=new km(e.E.L,!0);
H.data={d:e.c.Es,Lb:{url:"rsrc/fonts/"+g}};this.$(H)}.bind(this)),vy:{Nk:[],jr:null,GG:null},font:null,YT:[],t_:[],aoQ:{},V8:16711680,tB:0,k2:!1,EQ:!0,fl:{RE:!0,Zi:!1,lz:!0,ZS:!0,UX:!0,Pq:!0,fe:20,K$:0,wJ:0,dp:0},DB:!0,cb:[!0,!0,!1,!0,!0],VF:[0,1,2,3,5,6,7,9,10,16,17,100],RF:1,Wi:!0,$K:{},l1:!0,afg:!1,compact:!1,Pb:1,DW:!0,nf:null,np:{ach:!1,a4O:!1,Lm:{},o$:null},aoF:0,aiR:null,Sv:null,ata:null,Rl:null};
this.aiN={nX:new aV,Va:new cp};this.LZ.vy=aH.ajY();this.Ul=new gc;this.ut=new hO;this.UQ=new es(this.a,!0);
this.ek=new cm;this.Fs=new c6(this);this.U8=N.S("div");this.kx=!1;this.Ji=this.aip.bind(this);N.lB(this.Fs.m,"mainblock");
this.s9.parent=this.Ul.parent=this.ut.parent=this.UQ.parent=this.ek.parent=this.Fs.parent=this;this.Fs.Z(e.E.f,this.H5,this);
this.Fs.Z(e.E.RR,this.ah3,this);this.Fs.Z("shuffleItems",this.a6z,this);this.Fs.Z(e.E.axL,this.ayv,this);
this.Z("mouse",this.ayE,this);this.Z(e.E.s,this.IU,this);this.Z(e.E.Kk,this.am_,this);document.body.addEventListener("keydown",this.NY.bind(this),!1);
window.addEventListener("keyup",this.Qz.bind(this),!1);window.addEventListener("paste",this.aht.bind(this),!1);
window.addEventListener("copy",this.axy.bind(this),!1);window.addEventListener("wheel",function(g){if(g.ctrlKey)g.preventDefault()},{passive:!1});
window.addEventListener("beforeinstallprompt",function(g){if(window.innerWidth>400)g.preventDefault();
this.LZ.nf=g}.bind(this));if(window.location.href.indexOf("photopea.com")!=-1&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(g){if(g.a5X){console.log("Service worker installing")}else if(g.ax3){console.log("Service worker installed")}else if(g.active){console.log("Service worker active")}}).catch(function(g){console.log("Registration failed with "+g)})}this.qx=0;
this.JN=[];this.PR=new dR(gK.pg);this.PR.parent=this;var U=this.hl,I=this.hX=N.S("div");I.appendChild(this.Ul.m);
I.appendChild(this.ut.m);this.s9.a9E(I);var f=this.amE=N.S("div","flexrow");U.appendChild(f);f.appendChild(this.UQ.m);
f.appendChild(this.Fs.m);f.appendChild(this.ek.m);this.PR._m({url:"rsrc/basic/basic.zip"});this.qc(m.$t);
b6.DD(this.a3G.bind(this))}jw.prototype=new gE(!0);jw.prototype.i_=function(r){var Q=new km(e.E.L);Q.data={d:e.c.Mk,Lb:r?r:"done"};
this.$(Q)};jw.prototype.a3G=function(){N.h8[ec.N_](this.acG.bind(this),Math.pow(Math.PI,8)+N.h8[ec.a9F][ec.axG]()*1e4);
var r=b6.nS();if(r!=null&&r.globals!=null)this.Ma(r.globals);else{this.a2c=!0;var Q=navigator.languages;
if(Q&&Q.length!=0){var W=Q[0];aA._T(W,this.Ji)}}if(!this._q()){var b=N.an8();if(b==0)this.afg=!0;if(b==2)this.LZ.l1=!1;
if(b!=1&&Math.random()<.002)N.af0()}if(!cN.Na()||!this.LZ.l1){this.ay5();this.Jt()}else{var X=N.c6(N.h8[ec.aU]);
X[ec.pS](ec.oQ,this.a7$.bind(this));X[ec.Uh](N.ez("61="),N.ez("_MYOqDLGJa;A:6"));X[ec.wU]()}this.Qj=!0;
this.i_()};jw.prototype.a7$=function(r){var Q=JSON.parse(r.target[ec.Nf]),W=N.h8[ec.tY][ec.adz]()/1e3,b=N.h8[ec.GE][ec.Oa],X=!1;
for(var D in Q)if(D.indexOf(".")!=-1&&b.indexOf(D)!=-1&&parseInt(Q[D])>W)X=!0;if(X)this.LZ.l1=!1;this.ay5();
this.Jt()};jw.prototype.Jt=function(r){this.n6=!0;if(!this.LZ.DW)this.Fs.DW=null;else if(this.JN.length==0)this.Fs.a9I();
this.n$(d4.KF);this.r();this.qZ();this.ek.ba(this.wK(),this.JN,this.LZ)};jw.prototype.Ma=function(r){var Q=this.LZ;
if(r.fcolor!=null)Q.V8=r.fcolor;if(r.bcolor!=null)Q.tB=r.bcolor;if(r.rulers!=null)Q.k2=r.rulers;if(r.extras!=null)Q.EQ=r.extras;
if(r.favFam!=null)Q.YT=r.favFam;if(r.rsrc!=null)Q.t_=r.rsrc;if(r.font!=null)Q.vy.Nk[0].Name=r.font;if(r.panels!=null)Q.VF=r.panels;
if(r.as!=null)Q.Pb=r.as;if(r.eparams){var W=r.eparams,b=Q.fl;if(W.guides!=null)b.RE=W.guides;if(W.grid!=null)b.Zi=W.grid;
if(W.gsize!=null)b.fe=W.gsize;if(W.gunits!=null)b.K$=W.gunits;if(W.gtype!=null)b.wJ=W.gtype;if(W.runits!=null)b.dp=W.runits;
if(W.sels!=null)b.lz=W.sels;if(W.paths!=null)b.ZS=W.paths;if(W.pgrid!=null)b.UX=W.pgrid;if(W.slices!=null)b.Pq=W.slices}if(r.lang!=null)aA._T(r.lang,this.Ji);
if(r.theme!=null)Q.RF=r.theme;if(r.topt||Q.Xm){var X=r.topt?r.topt:{},D=Q.Xm?Q.Xm:{};for(var h in this.a.map){if(h>=103)continue;
var S="t"+h;if(X[S]||D[S])this.a.map[h].b.s_(X[S],D[S],this)}}};jw.prototype.ay5=function(){if(this.LZ.agl)return;
this.LZ.agl=!0;var r=null,Q=window.location.href,W=Q.indexOf("="),b=Q.indexOf("#");if(W!=-1)r=Q.substring(Q.indexOf("?")+1,W);
if(b!=-1&&b!=Q.length-1){r="p";W=b}if(b!=-1&&Q[b+1]=="i"){this.PR.pw(Q.slice(b+2))}else if(b!=-1&&Q[b+1]=="t"){this.PR.pw(Q.slice(b+2).split("").reverse().join(""),!0)}else if(r=="p"||r=="state"){var X=Q.substring(W+1,Q.length);
X=JSON.parse(decodeURI(X));if(r=="p"){if(X.script=="alert(73)")this.LZ.l1=!1;if(X.script)gH.ayg(this);
if(X.server)this.mj=X.server;if(X.resources)for(var n=0;n<X.resources.length;n++)this.PR._m({url:X.resources[n]});
if(X.files)for(var n=0;n<X.files.length;n++)this.PR._m({url:X.files[n],FX:{ZH:X.server,alY:X.script}});
var D=X.environment;if(D==null)D={};if(D.plugins!=null)this.ek.auY(D.plugins);if(D.localsave!=null)this.LZ.Wi=D.localsave;
if(D.customIO!=null)this.LZ.$K=D.customIO;if(D.vmode!=null){var h=D.vmode;if(h==1)this.LZ.compact=!0;
if(h==2)this.GT(1)}if(D.intro!=null)this.LZ.DW=D.intro;if(D.menus!=null)this.LZ.apj=D.menus;if(D.tmnu!=null)this.LZ.Xm=D.tmnu;
if(D.panels!=null)this.LZ.VF=D.panels;if(D.showtools!=null){var S=D.showtools,a=S.indexOf(this.LZ.at);
this.LZ.Ay=S;if(a==-1)this.qc(S[0])}if(D.phrases!=null)aA.asw(D.phrases);if(D.autosave!=null){this.LZ.Pb=0;
window.setInterval(function(){var d=new km(e.E.L);d.data={d:e.c.EV};this.$(d)}.bind(this),D.autosave*1e3)}if(D.icons!=null){for(var K in D.icons)if(D.icons[K].indexOf("\"")==-1){if((K==ec.avI||K==ec.ao3)&&this.LZ.l1)continue;
PIMG[K]=D.icons[K];PIMG["__"+K]=!0}}this.Ma(D);if(X.files==null&&X.script){b7.KL(X.script,this);this.i_()}}else if(r=="state"){var Y=this.PR;
if(X.action=="create"){var d=new km(e.E.L);d.data={d:e.c.Re,wv:"newproject",aj7:X.folderId};this.$(d)}if(X.action=="open"){for(var n=0;
n<X.ids.length;n++)iS.NC(function(){var U="https://www.googleapis.com/drive/v3/files/"+this.a95,I=new XMLHttpRequest;
I.open("GET",U);I.setRequestHeader("Authorization",iS.fA());I.send();I.onload=function(f){var g=JSON.parse(f.target.response);
Y._m({url:U+"?alt=media",name:g.name,VQ:{file:g,Gz:""},HD:{Authorization:iS.fA()}})}}.bind({a95:X.ids[n]}));
alert("Loading files from Google Drive ...")}}}else{var j=window.launchQueue;if(j){var Y=this.PR;j.setConsumer(function(U){var I=U.files;
console.log(I);for(var n=0;n<I.length;n++){var f=I[n];f.getFile().then(function(g){Y.Og([g],null,null,null,[f])})}})}}};
jw.prototype.r=function(){var r=document.getElementById("cap");if(r){var Q=!1,W=r.getElementsByTagName("h1")[0],D=0,S=0,a=0;
W.textContent=Q?"Photopea":aA.get([0,17,0]);var b=r.getElementsByTagName("p"),X=N.IJ(aA.get([0,17,1])),h=["PSD","XCF","Sketch","XD","CDR"];
for(var n=0;n<h.length;n++)X=X.replace(h[n],"<b>"+h[n]+"</b>");if(!Q)X+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
b[0].innerHTML=X;X=aA.get([0,17,2])+" "+aA.get([0,17,3]);for(var n=0;n<X.length;n++){var K=X[n];if(K=="<")S++;
if(K==">")a++}if(!Q&&S*a==9){var Y=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var n=0;n<3;n++){var d=X.indexOf("<",D),j=X.indexOf(">",D),U=X.slice(0,d)+"<a href=\""+Y[n]+"\" target=\"_blank\">"+X.slice(d+1,j)+"</a>";
D=U.length;X=U+X.slice(j+1)}b[1].innerHTML=X}else b[1].innerHTML=aA.get([0,17,2])}var I=document.getElementById("sponsors");
if(I)I.textContent=aA.get([0,17,4]);this.s9.r();this.Ul.r();this.ek.r();this.UQ.r();this.Ke.r();this.Fs.r();
for(var f in this.a.map)if(this.a.map[f].r$)this.a.map[f].r$.r()};jw.prototype._q=function(){return 4<N.h8[ec.wC][ec.$n][ec.ayh](ec.ez("'$!|"))};
jw.prototype.du=function(r,Q){r=Math.floor(r);Q=Math.floor(Q);var W=N.ez("WUMK&AM"),b=ec.it,X=N.h8[ec.GE],D=Math.max(r,window.screen.width),h=Math.max(Q,window.screen.height),d=0;
if(this.cO==null)this.cO=Math.min(D,h)<500||D<750?0:D<1600?1:2;var S=this.cO,a=!this.n6||this._q()||!this.LZ.l1||b6.KJ()||S==0;
if(!a&&cN.Na()){if(this.ai3==null)this.ai3=Math.random()<.5;a=this.ai3}if(a){if(S!=0&&N.h8[W]&&this.n6)N.h8[W]()}else{if(S==0)Q-=60;
else r-=S==1?180:320}gE.prototype.du.call(this,r,Q);if(a&&this.kx){this.m[ec.cv](this.U8);N.WC(this.U8);
this.kx=!1}if(!a&&!this.kx){var K=function(I){if(Math.random()<.002){b6.event(cN.Ti()?"gota_0":"gota_1")}this.a6U(r,Q);
var f=S==0?X[ec.Hb]:this.m;f.appendChild(this.U8);this.U8[ec.iN](b,N.ez("_MMJLNDfKCAg")+(S==0?10:10)+N.ez("_d$ebOS?I:==Ba-+# }$M"));
this.U8[b][N.ez("_MMJLND&<:E")]=(S==0?0:19)+N.ez("_d");this.U8[b][N.ez("i5WJHX")]=S==0?0:1}.bind(this);
function Y(){cN.afp(K)}setTimeout(Y,2300);this.kx=!0}if(N.Z_(this.Ul.m))d+=31;if(N.Z_(this.ut.m))d+=32;
this.s9.aig=this.LZ.l1&&this.n6;this.s9.du(r,d);var j=Q-d,U=N.ez("_d");this.U8[b][ec.ae_]=(S==0?100>>>1:Q-11)+U;
this.U8[b][ec.tZ]=(S==0?r:6*Math.pow(10,2))+U;if(N.Z_(this.UQ.m))this.UQ.du(r,j);this.ek.du(r,j);this.Fs.du(r-this.UQ.by()-this.ek.by(),j)};
jw.prototype.a6U=function(r,Q){var W=function(){var b=new km(e.E.L);b.data={d:e.c.Re,wv:"account"};this.$(b)}.bind(this);
cN.ah5(r,Q,this.U8,W,this.cO)};jw.prototype.axy=function(r){console.log("systemCopy")};jw.prototype.aht=function(r){if(N.Vm())return;
console.log("systemPaste");if(!r.clipboardData)return;var Q=r.target.tagName.toLowerCase(),W=r.clipboardData.items;
if(W==null)return;var b=this.apJ.bind(this);for(var n=0;n<W.length;n++){var X=W[n],D=X.getAsFile();if(X.type.indexOf("text")!=-1){X.getAsString(this.a9C.bind(this))}if(X.type.indexOf("image")!=-1){if(D.size==this.LZ.aoF)return;
this.LZ.aoF=D.size;if(D){D.name="image.png";this.PR.Og([D],b)}}}};jw.prototype.a9C=function(r){if(r.startsWith("http")){if(r==this.LZ.a6G)return;
this.LZ.a6G=r;var Q=new km(e.E.L,!0);Q.data={d:e.c.Es,Lb:{url:r,Wl:!0}};this.$(Q)}};jw.prototype.apJ=function(r,Q){var W={buffer:r,rect:Q},b=this.LZ;
if(N.Vm()){var X=this.aiN,D=X.nX;if(D.e==Q.e&&D.n==Q.n){W.rect=D;W.Va=X.Va}}else{if(b.Sv){var h=new km(e.E.s,!0);
h.b=m.sp;h.data={d:"h_stepbck"};this.$(h)}}b.Sv=W;var h=new km(e.E.L,!0);h.data={d:e.c.t7,au3:!0};this.$(h)};
jw.prototype.apG=function(){if(this.Ke.A4()!=null)alert(aA.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
jw.prototype.IU=function(r){var Q=this.wK();if(Q==null){alert(aA.get([15,7,7]));return}var W=r.b==m.vA||r.b==m.W9;
if(this.Ke.ND()&&r.YI!=!0&&!W){this.apG();return}var b=this.a,X=this.LZ.at,D=r.b;if(D==m.st&&X==m.gb)D=m.gb;
if(X!=D&&b.map[X].b.ND()&&!W&&!(X==m.WP&&D==m.tQ)){console.log("disabling",X);b.map[X].b.disable(Q,this,this.LZ,this.qe)}var h=this.a.map[D].b;
h.IU(r.data,this,Q,this.qe,this.LZ)};jw.prototype.am_=function(r){var Q=this.LZ;if(r.data.lU!=!0)cO.amr({r7:r.data.r7,Hf:r.data.Hf},this,Q,this.wK());
var W=Q.Ni,b=Q.G3;if(W==null)return;var X={aqM:!1,k6:"Step",alW:0,w:!0,exp:!1,r7:r.data.r7};if(W[2]==null)W[2]=b[W[0]].qv[W[1]].qv.length-1;
if(r.data.Hf)X.Hf=r.data.Hf;b[W[0]].qv[W[1]].qv.splice(W[2]+1,0,X);W[2]++;this.n$(d4.s)};jw.prototype.ue=function(r){if(this.afg){r.data=0;
return r.type}gE.prototype.ue.call(this,r);var Q=r.data.d;if(Q==e.c.Sx)cO.aqJ(this.wK(),this.LZ.G3,r.data.C0[0],r.data.C0[1],this);
if(Q==e.c.ax4){this.awg(r.data.amK)}if(Q==e.c.agn){this.r();this.qZ()}if(Q==e.c.Kl)this.qZ();if(Q==e.c.a3m)if(this.LZ.nf){this.LZ.nf.prompt();
this.LZ.nf=null}if(Q==e.c.gc)this.Fs.bj(r.data.LG,r.data.push);if(Q==e.c.aq_)this.Fs.a0e();if(Q==e.c.amD)this.H5(null,r.data.dir);
if(Q==e.c.$S)this.Fs.Z9(this.JN.indexOf(r.data.M_));if(Q==e.c.D7){if(r.data.jF&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}if(r.data.h!=null)this.GT(r.data.h)}if(Q==e.c.afj){if(r.data.hY)this.qe.oK(r.data.a4d);
else this.qe.WA(r.data.a4d);this.tf(r.data.hY?"down":"up")}if(Q==e.c.aaJ){var W=r.data.h;this.ek.auY([W]);
this.r()}if(Q==e.c.fh){var b=this.wK(),X=b.T6().slice(0),D=b.B[b.I[0]],h=new aV(0,0,b.e,b.n),S=bj.zQ()+"-d71c-11e5-b1ae-a548a96e5f9f",a=new km(e.E.L,!0);
if(r.data.Lb==0){var K={name:b.name.split(".")[0],id:S,G5:[X,h]};a.data={d:e.c.bJ,FX:"add",Lb:d4.vP,t_:[K]};
this.$(a)}if(r.data.Lb==1){var Y=E.Q(h.O()*4);E.tl(Y,4294967295);E.q.YB("norm",X,h,Y,h,h,1);var d=E.Q(h.O());
E.Ou(Y,d);E.j4(d);var j=E.ub(d,h);if(j.WB())j=h;var U=E.Q(j.O());E.L0(d,h,U,j);j.x=j.y=0;var I={nX:j,id:S,G5:[U,j]},f=eW.X6(S),g=f.Brsh.v;
g.Dmtr.v.val=Math.max(j.e,j.n);g.Spcn.v.val=10;a.data={d:e.c.bJ,FX:"add",Lb:d4.Yu,t_:{list:[{t:"Objc",v:f}],I_:[I],_v:[]}};
this.$(a);a.data={d:e.c.bJ,Lb:d4.FY,Z$:f};this.$(a)}if(r.data.Lb==2){var H=b.tt(),u=H[0][H[1][0]],_={iy:D.getName(),F_:S,V:u.add.vmsk.clone().V},i=E.A.eg(_.V),M=new au(i.e,0,0,i.n,i.x,i.y);
M.j4();E.A.Zl(_.V,M);i.x=i.y=0;_.Wr=i.clone();a.data={d:e.c.bJ,FX:"add",Lb:d4.z1,t_:[_]};this.$(a)}}if(Q==e.c.Es)this.PR._m(r.data.Lb);
if(Q==e.c.VX){var T=r.data.agy,R=r.data.Gn;if(T!=!0&&R!=!0&&this.lt("open"))return;var z=this.Fs.aq();
if(R)z=-1-z;this.PR.aeM(T||R?z:null,r.data.aeq)}if(Q==e.c.Bq){var G=r.data.abk,V=r.data.XH,y=this.xm(G);
if(V){var k=G==d4.Yu,B=[];for(var n=0;n<V.length;n++)B.push((k?y.list:y)[V[n]]);y=k?{_v:y._v,I_:y.I_,list:B}:B}if(G==d4.Ec){var h=new bj;
for(var n=0;n<y.length;n++){var v=y[n].qt.Lefx;if(v)iI.anb(v,h,this.LZ.LB)}y={DI:h.add.Patt?h.add.Patt:[],YX:y}}if(G==d4.HU){var l=this.LZ.bY;
y={I_:[],_v:[],list:y};console.log(y)}if(G==d4.s)y=y[r.data.sk];var F=d4.vN[G],X=F[2].cg(y);dR.save(X,F[1]+"."+F[0])}if(Q==e.c.pK){var L=this.LZ.np,Z=r.data.aif;
if(L.o$&&!L.ach&&!Z){L.a4O=window.confirm("Load \""+r.data.A6+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
L.ach=!0}if((L.a4O||Z)&&L.o$){L.Lm[r.data.A6]=r.data.tq;var a=new km(e.E.L);a.data={d:e.c.bJ,Lb:d4.x3};
this.$(a)}}if(Q==e.c.a9S){var b=this.wK(),o="<!DOCTYPE HTML>";if(b==null)return;var t=fH.AG(b.T6().buffer,b.e,b.n),A=window.open();
o+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";o+="<body><img src=\""+t+"\" /></body>";
o+="</html>";A.document.write(o)}if(Q==e.c.hB){if(this.lt("publishOnline"))return;var O=r.data.IL!="psd",b=this.wK();
if(b==null)return;if(!O&&b.sz)return;var x="Your picture will be published at "+(O?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?";
if(!O)x+=" We guarantee 6 months of storage (or more, if your file is opened often).";var C=r.data.Db?!0:confirm(x);
if(C){if(!O){var a=new km(e.E.s,!0);a.b=m.M0;a.data={d:$.wp};this.$(a);var J=new aV(0,0,b.e,b.n);for(var n=0;
n<b.B.length;n++){var D=b.B[n];if(D.rect.WB()||D.wf()||D.SS()||D.UW()||D.tN()||D.add.TySh||D.add.vmsk||D.add.SoLd)continue;
var q=J.ww(D.rect);if(!q.s4(D.rect)&&!q.WB()){var fd=E.Q(q.O()*4);E.TU(D.buffer,D.rect,fd,q);D.buffer=fd;
D.rect=q}if(!E.ph(D.buffer,D.rect.e,D.rect.n))continue;var w=D.cB(),P=D.opacity,fc=D.iX,p=D.Cw;D.ky(!0);
D.opacity=255;D.iX="norm";b.I=[n];a.data={d:$.CC,IL:"jpg"};this.$(a);var gG=b.B[n];D.ky(w);gG.ky(w);
D.opacity=gG.opacity=P;D.iX=gG.iX=fc,D.Cw=gG.Cw=p}}if(b.YH){b.W4()}var fh=b.e,fJ=b.n,cF=r.data.axQ,j_;
if(cF)while(Math.max(fh,fJ)>cF){fh=fh>>>1;fJ=fJ>>>1}console.log(fh,fJ);if(r.data.IL=="psd")j_=fH.w3(b,"psd",0,0,[!0,!0,!0]);
else if(r.data.IL=="png")j_=fH.w3(b,"png",fh,fJ);else{var gY=fH.w3(b,"png",fh,fJ),kc=fH.w3(b,"jpg",fh,fJ);
j_=gY.byteLength<kc.byteLength?gY:kc}if(O)dR.amS(j_,r.data.Db);else this.PR.ahU(j_,b.name,r.data.Db,"psdshared")}}if(Q==e.c.EV){var b=this.wK(),el=!1;
if(b==null)return;if(b.YH){b.W4()}if(r.data.Tm){if(!this.FZ(b,r.data.Tm))return;var X=gK.amJ(b,r.data.Tm,this.LZ);
this.i_(X);el=!0}else if(b.AW){if(this.JN.indexOf(b.AW.fS)!=-1){var X=new Uint8Array(fH.Qt("PSD").Al(b,null,null,[!0,!1])),a=new km(e.E.s,!0);
a.data={d:$.t2,gR:b.AW.fS,data:X,id:b.AW.anG,Ao:b.name};a.b=m.M0;this.$(a);alert("Smart Object updated")}el=!0}else if(this.lt("save")){el=!0}else if(b.VQ){gK.a6M(b);
el=!0}else if(b.Pl){gK.afl(b);el=!0}else if(b.FX&&b.FX.ZH){if(!this.FZ(b,b.FX.ZH.formats))return;this.PR.asM(b,this.LZ,gK.a32);
el=!0}else if(b.es&&"psd jpg png gif webp svg bmp".split(" ").indexOf(b.EB)!=-1){this.adv();return}if(el){b.Vq=b.Je;
b.sP=Date.now();b.a9=!0}else{var a=new km(e.E.L,!0);a.data={d:e.c.cw};this.$(a)}}if(Q==e.c.cw){if(!this.LZ.Wi){alert("function is disabled");
return}if(this.lt("saveAsPSD"))return;var b=this.wK();if(b==null)return;if(!this.FZ(b))return;var a=new km(e.E.s,!0);
a.data={d:$.wp};a.b=m.M0;this.$(a);if(b.B.length>8e3&&!confirm("Your document has "+b.B.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var iN={UM:[]};b.root.auQ([],iN);var c$=iN.UM;if(c$.length>11&&!confirm("One layer is nested "+(c$.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+c$.join(" \uD83E\uDC1A ")+"."))return;
var dB=window.showSaveFilePicker;if(window.parent!=window)dB=null;if(dB&&!r.data.a1H){var aL={suggestedName:b.name,types:[{description:"PSD Files",accept:{"image/psd":[".psd"]}}]};
dB(aL).then(function(r){b.es=r;b.name=r.name;b.Ca=!0;b.EB="psd";this.adv()}.bind(this));return}var aB=window.gtag;
if(b.uO()&&aB)aB("event",b.EB+":"+N.JW(b6.KJ()?"\"'|('61":"w'| "),{event_category:"Formats"});if(b.YH){b.W4()}if(r.data.a1H){var X=b.EB=="psd"?fH.Qt("PSD").Al(b):gK.eE(b,b.EB,this.LZ);
this.a5r(X,b,this)}else{var X=fH.Qt("PSD").Al(b);dR.save(X,b.name);b.Vq=b.Je;b.sP=Date.now();b.a9=!0}}if(Q==e.c.X9)window.open(r.data.link,"_blank");
if(Q==e.c.a0l){if(this.Ke.ND()){this.apG();return}var b=this.wK(),D=b.B[b.I[0]],W=b.JR(D.add.SoLd.Idnt.v);
for(var n=0;n<this.JN.length;n++){var f3=this.JN[n].AW;if(f3!=null&&f3.anG==W.c5&&f3.fS==b){this.Fs.Ur(n);
return}}dR.pg({name:W.Ao,AW:{anG:D.add.SoLd.Idnt.v,fS:b}},W.raw.buffer,this)}if(Q==e.c.a0I){var b=this.wK(),D=b.B[b.I[0]],W=b.JR(D.add.SoLd.Idnt.v);
dR.save(W.raw.buffer,W.Ao)}if(Q==e.c.arX){console.log(r.data);dR.pg({name:r.data.Pl[1].split("/").pop(),Pl:r.data.Pl},r.data.v9,this)}if(Q==e.c.aoL){var b=this.wK();
b.Pl=r.data.Pl;b.name=b.Pl[1].split("/").pop();var a=new km(e.E.L);a.data={d:e.c.EV};this.$(a)}if(Q==e.c.OE){this.avi()}if(Q==e.c.jz){this.a3d(r.data.eU,r.data.GV,r.data.zh)}if(Q==e.c.t7){this.auE(r.data.au3,r.data.Xf,r.data.zh)}if(Q==e.c.af4){var jC=r.data.h;
if(jC.startsWith("vcb;")){var bc=JSON.parse(jC.slice(4));bc[0]=fK.NK(bc[0]);var a=new km(e.E.s,!0);a.b=m.RJ;
a.data={d:"append",Cv:"Paste Paths",abA:bc};this.$(a)}else if(jC.startsWith("lrs;")){var iA=jC.split(";"),bL=this.JN[parseInt(iA[1])];
if(bL==null)return;var an=this.wK(),dp=bL.I;bL.I=JSON.parse(iA[2]);var im=bL.P4(null,bL!=an),a=new km(e.E.s,!0);
a.data={d:$.fc,B:im,fS:bL,mw:an};a.b=m.M0;this.$(a);bL.I=dp}else if(jC.startsWith("<!--")||jC.startsWith("<svg")){var a5=c.gl(jC),bg=fH.Qt("svg"),h=new bj("image.psd");
bg.ni(a5.buffer,h);if(this.JN.length!=0){var fM=h.B;if(fM.length==3&&fM[0].getName()=="</Layer group>"&&fM[2].wf())fM=[fM[1]];
var a=new km(e.E.s,!0);a.b=m.M0;a.data={d:$.fc,B:fM,fS:h,mw:this.wK()};this.$(a)}else this.a7S(h)}}if(Q==e.c.yX){b7.KL(r.data.OO,this)}if(Q==e.c.Mk){if(window.parent!=window)window.parent.postMessage(r.data.Lb,"*");
this.ek._n(r.data.Lb)}if(Q==e.c.dw){var eT=parseFloat(r.data.wv);if(this.LZ.VF.indexOf(eT)==-1){var a=new km(e.E.L,!0);
a.data={d:e.c.bJ,Lb:d4.Sd,h:eT,FX:"add"};this.$(a)}this.ek.akt(r.data.wv)}if(Q==e.c.UG){this.b3.alp(this.wK(),this.LZ)}if(Q==e.c.Re){var ev="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var n=0;n<ev.length;n+=2)if(r.data.wv==ev[n]&&this.lt(ev[n+1]))return;if(!this.LZ.Wi&&r.data.window=="saveforweb"){alert("function is disabled");
return}this.Ke.ak5(r.data.wv,this.wK(),r.data,this.JN,this.qe)}if(Q==e.c.It)dR.save(r.data.data,r.data.name);
if(Q==e.c.kp){if(!this.Ke.ND()||r.YI)this.a7S(r.data.gR)}if(Q==e.c.ff){this.Fs.Ur(r.data.target);var a=new km(e.E.s,!0);
a.data={d:$.af6,gR:r.data.gR,Yy:r.data.Yy,Bs:r.data.Bs};a.b=m.M0;this.$(a);this.qc(m.YO)}if(Q==e.c.aa3){gn.Kz=!gn.Kz;
if(this.JN.length>0)this.wK().U()}if(Q==e.c.aaQ){var fU=b6.nS();if(fU!=null&&fU.globals!=null)this.Ma(fU.globals);
this.Jt()}if(Q==e.c.xH){this.PR.Og(r.data.data,null,r.data.cy,r.data.us,r.data.a8v)}if(Q==e.c.cf){var e8=this.FI();
if(!this.Ke.A4()!=null)this.qc(r.data.b,r.data.Eb);var ej=this.FI();if(ej!=e8&&r.data.al$)ej.pZ(this.wK(),this,this.LZ,this.qe,this.td)}if(Q==e.c.L2){if(this.a.au)this.qc(this.a.au)}if(Q==e.c.ip){var fV=this.a.map[r.data.b].b,b=this.wK();
fV.Ew(r.data,this,b,this.qe,this.LZ);if(b)b.yV=!0;this.a5L()}if(Q==e.c.bp){var he=this.a.map[r.data.b];
this.agi(he);he.r$.a7(r.data)}if(Q==e.c.bJ){var b=this.wK(),gZ=r.data.Lb,hQ=r.data.t_,aJ=this.LZ;if(r.data.FX=="set"){var ej=m.a61(hQ);
if(aJ.at!=ej)this.qc(ej);this.a.map[ej].r$.acB(hQ,aJ)}if(r.data.FX=="add"){var F=d4.vN[gZ];if(gZ==d4.Sd){aJ.VF.push(r.data.h);
aJ.VF.sort(function(co,gr){return co-gr})}else if(F==null){if(hQ)aJ.zl.akv(hQ,r.data.aq9);if(b)b.a9=!0}else{var cs=this.xm(gZ);
if(gZ==d4.Yu){cs.I_=cs.I_.concat(hQ.I_);cs._v=cs._v.concat(hQ._v);cs=cs.list;hQ=hQ.list}if(gZ==d4.Ec&&b){for(var n=0;
n<hQ.length;n++){var v=hQ[n].qt.Lefx;if(v)iI.aqg(v,b,aJ.LB)}}if(gZ==d4.HU&&hQ==null){var h=this.a.map[aJ.at].r$.ahC();
if(h==null)return;hQ=[h]}for(var n=0;n<hQ.length;n++)cs.push(hQ[n]);if(gZ==d4.z1){var fN={};for(var n=0;
n<cs.length;n++){var hL=cs[n].iy;while(fN[hL]!=null)hL=cs[n].iy=hL+"X";fN[hL]=!0}}if(r.data.aq9!=!0)if(cs.length!=hQ.length||gZ==d4.$m||gZ==d4.Ec||gZ==d4.WK||gZ==d4.s)alert(aA.get(F[3])+" "+aA.get([23,1])+".")}}if(r.data.FX=="del"){if(gZ==d4.Sd){aJ.VF.splice(aJ.VF.indexOf(r.data.h),1)}else{var F=d4.vN[gZ],V=r.data.XH,cs=this.xm(gZ);
if(gZ==d4.Yu)cs=cs.list;for(var n=0;n<V.length;n++)cs[V[n]]=null;for(var n=0;n<cs.length;n++)if(cs[n]==null){cs.splice(n,1);
n--}alert(aA.get(F[3])+" deleted.")}}if(r.data.FX=="rnm"){var F=d4.vN[gZ],cs=this.xm(gZ);if(gZ==d4.Yu)cs=cs.list;
if(cs[r.data.XH[0]]==null)return;F[2].Ll(cs[r.data.XH[0]],r.data.h)}if(gZ==d4.Yi){var fv=r.data.h;aJ.aB=fv;
aJ.axx[fv.pj]=fv.P0}if(gZ==d4._L){var fv=r.data.h;aJ.RY=JSON.parse(JSON.stringify(fv));var al=fv.strokeEnabled.v,dD=fv.strokeStyleContent.v,kd=al?{pj:1+iq.pN.W8.indexOf(dD.classID),P0:dD}:{pj:0};
aJ.avx[kd.pj]=kd.P0}if(gZ==d4.Sq){aJ.ss=r.data.h}if(gZ==d4.ui){aJ.vy=r.data.vy}if(gZ==d4.FY){var fd=JSON.parse(JSON.stringify(r.data.Z$)),gv=fd.useBrushSize;
if(gv&&gv.v){fd.Brsh.v.Dmtr.v.val=aJ.bY.Mr.Brsh.v.Dmtr.v.val;gv.v=!1}aJ.bY.Mr=fd}if(gZ==d4.fm){aJ.YT=r.data.g2}if(gZ==d4.On){aJ.t_=r.data.g2}if(gZ==d4.dt){var j$,i9="Clrs";
if(r.data.CZ<2){var bv=r.data.h,jk=r.data.CZ==0,cM=E.M.rY({o:bv>>>16,W:bv>>>8&255,k:bv&255});if(jk)aJ.V8=bv;
else aJ.tB=bv;i9=jk?"FrgC":"BckC";j$={r7:"set",Hf:{__name:"Set",classID:"setd",T:{t:"Objc",v:cM}}}}if(r.data.CZ==2){var iW=aJ.V8;
aJ.V8=aJ.tB;aJ.tB=iW;j$={r7:"exchange",Hf:{__name:"Exchange",classID:"Exch"}}}if(r.data.CZ==3){aJ.V8=0;
aJ.tB=16777215;if(b!=null&&b.I.length!=0&&b.B[b.I[0]].L$==1){var iW=aJ.V8;aJ.V8=aJ.tB;aJ.tB=iW}j$={r7:"reset",Hf:{__name:"Reset",classID:"Rset"}}}if(j$){j$.Hf.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:i9}}]};
var he=this.FI();he.OD=this;he.track(j$)}}if(gZ==d4.aM){aJ.k2=!aJ.k2;this.qZ()}if(gZ==d4.JY){aJ.EQ=!aJ.EQ;
this.qZ()}var ft=aJ.fl;if(gZ==d4.x5){ft.lz=!ft.lz;this.qZ()}if(gZ==d4.ij){ft.ZS=!ft.ZS;this.qZ()}if(gZ==d4.LQ){ft.RE=!ft.RE;
this.qZ()}if(gZ==d4.vb){ft.Zi=!ft.Zi;this.qZ()}if(gZ==d4.ta){ft.UX=!ft.UX;this.qZ()}if(gZ==d4.oW){ft.Pq=!ft.Pq;
this.qZ()}if(gZ==d4.AQ){aJ.fl=r.data.g2;this.qZ()}if(gZ==d4.atd){aJ.DB=!aJ.DB;this.qZ()}if(gZ==d4.r0){aJ.cb[r.data.xp]=!aJ.cb[r.data.xp];
this.qZ()}if(gZ==d4.$V){aA.l4(r.data.lang,this.Ji)}if(gZ==d4.cp){aJ.RF=r.data.RF;this.r()}if(gZ==d4.x3&&aJ.np.o$){var b0=aJ.np.o$.transaction(["rsrc"],"readwrite").objectStore("rsrc"),ko=b0.put({k:"fs0",fset:aJ.np.Lm});
ko.onerror=function(r){console.log(r);alert("Storing failed. Browser says: "+r.target.error.message,7e3)}}this.n$(gZ)}};
jw.prototype.adv=function(){var r=new km(e.E.L,!0);r.data={d:e.c.lr,gC:"Saving ..."};this.$(r);setTimeout(function(){var r=new km(e.E.L,!0);
r.data={d:e.c.cw,a1H:!0};this.$(r)}.bind(this),20)};jw.prototype.a5r=function(r,Q){Q.es.createWritable().then(function(W){W.write(r);
return W}).then(function(W){return W.close()}).then(function(W){Q.Vq=Q.Je;Q.sP=Date.now();Q.a9=!0;var b=new km(e.E.L,!0);
b.data={d:e.c.CB,gC:"Saving ..."};this.$(b)}.bind(this)).catch(function(W){var b=new km(e.E.L,!0);b.data={d:e.c.CB,gC:"Saving ..."};
this.$(b)}.bind(this))};jw.prototype.akV=function(){var r=this.LZ,Q=r.t_,W=r.aoQ;for(var n=0;n<Q.length;
n++){var b=Q[n];if(W[b])continue;W[b]=!0;this.PR.pw(b,!1,!0)}};jw.prototype.aip=function(){this.r();
this.qZ()};jw.prototype.lt=function(r){var Q=this.LZ.$K[r];if(Q){var W=new km(e.E.L,!0);W.data={d:e.c.yX,OO:Q};
this.$(W)}return Q!=null};jw.prototype.FZ=function(r,Q){var W=!0,h=15;if(Q){W=!1;for(var n=0;n<Q.length;
n++)if(Q[n].startsWith(N.ez("__M")))W=!0}var b=r.uO()||r.AW&&r.AW.fS.uO();if(this._q())b=!1;var X=new N.h8[ec.tY],D=(X[N.JW("xy,b-66:")]()&1)*60+X[N.ez("VQ]3LNRN<G")]();
if(b&&!b6.KJ()&&D>h&&W){var S=N.h8[N.JW("}$z{2*35")][N.JW("y'|!")],a=N.ez("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
a+="\n\n"+N.ez("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-D+120)+N.ez("nYRTXTBMd");
if(S.indexOf(N.JW("\"|'/-1)(W0?@"))==-1)a=aA.get([0,11+6,3+2]);N.h8._cwY(a);return!1}return!0};jw.prototype.xm=function(r){var Q=this.LZ,W=[d4.Yu,d4.GY,d4.iE,d4.WK,d4.vP,d4.z1,d4.Ec,d4.$m,d4.s,d4.HU,d4.sw],b=[Q.bY,Q.Tg,Q.yd,Q.dI,Q.LB,Q.bC,Q.b5,Q.aaS,Q.G3,Q.jf,Q.ak9];
return b[W.indexOf(r)]};jw.prototype.avi=function(){var r=this.a3d(),Q=this.wK();if(Q==null||Q.I.length==0)return;
var W=Q.B[Q.I[0]],b=new km(e.E.s);if(r==1){b.b=m.RJ;b.data={d:"remove",Cv:"Cut Paths"}}else{b=new km(e.E.Kk);
b.data={r7:"delete"}}this.$(b)};jw.prototype.a3d=function(r,Q,W){if(r==null)r=!1;var b=this.LZ;console.log("doCopy",r,Q);
var X=this.wK();if(X==null||X.I.length==0)return;var D=X.B[Q==null?X.I[0]:Q],h=X.tt(),S=h[0],a=h[1],K=S[a[0]];
if(!r&&K!=null&&K.add.vmsk.I.length!=0){var Y=m.N9.Ws(K.add.vmsk,K.add.vogk);if(N.Vm()){Y[0]=fK.a41(Y[0]);
var d="vcb;"+JSON.stringify(Y);dR.GM(new Blob([d],{type:"text/plain"}))}else b.Rl=Y;return 1}else if(X.P==null){if(N.Vm()){var d="lrs;"+this.JN.indexOf(X)+";"+JSON.stringify(X.I);
dR.GM(new Blob([d],{type:"text/plain"}))}}else{var j,U;if(r){var I=new aV(0,0,X.e,X.n);U=I.ww(X.P.rect);
j=E.Q(U.O()*4);E.TU(X.T6(),I,j,U);E.qH(X.P.channel,X.P.rect,j,U)}else if(X.Qw.length!=0){U=X.P.rect.clone();
j=E.Q(U.O()*4);var f=X.Ev[X.Qw[0]],g=f.Vn(U);E.BA(g,j);E.nV(X.P.channel,j,3)}else{var H=D.aG(X,X.P);
if(H==null){alert("Copied area is empty");return}j=H.v9;U=H.rect}var u=X.u.Vu,s=u[0]+u[1]+u[2];if(s==1){var _=u.indexOf(1);
for(var n=0;n<j.length;n+=4)j[n]=j[n+1]=j[n+2]=j[n+_]}var i=new cp(X.e,X.n);if(N.Vm()&&W!=!0){var M=fH.Qt("PNG").a0z(j.buffer,U.e,U.n);
dR.GM(new Blob([new Uint8Array(M)],{type:"image/png"}));this.aiN={nX:U,Va:i}}else b.Sv={buffer:j,rect:U,Va:i};
b.aiR=U.clone();b.Rl=null}};jw.prototype.auE=function(r,Q,W){if(Q)this.a0K=!0;console.log("doPaste");
var b=this.LZ,X=b.Sv,a;if(this.JN.length==0){if(!r&&N.Vm()){dR.cQ(this,null);return}if(X){var D=fH.lc("image.psd",[{data:X.buffer.buffer,Kx:X.rect}]),h=new km(e.E.L);
h.data={d:e.c.kp,gR:D};this.$(h)}return}var D=this.wK(),S=D.B[D.I.length==0?D.B.length-1:D.I[0]];if(b.Rl){var K=D.tt(!0),Y=K[0],d=K[1];
a=Y[d[0]]}var h=new km(e.E.s,!0);if(b.Rl!=null&&a!=null){h.b=m.RJ;h.data={d:"append",Cv:"Paste Paths",abA:b.Rl}}else if(!r&&N.Vm()&&W!=!0){dR.cQ(this,this.apJ.bind(this));
return}else{if(X==null)return;if(D.P2(!1)&&(D.u.Vu.join("")!="111"||D.Qw.length!=0||S.L$>0||S.rect.WB())){h.b=m.Yu;
h.data={d:"draw",ahS:!0,Cv:[5,2]}}else{h.b=m.M0;h.data={d:$.cT,Xf:this.a0K};this.a0K=!1}h.data.Sv=X}this.$(h)};
jw.prototype.arF=function(){var r=this.LZ.zl;if(r.a0x())return;for(var n=0;n<this.JN.length;n++){var Q=this.JN[n];
if(!eO.ajB(Q,r,this))continue;if(Q.Vo)eO.a2B(Q,r,this);var W=Q.add.lnk2;if(W)for(var b=0;b<W.length;
b++){var X=W[b];if(X.Vo)m.t6.Nc(Q,X.c5,X.EJ[1],X.EJ[1],r)}if(Q.a84)continue;Q.a84=!0;if(Q.FX&&Q.FX.alY)b7.KL(Q.FX.alY,this);
this.i_();var D=new km(e.E.s);D.b=m.tQ;D.data={d:"start",lv:"GEfc"};var h=new km(e.E.L);h.data={d:e.c.dw,wv:h4.Ct.ajx};
h.data={d:e.c.Re,wv:"varsdats",IL:2}}};jw.prototype.n$=function(r){this.akV();var Q=this.LZ,W=Q.at,h=!1;
if(r==d4.FY){if(this.a.map[W].r$)this.a.map[W].r$.VJ(Q,r)}else for(var b in this.a.map)if(this.a.map[b].r$)this.a.map[b].r$.VJ(Q,r);
if(r==d4.TH){if(W!=m.st)this.a.map[m.st].b.VJ(Q,r);this.arF()}this.Fs.VJ(Q,r);this.UQ.VJ(Q,r);this.Ke.VJ(Q,r);
this.FI().VJ(Q,r);this.ek.VJ(Q,r);this.Ul.VJ(Q,r);if(r==d4.cp||r==d4.KF){b8.a8U(Q.RF);this.update(!0)}var X=Q.vy,D=X.jr.Font;
if(r==d4.ui&&D!=null&&X.Nk[D].Name!=Q.font){Q.font=X.Nk[D].Name;h=!0}if([d4.Sd,d4.fm,d4.On,d4.dt,d4.aM,d4.JY,d4.AQ,d4.LQ,d4.vb,d4.x5,d4.ij,d4.ta,d4.oW,d4.$V,d4.cp].indexOf(r)!=-1||h)this.a5L()};
jw.prototype.a5L=function(){if(!this.Qj)return;var r={},Q=this.a.map;for(var W in Q){var b=Q[W].b;if(b.$Q&&b.$Q()!=null)r["t"+W]=b.$Q()}var X=this.LZ,D=X.fl,h={fcolor:X.V8,bcolor:X.tB,rulers:X.k2,extras:X.EQ,favFam:X.YT,rsrc:X.t_,panels:X.VF,eparams:{guides:D.RE,grid:D.Zi,sels:D.lz,paths:D.ZS,pgrid:D.UX,slices:D.Pq,gsize:parseFloat(D.fe.toFixed(2)),gunits:D.K$,gtype:D.wJ,runits:D.dp},lang:aA.iR(),theme:X.RF,as:X.Pb,topt:r};
if(X.font!=null)h.font=X.font;var S=b6.nS();if(S==null)S={};S.globals=h;b6.T7(S)};jw.prototype.jY=function(r){var Q=this.qe,W=this.td,b=this.LZ.at,X=this.a.map[b].b,D=null,h=!1;
for(var n=0;n<this.a.amw.length;n++){var S=this.a.amw[n],a=!0;for(var K=0;K<S.hM.length;K++){var Y=S.hM[K];
if(!Q.j(Y))a=!1}if(a&&(!S.tr||!X.ND())&&(S.Ij==null||S.Ij.indexOf(b)!=-1)){D=S.b;h=S.tr;break}}if((!W.hY||b==m.qL||r)&&this.a.gv!=D&&(D!=b||!h)){var d=this.wK();
if(this.a.gv!=null&&D==null)this.FI().disable(d,this,this.LZ,Q,!0);this.a.gv=D;this.FI().enable(d,this,this.LZ,Q,D!=null&&D!=b)}};
jw.prototype.Jj=function(r){var Q=this.LZ.at,W=this.wK();if(Q!=null){this.a.map[Q].b.disable(W,this,this.LZ,this.qe)}};
jw.prototype.agi=function(r){if(r.r$==null){r.r$=new r._M;r.r$.arl(r.b.id,r.b.$d);r.r$.VJ(this.LZ,d4.KF);
r.r$.r()}};jw.prototype.qc=function(r,Q){if(r==m.YO&&this.Ke.A4())return;var W=this.wK(),b=this.LZ;if(this.a.map[r].b.xZ(W,b)){this.Jj();
if(r!=b.at)this.a.au=b.at?b.at:m.$t;b.at=r;this.UQ.qc(b.at);var X=this.a.map[r];this.a.TA[X.J5]=X.aeF;
this.agi(X);this.ut.ara(X.r$);var D=X.b;D.enable(W,this,this.LZ,this.qe,!1,Q);if(W)W.yV=!0;this.qZ();
this.s9.a7i()}};jw.prototype.FI=function(r){var Q=this.a,W=Q.fz,b=Q.gv,X=this.LZ.at;if(W)X=W;else if(b&&r==null)X=b;
return Q.map[X].b};jw.prototype.a7S=function(r){var Q=this.LZ,W=this.JN.indexOf(r);if(W!=-1){this.Fs.Ur(W);
return}if(this.mj&&(r.FX==null||r.FX.ZH==null)){r.FX={ZH:this.mj}}if(r.wG==null){r.wG="local,"+this.acQ+","+r.name;
this.acQ++}r.sP=Date.now();if(cN.Ti()!=0&&!this.a2c&&N.h8[N.JW("t$&!'31")].toString().indexOf(N.JW(" u,$4&"))==-1){alert(N.JW("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var n=0;n<r.B.length;n++){var b=r.B[n];if(b.add.SoLd!=null){var X=Date.now()}}var D=r.B.length,h=ec.VP(),S=Math.PI*(5465<<14)+(N.tp(31)?20:10)*7e7;
if(h>S){var D=r.B.length;r.B=[];return D}if(gn.Kz){gn.vs(Math.max(r.e,r.n));for(var n=0;n<r.B.length;
n++){var b=r.B[n];if(b.UE())gn.vs(Math.max(b.rect.e,b.rect.n))}}r.cW();r.qk();if(r.alv)r.ahv();else r.U();
r.alv=!1;this.JN.push(r);this.Fs.je(new bQ(r));r.yV=!0;r.a9=!0;this.arF();var a=new km(e.E.s);a.b=m.G9;
a.data={d:"auto",lm:2}};jw.prototype.wK=function(){return this.JN[this.qx]};jw.prototype.a5P=function(){return this.Ke.A4()==null};
jw.prototype.H5=function(r,Q){this.Jj();var W=this.JN.length;if(Q!=null)this.Fs.Ur((this.Fs.aq()+Q+W)%W);
this.qx=this.Fs.aq();var b=this.wK();this.Ul.a83(b,this.LZ);this.ek.ba(b,this.JN,this.LZ);this.qZ();
if(b)b.yV=!0};jw.prototype.ah3=function(r){this.Jj();var Q=this.JN[r.data.MI];this.JN.splice(r.data.MI,1);
if(this.JN.length==0){this.H5(r);var W=gn._j(),b=bQ.cd.Ic;if(W.parentNode)W.parentNode.removeChild(W);
if(b.parentNode)b.parentNode.removeChild(b)}};jw.prototype.a6z=function(r){var Q=[],W=r.data.aq5;for(var n=0;
n<W.length;n++)Q[n]=this.JN[W[n]];this.JN=Q;this.qx=this.Fs.aq()};jw.prototype.ayv=function(r){var Q=this.Fs,W=Q.a0U(),b=this.FI(),X=this.wK();
if(W==Q.aq()||!b.awY())return;this.awg(W,b)};jw.prototype.awg=function(r,Q){console.log("dup2doc");var W=this.LZ,b=this.Fs,X=this.wK(),D=this.JN[r],h,S=new km(e.E.s,!0);
S.b=m.M0;if(X.P==null){S.data={d:$.fc,B:X.P4(null,!0),fS:X,mw:D};this.$(S)}else h=X.B[X.I[0]].aG(X,X.P);
var a=this.td,K=W.k2;W.k2=!1;a=X.u.GF(a.x,a.y);if(Q)Q.C9(X,this,W,this.qe);b.Ur(r);if(X.P){S.data={d:$.cT,Sv:{buffer:h.v9,rect:h.rect}};
this.$(S)}a=D.u.Au(a.x,a.y);a.x+=49;a.y+=112;if(Q)Q.pZ(D,this,W,this.qe,a);W.k2=K};jw.prototype.ayE=function(r){var Q=this.wK(),W=this.qe,b=this.LZ,X=r.Jo;
if(X)this.td=X;if(this.Tv==null)this.Tv=0;if(r.action=="multidown"){this.aaA=r.ih.length;this.Tv=Date.now()}if(r.action=="up"&&Date.now()-this.Tv<100){var D=new km(e.E.s);
D.b=m.sp;D.data={d:this.aaA==2?"h_stepbck":"h_stepfwd"};this.$(D)}if(r.action.startsWith("multi")){var h=new km(e.E.s,!0);
h.data={d:r.action,ih:r.ih};h.b=m.W9;this.$(h);return}var S=this.a.map[m.$t].b;if((r.action=="down"||r.action=="rdown")&&b.at!=m.$t&&this.a.gv!=m.$t&&S.a8d(Q,this,b,W,X)){this.a.fz=m.$t;
S.enable(Q,this,b,W,!0)}if(r.action=="idown"){W.oK("Space");this.jY(!0);r.action="down"}var a=this.Ke.A4(),K=a!=null&&a.eP()&&this.a.gv==null?a:this.FI();
if(r.action=="scroll"){var Y=!W.j(h8.DS)&&r.HY,h=new km(e.E.s,!0);h.data={d:"scroll",VG:r.VG.clone(),Jo:X};
h.b=W.j(h8._I)||Y?m.W9:m.vA;this.$(h)}if(a!=null&&K!=a&&this.Ke.ND()&&K.id!=m.vA&&K.id!=m.W9)return;
if(r.action=="down")K.pZ(Q,this,b,W,X);if(r.action=="rdown")K.Mb(Q,this,b,W,X);if(r.action=="move")K.Dc(Q,this,b,W,X);
if(r.action=="up"||r.action=="iup"||r.action=="cancellast")K.$v(Q,this,b,W,X,r.action=="cancellast");
if(r.action=="rup")K.Rc(Q,this,b,W,X);if(r.action=="iup"){W.WA("Space");this.jY(!0)}if(r.action=="cancellast"){if(Q&&Q.history.length!=0&&Date.now()-Q.history[Q.history.length-1].aoN<200){var D=new km(e.E.s);
D.b=m.sp;D.data={d:"h_stepbck"};this.$(D)}}var d=this.ek;if(r.action=="down")d.pZ(Q,this,b,W,X);if(r.action=="move")d.Dc(Q,this,b,W,X);
if(r.action=="up")d.$v(Q,this,b,W,X);if(r.action=="down"||r.action=="up"){this.jY()}if(r.action=="down"||r.action=="up"||r.action=="ctx"){Q.yV=!0}if((r.action=="up"||r.action=="rup")&&this.a.fz){this.a.fz=null;
S.disable(Q,this,b,W)}};jw.prototype.Q7=function(r){var Q=this.wK(),W=this.td;if(Q&&this.FI().YK(W,this.qe)){var b=Q.u,X=b.qv.e,D=b.qv.n,h=0,S=0,a=16;
if(W.x<a)h=a-W.x;if(W.x>X-a)h=W.x-(X-a);if(W.y<a)S=a-W.y;if(W.y>D-a)S=W.y-(D-a);var K=this.qe.j(h8.NN)?8:1;
if((h!=0||S!=0)&&(Q.e*b._>X||Q.n*b._>D)){h=Math.min(5,h*.5)*K;S=Math.min(5,S*.5)*K;if(!(W.x<a||W.y<a)){h=-h;
S=-S}b.R.x+=h;b.R.y+=S;this.ayE({Jo:this.td,action:"move"});Q.Ca=!0}}this.update()};jw.prototype.update=function(r){var Q=this.wK();
if(Q==null)return;if(Q.yV){var W=this.a.map;for(var b in W){if(W[b].b.Wq)W[b].b.Wq(Q,this,this.LZ,this.qe)}}if(Q.YH)if(gn.Kz)gn.vs(Math.max(Q.e,Q.n));
if(Q.YH){Q.W4()}var X=Q.u,D=this.nW,h=this.nW=Date.now();if(Q.YH||Q.fi||Q.a9||Q.Ca||r||X.Yl!=X._||!X.ur.s4(X.R)){var S=X.Yl;
if(X.Yl!=X._){var a=m.uj.aqZ(X._,X.Yl>X._),K=.12;if(X.Yl<X._&&X.Yl<a)X.Yl=a;if(X.Yl>X._&&X.Yl>a)X.Yl=a;
var Y=Math.abs(X._-a)*(h-D)*.001/K;if(X.Yl<X._)X.Yl=Math.min(X._,X.Yl+Y);else X.Yl=Math.max(X._,X.Yl-Y)}var d=S==X._?0:(X.Yl-X._)/(S-X._);
X.ur.x=X.R.x+d*(X.ur.x-X.R.x);X.ur.y=X.R.y+d*(X.ur.y-X.R.y);this.Fs.VJ(this.LZ,null);this.Fs.ba(Q,this.JN)}if((Q.YH||Q.Ca||Q.yV)&&(!this.td.hY||Q.Ts)){if(Q.yV)Q.qk();
this.ek.ba(Q,this.JN,this.LZ);this.UQ.aiE(Q,this.qe);Q.mz=!1}Q.Ts=!1;Q.yV=!1;Q.YH=null;Q.fi=Q.a9=Q.Ca=!1};
jw.prototype.NY=function(r){var Q=r.target.tagName.toLowerCase(),W=r.target.getAttribute("type"),b=h8,X=b.Gx(r.code,b.Cj);
if(!((Q=="input"||Q=="select"||Q=="button")&&b.Gx(r.code,b.jV))){if(b.SR(r)){r.preventDefault()}this.qe.oK(b.X_(r));
this.tf("down")}};jw.prototype.Qz=function(r){if(r.key==" ")this.qe.KB();if(h8.Gx(r.code,h8.A1))this.qe.reset();
this.qe.WA(h8.X_(r));var Q=r.target.tagName.toLowerCase();if(h8.SR(r)){r.preventDefault()}this.tf("up")};
jw.prototype.tf=function(r){var Q=this.qe,W=this.wK(),b=W!=null&&W.I.length!=0;if(this.b3.A4()!=null){if(Q.j(h8.V2)){this.b3.ak2()}return}this.jY();
var X=this.ld(h8.DS),D=Q.j(h8._I),h=Q.j(h8.NN);if(X&&Q.j(h8.Qf)&&r=="down"){var S=new km(e.E.s),a=new km(e.E.L);
S.b=m.sp;if(h){S.data={d:"h_stepfwd"}}else{S.data={d:"h_stepbck"}}if(this.Ke.A4()!=null&&this.Ke.A4().ND()){}else this.$(S)}if(X){var S=new km(e.E.s),K=new km(e.E.Kk),a=new km(e.E.L);
if(Q.j(h8.Kj)&&Q.j(h8.Zv)){a.data={d:e.c.Re,wv:"storwindow"};this.$(a)}if(!D&&r=="down")for(var Y in bu.keys){var d=bu.keys[Y],j=!0;
for(var n=0;n<d.length;n++)if(!Q.j(d[n]))j=!1;if(j){S.b=m.G9;if(Y=="hue2"&&h&&W.B[W.I[0]].add.SoLd==null)S.data={d:"auto",lm:3};
else S.data={d:"start",cM:Y}}}if(Q.j(h8.c)){K.data=m.to.wF(!0)}if(Q.j(h8.n8)){if(D)a.data={d:e.c.Re,wv:"csize"};
else if(W)a.data={d:e.c.jz,eU:h}}if(Q.j(h8.x4)){K.data=m.to.wF()}if(Q.j(h8.E)&&r=="down"){if(h)K.data={r7:"mergeVisible"};
else K.data={r7:"mergeLayersNew",Hf:{__name:"Merge Layers",classID:"Mrg2"}}}if(Q.j(h8.oS)){if(h&&this.LZ.at!=m.YO)a.data={d:e.c.Re,wv:"afw_fade"};
else if(D){S.b=m.tQ;S.data={d:"applylast"}}else a.data={d:e.c.UG}}if(Q.j(h8.L4)){if(D&&W&&W.ib(W.I[0])){S.b=m.M0;
S.data={d:$.$u}}else{S.b=m.M0;S.data={d:$.bm,h1:h}}}if(Q.j(h8.fJ)){a.data={d:e.c.bJ,Lb:d4.JY}}if(Q.j(h8.Kj)){if(h){S.data=null;
if(D)a.data={d:e.c.Re,wv:"finfo"};else K.data={r7:"inverse"}}else if(D)a.data={d:e.c.Re,wv:"isize"}}if(Q.j(h8.wD)){K.data={r7:(h?"cut":"copy")+"ToLayer"}}if(Q.j(h8.DK)){a.data={d:e.c.Re,wv:"preferences"}}if(Q.j(h8.H9)){if(h){S.b=m.M0;
S.data={d:$.Vl}}else if(r=="down")a.data={d:e.c.Re,wv:"newproject"}}if(Q.j(h8.uM)){if(D)a.data={d:e.c.Re,wv:"storwindow",BT:0};
else{a.data={d:e.c.VX};Q.reset()}}if(Q.j(h8.YW)){a.data={d:e.c.a9S};Q.reset()}if(Q.j(h8.Ct)){a.data={d:e.c.bJ,Lb:d4.aM}}if(Q.j(h8.sF)&&r=="down"){if(h){if(D)a.data={d:e.c.Re,wv:"saveforweb"};
else a.data={d:e.c.cw}}else a.data={d:e.c.EV}}if(Q.j(h8.ix)){if(h){S.b=m.YO;S.data={d:"again"}}else a.data={d:e.c.cf,b:m.YO}}if(Q.j(h8.iA)){a.data={d:e.c.t7}}if(Q.j(h8.Ie)){this.Fs.bo()}if(Q.j(h8.yn)&&W&&W.dL()){a.data={d:e.c.OE}}if(Q.j(h8.NR)||Q.j(h8.v6)){S.b=m.M0;
S.data={d:$.e9,CZ:0};if(Q.j(h8.NR))S.data.CZ=h?3:2;else S.data.CZ=h?0:1}if(Q.j(h8.sV)&&W){S.b=m.M0;S.data={d:$.yu}}if(Q.j(h8.Cj)&&W){var U=0;
if(h)U++;if(D)U+=2;S.b=m.iW;S.data={d:"frompath",C0:[null,0,U]}}if(Q.j(h8.ul)){K.data=m.Fp.pU(0)}if(Q.j(h8.jV)){var I=this.JN.length,f=Q.j(h8.NN)?-1:1;
if(I>1)this.Fs.Ur((this.Fs.aq()+I+f)%I)}if(Q.j(h8.za)){a.data={d:e.c.bJ,Lb:d4.LQ}}if(Q.j(h8.xW)){a.data={d:e.c.bJ,Lb:d4.vb}}m.uj.ac0(Q,S);
if(this.Ke.A4()!=null&&this.Ke.A4().ND()){}else{if(S.data)this.$(S);if(K.data)this.$(K);if(a.data)this.$(a)}}if(!X&&D){var g;
if(Q.j(h8.NR))g="Bckw";if(Q.j(h8.v6))g="Frwr";if(Q.j(h8.sV))g="Back";if(Q.j(h8.ul))g="Frnt";if(g){var K=new km(e.E.Kk);
K.data={r7:"select",Hf:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:g}}]},MkVs:{t:"bool",v:!1}}};
this.$(K)}}if(W&&W.I.length!=0){var H=W.B[W.I[0]],u=H.L$;if(u==1||u==3||X){var S=new km(e.E.s),s=u==3?H.Xg(W).z:H.SS();
if(s){var _=s.Xo?W.u.Vu.join("")=="111"?1:2:0;S.b=m.W9;if(s&&Q.j(h8.V2)&&_!=0){S.data={d:"mskView",h:0}}if(s&&Q.j(h8.asz)){S.data={d:"mskView",h:_==1?0:1}}if(s&&Q.j(h8.a4G)){S.data={d:"mskView",h:_==2?0:2}}if(S.data)this.$(S)}}}var i=Q.Jr();
if(W&&X&&2<=i&&i<=5){var M=[1,1,1];if(i>2){M=[0,0,0];M[i-3]=1}var T=new km(e.E.s,!0);T.b=m.vA;T.data={d:"setcls",Vu:M};
this.$(T)}if(!Q.j(h8.DS)&&!D&&r=="down"){var S=new km(e.E.s),a=new km(e.E.L),R=this.a.map[this.LZ.at],z=-1;
for(var n=0;n<this.a.keys.length;n++)if(this.a.keys[n]&&this.ld(this.a.keys[n]))z=n;if(z!=-1){var G=null;
if(R.J5!=z)G=this.a.TA[z];if(R.J5==z&&h)G=(R.aeF+1)%this.a.sQ[z].length;if(G!=null){var V=this.a.sQ[z][G].b.id,y=this.LZ.Ay;
if((y==null||y.indexOf(parseInt(V))!=-1)&&!this.td.hY)a.data={d:e.c.cf,b:V}}}if(Q.j(h8.fJ))a.data={d:e.c.cf,b:m.vA};
if(Q.j(h8.Ct))a.data={d:e.c.cf,b:m.LT};if(Q.j(h8.yn))a.data={d:e.c.bJ,Lb:d4.dt,CZ:2};if(Q.j(h8.x4))a.data={d:e.c.bJ,Lb:d4.dt,CZ:3};
if(a.data)this.$(a);if(Q.j(h8.asO)&&W&&W.I.length==1){var H=W.B[W.I[0]];S.b=m.M0;var k=H.RV(0)||H.RV(1)||H.RV(2)||H.RV(31);
S.data={d:$.Vi,g2:k?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[31]]};this.$(S)}var i=Q.Jr();if(b&&i!=-1&&this.ld(h8.Np[i])){var B=W.I[0],H=W.B[B],v=h8.rr(Math.round(100*H.opacity/255),i);
S.b=m.M0;S.data={d:$.lo,g2:Math.round(255*v/100)};this.$(S)}var l=this.LZ.Y5;if(Q.j(h8.jV)){a.data={d:e.c.D7,h:l==0?1:0};
this.$(a)}if(Q.j(h8.oS)||Q.j(h8.V2)&&l==2){var F=document.fullscreenElement!=null==(l==2);a.data={d:e.c.D7,h:l==0?2:0,jF:F};
this.$(a)}if(Q.j(h8.nE)&&!this.td.hY){S.b=m.iW;S.data={d:"qmask"};this.$(S)}}if(!Q.j(h8.DS)&&!D&&h){var S=new km(e.E.s),a=new km(e.E.L);
if(Q.j(h8.sV))a.data={d:e.c.Re,wv:"shortcuts"};if(Q.j(h8.xr))a.data={d:e.c.Re,wv:"fill"};if(Q.j(h8.ao8))a.data={d:e.c.Re,wv:"sel_feather"};
if(b&&(Q.j(h8.Ex)||Q.j(h8.Ek))){var B=W.I[0],H=W.B[B],L=hG.Av,Z=L.length,t=L.indexOf(H.iX);S.b=m.M0;
S.data={d:$.zq,g2:(t+Z+(Q.j(h8.Ex)?1:-1))%Z};this.$(S)}if(a.data)this.$(a)}var S=new km(e.E.s),A=r=="down"&&(this.ld(h8.ZI)||this.ld(h8.$G));
if((X||D)&&A){S=new km(e.E.Kk);S.data=m.AZ.Sj(X?"BckC":"FrgC");this.$(S)}else if(W&&A&&!this.td.hY){if(W.P!=null){S=new km(e.E.Kk);
S.data={r7:"delete"}}else if(W.I.length!=0){var H=W.B[W.I[0]];if(H.L$==1)S.data={d:$.bQ};else if(H.L$==3)S.data={d:$.S4};
else S.data={d:$.YL};S.b=m.M0}this.$(S)}if(this.Ke.A4()!=null){if(Q.j(h8.V2)){this.Ke.A4().asd()}else{this.Ke.A4().tf(W,this,this.LZ,Q)}}if(this.LZ.at==null)return;
var R=this.FI();if(this.Ke.A4()==null||this.a.gv)R.tf(W,this,this.LZ,Q)};jw.prototype.ld=function(r){var Q=this.qe,W=this.a.map[this.LZ.at].b,top=this.Ke.A4(),b=this.wK();
return Q.j(r)&&!W.qy(r,b)&&(top==null||!top.qy(r,b))};jw.prototype.GT=function(r){var Q=this.amE,W=this.hl;
this.LZ.Y5=r;var b=N.Z_,X=this.Ul.m;if(b(X))this.hX.removeChild(X);var D=this.ut.m;if(b(D))this.hX.removeChild(D);
var h=this.UQ.m;if(b(h))Q.removeChild(h);var S=this.Fs.m;if(b(S))Q.removeChild(S);var a=this.ek.m;if(b(a))Q.removeChild(a);
if(r==0){this.hX.appendChild(X);this.hX.appendChild(D);W.appendChild(Q);Q.appendChild(h);Q.appendChild(S);
Q.appendChild(a)}if(r==1){this.hX.appendChild(X);Q.appendChild(S)}if(r==2){Q.appendChild(S)}this.Fs.GT(r==2?1:0);
this.qZ()};jw.prototype.acG=function(r){if(this._q())return 1;if(N.an8()==0){this.LZ={};this.du=function(Q,W){return Math.sqrt(Q*W)}}return-1};
function je(r){eg.call(this);if(r==null)return;this.Dr=null;this.J9=null;this.m=N.S("div","sbar"+" "+r);
this.sd=new N.S("div","top");this.sd.innerHTML="> <";this.m.appendChild(this.sd);this.YG=1;this.sd.addEventListener("click",this.ani.bind(this),!1)}je.prototype=new eg;
je.prototype.ani=function(r){if(this.Dr!=null&&this.Dr<500&&this.YG==0)return;if(this.YG==0)this.tL(!0);
else this.collapse(!0)};je.prototype.alg=function(r){this.YG=r;this.sd.innerHTML=this.YG==0?"< >":"> <"};
je.prototype.a8b=function(){var r=new km(e.E.L,!0);r.data={d:e.c.Kl};this.$(r)};je.prototype.tL=function(r){this.alg(1);
if(r)this.a8b()};je.prototype.collapse=function(r){this.alg(0);if(r)this.a8b()};je.prototype.Xa=function(){return this.YG==1};
function j2(r,Q){je.call(this,"vcolumn");this.Ck=r;this.aaa=Q;this.bw();this.EP=N.S("div");this.EP.setAttribute("style","cursor:default;");
this.a3M=this.ari.bind(this);this.aw0=this.ajQ.bind(this);this.auD=this.ak1.bind(this);N.AM(this.m,this.a3M);
this.m.appendChild(this.EP);this.Cx=N.S("div");this.EP.appendChild(this.Cx);this.H4=-1;this.apT=N.S("div","float");
var W=this.MQ=N.S("canvas","gsicon"),b=Math.round(12*N.i());W.width=W.height=b;var X=W.getContext("2d");
X.moveTo(2,2);X.lineTo(b-2,b-2);X.moveTo(2,7);X.lineTo(b-7,b-2);X.stroke();this.MQ.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
N.cI(this.MQ);N.AM(this.MQ,this.a3M);N.Q4(W);this.Eg=[];this.yH=[];this.alS=null;this.ri=null;this.a8Z=0}j2.prototype=new je;
j2.prototype.ari=function(r){var Q=r.target==this.MQ;if(!Q){if(r.target!=this.m)return;if(!this.Xa())return}else{var W=this.Eg[this.H4].PA;
W.style.pointerEvents="none";var b=W.getBoundingClientRect();this.alS=[b.width,b.height];this.yH[this.H4]=[b.width,b.height]}r.stopPropagation();
this.ri=N.ug(r,document.body);this.a8Z=this.Ck;N.sY(document,this.aw0);N.gJ(document,this.auD)};j2.prototype.ajQ=function(r){var Q=N.ug(r,document.body);
if(this.Xa()){this.Ck=this.a8Z+this.ri.x-Q.x;this.bw()}else{var W=this.yH[this.H4],b=this.alS;W[0]=b[0]+this.ri.x-Q.x;
W[1]=b[1]+Q.y-this.ri.y}var X=new km(e.E.L,!0);X.data={d:e.c.Kl};this.$(X)};j2.prototype.ak1=function(r){if(!this.Xa()){var Q=this.Eg[this.H4].PA;
Q.style.pointerEvents="auto"}N.qa(document,this.aw0);N.xf(document,this.auD)};j2.prototype.awL=function(r){r.Z("showFloat",this.apB,this);
r.Z("hideFloat",this.O7,this);this.Eg.push(r);r.parent=this;this.EP.appendChild(r.m)};j2.prototype.akr=function(n){var r=this.Eg[n];
r.removeEventListener("showFloat",this.apB,this);r.removeEventListener("hideFloat",this.O7,this);this.Eg.splice(n,1);
r.parent=null;this.EP.removeChild(r.m)};j2.prototype.avl=function(){return this.Eg.length};j2.prototype.Um=function(){for(var n=0;
n<this.Eg.length;n++)this.Eg[n].Um()};j2.prototype.apB=function(r){this.Um();var Q=this.apT;this.Cx.appendChild(Q);
this.H4=this.Eg.indexOf(r.currentTarget);var W=this.Eg[this.H4].PA;N.WC(Q);Q.appendChild(W);Q.appendChild(this.MQ);
this.du(this.Dr,this.J9)};j2.prototype.O7=function(r){this.Um();if(this.H4!=-1){this.Cx.removeChild(this.apT);
this.H4=-1}};j2.prototype.bw=function(){function r(Q){return Math.round(Q*N.i())/N.i()}this.m.setAttribute("style","width: "+this.Ck+"px; border-left-width:"+r(4)+"px; cursor:ew-resize;")};
j2.prototype.tL=function(r){this.bw();this.O7();for(var n=0;n<this.Eg.length;n++)this.Eg[n].tL();je.prototype.tL.call(this,r)};
j2.prototype.collapse=function(r){this.m.removeAttribute("style");for(var n=0;n<this.Eg.length;n++)this.Eg[n].collapse();
je.prototype.collapse.call(this,r)};j2.agw=11;j2.prototype.du=function(r,Q){this.Dr=r;this.J9=Q;Q-=j2.agw;
var W=this.Eg.length;if(W==0)return;if(!this.Xa()){var b=Q<400?Q:400+(Q-400)*.5;for(var n=0;n<W;n++){var X=this.Eg[n],D=this.yH[n];
X.du(D?D[0]:this.Ck,D?D[1]:b)}}else{var h=Q;for(var n=0;n<W;n++){var X=this.Eg[n],S=X.afD();if(n==W-1){S=h;
X.m.style.borderBottom="none"}X.du(this.Ck,S);h-=S+4}}};function cc(r){eg.call(this);this.m=N.S("div");
this.EP=null;this.Hl=0;this.OG=0;this.aoz=r;this.a88=this.DF.bind(this);this.a0G=this.Fx.bind(this);
this.a2x=this.Tn.bind(this);this.L_=null;this.nj=null;this.Zp=null;N.AM(this.m,this.a88);var Q=this.m,b="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
Q.addEventListener("touchmove",N.oE,!1);this.aig=!0;this.ol=[];var W=this.a8T=N.S("div");W.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.m.appendChild(W);var X=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",b+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",b+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",b+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var n=0;n<X.length;n++){var D=new fG(X[n]);this.ol.push(D);D.m.setAttribute("style","margin-left:"+(n<7?4:0)+"px;cursor:pointer;");
D.Z("click",this.em,this)}}cc.prototype=new eg;cc.prototype.r=function(){var r=this.a8T;N.WC(r);for(var n=0;
n<this.ol.length;n++){var Q=this.ol[n];if(n<5)Q.r();r.appendChild(Q.m)}};cc.prototype.em=function(r){var n=this.ol.indexOf(r.currentTarget);
if(n==0){if(window.showCap)window.showCap();return}var Q=" issues learn blog api twitter facebook".split(" "),W=" //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" "),b=window.ga;
if(b)b("send","event","Links",Q[n]);var X=new km(e.E.L,!0);X.data={d:e.c.X9,link:W[n]};this.$(X)};cc.prototype.DF=function(r){if(r.a8n){r.preventDefault();
r.stopPropagation()}var Q=window;N.sY(Q,this.a0G);N.gJ(Q,this.a2x);Q=this.EP;this.L_=new cp(parseInt(Q.style.left),parseInt(Q.style.top));
this.nj=N.ug(r,this.m);this.Zp=Q.getBoundingClientRect()};cc.prototype.Fx=function(r){var Q=N.ug(r,this.m),W=this.L_.x+Q.x-this.nj.x,b=this.L_.y+Q.y-this.nj.y,X=this.Hl-this.Zp.width,D=this.OG-this.Zp.height;
if(this.aoz)this.EP.style.left=Math.min(0,Math.max(X,W))+"px";else this.EP.style.top=Math.min(0,Math.max(D,b))+"px";
if(W-10>0){this.nj.x=Q.x-10;this.L_.x=0}if(W+10<X){this.nj.x=Q.x+10;this.L_.x=X}};cc.prototype.Tn=function(r){var Q=window;
N.qa(Q,this.a0G);N.xf(Q,this.a2x)};cc.prototype.a9E=function(r){if(this.EP){this.m.removeChild(this.EP)}this.EP=r;
this.m.appendChild(r);r.style.position="absolute";if(this.aoz)r.style.left=0;else r.style.top=0};cc.prototype.du=function(r,Q){this.Hl=r;
this.OG=Q;this.m.setAttribute("style","position:relative; width: "+r+"px; height: "+Q+"px; overflow:hidden; white-space: nowrap; ");
var W=this.EP.firstChild,b=this.a8T,X=W?W.firstChild.getBoundingClientRect().width+80:1e9,D=170,h=this.aig&&r>X+D;
b[ec.it][ec.amC]=h?"":ec.i5;var S=this.ol;for(var n=0;n<S.length;n++){var a=n>4||r-X>500?"":ec.i5,K=S[n];
K.m.style.display=a}};cc.prototype.a7i=function(){this.EP.style.left="0";this.EP.style.top="0"};function cm(){eg.call(this);
this.Ha=null;this.ju=cm.YW;this.a1_="";this.m=N.S("div","rightbar");this.JJ=[new j2(300),new j2(268,!0)];
this.Eg=[new bW,new bW,new bW,new bW,new bW,new bW,new bW];this.amV=[]}cm.prototype=new eg;cm.prototype.r=function(){var r=this.ju;
for(var n=0;n<r.length;n++)r[n].MY.r()};cm.YW=[{MY:new kn,QJ:3},{MY:new at,QJ:1},{MY:new bk,QJ:4},{MY:new gq,QJ:2},{MY:new iR(!0),QJ:5},{MY:new iM,QJ:0},{MY:new fI,QJ:5},{MY:new ht,QJ:3},{MY:new eX,QJ:0},{MY:new ad,QJ:3},{MY:new fa,QJ:2},{MY:new j1,QJ:4},{MY:new dH,QJ:3},{MY:new dj,QJ:5},{MY:new iR(!1),QJ:5},{MY:new jj,QJ:2},{MY:new eD,QJ:3},{MY:new ds,QJ:1},{MY:new ca,QJ:0},{MY:new gT,QJ:5},{MY:new dl,QJ:6,qB:!0},{MY:new a_,QJ:6,qB:!0},{MY:new jB,QJ:6,qB:!0}];
(function(){var r=[{id:h4.Ct.aqn,name:"Gallery",url:"plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"}];
for(var n=0;n<r.length;n++)cm.YW.push({MY:new kf(r[n],100+n),QJ:6,qB:!0})}());cm.prototype.auY=function(r){for(var n=0;
n<r.length;n++){var Q=r[n],W=new kf(Q,"plg_"+Q.name);this.ju.push({MY:W,QJ:6});this.amV.push(W.L9)}this.YY()};
cm.prototype.VJ=function(r,Q){this.Ha=r;var W=this.ju;for(var n=0;n<W.length;n++)W[n].MY.VJ(r,Q);if(Q==d4.Sd||Q==d4.KF)this.YY()};
cm.prototype._n=function(r){var Q=this.ju;for(var n=0;n<Q.length;n++)Q[n].MY._n(r)};cm.prototype.du=function(r,Q){this.Dr=r;
this.J9=Q;this.YY();this.JJ[0].du(r,Q);this.JJ[1].du(r,Q)};cm.prototype.YY=function(){var r=this.Ha,Q=this.Dr,W=this.J9;
if(r==null||Q==0)return;var b=r.VF.concat(this.amV),X=Q<500||Q<700&&Q<W,D=JSON.stringify(b)+","+X;if(D!=this.a1_){this.a1_=D;
N.WC(this.m);var h=[];for(var n=0;n<this.JJ.length;n++){var S=this.JJ[n];h[n]=S.Xa();while(S.avl()!=0)S.akr(0);
S.tL()}var a=[];for(var n=0;n<this.Eg.length;n++){var K=this.Eg[n];K.tL();while(K.apw()!=0)K.Z9(0);a.push(0)}for(var n=0;
n<b.length;n++){var Y=this.a5g(b[n].toString());if(Y==null)continue;this.Eg[Y.QJ].je(Y.MY);this.Eg[Y.QJ].Ur(0);
a[Y.QJ]++}var d=[];for(var n=0;n<a.length;n++){if(a[n]==0)continue;var j=n<3||X?1:0,S=this.JJ[j];S.parent=this;
S.awL(this.Eg[n]);d[j]=!0}for(var n=0;n<this.JJ.length;n++)if(d[n])this.m.appendChild(this.JJ[n].m);
this.JJ[0].collapse();if(Q<700||this.Ha.compact||!h[1]){this.JJ[1].collapse()}var U=new km(e.E.L,!0);
U.data={d:e.c.Kl};this.$(U)}};cm.prototype.a5g=function(r){for(var n=0;n<this.ju.length;n++)if(this.ju[n].MY.L9==r)return this.ju[n]};
cm.prototype.akt=function(r){var Q=this.a5g(r);this.Eg[Q.QJ].je(Q.MY)};cm.prototype.ba=function(r,Q,W){var b=this.ju;
for(var n=0;n<b.length;n++)b[n].MY.ba(r,Q,W)};cm.prototype.pZ=function(r,Q,W,b,X){var D=this.ju;for(var n=0;
n<D.length;n++)D[n].MY.pZ(r,Q,W,b,X)};cm.prototype.Dc=function(r,Q,W,b,X){var D=this.ju;for(var n=0;
n<D.length;n++)D[n].MY.Dc(r,Q,W,b,X)};cm.prototype.$v=function(r,Q,W,b,X){var D=this.ju;for(var n=0;
n<D.length;n++)D[n].MY.$v(r,Q,W,b,X)};function es(r,Q){je.call(this,"toolbar");this.m.removeChild(this.sd);
this.av=N.S("div","tools");this.m.appendChild(this.av);this.Ay=null;this.at=null;this.ade=Q;this.K4=null;
this.a1s=-1;this.ayi={};this.aar=r;this.a=null;this.yp=null;this.kH=null;this.tH=null;this._t=new dZ;
this._t.m.style.marginTop="5px";this._t.m.style.marginBottom="3px";this._t.parent=this;this.F0=new fG(N.lI("lrs/mask"),!1,[6,6,1]);
this.F0.Z("click",function(D){var h=new km(e.E.s,!0);h.b=m.iW;h.data={d:"qmask"};this.$(h)},this);var W=new eJ(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
W.Z(e.E.f,this.a8E,this);var b=N.S("span","rangecontFloat form padded");b.appendChild(W.m);b.setAttribute("style","position:absolute; width:119px; z-index:2;  padding-right:0px; ");
var X=document.body;this.aoJ=[!1,!1,!1,!1];this.X0=new fG(N.lI("kb"),!1,"Virtual Keys");this.X0.Z("click",function(D){var h=this.X0.m.getBoundingClientRect();
b.style.top=h.top-40+"px";b.style.left=h.left+h.width+8+"px";if(N.Z_(b)){N.Z0({m:b},X)}else{X.appendChild(b);
N._R({m:b})}},this)}es.prototype=new je;es.prototype.a8E=function(r){var Q=r.target.G();this.X0.t(Q[0]||Q[1]||Q[2]||Q[3]);
var W=new km(e.E.L,!0);for(var n=0;n<4;n++){if(Q[n]!=this.aoJ[n]){W.data={d:e.c.afj,hY:Q[n],a4d:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][n]};
this.$(W)}}this.aoJ=Q.slice(0)};es.prototype.aiE=function(r,Q){this.K4=Q;if(r==null||r.I.length==0||r.B[r.I[0]]==null)return;
var W=r.F0()!=null,b=r.u.Vu,X=r.B[r.I[0]].L$,D=X==1||X==3||W||b[0]+b[1]+b[2]==1;this._t.aud(D);this.F0.t(W)};
es.prototype.aj0=function(r,Q){var W=r.length,b=[];for(var n=0;n<W;n++)b[n]=r[n].slice(0);r=b;var X=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],D=Math.min(X.length/2,W-Q);
for(var n=0;n<D;n++){var h=X[2*n],S=X[2*n+1];r[h]=r[h].concat(r[S]);r[S]=null}for(var n=0;n<r.length;
n++)if(r[n]==null){r.splice(n,1);n--}return r};es.prototype.amA=function(r,Q){for(var n=0;n<Q.length;
n++)for(var W=0;W<Q[n].length;W++)if(Q[n][W].b.id==r)return n};es.prototype.a6g=function(r){var Q=this.aar;
this.yp=[];this.kH=[];this.tH=[];this.a=[];var W=Q.sQ;if(r!=null&&this.ade)W=this.aj0(W,r);var b=this.Ay;
if(b){var X=[];for(var n=0;n<W.length;n++){var D=[];for(var h=0;h<W[n].length;h++){var S=W[n][h];if(b==null||b.indexOf(parseInt(S.b.id))!=-1)D.push(S)}if(D.length>0)X.push(D)}W=X}for(var n=0;
n<W.length;n++){var a=[],K=this.yp.length,Y=null,d=-1;for(var h=0;h<W[n].length;h++){var S=W[n][h].b,j=this.amA(S.id,Q.sQ),U=Q.keys[j];
if(U==h8.fJ&&h==1)U=h8.Ct;this.a.push(S);var I=new ij(S.name,U,S.$d,this.yp.length,n,W[n].length>1);
this.yp.push(I);var f=this.ayi[S.id];if(f==null)f=0;if(f>d){d=f;Y=I}I.Z(e.E.f,this.aF,this);I.Z("mover",this.KU,this);
a.push({name:S.name,JA:S.$d,hM:U?U.PJ:""})}this.kH.push(Y);this.tH.push(a.length==1?null:[a,K])}};es.prototype.du=function(r,Q){var W=this.J9=Q,b=32;
if(1<N.i()&&N.i()<1.5)b=18+14*(1/N.i());var X=39+23,D=Math.floor((W-X)/b);if(D!=this.a1s){this.a1s=D;
this.a6g(D);this.qc()}var h=this.kH.length*b+X,S=Math.min(1,W/h);if(.75<=S){this.av.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+S+","+S+");");
this.m.setAttribute("style","height:"+(Q-2)+"px; overflow:hidden;")}else{W-=4;this.av.setAttribute("style","height: "+W+"px;  width:"+Math.ceil(h/W)*34+"px");
this.m.setAttribute("style","")}};es.prototype.r=function(){if(this.a==null)return;for(var n=0;n<this.yp.length;
n++)this.yp[n].r()};es.prototype.aF=function(r){var Q=new km(e.E.L,!0);Q.data={d:e.c.cf,b:this.a[r.id].id};
this.$(Q)};es.prototype.a2z=function(r){var Q=r.target.a6Y+r.target.z_()[0];this.yp[Q].Tn(null)};es.prototype.KU=function(r){var Q=this.K4,W=new km(e.E.L,!0);
W.data={d:e.c.yL};this.$(W);var b=r.target,X=this.tH[b.J5];if(X==null)return;var D=new ka(X[0],null,!0);
D.a6Y=X[1];D.J5=b.J5;D.Z("select",this.a2z,this);D.parent=this;D.r();var h=b.m.getBoundingClientRect(),W=new km(e.E.L,!0);
W.data={d:e.c.I2,MY:D,x:h.left+h.width+8,y:h.top};if(Q==null||!(Q.j(h8.ye)||Q.j(h8.DS)))this.$(W)};es.prototype.qc=function(r){if(r==null)r=this.at;
this.at=r;if(this.a==null)return;this.ayi[r]=Date.now();var Q=-1;for(var n=0;n<this.a.length;n++)if(this.a[n].id==r)Q=n;
for(var n=0;n<this.yp.length;n++){var W=this.yp[n];W.a3g(Q==n)}if(Q==-1)return;this.kH[this.yp[Q].J5]=this.yp[Q];
N.WC(this.av);var b=this.kH;for(var n=0;n<b.length;n++){this.av.appendChild(b[n].m)}if(!this.ade)return;
this.av.appendChild(this._t.m);if(this.J9>640)this.av.appendChild(this.F0.m);this.av.appendChild(this.X0.m)};
es.prototype.VJ=function(r,Q){if(Q==d4.KF&&r.Ay){this.Ay=r.Ay;this.a6g();this.qc()}this._t.ae9(r.V8,r.tB)};
function ij(r,Q,W,b,X,D){eg.call(this);this.iU=0;this.X1=this.acK.bind(this);this.J5=X;this.QH=b;this.JK=r;
this.awq=Q;this.aad=D;this.$d=W;this.m=N.S("button","");this.m.innerHTML=N.lI(this.$d);if(this.aad){var h=N.S("img","gsicon");
h.setAttribute("src",PIMG["tools/corner"]);h.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");
this.m.appendChild(h)}this.r();N.AM(this.m,this.DF.bind(this));this.m.addEventListener("click",this.Tn.bind(this),!1);
this.m.addEventListener("contextmenu",ij.pR,!1)}ij.prototype=new eg;ij.pR=function(r){r.stopPropagation();
r.preventDefault();return!1};ij.prototype.r=function(){var r=this.awq?" ("+this.awq.PJ+")":"";this.m.setAttribute("title",aA.get(this.JK)+r)};
ij.prototype.DF=function(r){this.iU=setTimeout(this.X1,160)};ij.prototype.Tn=function(r){clearTimeout(this.iU);
var Q=new km(e.E.f,!1);Q.target=this;Q.id=this.QH;this.$(Q)};ij.prototype.acK=function(r){var Q=new km("mover",!1);
Q.target=this;Q.id=this.QH;this.$(Q)};ij.prototype.a3g=function(r){this.m.className=r?"toolbtn active":"toolbtn"};
function gc(){eg.call(this);this.m=N.S("div","topbar");this.GZ=N.S("span","");this.apt=0;this.m.appendChild(this.GZ);
this.tS=null;this.L6=null;this.WE=[];this.VF=[];var r=this.DF.bind(this);for(var n=0;n<gc.data.length;
n++){var Q=N.S("button");this.WE.push(Q);this.GZ.appendChild(Q);Q.addEventListener("mouseover",r,!1);
N.AM(Q,r)}this.$T=new fG([0,13,0],!1,null,!0);this.$T.Z("click",this.O_,this);this.m.appendChild(this.$T.m);
this.uW=new fG(N.lI("tools/zoom",null,"autoscale"),!1,[12,86]);this.uW.Z("click",this.O_,this);this.m.appendChild(this.uW.m);
this.Qp=new fG("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.Qp.Z("click",this.O_,this);this.m.appendChild(this.Qp.m)}gc.prototype=new eg;gc.prototype.aoE=function(){if(this.VF.length!=0)return;
for(var n=0;n<gc.data.length;n++){var r=gc.data[n],Q=new ka(r.items,r.$H);Q.parent=this;this.VF.push(Q)}this.r()};
gc.prototype.r=function(){this.$T.r();this.uW.r();this.Qp.r();for(var n=0;n<this.WE.length;n++)this.WE[n].textContent=aA.get(gc.data[n].name);
this.atJ();for(var n=0;n<this.VF.length;n++)this.VF[n].r()};gc.prototype.O_=function(r){var Q=new km(e.E.L,!0);
if(r.target==this.$T)Q.data={d:e.c.Re,wv:"account"};else if(r.target==this.uW)Q.data={d:e.c.UG};else Q.data={d:e.c.D7,jF:!0};
this.$(Q)};gc.prototype.a83=function(r,Q){this.tS=r;this.L6=Q};gc.prototype.VJ=function(r,Q){this.L6=r;
if(Q==d4.KF){var W=r.apj;N.WC(this.GZ);for(var n=0;n<this.WE.length;n++){if(W==null||W[n]==1||W[n]instanceof Array)this.GZ.appendChild(this.WE[n]);
if(W!=null&&W[n]instanceof Array){this.aoE();this.VF[n].ad5(W[n])}}this.m.removeChild(this.$T.m);this.m.removeChild(this.uW.m);
this.m.removeChild(this.Qp.m);if(r.l1)this.m.appendChild(this.$T.m);this.m.appendChild(this.uW.m);this.m.appendChild(this.Qp.m)}this.atJ()};
gc.prototype.atJ=function(r,Q){var W=this.$T,b=12255232;if(b6.aL())b=b6.KJ()?43520:16755200;W.m.setAttribute("style","color:#ffffff; background-color:#"+E.Y0(b))};
gc.prototype.DF=function(r){this.aoE();var n=this.WE.indexOf(r.currentTarget),Q=this.VF[n];if(r.type=="mouseover"&&!N.Z_(this.VF[this.apt].m))return;
if(N.Z_(Q.m))return;r.a8n=!0;this.apt=n;for(var n=0;n<gc.data.length;n++)this.VF[n].update(this.tS,this.L6);
var W=r.target.getBoundingClientRect(),b=new km(e.E.L,!0);b.data={d:e.c.I2,MY:Q,x:W.left,y:W.top+W.height+2,abn:!0};
this.$(b)};gc.axq=function(r){var Q=h8,W=Q.DS,b=Q.NN,X=Q._I,D=function(K){return{w:K!=null}},h=function(K){return{w:K!=null&&K.P!=null}},S={name:[0,5],items:[{name:[7,0],w:D,hM:[W,Q.c]},{name:[7,1],hM:[W,Q.x4],w:h},{name:[7,2],hM:[b,W,Q.Kj],w:h,Xe:!0},{name:[7,8],w:D,nT:!0},{name:[7,13],nT:!0,w:function(K){return{w:K!=null&&K.I.length!=0&&!K.B[K.I[0]].rect.WB()}},Xe:!0},{name:[7,11],nT:!0,w:function(K){return{w:K!=null&&K.I.length!=0&&!K.B[K.I[0]].rect.WB()}}},{name:[7,3],w:D,Xe:!0,sub:[{name:[7,9],nT:!0,w:h},{name:[19,3,0],nT:!0,w:h},{name:[7,4],nT:!0,w:h},{name:[7,5],nT:!0,w:h},{name:[7,6],nT:!0,w:h,hM:"Shift+F6"}]},{name:[7,10],w:h,Xe:!0},{name:[6,6,1],w:function(K){return{w:K!=null,TC:K!=null&&K.F0()!=null}},hM:[Q.nE],Xe:!0},{name:["VAR0 VAR1",[1,2],[17,2]],w:h}],$H:[{Y:e.E.Kk,J:m.to.wF(!0)},{Y:e.E.Kk,J:m.to.wF()},{Y:e.E.Kk,J:{r7:"inverse"}},{Y:e.E.L,J:{d:e.c.Re,wv:"crange"}},{Y:e.E.L,J:{d:e.c.Re,wv:"magiccut"}},{Y:e.E.L,J:{d:e.c.Re,wv:"redge"}},{sub:[{Y:e.E.L,J:{d:e.c.Re,wv:"sel_border"}},{Y:e.E.L,J:{d:e.c.Re,wv:"sel_smoothness"}},{Y:e.E.L,J:{d:e.c.Re,wv:"sel_expand"}},{Y:e.E.L,J:{d:e.c.Re,wv:"sel_contract"}},{Y:e.E.L,J:{d:e.c.Re,wv:"sel_feather"}}]},{Y:e.E.L,J:{d:e.c.cf,b:m.f8}},{Y:e.E.s,b:m.iW,J:{d:"qmask"}},{Y:e.E.Kk,J:{r7:"duplicate",Hf:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}]};
if(r){var a=S.items.length-1;S.items.splice(a-2,0,{name:[6,49],hM:[W,Q.wD],Xe:!0});S.$H.splice(a-2,0,{Y:e.E.Kk,J:{r7:"copyToLayer"}});
S.items.splice(a-1,0,{name:[10,16],hM:[X,W,Q.ix]});S.$H.splice(a-1,0,{Y:e.E.L,J:{d:e.c.cf,b:m.YO}})}return S};
gc.data=function(){var r=h8,Q=r.DS,W=r.NN,b=r._I,X=function(j){return{w:j!=null&&j.I.length!=0}},D=function(j){return{w:j!=null&&j.I.length!=0&&j.B[j.I[0]].add.SoLd!=null}},h=function(j){return{w:j!=null}},S=function(j){return{w:j!=null&&j.P2(!1)}},a=[],K=[],Y="none maxx avrg medn minn rang stdv summ vari".split(" "),d=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var n=0;n<Y.length;n++){a.push({name:d[n],w:function(j,U){if(j==null||j.I.length!=1)return{w:!1};
var I=j.B[j.I[0]].add.SoLd;if(I==null)return{w:!1};return{w:!0,TC:I.Impr.v.classID==this.aaO}}.bind({aaO:Y[n]})});
K.push({Y:e.E.s,b:m.M0,J:{d:$.gp,g2:Y[n]}})}return[{name:[0,0],items:[{name:[5,3],hM:[b,Q,r.H9],title:[11,7],nT:!0},{name:[1,0],hM:[Q,r.uM],nT:!0},{name:[1,11],nT:!0,w:h},{name:["VAR0 VAR1",[1,0],[0,14]],Xe:!0,sub:[{name:"Storage",nT:!0,hM:[b,Q,r.uM]},{name:[1,5],nT:!0},{name:[11,0],nT:!0},{name:["PSD VAR0",[25,0]],nT:!0}]},{name:[1,1],Xe:!0,w:h,sub:[{name:"PNG",hM:"Imgur.com",w:function(j,U){return{w:j!=null&&U.Wi}}},{name:"JPG",hM:"Imgur.com",w:function(j,U){return{w:j!=null&&U.Wi}}},{name:"PSD",hM:"Photopea.com",w:function(j,U){return{w:j!=null&&U.Wi&&!j.sz}}}]},{name:"Save ...",hM:[Q,r.sF],w:function(j,U){var I=aA.get([1,2]),f=!0;
if(j){if(j.AW)I+=" ("+aA.get([6,7,1])+")";if(j.VQ)I+=" (Google Drive)";if(j.Pl)I+=" ("+Storage.list[j.Pl[0]][0]+")";
f="psd jpg png gif webp svg bmp".split(" ").indexOf(j.EB)!=-1}return{w:j!=null&&(j.Pl!=null||j.es!=null&&f||j.AW!=null||j.FX!=null&&j.FX.ZH!=null||j.VQ!=null||U.$K.save!=null),B5:I}}},{name:[1,3],w:function(j,U){return{w:j!=null&&U.Wi}}},{name:["VAR0 VAR1",[1,2],[0,14]],w:h,sub:[{name:"PSD to Storage",w:function(j,U){return{w:j!=null&&U.Wi}}},{name:["VAR0 PSD/PSB",[1,2]],nT:!0,w:function(j,U){return{w:j!=null&&U.Wi}}}]},{name:[1,8],w:h,sub:function(){var j=fH.Pd(0),U=[];
for(var n=0;n<j.length;n++)U.push({name:j[n],hM:"."+j[n].toLowerCase()});U.push({name:[0,14],sub:function(){var j=fH.Pd(1),U=[];
for(var n=0;n<j.length;n++)U.push({name:j[n],hM:"."+j[n].toLowerCase()});return U}()});return U}()},{name:[1,4],nT:!0,w:h,Xe:!0},{name:[1,9],nT:!0,w:h},{name:"Export Color Lookup",nT:!0,w:h,Xe:!0},{name:[1,14],nT:!0,w:h,Xe:!0},{name:"Automate",sub:[{name:"PDF Presentation",nT:!0}]},{name:[1,10]}],$H:[{Y:e.E.L,J:{d:e.c.Re,wv:"newproject"}},{Y:e.E.L,J:{d:e.c.VX}},{Y:e.E.L,J:{d:e.c.VX,agy:!0}},{sub:[{Y:e.E.L,J:{d:e.c.Re,wv:"storwindow",BT:0}},{Y:e.E.L,J:{d:e.c.Re,wv:"open_from_url"}},{Y:e.E.L,J:{d:e.c.Re,wv:"camera"}},{Y:e.E.L,J:{d:e.c.Re,wv:"res0"}}]},{sub:[{Y:e.E.L,J:{d:e.c.hB,IL:"png"}},{Y:e.E.L,J:{d:e.c.hB,IL:"jpg"}},{Y:e.E.L,J:{d:e.c.hB,IL:"psd"}}]},{Y:e.E.L,J:{d:e.c.EV}},{Y:e.E.L,J:{d:e.c.cw}},{sub:[{Y:e.E.L,J:{d:e.c.Re,wv:"storwindow",BT:1}},{Y:e.E.L,J:{d:e.c.Re,wv:"savepsb"}}]},{sub:function(){var j=fH.Pd(0),U=[];
for(var n=0;n<j.length;n++)U.push({Y:e.E.L,J:{d:e.c.Re,wv:"saveforweb",IL:n}});U.push({sub:function(){var I=fH.Pd(0).length,j=fH.Pd(1),U=[];
for(var n=0;n<j.length;n++)U.push({Y:e.E.L,J:{d:e.c.Re,wv:"saveforweb",IL:I+n}});return U}()});return U}()},{Y:e.E.L,J:{d:e.c.Re,wv:"saveforweb",IL:4,apm:!0}},{Y:e.E.L,J:{d:e.c.Re,wv:"eassets"}},{Y:e.E.L,J:{d:e.c.Re,wv:"exlut"}},{Y:e.E.L,J:{d:e.c.Re,wv:"finfo"}},{sub:[{Y:e.E.L,J:{d:e.c.Re,wv:"pdfpres"}}]},{Y:e.E.L,J:{d:e.c.Re,wv:"script"}}]},{name:[0,1],items:[{name:[2,8],w:h},{name:[2,0],w:h,hM:[W,Q,r.Qf]},{name:[2,1],w:h,hM:[Q,r.Qf],Xe:!0},{name:[2,11],hM:[W,Q,r.oS],Xe:!0,nT:!0,w:function(j,U){return{w:bO.a26(j)&&U.at!=m.YO}}},{name:[5,0],hM:[Q,r.yn],w:function(j){return{w:j!=null&&j.dL()}}},{name:[5,1],hM:[Q,r.n8],w:h},{name:[5,7],hM:[W,Q,r.n8],w:function(j){return{w:j!=null&&j.dL()}}},{name:[5,2],hM:[Q,r.iA],w:function(j,U){return{w:N.Vm()||U.Sv!=null||U.Rl!=null||U.a6G!=null}}},{name:[2,2],w:function(j){return{w:j!=null&&j.P!=null}},hM:"Delete",Xe:!0},{name:[2,3],w:h,nT:!0,hM:[W,r.xr]},{name:[14,9],w:h,nT:!0,Xe:!0},{name:[10,48],w:S},{name:[10,46],w:function(j){return{w:m.q7.atW(j)}}},{name:[10,16],w:h,hM:[b,Q,r.ix]},{name:[2,4],w:h,sub:go.a2C()},{name:[2,10,1],w:h},{name:[2,10,0],w:h,Xe:!0},{name:[12,87],w:h,sub:[{name:[12,62],w:h},{name:[9,3],w:h},{name:[10,31],w:function(j){return{w:j!=null&&j.tt()[1].length!=0}}}]},{name:[1,15],nT:!0},{name:[12,79],nT:!0,hM:[Q,r.DK]},{name:[1,13],nT:!0}],$H:[{Y:e.E.s,b:m.sp,J:{d:"h_undoredo"}},{Y:e.E.s,b:m.sp,J:{d:"h_stepfwd"}},{Y:e.E.s,b:m.sp,J:{d:"h_stepbck"}},{Y:e.E.L,J:{d:e.c.Re,wv:"afw_fade"}},{Y:e.E.L,J:{d:e.c.OE}},{Y:e.E.L,J:{d:e.c.jz}},{Y:e.E.L,J:{d:e.c.jz,eU:!0}},{Y:e.E.L,J:{d:e.c.t7}},{Y:e.E.Kk,J:{r7:"delete"}},{Y:e.E.L,J:{d:e.c.Re,wv:"fill"}},{Y:e.E.L,J:{d:e.c.Re,wv:"stroke"}},{Y:e.E.L,J:{d:e.c.cf,b:m.Uj}},{Y:e.E.s,b:m.tQ,J:{d:"start",lv:"rigidTransform"}},{Y:e.E.L,J:{d:e.c.cf,b:m.YO}},{sub:go.ajb()},{Y:e.E.Kk,J:{r7:"align",Hf:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{Y:e.E.s,b:m.M0,J:{d:$.abO}},{sub:[{Y:e.E.L,J:{d:e.c.fh,Lb:0}},{Y:e.E.L,J:{d:e.c.fh,Lb:1}},{Y:e.E.L,J:{d:e.c.fh,Lb:2}}]},{Y:e.E.L,J:{d:e.c.Re,wv:"pmanager"}},{Y:e.E.L,J:{d:e.c.Re,wv:"preferences"}},{Y:e.E.L,J:{d:e.c.Re,wv:"locstor"}}]},{name:[0,2],items:[{name:[12,36],w:h,Xe:!0,sub:[{name:"RGB",w:function(j){if(j==null)return{w:!1};
return{TC:j.add.fcmy==null,w:!0}}},{name:"CMYK",w:function(j){if(j==null)return{w:!1};return{TC:j.add.fcmy!=null,w:!0}},Xe:!0},{name:"Raster",w:function(j){if(j==null)return{w:!1};
return{TC:j.add.fvec==null,w:!0}}},{name:"Vector (Beta)",w:function(j){if(j==null)return{w:!1};return{TC:j.add.fvec!=null,w:!0}}}]},{name:[3],w:h,Xe:!0,sub:function(){var j=[];
for(var U in bu.names){j.push({name:bu.names[U],nT:i3[U]!=null,hM:bu.keys[U],Xe:bu.as7.indexOf(U)!=-1});
if(U=="selc"){j.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],nT:!0,Xe:!0});j.push({name:[19,7,0],hM:[Q,W,r.Zv],w:S});
j.push({name:[4,18],nT:!0,w:S})}}return j}()},{name:[4,16,0],w:S},{name:[4,16,1],w:S},{name:[4,16,2],w:S,Xe:!0},{name:[11,11,1],w:S},{name:[11,11,0],w:S,Xe:!0},{name:[11,3],w:h,nT:!0,hM:[b,Q,r.n8]},{name:[11,10],w:h,nT:!0,hM:[b,Q,r.Kj]},{name:[2,4],w:h,sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],w:function(j){return{w:j!=null&&j.P!=null}}},{name:[11,12,0],w:h,hM:[Q,r.ul],nT:!0},{name:[11,12,2],w:h,Xe:!0},{name:[2,12],w:S,nT:!0,Xe:!0},{name:"Variables",w:h,nT:!0}],$H:[{sub:[{Y:e.E.s,b:m.$t,J:{d:"fcmy",h:0}},{Y:e.E.s,b:m.$t,J:{d:"fcmy",h:1}},{Y:e.E.s,b:m.$t,J:{d:"fvec",h:0}},{Y:e.E.s,b:m.$t,J:{d:"fvec",h:1}}]},{sub:function(){var j=[];
for(var U in bu.names){j.push({Y:e.E.s,b:m.G9,J:{d:"start",cM:U}});if(U=="selc"){j.push({Y:e.E.s,b:m.tQ,J:{d:"start",lv:"adaptCorrect"}});
j.push({Y:e.E.Kk,J:{r7:"desaturate"}});j.push({Y:e.E.s,b:m.G9,J:{d:"start",cM:"matc"}})}}return j}()},{Y:e.E.Kk,J:{r7:"levels",Hf:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{Y:e.E.Kk,J:{r7:"levels",Hf:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{Y:e.E.Kk,J:{r7:"levels",Hf:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{Y:e.E.L,J:{d:e.c.Re,wv:"rcolors"}},{Y:e.E.L,J:{d:e.c.Re,wv:"vbitmap"}},{Y:e.E.L,J:{d:e.c.Re,wv:"csize"}},{Y:e.E.L,J:{d:e.c.Re,wv:"isize"}},{sub:[{Y:e.E.Kk,J:m.EA.rs(!0,90)},{Y:e.E.Kk,J:m.EA.rs(!0,-90)},{Y:e.E.Kk,J:m.EA.rs(!0,-180)},{Y:e.E.Kk,J:m.EA.rs(!1,"Hrzn")},{Y:e.E.Kk,J:m.EA.rs(!1,"Vrtc")}]},{Y:e.E.s,b:m.nk,J:{d:"cropbysel",axY:0}},{Y:e.E.L,J:{d:e.c.Re,wv:"trim"}},{Y:e.E.Kk,J:{r7:"revealAll",Hf:{classID:"RvlA"}}},{Y:e.E.s,b:m.G9,J:{d:"start",cM:"aply"}},{Y:e.E.L,J:{d:e.c.Re,wv:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],w:h,sub:[{name:[0,3],hM:[W,Q,r.H9]},{name:[0,4]},{name:[1,16,0],nT:!0},{name:[1,16,3],nT:!0,Xe:!0},{name:[6,49,0],hM:[Q,r.wD]},{name:[6,49,1],hM:[W,Q,r.wD],w:function(j){return{w:j!=null&&j.P!=null&&j.P2(!1)}}}]},{name:[6,0],w:X,hM:[Q,r.wD]},{name:[11,4],w:X},{name:[5,4],w:X,Xe:!0},{name:[11,6],w:X,Xe:!0,sub:fQ.A7(!0)},{name:[6,48,1],w:h,sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],w:h,Xe:!0,sub:fQ.av$()},{name:[6,2],w:h,sub:[{name:[6,4],w:function(j){return{w:j!=null&&j.I.length!=0&&j.B[j.I[0]].SS()==null}}},{name:[6,5,0],w:function(j){return{w:j!=null&&j.I.length!=0&&j.B[j.I[0]].SS()==null}}},{name:[6,5,1],w:function(j){return{w:j!=null&&j.I.length!=0&&j.B[j.I[0]].SS()==null&&j.P!=null}}},{name:[6,5,2],w:function(j){return{w:j!=null&&j.I.length!=0&&j.B[j.I[0]].SS()==null&&j.P!=null}}},{name:[6,5,3],w:function(j){return{w:j!=null&&j.I.length!=0&&j.B[j.I[0]].SS()==null}},Xe:!0},{name:[5,4],w:function(j){return{w:j!=null&&j.I.length!=0&&j.B[j.I[0]].SS()!=null}}},{name:[5,8],w:function(j){return{w:j!=null&&j.I.length!=0&&j.B[j.I[0]].SS()!=null&&j.P2(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],w:function(j){return{w:j!=null&&j.I.length!=0&&j.B[j.I[0]].SS()!=null}}}]},{name:[6,3],w:h,sub:[{name:[6,4],w:function(j){return{w:j!=null&&j.I.length!=0&&j.B[j.I[0]].add.vmsk==null}}},{name:[6,5,0],w:function(j){return{w:j!=null&&j.I.length!=0&&j.B[j.I[0]].add.vmsk==null}}},{name:"Current Path",w:function(j){return{w:j!=null&&j.I.length!=0&&j.B[j.I[0]].add.vmsk==null}},Xe:!0},{name:[5,4],w:function(j){return{w:j!=null&&j.I.length!=0&&j.B[j.I[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],w:function(j){return{w:j!=null&&j.I.length!=0&&j.B[j.I[0]].add.vmsk!=null}}}]},fa.at8(!0),{name:[6,7,1],w:h,Xe:!0,sub:[{name:[6,7,0],Xe:!0},{name:"Open (Edit Contents)",w:D,nT:!0},{name:"Replace Contents",w:D,nT:!0},{name:"Export Contents",w:D,nT:!0,Xe:!0},{name:[6,36,4],w:D,sub:a},{name:"Turn into JPG",w:D}]},{name:[6,8],w:fa.a2P},{name:[6,34],Xe:!0,w:function(j){if(j==null||j.I.length==0)return{w:!1};
var U=j.B[j.I[0]];return{w:U.add.lmfx!=null&&!U.wf()}}},{name:[6,9],w:h,Xe:!0,hM:[Q,r.L4]},{name:[6,55],w:h,Xe:!0,sub:[{name:[6,56,0],hM:[W,Q,r.v6]},{name:[6,56,1],hM:[Q,r.v6]},{name:[6,56,2],hM:[Q,r.NR]},{name:[6,56,3],hM:[W,Q,r.NR]}]},{name:[6,58],w:h,Xe:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],hM:[Q,r.E],w:function(j){var U=j==null?0:j.I.length;
return{w:U!=0&&(U!=1||j.I[0]!=0),B5:aA.get(U>1||U==1&&j.B[j.I[0]].wf()?[6,12,0]:[6,10])}}},{name:[6,12,1],w:h},{name:"Defringe",w:h}],$H:[{sub:[{Y:e.E.s,b:m.M0,J:{d:$.Vl}},{Y:e.E.s,b:m.M0,J:{d:$.b$}},{Y:e.E.L,J:{d:e.c.Re,wv:"newartb",BT:0}},{Y:e.E.L,J:{d:e.c.Re,wv:"newartb",BT:1}},{Y:e.E.Kk,J:{r7:"copyToLayer"}},{Y:e.E.Kk,J:{r7:"cutToLayer"}}]},{Y:e.E.s,b:m.M0,J:{d:$.fE}},{Y:e.E.L,J:{d:e.c.Re,wv:"duplinto"}},{Y:e.E.s,b:m.M0,J:{d:$.YL}},{sub:fQ.rc(!0)},{sub:[{Y:e.E.s,b:m.aK,J:{d:"newfill",tv:0}},{Y:e.E.Kk,J:m.QQ.Sj(1)},{Y:e.E.Kk,J:m.QQ.Sj(2)}]},{sub:fQ.gI()},{sub:[{Y:e.E.s,b:m.M0,J:{d:$.HT,BT:"RvlA"}},{Y:e.E.s,b:m.M0,J:{d:$.HT,BT:"HdAl"}},{Y:e.E.s,b:m.M0,J:{d:$.HT,BT:"RvlS"}},{Y:e.E.s,b:m.M0,J:{d:$.HT,BT:"HdSl"}},{Y:e.E.s,b:m.M0,J:{d:$.HT,BT:"Trns"}},{Y:e.E.s,b:m.M0,J:{d:$.bQ}},{Y:e.E.s,b:m.M0,J:{d:$.sR}},{Y:e.E.s,b:m.M0,J:{d:$.uK}}]},{sub:[{Y:e.E.s,b:m.M0,J:{d:$.sj,av4:!1}},{Y:e.E.s,b:m.M0,J:{d:$.sj,av4:!0}},{Y:e.E.s,b:m.M0,J:{d:$.sj,acn:!0}},{Y:e.E.s,b:m.M0,J:{d:$.sD}},{Y:e.E.s,b:m.M0,J:{d:$.TQ}}]},{Y:e.E.s,b:m.M0,J:{d:$.$u}},{sub:[{Y:e.E.Kk,J:{r7:"newPlacedLayer"}},{Y:e.E.Kk,J:{r7:"placedLayerEditContents",Hf:{classID:"placedLayerEditContents"}}},{Y:e.E.Kk,J:{r7:"placedLayerReplaceContents",Hf:{classID:"placedLayerReplaceContents"}}},{Y:e.E.Kk,J:{r7:"placedLayerExportContents",Hf:{classID:"placedLayerExportContents"}}},{sub:K},{Y:e.E.s,b:m.M0,J:{d:$.a3R}}]},{Y:e.E.Kk,J:{r7:"rasterizeLayer",Hf:{classID:"rasterizeLayer",null:cO.RG("Lyr",!0)}}},{Y:e.E.s,b:m.M0,J:{d:$.ej}},{Y:e.E.s,b:m.M0,J:{d:$.bm}},{sub:[{Y:e.E.s,b:m.M0,J:{d:$.e9,CZ:0}},{Y:e.E.s,b:m.M0,J:{d:$.e9,CZ:1}},{Y:e.E.s,b:m.M0,J:{d:$.e9,CZ:2}},{Y:e.E.s,b:m.M0,J:{d:$.e9,CZ:3}}]},{sub:[{Y:e.E.s,b:m.M0,J:{d:$.oO,CZ:"makeframes"}},{Y:e.E.s,b:m.M0,J:{d:$.oO,CZ:"unmakeframes"}},{Y:e.E.s,b:m.M0,J:{d:$.oO,CZ:"merge"}}]},{Y:e.E.Kk,J:{r7:"mergeLayersNew",Hf:{__name:"Merge Layers",classID:"Mrg2"}}},{Y:e.E.Kk,J:{r7:"flattenImage"}},{Y:e.E.s,b:m.tQ,J:{d:"start",lv:"defr"}}]},gc.axq(!1),function(){var j={name:[0,6],items:[{name:[24,18,4],hM:[b,Q,r.oS],w:h,Xe:!0}],$H:[{Y:e.E.s,b:m.tQ,J:{d:"applylast"}}]};
for(var n=0;n<jv.bD.length;n++){var U=jv.bD[n];if(U.P0!=null){j.items.push({name:jv.names[U.P0],nT:!0,Xe:U.Xe,w:h});
j.$H.push({Y:e.E.s,b:m.tQ,J:{d:"start",lv:U.P0}});continue}var I={name:U.VZ,sub:[],w:h};j.items.push(I);
var f={sub:[]};j.$H.push(f);for(var g=0;g<U.dZ.length;g++){var H={name:jv.names[U.dZ[g]],nT:jv.fp(U.dZ[g])!=null};
I.sub.push(H);var u={Y:e.E.s,b:m.tQ,J:{d:"start",lv:U.dZ[g]}};f.sub.push(u)}}return j}(),{name:[0,7],items:[{name:[8,0],w:h,hM:[Q,r.Ex]},{name:[8,1],w:h,hM:[Q,r.Ek]},{name:[20,3],w:h,hM:[Q,r.DC]},{name:[20,2],w:h,hM:[Q,r.Zs]},{name:"Pattern Preview",w:function(j,U){return{w:j!=null,TC:j!=null&&j.c7}},Xe:!0},{name:"Screen Mode",Xe:!0,sub:[{name:"Fullscreen",w:function(j,U){return{TC:document.fullscreenElement!=null}},Xe:!0},{name:"Standard",w:function(j,U){return{TC:U.Y5==0}}},{name:"Menu Bar and Canvas",w:function(j,U){return{TC:U.Y5==1}}}]},{name:[8,13],hM:[Q,r.fJ],w:function(j,U){return{TC:U.EQ}}},{name:[8,12],Xe:!0,sub:[{name:[17,2],w:function(j,U){return{w:U.EQ,TC:U.fl.lz}}},{name:[8,9],w:function(j,U){return{w:U.EQ,TC:U.fl.ZS}}},{name:[8,2],w:function(j,U){return{w:U.EQ,TC:U.fl.RE}},hM:[Q,r.za]},{name:[8,4],w:function(j,U){return{w:U.EQ,TC:U.fl.Zi}},hM:[Q,r.xW]},{name:[8,8],w:function(j,U){return{w:U.EQ,TC:U.fl.UX}}},{name:[8,11,0],w:function(j,U){return{w:U.EQ,TC:U.fl.Pq}}}]},{name:[8,3],w:function(j,U){return{TC:U.k2}},hM:[Q,r.Ct],Xe:!0},{name:[8,5],w:function(j,U){return{TC:U.DB}}},{name:[8,6],Xe:!0,sub:[{name:[8,2],w:function(j,U){return{TC:U.cb[0]}}},{name:[8,4],w:function(j,U){return{TC:U.cb[1]}}},{name:[9,1],w:function(j,U){return{TC:U.cb[2]}}},{name:[8,11,0],w:function(j,U){return{TC:U.cb[3]}}},{name:[8,7],w:function(j,U){return{TC:U.cb[4]}}}]},{name:[11,15,2],w:function(j,U){return{w:j!=null,TC:j!=null&&j.Wy}}},{name:[11,15,0],w:h},{name:[11,14],w:h,nT:!0},{name:[11,15,1],w:function(j,U){return{w:j!=null&&j.I.length!=0}},Xe:!0},{name:[8,11,2],w:function(j,U){return{w:j!=null&&j.Pq.length!=0}}}],$H:[{Y:e.E.s,b:m.W9,J:{d:"zoom",H3:!0}},{Y:e.E.s,b:m.W9,J:{d:"zoom",H3:!1}},{Y:e.E.s,b:m.W9,J:{d:"adapt",h:"fitscr"}},{Y:e.E.s,b:m.W9,J:{d:"adapt",h:"pixel"}},{Y:e.E.s,b:m.$t,J:{d:"pview"}},{sub:[{Y:e.E.L,J:{d:e.c.D7,jF:!0}},{Y:e.E.L,J:{d:e.c.D7,h:0}},{Y:e.E.L,J:{d:e.c.D7,h:1}},{Y:e.E.L,J:{d:e.c.D7,h:2}}]},{Y:e.E.L,J:{d:e.c.bJ,Lb:d4.JY}},{sub:[{Y:e.E.L,J:{d:e.c.bJ,Lb:d4.x5}},{Y:e.E.L,J:{d:e.c.bJ,Lb:d4.ij}},{Y:e.E.L,J:{d:e.c.bJ,Lb:d4.LQ}},{Y:e.E.L,J:{d:e.c.bJ,Lb:d4.vb}},{Y:e.E.L,J:{d:e.c.bJ,Lb:d4.ta}},{Y:e.E.L,J:{d:e.c.bJ,Lb:d4.oW}}]},{Y:e.E.L,J:{d:e.c.bJ,Lb:d4.aM}},{Y:e.E.L,J:{d:e.c.bJ,Lb:d4.atd}},{sub:[{Y:e.E.L,J:{d:e.c.bJ,Lb:d4.r0,xp:0}},{Y:e.E.L,J:{d:e.c.bJ,Lb:d4.r0,xp:1}},{Y:e.E.L,J:{d:e.c.bJ,Lb:d4.r0,xp:2}},{Y:e.E.L,J:{d:e.c.bJ,Lb:d4.r0,xp:3}},{Y:e.E.L,J:{d:e.c.bJ,Lb:d4.r0,xp:4}}]},{Y:e.E.s,b:m.$t,J:{d:"lockguides"}},{Y:e.E.s,b:m.$t,J:{d:"gids",XF:[[],[]]}},{Y:e.E.L,J:{d:e.c.Re,wv:"addguides"}},{Y:e.E.s,b:m.$t,J:{d:"gidsFromLayer"}},{Y:e.E.s,b:m.ds,J:{d:"deleteAll"}}]},function(){var j={name:[0,8],items:[{name:[0,14],Xe:!0,sub:[]},{name:"Plugins",Xe:!0}],$H:[{sub:[]},{Y:e.E.L,J:{d:e.c.Re,wv:"res1"}}]};
for(var n=0;n<cm.YW.length;n++){var U=cm.YW[n],I=function(){var f=U.MY.L9;return function(g,H){return{TC:H.VF.indexOf(parseInt(f))!=-1}}}();
(U.qB?j.items[0].sub:j.items).push({name:U.MY.name,w:I});(U.qB?j.$H[0].sub:j.$H).push({Y:e.E.L,J:{d:e.c.dw,wv:U.MY.L9}})}return j}(),function(){var j={name:[0,14],items:[],$H:[]},U={name:[0,9],sub:[]};
j.items.push(U);var I={sub:[]};j.$H.push(I);var f=aA.ayG();for(var n=0;n<f.length;n++){var g=f[n],H=g.code,u=aA.aoK(H);
U.sub.push({name:g.name,hM:H,w:function(s,_){return{TC:this.hM==aA.iR()}}});I.sub.push({Y:e.E.L,J:{d:e.c.bJ,Lb:d4.$V,lang:u}})}U.sub.push({name:[0,12]});
I.sub.push({Y:e.E.L,J:{d:e.c.X9,link:"https://www.photopea.com/translate/"}});var U={name:[0,15],sub:[]};
j.items.push(U);var I={sub:[]};j.$H.push(I);for(var n=0;n<b8.q6.length;n++){U.sub.push({name:b8.q6[n].name,w:function(s,_){return{TC:this.name==b8.q6[_.RF].name}}});
I.sub.push({Y:e.E.L,J:{d:e.c.bJ,Lb:d4.cp,RF:n}})}j.items.push({name:[0,17,6],w:function(s,_){return{w:_.nf!=null}}});
j.$H.push({Y:e.E.L,J:{d:e.c.a3m}});j.items.push({name:[11,13]});j.$H.push({Y:e.E.L,J:{d:e.c.Re,wv:"shortcuts"}});
j.items.push({name:[0,16],w:function(s){return{TC:gn.Kz,w:gn.ca}},Xe:!0});j.$H.push({Y:e.E.L,J:{d:e.c.aa3}});
j.items.push({name:"",w:function(s,_){return _.l1?{B5:"About Photopea",w:!0}:{B5:"",w:!1}}});j.$H.push({Y:e.E.L,J:{d:e.c.Re,wv:"aboutpp"}});
return j}()]}();function aZ(){eg.call(this);this.m=N.S("div","");this.Hl=0;this.OG=0;this.Ha=null;this.QJ=N.S("div","");
this.QJ.setAttribute("style","width:200em; height:100em; position:absolute;");this.zn=[];this.Yk=[];
this.RM={}}aZ.prototype=new eg;aZ.prototype.CX=function(r){var Q=Date.now(),W=[];if(r=="-")W=[new ey,new aK,new cI("pdfpres"),new g8,new hc,new hb,new ee,new gM,new d8,new kj,new bP,new dT,new f6,new hg,new er,new iQ,new fQ,new d2,new aE,new bC,new dO,new aR,new cH,new ci,new eK,new ay,new hn,new eU(!1),new eU(!0),new hU(0),new hU(1),new dt,new eR,new hY,new g$,new i4,new bf,new eL(0),new eL(1),new eL(2),new eL(3),new eL(4),new eL(5),new eL(6),new eL(7),new eL(8),new cR,new j3,new g7,new jD,new ig,new jg,new h1,new bi("border",[7,9],"px"),new bi("smoothness",[19,3,0],"px"),new bi("expand",[7,4],"px"),new bi("contract",[7,5],"px"),new bi("feather",[7,6],"px"),new fu(0,"namewindow",[12,48]),new fu(2,"billto","Bill To"),new fu(1,"cornerradius",[12,94,0],"px",!0,!0),new fu(1,"scaleeffects","Scale Effects","%",!0),new fu(1,"doczoom","Zoom","%",!0),new fu(1,"setFPS","Set FPS","fps",!1)];
else W=[new bO(r.slice(4))];this.an$(W);this.RM[r]=!0};aZ.prototype.an$=function(r){var Q=this.Ha;for(var n=0;
n<r.length;n++){var W=r[n];W.parent=this;this.Yk.push(W);this.CQ(W);W.r();if(Q)W.VJ(Q,d4.KF);W.Z(e.E.RR,this.NL,this);
N.Z0(W)}};aZ.prototype.du=function(r,Q){this.Hl=r;this.OG=Q;for(var n=0;n<this.Yk.length;n++)this.CQ(this.Yk[n])};
aZ.prototype.r=function(){for(var n=0;n<this.Yk.length;n++)this.Yk[n].r()};aZ.prototype.A4=function(){return this.zn.length==0?null:this.zn[this.zn.length-1]};
aZ.prototype.ND=function(){for(var n=0;n<this.zn.length;n++)if(this.zn[n].ND())return!0;return!1};aZ.prototype.ak5=function(r,Q,W,b,X){var D=r.startsWith("afw_"),h=null;
if(!D&&!this.RM["-"])this.CX("-");if(D&&!this.RM[r])this.CX(r);if(typeof r=="object"){h=r;if(!h.a1Z(e.E.RR,this.NL))h.Z(e.E.RR,this.NL,this);
h.parent=this}else for(var n=0;n<this.Yk.length;n++)if(this.Yk[n].id==r)h=this.Yk[n];if(this.ND()&&h.ND()){alert("Finish the current action first");
return}if(!h.q2(Q))return;if(this.zn.indexOf(h)!=-1){if(r=="colorpicker")h.ba(Q,W,b,X);return}var S=this.zn.length-1;
if(S>=0)N.lB(this.zn[S].m,"wdisabled");this.m.appendChild(h.m);this.zn.push(h);this.CQ(h);N._R(h);h.ba(Q,W,b,X)};
aZ.prototype.CQ=function(r){var Q=this.Hl,W=this.OG,b=r.cY(Q,W),X;if(b!=null){X=b}else{b=new cp(0,0);
X=r.ae1();if(X==null){var D=this.zn.indexOf(r)+1;if(Q<450||W<450)X=new cp(0,0);else X=new cp(D*150,D*150)}}r.m.style.left=X.x+"px";
r.m.style.top=this.m.offsetTop+X.y+"px";r.du(this.Hl-b.x*2,this.OG-b.y*2-34)};aZ.prototype.VJ=function(r,Q){this.Ha=r;
for(var n=0;n<this.Yk.length;n++)this.Yk[n].VJ(r,Q)};aZ.prototype.NL=function(r){var Q=this.zn.pop();
N.Z0(Q,this.m);var W=this.zn.length-1;if(W>=0)N.Q5(this.zn[W].m,"wdisabled");if(this.QJ.parentNode==this.m)this.m.removeChild(this.QJ)};
window.onload=function(){document.body.appendChild(new jw().m)}}())